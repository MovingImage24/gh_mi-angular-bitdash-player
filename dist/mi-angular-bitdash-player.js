/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 67);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var arrayutils_1 = __webpack_require__(11);
/**
 * A container component that can contain a collection of child components.
 * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
 * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
 * initializes and configures them automatically.
 *
 * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
 * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
 * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
 *
 * DOM example:
 * <code>
 *     <div class='ui-container'>
 *         <div class='container-wrapper'>
 *             ... child components ...
 *         </div>
 *     </div>
 * </code>
 */
var Container = /** @class */ (function (_super) {
    __extends(Container, _super);
    function Container(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-container',
            components: [],
        }, _this.config);
        _this.componentsToAdd = [];
        _this.componentsToRemove = [];
        return _this;
    }
    /**
     * Adds a child component to the container.
     * @param component the component to add
     */
    Container.prototype.addComponent = function (component) {
        this.config.components.push(component);
        this.componentsToAdd.push(component);
    };
    /**
     * Removes a child component from the container.
     * @param component the component to remove
     * @returns {boolean} true if the component has been removed, false if it is not contained in this container
     */
    Container.prototype.removeComponent = function (component) {
        if (arrayutils_1.ArrayUtils.remove(this.config.components, component) != null) {
            this.componentsToRemove.push(component);
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Gets an array of all child components in this container.
     * @returns {Component<ComponentConfig>[]}
     */
    Container.prototype.getComponents = function () {
        return this.config.components;
    };
    /**
     * Removes all child components from the container.
     */
    Container.prototype.removeComponents = function () {
        for (var _i = 0, _a = this.getComponents().slice(); _i < _a.length; _i++) {
            var component = _a[_i];
            this.removeComponent(component);
        }
    };
    /**
     * Updates the DOM of the container with the current components.
     */
    Container.prototype.updateComponents = function () {
        /* We cannot just clear the container to remove all elements and then re-add those that should stay, because
         * IE looses the innerHTML of unattached elements, leading to empty elements within the container (e.g. missing
         * subtitle text in SubtitleLabel).
         * Instead, we keep a list of elements to add and remove, leaving remaining elements alone. By keeping them in
         * the DOM, their content gets preserved in all browsers.
         */
        var component;
        while (component = this.componentsToRemove.shift()) {
            component.getDomElement().remove();
        }
        while (component = this.componentsToAdd.shift()) {
            this.innerContainerElement.append(component.getDomElement());
        }
    };
    Container.prototype.toDomElement = function () {
        // Create the container element (the outer <div>)
        var containerElement = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        // Create the inner container element (the inner <div>) that will contain the components
        var innerContainer = new dom_1.DOM(this.config.tag, {
            'class': this.prefixCss('container-wrapper'),
        });
        this.innerContainerElement = innerContainer;
        for (var _i = 0, _a = this.config.components; _i < _a.length; _i++) {
            var initialComponent = _a[_i];
            this.componentsToAdd.push(initialComponent);
        }
        this.updateComponents();
        containerElement.append(innerContainer);
        return containerElement;
    };
    return Container;
}(component_1.Component));
exports.Container = Container;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
 *
 * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
 * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
 * to jQuery, setters usually affect all elements, while getters operate on only the first element.
 * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
 * calls.
 *
 * Built with the help of: http://youmightnotneedjquery.com/
 */
var DOM = /** @class */ (function () {
    function DOM(something, attributes) {
        this.document = document; // Set the global document to the local document field
        if (something instanceof Array) {
            if (something.length > 0 && something[0] instanceof HTMLElement) {
                var elements = something;
                this.elements = elements;
            }
        }
        else if (something instanceof HTMLElement) {
            var element = something;
            this.elements = [element];
        }
        else if (something instanceof Document) {
            // When a document is passed in, we do not do anything with it, but by setting this.elements to null
            // we give the event handling method a means to detect if the events should be registered on the document
            // instead of elements.
            this.elements = null;
        }
        else if (attributes) {
            var tagName = something;
            var element = document.createElement(tagName);
            for (var attributeName in attributes) {
                var attributeValue = attributes[attributeName];
                element.setAttribute(attributeName, attributeValue);
            }
            this.elements = [element];
        }
        else {
            var selector = something;
            this.elements = this.findChildElements(selector);
        }
    }
    Object.defineProperty(DOM.prototype, "length", {
        /**
         * Gets the number of elements that this DOM instance currently holds.
         * @returns {number} the number of elements
         */
        get: function () {
            return this.elements ? this.elements.length : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets the HTML elements that this DOM instance currently holds.
     * @returns {HTMLElement[]} the raw HTML elements
     * @deprecated use {@link #get()} instead
     */
    DOM.prototype.getElements = function () {
        return this.get();
    };
    DOM.prototype.get = function (index) {
        if (index === undefined) {
            return this.elements;
        }
        else if (!this.elements || index >= this.elements.length || index < -this.elements.length) {
            return undefined;
        }
        else if (index < 0) {
            return this.elements[this.elements.length - index];
        }
        else {
            return this.elements[index];
        }
    };
    /**
     * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
     * @param handler the handler to execute an operation on an element
     */
    DOM.prototype.forEach = function (handler) {
        if (!this.elements) {
            return;
        }
        this.elements.forEach(function (element) {
            handler(element);
        });
    };
    DOM.prototype.findChildElementsOfElement = function (element, selector) {
        var childElements = element.querySelectorAll(selector);
        // Convert NodeList to Array
        // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
        return [].slice.call(childElements);
    };
    DOM.prototype.findChildElements = function (selector) {
        var _this = this;
        var allChildElements = [];
        if (this.elements) {
            this.forEach(function (element) {
                allChildElements = allChildElements.concat(_this.findChildElementsOfElement(element, selector));
            });
        }
        else {
            return this.findChildElementsOfElement(document, selector);
        }
        return allChildElements;
    };
    /**
     * Finds all child elements of all elements matching the supplied selector.
     * @param selector the selector to match with child elements
     * @returns {DOM} a new DOM instance representing all matched children
     */
    DOM.prototype.find = function (selector) {
        var allChildElements = this.findChildElements(selector);
        return new DOM(allChildElements);
    };
    DOM.prototype.html = function (content) {
        if (arguments.length > 0) {
            return this.setHtml(content);
        }
        else {
            return this.getHtml();
        }
    };
    DOM.prototype.getHtml = function () {
        return this.elements[0].innerHTML;
    };
    DOM.prototype.setHtml = function (content) {
        if (content === undefined || content == null) {
            // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
            content = '';
        }
        this.forEach(function (element) {
            element.innerHTML = content;
        });
        return this;
    };
    /**
     * Clears the inner HTML of all elements (deletes all children).
     * @returns {DOM}
     */
    DOM.prototype.empty = function () {
        this.forEach(function (element) {
            element.innerHTML = '';
        });
        return this;
    };
    /**
     * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
     * input field.
     * @returns {string} the value of a form element
     */
    DOM.prototype.val = function () {
        var element = this.elements[0];
        if (element instanceof HTMLSelectElement || element instanceof HTMLInputElement) {
            return element.value;
        }
        else {
            // TODO add support for missing form elements
            throw new Error("val() not supported for " + typeof element);
        }
    };
    DOM.prototype.attr = function (attribute, value) {
        if (arguments.length > 1) {
            return this.setAttr(attribute, value);
        }
        else {
            return this.getAttr(attribute);
        }
    };
    DOM.prototype.getAttr = function (attribute) {
        return this.elements[0].getAttribute(attribute);
    };
    DOM.prototype.setAttr = function (attribute, value) {
        this.forEach(function (element) {
            element.setAttribute(attribute, value);
        });
        return this;
    };
    DOM.prototype.data = function (dataAttribute, value) {
        if (arguments.length > 1) {
            return this.setData(dataAttribute, value);
        }
        else {
            return this.getData(dataAttribute);
        }
    };
    DOM.prototype.getData = function (dataAttribute) {
        return this.elements[0].getAttribute('data-' + dataAttribute);
    };
    DOM.prototype.setData = function (dataAttribute, value) {
        this.forEach(function (element) {
            element.setAttribute('data-' + dataAttribute, value);
        });
        return this;
    };
    /**
     * Appends one or more DOM elements as children to all elements.
     * @param childElements the chrild elements to append
     * @returns {DOM}
     */
    DOM.prototype.append = function () {
        var childElements = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childElements[_i] = arguments[_i];
        }
        this.forEach(function (element) {
            childElements.forEach(function (childElement) {
                childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                });
            });
        });
        return this;
    };
    /**
     * Removes all elements from the DOM.
     */
    DOM.prototype.remove = function () {
        this.forEach(function (element) {
            var parent = element.parentNode;
            if (parent) {
                parent.removeChild(element);
            }
        });
    };
    /**
     * Returns the offset of the first element from the document's top left corner.
     * @returns {Offset}
     */
    DOM.prototype.offset = function () {
        var element = this.elements[0];
        var elementRect = element.getBoundingClientRect();
        var htmlRect = document.body.parentElement.getBoundingClientRect();
        // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
        // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
        // element.getBoundingClientRect() results:
        //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
        //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
        // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
        // from the document's upper left origin when pinch zoom is used.
        // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
        // subtract it from the element's rect, which always results in the offset from the document origin.
        // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
        // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
        // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
        return {
            top: elementRect.top - htmlRect.top,
            left: elementRect.left - htmlRect.left,
        };
    };
    /**
     * Returns the width of the first element.
     * @returns {number} the width of the first element
     */
    DOM.prototype.width = function () {
        // TODO check if this is the same as jQuery's width() (probably not)
        return this.elements[0].offsetWidth;
    };
    /**
     * Returns the height of the first element.
     * @returns {number} the height of the first element
     */
    DOM.prototype.height = function () {
        // TODO check if this is the same as jQuery's height() (probably not)
        return this.elements[0].offsetHeight;
    };
    /**
     * Attaches an event handler to one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to listen to
     * @param eventHandler the event handler to call when the event fires
     * @returns {DOM}
     */
    DOM.prototype.on = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.addEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Removes an event handler from one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to remove the handler from
     * @param eventHandler the event handler to remove
     * @returns {DOM}
     */
    DOM.prototype.off = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.removeEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Adds the specified class(es) to all elements.
     * @param className the class(es) to add, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.addClass = function (className) {
        this.forEach(function (element) {
            var _a;
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).add.apply(_a, classNames);
                }
            }
            else {
                element.className += ' ' + className;
            }
        });
        return this;
    };
    /**
     * Removed the specified class(es) from all elements.
     * @param className the class(es) to remove, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.removeClass = function (className) {
        this.forEach(function (element) {
            var _a;
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).remove.apply(_a, classNames);
                }
            }
            else {
                element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
            }
        });
        return this;
    };
    /**
     * Checks if any of the elements has the specified class.
     * @param className the class name to check
     * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
     */
    DOM.prototype.hasClass = function (className) {
        var hasClass = false;
        this.forEach(function (element) {
            if (element.classList) {
                if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                }
            }
            else {
                if (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className)) {
                    // See comment above
                    hasClass = true;
                }
            }
        });
        return hasClass;
    };
    DOM.prototype.css = function (propertyNameOrCollection, value) {
        if (typeof propertyNameOrCollection === 'string') {
            var propertyName = propertyNameOrCollection;
            if (arguments.length === 2) {
                return this.setCss(propertyName, value);
            }
            else {
                return this.getCss(propertyName);
            }
        }
        else {
            var propertyValueCollection = propertyNameOrCollection;
            return this.setCssCollection(propertyValueCollection);
        }
    };
    DOM.prototype.getCss = function (propertyName) {
        return getComputedStyle(this.elements[0])[propertyName];
    };
    DOM.prototype.setCss = function (propertyName, value) {
        this.forEach(function (element) {
            // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
            element.style[propertyName] = value;
        });
        return this;
    };
    DOM.prototype.setCssCollection = function (ruleValueCollection) {
        this.forEach(function (element) {
            // http://stackoverflow.com/a/34490573/370252
            Object.assign(element.style, ruleValueCollection);
        });
        return this;
    };
    return DOM;
}());
exports.DOM = DOM;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var guid_1 = __webpack_require__(74);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * The base class of the UI framework.
 * Each component must extend this class and optionally the config interface.
 */
var Component = /** @class */ (function () {
    /**
     * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
     * superclass and then merge their configuration into the component's configuration.
     * @param config the configuration for the component
     */
    function Component(config) {
        if (config === void 0) { config = {}; }
        /**
         * The list of events that this component offers. These events should always be private and only directly
         * accessed from within the implementing component.
         *
         * Because TypeScript does not support private properties with the same name on different class hierarchy levels
         * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
         * convention for the event list of a component that should be followed by subclasses is the concatenation of the
         * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
         * See {@link #componentEvents} for an example.
         *
         * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
         * have a start event (when the operation starts) in the present tense, and must have an end event (when the
         * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
         * See {@link #componentEvents#onShow} for an example.
         *
         * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
         * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
         * passing a reference to the component as first parameter. Components should always trigger their events with these
         * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
         * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
         * these events without having access to the private event list.
         * See {@link #onShow} for an example.
         *
         * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
         * each event should also be accompanied by a public getter function with the same name as the event's property,
         * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
         * See {@link #onShow} for an example.
         *
         * Full example for an event representing an example action in a example component:
         *
         * <code>
         * // Define an example component class with an example event
         * class ExampleComponent extends Component<ComponentConfig> {
           *
           *     private exampleComponentEvents = {
           *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
           *     }
           *
           *     // constructor and other stuff...
           *
           *     protected onExampleActionEvent() {
           *        this.exampleComponentEvents.onExampleAction.dispatch(this);
           *    }
           *
           *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
           *        return this.exampleComponentEvents.onExampleAction.getEvent();
           *    }
           * }
         *
         * // Create an instance of the component somewhere
         * var exampleComponentInstance = new ExampleComponent();
         *
         * // Subscribe to the example event on the component
         * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
           *     console.log('onExampleAction of ' + sender + ' has fired!');
           * });
         * </code>
         */
        this.componentEvents = {
            onShow: new eventdispatcher_1.EventDispatcher(),
            onHide: new eventdispatcher_1.EventDispatcher(),
            onHoverChanged: new eventdispatcher_1.EventDispatcher(),
        };
        // Create the configuration for this component
        this.config = this.mergeConfig(config, {
            tag: 'div',
            id: 'mi-wbc-id-' + guid_1.Guid.next(),
            cssPrefix: 'mi-wbc',
            cssClass: 'ui-component',
            cssClasses: [],
            hidden: false,
        }, {});
    }
    /**
     * Initializes the component, e.g. by applying config settings.
     * This method must not be called from outside the UI framework.
     *
     * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
     * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
     * this method must be called from the managing component's {@link #initialize} method.
     */
    Component.prototype.initialize = function () {
        this.hidden = this.config.hidden;
        // Hide the component at initialization if it is configured to be hidden
        if (this.isHidden()) {
            this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
            this.hide();
        }
    };
    /**
     * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
     * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
     * UIInstanceManager), and basically everything that makes them interactive.
     * This method is called only once, when the UIManager initializes the UI.
     *
     * Subclasses usually overwrite this method to add their own functionality.
     *
     * @param player the player which this component controls
     * @param uimanager the UIInstanceManager that manages this component
     */
    Component.prototype.configure = function (player, uimanager) {
        var _this = this;
        this.onShow.subscribe(function () {
            uimanager.onComponentShow.dispatch(_this);
        });
        this.onHide.subscribe(function () {
            uimanager.onComponentHide.dispatch(_this);
        });
        // Track the hovered state of the element
        this.getDomElement().on('mouseenter', function () {
            _this.onHoverChangedEvent(true);
        });
        this.getDomElement().on('mouseleave', function () {
            _this.onHoverChangedEvent(false);
        });
    };
    /**
     * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
     * automatically removed during release and do not explicitly need to be removed here.
     * This method is called by the UIManager when it releases the UI.
     *
     * Subclasses that need to release resources should override this method and call super.release().
     */
    Component.prototype.release = function () {
        // Nothing to do here, override where necessary
    };
    /**
     * Generate the DOM element for this component.
     *
     * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
     */
    Component.prototype.toDomElement = function () {
        var element = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        return element;
    };
    /**
     * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
     *
     * Should not be overwritten by subclasses.
     *
     * @returns {DOM}
     */
    Component.prototype.getDomElement = function () {
        if (!this.element) {
            this.element = this.toDomElement();
        }
        return this.element;
    };
    /**
     * Merges a configuration with a default configuration and a base configuration from the superclass.
     *
     * @param config the configuration settings for the components, as usually passed to the constructor
     * @param defaults a default configuration for settings that are not passed with the configuration
     * @param base configuration inherited from a superclass
     * @returns {Config}
     */
    Component.prototype.mergeConfig = function (config, defaults, base) {
        // Extend default config with supplied config
        var merged = Object.assign({}, base, defaults, config);
        // Return the extended config
        return merged;
    };
    /**
     * Helper method that returns a string of all CSS classes of the component.
     *
     * @returns {string}
     */
    Component.prototype.getCssClasses = function () {
        var _this = this;
        // Merge all CSS classes into single array
        var flattenedArray = [this.config.cssClass].concat(this.config.cssClasses);
        // Prefix classes
        flattenedArray = flattenedArray.map(function (css) {
            return _this.prefixCss(css);
        });
        // Join array values into a string
        var flattenedString = flattenedArray.join(' ');
        // Return trimmed string to prevent whitespace at the end from the join operation
        return flattenedString.trim();
    };
    Component.prototype.prefixCss = function (cssClassOrId) {
        return this.config.cssPrefix + '-' + cssClassOrId;
    };
    /**
     * Returns the configuration object of the component.
     * @returns {Config}
     */
    Component.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Hides the component if shown.
     * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
     */
    Component.prototype.hide = function () {
        if (!this.hidden) {
            this.hidden = true;
            this.getDomElement().addClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.onHideEvent();
        }
    };
    /**
     * Shows the component if hidden.
     */
    Component.prototype.show = function () {
        if (this.hidden) {
            this.getDomElement().removeClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.hidden = false;
            this.onShowEvent();
        }
    };
    /**
     * Determines if the component is hidden.
     * @returns {boolean} true if the component is hidden, else false
     */
    Component.prototype.isHidden = function () {
        return this.hidden;
    };
    /**
     * Determines if the component is shown.
     * @returns {boolean} true if the component is visible, else false
     */
    Component.prototype.isShown = function () {
        return !this.isHidden();
    };
    /**
     * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
     */
    Component.prototype.toggleHidden = function () {
        if (this.isHidden()) {
            this.show();
        }
        else {
            this.hide();
        }
    };
    /**
     * Determines if the component is currently hovered.
     * @returns {boolean} true if the component is hovered, else false
     */
    Component.prototype.isHovered = function () {
        return this.hovered;
    };
    /**
     * Fires the onShow event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onShowEvent = function () {
        this.componentEvents.onShow.dispatch(this);
    };
    /**
     * Fires the onHide event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHideEvent = function () {
        this.componentEvents.onHide.dispatch(this);
    };
    /**
     * Fires the onHoverChanged event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHoverChangedEvent = function (hovered) {
        this.hovered = hovered;
        this.componentEvents.onHoverChanged.dispatch(this, { hovered: hovered });
    };
    Object.defineProperty(Component.prototype, "onShow", {
        /**
         * Gets the event that is fired when the component is showing.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onShow.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHide", {
        /**
         * Gets the event that is fired when the component is hiding.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onHide.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHoverChanged", {
        /**
         * Gets the event that is fired when the component's hover-state is changing.
         * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
         */
        get: function () {
            return this.componentEvents.onHoverChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * The classname that is attached to the element when it is in the hidden state.
     * @type {string}
     */
    Component.CLASS_HIDDEN = 'hidden';
    return Component;
}());
exports.Component = Component;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var arrayutils_1 = __webpack_require__(11);
/**
 * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
 */
var EventDispatcher = /** @class */ (function () {
    function EventDispatcher() {
        this.listeners = [];
    }
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribe = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeOnce = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener, true));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeRateLimited = function (listener, rateMs) {
        this.listeners.push(new RateLimitedEventListenerWrapper(listener, rateMs));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.unsubscribe = function (listener) {
        // Iterate through listeners, compare with parameter, and remove if found
        // NOTE: In case we ever remove all matching listeners instead of just the first, we need to reverse-iterate here
        for (var i = 0; i < this.listeners.length; i++) {
            var subscribedListener = this.listeners[i];
            if (subscribedListener.listener === listener) {
                arrayutils_1.ArrayUtils.remove(this.listeners, subscribedListener);
                return true;
            }
        }
        return false;
    };
    /**
     * Removes all listeners from this dispatcher.
     */
    EventDispatcher.prototype.unsubscribeAll = function () {
        this.listeners = [];
    };
    /**
     * Dispatches an event to all subscribed listeners.
     * @param sender the source of the event
     * @param args the arguments for the event
     */
    EventDispatcher.prototype.dispatch = function (sender, args) {
        if (args === void 0) { args = null; }
        var listenersToRemove = [];
        // Call every listener
        // We iterate over a copy of the array of listeners to avoid the case where events are not fired on listeners when
        // listeners are unsubscribed from within the event handlers during a dispatch (because the indices change and
        // listeners are shifted within the array).
        // This means that listener x+1 will still be called if unsubscribed from within the handler of listener x, as well
        // as listener y+1 will not be called when subscribed from within the handler of listener y.
        // Array.slice(0) is the fastest array copy method according to: https://stackoverflow.com/a/21514254/370252
        var listeners = this.listeners.slice(0);
        for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {
            var listener = listeners_1[_i];
            listener.fire(sender, args);
            if (listener.isOnce()) {
                listenersToRemove.push(listener);
            }
        }
        // Remove one-time listener
        for (var _a = 0, listenersToRemove_1 = listenersToRemove; _a < listenersToRemove_1.length; _a++) {
            var listenerToRemove = listenersToRemove_1[_a];
            arrayutils_1.ArrayUtils.remove(this.listeners, listenerToRemove);
        }
    };
    /**
     * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
     * @returns {Event}
     */
    EventDispatcher.prototype.getEvent = function () {
        // For now, just cast the event dispatcher to the event interface. At some point in the future when the
        // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
        return this;
    };
    return EventDispatcher;
}());
exports.EventDispatcher = EventDispatcher;
/**
 * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
 * for internal dispatcher use and it is therefore not exported.
 */
var EventListenerWrapper = /** @class */ (function () {
    function EventListenerWrapper(listener, once) {
        if (once === void 0) { once = false; }
        this.eventListener = listener;
        this.once = once;
    }
    Object.defineProperty(EventListenerWrapper.prototype, "listener", {
        /**
         * Returns the wrapped event listener.
         * @returns {EventListener<Sender, Args>}
         */
        get: function () {
            return this.eventListener;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fires the wrapped event listener with the given arguments.
     * @param sender
     * @param args
     */
    EventListenerWrapper.prototype.fire = function (sender, args) {
        this.eventListener(sender, args);
    };
    /**
     * Checks if this listener is scheduled to be called only once.
     * @returns {boolean} once if true
     */
    EventListenerWrapper.prototype.isOnce = function () {
        return this.once;
    };
    return EventListenerWrapper;
}());
/**
 * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
 */
var RateLimitedEventListenerWrapper = /** @class */ (function (_super) {
    __extends(RateLimitedEventListenerWrapper, _super);
    function RateLimitedEventListenerWrapper(listener, rateMs) {
        var _this = _super.call(this, listener) || this;
        _this.rateMs = rateMs;
        _this.lastFireTime = 0;
        // Wrap the event listener with an event listener that does the rate-limiting
        _this.rateLimitingEventListener = function (sender, args) {
            if (Date.now() - _this.lastFireTime > _this.rateMs) {
                // Only if enough time since the previous call has passed, call the
                // actual event listener and record the current time
                _this.fireSuper(sender, args);
                _this.lastFireTime = Date.now();
            }
        };
        return _this;
    }
    RateLimitedEventListenerWrapper.prototype.fireSuper = function (sender, args) {
        // Fire the actual external event listener
        _super.prototype.fire.call(this, sender, args);
    };
    RateLimitedEventListenerWrapper.prototype.fire = function (sender, args) {
        // Fire the internal rate-limiting listener instead of the external event listener
        this.rateLimitingEventListener(sender, args);
    };
    return RateLimitedEventListenerWrapper;
}(EventListenerWrapper));


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * Base class for all subtitles settings select box
 **/
var SubtitleSettingSelectBox = /** @class */ (function (_super) {
    __extends(SubtitleSettingSelectBox, _super);
    function SubtitleSettingSelectBox(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsManager = config.settingsManager;
        _this.overlay = config.overlay;
        return _this;
    }
    /**
     * Removes a previously set class and adds the passed in class.
     * @param cssClass The new class to replace the previous class with or null to just remove the previous class
     */
    SubtitleSettingSelectBox.prototype.toggleOverlayClass = function (cssClass) {
        // Remove previous class if existing
        if (this.currentCssClass) {
            this.overlay.getDomElement().removeClass(this.currentCssClass);
            this.currentCssClass = null;
        }
        // Add new class if specified. If the new class is null, we don't add anything.
        if (cssClass) {
            this.currentCssClass = this.prefixCss(cssClass);
            this.overlay.getDomElement().addClass(this.currentCssClass);
        }
    };
    return SubtitleSettingSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSettingSelectBox = SubtitleSettingSelectBox;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A button that can be toggled between 'on' and 'off' states.
 */
var ToggleButton = /** @class */ (function (_super) {
    __extends(ToggleButton, _super);
    function ToggleButton(config) {
        var _this = _super.call(this, config) || this;
        _this.toggleButtonEvents = {
            onToggle: new eventdispatcher_1.EventDispatcher(),
            onToggleOn: new eventdispatcher_1.EventDispatcher(),
            onToggleOff: new eventdispatcher_1.EventDispatcher(),
        };
        var defaultConfig = {
            cssClass: 'ui-togglebutton',
            onClass: 'on',
            offClass: 'off',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    ToggleButton.prototype.configure = function (player, uimanager) {
        var config = this.getConfig();
        this.getDomElement().addClass(this.prefixCss(config.offClass));
    };
    /**
     * Toggles the button to the 'on' state.
     */
    ToggleButton.prototype.on = function () {
        if (this.isOff()) {
            var config = this.getConfig();
            this.onState = true;
            this.getDomElement().removeClass(this.prefixCss(config.offClass));
            this.getDomElement().addClass(this.prefixCss(config.onClass));
            this.onToggleEvent();
            this.onToggleOnEvent();
        }
    };
    /**
     * Toggles the button to the 'off' state.
     */
    ToggleButton.prototype.off = function () {
        if (this.isOn()) {
            var config = this.getConfig();
            this.onState = false;
            this.getDomElement().removeClass(this.prefixCss(config.onClass));
            this.getDomElement().addClass(this.prefixCss(config.offClass));
            this.onToggleEvent();
            this.onToggleOffEvent();
        }
    };
    /**
     * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
     */
    ToggleButton.prototype.toggle = function () {
        if (this.isOn()) {
            this.off();
        }
        else {
            this.on();
        }
    };
    /**
     * Checks if the toggle button is in the 'on' state.
     * @returns {boolean} true if button is 'on', false if 'off'
     */
    ToggleButton.prototype.isOn = function () {
        return this.onState;
    };
    /**
     * Checks if the toggle button is in the 'off' state.
     * @returns {boolean} true if button is 'off', false if 'on'
     */
    ToggleButton.prototype.isOff = function () {
        return !this.isOn();
    };
    ToggleButton.prototype.onClickEvent = function () {
        _super.prototype.onClickEvent.call(this);
        // Fire the toggle event together with the click event
        // (they are technically the same, only the semantics are different)
        this.onToggleEvent();
    };
    ToggleButton.prototype.onToggleEvent = function () {
        this.toggleButtonEvents.onToggle.dispatch(this);
    };
    ToggleButton.prototype.onToggleOnEvent = function () {
        this.toggleButtonEvents.onToggleOn.dispatch(this);
    };
    ToggleButton.prototype.onToggleOffEvent = function () {
        this.toggleButtonEvents.onToggleOff.dispatch(this);
    };
    Object.defineProperty(ToggleButton.prototype, "onToggle", {
        /**
         * Gets the event that is fired when the button is toggled.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggle.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
        /**
         * Gets the event that is fired when the button is toggled 'on'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOn.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
        /**
         * Gets the event that is fired when the button is toggled 'off'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOff.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ToggleButton;
}(button_1.Button));
exports.ToggleButton = ToggleButton;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple text label.
 *
 * DOM example:
 * <code>
 *     <span class='ui-label'>...some text...</span>
 * </code>
 */
var Label = /** @class */ (function (_super) {
    __extends(Label, _super);
    function Label(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.labelEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
            onTextChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
        }, _this.config);
        _this.text = _this.config.text;
        return _this;
    }
    Label.prototype.toDomElement = function () {
        var _this = this;
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).html(this.text);
        labelElement.on('click', function () {
            _this.onClickEvent();
        });
        return labelElement;
    };
    /**
     * Set the text on this label.
     * @param text
     */
    Label.prototype.setText = function (text) {
        this.text = text;
        this.getDomElement().html(text);
        this.onTextChangedEvent(text);
    };
    /**
     * Gets the text on this label.
     * @return {string} The text on the label
     */
    Label.prototype.getText = function () {
        return this.text;
    };
    /**
     * Clears the text on this label.
     */
    Label.prototype.clearText = function () {
        this.getDomElement().html('');
        this.onTextChangedEvent(null);
    };
    /**
     * Tests if the label is empty and does not contain any text.
     * @return {boolean} True if the label is empty, else false
     */
    Label.prototype.isEmpty = function () {
        return !this.text;
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onClickEvent = function () {
        this.labelEvents.onClick.dispatch(this);
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onTextChangedEvent = function (text) {
        this.labelEvents.onTextChanged.dispatch(this, text);
    };
    Object.defineProperty(Label.prototype, "onClick", {
        /**
         * Gets the event that is fired when the label is clicked.
         * @returns {Event<Label<LabelConfig>, NoArgs>}
         */
        get: function () {
            return this.labelEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Label.prototype, "onTextChanged", {
        /**
         * Gets the event that is fired when the text on the label is changed.
         * @returns {Event<Label<LabelConfig>, string>}
         */
        get: function () {
            return this.labelEvents.onTextChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Label;
}(component_1.Component));
exports.Label = Label;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple clickable button.
 */
var Button = /** @class */ (function (_super) {
    __extends(Button, _super);
    function Button(config) {
        var _this = _super.call(this, config) || this;
        _this.buttonEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button',
        }, _this.config);
        return _this;
    }
    Button.prototype.toDomElement = function () {
        var _this = this;
        // Create the button element with the text label
        var buttonElement = new dom_1.DOM('button', {
            'type': 'button',
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('label'),
        }).html(this.config.text));
        // Listen for the click event on the button element and trigger the corresponding event on the button component
        buttonElement.on('click', function () {
            _this.onClickEvent();
        });
        return buttonElement;
    };
    /**
     * Sets text on the label of the button.
     * @param text the text to put into the label of the button
     */
    Button.prototype.setText = function (text) {
        this.getDomElement().find('.' + this.prefixCss('label')).html(text);
    };
    Button.prototype.onClickEvent = function () {
        this.buttonEvents.onClick.dispatch(this);
    };
    Object.defineProperty(Button.prototype, "onClick", {
        /**
         * Gets the event that is fired when the button is clicked.
         * @returns {Event<Button<Config>, NoArgs>}
         */
        get: function () {
            return this.buttonEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Button;
}(component_1.Component));
exports.Button = Button;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(34);
var dom_1 = __webpack_require__(1);
/**
 * A simple select box providing the possibility to select a single item out of a list of available items.
 *
 * DOM example:
 * <code>
 *     <select class='ui-selectbox'>
 *         <option value='key'>label</option>
 *         ...
 *     </select>
 * </code>
 */
var SelectBox = /** @class */ (function (_super) {
    __extends(SelectBox, _super);
    function SelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-selectbox',
        }, _this.config);
        return _this;
    }
    SelectBox.prototype.toDomElement = function () {
        var _this = this;
        var selectElement = new dom_1.DOM('select', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.selectElement = selectElement;
        this.updateDomItems();
        selectElement.on('change', function () {
            var value = selectElement.val();
            _this.onItemSelectedEvent(value, false);
        });
        return selectElement;
    };
    SelectBox.prototype.updateDomItems = function (selectedValue) {
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.selectElement.empty();
        // Add updated children
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            var optionElement = new dom_1.DOM('option', {
                'value': item.key,
            }).html(item.label);
            if (item.key === String(selectedValue)) { // convert selectedValue to string to catch 'null'/null case
                optionElement.attr('selected', 'selected');
            }
            this.selectElement.append(optionElement);
        }
    };
    SelectBox.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return SelectBox;
}(listselector_1.ListSelector));
exports.SelectBox = SelectBox;


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO change to internal (not exported) class, how to use in other files?
/**
 * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
 */
var Timeout = /** @class */ (function () {
    /**
     * Creates a new timeout callback handler.
     * @param delay the delay in milliseconds after which the callback should be executed
     * @param callback the callback to execute after the delay time
     * @param repeat if true, call the callback repeatedly in delay intervals
     */
    function Timeout(delay, callback, repeat) {
        if (repeat === void 0) { repeat = false; }
        this.delay = delay;
        this.callback = callback;
        this.repeat = repeat;
        this.timeoutHandle = 0;
    }
    /**
     * Starts the timeout and calls the callback when the timeout delay has passed.
     * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
     */
    Timeout.prototype.start = function () {
        this.reset();
        return this;
    };
    /**
     * Clears the timeout. The callback will not be called if clear is called during the timeout.
     */
    Timeout.prototype.clear = function () {
        this.clearInternal();
    };
    /**
     * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback.
     */
    Timeout.prototype.reset = function () {
        var _this = this;
        var lastScheduleTime = 0;
        var delayAdjust = 0;
        this.clearInternal();
        var internalCallback = function () {
            _this.callback();
            if (_this.repeat) {
                var now = Date.now();
                // The time of one iteration from scheduling to executing the callback (usually a bit longer than the delay
                // time)
                var delta = now - lastScheduleTime;
                // Calculate the delay adjustment for the next schedule to keep a steady delay interval over time
                delayAdjust = _this.delay - delta + delayAdjust;
                lastScheduleTime = now;
                // Schedule next execution by the adjusted delay
                _this.timeoutHandle = setTimeout(internalCallback, _this.delay + delayAdjust);
            }
        };
        lastScheduleTime = Date.now();
        this.timeoutHandle = setTimeout(internalCallback, this.delay);
    };
    Timeout.prototype.clearInternal = function () {
        clearTimeout(this.timeoutHandle);
    };
    return Timeout;
}());
exports.Timeout = Timeout;


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StringUtils;
(function (StringUtils) {
    StringUtils.FORMAT_HHMMSS = 'hh:mm:ss';
    StringUtils.FORMAT_MMSS = 'mm:ss';
    /**
     * Formats a number of seconds into a time string with the pattern hh:mm:ss.
     *
     * @param totalSeconds the total number of seconds to format to string
     * @param format the time format to output (default: hh:mm:ss)
     * @returns {string} the formatted time string
     */
    function secondsToTime(totalSeconds, format) {
        if (format === void 0) { format = StringUtils.FORMAT_HHMMSS; }
        var isNegative = totalSeconds < 0;
        if (isNegative) {
            // If the time is negative, we make it positive for the calculation below
            // (else we'd get all negative numbers) and reattach the negative sign later.
            totalSeconds = -totalSeconds;
        }
        // Split into separate time parts
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor(totalSeconds / 60) - hours * 60;
        var seconds = Math.floor(totalSeconds) % 60;
        return (isNegative ? '-' : '') + format
            .replace('hh', leftPadWithZeros(hours, 2))
            .replace('mm', leftPadWithZeros(minutes, 2))
            .replace('ss', leftPadWithZeros(seconds, 2));
    }
    StringUtils.secondsToTime = secondsToTime;
    /**
     * Converts a number to a string and left-pads it with zeros to the specified length.
     * Example: leftPadWithZeros(123, 5) => '00123'
     *
     * @param num the number to convert to string and pad with zeros
     * @param length the desired length of the padded string
     * @returns {string} the padded number as string
     */
    function leftPadWithZeros(num, length) {
        var text = num + '';
        var padding = '0000000000'.substr(0, length - text.length);
        return padding + text;
    }
    /**
     * Fills out placeholders in an ad message.
     *
     * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}' and
     * '{adDuration[formatString]}', which are replaced by the remaining time until the ad can be skipped, the current
     * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
     * in seconds. If specified, it must be of the following format:
     * - %d - Inserts the time as an integer.
     * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
     * - %f - Inserts the time as a float.
     * - %0Nf - Inserts the time as a float with leading zeroes.
     * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
     * 10.123
     * would be printed as 0010.12).
     * - %hh:mm:ss
     * - %mm:ss
     *
     * @param adMessage an ad message with optional placeholders to fill
     * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
     * @param player the player to get the time data from
     * @returns {string} the ad message with filled placeholders
     */
    function replaceAdMessagePlaceholders(adMessage, skipOffset, player) {
        var adMessagePlaceholderRegex = new RegExp('\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})', 'g');
        return adMessage.replace(adMessagePlaceholderRegex, function (formatString) {
            var time = 0;
            if (formatString.indexOf('remainingTime') > -1) {
                if (skipOffset) {
                    time = Math.ceil(skipOffset - player.getCurrentTime());
                }
                else {
                    time = player.getDuration() - player.getCurrentTime();
                }
            }
            else if (formatString.indexOf('playedTime') > -1) {
                time = player.getCurrentTime();
            }
            else if (formatString.indexOf('adDuration') > -1) {
                time = player.getDuration();
            }
            return formatNumber(time, formatString);
        });
    }
    StringUtils.replaceAdMessagePlaceholders = replaceAdMessagePlaceholders;
    function formatNumber(time, format) {
        var formatStringValidationRegex = /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
        var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
        var decimalPlacesRegex = /\.\d*(?=f)/;
        if (!formatStringValidationRegex.test(format)) {
            // If the format is invalid, we set a default fallback format
            format = '%d';
        }
        // Determine the number of leading zeros
        var leadingZeroes = 0;
        var leadingZeroesMatches = format.match(leadingZeroesRegex);
        if (leadingZeroesMatches) {
            leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
        }
        // Determine the number of decimal places
        var numDecimalPlaces = null;
        var decimalPlacesMatches = format.match(decimalPlacesRegex);
        if (decimalPlacesMatches && !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))) {
            numDecimalPlaces = parseInt(decimalPlacesMatches[0].substring(1));
            if (numDecimalPlaces > 20) {
                numDecimalPlaces = 20;
            }
        }
        // Float format
        if (format.indexOf('f') > -1) {
            var timeString = '';
            if (numDecimalPlaces !== null) {
                // Apply fixed number of decimal places
                timeString = time.toFixed(numDecimalPlaces);
            }
            else {
                timeString = '' + time;
            }
            // Apply leading zeros
            if (timeString.indexOf('.') > -1) {
                return leftPadWithZeros(timeString, timeString.length + (leadingZeroes - timeString.indexOf('.')));
            }
            else {
                return leftPadWithZeros(timeString, leadingZeroes);
            }
        }
        // Time format
        else if (format.indexOf(':') > -1) {
            var totalSeconds = Math.ceil(time);
            // hh:mm:ss format
            if (format.indexOf('hh') > -1) {
                return secondsToTime(totalSeconds);
            }
            // mm:ss format
            else {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;
                return leftPadWithZeros(minutes, 2) + ':' + leftPadWithZeros(seconds, 2);
            }
        }
        // Integer format
        else {
            return leftPadWithZeros(Math.ceil(time), leadingZeroes);
        }
    }
})(StringUtils = exports.StringUtils || (exports.StringUtils = {}));


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayUtils;
(function (ArrayUtils) {
    /**
     * Removes an item from an array.
     * @param array the array that may contain the item to remove
     * @param item the item to remove from the array
     * @returns {any} the removed item or null if it wasn't part of the array
     */
    function remove(array, item) {
        var index = array.indexOf(item);
        if (index > -1) {
            return array.splice(index, 1)[0];
        }
        else {
            return null;
        }
    }
    ArrayUtils.remove = remove;
})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var eventdispatcher_1 = __webpack_require__(3);
var browserutils_1 = __webpack_require__(15);
var PlayerUtils;
(function (PlayerUtils) {
    var PlayerState;
    (function (PlayerState) {
        PlayerState[PlayerState["IDLE"] = 0] = "IDLE";
        PlayerState[PlayerState["PREPARED"] = 1] = "PREPARED";
        PlayerState[PlayerState["PLAYING"] = 2] = "PLAYING";
        PlayerState[PlayerState["PAUSED"] = 3] = "PAUSED";
        PlayerState[PlayerState["FINISHED"] = 4] = "FINISHED";
    })(PlayerState = PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}));
    function isTimeShiftAvailable(player) {
        return player.isLive() && player.getMaxTimeShift() !== 0;
    }
    PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
    function getState(player) {
        if (player.hasEnded()) {
            return PlayerState.FINISHED;
        }
        else if (player.isPlaying()) {
            return PlayerState.PLAYING;
        }
        else if (player.isPaused()) {
            return PlayerState.PAUSED;
        }
        else if (player.isReady()) {
            return PlayerState.PREPARED;
        }
        else {
            return PlayerState.IDLE;
        }
    }
    PlayerUtils.getState = getState;
    var TimeShiftAvailabilityDetector = /** @class */ (function () {
        function TimeShiftAvailabilityDetector(player) {
            var _this = this;
            this.timeShiftAvailabilityChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.timeShiftAvailable = undefined;
            var timeShiftDetector = function () {
                _this.detect();
            };
            // Try to detect timeshift availability in ON_READY, which works for DASH streams
            player.addEventHandler(player.EVENT.ON_READY, timeShiftDetector);
            // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
            // check timeshift availability in ON_TIME_CHANGED
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, timeShiftDetector);
        }
        TimeShiftAvailabilityDetector.prototype.detect = function () {
            if (this.player.isLive()) {
                var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(this.player);
                // When the availability changes, we fire the event
                if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(this.player, { timeShiftAvailable: timeShiftAvailableNow });
                    this.timeShiftAvailable = timeShiftAvailableNow;
                }
            }
        };
        Object.defineProperty(TimeShiftAvailabilityDetector.prototype, "onTimeShiftAvailabilityChanged", {
            get: function () {
                return this.timeShiftAvailabilityChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return TimeShiftAvailabilityDetector;
    }());
    PlayerUtils.TimeShiftAvailabilityDetector = TimeShiftAvailabilityDetector;
    /**
     * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
     * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
     * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
     * should be used as a workaround instead.
     *
     * Known cases:
     *
     * - HLS VOD on Android 4.3
     * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
     * reported as 'live' before playback (the live-check in the player checks for infinite duration).
     */
    var LiveStreamDetector = /** @class */ (function () {
        function LiveStreamDetector(player) {
            var _this = this;
            this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.live = undefined;
            var liveDetector = function () {
                _this.detect();
            };
            // Initialize when player is ready
            player.addEventHandler(player.EVENT.ON_READY, liveDetector);
            // Re-evaluate when playback starts
            player.addEventHandler(player.EVENT.ON_PLAY, liveDetector);
            // HLS live detection workaround for Android:
            // Also re-evaluate during playback, because that is when the live flag might change.
            // (Doing it only in Android Chrome saves unnecessary overhead on other plattforms)
            if (browserutils_1.BrowserUtils.isAndroid && browserutils_1.BrowserUtils.isChrome) {
                player.addEventHandler(player.EVENT.ON_TIME_CHANGED, liveDetector);
            }
        }
        LiveStreamDetector.prototype.detect = function () {
            var liveNow = this.player.isLive();
            // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
            // with undefined, there is always at least an initial event fired that tells listeners the live state.
            if (liveNow !== this.live) {
                this.liveChangedEvent.dispatch(this.player, { live: liveNow });
                this.live = liveNow;
            }
        };
        Object.defineProperty(LiveStreamDetector.prototype, "onLiveChanged", {
            get: function () {
                return this.liveChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return LiveStreamDetector;
    }());
    PlayerUtils.LiveStreamDetector = LiveStreamDetector;
})(PlayerUtils = exports.PlayerUtils || (exports.PlayerUtils = {}));


/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = angular;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
 * setup the UI.
 */
var UIContainer = /** @class */ (function (_super) {
    __extends(UIContainer, _super);
    function UIContainer(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-uicontainer',
            hideDelay: 5000,
        }, _this.config);
        return _this;
    }
    UIContainer.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.configureUIShowHide(player, uimanager);
        this.configurePlayerStates(player, uimanager);
    };
    UIContainer.prototype.configureUIShowHide = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        var config = this.getConfig();
        if (config.hideDelay === -1) {
            uimanager.onConfigured.subscribe(function () { return uimanager.onControlsShow.dispatch(_this); });
            return;
        }
        var isUiShown = false;
        var isSeeking = false;
        var isFirstTouch = true;
        var showUi = function () {
            if (!isUiShown) {
                // Let subscribers know that they should reveal themselves
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
            // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
            if (!isSeeking && !player.isCasting()) {
                _this.uiHideTimeout.start();
            }
        };
        var hideUi = function () {
            // Hide the UI only if it is shown, and if not casting
            if (isUiShown && !player.isCasting()) {
                // Issue a preview event to check if we are good to hide the controls
                var previewHideEventArgs = {};
                uimanager.onPreviewControlsHide.dispatch(_this, previewHideEventArgs);
                if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                }
                else {
                    // If the hide preview was canceled, continue to show UI
                    showUi();
                }
            }
        };
        // Timeout to defer UI hiding by the configured delay time
        this.uiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        // On touch displays, the first touch reveals the UI
        container.on('touchend', function (e) {
            if (!isUiShown) {
                // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI instead.
                // The first touch is not prevented to let other listeners receive the event and trigger an initial action, e.g.
                // the huge playback button can directly start playback instead of requiring a double tap which 1. reveals
                // the UI and 2. starts playback.
                if (isFirstTouch) {
                    isFirstTouch = false;
                }
                else {
                    e.preventDefault();
                }
                showUi();
            }
        });
        // When the mouse enters, we show the UI
        container.on('mouseenter', function () {
            showUi();
        });
        // When the mouse moves within, we show the UI
        container.on('mousemove', function () {
            showUi();
        });
        // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
        container.on('mouseleave', function () {
            // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not hide
            // the UI in such cases
            if (!isSeeking) {
                _this.uiHideTimeout.start();
            }
        });
        uimanager.onSeek.subscribe(function () {
            _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
            _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
        });
    };
    UIContainer.prototype.configurePlayerStates = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        // Convert player states into CSS class names
        var stateClassNames = [];
        for (var state in playerutils_1.PlayerUtils.PlayerState) {
            if (isNaN(Number(state))) {
                var enumName = playerutils_1.PlayerUtils.PlayerState[playerutils_1.PlayerUtils.PlayerState[state]];
                stateClassNames[playerutils_1.PlayerUtils.PlayerState[state]] =
                    this.prefixCss(UIContainer.STATE_PREFIX + enumName.toLowerCase());
            }
        }
        var removeStates = function () {
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        };
        player.addEventHandler(player.EVENT.ON_READY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
        });
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
        });
        // Init in current player state
        container.addClass(stateClassNames[playerutils_1.PlayerUtils.getState(player)]);
        // Fullscreen marker class
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, function () {
            container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, function () {
            container.removeClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        // Init fullscreen state
        if (player.isFullscreen()) {
            container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
        }
        // Buffering marker class
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, function () {
            container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        // Init buffering state
        if (player.isStalled()) {
            container.addClass(this.prefixCss(UIContainer.BUFFERING));
        }
        // RemoteControl marker class
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            container.removeClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        // Init RemoteControl state
        if (player.isCasting()) {
            container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
        }
        // Controls visibility marker class
        uimanager.onControlsShow.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
        });
        uimanager.onControlsHide.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
        });
        // Layout size classes
        var updateLayoutSizeClasses = function (width, height) {
            container.removeClass(_this.prefixCss('layout-max-width-400'));
            container.removeClass(_this.prefixCss('layout-max-width-600'));
            container.removeClass(_this.prefixCss('layout-max-width-800'));
            container.removeClass(_this.prefixCss('layout-max-width-1200'));
            if (width <= 400) {
                container.addClass(_this.prefixCss('layout-max-width-400'));
            }
            else if (width <= 600) {
                container.addClass(_this.prefixCss('layout-max-width-600'));
            }
            else if (width <= 800) {
                container.addClass(_this.prefixCss('layout-max-width-800'));
            }
            else if (width <= 1200) {
                container.addClass(_this.prefixCss('layout-max-width-1200'));
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function (e) {
            // Convert strings (with "px" suffix) to ints
            var width = Math.round(Number(e.width.substring(0, e.width.length - 2)));
            var height = Math.round(Number(e.height.substring(0, e.height.length - 2)));
            updateLayoutSizeClasses(width, height);
        });
        // Init layout state
        updateLayoutSizeClasses(new dom_1.DOM(player.getFigure()).width(), new dom_1.DOM(player.getFigure()).height());
    };
    UIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.uiHideTimeout.clear();
    };
    UIContainer.prototype.toDomElement = function () {
        var container = _super.prototype.toDomElement.call(this);
        // Detect flexbox support (not supported in IE9)
        if (document && typeof document.createElement('p').style.flex !== 'undefined') {
            container.addClass(this.prefixCss('flexbox'));
        }
        else {
            container.addClass(this.prefixCss('no-flexbox'));
        }
        return container;
    };
    UIContainer.STATE_PREFIX = 'player-state-';
    UIContainer.FULLSCREEN = 'fullscreen';
    UIContainer.BUFFERING = 'buffering';
    UIContainer.REMOTE_CONTROL = 'remote-control';
    UIContainer.CONTROLS_SHOWN = 'controls-shown';
    UIContainer.CONTROLS_HIDDEN = 'controls-hidden';
    return UIContainer;
}(container_1.Container));
exports.UIContainer = UIContainer;


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserUtils;
(function (BrowserUtils) {
    // isMobile only needs to be evaluated once (it cannot change during a browser session)
    // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
    // anywhere in the User Agent to detect a mobile device."
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
    BrowserUtils.isMobile = navigator && navigator.userAgent && /Mobi/.test(navigator.userAgent);
    BrowserUtils.isChrome = navigator && navigator.userAgent && /Chrome/.test(navigator.userAgent);
    BrowserUtils.isAndroid = navigator && navigator.userAgent && /Android/.test(navigator.userAgent);
})(BrowserUtils = exports.BrowserUtils || (exports.BrowserUtils = {}));


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
var playerutils_1 = __webpack_require__(12);
/**
 * A button that toggles between playback and pause.
 */
var PlaybackToggleButton = /** @class */ (function (_super) {
    __extends(PlaybackToggleButton, _super);
    function PlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    PlaybackToggleButton.prototype.configure = function (player, uimanager, handleClickEvent) {
        var _this = this;
        if (handleClickEvent === void 0) { handleClickEvent = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var isSeeking = false;
        // Handler to update button state based on player state
        var playbackStateHandler = function (event) {
            // If the UI is currently seeking, playback is temporarily stopped but the buttons should
            // not reflect that and stay as-is (e.g indicate playback while seeking).
            if (isSeeking) {
                return;
            }
            if (player.isPlaying()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        // Call handler upon these events
        player.addEventHandler(player.EVENT.ON_PLAY, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_PAUSED, playbackStateHandler);
        if (player.EVENT.ON_PLAYING) {
            // Since player 7.3. Not really necessary but just in case we ever miss the ON_PLAY event.
            player.addEventHandler(player.EVENT.ON_PLAYING, playbackStateHandler);
        }
        // after unloading + loading a new source, the player might be in a different playing state (from playing into stopped)
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, playbackStateHandler);
        // when playback finishes, player turns to paused mode
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYBACK_FINISHED, playbackStateHandler);
        // When a playback attempt is rejected with warning 5008, we switch the button state back to off
        // This is required for blocked autoplay, because there is no ON_PAUSED event in such case
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            if (event.code === 5008) {
                _this.off();
            }
        });
        // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            if (!args.timeShiftAvailable) {
                _this.getDomElement().addClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
        });
        timeShiftDetector.detect(); // Initial detection
        if (handleClickEvent) {
            // Control player by button events
            // When a button event triggers a player API call, events are fired which in turn call the event handler
            // above that updated the button state.
            this.onClick.subscribe(function () {
                if (player.isPlaying()) {
                    player.pause('ui');
                }
                else {
                    player.play('ui');
                }
            });
        }
        // Track UI seeking status
        uimanager.onSeek.subscribe(function () {
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
        });
        // Startup init
        playbackStateHandler(null);
    };
    PlaybackToggleButton.CLASS_STOPTOGGLE = 'stoptoggle';
    return PlaybackToggleButton;
}(togglebutton_1.ToggleButton));
exports.PlaybackToggleButton = PlaybackToggleButton;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles audio muting.
 */
var VolumeToggleButton = /** @class */ (function (_super) {
    __extends(VolumeToggleButton, _super);
    function VolumeToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        var defaultConfig = {
            cssClass: 'ui-volumetogglebutton',
            text: 'Volume/Mute',
            onClass: 'muted',
            offClass: 'unmuted',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    VolumeToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var muteStateHandler = function () {
            if (player.isMuted()) {
                _this.on();
                // When the volume is unmuted and the volume level is veeeery low, we increase it to 10%. This especially helps
                // in the case when the volume is first turned down to 0 and then the player is muted; when the player gets
                // unmuted it would switch to volume level 0 which would seem like unmuting did not work, and increasing the
                // level a bit helps to overcome this issue.
                if (player.getVolume() < 10) {
                    player.setVolume(10);
                }
            }
            else {
                _this.off();
            }
        };
        var volumeLevelHandler = function () {
            var volumeLevelTens = Math.ceil(player.getVolume() / 10);
            _this.getDomElement().data(_this.prefixCss('volume-level-tens'), String(volumeLevelTens));
            // When the volume is turned down to zero, switch into the mute state of the button. This avoids the usability
            // issue where the volume is turned down to zero, the button shows the muted icon but is not really unmuted, and
            // the next button press would switch it into the mute state, visually staying the same which would seem like
            // an expected unmute did not work.
            if (volumeLevelTens === 0) {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_MUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeLevelHandler);
        this.onClick.subscribe(function () {
            if (player.isMuted()) {
                player.unmute('ui-volumetogglebutton');
            }
            else {
                player.mute('ui-volumetogglebutton');
            }
        });
        // Startup init
        muteStateHandler();
        volumeLevelHandler();
    };
    return VolumeToggleButton;
}(togglebutton_1.ToggleButton));
exports.VolumeToggleButton = VolumeToggleButton;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
 * target, and keeps status about an ongoing seek.
 *
 * The seek bar displays different 'bars':
 *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
 *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
 *  - the seek position, used to preview to where in the timeline a seek will jump to
 */
var SeekBar = /** @class */ (function (_super) {
    __extends(SeekBar, _super);
    function SeekBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        /**
         * Buffer of the the current playback position. The position must be buffered in case the element
         * needs to be refreshed with {@link #refreshPlaybackPosition}.
         * @type {number}
         */
        _this.playbackPositionPercentage = 0;
        // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
        _this.touchSupported = ('ontouchstart' in window);
        _this.seekBarEvents = {
            /**
             * Fired when a scrubbing seek operation is started.
             */
            onSeek: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
             */
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired when a scrubbing seek has finished or when a direct seek is issued.
             */
            onSeeked: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar',
            vertical: false,
            smoothPlaybackPositionUpdateIntervalMs: 50,
        }, _this.config);
        _this.label = _this.config.label;
        _this.timelineMarkers = [];
        return _this;
    }
    SeekBar.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        if (this.hasLabel()) {
            this.getLabel().initialize();
        }
    };
    SeekBar.prototype.configure = function (player, uimanager, configureSeek) {
        var _this = this;
        if (configureSeek === void 0) { configureSeek = true; }
        _super.prototype.configure.call(this, player, uimanager);
        // Apply scaling transform to the backdrop bar to have all bars rendered similarly
        // (the call must be up here to be executed for the volume slider as well)
        this.setPosition(this.seekBarBackdrop, 100);
        if (!configureSeek) {
            // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
            // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
            // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
            // a common base slider component and implement their functionality there.
            return;
        }
        var isPlaying = false;
        var isSeeking = false;
        // Update playback and buffer positions
        var playbackPositionHandler = function (event, forceUpdate) {
            if (event === void 0) { event = null; }
            if (forceUpdate === void 0) { forceUpdate = false; }
            if (isSeeking) {
                // We caught a seek preview seek, do not update the seekbar
                return;
            }
            if (player.isLive()) {
                if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                }
                else {
                    var playbackPositionPercentage = 100 - (100 / player.getMaxTimeShift() * player.getTimeShift());
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                // Always show full buffer for live streams
                _this.setBufferPosition(100);
            }
            else {
                var playbackPositionPercentage = 100 / player.getDuration() * player.getCurrentTime();
                var videoBufferLength = player.getVideoBufferLength();
                var audioBufferLength = player.getAudioBufferLength();
                // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
                // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
                // as the buffer length.
                var bufferLength = Math.min(videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE, audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE);
                // If both buffer lengths are missing, we set the buffer length to zero
                if (bufferLength === Number.MAX_VALUE) {
                    bufferLength = 0;
                }
                var bufferPercentage = 100 / player.getDuration() * bufferLength;
                // Update playback position only in paused state or in the initial startup state where player is neither
                // paused nor playing. Playback updates are handled in the Timeout below.
                if (_this.config.smoothPlaybackPositionUpdateIntervalMs === SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
                    || forceUpdate || player.isPaused() || (player.isPaused() === player.isPlaying())) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                _this.setBufferPosition(playbackPositionPercentage + bufferPercentage);
            }
        };
        // Update seekbar upon these events
        // init playback position when the player is ready
        player.addEventHandler(player.EVENT.ON_READY, playbackPositionHandler);
        // update playback position when it changes
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackPositionHandler);
        // update bufferlevel when buffering is complete
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, playbackPositionHandler);
        // update playback position when a seek has finished
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackPositionHandler);
        // update playback position when a timeshift has finished
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, playbackPositionHandler);
        // update bufferlevel when a segment has been downloaded
        player.addEventHandler(player.EVENT.ON_SEGMENT_REQUEST_FINISHED, playbackPositionHandler);
        // update playback position of Cast playback
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackPositionHandler);
        this.configureLivePausedTimeshiftUpdater(player, uimanager, playbackPositionHandler);
        // Seek handling
        player.addEventHandler(player.EVENT.ON_SEEK, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            _this.setSeeking(false);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, function () {
            _this.setSeeking(false);
        });
        var seek = function (percentage) {
            if (player.isLive()) {
                player.timeShift(player.getMaxTimeShift() - (player.getMaxTimeShift() * (percentage / 100)), 'ui');
            }
            else {
                player.seek(player.getDuration() * (percentage / 100), 'ui');
            }
        };
        this.onSeek.subscribe(function (sender) {
            isSeeking = true; // track seeking status so we can catch events from seek preview seeks
            // Notify UI manager of started seek
            uimanager.onSeek.dispatch(sender);
            // Save current playback state
            isPlaying = player.isPlaying();
            // Pause playback while seeking
            if (isPlaying) {
                player.pause('ui');
            }
        });
        this.onSeekPreview.subscribe(function (sender, args) {
            // Notify UI manager of seek preview
            uimanager.onSeekPreview.dispatch(sender, args);
        });
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            // Rate-limited scrubbing seek
            if (args.scrubbing) {
                seek(args.position);
            }
        }, 200);
        this.onSeeked.subscribe(function (sender, percentage) {
            isSeeking = false;
            // Do the seek
            seek(percentage);
            // Continue playback after seek if player was playing when seek started
            if (isPlaying) {
                player.play('ui');
            }
            // Notify UI manager of finished seek
            uimanager.onSeeked.dispatch(sender);
        });
        if (this.hasLabel()) {
            // Configure a seekbar label that is internal to the seekbar)
            this.getLabel().configure(player, uimanager);
        }
        // Hide seekbar for live sources without timeshift
        var isLive = false;
        var hasTimeShift = false;
        var switchVisibility = function (isLive, hasTimeShift) {
            if (isLive && !hasTimeShift) {
                _this.hide();
            }
            else {
                _this.show();
            }
            playbackPositionHandler(null, true);
            _this.refreshPlaybackPosition();
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            isLive = args.live;
            switchVisibility(isLive, hasTimeShift);
        });
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            hasTimeShift = args.timeShiftAvailable;
            switchVisibility(isLive, hasTimeShift);
        });
        // Initial detection
        liveStreamDetector.detect();
        timeShiftDetector.detect();
        // Refresh the playback position when the player resized or the UI is configured. The playback position marker
        // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
        // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // It can also happen that the value changes once the player is ready, or when a new source is loaded, so we need
        // to update on ON_READY too
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        // Initialize seekbar
        playbackPositionHandler(); // Set the playback position
        this.setBufferPosition(0);
        this.setSeekPosition(0);
        if (this.config.smoothPlaybackPositionUpdateIntervalMs !== SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED) {
            this.configureSmoothPlaybackPositionUpdater(player, uimanager);
        }
        this.configureMarkers(player, uimanager);
    };
    /**
     * Update seekbar while a live stream with DVR window is paused.
     * The playback position stays still and the position indicator visually moves towards the back.
     */
    SeekBar.prototype.configureLivePausedTimeshiftUpdater = function (player, uimanager, playbackPositionHandler) {
        // Regularly update the playback position while the timeout is active
        var pausedTimeshiftUpdater = new timeout_1.Timeout(1000, playbackPositionHandler, true);
        // Start updater when a live stream with timeshift window is paused
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            if (player.isLive() && player.getMaxTimeShift() < 0) {
                pausedTimeshiftUpdater.start();
            }
        });
        // Stop updater when playback continues (no matter if the updater was started before)
        player.addEventHandler(player.EVENT.ON_PLAY, function () { return pausedTimeshiftUpdater.clear(); });
    };
    SeekBar.prototype.configureSmoothPlaybackPositionUpdater = function (player, uimanager) {
        var _this = this;
        /*
         * Playback position update
         *
         * We do not update the position directly from the ON_TIME_CHANGED event, because it arrives very jittery and
         * results in a jittery position indicator since the CSS transition time is statically set.
         * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
         * and kept in sync with the player.
         */
        var currentTimeSeekBar = 0;
        var currentTimePlayer = 0;
        var updateIntervalMs = 50;
        var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
        this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(updateIntervalMs, function () {
            currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            currentTimePlayer = player.getCurrentTime();
            // Sync currentTime of seekbar to player
            var currentTimeDelta = currentTimeSeekBar - currentTimePlayer;
            // If the delta is larger that 2 secs, directly jump the seekbar to the
            // player time instead of smoothly fast forwarding/rewinding.
            if (Math.abs(currentTimeDelta) > 2) {
                currentTimeSeekBar = currentTimePlayer;
            }
            // If currentTimeDelta is negative and below the adjustment threshold,
            // the player is ahead of the seekbar and we 'fast forward' the seekbar
            else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            }
            // If currentTimeDelta is positive and above the adjustment threshold,
            // the player is behind the seekbar and we 'rewind' the seekbar
            else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
            }
            var playbackPositionPercentage = 100 / player.getDuration() * currentTimeSeekBar;
            _this.setPlaybackPosition(playbackPositionPercentage);
        }, true);
        var startSmoothPlaybackPositionUpdater = function () {
            if (!player.isLive()) {
                currentTimeSeekBar = player.getCurrentTime();
                _this.smoothPlaybackPositionUpdater.start();
            }
        };
        var stopSmoothPlaybackPositionUpdater = function () {
            _this.smoothPlaybackPositionUpdater.clear();
        };
        player.addEventHandler(player.EVENT.ON_PLAY, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            currentTimeSeekBar = player.getCurrentTime();
        });
        if (player.isPlaying()) {
            startSmoothPlaybackPositionUpdater();
        }
    };
    SeekBar.prototype.configureMarkers = function (player, uimanager) {
        var _this = this;
        var clearMarkers = function () {
            _this.timelineMarkers = [];
            _this.updateMarkers();
        };
        var setupMarkers = function () {
            clearMarkers();
            var duration = player.getDuration();
            if (duration === Infinity) {
                // Don't generate timeline markers if we don't yet have a duration
                // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
                return;
            }
            for (var _i = 0, _a = uimanager.getConfig().metadata.markers; _i < _a.length; _i++) {
                var marker = _a[_i];
                var markerPosition = 100 / duration * marker.time; // convert absolute time to percentage
                var markerDuration = 100 / duration * marker.duration;
                _this.timelineMarkers.push({ marker: marker, position: markerPosition, duration: markerDuration });
            }
            // Populate the timeline with the markers
            _this.updateMarkers();
        };
        // Add markers when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupMarkers);
        // Remove markers when unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, clearMarkers);
        // Update markers when the size of the seekbar changes
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () { return _this.updateMarkers(); });
        // Update markers when a marker is added or removed
        uimanager.getConfig().events.onUpdated.subscribe(setupMarkers);
        uimanager.onRelease.subscribe(function () { return uimanager.getConfig().events.onUpdated.unsubscribe(setupMarkers); });
        // Init markers at startup
        setupMarkers();
    };
    SeekBar.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.smoothPlaybackPositionUpdater) { // object must not necessarily exist, e.g. in volume slider subclass
            this.smoothPlaybackPositionUpdater.clear();
        }
    };
    SeekBar.prototype.toDomElement = function () {
        var _this = this;
        if (this.config.vertical) {
            this.config.cssClasses.push('vertical');
        }
        var seekBarContainer = new dom_1.DOM('div', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        var seekBar = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar'),
        });
        this.seekBar = seekBar;
        // Indicator that shows the buffer fill level
        var seekBarBufferLevel = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-bufferlevel'),
        });
        this.seekBarBufferPosition = seekBarBufferLevel;
        // Indicator that shows the current playback position
        var seekBarPlaybackPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition'),
        });
        this.seekBarPlaybackPosition = seekBarPlaybackPosition;
        // A marker of the current playback position, e.g. a dot or line
        var seekBarPlaybackPositionMarker = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition-marker'),
        });
        this.seekBarPlaybackPositionMarker = seekBarPlaybackPositionMarker;
        // Indicator that show where a seek will go to
        var seekBarSeekPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-seekposition'),
        });
        this.seekBarSeekPosition = seekBarSeekPosition;
        // Indicator that shows the full seekbar
        var seekBarBackdrop = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-backdrop'),
        });
        this.seekBarBackdrop = seekBarBackdrop;
        var seekBarChapterMarkersContainer = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-markers'),
        });
        this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
        seekBar.append(this.seekBarBackdrop, this.seekBarBufferPosition, this.seekBarSeekPosition, this.seekBarPlaybackPosition, this.seekBarMarkersContainer, this.seekBarPlaybackPositionMarker);
        var seeking = false;
        // Define handler functions so we can attach/remove them later
        var mouseTouchMoveHandler = function (e) {
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            var targetPercentage = 100 * _this.getOffset(e);
            _this.setSeekPosition(targetPercentage);
            _this.setPlaybackPosition(targetPercentage);
            _this.onSeekPreviewEvent(targetPercentage, true);
        };
        var mouseTouchUpHandler = function (e) {
            e.preventDefault();
            // Remove handlers, seek operation is finished
            new dom_1.DOM(document).off('touchmove mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).off('touchend mouseup', mouseTouchUpHandler);
            var targetPercentage = 100 * _this.getOffset(e);
            var snappedChapter = _this.getMarkerAtPosition(targetPercentage);
            _this.setSeeking(false);
            seeking = false;
            // Fire seeked event
            _this.onSeekedEvent(snappedChapter ? snappedChapter.position : targetPercentage);
        };
        // A seek always start with a touchstart or mousedown directly on the seekbar.
        // To track a mouse seek also outside the seekbar (for touch events this works automatically),
        // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
        // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
        // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
        seekBar.on('touchstart mousedown', function (e) {
            var isTouchEvent = _this.touchSupported && e instanceof TouchEvent;
            // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            _this.setSeeking(true); // Set seeking class on DOM element
            seeking = true; // Set seek tracking flag
            // Fire seeked event
            _this.onSeekEvent();
            // Add handler to track the seek operation over the whole document
            new dom_1.DOM(document).on(isTouchEvent ? 'touchmove' : 'mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).on(isTouchEvent ? 'touchend' : 'mouseup', mouseTouchUpHandler);
        });
        // Display seek target indicator when mouse hovers or finger slides over seekbar
        seekBar.on('touchmove mousemove', function (e) {
            e.preventDefault();
            if (seeking) {
                // During a seek (when mouse is down or touch move active), we need to stop propagation to avoid
                // the VR viewport reacting to the moves.
                e.stopPropagation();
                // Because the stopped propagation inhibits the event on the document, we need to call it from here
                mouseTouchMoveHandler(e);
            }
            var position = 100 * _this.getOffset(e);
            _this.setSeekPosition(position);
            _this.onSeekPreviewEvent(position, false);
            if (_this.hasLabel() && _this.getLabel().isHidden()) {
                _this.getLabel().show();
            }
        });
        // Hide seek target indicator when mouse or finger leaves seekbar
        seekBar.on('touchend mouseleave', function (e) {
            e.preventDefault();
            _this.setSeekPosition(0);
            if (_this.hasLabel()) {
                _this.getLabel().hide();
            }
        });
        seekBarContainer.append(seekBar);
        if (this.label) {
            seekBarContainer.append(this.label.getDomElement());
        }
        return seekBarContainer;
    };
    SeekBar.prototype.updateMarkers = function () {
        var _this = this;
        this.seekBarMarkersContainer.empty();
        var seekBarWidthPx = this.seekBar.width();
        for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
            var marker = _a[_i];
            var markerClasses = ['seekbar-marker'].concat(marker.marker.cssClasses || [])
                .map(function (cssClass) { return _this.prefixCss(cssClass); });
            var cssProperties = {
                'width': marker.position + '%',
            };
            if (marker.duration > 0) {
                var markerWidthPx = Math.round(seekBarWidthPx / 100 * marker.duration);
                cssProperties['border-right-width'] = markerWidthPx + 'px';
                cssProperties['margin-left'] = '0';
            }
            this.seekBarMarkersContainer.append(new dom_1.DOM('div', {
                'class': markerClasses.join(' '),
                'data-marker-time': String(marker.marker.time),
                'data-marker-title': String(marker.marker.title),
            }).css(cssProperties));
        }
    };
    SeekBar.prototype.getMarkerAtPosition = function (percentage) {
        var snappingRange = 1;
        if (this.timelineMarkers.length > 0) {
            for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
                var marker = _a[_i];
                // Handle interval markers
                if (marker.duration > 0
                    && percentage >= marker.position - snappingRange
                    && percentage <= marker.position + marker.duration + snappingRange) {
                    return marker;
                }
                // Handle position markers
                else if (percentage >= marker.position - snappingRange
                    && percentage <= marker.position + snappingRange) {
                    return marker;
                }
            }
        }
        return null;
    };
    /**
     * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
     * @param eventPageX the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
     */
    SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
        var elementOffsetPx = this.seekBar.offset().left;
        var widthPx = this.seekBar.width();
        var offsetPx = eventPageX - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return this.sanitizeOffset(offset);
    };
    /**
     * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
     * @param eventPageY the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
     */
    SeekBar.prototype.getVerticalOffset = function (eventPageY) {
        var elementOffsetPx = this.seekBar.offset().top;
        var widthPx = this.seekBar.height();
        var offsetPx = eventPageY - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return 1 - this.sanitizeOffset(offset);
    };
    /**
     * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
     * @param e the event to calculate the offset from
     * @returns {number} a number in the range of [0, 1]
     * @see #getHorizontalOffset
     * @see #getVerticalOffset
     */
    SeekBar.prototype.getOffset = function (e) {
        if (this.touchSupported && e instanceof TouchEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.type === 'touchend' ? e.changedTouches[0].pageY : e.touches[0].pageY);
            }
            else {
                return this.getHorizontalOffset(e.type === 'touchend' ? e.changedTouches[0].pageX : e.touches[0].pageX);
            }
        }
        else if (e instanceof MouseEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.pageY);
            }
            else {
                return this.getHorizontalOffset(e.pageX);
            }
        }
        else {
            if (console) {
                console.warn('invalid event');
            }
            return 0;
        }
    };
    /**
     * Sanitizes the mouse offset to the range of [0, 1].
     *
     * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
     * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
     * zero, but to display the seek target on the seek bar, we need to limit it to zero.
     *
     * @param offset the offset to sanitize
     * @returns {number} the sanitized offset.
     */
    SeekBar.prototype.sanitizeOffset = function (offset) {
        // Since we track mouse moves over the whole document, the target can be outside the seek range,
        // and we need to limit it to the [0, 1] range.
        if (offset < 0) {
            offset = 0;
        }
        else if (offset > 1) {
            offset = 1;
        }
        return offset;
    };
    /**
     * Sets the position of the playback position indicator.
     * @param percent a number between 0 and 100 as returned by the player
     */
    SeekBar.prototype.setPlaybackPosition = function (percent) {
        this.playbackPositionPercentage = percent;
        // Set position of the bar
        this.setPosition(this.seekBarPlaybackPosition, percent);
        // Set position of the marker
        var totalSize = (this.config.vertical ? (this.seekBar.height() - this.seekBarPlaybackPositionMarker.height()) : this.seekBar.width());
        var px = (totalSize) / 100 * percent;
        if (this.config.vertical) {
            px = this.seekBar.height() - px - this.seekBarPlaybackPositionMarker.height();
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'translateY(' + px + 'px)',
                '-ms-transform': 'translateY(' + px + 'px)',
                '-webkit-transform': 'translateY(' + px + 'px)',
            } :
            {
                'transform': 'translateX(' + px + 'px)',
                '-ms-transform': 'translateX(' + px + 'px)',
                '-webkit-transform': 'translateX(' + px + 'px)',
            };
        this.seekBarPlaybackPositionMarker.css(style);
    };
    /**
     * Refreshes the playback position. Can be used by subclasses to refresh the position when
     * the size of the component changes.
     */
    SeekBar.prototype.refreshPlaybackPosition = function () {
        this.setPlaybackPosition(this.playbackPositionPercentage);
    };
    /**
     * Sets the position until which media is buffered.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setBufferPosition = function (percent) {
        this.setPosition(this.seekBarBufferPosition, percent);
    };
    /**
     * Sets the position where a seek, if executed, would jump to.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setSeekPosition = function (percent) {
        this.setPosition(this.seekBarSeekPosition, percent);
    };
    /**
     * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
     * @param element the element to set the position for
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setPosition = function (element, percent) {
        var scale = percent / 100;
        // When the scale is exactly 1 or very near 1 (and the browser internally rounds it to 1), browsers seem to render
        // the elements differently and the height gets slightly off, leading to mismatching heights when e.g. the buffer
        // level bar has a width of 1 and the playback position bar has a width < 1. A jittering buffer level around 1
        // leads to an even worse flickering effect.
        // Various changes in CSS styling and DOM hierarchy did not solve the issue so the workaround is to avoid a scale
        // of exactly 1.
        if (scale >= 0.99999 && scale <= 1.00001) {
            scale = 0.99999;
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'scaleY(' + scale + ')',
                '-ms-transform': 'scaleY(' + scale + ')',
                '-webkit-transform': 'scaleY(' + scale + ')',
            } :
            {
                'transform': 'scaleX(' + scale + ')',
                '-ms-transform': 'scaleX(' + scale + ')',
                '-webkit-transform': 'scaleX(' + scale + ')',
            };
        element.css(style);
    };
    /**
     * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
     * to adjust the styling while seeking.
     *
     * @param seeking should be true when entering seek state, false when exiting the seek state
     */
    SeekBar.prototype.setSeeking = function (seeking) {
        if (seeking) {
            this.getDomElement().addClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
        else {
            this.getDomElement().removeClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
    };
    /**
     * Checks if the seek bar is currently in the seek state.
     * @returns {boolean} true if in seek state, else false
     */
    SeekBar.prototype.isSeeking = function () {
        return this.getDomElement().hasClass(this.prefixCss(SeekBar.CLASS_SEEKING));
    };
    /**
     * Checks if the seek bar has a {@link SeekBarLabel}.
     * @returns {boolean} true if the seek bar has a label, else false
     */
    SeekBar.prototype.hasLabel = function () {
        return this.label != null;
    };
    /**
     * Gets the label of this seek bar.
     * @returns {SeekBarLabel} the label if this seek bar has a label, else null
     */
    SeekBar.prototype.getLabel = function () {
        return this.label;
    };
    SeekBar.prototype.onSeekEvent = function () {
        this.seekBarEvents.onSeek.dispatch(this);
    };
    SeekBar.prototype.onSeekPreviewEvent = function (percentage, scrubbing) {
        var snappedMarker = this.getMarkerAtPosition(percentage);
        var seekPositionPercentage = percentage;
        if (snappedMarker) {
            if (snappedMarker.duration > 0) {
                if (percentage < snappedMarker.position) {
                    // Snap the position to the start of the interval if the seek is within the left snap margin
                    // We know that we are within a snap margin when we are outside the marker interval but still
                    // have a snappedMarker
                    seekPositionPercentage = snappedMarker.position;
                }
                else if (percentage > snappedMarker.position + snappedMarker.duration) {
                    // Snap the position to the end of the interval if the seek is within the right snap margin
                    seekPositionPercentage = snappedMarker.position + snappedMarker.duration;
                }
            }
            else {
                // Position markers always snap to their marker position
                seekPositionPercentage = snappedMarker.position;
            }
        }
        if (this.label) {
            this.label.getDomElement().css({
                'left': seekPositionPercentage + '%',
            });
        }
        this.seekBarEvents.onSeekPreview.dispatch(this, {
            scrubbing: scrubbing,
            position: seekPositionPercentage,
            marker: snappedMarker,
        });
    };
    SeekBar.prototype.onSeekedEvent = function (percentage) {
        this.seekBarEvents.onSeeked.dispatch(this, percentage);
    };
    Object.defineProperty(SeekBar.prototype, "onSeek", {
        /**
         * Gets the event that is fired when a scrubbing seek operation is started.
         * @returns {Event<SeekBar, NoArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeek.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
        /**
         * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
         * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
         * i.e. the seek bar label, should be updated).
         * @returns {Event<SeekBar, SeekPreviewEventArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeekPreview.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeeked", {
        /**
         * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
         * @returns {Event<SeekBar, number>}
         */
        get: function () {
            return this.seekBarEvents.onSeeked.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SeekBar.prototype.onShowEvent = function () {
        _super.prototype.onShowEvent.call(this);
        // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
        // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
        // value calculated from the size. This required size is not known when it is hidden.
        // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
        // its size and can set the position correctly.
        this.refreshPlaybackPosition();
    };
    SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
    /**
     * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
     */
    SeekBar.CLASS_SEEKING = 'seeking';
    return SeekBar;
}(component_1.Component));
exports.SeekBar = SeekBar;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var uiutils_1 = __webpack_require__(20);
var spacer_1 = __webpack_require__(21);
/**
 * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
 * button.
 */
var ControlBar = /** @class */ (function (_super) {
    __extends(ControlBar, _super);
    function ControlBar(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-controlbar',
            hidden: true,
        }, _this.config);
        return _this;
    }
    ControlBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        // Counts how many components are hovered and block hiding of the control bar
        var hoverStackCount = 0;
        // Track hover status of child components
        uiutils_1.UIUtils.traverseTree(this, function (component) {
            // Do not track hover status of child containers or spacers, only of 'real' controls
            if (component instanceof container_1.Container || component instanceof spacer_1.Spacer) {
                return;
            }
            // Subscribe hover event and keep a count of the number of hovered children
            component.onHoverChanged.subscribe(function (sender, args) {
                if (args.hovered) {
                    hoverStackCount++;
                }
                else {
                    hoverStackCount--;
                }
            });
        });
        uimanager.onControlsShow.subscribe(function () {
            _this.show();
        });
        uimanager.onPreviewControlsHide.subscribe(function (sender, args) {
            // Cancel the hide event if hovered child components block hiding
            args.cancel = (hoverStackCount > 0);
        });
        uimanager.onControlsHide.subscribe(function () {
            _this.hide();
        });
    };
    return ControlBar;
}(container_1.Container));
exports.ControlBar = ControlBar;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var UIUtils;
(function (UIUtils) {
    function traverseTree(component, visit) {
        var recursiveTreeWalker = function (component, parent) {
            visit(component, parent);
            // If the current component is a container, visit it's children
            if (component instanceof container_1.Container) {
                for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                }
            }
        };
        // Walk and configure the component tree
        recursiveTreeWalker(component);
    }
    UIUtils.traverseTree = traverseTree;
})(UIUtils = exports.UIUtils || (exports.UIUtils = {}));


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
/**
 * A dummy component that just reserves some space and does nothing else.
 */
var Spacer = /** @class */ (function (_super) {
    __extends(Spacer, _super);
    function Spacer(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-spacer',
        }, _this.config);
        return _this;
    }
    Spacer.prototype.onShowEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHideEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHoverChangedEvent = function (hovered) {
        // disable event firing by overwriting and not calling super
    };
    return Spacer;
}(component_1.Component));
exports.Spacer = Spacer;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var selectbox_1 = __webpack_require__(8);
var label_1 = __webpack_require__(6);
var videoqualityselectbox_1 = __webpack_require__(23);
var audioqualityselectbox_1 = __webpack_require__(24);
var timeout_1 = __webpack_require__(9);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A panel containing a list of {@link SettingsPanelItem items} that represent labelled settings.
 */
var SettingsPanel = /** @class */ (function (_super) {
    __extends(SettingsPanel, _super);
    function SettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsPanelEvents = {
            onSettingsStateChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel',
            hideDelay: 3000,
        }, _this.config);
        return _this;
    }
    SettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        if (config.hideDelay > -1) {
            this.hideTimeout = new timeout_1.Timeout(config.hideDelay, function () {
                _this.hide();
                _this.hideHoveredSelectBoxes();
            });
            this.onShow.subscribe(function () {
                // Activate timeout when shown
                _this.hideTimeout.start();
            });
            this.getDomElement().on('mouseenter', function () {
                // On mouse enter clear the timeout
                _this.hideTimeout.clear();
            });
            this.getDomElement().on('mouseleave', function () {
                // On mouse leave activate the timeout
                _this.hideTimeout.reset();
            });
            this.onHide.subscribe(function () {
                // Clear timeout when hidden from outside
                _this.hideTimeout.clear();
            });
        }
        // Fire event when the state of a settings-item has changed
        var settingsStateChangedHandler = function () {
            _this.onSettingsStateChangedEvent();
            // Attach marker class to last visible item
            var lastShownItem = null;
            for (var _i = 0, _a = _this.getItems(); _i < _a.length; _i++) {
                var component = _a[_i];
                component.getDomElement().removeClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
                if (component.isShown()) {
                    lastShownItem = component;
                }
            }
            if (lastShownItem) {
                lastShownItem.getDomElement().addClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
            }
        };
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            component.onActiveChanged.subscribe(settingsStateChangedHandler);
        }
    };
    /**
     * Hack for IE + Firefox
     * when the settings panel fades out while an item of a select box is still hovered, the select box will not fade out
     * while the settings panel does. This would leave a floating select box, which is just weird
     */
    SettingsPanel.prototype.hideHoveredSelectBoxes = function () {
        this.getItems().forEach(function (item) {
            if (item.isActive() && item.setting instanceof selectbox_1.SelectBox) {
                var selectBox_1 = item.setting;
                var oldDisplay_1 = selectBox_1.getDomElement().css('display');
                // updating the display to none marks the select-box as inactive, so it will be hidden with the rest
                // we just have to make sure to reset this as soon as possible
                selectBox_1.getDomElement().css('display', 'none');
                if (window.requestAnimationFrame) {
                    requestAnimationFrame(function () { selectBox_1.getDomElement().css('display', oldDisplay_1); });
                }
                else {
                    // IE9 has no requestAnimationFrame, set the value directly. It has no optimization about ignoring DOM-changes
                    // between animationFrames
                    selectBox_1.getDomElement().css('display', oldDisplay_1);
                }
            }
        });
    };
    SettingsPanel.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.hideTimeout) {
            this.hideTimeout.clear();
        }
    };
    /**
     * Checks if there are active settings within this settings panel. An active setting is a setting that is visible
     * and enabled, which the user can interact with.
     * @returns {boolean} true if there are active settings, false if the panel is functionally empty to a user
     */
    SettingsPanel.prototype.hasActiveSettings = function () {
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component.isActive()) {
                return true;
            }
        }
        return false;
    };
    SettingsPanel.prototype.getItems = function () {
        return this.config.components.filter(function (component) { return component instanceof SettingsPanelItem; });
    };
    SettingsPanel.prototype.onSettingsStateChangedEvent = function () {
        this.settingsPanelEvents.onSettingsStateChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanel.prototype, "onSettingsStateChanged", {
        /**
         * Gets the event that is fired when one or more {@link SettingsPanelItem items} have changed state.
         * @returns {Event<SettingsPanel, NoArgs>}
         */
        get: function () {
            return this.settingsPanelEvents.onSettingsStateChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SettingsPanel.CLASS_LAST = 'last';
    return SettingsPanel;
}(container_1.Container));
exports.SettingsPanel = SettingsPanel;
/**
 * An item for a {@link SettingsPanel},
 * Containing an optionnal {@link Label} and a component that configures a setting.
 * If the components is a {@link SelectBox} it will handle the logic of displaying it or not
 */
var SettingsPanelItem = /** @class */ (function (_super) {
    __extends(SettingsPanelItem, _super);
    function SettingsPanelItem(label, setting, config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.settingsPanelItemEvents = {
            onActiveChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.setting = setting;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel-item',
        }, _this.config);
        if (label !== null) {
            if (label instanceof component_1.Component) {
                _this.label = label;
            }
            else {
                _this.label = new label_1.Label({ text: label });
            }
            _this.addComponent(_this.label);
        }
        _this.addComponent(_this.setting);
        return _this;
    }
    SettingsPanelItem.prototype.configure = function (player, uimanager) {
        var _this = this;
        if (this.setting instanceof selectbox_1.SelectBox) {
            var handleConfigItemChanged = function () {
                if (!(_this.setting instanceof selectbox_1.SelectBox)) {
                    return;
                }
                // The minimum number of items that must be available for the setting to be displayed
                // By default, at least two items must be available, else a selection is not possible
                var minItemsToDisplay = 2;
                // Audio/video quality select boxes contain an additional 'auto' mode, which in combination with a single
                // available quality also does not make sense
                if ((_this.setting instanceof videoqualityselectbox_1.VideoQualitySelectBox && _this.setting.hasAutoItem())
                    || _this.setting instanceof audioqualityselectbox_1.AudioQualitySelectBox) {
                    minItemsToDisplay = 3;
                }
                // Hide the setting if no meaningful choice is available
                if (_this.setting.itemCount() < minItemsToDisplay) {
                    _this.hide();
                }
                else {
                    _this.show();
                }
                // Visibility might have changed and therefore the active state might have changed so we fire the event
                // TODO fire only when state has really changed (e.g. check if visibility has really changed)
                _this.onActiveChangedEvent();
            };
            this.setting.onItemAdded.subscribe(handleConfigItemChanged);
            this.setting.onItemRemoved.subscribe(handleConfigItemChanged);
            // Initialize hidden state
            handleConfigItemChanged();
        }
    };
    /**
     * Checks if this settings panel item is active, i.e. visible and enabled and a user can interact with it.
     * @returns {boolean} true if the panel is active, else false
     */
    SettingsPanelItem.prototype.isActive = function () {
        return this.isShown();
    };
    SettingsPanelItem.prototype.onActiveChangedEvent = function () {
        this.settingsPanelItemEvents.onActiveChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanelItem.prototype, "onActiveChanged", {
        /**
         * Gets the event that is fired when the 'active' state of this item changes.
         * @see #isActive
         * @returns {Event<SettingsPanelItem, NoArgs>}
         */
        get: function () {
            return this.settingsPanelItemEvents.onActiveChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SettingsPanelItem;
}(container_1.Container));
exports.SettingsPanelItem = SettingsPanelItem;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available video qualities.
 */
var VideoQualitySelectBox = /** @class */ (function (_super) {
    __extends(VideoQualitySelectBox, _super);
    function VideoQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    VideoQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentVideoQuality = function () {
            if (player.getVideoQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getVideoQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedVideoData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateVideoQualities = function () {
            var videoQualities = player.getAvailableVideoQualities();
            _this.clearItems();
            // Progressive streams do not support automatic quality selection
            _this.hasAuto = player.getStreamType() !== 'progressive';
            if (_this.hasAuto) {
                // Add entry for automatic quality switching (default setting)
                _this.addItem('auto', 'auto');
            }
            // Add video qualities
            for (var _i = 0, videoQualities_1 = videoQualities; _i < videoQualities_1.length; _i++) {
                var videoQuality = videoQualities_1[_i];
                _this.addItem(videoQuality.id, videoQuality.label);
            }
            // Select initial quality
            selectCurrentVideoQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setVideoQuality(value);
        });
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateVideoQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateVideoQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateVideoQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_VIDEO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_VIDEO_QUALITY_CHANGED, selectCurrentVideoQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE, selectCurrentVideoQuality);
        }
    };
    /**
     * Returns true if the select box contains an 'auto' item for automatic quality selection mode.
     * @return {boolean}
     */
    VideoQualitySelectBox.prototype.hasAutoItem = function () {
        return this.hasAuto;
    };
    return VideoQualitySelectBox;
}(selectbox_1.SelectBox));
exports.VideoQualitySelectBox = VideoQualitySelectBox;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available audio qualities.
 */
var AudioQualitySelectBox = /** @class */ (function (_super) {
    __extends(AudioQualitySelectBox, _super);
    function AudioQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioQuality = function () {
            if (player.getAudioQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getAudioQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedAudioData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateAudioQualities = function () {
            var audioQualities = player.getAvailableAudioQualities();
            _this.clearItems();
            // Add entry for automatic quality switching (default setting)
            _this.addItem('auto', 'auto');
            // Add audio qualities
            for (var _i = 0, audioQualities_1 = audioQualities; _i < audioQualities_1.length; _i++) {
                var audioQuality = audioQualities_1[_i];
                _this.addItem(audioQuality.id, audioQuality.label);
            }
            // Select initial quality
            selectCurrentAudioQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudioQuality(value);
        });
        // Update qualities when audio track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, updateAudioQualities);
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_AUDIO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_AUDIO_QUALITY_CHANGED, selectCurrentAudioQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_AUDIO_DOWNLOAD_QUALITY_CHANGE, selectCurrentAudioQuality);
        }
    };
    return AudioQualitySelectBox;
}(selectbox_1.SelectBox));
exports.AudioQualitySelectBox = AudioQualitySelectBox;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var SubtitleSettingsButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsButton, _super);
    function SubtitleSettingsButton(config) {
        var _this = _super.call(this, config) || this;
        _this.subtitleSettingsPanel = config.subtitleSettingsPanel;
        _this.settingsPanel = config.settingsPanel;
        return _this;
    }
    return SubtitleSettingsButton;
}(button_1.Button));
exports.SubtitleSettingsButton = SubtitleSettingsButton;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var seekbar_1 = __webpack_require__(18);
/**
 * A simple volume slider component to adjust the player's volume setting.
 */
var VolumeSlider = /** @class */ (function (_super) {
    __extends(VolumeSlider, _super);
    function VolumeSlider(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumeslider',
            hideIfVolumeControlProhibited: true,
        }, _this.config);
        return _this;
    }
    VolumeSlider.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager, false);
        var config = this.getConfig();
        if (config.hideIfVolumeControlProhibited && !this.detectVolumeControlAvailability()) {
            this.hide();
            // We can just return from here, because the user will never interact with the control and any configured
            // functionality would only eat resources for no reason.
            return;
        }
        var volumeChangeHandler = function () {
            if (player.isMuted()) {
                _this.setPlaybackPosition(0);
            }
            else {
                _this.setPlaybackPosition(player.getVolume());
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_MUTED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, volumeChangeHandler);
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (args.scrubbing) {
                player.setVolume(args.position, VolumeSlider.issuerName);
            }
        }, 50);
        this.onSeeked.subscribe(function (sender, percentage) {
            player.setVolume(percentage, VolumeSlider.issuerName);
        });
        // Update the volume slider marker when the player resized, a source is loaded and player is ready,
        // or the UI is configured. Check the seekbar for a detailed description.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // Init volume bar
        volumeChangeHandler();
    };
    VolumeSlider.prototype.detectVolumeControlAvailability = function () {
        /*
         * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
         * settable in JavaScript. Reading the volume property always returns 1."
         * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
         */
        // as muted autoplay gets paused as soon as we unmute it, we may not touch the volume of the actual player so we
        // probe a dummy audio element
        var dummyVideoElement = document.createElement('video');
        // try setting the volume to 0.7 and if it's still 1 we are on a volume control restricted device
        dummyVideoElement.volume = 0.7;
        return dummyVideoElement.volume !== 1;
    };
    VolumeSlider.issuerName = 'ui';
    return VolumeSlider;
}(seekbar_1.SeekBar));
exports.VolumeSlider = VolumeSlider;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
/**
 * Enumerates the types of content that the {@link MetadataLabel} can display.
 */
var MetadataLabelContent;
(function (MetadataLabelContent) {
    /**
     * Title of the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Title"] = 0] = "Title";
    /**
     * Description fo the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Description"] = 1] = "Description";
})(MetadataLabelContent = exports.MetadataLabelContent || (exports.MetadataLabelContent = {}));
/**
 * A label that can be configured to display certain metadata.
 */
var MetadataLabel = /** @class */ (function (_super) {
    __extends(MetadataLabel, _super);
    function MetadataLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClasses: ['label-metadata', 'label-metadata-' + MetadataLabelContent[config.content].toLowerCase()],
        }, _this.config);
        return _this;
    }
    MetadataLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var uiconfig = uimanager.getConfig();
        var init = function () {
            switch (config.content) {
                case MetadataLabelContent.Title:
                    _this.setText(uiconfig.metadata.title);
                    break;
                case MetadataLabelContent.Description:
                    _this.setText(uiconfig.metadata.description);
                    break;
            }
        };
        var unload = function () {
            _this.setText(null);
        };
        // Init label
        init();
        // Reinit label when a new source is loaded
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, init);
        // Clear labels when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, unload);
    };
    return MetadataLabel;
}(label_1.Label));
exports.MetadataLabel = MetadataLabel;


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A click overlay that opens an url in a new tab if clicked.
 */
var ClickOverlay = /** @class */ (function (_super) {
    __extends(ClickOverlay, _super);
    function ClickOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-clickoverlay',
        }, _this.config);
        return _this;
    }
    ClickOverlay.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        this.setUrl(this.config.url);
        var element = this.getDomElement();
        element.on('click', function () {
            if (element.data('url')) {
                window.open(element.data('url'), '_blank');
            }
        });
    };
    /**
     * Gets the URL that should be followed when the watermark is clicked.
     * @returns {string} the watermark URL
     */
    ClickOverlay.prototype.getUrl = function () {
        return this.getDomElement().data('url');
    };
    ClickOverlay.prototype.setUrl = function (url) {
        if (url === undefined || url == null) {
            url = '';
        }
        this.getDomElement().data('url', url);
    };
    return ClickOverlay;
}(button_1.Button));
exports.ClickOverlay = ClickOverlay;


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var PreferredTech;
(function (PreferredTech) {
    PreferredTech["DEFAULT"] = "default";
    PreferredTech["HIVE"] = "hive";
})(PreferredTech = exports.PreferredTech || (exports.PreferredTech = {}));


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the player between windowed and fullscreen view.
 */
var FullscreenToggleButton = /** @class */ (function (_super) {
    __extends(FullscreenToggleButton, _super);
    function FullscreenToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-fullscreentogglebutton',
            text: 'Fullscreen',
        }, _this.config);
        return _this;
    }
    FullscreenToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var fullscreenStateHandler = function () {
            if (player.isFullscreen()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, fullscreenStateHandler);
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, fullscreenStateHandler);
        this.onClick.subscribe(function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        });
        // Startup init
        fullscreenStateHandler();
    };
    return FullscreenToggleButton;
}(togglebutton_1.ToggleButton));
exports.FullscreenToggleButton = FullscreenToggleButton;


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the video view between normal/mono and VR/stereo.
 */
var VRToggleButton = /** @class */ (function (_super) {
    __extends(VRToggleButton, _super);
    function VRToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-vrtogglebutton',
            text: 'VR',
        }, _this.config);
        return _this;
    }
    VRToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var isVRConfigured = function () {
            // VR availability cannot be checked through getVRStatus() because it is asynchronously populated and not
            // available at UI initialization. As an alternative, we check the VR settings in the config.
            // TODO use getVRStatus() through isVRStereoAvailable() once the player has been rewritten and the status is
            // available in ON_READY
            var config = player.getConfig();
            return config.source && config.source.vr && config.source.vr.contentType !== 'none';
        };
        var isVRStereoAvailable = function () {
            return player.getVRStatus().contentType !== 'none';
        };
        var vrStateHandler = function () {
            if (isVRConfigured() && isVRStereoAvailable()) {
                _this.show(); // show button in case it is hidden
                if (player.getVRStatus().isStereo) {
                    _this.on();
                }
                else {
                    _this.off();
                }
            }
            else {
                _this.hide(); // hide button if no stereo mode available
            }
        };
        var vrButtonVisibilityHandler = function () {
            if (isVRConfigured()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_VR_MODE_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_STEREO_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_ERROR, vrStateHandler);
        // Hide button when VR source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, vrButtonVisibilityHandler);
        // Show button when a new source is loaded and it's VR
        player.addEventHandler(player.EVENT.ON_READY, vrButtonVisibilityHandler);
        this.onClick.subscribe(function () {
            if (!isVRStereoAvailable()) {
                if (console) {
                    console.log('No VR content');
                }
            }
            else {
                if (player.getVRStatus().isStereo) {
                    player.setVRStereo(false);
                }
                else {
                    player.setVRStereo(true);
                }
            }
        });
        // Set startup visibility
        vrButtonVisibilityHandler();
    };
    return VRToggleButton;
}(togglebutton_1.ToggleButton));
exports.VRToggleButton = VRToggleButton;


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var playerutils_1 = __webpack_require__(12);
var stringutils_1 = __webpack_require__(10);
var PlaybackTimeLabelMode;
(function (PlaybackTimeLabelMode) {
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentTime"] = 0] = "CurrentTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["TotalTime"] = 1] = "TotalTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2] = "CurrentAndTotalTime";
})(PlaybackTimeLabelMode = exports.PlaybackTimeLabelMode || (exports.PlaybackTimeLabelMode = {}));
/**
 * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
 * or any string through {@link PlaybackTimeLabel#setText setText}.
 */
var PlaybackTimeLabel = /** @class */ (function (_super) {
    __extends(PlaybackTimeLabel, _super);
    function PlaybackTimeLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktimelabel',
            timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
            hideInLivePlayback: false,
        }, _this.config);
        return _this;
    }
    PlaybackTimeLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var live = false;
        var liveCssClass = this.prefixCss('ui-playbacktimelabel-live');
        var liveEdgeCssClass = this.prefixCss('ui-playbacktimelabel-live-edge');
        var minWidth = 0;
        var liveClickHandler = function () {
            player.timeShift(0);
        };
        var updateLiveState = function () {
            // Player is playing a live stream when the duration is infinite
            live = player.isLive();
            // Attach/detach live marker class
            if (live) {
                _this.getDomElement().addClass(liveCssClass);
                _this.setText('Live');
                if (config.hideInLivePlayback) {
                    _this.hide();
                }
                _this.onClick.subscribe(liveClickHandler);
                updateLiveTimeshiftState();
            }
            else {
                _this.getDomElement().removeClass(liveCssClass);
                _this.getDomElement().removeClass(liveEdgeCssClass);
                _this.show();
                _this.onClick.unsubscribe(liveClickHandler);
            }
        };
        var updateLiveTimeshiftState = function () {
            if (!live) {
                return;
            }
            // The player is only at the live edge iff the stream is not shifted and it is actually playing or playback has
            // never been started (meaning it isn't paused). A player that is paused is always behind the live edge.
            // An exception is made for live streams without a timeshift window, because here we "stop" playback instead
            // of pausing it (from a UI perspective), so we keep the live edge indicator on because a play would always
            // resume at the live edge.
            var isTimeshifted = player.getTimeShift() < 0;
            var isTimeshiftAvailable = player.getMaxTimeShift() < 0;
            if (!isTimeshifted && (!player.isPaused() || !isTimeshiftAvailable)) {
                _this.getDomElement().addClass(liveEdgeCssClass);
            }
            else {
                _this.getDomElement().removeClass(liveEdgeCssClass);
            }
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            live = args.live;
            updateLiveState();
        });
        liveStreamDetector.detect(); // Initial detection
        var playbackTimeHandler = function () {
            if (!live && player.getDuration() !== Infinity) {
                _this.setTime(player.getCurrentTime(), player.getDuration());
            }
            // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
            // we gradually increase the min-width with the content to reach a stable size.
            var width = _this.getDomElement().width();
            if (width > minWidth) {
                minWidth = width;
                _this.getDomElement().css({
                    'min-width': minWidth + 'px',
                });
            }
        };
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PLAY, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PAUSED, updateLiveTimeshiftState);
        var init = function () {
            // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
            // changes)
            minWidth = 0;
            _this.getDomElement().css({
                'min-width': null,
            });
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
            // Update time after the format has been set
            playbackTimeHandler();
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets the current playback time and total duration.
     * @param playbackSeconds the current playback time in seconds
     * @param durationSeconds the total duration in seconds
     */
    PlaybackTimeLabel.prototype.setTime = function (playbackSeconds, durationSeconds) {
        var currentTime = stringutils_1.StringUtils.secondsToTime(playbackSeconds, this.timeFormat);
        var totalTime = stringutils_1.StringUtils.secondsToTime(durationSeconds, this.timeFormat);
        switch (this.config.timeLabelMode) {
            case PlaybackTimeLabelMode.CurrentTime:
                this.setText("" + currentTime);
                break;
            case PlaybackTimeLabelMode.TotalTime:
                this.setText("" + totalTime);
                break;
            case PlaybackTimeLabelMode.CurrentAndTotalTime:
                this.setText(currentTime + " / " + totalTime);
                break;
        }
    };
    /**
     * Sets the current time format
     * @param timeFormat the time format
     */
    PlaybackTimeLabel.prototype.setTimeFormat = function (timeFormat) {
        this.timeFormat = timeFormat;
    };
    return PlaybackTimeLabel;
}(label_1.Label));
exports.PlaybackTimeLabel = PlaybackTimeLabel;


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles visibility of a settings panel.
 */
var SettingsToggleButton = /** @class */ (function (_super) {
    __extends(SettingsToggleButton, _super);
    function SettingsToggleButton(config) {
        var _this = _super.call(this, config) || this;
        if (!config.settingsPanel) {
            throw new Error('Required SettingsPanel is missing');
        }
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settingstogglebutton',
            text: 'Settings',
            settingsPanel: null,
            autoHideWhenNoActiveSettings: true,
        }, _this.config);
        return _this;
    }
    SettingsToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        var settingsPanel = config.settingsPanel;
        this.onClick.subscribe(function () {
            settingsPanel.toggleHidden();
        });
        settingsPanel.onShow.subscribe(function () {
            // Set toggle status to on when the settings panel shows
            _this.on();
        });
        settingsPanel.onHide.subscribe(function () {
            // Set toggle status to off when the settings panel hides
            _this.off();
        });
        // Handle automatic hiding of the button if there are no settings for the user to interact with
        if (config.autoHideWhenNoActiveSettings) {
            // Setup handler to show/hide button when the settings change
            var settingsPanelItemsChangedHandler = function () {
                if (settingsPanel.hasActiveSettings()) {
                    if (_this.isHidden()) {
                        _this.show();
                    }
                }
                else {
                    if (_this.isShown()) {
                        _this.hide();
                    }
                }
            };
            // Wire the handler to the event
            settingsPanel.onSettingsStateChanged.subscribe(settingsPanelItemsChangedHandler);
            // Call handler for first init at startup
            settingsPanelItemsChangedHandler();
        }
    };
    return SettingsToggleButton;
}(togglebutton_1.ToggleButton));
exports.SettingsToggleButton = SettingsToggleButton;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var arrayutils_1 = __webpack_require__(11);
var ListSelector = /** @class */ (function (_super) {
    __extends(ListSelector, _super);
    function ListSelector(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.listSelectorEvents = {
            onItemAdded: new eventdispatcher_1.EventDispatcher(),
            onItemRemoved: new eventdispatcher_1.EventDispatcher(),
            onItemSelected: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            items: [],
            cssClass: 'ui-listselector',
        }, _this.config);
        _this.items = _this.config.items;
        return _this;
    }
    ListSelector.prototype.getItemIndex = function (key) {
        for (var index in this.items) {
            if (key === this.items[index].key) {
                return parseInt(index);
            }
        }
        return -1;
    };
    /**
     * Checks if the specified item is part of this selector.
     * @param key the key of the item to check
     * @returns {boolean} true if the item is part of this selector, else false
     */
    ListSelector.prototype.hasItem = function (key) {
        return this.getItemIndex(key) > -1;
    };
    /**
     * Adds an item to this selector by appending it to the end of the list of items. If an item with the specified
     * key already exists, it is replaced.
     * @param key the key of the item to add
     * @param label the (human-readable) label of the item to add
     */
    ListSelector.prototype.addItem = function (key, label) {
        var listItem = { key: key, label: label };
        // Apply filter function
        if (this.config.filter && !this.config.filter(listItem)) {
            return;
        }
        // Apply translator function
        if (this.config.translator) {
            listItem.label = this.config.translator(listItem);
        }
        this.removeItem(key); // Try to remove key first to get overwrite behavior and avoid duplicate keys
        this.items.push(listItem);
        this.onItemAddedEvent(key);
    };
    /**
     * Removes an item from this selector.
     * @param key the key of the item to remove
     * @returns {boolean} true if removal was successful, false if the item is not part of this selector
     */
    ListSelector.prototype.removeItem = function (key) {
        var index = this.getItemIndex(key);
        if (index > -1) {
            arrayutils_1.ArrayUtils.remove(this.items, this.items[index]);
            this.onItemRemovedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Selects an item from the items in this selector.
     * @param key the key of the item to select
     * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
     */
    ListSelector.prototype.selectItem = function (key) {
        if (key === this.selectedItem) {
            // itemConfig is already selected, suppress any further action
            return true;
        }
        var index = this.getItemIndex(key);
        if (index > -1) {
            this.selectedItem = key;
            this.onItemSelectedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Returns the key of the selected item.
     * @returns {string} the key of the selected item or null if no item is selected
     */
    ListSelector.prototype.getSelectedItem = function () {
        return this.selectedItem;
    };
    /**
     * Removes all items from this selector.
     */
    ListSelector.prototype.clearItems = function () {
        // local copy for iteration after clear
        var items = this.items;
        // clear items
        this.items = [];
        // clear the selection as the selected item is also removed
        this.selectedItem = null;
        // fire events
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            this.onItemRemovedEvent(item.key);
        }
    };
    /**
     * Returns the number of items in this selector.
     * @returns {number}
     */
    ListSelector.prototype.itemCount = function () {
        return Object.keys(this.items).length;
    };
    ListSelector.prototype.onItemAddedEvent = function (key) {
        this.listSelectorEvents.onItemAdded.dispatch(this, key);
    };
    ListSelector.prototype.onItemRemovedEvent = function (key) {
        this.listSelectorEvents.onItemRemoved.dispatch(this, key);
    };
    ListSelector.prototype.onItemSelectedEvent = function (key) {
        this.listSelectorEvents.onItemSelected.dispatch(this, key);
    };
    Object.defineProperty(ListSelector.prototype, "onItemAdded", {
        /**
         * Gets the event that is fired when an item is added to the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemAdded.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
        /**
         * Gets the event that is fired when an item is removed from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemRemoved.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemSelected", {
        /**
         * Gets the event that is fired when an item is selected from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemSelected.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ListSelector;
}(component_1.Component));
exports.ListSelector = ListSelector;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var settingspanel_1 = __webpack_require__(22);
var fontcolorselectbox_1 = __webpack_require__(36);
var fontopacityselectbox_1 = __webpack_require__(37);
var fontfamilyselectbox_1 = __webpack_require__(38);
var fontsizeselectbox_1 = __webpack_require__(39);
var backgroundcolorselectbox_1 = __webpack_require__(40);
var backgroundopacityselectbox_1 = __webpack_require__(41);
var windowcolorselectbox_1 = __webpack_require__(42);
var windowopacityselectbox_1 = __webpack_require__(43);
var characteredgeselectbox_1 = __webpack_require__(44);
var subtitlesettingsmanager_1 = __webpack_require__(75);
var subtitlesettingsclosebutton_1 = __webpack_require__(46);
var subtitlesettingsresetbutton_1 = __webpack_require__(47);
/**
 * SubtitleSettingsPanel is a settings panel specific to subtitles settings
 **/
var SubtitleSettingsPanel = /** @class */ (function (_super) {
    __extends(SubtitleSettingsPanel, _super);
    function SubtitleSettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.overlay = config.overlay;
        var manager = new subtitlesettingsmanager_1.SubtitleSettingsManager();
        _this.config = _this.mergeConfig(config, {
            components: [
                new settingspanel_1.SettingsPanelItem('Font size', new fontsizeselectbox_1.FontSizeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font family', new fontfamilyselectbox_1.FontFamilySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font color', new fontcolorselectbox_1.FontColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font opacity', new fontopacityselectbox_1.FontOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Character edge', new characteredgeselectbox_1.CharacterEdgeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background color', new backgroundcolorselectbox_1.BackgroundColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background opacity', new backgroundopacityselectbox_1.BackgroundOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window color', new windowcolorselectbox_1.WindowColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window opacity', new windowopacityselectbox_1.WindowOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem(new subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton({
                    subtitleSettingsPanel: _this, settingsPanel: config.settingsPanel,
                }), new subtitlesettingsresetbutton_1.SubtitleSettingsResetButton({
                    settingsManager: manager,
                })),
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onShow.subscribe(function () {
            _this.overlay.enablePreviewSubtitleLabel();
        });
        this.onHide.subscribe(function () {
            _this.overlay.removePreviewSubtitleLabel();
        });
    };
    return SubtitleSettingsPanel;
}(settingspanel_1.SettingsPanel));
exports.SubtitleSettingsPanel = SubtitleSettingsPanel;


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontColorSelectBox = /** @class */ (function (_super) {
    __extends(FontColorSelectBox, _super);
    function FontColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.fontColor.isSet() && _this.settingsManager.fontOpacity.isSet()) {
                _this.toggleOverlayClass('fontcolor-' + _this.settingsManager.fontColor.value + _this.settingsManager.fontOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontColor.value = key;
        });
        this.settingsManager.fontColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.fontOpacity.clear();
            }
            else if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.fontOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.fontOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.fontColor.isSet()) {
            this.selectItem(this.settingsManager.fontColor.value);
        }
    };
    return FontColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontColorSelectBox = FontColorSelectBox;


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontOpacitySelectBox = /** @class */ (function (_super) {
    __extends(FontOpacitySelectBox, _super);
    function FontOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.fontColor.clear();
            }
            else if (!_this.settingsManager.fontColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.fontColor.value = 'white';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.fontOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.fontOpacity.isSet()) {
            this.selectItem(this.settingsManager.fontOpacity.value);
        }
    };
    return FontOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontOpacitySelectBox = FontOpacitySelectBox;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font family.
 */
var FontFamilySelectBox = /** @class */ (function (_super) {
    __extends(FontFamilySelectBox, _super);
    function FontFamilySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontFamilySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('monospacedserif', 'monospaced serif');
        this.addItem('proportionalserif', 'proportional serif');
        this.addItem('monospacedsansserif', 'monospaced sans serif');
        this.addItem('proportionalsansserif', 'proportional sans serif');
        this.addItem('casual', 'casual');
        this.addItem('cursive', 'cursive');
        this.addItem('smallcapital', 'small capital');
        this.settingsManager.fontFamily.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontfamily-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontFamily.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontFamily.isSet()) {
            this.selectItem(this.settingsManager.fontFamily.value);
        }
    };
    return FontFamilySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontFamilySelectBox = FontFamilySelectBox;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontSizeSelectBox = /** @class */ (function (_super) {
    __extends(FontSizeSelectBox, _super);
    function FontSizeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontSizeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('50', '50%');
        this.addItem('75', '75%');
        this.addItem('100', '100%');
        this.addItem('150', '150%');
        this.addItem('200', '200%');
        this.addItem('300', '300%');
        this.addItem('400', '400%');
        this.settingsManager.fontSize.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontsize-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontSize.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontSize.isSet()) {
            this.selectItem(this.settingsManager.fontSize.value);
        }
    };
    return FontSizeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontSizeSelectBox = FontSizeSelectBox;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var BackgroundColorSelectBox = /** @class */ (function (_super) {
    __extends(BackgroundColorSelectBox, _super);
    function BackgroundColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.backgroundColor.isSet() && _this.settingsManager.backgroundOpacity.isSet()) {
                _this.toggleOverlayClass('bgcolor-' + _this.settingsManager.backgroundColor.value + _this.settingsManager.backgroundOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundColor.value = key;
        });
        this.settingsManager.backgroundColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.backgroundOpacity.clear();
            }
            else if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.backgroundOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.backgroundColor.isSet()) {
            this.selectItem(this.settingsManager.backgroundColor.value);
        }
    };
    return BackgroundColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundColorSelectBox = BackgroundColorSelectBox;


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var BackgroundOpacitySelectBox = /** @class */ (function (_super) {
    __extends(BackgroundOpacitySelectBox, _super);
    function BackgroundOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.backgroundColor.clear();
            }
            else if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.backgroundColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.backgroundOpacity.isSet()) {
            this.selectItem(this.settingsManager.backgroundOpacity.value);
        }
    };
    return BackgroundOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundOpacitySelectBox = BackgroundOpacitySelectBox;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var WindowColorSelectBox = /** @class */ (function (_super) {
    __extends(WindowColorSelectBox, _super);
    function WindowColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.windowColor.isSet() && _this.settingsManager.windowOpacity.isSet()) {
                _this.toggleOverlayClass('windowcolor-' + _this.settingsManager.windowColor.value + _this.settingsManager.windowOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowColor.value = key;
        });
        this.settingsManager.windowColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.windowOpacity.clear();
            }
            else if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.windowOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.windowOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.windowColor.isSet()) {
            this.selectItem(this.settingsManager.windowColor.value);
        }
    };
    return WindowColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowColorSelectBox = WindowColorSelectBox;


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var WindowOpacitySelectBox = /** @class */ (function (_super) {
    __extends(WindowOpacitySelectBox, _super);
    function WindowOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.windowColor.clear();
            }
            else if (!_this.settingsManager.windowColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.windowColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.windowOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.windowOpacity.isSet()) {
            this.selectItem(this.settingsManager.windowOpacity.value);
        }
    };
    return WindowOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowOpacitySelectBox = WindowOpacitySelectBox;


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different character edge.
 */
var CharacterEdgeSelectBox = /** @class */ (function (_super) {
    __extends(CharacterEdgeSelectBox, _super);
    function CharacterEdgeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CharacterEdgeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('raised', 'raised');
        this.addItem('depressed', 'depressed');
        this.addItem('uniform', 'uniform');
        this.addItem('dropshadowed', 'drop shadowed');
        this.settingsManager.characterEdge.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('characteredge-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.characterEdge.value = key;
        });
        // Load initial value
        if (this.settingsManager.characterEdge.isSet()) {
            this.selectItem(this.settingsManager.characterEdge.value);
        }
    };
    return CharacterEdgeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.CharacterEdgeSelectBox = CharacterEdgeSelectBox;


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StorageUtils;
(function (StorageUtils) {
    var hasLocalStorageCache;
    function hasLocalStorage() {
        if (hasLocalStorageCache) {
            return hasLocalStorageCache;
        }
        // hasLocalStorage is used to safely ensure we can use localStorage
        // taken from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Feature-detecting_localStorage
        var storage = window['localStorage'];
        try {
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            hasLocalStorageCache = true;
        }
        catch (e) {
            hasLocalStorageCache = e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
        return hasLocalStorageCache;
    }
    StorageUtils.hasLocalStorage = hasLocalStorage;
    /**
     * Stores a string item into localStorage.
     * @param key the item's key
     * @param data the item's data
     */
    function setItem(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            window.localStorage.setItem(key, data);
        }
    }
    StorageUtils.setItem = setItem;
    /**
     * Gets an item's string value from the localStorage.
     * @param key the key to look up its associated value
     * @return {string | null} Returns the string if found, null if there is no data stored for the key
     */
    function getItem(key) {
        if (StorageUtils.hasLocalStorage()) {
            return window.localStorage.getItem(key);
        }
        else {
            return null;
        }
    }
    StorageUtils.getItem = getItem;
    /**
     * Stores an object into localStorage. The object will be serialized to JSON. The following types are supported
     * in addition to the default types:
     *  - ColorUtils.Color
     *
     * @param key the key to store the data to
     * @param data the object to store
     */
    function setObject(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            var json = JSON.stringify(data);
            setItem(key, json);
        }
    }
    StorageUtils.setObject = setObject;
    /**
     * Gets an object for the given key from localStorage. The object will be deserialized from JSON. Beside the
     * default types, the following types are supported:
     *  - ColorUtils.Color
     *
     * @param key the key to look up its associated object
     * @return {any} Returns the object if found, null otherwise
     */
    function getObject(key) {
        if (StorageUtils.hasLocalStorage()) {
            var json = getItem(key);
            if (key) {
                var object = JSON.parse(json);
                return object;
            }
        }
        return null;
    }
    StorageUtils.getObject = getObject;
})(StorageUtils = exports.StorageUtils || (exports.StorageUtils = {}));


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(25);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsCloseButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsCloseButton, _super);
    function SubtitleSettingsCloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsclosebutton',
            text: 'Back',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsCloseButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.hide();
            _this.settingsPanel.show();
        });
    };
    return SubtitleSettingsCloseButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsCloseButton = SubtitleSettingsCloseButton;


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that resets all subtitle settings to their defaults.
 */
var SubtitleSettingsResetButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsResetButton, _super);
    function SubtitleSettingsResetButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsresetbutton',
            text: 'Reset',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsResetButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.config.settingsManager.reset();
        });
    };
    return SubtitleSettingsResetButton;
}(button_1.Button));
exports.SubtitleSettingsResetButton = SubtitleSettingsResetButton;


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var SubtitleSettingsLabel = /** @class */ (function (_super) {
    __extends(SubtitleSettingsLabel, _super);
    function SubtitleSettingsLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.opener = config.opener;
        _this.text = config.text;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
            components: [
                _this.opener,
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsLabel.prototype.toDomElement = function () {
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {}).html(this.text), this.opener.getDomElement());
        return labelElement;
    };
    return SubtitleSettingsLabel;
}(container_1.Container));
exports.SubtitleSettingsLabel = SubtitleSettingsLabel;


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(25);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsOpenButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsOpenButton, _super);
    function SubtitleSettingsOpenButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsopenbutton',
            text: 'Subtitles settings',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsOpenButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.show();
            _this.settingsPanel.hide();
        });
    };
    return SubtitleSettingsOpenButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsOpenButton = SubtitleSettingsOpenButton;


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available audio tracks (e.g. different languages).
 */
var AudioTrackSelectBox = /** @class */ (function (_super) {
    __extends(AudioTrackSelectBox, _super);
    function AudioTrackSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioTrackSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioTrack = function () {
            var currentAudioTrack = player.getAudio();
            // HLS streams don't always provide this, so we have to check
            if (currentAudioTrack) {
                _this.selectItem(currentAudioTrack.id);
            }
        };
        var updateAudioTracks = function () {
            var audioTracks = player.getAvailableAudio();
            _this.clearItems();
            // Add audio tracks
            for (var _i = 0, audioTracks_1 = audioTracks; _i < audioTracks_1.length; _i++) {
                var audioTrack = audioTracks_1[_i];
                _this.addItem(audioTrack.id, audioTrack.label);
            }
            // Select the correct audio track after the tracks have been added
            // This is also important in case we missed the `ON_AUDIO_CHANGED` event, e.g. when `playback.audioLanguage`
            // is configured but the event is fired before the UI is created.
            selectCurrentAudioTrack();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudio(value);
        });
        // Update selection when selected track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, selectCurrentAudioTrack);
        // Update tracks when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioTracks);
        // Update tracks when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioTracks);
        // Update tracks when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioTracks);
        // Update tracks when a track is added or removed (since player 7.1.4)
        if (player.EVENT.ON_AUDIO_ADDED && player.EVENT.ON_AUDIO_REMOVED) {
            player.addEventHandler(player.EVENT.ON_AUDIO_ADDED, updateAudioTracks);
            player.addEventHandler(player.EVENT.ON_AUDIO_REMOVED, updateAudioTracks);
        }
        // Populate tracks at startup
        updateAudioTracks();
    };
    return AudioTrackSelectBox;
}(selectbox_1.SelectBox));
exports.AudioTrackSelectBox = AudioTrackSelectBox;


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var component_1 = __webpack_require__(2);
var stringutils_1 = __webpack_require__(10);
var imageloader_1 = __webpack_require__(76);
/**
 * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
 */
var SeekBarLabel = /** @class */ (function (_super) {
    __extends(SeekBarLabel, _super);
    function SeekBarLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.timeLabel = new label_1.Label({ cssClasses: ['seekbar-label-time'] });
        _this.titleLabel = new label_1.Label({ cssClasses: ['seekbar-label-title'] });
        _this.thumbnail = new component_1.Component({ cssClasses: ['seekbar-thumbnail'] });
        _this.thumbnailImageLoader = new imageloader_1.ImageLoader();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar-label',
            components: [new container_1.Container({
                    components: [
                        _this.thumbnail,
                        new container_1.Container({
                            components: [_this.titleLabel, _this.timeLabel],
                            cssClass: 'seekbar-label-metadata',
                        })
                    ],
                    cssClass: 'seekbar-label-inner',
                })],
            hidden: true,
        }, _this.config);
        return _this;
    }
    SeekBarLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var appliedMarkerCssClasses = [];
        uimanager.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (player.isLive()) {
                var maxTimeShift = player.getMaxTimeShift();
                var time = maxTimeShift - maxTimeShift * (args.position / 100);
                _this.setTime(time);
            }
            else {
                if (args.marker) {
                    _this.setTitleText(args.marker.marker.title);
                }
                else {
                    _this.setTitleText(null);
                }
                var time = player.getDuration() * (args.position / 100);
                _this.setTime(time);
                _this.setThumbnail(player.getThumb(time));
            }
            // Remove CSS classes from previous marker
            if (appliedMarkerCssClasses.length > 0) {
                _this.getDomElement().removeClass(appliedMarkerCssClasses.join(' '));
                appliedMarkerCssClasses = [];
            }
            // Add CSS classes of current marker
            if (args.marker) {
                var cssClasses = (args.marker.marker.cssClasses || []).map(function (cssClass) { return _this.prefixCss(cssClass); });
                _this.getDomElement().addClass(cssClasses.join(' '));
                appliedMarkerCssClasses = cssClasses;
            }
        }, 100);
        var init = function () {
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets arbitrary text on the label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setText = function (text) {
        this.timeLabel.setText(text);
    };
    /**
     * Sets a time to be displayed on the label.
     * @param seconds the time in seconds to display on the label
     */
    SeekBarLabel.prototype.setTime = function (seconds) {
        this.setText(stringutils_1.StringUtils.secondsToTime(seconds, this.timeFormat));
    };
    /**
     * Sets the text on the title label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setTitleText = function (text) {
        this.titleLabel.setText(text);
    };
    /**
     * Sets or removes a thumbnail on the label.
     * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
     */
    SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
        if (thumbnail === void 0) { thumbnail = null; }
        var thumbnailElement = this.thumbnail.getDomElement();
        if (thumbnail == null) {
            thumbnailElement.css({
                'background-image': null,
                'display': null,
                'width': null,
                'height': null,
            });
        }
        else {
            // We use the thumbnail image loader to make sure the thumbnail is loaded and it's size is known before be can
            // calculate the CSS properties and set them on the element.
            this.thumbnailImageLoader.load(thumbnail.url, function (url, width, height) {
                var thumbnailCountX = width / thumbnail.w;
                var thumbnailCountY = height / thumbnail.h;
                var thumbnailIndexX = thumbnail.x / thumbnail.w;
                var thumbnailIndexY = thumbnail.y / thumbnail.h;
                var sizeX = 100 * thumbnailCountX;
                var sizeY = 100 * thumbnailCountY;
                var offsetX = 100 * thumbnailIndexX;
                var offsetY = 100 * thumbnailIndexY;
                var aspectRatio = 1 / thumbnail.w * thumbnail.h;
                // The thumbnail size is set by setting the CSS 'width' and 'padding-bottom' properties. 'padding-bottom' is
                // used because it is relative to the width and can be used to set the aspect ratio of the thumbnail.
                // A default value for width is set in the stylesheet and can be overwritten from there or anywhere else.
                thumbnailElement.css({
                    'display': 'inherit',
                    'background-image': "url(" + thumbnail.url + ")",
                    'padding-bottom': 100 * aspectRatio + "%",
                    'background-size': sizeX + "% " + sizeY + "%",
                    'background-position': "-" + offsetX + "% -" + offsetY + "%",
                });
            });
        }
    };
    return SeekBarLabel;
}(container_1.Container));
exports.SeekBarLabel = SeekBarLabel;


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available subtitle and caption tracks.
 */
var SubtitleSelectBox = /** @class */ (function (_super) {
    __extends(SubtitleSelectBox, _super);
    function SubtitleSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    SubtitleSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentSubtitle = function () {
            var currentSubtitle = player.getSubtitle();
            if (currentSubtitle) {
                _this.selectItem(currentSubtitle.id);
            }
        };
        var updateSubtitles = function () {
            _this.clearItems();
            for (var _i = 0, _a = player.getAvailableSubtitles(); _i < _a.length; _i++) {
                var subtitle = _a[_i];
                _this.addItem(subtitle.id, subtitle.label);
            }
            // Select the correct subtitle after the subtitles have been added
            selectCurrentSubtitle();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setSubtitle(value === 'null' ? null : value);
        });
        // React to API events
        player.addEventHandler(player.EVENT.ON_SUBTITLE_ADDED, updateSubtitles);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, selectCurrentSubtitle);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_REMOVED, updateSubtitles);
        // Update subtitles when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateSubtitles);
        // Update subtitles when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateSubtitles);
        // Update subtitles when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateSubtitles);
        // Populate subtitles at startup
        updateSubtitles();
    };
    return SubtitleSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSelectBox = SubtitleSelectBox;


/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var controlbar_1 = __webpack_require__(19);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * Overlays the player to display subtitles.
 */
var SubtitleOverlay = /** @class */ (function (_super) {
    __extends(SubtitleOverlay, _super);
    function SubtitleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.preprocessLabelEventCallback = new eventdispatcher_1.EventDispatcher();
        _this.previewSubtitleActive = false;
        _this.previewSubtitle = new SubtitleLabel({ text: 'example subtitle' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-overlay',
        }, _this.config);
        return _this;
    }
    SubtitleOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var subtitleManager = new ActiveSubtitleManager();
        this.subtitleManager = subtitleManager;
        player.addEventHandler(player.EVENT.ON_CUE_ENTER, function (event) {
            // Sanitize cue data (must be done before the cue ID is generated in subtitleManager.cueEnter)
            if (event.position) {
                // Sometimes the positions are undefined, we assume them to be zero
                event.position.row = event.position.row || 0;
                event.position.column = event.position.column || 0;
            }
            var labelToAdd = subtitleManager.cueEnter(event);
            _this.preprocessLabelEventCallback.dispatch(event, labelToAdd);
            if (_this.previewSubtitleActive) {
                _this.removeComponent(_this.previewSubtitle);
            }
            _this.addComponent(labelToAdd);
            _this.updateComponents();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function (event) {
            var labelToRemove = subtitleManager.cueExit(event);
            if (labelToRemove) {
                _this.removeComponent(labelToRemove);
                _this.updateComponents();
            }
            if (!subtitleManager.hasCues) {
                if (!_this.previewSubtitleActive) {
                    _this.hide();
                }
                else {
                    _this.addComponent(_this.previewSubtitle);
                    _this.updateComponents();
                }
            }
        });
        var subtitleClearHandler = function () {
            _this.hide();
            subtitleManager.clear();
            _this.removeComponents();
            _this.updateComponents();
        };
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SEEK, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, subtitleClearHandler);
        uimanager.onComponentShow.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        uimanager.onComponentHide.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        this.configureCea608Captions(player, uimanager);
        // Init
        subtitleClearHandler();
    };
    SubtitleOverlay.prototype.configureCea608Captions = function (player, uimanager) {
        var _this = this;
        // The calculated font size
        var fontSize = 0;
        // The required letter spacing spread the text characters evenly across the grid
        var fontLetterSpacing = 0;
        // Flag telling if a font size calculation is required of if the current values are valid
        var fontSizeCalculationRequired = true;
        // Flag telling if the CEA-608 mode is enabled
        var enabled = false;
        var updateCEA608FontSize = function () {
            var dummyLabel = new SubtitleLabel({ text: 'X' });
            dummyLabel.getDomElement().css({
                // By using a large font size we do not need to use multiple letters and can get still an
                // accurate measurement even though the returned size is an integer value
                'font-size': '200px',
                'line-height': '200px',
                'visibility': 'hidden',
            });
            _this.addComponent(dummyLabel);
            _this.updateComponents();
            _this.show();
            var dummyLabelCharWidth = dummyLabel.getDomElement().width();
            var dummyLabelCharHeight = dummyLabel.getDomElement().height();
            var fontSizeRatio = dummyLabelCharWidth / dummyLabelCharHeight;
            _this.removeComponent(dummyLabel);
            _this.updateComponents();
            if (!_this.subtitleManager.hasCues) {
                _this.hide();
            }
            // We subtract 1px here to avoid line breaks at the right border of the subtitle overlay that can happen
            // when texts contain whitespaces. It's probably some kind of pixel rounding issue in the browser's
            // layouting, but the actual reason could not be determined. Aiming for a target width - 1px would work in
            // most browsers, but Safari has a "quantized" font size rendering with huge steps in between so we need
            // to subtract some more pixels to avoid line breaks there as well.
            var subtitleOverlayWidth = _this.getDomElement().width() - 10;
            var subtitleOverlayHeight = _this.getDomElement().height();
            // The size ratio of the letter grid
            var fontGridSizeRatio = (dummyLabelCharWidth * SubtitleOverlay.CEA608_NUM_COLUMNS) /
                (dummyLabelCharHeight * SubtitleOverlay.CEA608_NUM_ROWS);
            // The size ratio of the available space for the grid
            var subtitleOverlaySizeRatio = subtitleOverlayWidth / subtitleOverlayHeight;
            if (subtitleOverlaySizeRatio > fontGridSizeRatio) {
                // When the available space is wider than the text grid, the font size is simply
                // determined by the height of the available space.
                fontSize = subtitleOverlayHeight / SubtitleOverlay.CEA608_NUM_ROWS;
                // Calculate the additional letter spacing required to evenly spread the text across the grid's width
                var gridSlotWidth = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS;
                var fontCharWidth = fontSize * fontSizeRatio;
                fontLetterSpacing = gridSlotWidth - fontCharWidth;
            }
            else {
                // When the available space is not wide enough, texts would vertically overlap if we take
                // the height as a base for the font size, so we need to limit the height. We do that
                // by determining the font size by the width of the available space.
                fontSize = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS / fontSizeRatio;
                fontLetterSpacing = 0;
            }
            // Update font-size of all active subtitle labels
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var label = _a[_i];
                if (label instanceof SubtitleLabel) {
                    label.getDomElement().css({
                        'font-size': fontSize + "px",
                        'letter-spacing': fontLetterSpacing + "px",
                    });
                }
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            if (enabled) {
                updateCEA608FontSize();
            }
            else {
                fontSizeCalculationRequired = true;
            }
        });
        this.preprocessLabelEventCallback.subscribe(function (event, label) {
            var isCEA608 = event.position != null;
            if (!isCEA608) {
                // Skip all non-CEA608 cues
                return;
            }
            if (!enabled) {
                enabled = true;
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                // We conditionally update the font size by this flag here to avoid updating every time a subtitle
                // is added into an empty overlay. Because we reset the overlay when all subtitles are gone, this
                // would trigger an unnecessary update every time, but it's only required under certain conditions,
                // e.g. after the player size has changed.
                if (fontSizeCalculationRequired) {
                    updateCEA608FontSize();
                    fontSizeCalculationRequired = false;
                }
            }
            label.getDomElement().css({
                'left': event.position.column * SubtitleOverlay.CEA608_COLUMN_OFFSET + "%",
                'top': event.position.row * SubtitleOverlay.CEA608_ROW_OFFSET + "%",
                'font-size': fontSize + "px",
                'letter-spacing': fontLetterSpacing + "px",
            });
        });
        var reset = function () {
            _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
            enabled = false;
        };
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function () {
            if (!_this.subtitleManager.hasCues) {
                // Disable CEA-608 mode when all subtitles are gone (to allow correct formatting and
                // display of other types of subtitles, e.g. the formatting preview subtitle)
                reset();
            }
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, reset);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, reset);
    };
    SubtitleOverlay.prototype.enablePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = true;
        if (!this.subtitleManager.hasCues) {
            this.addComponent(this.previewSubtitle);
            this.updateComponents();
            this.show();
        }
    };
    SubtitleOverlay.prototype.removePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = false;
        this.removeComponent(this.previewSubtitle);
        this.updateComponents();
    };
    SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE = 'controlbar-visible';
    SubtitleOverlay.CLASS_CEA_608 = 'cea608';
    // The number of rows in a cea608 grid
    SubtitleOverlay.CEA608_NUM_ROWS = 15;
    // The number of columns in a cea608 grid
    SubtitleOverlay.CEA608_NUM_COLUMNS = 32;
    // The offset in percent for one row (which is also the height of a row)
    SubtitleOverlay.CEA608_ROW_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_ROWS;
    // The offset in percent for one column (which is also the width of a column)
    SubtitleOverlay.CEA608_COLUMN_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_COLUMNS;
    return SubtitleOverlay;
}(container_1.Container));
exports.SubtitleOverlay = SubtitleOverlay;
var SubtitleLabel = /** @class */ (function (_super) {
    __extends(SubtitleLabel, _super);
    function SubtitleLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-label',
        }, _this.config);
        return _this;
    }
    return SubtitleLabel;
}(label_1.Label));
var ActiveSubtitleManager = /** @class */ (function () {
    function ActiveSubtitleManager() {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    }
    /**
     * Calculates a unique ID for a subtitle cue, which is needed to associate an ON_CUE_ENTER with its ON_CUE_EXIT
     * event so we can remove the correct subtitle in ON_CUE_EXIT when multiple subtitles are active at the same time.
     * The start time plus the text should make a unique identifier, and in the only case where a collision
     * can happen, two similar texts will be displayed at a similar time and a similar position (or without position).
     * The start time should always be known, because it is required to schedule the ON_CUE_ENTER event. The end time
     * must not necessarily be known and therefore cannot be used for the ID.
     * @param event
     * @return {string}
     */
    ActiveSubtitleManager.calculateId = function (event) {
        var id = event.start + '-' + event.text;
        if (event.position) {
            id += '-' + event.position.row + '-' + event.position.column;
        }
        return id;
    };
    /**
     * Adds a subtitle cue to the manager and returns the label that should be added to the subtitle overlay.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.cueEnter = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var label = new SubtitleLabel({
            // Prefer the HTML subtitle text if set, else use the plain text
            text: event.html || event.text,
        });
        // Create array for id if it does not exist
        this.activeSubtitleCueMap[id] = this.activeSubtitleCueMap[id] || [];
        // Add cue
        this.activeSubtitleCueMap[id].push({ event: event, label: label });
        this.activeSubtitleCueCount++;
        return label;
    };
    /**
     * Returns the label associated with an already added cue.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.getCues = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            return activeSubtitleCues.map(function (cue) { return cue.label; });
        }
        else {
            return null;
        }
    };
    /**
     * Removes the subtitle cue from the manager and returns the label that should be removed from the subtitle overlay,
     * or null if there is no associated label existing (e.g. because all labels have been {@link #clear cleared}.
     * @param event
     * @return {SubtitleLabel|null}
     */
    ActiveSubtitleManager.prototype.cueExit = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            // Remove cue
            /* We apply the FIFO approach here and remove the oldest cue from the associated id. When there are multiple cues
             * with the same id, there is no way to know which one of the cues is to be deleted, so we just hope that FIFO
             * works fine. Theoretically it can happen that two cues with colliding ids are removed at different times, in
             * the wrong order. This rare case has yet to be observed. If it ever gets an issue, we can take the unstable
             * cue end time (which can change between ON_CUE_ENTER and ON_CUE_EXIT IN ON_CUE_UPDATE) and use it as an
             * additional hint to try and remove the correct one of the colliding cues.
             */
            var activeSubtitleCue = activeSubtitleCues.shift();
            this.activeSubtitleCueCount--;
            return activeSubtitleCue.label;
        }
        else {
            return null;
        }
    };
    Object.defineProperty(ActiveSubtitleManager.prototype, "cueCount", {
        /**
         * Returns the number of active subtitle cues.
         * @return {number}
         */
        get: function () {
            // We explicitly count the cues to save an Array.reduce on every cueCount call (which can happen frequently)
            return this.activeSubtitleCueCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActiveSubtitleManager.prototype, "hasCues", {
        /**
         * Returns true if there are active subtitle cues, else false.
         * @return {boolean}
         */
        get: function () {
            return this.cueCount > 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Removes all subtitle cues from the manager.
     */
    ActiveSubtitleManager.prototype.clear = function () {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    };
    return ActiveSubtitleManager;
}());


/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles casting to a Cast receiver.
 */
var CastToggleButton = /** @class */ (function (_super) {
    __extends(CastToggleButton, _super);
    function CastToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-casttogglebutton',
            text: 'Google Cast',
        }, _this.config);
        return _this;
    }
    CastToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            if (player.isCastAvailable()) {
                if (player.isCasting()) {
                    player.castStop();
                }
                else {
                    player.castVideo();
                }
            }
            else {
                if (console) {
                    console.log('Cast unavailable');
                }
            }
        });
        var castAvailableHander = function () {
            if (player.isCastAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_AVAILABLE, castAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            // When a session is resumed, there is no ON_CAST_START event, so we also need to toggle here for such cases
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            _this.off();
        });
        // Startup init
        castAvailableHander(); // Hide button if Cast not available
        if (player.isCasting()) {
            this.on();
        }
    };
    return CastToggleButton;
}(togglebutton_1.ToggleButton));
exports.CastToggleButton = CastToggleButton;


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
/**
 * Overlays the player and displays the status of a Cast session.
 */
var CastStatusOverlay = /** @class */ (function (_super) {
    __extends(CastStatusOverlay, _super);
    function CastStatusOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.statusLabel = new label_1.Label({ cssClass: 'ui-cast-status-label' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-cast-status-overlay',
            components: [_this.statusLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    CastStatusOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function (event) {
            _this.show();
            // Get device name and update status text while connecting
            var castDeviceName = event.castPayload.deviceName;
            _this.statusLabel.setText("Connecting to <strong>" + castDeviceName + "</strong>...");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function (event) {
            // Session is started or resumed
            // For cases when a session is resumed, we do not receive the previous events and therefore show the status panel
            // here too
            _this.show();
            var castDeviceName = event.deviceName;
            _this.statusLabel.setText("Playing on <strong>" + castDeviceName + "</strong>");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function (event) {
            // Cast session gone, hide the status panel
            _this.hide();
        });
    };
    return CastStatusOverlay;
}(container_1.Container));
exports.CastStatusOverlay = CastStatusOverlay;


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var tvnoisecanvas_1 = __webpack_require__(77);
/**
 * Overlays the player and displays error messages.
 */
var ErrorMessageOverlay = /** @class */ (function (_super) {
    __extends(ErrorMessageOverlay, _super);
    function ErrorMessageOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.errorLabel = new label_1.Label({ cssClass: 'ui-errormessage-label' });
        _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-errormessage-overlay',
            components: [_this.tvNoiseBackground, _this.errorLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    ErrorMessageOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        player.addEventHandler(player.EVENT.ON_ERROR, function (event) {
            var message = event.message;
            // Process message translations
            if (config.messages) {
                if (typeof config.messages === 'function') {
                    // Translation function for all errors
                    message = config.messages(event);
                }
                else if (config.messages[event.code]) {
                    // It's not a translation function, so it must be a map of strings or translation functions
                    var customMessage = config.messages[event.code];
                    if (typeof customMessage === 'string') {
                        message = customMessage;
                    }
                    else {
                        // The message is a translation function, so we call it
                        message = customMessage(event);
                    }
                }
            }
            _this.errorLabel.setText(message);
            _this.tvNoiseBackground.start();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, function (event) {
            if (_this.isShown()) {
                _this.tvNoiseBackground.stop();
                _this.hide();
            }
        });
    };
    ErrorMessageOverlay.prototype.release = function () {
        _super.prototype.release.call(this);
        // Canvas rendering must be explicitly stopped, else it just continues forever and hogs resources
        this.tvNoiseBackground.stop();
    };
    return ErrorMessageOverlay;
}(container_1.Container));
exports.ErrorMessageOverlay = ErrorMessageOverlay;


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var metadatalabel_1 = __webpack_require__(27);
/**
 * Displays a title bar containing a label with the title of the video.
 */
var TitleBar = /** @class */ (function (_super) {
    __extends(TitleBar, _super);
    function TitleBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-titlebar',
            hidden: true,
            components: [
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Description }),
            ],
            keepHiddenWithoutMetadata: false,
        }, _this.config);
        return _this;
    }
    TitleBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var shouldBeShown = !this.isHidden();
        var hasMetadataText = true; // Flag to track if any metadata label contains text
        var checkMetadataTextAndUpdateVisibility = function () {
            hasMetadataText = false;
            // Iterate through metadata labels and check if at least one of them contains text
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof metadatalabel_1.MetadataLabel) {
                    if (!component.isEmpty()) {
                        hasMetadataText = true;
                        break;
                    }
                }
            }
            if (_this.isShown()) {
                // Hide a visible titlebar if it does not contain any text and the hidden flag is set
                if (config.keepHiddenWithoutMetadata && !hasMetadataText) {
                    _this.hide();
                }
            }
            else if (shouldBeShown) {
                // Show a hidden titlebar if it should actually be shown
                _this.show();
            }
        };
        // Listen to text change events to update the hasMetadataText flag when the metadata dynamically changes
        for (var _i = 0, _a = this.getComponents(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component instanceof metadatalabel_1.MetadataLabel) {
                component.onTextChanged.subscribe(checkMetadataTextAndUpdateVisibility);
            }
        }
        uimanager.onControlsShow.subscribe(function () {
            shouldBeShown = true;
            if (!(config.keepHiddenWithoutMetadata && !hasMetadataText)) {
                _this.show();
            }
        });
        uimanager.onControlsHide.subscribe(function () {
            shouldBeShown = false;
            _this.hide();
        });
        // init
        checkMetadataTextAndUpdateVisibility();
    };
    return TitleBar;
}(container_1.Container));
exports.TitleBar = TitleBar;


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var stringutils_1 = __webpack_require__(10);
var hugereplaybutton_1 = __webpack_require__(59);
/**
 * Overlays the player and displays recommended videos.
 */
var RecommendationOverlay = /** @class */ (function (_super) {
    __extends(RecommendationOverlay, _super);
    function RecommendationOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.replayButton = new hugereplaybutton_1.HugeReplayButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-overlay',
            hidden: true,
            components: [_this.replayButton],
        }, _this.config);
        return _this;
    }
    RecommendationOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clearRecommendations = function () {
            for (var _i = 0, _a = _this.getComponents().slice(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof RecommendationItem) {
                    _this.removeComponent(component);
                }
            }
            _this.updateComponents();
            _this.getDomElement().removeClass(_this.prefixCss('recommendations'));
        };
        var setupRecommendations = function () {
            clearRecommendations();
            var recommendations = uimanager.getConfig().recommendations;
            if (recommendations.length > 0) {
                var index = 1;
                for (var _i = 0, recommendations_1 = recommendations; _i < recommendations_1.length; _i++) {
                    var item = recommendations_1[_i];
                    _this.addComponent(new RecommendationItem({
                        itemConfig: item,
                        cssClasses: ['recommendation-item-' + (index++)],
                    }));
                }
                _this.updateComponents(); // create container DOM elements
                _this.getDomElement().addClass(_this.prefixCss('recommendations'));
            }
        };
        // Add recommendation when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupRecommendations);
        // Remove recommendations and hide overlay when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            clearRecommendations();
            _this.hide();
        });
        // Display recommendations when playback has finished
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            // Dismiss ON_PLAYBACK_FINISHED events at the end of ads
            // TODO remove this workaround once issue #1278 is solved
            if (player.isAd()) {
                return;
            }
            _this.show();
        });
        // Hide recommendations when playback starts, e.g. a restart
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            _this.hide();
        });
        // Init on startup
        setupRecommendations();
    };
    return RecommendationOverlay;
}(container_1.Container));
exports.RecommendationOverlay = RecommendationOverlay;
/**
 * An item of the {@link RecommendationOverlay}. Used only internally in {@link RecommendationOverlay}.
 */
var RecommendationItem = /** @class */ (function (_super) {
    __extends(RecommendationItem, _super);
    function RecommendationItem(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-item',
            itemConfig: null,
        }, _this.config);
        return _this;
    }
    RecommendationItem.prototype.toDomElement = function () {
        var config = this.config.itemConfig; // TODO fix generics and get rid of cast
        var itemElement = new dom_1.DOM('a', {
            'id': this.config.id,
            'class': this.getCssClasses(),
            'href': config.url,
        }).css({ 'background-image': "url(" + config.thumbnail + ")" });
        var bgElement = new dom_1.DOM('div', {
            'class': this.prefixCss('background'),
        });
        itemElement.append(bgElement);
        var titleElement = new dom_1.DOM('span', {
            'class': this.prefixCss('title'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innertitle'),
        }).html(config.title));
        itemElement.append(titleElement);
        var timeElement = new dom_1.DOM('span', {
            'class': this.prefixCss('duration'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innerduration'),
        }).html(config.duration ? stringutils_1.StringUtils.secondsToTime(config.duration) : ''));
        itemElement.append(timeElement);
        return itemElement;
    };
    return RecommendationItem;
}(component_1.Component));


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var dom_1 = __webpack_require__(1);
/**
 * A button to play/replay a video.
 */
var HugeReplayButton = /** @class */ (function (_super) {
    __extends(HugeReplayButton, _super);
    function HugeReplayButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugereplaybutton',
            text: 'Replay',
        }, _this.config);
        return _this;
    }
    HugeReplayButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            player.play('ui');
        });
    };
    HugeReplayButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    return HugeReplayButton;
}(button_1.Button));
exports.HugeReplayButton = HugeReplayButton;


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection of different playback speeds.
 */
var PlaybackSpeedSelectBox = /** @class */ (function (_super) {
    __extends(PlaybackSpeedSelectBox, _super);
    function PlaybackSpeedSelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.defaultPlaybackSpeeds = [0.25, 0.5, 1, 1.5, 2];
        return _this;
    }
    PlaybackSpeedSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addDefaultItems();
        this.onItemSelected.subscribe(function (sender, value) {
            player.setPlaybackSpeed(parseFloat(value));
            _this.selectItem(value);
        });
        var setDefaultValue = function () {
            var playbackSpeed = player.getPlaybackSpeed();
            _this.setSpeed(playbackSpeed);
        };
        // when the player hits onReady again, adjust the playback speed selection
        player.addEventHandler(player.EVENT.ON_READY, setDefaultValue);
        if (player.EVENT.ON_PLAYBACK_SPEED_CHANGED) {
            // Since player 7.8.0
            player.addEventHandler(player.EVENT.ON_PLAYBACK_SPEED_CHANGED, setDefaultValue);
        }
    };
    PlaybackSpeedSelectBox.prototype.setSpeed = function (speed) {
        if (!this.selectItem(String(speed))) {
            // a playback speed was set which is not in the list, add it to the list to show it to the user
            this.clearItems();
            this.addDefaultItems([speed]);
            this.selectItem(String(speed));
        }
    };
    PlaybackSpeedSelectBox.prototype.addDefaultItems = function (customItems) {
        var _this = this;
        if (customItems === void 0) { customItems = []; }
        var sortedSpeeds = this.defaultPlaybackSpeeds.concat(customItems).sort();
        sortedSpeeds.forEach(function (element) {
            if (element !== 1) {
                _this.addItem(String(element), element + "x");
            }
            else {
                _this.addItem(String(element), 'Normal');
            }
        });
    };
    PlaybackSpeedSelectBox.prototype.clearItems = function () {
        this.items = [];
        this.selectedItem = null;
    };
    return PlaybackSpeedSelectBox;
}(selectbox_1.SelectBox));
exports.PlaybackSpeedSelectBox = PlaybackSpeedSelectBox;


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays a buffering indicator.
 */
var BufferingOverlay = /** @class */ (function (_super) {
    __extends(BufferingOverlay, _super);
    function BufferingOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicators = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-buffering-overlay',
            hidden: true,
            components: _this.indicators,
            showDelayMs: 1000,
        }, _this.config);
        return _this;
    }
    BufferingOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var overlayShowTimeout = new timeout_1.Timeout(config.showDelayMs, function () {
            _this.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            _this.hide();
        };
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, showOverlay);
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, hideOverlay);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, hideOverlay);
        // Show overlay if player is already stalled at init
        if (player.isStalled()) {
            this.show();
        }
    };
    return BufferingOverlay;
}(container_1.Container));
exports.BufferingOverlay = BufferingOverlay;


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var hugeplaybacktogglebutton_1 = __webpack_require__(63);
/**
 * Overlays the player and displays error messages.
 */
var PlaybackToggleOverlay = /** @class */ (function (_super) {
    __extends(PlaybackToggleOverlay, _super);
    function PlaybackToggleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.playbackToggleButton = new hugeplaybacktogglebutton_1.HugePlaybackToggleButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktoggle-overlay',
            components: [_this.playbackToggleButton],
        }, _this.config);
        return _this;
    }
    return PlaybackToggleOverlay;
}(container_1.Container));
exports.PlaybackToggleOverlay = PlaybackToggleOverlay;


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var playbacktogglebutton_1 = __webpack_require__(16);
var dom_1 = __webpack_require__(1);
/**
 * A button that overlays the video and toggles between playback and pause.
 */
var HugePlaybackToggleButton = /** @class */ (function (_super) {
    __extends(HugePlaybackToggleButton, _super);
    function HugePlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugeplaybacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    HugePlaybackToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        // Update button state through API events
        _super.prototype.configure.call(this, player, uimanager, false);
        var togglePlayback = function () {
            if (player.isPlaying()) {
                player.pause('ui');
            }
            else {
                player.play('ui');
            }
        };
        var toggleFullscreen = function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        };
        var firstPlay = true;
        var clickTime = 0;
        var doubleClickTime = 0;
        /*
         * YouTube-style toggle button handling
         *
         * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
         * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
         * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
         * playback, which results is a short playback interval with max length of the double click detection
         * period (usually 500ms).
         *
         * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
         * and just toggle playback if no second click (double click) has been registered during this period. If a double
         * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
         * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
         * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
         * if a double click happens.
         */
        this.onClick.subscribe(function () {
            // Directly start playback on first click of the button.
            // This is a required workaround for mobile browsers where video playback needs to be triggered directly
            // by the user. A deferred playback start through the timeout below is not considered as user action and
            // therefore ignored by mobile browsers.
            if (firstPlay) {
                // Try to start playback. Then we wait for ON_PLAY and only when it arrives, we disable the firstPlay flag.
                // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                // ever start playback through a user interaction again with this button.
                togglePlayback();
                return;
            }
            var now = Date.now();
            if (now - clickTime < 200) {
                // We have a double click inside the 200ms interval, just toggle fullscreen mode
                toggleFullscreen();
                doubleClickTime = now;
                return;
            }
            else if (now - clickTime < 500) {
                // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                toggleFullscreen();
                togglePlayback();
                doubleClickTime = now;
                return;
            }
            clickTime = now;
            setTimeout(function () {
                if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                }
            }, 200);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            // Playback has really started, we can disable the flag to switch to normal toggle button handling
            firstPlay = false;
        });
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            // 5008 == Playback could not be started
            if (event.code === 5008) {
                // if playback could not be started, reset the first play flag as we need the user interaction to start
                firstPlay = true;
            }
        });
        // Hide button while initializing a Cast session
        var castInitializationHandler = function (event) {
            if (event.type === player.EVENT.ON_CAST_START) {
                // Hide button when session is being initialized
                _this.hide();
            }
            else {
                // Show button when session is established or initialization was aborted
                _this.show();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_START, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, castInitializationHandler);
        var suppressPlayButtonTransitionAnimation = function () {
            // Disable the current animation
            _this.setTransitionAnimationsEnabled(false);
            // Enable the transition animations for the next state change
            _this.onToggle.subscribeOnce(function () {
                _this.setTransitionAnimationsEnabled(true);
            });
        };
        // Hide the play button animation when the UI is loaded (it should only be animated on state changes)
        suppressPlayButtonTransitionAnimation();
        var isAutoplayEnabled = player.getConfig().playback && Boolean(player.getConfig().playback.autoplay);
        // We only know if an autoplay attempt is upcoming if the player is not yet ready. It the player is already ready,
        // the attempt might be upcoming or might have already happened, but we don't have to handle that because we can
        // simply rely on isPlaying and the play state events.
        var isAutoplayUpcoming = !player.isReady() && isAutoplayEnabled;
        // Hide the play button when the player is already playing or autoplay is upcoming
        if (player.isPlaying() || isAutoplayUpcoming) {
            // Hide the play button (switch to playing state)
            this.on();
            // Disable the animation of the playing state switch
            suppressPlayButtonTransitionAnimation();
            // Show the play button without an animation if a play attempt is blocked
            player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
                if (event.code === 5008) {
                    suppressPlayButtonTransitionAnimation();
                }
            });
        }
    };
    HugePlaybackToggleButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    /**
     * Enables or disables the play state transition animations of the play button image. Can be used to suppress
     * animations.
     * @param {boolean} enabled true to enable the animations (default), false to disable them
     */
    HugePlaybackToggleButton.prototype.setTransitionAnimationsEnabled = function (enabled) {
        var noTransitionAnimationsClass = this.prefixCss('no-transition-animations');
        if (enabled) {
            this.getDomElement().removeClass(noTransitionAnimationsClass);
        }
        else if (!this.getDomElement().hasClass(noTransitionAnimationsClass)) {
            this.getDomElement().addClass(noTransitionAnimationsClass);
        }
    };
    return HugePlaybackToggleButton;
}(playbacktogglebutton_1.PlaybackToggleButton));
exports.HugePlaybackToggleButton = HugePlaybackToggleButton;


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that closes (hides) a configured component.
 */
var CloseButton = /** @class */ (function (_super) {
    __extends(CloseButton, _super);
    function CloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-closebutton',
            text: 'Close',
        }, _this.config);
        return _this;
    }
    CloseButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        this.onClick.subscribe(function () {
            config.target.hide();
        });
    };
    return CloseButton;
}(button_1.Button));
exports.CloseButton = CloseButton;


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple AirPlay.
 */
var AirPlayToggleButton = /** @class */ (function (_super) {
    __extends(AirPlayToggleButton, _super);
    function AirPlayToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-airplaytogglebutton',
            text: 'Apple AirPlay',
        }, _this.config);
        return _this;
    }
    AirPlayToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isAirplayAvailable) {
            // If the player does not support Airplay (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isAirplayAvailable()) {
                player.showAirplayTargetPicker();
            }
            else {
                if (console) {
                    console.log('AirPlay unavailable');
                }
            }
        });
        var airPlayAvailableHandler = function () {
            if (player.isAirplayAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_AIRPLAY_AVAILABLE, airPlayAvailableHandler);
        // Startup init
        airPlayAvailableHandler(); // Hide button if AirPlay is not available
    };
    return AirPlayToggleButton;
}(togglebutton_1.ToggleButton));
exports.AirPlayToggleButton = AirPlayToggleButton;


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple macOS picture-in-picture mode.
 */
var PictureInPictureToggleButton = /** @class */ (function (_super) {
    __extends(PictureInPictureToggleButton, _super);
    function PictureInPictureToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-piptogglebutton',
            text: 'Picture-in-Picture',
        }, _this.config);
        return _this;
    }
    PictureInPictureToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isPictureInPictureAvailable) {
            // If the player does not support PIP (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isPictureInPictureAvailable()) {
                if (player.isPictureInPicture()) {
                    player.exitPictureInPicture();
                }
                else {
                    player.enterPictureInPicture();
                }
            }
            else {
                if (console) {
                    console.log('PIP unavailable');
                }
            }
        });
        var pipAvailableHander = function () {
            if (player.isPictureInPictureAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, pipAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_ENTER, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_EXIT, function () {
            _this.off();
        });
        // Startup init
        pipAvailableHander(); // Hide button if PIP not available
        if (player.isPictureInPicture()) {
            this.on();
        }
    };
    return PictureInPictureToggleButton;
}(togglebutton_1.ToggleButton));
exports.PictureInPictureToggleButton = PictureInPictureToggleButton;


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(68);
__webpack_require__(72);
module.exports = __webpack_require__(86);


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var bitmovin_player_controller_1 = __webpack_require__(69);
var bitmovin_player_directive_1 = __webpack_require__(71);
exports.default = angular.module('mi.BitdashPlayer', [])
    .controller('MiBitdashController', bitmovin_player_controller_1.default)
    .directive('miBitdashPlayer', bitmovin_player_directive_1.default);


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var preferred_tech_types_1 = __webpack_require__(29);
var webcast_state_1 = __webpack_require__(70);
var BitmovinPlayerController = /** @class */ (function () {
    function BitmovinPlayerController($scope, $log) {
        this.$scope = $scope;
        this.$log = $log;
        this.playerConfig = { key: null };
        this.state = {};
        this.options = {};
    }
    BitmovinPlayerController.prototype.$onInit = function () {
        var hasValidConfig = this.$scope.config && this.$scope.config.key && this.$scope.webcast;
        this.state = this.$scope.state = {};
        this.options = this.$scope.options || {};
        if (hasValidConfig) {
            this.playerConfig = this.$scope.config;
            this.processWebcast(this.$scope.webcast);
        }
        else {
            this.$log.error("basic config for bitdash player is missing!");
        }
    };
    BitmovinPlayerController.prototype.processWebcast = function (webcast) {
        var state = this.options.forcedState || webcast.state;
        switch (state) {
            case webcast_state_1.WebcastState.ONDEMAND:
                var languageIndex_1 = 0;
                webcast.languages.some(function (lang, index) {
                    if (webcast.language === lang.language) {
                        languageIndex_1 = index;
                        return true;
                    }
                });
                this.state.data = webcast.languages[languageIndex_1].ondemandStateData;
                break;
            default:
                this.state.data = webcast[state + 'StateData'];
        }
        this.playerConfig.source = this.getPlayerConfigSource(webcast);
        this.playerConfig.style = { ux: false };
        this.state.data.hiveSettings = null;
        var serviceUrl = this.getHiveServiceUrlByLang(this.$scope.webcast);
        if (serviceUrl) {
            this.state.data.hiveSettings = {
                serviceUrl: serviceUrl,
                origHlsUrl: this.playerConfig.source.hls,
            };
        }
        this.state.data.preferredTech = this.getDefaultPreferredTech(webcast);
    };
    BitmovinPlayerController.prototype.getPlayerConfigSource = function (webcast) {
        var postLiveDVRPlayback = webcast.useDVRPlaybackInPostlive && webcast.state === webcast_state_1.WebcastState.POST_LIVE;
        return postLiveDVRPlayback ? this.getDVRPlaybackSource(webcast) : this.getPlayerConfigSourceByState(webcast);
    };
    BitmovinPlayerController.prototype.getDVRPlaybackSource = function (webcast) {
        var title = webcast.name;
        var hls = webcast['liveStateData'].playout.hlsDvrUrl;
        if (angular.isDefined(webcast['postliveStateData'].playout.offset)) {
            var offset = parseInt(webcast['postliveStateData'].playout.offset, 10);
            if (offset) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = webcast['liveStateData'].playout.hlsDvrUrl;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "wowzadvrplayliststart=" + offset + "000";
            }
        }
        return { hls: hls, title: title };
    };
    BitmovinPlayerController.prototype.getPlayerConfigSourceByState = function (webcast) {
        var hls = this.state.data.playout.hlsUrl;
        var title = webcast.name;
        if (angular.isDefined(this.state.data.playout.videoManagerHlsUrl) && this.state.data.playout.videoManagerHlsUrl) {
            hls = this.state.data.playout.videoManagerHlsUrl;
        }
        if (angular.isDefined(this.state.data.playout.offset)) {
            var offset = parseInt(this.state.data.playout.offset, 10);
            if (offset > 0) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = hls;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "start=" + offset;
            }
        }
        return { hls: hls, title: title };
    };
    BitmovinPlayerController.prototype.getHiveServiceUrlByLang = function (webcast) {
        var hiveServiceUrl = null;
        if (webcast.languages && webcast.language) {
            webcast.languages.forEach(function (language) {
                if (language.language === webcast.language) {
                    hiveServiceUrl = language.hiveServiceUrl;
                }
            });
        }
        return hiveServiceUrl;
    };
    BitmovinPlayerController.prototype.getDefaultPreferredTech = function (webcast) {
        var tech = preferred_tech_types_1.PreferredTech.DEFAULT;
        if (webcast.state === webcast_state_1.WebcastState.LIVE && this.state.data.hiveSettings) {
            tech = preferred_tech_types_1.PreferredTech.HIVE;
        }
        return tech;
    };
    BitmovinPlayerController.$inject = ['$scope', '$log'];
    return BitmovinPlayerController;
}());
exports.default = BitmovinPlayerController;


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var WebcastState;
(function (WebcastState) {
    WebcastState["LIVE"] = "live";
    WebcastState["POST_LIVE"] = "postlive";
    WebcastState["ONDEMAND"] = "ondemand";
})(WebcastState = exports.WebcastState || (exports.WebcastState = {}));


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var preferred_tech_types_1 = __webpack_require__(29);
var BitmovinPlayerDirective = function ($window, $log) { return ({
    controller: 'MiBitdashController',
    controllerAs: 'bitdashVm',
    replace: true,
    restrict: 'EA',
    scope: {
        config: '=',
        options: '=?',
        webcast: '=',
    },
    template: "<div id=\"mi-bitdash-player\" width=\"100%\" height=\"auto\"></div>",
    link: function (scope) {
        var playerId = 'mi-bitdash-player';
        var webcast = scope.webcast;
        var bitmovinPlayerConfig = scope.config;
        var bitmovinUIManager;
        var bitmovinControlbar;
        var bitmovinPlayer;
        var hivePluginFailed = false;
        init();
        function init() {
            bitmovinPlayer = getPlayer();
            var hasPlayer = angular.isDefined(bitmovinPlayer) && bitmovinPlayer.isReady() === true;
            if (hasPlayer) {
                bitmovinPlayer.destroy();
                bitmovinPlayer = getPlayer();
            }
            if (scope.state.data.preferredTech === preferred_tech_types_1.PreferredTech.HIVE) {
                initHivePlugin();
            }
            createPlayer(bitmovinPlayerConfig);
        }
        function initHivePlugin() {
            var hiveOptions = {
                HiveJava: {
                    onError: function () { return hiveErrorHandler(); },
                },
                debugLevel: 'off',
            };
            bitmovinPlayerConfig.source.hls = null;
            bitmovinPlayerConfig.source.hls_ticket = scope.state.data.hiveSettings.serviceUrl;
            $window.window.bitmovin.initHiveSDN(bitmovinPlayer, hiveOptions);
        }
        function createPlayer(conf) {
            bitmovinPlayer.setup(conf)
                .then(function () {
                bitmovinUIManager = $window.window.bitmovin.playerui.UIManager.Factory;
                if (isAudioOnly()) {
                    bitmovinUIManager.buildAudioOnlyUI(bitmovinPlayer, getAudioOnlyPlayerConfig());
                }
                else {
                    bitmovinUIManager.buildAudioVideoUI(bitmovinPlayer);
                }
                bitmovinControlbar = getElementsByClassName('bitmovinplayer-container');
                if (bitmovinControlbar) {
                    bitmovinControlbar.style.minWidth = '175px';
                    bitmovinControlbar.style.minHeight = '101px';
                    document.getElementById('bitmovinplayer-video-mi-bitdash-player').setAttribute('title', webcast.name);
                }
            }, function (reason) {
                $log.log("Error: " + reason.code + " - " + reason.message);
                if (hivePluginFailed) {
                    hivePluginFailed = false;
                    bitmovinPlayerConfig.source.hls = scope.state.data.hiveSettings.origHlsUrl;
                    setTimeout(function () {
                        createPlayer(bitmovinPlayerConfig);
                    }, 60);
                }
            });
        }
        function hiveErrorHandler() {
            hivePluginFailed = true;
        }
        function getAudioOnlyPlayerConfig() {
            return webcast.theme.audioOnlyFileUrl ? { audioOnlyOverlayConfig: { backgroundImageUrl: webcast.theme.audioOnlyFileUrl, hiddeIndicator: true } } : {};
        }
        function isAudioOnly() {
            return webcast.layout.layout === 'audio-only';
        }
        function getElementsByClassName(className) {
            return document.getElementsByClassName(className)[0];
        }
        function getPlayer() {
            return $window.window.bitmovin.player(playerId);
        }
    }
}); };
exports.default = BitmovinPlayerDirective;
BitmovinPlayerDirective.$inject = ['$window', '$log'];


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/// <reference path='player.d.ts' />
var uimanager_1 = __webpack_require__(73);
var button_1 = __webpack_require__(7);
var controlbar_1 = __webpack_require__(19);
var fullscreentogglebutton_1 = __webpack_require__(30);
var hugeplaybacktogglebutton_1 = __webpack_require__(63);
var playbacktimelabel_1 = __webpack_require__(32);
var playbacktogglebutton_1 = __webpack_require__(16);
var seekbar_1 = __webpack_require__(18);
var selectbox_1 = __webpack_require__(8);
var itemselectionlist_1 = __webpack_require__(79);
var settingspanel_1 = __webpack_require__(22);
var settingstogglebutton_1 = __webpack_require__(33);
var togglebutton_1 = __webpack_require__(5);
var videoqualityselectbox_1 = __webpack_require__(23);
var volumetogglebutton_1 = __webpack_require__(17);
var vrtogglebutton_1 = __webpack_require__(31);
var watermark_1 = __webpack_require__(80);
var uicontainer_1 = __webpack_require__(14);
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var audioqualityselectbox_1 = __webpack_require__(24);
var audiotrackselectbox_1 = __webpack_require__(50);
var caststatusoverlay_1 = __webpack_require__(55);
var casttogglebutton_1 = __webpack_require__(54);
var component_1 = __webpack_require__(2);
var errormessageoverlay_1 = __webpack_require__(56);
var recommendationoverlay_1 = __webpack_require__(58);
var seekbarlabel_1 = __webpack_require__(51);
var subtitleoverlay_1 = __webpack_require__(53);
var subtitleselectbox_1 = __webpack_require__(52);
var titlebar_1 = __webpack_require__(57);
var volumecontrolbutton_1 = __webpack_require__(81);
var clickoverlay_1 = __webpack_require__(28);
var adskipbutton_1 = __webpack_require__(82);
var admessagelabel_1 = __webpack_require__(83);
var adclickoverlay_1 = __webpack_require__(84);
var playbackspeedselectbox_1 = __webpack_require__(60);
var hugereplaybutton_1 = __webpack_require__(59);
var bufferingoverlay_1 = __webpack_require__(61);
var castuicontainer_1 = __webpack_require__(85);
var playbacktoggleoverlay_1 = __webpack_require__(62);
var closebutton_1 = __webpack_require__(64);
var metadatalabel_1 = __webpack_require__(27);
var airplaytogglebutton_1 = __webpack_require__(65);
var volumeslider_1 = __webpack_require__(26);
var pictureinpicturetogglebutton_1 = __webpack_require__(66);
var spacer_1 = __webpack_require__(21);
var backgroundcolorselectbox_1 = __webpack_require__(40);
var backgroundopacityselectbox_1 = __webpack_require__(41);
var characteredgeselectbox_1 = __webpack_require__(44);
var fontcolorselectbox_1 = __webpack_require__(36);
var fontfamilyselectbox_1 = __webpack_require__(38);
var fontopacityselectbox_1 = __webpack_require__(37);
var fontsizeselectbox_1 = __webpack_require__(39);
var subtitlesettingsbutton_1 = __webpack_require__(25);
var subtitlesettingsclosebutton_1 = __webpack_require__(46);
var subtitlesettingselectbox_1 = __webpack_require__(4);
var subtitlesettingslabel_1 = __webpack_require__(48);
var subtitlesettingsopenbutton_1 = __webpack_require__(49);
var subtitlesettingspanel_1 = __webpack_require__(35);
var windowcolorselectbox_1 = __webpack_require__(42);
var windowopacityselectbox_1 = __webpack_require__(43);
var arrayutils_1 = __webpack_require__(11);
var stringutils_1 = __webpack_require__(10);
var playerutils_1 = __webpack_require__(12);
var uiutils_1 = __webpack_require__(20);
var browserutils_1 = __webpack_require__(15);
var storageutils_1 = __webpack_require__(45);
var subtitlesettingsresetbutton_1 = __webpack_require__(47);
// Object.assign polyfill for ES5/IE9
// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        'use strict';
        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
var playerui = {
    version: '{{VERSION}}',
    // Management
    UIManager: uimanager_1.UIManager,
    UIInstanceManager: uimanager_1.UIInstanceManager,
    // Utils
    ArrayUtils: arrayutils_1.ArrayUtils,
    StringUtils: stringutils_1.StringUtils,
    PlayerUtils: playerutils_1.PlayerUtils,
    UIUtils: uiutils_1.UIUtils,
    BrowserUtils: browserutils_1.BrowserUtils,
    StorageUtils: storageutils_1.StorageUtils,
    // Components
    AdClickOverlay: adclickoverlay_1.AdClickOverlay,
    AdMessageLabel: admessagelabel_1.AdMessageLabel,
    AdSkipButton: adskipbutton_1.AdSkipButton,
    AirPlayToggleButton: airplaytogglebutton_1.AirPlayToggleButton,
    AudioQualitySelectBox: audioqualityselectbox_1.AudioQualitySelectBox,
    AudioTrackSelectBox: audiotrackselectbox_1.AudioTrackSelectBox,
    BufferingOverlay: bufferingoverlay_1.BufferingOverlay,
    Button: button_1.Button,
    CastStatusOverlay: caststatusoverlay_1.CastStatusOverlay,
    CastToggleButton: casttogglebutton_1.CastToggleButton,
    CastUIContainer: castuicontainer_1.CastUIContainer,
    ClickOverlay: clickoverlay_1.ClickOverlay,
    CloseButton: closebutton_1.CloseButton,
    Component: component_1.Component,
    Container: container_1.Container,
    ControlBar: controlbar_1.ControlBar,
    ErrorMessageOverlay: errormessageoverlay_1.ErrorMessageOverlay,
    FullscreenToggleButton: fullscreentogglebutton_1.FullscreenToggleButton,
    HugePlaybackToggleButton: hugeplaybacktogglebutton_1.HugePlaybackToggleButton,
    HugeReplayButton: hugereplaybutton_1.HugeReplayButton,
    Label: label_1.Label,
    MetadataLabel: metadatalabel_1.MetadataLabel,
    MetadataLabelContent: metadatalabel_1.MetadataLabelContent,
    PictureInPictureToggleButton: pictureinpicturetogglebutton_1.PictureInPictureToggleButton,
    PlaybackSpeedSelectBox: playbackspeedselectbox_1.PlaybackSpeedSelectBox,
    PlaybackTimeLabel: playbacktimelabel_1.PlaybackTimeLabel,
    PlaybackTimeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode,
    PlaybackToggleButton: playbacktogglebutton_1.PlaybackToggleButton,
    PlaybackToggleOverlay: playbacktoggleoverlay_1.PlaybackToggleOverlay,
    RecommendationOverlay: recommendationoverlay_1.RecommendationOverlay,
    SeekBar: seekbar_1.SeekBar,
    SeekBarLabel: seekbarlabel_1.SeekBarLabel,
    SelectBox: selectbox_1.SelectBox,
    ItemSelectionList: itemselectionlist_1.ItemSelectionList,
    SettingsPanel: settingspanel_1.SettingsPanel,
    SettingsPanelItem: settingspanel_1.SettingsPanelItem,
    SettingsToggleButton: settingstogglebutton_1.SettingsToggleButton,
    Spacer: spacer_1.Spacer,
    SubtitleOverlay: subtitleoverlay_1.SubtitleOverlay,
    SubtitleSelectBox: subtitleselectbox_1.SubtitleSelectBox,
    TitleBar: titlebar_1.TitleBar,
    ToggleButton: togglebutton_1.ToggleButton,
    UIContainer: uicontainer_1.UIContainer,
    VideoQualitySelectBox: videoqualityselectbox_1.VideoQualitySelectBox,
    VolumeControlButton: volumecontrolbutton_1.VolumeControlButton,
    VolumeSlider: volumeslider_1.VolumeSlider,
    VolumeToggleButton: volumetogglebutton_1.VolumeToggleButton,
    VRToggleButton: vrtogglebutton_1.VRToggleButton,
    Watermark: watermark_1.Watermark,
    // Subtitle related components
    subtitlesettings: {
        BackgroundColorSelectBox: backgroundcolorselectbox_1.BackgroundColorSelectBox,
        BackgroundOpacitySelectBox: backgroundopacityselectbox_1.BackgroundOpacitySelectBox,
        CharacterEdgeSelectBox: characteredgeselectbox_1.CharacterEdgeSelectBox,
        FontColorSelectBox: fontcolorselectbox_1.FontColorSelectBox,
        FontFamilySelectBox: fontfamilyselectbox_1.FontFamilySelectBox,
        FontOpacitySelectBox: fontopacityselectbox_1.FontOpacitySelectBox,
        FontSizeSelectBox: fontsizeselectbox_1.FontSizeSelectBox,
        SubtitleSettingsButton: subtitlesettingsbutton_1.SubtitleSettingsButton,
        SubtitleSettingsCloseButton: subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton,
        SubtitleSettingSelectBox: subtitlesettingselectbox_1.SubtitleSettingSelectBox,
        SubtitleSettingsLabel: subtitlesettingslabel_1.SubtitleSettingsLabel,
        SubtitleSettingsOpenButton: subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton,
        SubtitleSettingsPanel: subtitlesettingspanel_1.SubtitleSettingsPanel,
        WindowColorSelectBox: windowcolorselectbox_1.WindowColorSelectBox,
        WindowOpacitySelectBox: windowopacityselectbox_1.WindowOpacitySelectBox,
        SubtitleSettingsResetButton: subtitlesettingsresetbutton_1.SubtitleSettingsResetButton,
    },
};
window.bitmovin.playerui = playerui;
module.exports = playerui;


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(14);
var dom_1 = __webpack_require__(1);
var container_1 = __webpack_require__(0);
var playbacktogglebutton_1 = __webpack_require__(16);
var fullscreentogglebutton_1 = __webpack_require__(30);
var vrtogglebutton_1 = __webpack_require__(31);
var volumetogglebutton_1 = __webpack_require__(17);
var seekbar_1 = __webpack_require__(18);
var playbacktimelabel_1 = __webpack_require__(32);
var controlbar_1 = __webpack_require__(19);
var eventdispatcher_1 = __webpack_require__(3);
var settingstogglebutton_1 = __webpack_require__(33);
var settingspanel_1 = __webpack_require__(22);
var subtitlesettingspanel_1 = __webpack_require__(35);
var subtitlesettingslabel_1 = __webpack_require__(48);
var subtitlesettingsopenbutton_1 = __webpack_require__(49);
var videoqualityselectbox_1 = __webpack_require__(23);
// import {Watermark} from './components/watermark';
var audioqualityselectbox_1 = __webpack_require__(24);
var audiotrackselectbox_1 = __webpack_require__(50);
var seekbarlabel_1 = __webpack_require__(51);
var volumeslider_1 = __webpack_require__(26);
var subtitleselectbox_1 = __webpack_require__(52);
var subtitleoverlay_1 = __webpack_require__(53);
// import {VolumeControlButton} from './components/volumecontrolbutton';
var casttogglebutton_1 = __webpack_require__(54);
var caststatusoverlay_1 = __webpack_require__(55);
var errormessageoverlay_1 = __webpack_require__(56);
var titlebar_1 = __webpack_require__(57);
var recommendationoverlay_1 = __webpack_require__(58);
var playbackspeedselectbox_1 = __webpack_require__(60);
var bufferingoverlay_1 = __webpack_require__(61);
// import {CastUIContainer} from './components/castuicontainer';
var playbacktoggleoverlay_1 = __webpack_require__(62);
var closebutton_1 = __webpack_require__(64);
var metadatalabel_1 = __webpack_require__(27);
var airplaytogglebutton_1 = __webpack_require__(65);
var pictureinpicturetogglebutton_1 = __webpack_require__(66);
var audioonlyoverlay_1 = __webpack_require__(78);
var spacer_1 = __webpack_require__(21);
var uiutils_1 = __webpack_require__(20);
var arrayutils_1 = __webpack_require__(11);
var browserutils_1 = __webpack_require__(15);
var UIManager = /** @class */ (function () {
    function UIManager(player, playerUiOrUiVariants, config) {
        if (config === void 0) { config = {}; }
        var _this = this;
        this.events = {
            onUiVariantResolve: new eventdispatcher_1.EventDispatcher(),
        };
        if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
            // Single-UI constructor has been called, transform arguments to UIVariant[] signature
            var playerUi = playerUiOrUiVariants;
            var uiVariants = [];
            // Add the default player UI
            uiVariants.push({ ui: playerUi });
            this.uiVariants = uiVariants;
        }
        else {
            // Default constructor (UIVariant[]) has been called
            this.uiVariants = playerUiOrUiVariants;
        }
        this.player = player;
        this.config = __assign({}, config, { events: {
                onUpdated: new eventdispatcher_1.EventDispatcher(),
            } });
        this.managerPlayerWrapper = new PlayerWrapper(player);
        /**
         * Gathers configuration data from the UI config and player source config and creates a merged UI config
         * that is used throughout the UI instance.
         */
        var updateConfig = function () {
            var playerSourceConfig = player.getConfig().source || {};
            var uiConfig = __assign({}, config);
            uiConfig.metadata = uiConfig.metadata || {};
            // Extract the UI-related config properties from the source config
            var playerSourceUiConfig = {
                metadata: {
                    // TODO move metadata into source.metadata namespace in player v8
                    title: playerSourceConfig.title,
                    description: playerSourceConfig.description,
                    markers: playerSourceConfig.markers,
                },
                recommendations: playerSourceConfig.recommendations,
            };
            // Player source config takes precedence over the UI config, because the config in the source is attached
            // to a source which changes with every player.load, whereas the UI config stays the same for the whole
            // lifetime of the player instance.
            _this.config.metadata = _this.config.metadata || {};
            _this.config.metadata.title = playerSourceUiConfig.metadata.title || uiConfig.metadata.title;
            _this.config.metadata.description = playerSourceUiConfig.metadata.description || uiConfig.metadata.description;
            _this.config.metadata.markers = playerSourceUiConfig.metadata.markers || uiConfig.metadata.markers || [];
            _this.config.recommendations = playerSourceUiConfig.recommendations || uiConfig.recommendations || [];
        };
        updateConfig();
        // Update the configuration when a new source is loaded
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_SOURCE_LOADED, function () {
            updateConfig();
            _this.config.events.onUpdated.dispatch(_this);
        });
        if (config.container) {
            // Unfortunately 'uiContainerElement = new DOM(config.container)' will not accept the container with
            // string|HTMLElement type directly, although it accepts both types, so we need to spit these two cases up here.
            // TODO check in upcoming TS versions if the container can be passed in directly, or fix the constructor
            this.uiContainerElement = config.container instanceof HTMLElement ?
                new dom_1.DOM(config.container) : new dom_1.DOM(config.container);
        }
        else {
            this.uiContainerElement = new dom_1.DOM(player.getFigure());
        }
        // Create UI instance managers for the UI variants
        // The instance managers map to the corresponding UI variants by their array index
        this.uiInstanceManagers = [];
        var uiVariantsWithoutCondition = [];
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null) {
                // Collect variants without conditions for error checking
                uiVariantsWithoutCondition.push(uiVariant);
            }
            // Create the instance manager for a UI variant
            this.uiInstanceManagers.push(new InternalUIInstanceManager(player, uiVariant.ui, this.config));
        }
        // Make sure that there is only one UI variant without a condition
        // It does not make sense to have multiple variants without condition, because only the first one in the list
        // (the one with the lowest index) will ever be selected.
        if (uiVariantsWithoutCondition.length > 1) {
            throw Error('Too many UIs without a condition: You cannot have more than one default UI');
        }
        // Make sure that the default UI variant, if defined, is at the end of the list (last index)
        // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
        // default variant without a condition always evaluates to 'true'
        if (uiVariantsWithoutCondition.length > 0
            && uiVariantsWithoutCondition[0] !== this.uiVariants[this.uiVariants.length - 1]) {
            throw Error('Invalid UI variant order: the default UI (without condition) must be at the end of the list');
        }
        // Switch on auto UI resolving by default
        if (config.autoUiVariantResolve === undefined) {
            config.autoUiVariantResolve = true;
        }
        var adStartedEvent = null; // keep the event stored here during ad playback
        // Dynamically select a UI variant that matches the current UI condition.
        var resolveUiVariant = function (event) {
            // Make sure that the ON_AD_STARTED event data is persisted through ad playback in case other events happen
            // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
            // ad details (e.g. the ad client) while an ad is playing.
            // Existing event data signals that an ad is currently active. We cannot use player.isAd() because it returns
            // true on ad start and also on ad end events, which is problematic.
            if (event != null) {
                switch (event.type) {
                    // When the ad starts, we store the event data
                    case player.EVENT.ON_AD_STARTED:
                        adStartedEvent = event;
                        break;
                    // When the ad ends, we delete the event data
                    case player.EVENT.ON_AD_FINISHED:
                    case player.EVENT.ON_AD_SKIPPED:
                    case player.EVENT.ON_AD_ERROR:
                        adStartedEvent = null;
                        break;
                    // When a new source is loaded during ad playback, there will be no ad end event so we detect the end
                    // of the ad playback by checking isAd() in ON_READY, because ON_READY always arrives when the source
                    // changes.
                    case player.EVENT.ON_READY:
                        if (adStartedEvent && !player.isAd()) {
                            adStartedEvent = null;
                        }
                }
            }
            // Detect if an ad has started
            var ad = adStartedEvent != null;
            var adWithUI = ad && adStartedEvent.clientType === 'vast';
            _this.resolveUiVariant({
                isAd: ad,
                isAdWithUI: adWithUI,
                adClientType: ad ? adStartedEvent.clientType : null,
            }, function (context) {
                // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                // themselves for the current ad.
                if (context.isAd) {
                    /* Relay the ON_AD_STARTED event to the ads UI
                     *
                     * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                     * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                     * Since this can break functionality of components that rely on this event, we relay the event to the
                     * ads UI components with the following call.
                     */
                    _this.currentUi.getWrappedPlayer().fireEventInUI(_this.player.EVENT.ON_AD_STARTED, adStartedEvent);
                }
            });
        };
        // Listen to the following events to trigger UI variant resolution
        if (config.autoUiVariantResolve) {
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_READY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PAUSED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT, resolveUiVariant);
        }
        // Initialize the UI
        resolveUiVariant(null);
    }
    UIManager.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Returns the list of UI variants as passed into the constructor of {@link UIManager}.
     * @returns {UIVariant[]} the list of available UI variants
     */
    UIManager.prototype.getUiVariants = function () {
        return this.uiVariants;
    };
    /**
     * Switches to a UI variant from the list returned by {@link getUiVariants}.
     * @param {UIVariant} uiVariant the UI variant to switch to
     * @param {() => void} onShow a callback that is executed just before the new UI variant is shown
     */
    UIManager.prototype.switchToUiVariant = function (uiVariant, onShow) {
        var uiVariantIndex = this.uiVariants.indexOf(uiVariant);
        var nextUi = this.uiInstanceManagers[uiVariantIndex];
        var uiVariantChanged = false;
        // Determine if the UI variant is changing
        if (nextUi !== this.currentUi) {
            uiVariantChanged = true;
            // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
            //   ' to ', nextUi ? nextUi.getUI() : 'none');
        }
        // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
        if (uiVariantChanged) {
            // Hide the currently active UI variant
            if (this.currentUi) {
                this.currentUi.getUI().hide();
            }
            // Assign the new UI variant as current UI
            this.currentUi = nextUi;
            // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
            // to an instance, we're done here.
            if (this.currentUi != null) {
                // Add the UI to the DOM (and configure it) the first time it is selected
                if (!this.currentUi.isConfigured()) {
                    this.addUi(this.currentUi);
                }
                if (onShow) {
                    onShow();
                }
                this.currentUi.getUI().show();
            }
        }
    };
    /**
     * Triggers a UI variant switch as triggered by events when automatic switching is enabled. It allows to overwrite
     * properties of the {@link UIConditionContext}.
     * @param {Partial<UIConditionContext>} context an optional set of properties that overwrite properties of the
     *   automatically determined context
     * @param {(context: UIConditionContext) => void} onShow a callback that is executed just before the new UI variant
     *   is shown (if a switch is happening)
     */
    UIManager.prototype.resolveUiVariant = function (context, onShow) {
        if (context === void 0) { context = {}; }
        // Determine the current context for which the UI variant will be resolved
        var defaultContext = {
            isAd: false,
            isAdWithUI: false,
            adClientType: null,
            isFullscreen: this.player.isFullscreen(),
            isMobile: browserutils_1.BrowserUtils.isMobile,
            isPlaying: this.player.isPlaying(),
            width: this.uiContainerElement.width(),
            documentWidth: document.body.clientWidth,
        };
        // Overwrite properties of the default context with passed in context properties
        var switchingContext = __assign({}, defaultContext, context);
        // Fire the event and allow modification of the context before it is used to resolve the UI variant
        this.events.onUiVariantResolve.dispatch(this, switchingContext);
        var nextUiVariant = null;
        // Select new UI variant
        // If no variant condition is fulfilled, we switch to *no* UI
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null || uiVariant.condition(switchingContext) === true) {
                nextUiVariant = uiVariant;
                break;
            }
        }
        this.switchToUiVariant(nextUiVariant, function () {
            if (onShow) {
                onShow(switchingContext);
            }
        });
    };
    UIManager.prototype.addUi = function (ui) {
        var dom = ui.getUI().getDomElement();
        var player = ui.getWrappedPlayer();
        ui.configureControls();
        /* Append the UI DOM after configuration to avoid CSS transitions at initialization
         * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
         * undesirable at this time. */
        this.uiContainerElement.append(dom);
        // Some components initialize their state on ON_READY. When the UI is loaded after the player is already ready,
        // they will never receive the event so we fire it from here in such cases.
        if (player.isReady()) {
            player.fireEventInUI(player.EVENT.ON_READY, {});
        }
        // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
        // might not be fully configured and e.g. do not have a size.
        // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
        if (window.requestAnimationFrame) {
            requestAnimationFrame(function () { ui.onConfigured.dispatch(ui.getUI()); });
        }
        else {
            // IE9 fallback
            setTimeout(function () { ui.onConfigured.dispatch(ui.getUI()); }, 0);
        }
    };
    UIManager.prototype.releaseUi = function (ui) {
        ui.releaseControls();
        ui.getUI().getDomElement().remove();
        ui.clearEventHandlers();
    };
    UIManager.prototype.release = function () {
        for (var _i = 0, _a = this.uiInstanceManagers; _i < _a.length; _i++) {
            var uiInstanceManager = _a[_i];
            this.releaseUi(uiInstanceManager);
        }
        this.managerPlayerWrapper.clearEventHandlers();
    };
    Object.defineProperty(UIManager.prototype, "onUiVariantResolve", {
        /**
         * Fires just before UI variants are about to be resolved and the UI variant is possibly switched. It is fired when
         * the switch is triggered from an automatic switch and when calling {@link resolveUiVariant}.
         * Can be used to modify the {@link UIConditionContext} before resolving is done.
         * @returns {EventDispatcher<UIManager, UIConditionContext>}
         */
        get: function () {
            return this.events.onUiVariantResolve;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Returns the list of all added markers in undefined order.
     */
    UIManager.prototype.getTimelineMarkers = function () {
        return this.config.metadata.markers;
    };
    /**
     * Adds a marker to the timeline. Does not check for duplicates/overlaps at the `time`.
     */
    UIManager.prototype.addTimelineMarker = function (timelineMarker) {
        this.config.metadata.markers.push(timelineMarker);
        this.config.events.onUpdated.dispatch(this);
    };
    /**
     * Removes a marker from the timeline (by reference) and returns `true` if the marker has
     * been part of the timeline and successfully removed, or `false` if the marker could not
     * be found and thus not removed.
     */
    UIManager.prototype.removeTimelineMarker = function (timelineMarker) {
        if (arrayutils_1.ArrayUtils.remove(this.config.metadata.markers, timelineMarker) === timelineMarker) {
            this.config.events.onUpdated.dispatch(this);
            return true;
        }
        return false;
    };
    return UIManager;
}());
exports.UIManager = UIManager;
(function (UIManager) {
    var Factory;
    (function (Factory) {
        function buildAudioVideoUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernSmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernUI(),
                }], config);
        }
        Factory.buildAudioVideoUI = buildAudioVideoUI;
        function buildAudioOnlyUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernAudioOnlySmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernAudioOnlyUI(),
                }], config);
        }
        Factory.buildAudioOnlyUI = buildAudioOnlyUI;
        // export function buildDefaultUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernUI(player, config);
        // }
        // export function buildDefaultSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernSmallScreenUI(player, config);
        // }
        // export function buildDefaultCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernCastReceiverUI(player, config);
        // }
        function modernUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        function modernAudioOnlyUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        // function modernAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //       new ControlBar({
        //         components: [
        //           new Container({
        //             components: [
        //               new PlaybackToggleButton(),
        //               new VolumeToggleButton(),
        //               new VolumeSlider(),
        //               new Spacer(),
        //               new FullscreenToggleButton(),
        //             ],
        //             cssClasses: ['controlbar-bottom'],
        //           }),
        //         ],
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads'],
        //   });
        // }
        function modernSmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        function modernAudioOnlySmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        // function modernSmallScreenAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new TitleBar({
        //         components: [
        //           // dummy label with no content to move buttons to the right
        //           new Label({ cssClass: 'label-metadata-title' }),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads', 'ui-skin-smallscreen'],
        //   });
        // }
        // function modernCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new Container({
        //         components: [
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
        //           new SeekBar({ smoothPlaybackPositionUpdateIntervalMs: -1 }),
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
        //         ],
        //         cssClasses: ['controlbar-top'],
        //       }),
        //     ],
        //   });
        //   return new CastUIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new BufferingOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar({ keepHiddenWithoutMetadata: true }),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-cast-receiver'],
        //   });
        // }
        // export function buildModernUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   // show smallScreen UI only on mobile/handheld devices
        //   let smallScreenSwitchWidth = 600;
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth && context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
        //     },
        //   }, {
        //     ui: modernUI(),
        //   }], config);
        // }
        // export function buildModernSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //   }], config);
        // }
        // export function buildModernCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, modernCastReceiverUI(), config);
        // }
        // function legacyUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [
        //       settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeControlButton(),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // function legacyAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new AdClickOverlay(),
        //       new ControlBar({
        //         components: [
        //           new PlaybackToggleButton(),
        //           new AdMessageLabel(),
        //           new VolumeControlButton(),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new AdSkipButton(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-ads'],
        //   });
        // }
        // function legacyCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new SeekBar(),
        //       new PlaybackTimeLabel(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-cast-receiver'],
        //   });
        // }
        // function legacyTestUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeToggleButton(),
        //       new VolumeSlider(),
        //       new VolumeControlButton(),
        //       new VolumeControlButton({ vertical: false }),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // export function buildLegacyUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: legacyAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: legacyUI(),
        //   }], config);
        // }
        // export function buildLegacyCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyCastReceiverUI(), config);
        // }
        // export function buildLegacyTestUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyTestUI(), config);
        // }
    })(Factory = UIManager.Factory || (UIManager.Factory = {}));
})(UIManager = exports.UIManager || (exports.UIManager = {}));
exports.UIManager = UIManager;
/**
 * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
 */
var UIInstanceManager = /** @class */ (function () {
    function UIInstanceManager(player, ui, config) {
        this.events = {
            onConfigured: new eventdispatcher_1.EventDispatcher(),
            onSeek: new eventdispatcher_1.EventDispatcher(),
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            onSeeked: new eventdispatcher_1.EventDispatcher(),
            onComponentShow: new eventdispatcher_1.EventDispatcher(),
            onComponentHide: new eventdispatcher_1.EventDispatcher(),
            onControlsShow: new eventdispatcher_1.EventDispatcher(),
            onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
            onControlsHide: new eventdispatcher_1.EventDispatcher(),
            onRelease: new eventdispatcher_1.EventDispatcher(),
        };
        this.playerWrapper = new PlayerWrapper(player);
        this.ui = ui;
        this.config = config;
    }
    UIInstanceManager.prototype.getConfig = function () {
        return this.config;
    };
    UIInstanceManager.prototype.getUI = function () {
        return this.ui;
    };
    UIInstanceManager.prototype.getPlayer = function () {
        return this.playerWrapper.getPlayer();
    };
    Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
        /**
         * Fires when the UI is fully configured and added to the DOM.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onConfigured;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
        /**
         * Fires when a seek starts.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeekPreview", {
        /**
         * Fires when the seek timeline is scrubbed.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeekPreview;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
        /**
         * Fires when a seek is finished.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeeked;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentShow", {
        /**
         * Fires when a component is showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentHide", {
        /**
         * Fires when a component is hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsShow", {
        /**
         * Fires when the UI controls are showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onPreviewControlsHide", {
        /**
         * Fires before the UI controls are hiding to check if they are allowed to hide.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onPreviewControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsHide", {
        /**
         * Fires when the UI controls are hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onRelease", {
        /**
         * Fires when the UI controls are released.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onRelease;
        },
        enumerable: true,
        configurable: true
    });
    UIInstanceManager.prototype.clearEventHandlers = function () {
        this.playerWrapper.clearEventHandlers();
        var events = this.events; // avoid TS7017
        for (var event_1 in events) {
            var dispatcher = events[event_1];
            dispatcher.unsubscribeAll();
        }
    };
    return UIInstanceManager;
}());
exports.UIInstanceManager = UIInstanceManager;
/**
 * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
 * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
 */
var InternalUIInstanceManager = /** @class */ (function (_super) {
    __extends(InternalUIInstanceManager, _super);
    function InternalUIInstanceManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
        // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
        // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
        // not need to be exported
        return this.getPlayer();
    };
    InternalUIInstanceManager.prototype.configureControls = function () {
        this.configureControlsTree(this.getUI());
        this.configured = true;
    };
    InternalUIInstanceManager.prototype.isConfigured = function () {
        return this.configured;
    };
    InternalUIInstanceManager.prototype.configureControlsTree = function (component) {
        var _this = this;
        var configuredComponents = [];
        uiutils_1.UIUtils.traverseTree(component, function (component) {
            // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
            // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
            // times hints at a wrong UI structure.
            // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
            // seems like the better choice.
            for (var _i = 0, configuredComponents_1 = configuredComponents; _i < configuredComponents_1.length; _i++) {
                var configuredComponent = configuredComponents_1[_i];
                if (configuredComponent === component) {
                    // Write the component to the console to simplify identification of the culprit
                    // (e.g. by inspecting the config)
                    if (console) {
                        console.error('Circular reference in UI tree', component);
                    }
                    // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                    throw Error('Circular reference in UI tree: ' + component.constructor.name);
                }
            }
            component.initialize();
            component.configure(_this.getPlayer(), _this);
            configuredComponents.push(component);
        });
    };
    InternalUIInstanceManager.prototype.releaseControls = function () {
        // Do not call release methods if the components have never been configured; this can result in exceptions
        if (this.configured) {
            this.onRelease.dispatch(this.getUI());
            this.releaseControlsTree(this.getUI());
            this.configured = false;
        }
        this.released = true;
    };
    InternalUIInstanceManager.prototype.isReleased = function () {
        return this.released;
    };
    InternalUIInstanceManager.prototype.releaseControlsTree = function (component) {
        component.release();
        if (component instanceof container_1.Container) {
            for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                var childComponent = _a[_i];
                this.releaseControlsTree(childComponent);
            }
        }
    };
    InternalUIInstanceManager.prototype.clearEventHandlers = function () {
        _super.prototype.clearEventHandlers.call(this);
    };
    return InternalUIInstanceManager;
}(UIInstanceManager));
/**
 * Wraps the player to track event handlers and provide a simple method to remove all registered event
 * handlers from the player.
 */
var PlayerWrapper = /** @class */ (function () {
    function PlayerWrapper(player) {
        var _this = this;
        this.eventHandlers = {};
        this.player = player;
        // Collect all members of the player (public API methods and properties of the player)
        // (Object.getOwnPropertyNames(player) does not work with the player TypeScript class starting in 7.2)
        var members = [];
        for (var member in player) {
            members.push(member);
        }
        // Split the members into methods and properties
        var methods = [];
        var properties = [];
        for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {
            var member = members_1[_i];
            if (typeof player[member] === 'function') {
                methods.push(member);
            }
            else {
                properties.push(member);
            }
        }
        // Create wrapper object
        var wrapper = {};
        var _loop_1 = function (method) {
            wrapper[method] = function () {
                // console.log('called ' + member); // track method calls on the player
                return player[method].apply(player, arguments);
            };
        };
        // Add function wrappers for all API methods that do nothing but calling the base method on the player
        for (var _a = 0, methods_1 = methods; _a < methods_1.length; _a++) {
            var method = methods_1[_a];
            _loop_1(method);
        }
        var _loop_2 = function (property) {
            // Get an eventually existing property descriptor to differentiate between plain properties and properties with
            // getters/setters.
            var propertyDescriptor = Object.getOwnPropertyDescriptor(player, property) ||
                Object.getOwnPropertyDescriptor(Object.getPrototypeOf(player), property);
            // If the property has getters/setters, wrap them accordingly...
            if (propertyDescriptor && (propertyDescriptor.get || propertyDescriptor.set)) {
                Object.defineProperty(wrapper, property, {
                    get: function () { return propertyDescriptor.get.call(player); },
                    set: function (value) { return propertyDescriptor.set.call(player, value); },
                });
            }
            // ... else just transfer the property to the wrapper
            else {
                wrapper[property] = player[property];
            }
        };
        // Add all public properties of the player to the wrapper
        for (var _b = 0, properties_1 = properties; _b < properties_1.length; _b++) {
            var property = properties_1[_b];
            _loop_2(property);
        }
        // Explicitly add a wrapper method for 'addEventHandler' that adds added event handlers to the event list
        wrapper.addEventHandler = function (eventType, callback) {
            // in player V8 addEventHandler was replaced by on
            if (player.on) {
                player.on(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.addEventHandler(eventType, callback);
            }
            if (!_this.eventHandlers[eventType]) {
                _this.eventHandlers[eventType] = [];
            }
            _this.eventHandlers[eventType].push(callback);
            return wrapper;
        };
        // Explicitly add a wrapper method for 'removeEventHandler' that removes removed event handlers from the event list
        wrapper.removeEventHandler = function (eventType, callback) {
            if (player.off) {
                player.off(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.removeEventHandler(eventType, callback);
            }
            if (_this.eventHandlers[eventType]) {
                arrayutils_1.ArrayUtils.remove(_this.eventHandlers[eventType], callback);
            }
            return wrapper;
        };
        wrapper.fireEventInUI = function (event, data) {
            if (_this.eventHandlers[event]) { // check if there are handlers for this event registered
                // Extend the data object with default values to convert it to a {@link PlayerEvent} object.
                var playerEventData = Object.assign({}, {
                    timestamp: Date.now(),
                    type: event,
                    // Add a marker property so the UI can detect UI-internal player events
                    uiSourced: true,
                }, data);
                // Execute the registered callbacks
                for (var _i = 0, _a = _this.eventHandlers[event]; _i < _a.length; _i++) {
                    var callback = _a[_i];
                    callback(playerEventData);
                }
            }
        };
        this.wrapper = wrapper;
    }
    /**
     * Returns a wrapped player object that can be used on place of the normal player object.
     * @returns {WrappedPlayer} a wrapped player
     */
    PlayerWrapper.prototype.getPlayer = function () {
        return this.wrapper;
    };
    /**
     * Clears all registered event handlers from the player that were added through the wrapped player.
     */
    PlayerWrapper.prototype.clearEventHandlers = function () {
        for (var eventType in this.eventHandlers) {
            for (var _i = 0, _a = this.eventHandlers[eventType]; _i < _a.length; _i++) {
                var callback = _a[_i];
                this.player.removeEventHandler(eventType, callback);
            }
        }
    };
    return PlayerWrapper;
}());


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid;
(function (Guid) {
    var guid = 1;
    function next() {
        return guid++;
    }
    Guid.next = next;
})(Guid = exports.Guid || (exports.Guid = {}));


/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var storageutils_1 = __webpack_require__(45);
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var SubtitleSettingsManager = /** @class */ (function () {
    function SubtitleSettingsManager() {
        var _this = this;
        this._properties = {
            fontColor: new SubtitleSettingsProperty(this),
            fontOpacity: new SubtitleSettingsProperty(this),
            fontFamily: new SubtitleSettingsProperty(this),
            fontSize: new SubtitleSettingsProperty(this),
            characterEdge: new SubtitleSettingsProperty(this),
            backgroundColor: new SubtitleSettingsProperty(this),
            backgroundOpacity: new SubtitleSettingsProperty(this),
            windowColor: new SubtitleSettingsProperty(this),
            windowOpacity: new SubtitleSettingsProperty(this),
        };
        this.userSettings = {};
        this.localStorageKey = DummyComponent.instance().prefixCss('subtitlesettings');
        var _loop_1 = function (propertyName) {
            this_1._properties[propertyName].onChanged.subscribe(function (sender, property) {
                if (property.isSet()) {
                    _this.userSettings[propertyName] = property.value;
                }
                else {
                    // Delete the property from the settings object if unset to avoid serialization of null values
                    delete _this.userSettings[propertyName];
                }
                // Save the settings object when a property has changed
                _this.save();
            });
        };
        var this_1 = this;
        for (var propertyName in this._properties) {
            _loop_1(propertyName);
        }
        this.load();
    }
    SubtitleSettingsManager.prototype.reset = function () {
        for (var propertyName in this._properties) {
            this._properties[propertyName].clear();
        }
    };
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontColor", {
        get: function () {
            return this._properties.fontColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontOpacity", {
        get: function () {
            return this._properties.fontOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontFamily", {
        get: function () {
            return this._properties.fontFamily;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontSize", {
        get: function () {
            return this._properties.fontSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "characterEdge", {
        get: function () {
            return this._properties.characterEdge;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundColor", {
        get: function () {
            return this._properties.backgroundColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundOpacity", {
        get: function () {
            return this._properties.backgroundOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowColor", {
        get: function () {
            return this._properties.windowColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowOpacity", {
        get: function () {
            return this._properties.windowOpacity;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Saves the settings to local storage.
     */
    SubtitleSettingsManager.prototype.save = function () {
        storageutils_1.StorageUtils.setObject(this.localStorageKey, this.userSettings);
    };
    /**
     * Loads the settings from local storage
     */
    SubtitleSettingsManager.prototype.load = function () {
        this.userSettings = storageutils_1.StorageUtils.getObject(this.localStorageKey) || {};
        // Apply the loaded settings
        for (var property in this.userSettings) {
            this._properties[property].value = this.userSettings[property];
        }
    };
    return SubtitleSettingsManager;
}());
exports.SubtitleSettingsManager = SubtitleSettingsManager;
/**
 * A dummy component whose sole purpose is to expose the {@link #prefixCss} method to the
 * {@link SubtitleSettingsManager}.
 */
var DummyComponent = /** @class */ (function (_super) {
    __extends(DummyComponent, _super);
    function DummyComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DummyComponent.instance = function () {
        if (!DummyComponent._instance) {
            DummyComponent._instance = new DummyComponent();
        }
        return DummyComponent._instance;
    };
    DummyComponent.prototype.prefixCss = function (cssClassOrId) {
        return _super.prototype.prefixCss.call(this, cssClassOrId);
    };
    return DummyComponent;
}(component_1.Component));
var SubtitleSettingsProperty = /** @class */ (function () {
    function SubtitleSettingsProperty(manager) {
        this._manager = manager;
        this._onChanged = new eventdispatcher_1.EventDispatcher();
    }
    SubtitleSettingsProperty.prototype.isSet = function () {
        return this._value != null;
    };
    SubtitleSettingsProperty.prototype.clear = function () {
        this._value = null;
        this.onChangedEvent(null);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (value) {
            if (typeof value === 'string' && value === 'null') {
                value = null;
            }
            this._value = value;
            this.onChangedEvent(value);
        },
        enumerable: true,
        configurable: true
    });
    SubtitleSettingsProperty.prototype.onChangedEvent = function (value) {
        this._onChanged.dispatch(this._manager, this);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "onChanged", {
        get: function () {
            return this._onChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SubtitleSettingsProperty;
}());
exports.SubtitleSettingsProperty = SubtitleSettingsProperty;


/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dom_1 = __webpack_require__(1);
/**
 * Tracks the loading state of images.
 */
var ImageLoader = /** @class */ (function () {
    function ImageLoader() {
        this.state = {};
    }
    /**
     * Loads an image and call the callback once the image is loaded. If the image is already loaded, the callback
     * is called immediately, else it is called once loading has finished. Calling this method multiple times for the
     * same image while it is loading calls only let callback passed into the last call.
     * @param url The url to the image to load
     * @param loadedCallback The callback that is called when the image is loaded
     */
    ImageLoader.prototype.load = function (url, loadedCallback) {
        var _this = this;
        if (!this.state[url]) {
            // When the image was never attempted to be loaded before, we create a state and store it in the state map
            // for later use when the same image is requested to be loaded again.
            var state_1 = {
                url: url,
                image: new dom_1.DOM('img', {}),
                loadedCallback: loadedCallback,
                loaded: false,
                width: 0,
                height: 0,
            };
            this.state[url] = state_1;
            // Listen to the load event, update the state and call the callback once the image is loaded
            state_1.image.on('load', function (e) {
                state_1.loaded = true;
                state_1.width = state_1.image.get(0).width;
                state_1.height = state_1.image.get(0).height;
                _this.callLoadedCallback(state_1);
            });
            // Set the image URL to start the loading
            state_1.image.attr('src', state_1.url);
        }
        else {
            // We have a state for the requested image, so it is either already loaded or currently loading
            var state = this.state[url];
            // We overwrite the callback to make sure that only the callback of the latest call gets executed.
            // Earlier callbacks become invalid once a new load call arrives, and they are not called as long as the image
            // is not loaded.
            state.loadedCallback = loadedCallback;
            // When the image is already loaded, we directly execute the callback instead of waiting for the load event
            if (state.loaded) {
                this.callLoadedCallback(state);
            }
        }
    };
    ImageLoader.prototype.callLoadedCallback = function (state) {
        state.loadedCallback(state.url, state.width, state.height);
    };
    return ImageLoader;
}());
exports.ImageLoader = ImageLoader;


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
/**
 * Animated analog TV static noise.
 */
var TvNoiseCanvas = /** @class */ (function (_super) {
    __extends(TvNoiseCanvas, _super);
    function TvNoiseCanvas(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.canvasWidth = 160;
        _this.canvasHeight = 90;
        _this.interferenceHeight = 50;
        _this.lastFrameUpdate = 0;
        _this.frameInterval = 60;
        _this.useAnimationFrame = !!window.requestAnimationFrame;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-tvnoisecanvas',
        }, _this.config);
        return _this;
    }
    TvNoiseCanvas.prototype.toDomElement = function () {
        return this.canvas = new dom_1.DOM('canvas', { 'class': this.getCssClasses() });
    };
    TvNoiseCanvas.prototype.start = function () {
        this.canvasElement = this.canvas.get(0);
        this.canvasContext = this.canvasElement.getContext('2d');
        this.noiseAnimationWindowPos = -this.canvasHeight;
        this.lastFrameUpdate = 0;
        this.canvasElement.width = this.canvasWidth;
        this.canvasElement.height = this.canvasHeight;
        this.renderFrame();
    };
    TvNoiseCanvas.prototype.stop = function () {
        if (this.useAnimationFrame) {
            cancelAnimationFrame(this.frameUpdateHandlerId);
        }
        else {
            clearTimeout(this.frameUpdateHandlerId);
        }
    };
    TvNoiseCanvas.prototype.renderFrame = function () {
        // This code has been copied from the player controls.js and simplified
        if (this.lastFrameUpdate + this.frameInterval > new Date().getTime()) {
            // It's too early to render the next frame
            this.scheduleNextRender();
            return;
        }
        var currentPixelOffset;
        var canvasWidth = this.canvasWidth;
        var canvasHeight = this.canvasHeight;
        // Create texture
        var noiseImage = this.canvasContext.createImageData(canvasWidth, canvasHeight);
        // Fill texture with noise
        for (var y = 0; y < canvasHeight; y++) {
            for (var x = 0; x < canvasWidth; x++) {
                currentPixelOffset = (canvasWidth * y * 4) + x * 4;
                noiseImage.data[currentPixelOffset] = Math.random() * 255;
                if (y < this.noiseAnimationWindowPos || y > this.noiseAnimationWindowPos + this.interferenceHeight) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                }
                noiseImage.data[currentPixelOffset + 1] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 2] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 3] = 50;
            }
        }
        // Put texture onto canvas
        this.canvasContext.putImageData(noiseImage, 0, 0);
        this.lastFrameUpdate = new Date().getTime();
        this.noiseAnimationWindowPos += 7;
        if (this.noiseAnimationWindowPos > canvasHeight) {
            this.noiseAnimationWindowPos = -canvasHeight;
        }
        this.scheduleNextRender();
    };
    TvNoiseCanvas.prototype.scheduleNextRender = function () {
        if (this.useAnimationFrame) {
            this.frameUpdateHandlerId = window.requestAnimationFrame(this.renderFrame.bind(this));
        }
        else {
            this.frameUpdateHandlerId = setTimeout(this.renderFrame.bind(this), this.frameInterval);
        }
    };
    return TvNoiseCanvas;
}(component_1.Component));
exports.TvNoiseCanvas = TvNoiseCanvas;


/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays an audio-only indicator.
 */
var AudioOnlyOverlay = /** @class */ (function (_super) {
    __extends(AudioOnlyOverlay, _super);
    function AudioOnlyOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicatorConfig = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-audioonly-overlay-indicator', hidden: true }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-audioonly-overlay',
            hidden: false,
            components: _this.indicatorConfig,
        }, _this.config);
        return _this;
    }
    AudioOnlyOverlay.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.componentConfig = uimanager.getConfig().audioOnlyOverlayConfig || {};
        var config = this.getConfig();
        var indicator = config.components[0];
        var backgroundImageUrl = this.componentConfig.backgroundImageUrl;
        var element = this.getDomElement();
        var showBackgroundImage = function () {
            element.css('backgroundImage', "url(" + backgroundImageUrl + ")");
            element.css('backgroundSize', 'contain');
            element.css('backgroundColor', '#000000');
            element.css('animation', 'none');
            element.css('backgroundPosition', 'center');
        };
        var overlayShowTimeout = new timeout_1.Timeout(400, function () {
            indicator.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            indicator.hide();
        };
        if (backgroundImageUrl) {
            showBackgroundImage();
        }
        if (!this.componentConfig.hiddeIndicator) {
            player.addEventHandler(player.EVENT.ON_PLAY, showOverlay);
            player.addEventHandler(player.EVENT.ON_PAUSED, hideOverlay);
        }
    };
    return AudioOnlyOverlay;
}(container_1.Container));
exports.AudioOnlyOverlay = AudioOnlyOverlay;


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(34);
var dom_1 = __webpack_require__(1);
var ItemSelectionList = /** @class */ (function (_super) {
    __extends(ItemSelectionList, _super);
    function ItemSelectionList(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            tag: 'ul',
            cssClass: 'ui-itemselectionlist',
        }, _this.config);
        return _this;
    }
    ItemSelectionList.prototype.isActive = function () {
        return this.items.length > 1;
    };
    ItemSelectionList.prototype.toDomElement = function () {
        var listElement = new dom_1.DOM('ul', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.listElement = listElement;
        this.updateDomItems();
        return listElement;
    };
    ItemSelectionList.prototype.updateDomItems = function (selectedValue) {
        var _this = this;
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.listElement.empty();
        var selectedListItem = null;
        var selectItem = function (listItem) {
            listItem.addClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var deselectItem = function (listItem) {
            listItem.removeClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var _loop_1 = function (item) {
            var listItem = new dom_1.DOM('li', {
                'type': 'li',
                'class': this_1.prefixCss('ui-selectionlistitem'),
            }).append(new dom_1.DOM('a', {}).html(item.label));
            if (!selectedListItem) {
                if (selectedValue == null) { // If there is no pre-selected value, select the first one
                    selectedListItem = listItem;
                }
                else if (String(selectedValue) === item.key) { // convert selectedValue to string to catch 'null'/null case
                    selectedListItem = listItem;
                }
            }
            // Handle list item selections
            listItem.on('click', function () {
                // Deselect the previous item (if there was a selected item)
                if (selectedListItem) {
                    deselectItem(selectedListItem);
                }
                // Select the clicked item
                selectedListItem = listItem;
                selectItem(listItem);
                // Fire the event
                _this.onItemSelectedEvent(item.key, false);
            });
            // Select default item
            if (selectedListItem) {
                selectItem(selectedListItem);
            }
            this_1.listElement.append(listItem);
        };
        var this_1 = this;
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            _loop_1(item);
        }
    };
    ItemSelectionList.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    ItemSelectionList.CLASS_SELECTED = 'selected';
    return ItemSelectionList;
}(listselector_1.ListSelector));
exports.ItemSelectionList = ItemSelectionList;


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(28);
/**
 * A watermark overlay with a clickable logo.
 */
var Watermark = /** @class */ (function (_super) {
    __extends(Watermark, _super);
    function Watermark(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-watermark',
            url: 'http://bitmovin.com',
        }, _this.config);
        return _this;
    }
    return Watermark;
}(clickoverlay_1.ClickOverlay));
exports.Watermark = Watermark;


/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var volumeslider_1 = __webpack_require__(26);
var volumetogglebutton_1 = __webpack_require__(17);
var timeout_1 = __webpack_require__(9);
/**
 * A composite volume control that consists of and internally manages a volume control button that can be used
 * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
 */
var VolumeControlButton = /** @class */ (function (_super) {
    __extends(VolumeControlButton, _super);
    function VolumeControlButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.volumeToggleButton = new volumetogglebutton_1.VolumeToggleButton();
        _this.volumeSlider = new volumeslider_1.VolumeSlider({
            vertical: config.vertical != null ? config.vertical : true,
            hidden: true,
        });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumecontrolbutton',
            components: [_this.volumeToggleButton, _this.volumeSlider],
            hideDelay: 500,
        }, _this.config);
        return _this;
    }
    VolumeControlButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var volumeToggleButton = this.getVolumeToggleButton();
        var volumeSlider = this.getVolumeSlider();
        this.volumeSliderHideTimeout = new timeout_1.Timeout(this.getConfig().hideDelay, function () {
            volumeSlider.hide();
        });
        /*
         * Volume Slider visibility handling
         *
         * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
         * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
         * shall disappear.
         */
        var volumeSliderHovered = false;
        volumeToggleButton.getDomElement().on('mouseenter', function () {
            // Show volume slider when mouse enters the button area
            if (volumeSlider.isHidden()) {
                volumeSlider.show();
            }
            // Avoid hiding of the slider when button is hovered
            _this.volumeSliderHideTimeout.clear();
        });
        volumeToggleButton.getDomElement().on('mouseleave', function () {
            // Hide slider delayed when button is left
            _this.volumeSliderHideTimeout.reset();
        });
        volumeSlider.getDomElement().on('mouseenter', function () {
            // When the slider is entered, cancel the hide timeout activated by leaving the button
            _this.volumeSliderHideTimeout.clear();
            volumeSliderHovered = true;
        });
        volumeSlider.getDomElement().on('mouseleave', function () {
            // When mouse leaves the slider, only hide it if there is no slide operation in progress
            if (volumeSlider.isSeeking()) {
                _this.volumeSliderHideTimeout.clear();
            }
            else {
                _this.volumeSliderHideTimeout.reset();
            }
            volumeSliderHovered = false;
        });
        volumeSlider.onSeeked.subscribe(function () {
            // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
            if (!volumeSliderHovered) {
                _this.volumeSliderHideTimeout.reset();
            }
        });
    };
    VolumeControlButton.prototype.release = function () {
        _super.prototype.release.call(this);
        this.volumeSliderHideTimeout.clear();
    };
    /**
     * Provides access to the internally managed volume toggle button.
     * @returns {VolumeToggleButton}
     */
    VolumeControlButton.prototype.getVolumeToggleButton = function () {
        return this.volumeToggleButton;
    };
    /**
     * Provides access to the internally managed volume silder.
     * @returns {VolumeSlider}
     */
    VolumeControlButton.prototype.getVolumeSlider = function () {
        return this.volumeSlider;
    };
    return VolumeControlButton;
}(container_1.Container));
exports.VolumeControlButton = VolumeControlButton;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var stringutils_1 = __webpack_require__(10);
/**
 * A button that is displayed during ads and can be used to skip the ad.
 */
var AdSkipButton = /** @class */ (function (_super) {
    __extends(AdSkipButton, _super);
    function AdSkipButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button-ad-skip',
            skipMessage: {
                countdown: 'Skip ad in {remainingTime}',
                skip: 'Skip ad',
            },
        }, _this.config);
        return _this;
    }
    AdSkipButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO get rid of generic cast
        var skipMessage = config.skipMessage;
        var adEvent = null;
        var updateSkipMessageHandler = function () {
            // Display this button only if ad is skippable
            if (adEvent.skipOffset) {
                _this.show();
            }
            else {
                _this.hide();
            }
            // Update the skip message on the button
            if (player.getCurrentTime() < adEvent.skipOffset) {
                _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(config.skipMessage.countdown, adEvent.skipOffset, player));
            }
            else {
                _this.setText(config.skipMessage.skip);
            }
        };
        var adStartHandler = function (event) {
            adEvent = event;
            skipMessage = adEvent.skipMessage || skipMessage;
            updateSkipMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
        this.onClick.subscribe(function () {
            // Try to skip the ad (this only works if it is skippable so we don't need to take extra care of that here)
            player.skipAd();
        });
    };
    return AdSkipButton;
}(button_1.Button));
exports.AdSkipButton = AdSkipButton;


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var stringutils_1 = __webpack_require__(10);
/**
 * A label that displays a message about a running ad, optionally with a countdown.
 */
var AdMessageLabel = /** @class */ (function (_super) {
    __extends(AdMessageLabel, _super);
    function AdMessageLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label-ad-message',
            text: 'This ad will end in {remainingTime} seconds.',
        }, _this.config);
        return _this;
    }
    AdMessageLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var text = this.getConfig().text;
        var updateMessageHandler = function () {
            _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(text, null, player));
        };
        var adStartHandler = function (event) {
            text = event.adMessage || text;
            updateMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
    };
    return AdMessageLabel;
}(label_1.Label));
exports.AdMessageLabel = AdMessageLabel;


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(28);
/**
 * A simple click capture overlay for clickThroughUrls of ads.
 */
var AdClickOverlay = /** @class */ (function (_super) {
    __extends(AdClickOverlay, _super);
    function AdClickOverlay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AdClickOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clickThroughUrl = null;
        var clickThroughEnabled = !player.getConfig().advertising
            || !player.getConfig().advertising.hasOwnProperty('clickThroughEnabled')
            || player.getConfig().advertising.clickThroughEnabled;
        player.addEventHandler(player.EVENT.ON_AD_STARTED, function (event) {
            clickThroughUrl = event.clickThroughUrl;
            if (clickThroughEnabled) {
                _this.setUrl(clickThroughUrl);
            }
            else {
                // If click-through is disabled, we set the url to null to avoid it open
                _this.setUrl(null);
            }
        });
        // Clear click-through URL when ad has finished
        var adFinishedHandler = function () {
            _this.setUrl(null);
        };
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adFinishedHandler);
        this.onClick.subscribe(function () {
            // Pause the ad when overlay is clicked
            player.pause('ui-content-click');
            // Notify the player of the clicked ad
            player.fireEvent(player.EVENT.ON_AD_CLICKED, {
                clickThroughUrl: clickThroughUrl,
            });
        });
    };
    return AdClickOverlay;
}(clickoverlay_1.ClickOverlay));
exports.AdClickOverlay = AdClickOverlay;


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(14);
var timeout_1 = __webpack_require__(9);
/**
 * The base container for Cast receivers that contains all of the UI and takes care that the UI is shown on
 * certain playback events.
 */
var CastUIContainer = /** @class */ (function (_super) {
    __extends(CastUIContainer, _super);
    function CastUIContainer(config) {
        return _super.call(this, config) || this;
    }
    CastUIContainer.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        /*
         * Show UI on Cast devices at certain playback events
         *
         * Since a Cast receiver does not have a direct HCI, we show the UI on certain playback events to give the user
         * a chance to see on the screen what's going on, e.g. on play/pause or a seek the UI is shown and the user can
         * see the current time and position on the seek bar.
         * The UI is shown permanently while playback is paused, otherwise hides automatically after the configured
         * hide delay time.
         */
        var isUiShown = false;
        var hideUi = function () {
            uimanager.onControlsHide.dispatch(_this);
            isUiShown = false;
        };
        this.castUiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        var showUi = function () {
            if (!isUiShown) {
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
        };
        var showUiPermanently = function () {
            showUi();
            _this.castUiHideTimeout.clear();
        };
        var showUiWithTimeout = function () {
            showUi();
            _this.castUiHideTimeout.start();
        };
        var showUiAfterSeek = function () {
            if (player.isPlaying()) {
                showUiWithTimeout();
            }
            else {
                showUiPermanently();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PLAY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PAUSED, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEK, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEKED, showUiAfterSeek);
    };
    CastUIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.castUiHideTimeout.clear();
    };
    return CastUIContainer;
}(uicontainer_1.UIContainer));
exports.CastUIContainer = CastUIContainer;


/***/ }),
/* 86 */
/***/ (function(module, exports) {

/*! Hive Stats Pack build 4.1.0 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(e){function t(i){if(r[i])return r[i].i;var n=r[i]={s:i,o:!1,i:{}};return e[i].call(n.i,n,n.i,t),n.o=!0,n.i}var r={};t.h=e,t.c=r,t.d=function(e,r,i){t.u(e,r)||Object.defineProperty(e,r,{l:!1,p:!0,get:i})},t.n=function(e){var r=e&&e.g?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.u=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.v="",t(t.T=99)}([function(e,t,r){"use strict";var i,n=r(40),s=r(3);!function(e){function t(t){N&&console.log("Framework already initialized"),e.m(),A=new Date,t.apply(L),N=L.resolve(C.I),k=L.resolve(C.R),F=N.C()}function r(){D=L.resolve(C._),D.init()}function i(){return D}function o(){return L}function a(){return k}function h(){return N}function c(e){return M.get(e)}function u(e,t){var r=new _(e);return r.apply(t),M.set(e,r),r}function l(t){P=e.P(t)}function p(e){return null!=P?P.context.resolve(e):(console.warn("undefined context"),null)}function d(){return P}function f(){return N.time()}function g(e,t){return N.setTimeout(e,t)}function E(e){return N.clearTimeout(e)}function v(e,t){return N.setInterval(e,t)}function y(e){return N.clearInterval(e)}function T(){N.A()}function m(){N&&N.O(),L.N(),L=new n.D,M=new s,P=null,A=null,F=!1,O=null,N=null,D=null,k=null}function I(e){O=e}function S(){return O||(O=(new Date).getTime()),(O=(9301*O+49297)%233280)/233280}function R(){return A}function w(){return F}var b=function(){function e(){}return e}();b.k="ws://127.0.0.1:8000/hive",e.L=b;var C=function(){function e(){}return e}();C.I="TimerScheduler",C.M="identityProvider",C._="NetworkComponent",C.F="rtcManager",C.U="transport",C.B="httpManager",C.H="httpRequest",C.R="logger",C.q="serverManager",C.G="servicesClient",e.V=C;var _=function(){function e(e){this.id=e,this.context=new n.D}return e.prototype.apply=function(e){e.apply(this.context)},e}();e.j=_;!function(e){e[e.K=0]="HTTP",e[e.Y=1]="RTC",e[e.W=2]="UDP"}(e.J||(e.J={}));!function(t){function r(){return"["+f()+"] ["+e.X().id+"]"}t.getId=r}(e.Z||(e.Z={}));var P,A,O,N,D,k,L=new n.D,M=new s,F=!1;e.$=t,e.ee=r,e.te=i,e.system=o,e.logger=a,e.re=h,e.P=c,e.ie=u,e.ne=l,e.resolve=p,e.X=d,e.time=f,e.setTimeout=g,e.clearTimeout=E,e.setInterval=v,e.clearInterval=y,e.A=T,e.m=m,e.se=I,e.random=S,e.oe=R,e.C=w}(i=t.Framework||(t.Framework={})),"undefined"!=typeof global&&(global.Framework=i)},function(e,t,r){"use strict";var i=r(106),n=r(20),s=r(6),o=s.he.ae,a=(s.he.ce,s.he.ue),h=s.he.le,c=function(){function e(t){var r=this;if(this.isActive=!1,this.pe="undefined"!=typeof atatus&&null!=atatus,this.de={},e.fe)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var i,s=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:o,c=1==n.HiveConfig.ErrorMonitor.enabledRUM,u=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,l=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;l&&(i=this.ge()),this.version=t,this.pe&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&a||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(s,{enableSourcemap:!0,disableRUM:!c,console:!1,version:t,beforeErrorSend:function(e){var t=!1;e&&e.customData&&void 0!==e.customData.forceSend&&(t=e.customData.forceSend,delete e.customData.forceSend,0===Object.keys(e.customData).length&&(e.customData=null));for(var n in r.de)e.customData[n]=r.de[n];if(!l||t)return!0;if(!i)return!1;try{var s=!1;if(e.backTraces){for(var o=0,a=e.backTraces;o<a.length;o++){var c=a[o];if(c.f.indexOf(i)>-1&&c.ln>h){s=!0;break}}s&&(e.name=e.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),e.name.indexOf("Status Code Error:")>=0&&(e.tags=["Plugin Error Code",e.name.split(":")[1].trim()]))}return s}catch(e){return!1}}}).install(),u&&this.Ee(),this.isActive=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+c+", KeyHandler:"+u+"]"),l&&!i&&this.logError("Could not extract error filter"))}return e.ve=function(t){return void 0===t&&(t="3.0.0"),void 0===this.fe&&(this.fe=new e(t)),this.fe},e.prototype.Ee=function(){i.Te.ve().ye([16,17,88],function(){try{throw new Error("Upload console logs")}catch(e){atatus.notify(e),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},e.prototype.ge=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},e.prototype.setUser=function(e){this.pe&&this.isActive&&atatus.setUser(e)},e.prototype.me=function(e){this.logger=e},e.prototype.setCustomData=function(e){this.pe&&this.isActive&&atatus.setCustomData(e)},e.prototype.Ie=function(e){for(var t in e)this.de[t]=e[t]},e.prototype.logError=function(e,t,r,i,n){var s="";if("string"==typeof t?s=t.trim():void 0!==t&&(i=t),(i instanceof Error||i&&"object"!=typeof i)&&(i={error:i.toString()}),i||(i={}),i.errorCode=r,this.logger&&(Object.keys(i).length>0?this.logger.warn(s+" "+e,i):this.logger.warn(s+" "+e)),s&&(n=n?n.concat([s]):[s]),i.forceSend=!0,this.pe&&this.isActive)try{throw new Error(e)}catch(e){atatus.notify(e,i,n)}},e.prototype.setTags=function(e){this.pe&&this.isActive&&atatus.setTags(e)},e.prototype.notify=function(e,t){this.pe&&this.isActive&&(t||(t={}),t.forceSend=!0,atatus.notify(e,t))},e}();t.ErrorMonitor=c},function(e,t,r){"use strict";!function(e){!function(e){e[e.Se=268435456]="BASE_CODE",e[e.Re=268435457]="FIRE_SERVER_CONNECTED_WITH_SWARM",e[e.we=268435458]="FIRE_SERVER_CONNECTED_WITHOUT_SWARM",e[e.be=268435459]="CONNECTION_NOT_ESTABLISHED",e[e.Ce=268435460]="SEND_MESSAGE_TO_NON_EXISTING_CHANNEL",e[e._e=268435461]="RECEIVED_MESSAGE_FROM_NON_EXISTING_CONNECTION"}(e.Pe||(e.Pe={}));!function(e){e[e.Se=536870912]="BASE_CODE",e[e.Ae=536870913]="CREATE_OFFER",e[e.Oe=536870914]="CREATE_ANSWER",e[e.Ne=536870915]="SIGNALING_STATE_CLOSED",e[e.De=536870916]="SET_LOCAL_DESCRIPTION_FAILED",e[e.ke=536870917]="NEGOTIATION_FAILURE",e[e.Le=536870918]="SETUP_CHANNEL_ERROR",e[e.Me=536870919]="ICE_CONNECTION_FAILED",e[e.Fe=536870920]="SET_REMOTE_DESCRIPTION",e[e.Ue=536870921]="UPDATE_ICE_CANDIDATES",e[e.Be=536870922]="ANSWER_RECEIVED",e[e.He=536870923]="OFFER_RECEIVED",e[e.xe=536870924]="SEND_CANDIDATES",e[e.qe=536870925]="CLOSE_CONNECTION"}(e.Ge||(e.Ge={}));!function(e){e[e.Se=805306368]="BASE_CODE",e[e.Ve=805306369]="SEND_MSG_WITHOUT_CHANNEL",e[e.je=805306370]="MSG_TRIGGER_ERROR",e[e.Qe=805306371]="CONNECTION_TIMEOUT"}(e.Ke||(e.Ke={}));!function(e){e[e.Se=1073741824]="BASE_CODE",e[e.qe=1073741825]="CLOSE_CONNECTION",e[e.Ye=1073741826]="P2P_DISPATCHER_ERROR"}(e.We||(e.We={}));!function(e){e[e.Se=1342177280]="BASE_CODE",e[e.ze=1342177281]="CONSTRUCT_MESSAGE",e[e.Je=1342177282]="DROPPED_MESSAGE",e[e.Xe=1342177283]="SEND_MESSAGE",e[e.Ze=1342177284]="RECEIVE_MESSAGE"}(e.$e||(e.$e={}));!function(e){e[e.Se=1610612736]="BASE_CODE",e[e.et=1610612737]="NEW_DISPATCHER"}(e.tt||(e.tt={}));!function(e){e[e.Se=1879048192]="BASE_CODE",e[e.rt=1879048193]="INIT_CACHE",e[e.it=1879048194]="PUT_OPERATION",e[e.nt=1879048195]="GET_OPERATION",e[e.st=1879048196]="CONTAINS_OPERATION",e[e.ot=1879048197]="GET_KEYS_OPERATION",e[e.at=1879048198]="GET_ELEMENTS_OPERATION"}(e.ht||(e.ht={}));!function(e){e[e.Se=2147483648]="BASE_CODE",e[e.it=2147483649]="PUT_OPERATION",e[e.nt=2147483650]="GET_OPERATION",e[e.st=2147483651]="CONTAINS_OPERATION",e[e.ot=2147483652]="GET_KEYS_OPERATION",e[e.at=2147483653]="GET_ELEMENTS_OPERATION",e[e.ct=2147483654]="PURGE_CACHE_OPERATION"}(e.ut||(e.ut={}));!function(e){e[e.Se=2415919104]="BASE_CODE"}(e.lt||(e.lt={}));!function(e){e[e.Se=2684354560]="BASE_CODE",e[e.pt=2684354561]="DISCOVERED_PEERS",e[e.dt=2684354562]="LEADER_ELECTION",e[e.ft=2684354563]="GC_MEMBERS",e[e.gt=2684354564]="ADD_LAN_MEMBER",e[e.Et=2684354565]="ADD_RANDOM_MEMBER",e[e.vt=2684354566]="SAMPLE_MEMBERSHIP"}(e.yt||(e.yt={}));!function(e){e[e.Se=2952790016]="BASE_CODE",e[e.Tt=2952790017]="SEND_ALL_HAVES",e[e.It=2952790018]="SEND_HAVE",e[e.St=2952790019]="UNKNOWN_HAVE",e[e.Rt=2952790020]="UNKNOWN_HAVES",e[e.wt=2952790021]="RECEIVED_HAVE",e[e.bt=2952790022]="RECEIVED_HAVES",e[e.Ct=2952790023]="NO_OUT_PARTNER",e[e._t=2952790024]="CREATE_RANDOM_BUFFER",e[e.Pt=2952790025]="REQUEST_PING",e[e.At=2952790026]="RECEIVED_PING",e[e.Ot=2952790027]="UNKNOWN_PING",e[e.Nt=2952790028]="SEND_PONG",e[e.Dt=2952790029]="UNKOWN_PONG",e[e.kt=2952790030]="WRONG_PONG_SIZE",e[e.Lt=2952790031]="WRONG_TIMESTAMP",e[e.Mt=2952790032]="RECEIVED_PONG",e[e.Ft=2952790033]="COLLECT_PARTNER_SNAPSHOTS"}(e.Ut||(e.Ut={}));!function(e){e[e.Se=3221225472]="BASE_CODE",e[e.Bt=3221225473]="START_PARTNERSHIP",e[e.Ht=3221225474]="NEW_LAN_MEMBER",e[e.xt=3221225475]="IN_PARTNER_CHOICE",e[e.qt=3221225476]="IN_PARTNER_ADD_PROCESS",e[e.Gt=3221225477]="IN_PARTNER_CONNECT",e[e.Vt=3221225478]="IN_PARTNERSHIP_REQUEST",e[e.jt=3221225479]="OUT_PARNTERSHIP_REQUEST_PROCESS",e[e.Qt=3221225480]="CONSTRUCT_DISCOVER_PEER_INFO",e[e.Kt=3221225481]="SEND_PARTN_RESP",e[e.Yt=3221225482]="NEW_IN_PARTNER_TO_LIST",e[e.Wt=3221225483]="REMOVE_DISCONNECTED_PEER",e[e.zt=3221225484]="REMOVE_IN_PARTNER",e[e.Jt=3221225485]="CLOSE_RECEIVED",e[e.Xt=3221225486]="SEND_PART_REQUEST",e[e.Zt=3221225487]="PART_REQUEST_EXPIRED",e[e.$t=3221225488]="UNKNOWN_PARTNERSHIP_REQUEST_EXPIRED",e[e.er=3221225489]="UNKNOWN_OUT_PART_RESP",e[e.tr=3221225490]="CLOSE_PARTNERSHIP",e[e.rr=3221225491]="ANNOUNCE_BITRATE",e[e.ir=3221225492]="CONSTRUCT_ANNOUNCE_BITRATE_MSG",e[e.nr=3221225493]="RECEIVE_BITRATE_INFO",e[e.sr=3221225494]="PEER_INFO_RECEIVED",e[e.ar=3221225495]="PEER_INFO_ANNOUNCED",e[e.hr=3221225496]="COLLECT_ALL_PARTNERS"}(e.cr||(e.cr={}));!function(e){e[e.Se=3489660928]="BASE_CODE",e[e.ur=3489660929]="UPDATE_IN_PARTNERS"}(e.lr||(e.lr={}));!function(e){e[e.Se=3758096384]="BASE_CODE",e[e.pr=3758096385]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=3758096386]="SELECT_PARTNERS_TO_ADD",e[e.gr=3758096387]="SELECT_UPDATE_OUT"}(e.Er||(e.Er={}));!function(e){e[e.Se=4026531840]="BASE_CODE",e[e.pr=4026531841]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=4026531842]="SELECT_PARTNERS_TO_ADD",e[e.gr=4026531843]="SELECT_UPDATE_OUT"}(e.vr||(e.vr={}));!function(e){e[e.Se=4294967296]="BASE_CODE",e[e.ur=4294967297]="UPDATE_IN_PARTNERS",e[e.pr=4294967298]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=4294967299]="SELECT_PARTNERS_TO_ADD",e[e.gr=4294967300]="SELECT_UPDATE_OUT",e[e.yr=4294967301]="GROUP_PARTNERS",e[e.Tr=4294967302]="IDENTIFY_MEMBER_AS_LEADER_OR_SAME_SITE",e[e.mr=4294967303]="AHEAD_BUT_BEHIND_DELTA",e[e.Ir=4294967304]="BEHIND_OR_NOT_RETRIEVING_BITRATE",e[e.Sr=4294967305]="GET_DELTA_FOR_BITRATE"}(e.Rr||(e.Rr={}));!function(e){e[e.Se=4563402752]="BASE_CODE",e[e.wr=4563402753]="UPDATE_OUT_PARTNERS"}(e.br||(e.br={}));!function(e){e[e.Se=4831838208]="BASE_CODE",e[e.Cr=4831838209]="ADD_FRAGMENT_TO_MAP",e[e.Pr=4831838210]="WRAP_CHUNK",e[e.Ar=4831838211]="GENERATE_HASHMAPS"}(e.Or||(e.Or={}));!function(e){e[e.Se=5100273664]="BASE_CODE",e[e.Nr=5100273665]="INIT_AES_MANAGER",e[e.Dr=5100273666]="INIT_KEY",e[e.kr=5100273667]="INIT_IV",e[e.Lr=5100273668]="DECRYPT_BUFFER",e[e.Mr=5100273669]="DOWNLOAD_KEY_ONLOAD",e[e.Fr=5100273670]="DOWNLOAD_KEY"}(e.Ur||(e.Ur={}));!function(e){e[e.Se=5368709120]="BASE_CODE",e[e.Br=5368709121]="GET_ENTITY_TYPE",e[e.Hr=5368709122]="GET_ENTITY_CHARACTERISTICS",e[e.xr=5368709123]="GET_NEXT_ENTITY",e[e.qr=5368709124]="IS_CURRENT_CONTEXT",e[e.Gr=5368709125]="PARSED_METADATA",e[e.Vr=5368709126]="PREFETCH_METADATA_RECEIVED",e[e.jr=5368709127]="FRAGMENT_RECEIVED",e[e.Qr=5368709128]="EVALUATE_PROTECTION",e[e.Kr=5368709129]="GET_DISTANCE_DURATION"}(e.Yr||(e.Yr={}));!function(e){e[e.Se=5637144576]="BASE_CODE",e[e.Wr=5637144577]="PARSE_METADATA",e[e.zr=5637144578]="EXTRACT_SEGMENT_MAPS",e[e.Jr=5637144579]="INIT_PROTECTION",e[e.Xr=5637144580]="GET_SEGMENT_INFO",e[e.Zr=5637144581]="GET_SEGMENT_DISTANCE",e[e.$r=5637144582]="EXTRACT_DURATION",e[e.ei=5637144583]="EXTRACT_DURATION_OR_DECRYPT",e[e.ti=5637144584]="EXTRACT_DURATION_CANNOT_DECRYPT",e[e.ri=5637144585]="EXTRACT_DURATION_NON_ENCRYPTED",e[e.ii=5637144586]="GENERATE_MISSING_SEGMENTS",e[e.ni=5637144587]="REGENERATE_MANIFEST",e[e.si=5637144588]="TRIM_MANIFEST",e[e.oi=5637144589]="PARSE_BITRATES_TO_FILTER",e[e.ai=5637144590]="FILTER_BITRATES",e[e.hi=5637144591]="GET_DISTANCE_DURATION_BETWEEN_SEGMENTS",e[e.ci=5637144592]="GET_SEGMENT"}(e.ui||(e.ui={}));!function(e){e[e.Se=5905580032]="BASE_CODE",e[e.qr=5905580033]="IS_CURRENT_CONTEXT",e[e.Br=5905580034]="GET_ENTITY_TYPE",e[e.Hr=5905580035]="GET_ENTITY_CHARACTERISTICS",e[e.li=5905580036]="METADATA_RECEIVED",e[e.pi=5905580037]="SCHEDULE_METADATA_PREFETCH",e[e.xr=5905580038]="GET_NEXT_ENTITY",e[e.Kr=5905580039]="GET_DISTANCE_DURATION"}(e.di||(e.di={}));!function(e){e[e.Se=6174015488]="BASE_CODE",e[e.fi=6174015489]="PLAYLIST_MISMATCH",e[e.gi=6174015490]="FLOAT_BITRATE",e[e.Wr=6174015491]="PARSE_METADATA",e[e.Xr=6174015492]="GET_SEGMENT_INFO",e[e.Ei=6174015493]="UPDATE_PLAYLIST",e[e.vi=6174015494]="TRIM_PLAYLIST"}(e.yi||(e.yi={}));!function(e){e[e.Se=6442450944]="BASE_CODE",e[e.Ti=6442450945]="GET_P2P_TIMEOUT",e[e.mi=6442450946]="DELIVER_DELAY"}(e.Ii||(e.Ii={}));!function(e){e[e.Se=6710886400]="BASE_CODE",e[e.Si=6710886401]="IS_PLAYER_BUFFERING_BASE",e[e.Ri=6710886402]="CONFIGURE_REQUEST_DIRECTIVE",e[e.wi=6710886403]="ATTEMPT_TO_UPGRADE_PREFETCH"}(e.bi||(e.bi={}));!function(e){e[e.Se=6979321856]="BASE_CODE",e[e.Ci=6979321857]="PREPARE_REQUEST",e[e._i=6979321858]="GET_CONNECTIVITY_INFO",e[e.Pi=6979321859]="COLLECT_TRACKER_REQUEST_INFO",e[e.Ai=6979321860]="PREPARE_QUERY",e[e.Oi=6979321861]="PREPARE_BITRATE_QUERY",e[e.Ni=6979321862]="PREPARE_TRACKER_INFO",e[e.Di=6979321863]="SEND_REQUEST",e[e.ki=6979321864]="HANDLE_RESPONSE"}(e.Li||(e.Li={}));!function(e){e[e.Se=7247757312]="BASE_CODE",e[e.Mi=7247757313]="NEW_TRACKER_CLIENT",e[e.Fi=7247757314]="SERIALIZE_REQUEST",e[e.Ui=7247757315]="DESERIALIZE_RESPONSE",e[e.Bi=7247757316]="SERVICE_CONNECTION_DOWN",e[e.Di=7247757317]="SEND_REQUEST",e[e.Hi=7247757318]="TRACKER_MANAGER_INIT"}(e.xi||(e.xi={}));!function(e){e[e.Se=7516192768]="BASE_CODE",e[e.qi=7516192769]="SORT_PARTNERS"}(e.Gi||(e.Gi={}));!function(e){e[e.Se=7784628224]="BASE_CODE",e[e.Vi=7784628225]="CHOOSE_PARTNER"}(e.ji||(e.ji={}));!function(e){e[e.Se=8053063680]="BASE_CODE",e[e.Qi=8053063681]="CONSTRUCT_FRAGMENT_REQUEST_MESSAGE",e[e.Ki=8053063682]="SEND_FRAGMENT_REQUEST",e[e.Yi=8053063683]="RECEIVE_CHUNK",e[e.Wi=8053063684]="SEND_ACK",e[e.zi=8053063685]="CLEAN_UP_NOT_PENDING",e[e.Ji=8053063686]="STOP_TRANSFER",e[e.Xi=8053063687]="RECEIVE_EXPIRED_CHUNK"}(e.Zi||(e.Zi={}));!function(e){e[e.Se=8321499136]="BASE_CODE",e[e.$i=8321499137]="CONSTRUCT_CHUNK_RESPONSE",e[e.en=8321499138]="START_SENDING_CHUNK",e[e.tn=8321499139]="SEND_CHUNK",e[e.rn=8321499140]="UNKNOWN_ACK"}(e.in||(e.in={}));!function(e){e[e.Se=8589934592]="BASE_CODE",e[e.nn=8589934593]="NO_PARTNER_FOUND",e[e.sn=8589934594]="FILTER_IN_PARTNERS",e[e.an=8589934595]="SET_REQUEST_TIMEOUT",e[e.hn=8589934596]="REMOVE_REQUEST",e[e.cn=8589934597]="CANCEL_ON_NON_EXISTING_SESSION",e[e.un=8589934598]="DO_NOT_HAVE",e[e.pn=8589934599]="REQUESTED_TO_NON_PARTNER"}(e.dn||(e.dn={}));!function(e){e[e.Se=8858370048]="BASE_CODE",e[e.fn=8858370049]="RESPOND_TO_PEER",e[e.gn=8858370050]="REQUEST_SATISFIED",e[e.En=8858370051]="REQUEST_PARTIALLY_SATISFIED",e[e.vn=8858370052]="REQUEST_NOT_SATISFIED",e[e.yn=8858370053]="SEND_DO_NOT_HAVE",e[e.Tn=8858370054]="SEND_NO_PARTNERS"}(e.mn||(e.mn={}));!function(e){e[e.Se=9126805504]="BASE_CODE",e[e.In=9126805505]="VIOLATE_SPOOFING_HANDLER",e[e.Sn=9126805506]="VIOLATE_SPOOFING_RULES",e[e.Rn=9126805507]="ADD_OR_UPDATE_SPOOFING_MAPS",e[e.wn=9126805508]="PERIODIC_CHECK_IP_SPOOFING"}(e.bn||(e.bn={}));!function(e){e[e.Se=9395240960]="BASE_CODE",e[e.Cn=9395240961]="REQUEST_COMPLETED",e[e._n=9395240962]="REQUEST_NOT_EXISTING_COMPLETED",e[e.Pn=9395240963]="REQUEST_PARTIALLY_FAILED",e[e.An=9395240964]="REQUEST_NOT_EXISTING_PARTIALLY_FAILED",e[e.On=9395240965]="REQUEST_FAILED",e[e.Nn=9395240966]="REQUEST_NOT_EXISTING_FAILED"}(e.Dn||(e.Dn={}));!function(e){e[e.Se=9663676416]="BASE_CODE",e[e.kn=9663676417]="UPDATE_WANTED_SESSIONS",e[e.Ln=9663676418]="CONFIGURE_PREFETCHING",e[e.Mn=9663676419]="START_PREFETCHING",e[e.Fn=9663676420]="FRAGMENT_RETRIEVED_SESSION_NOT_EXISTING",e[e.Un=9663676421]="ATTEMPT_PREFETCH_BEFORE_PLAYER_REQUEST",e[e.Bn=9663676422]="FORWARD_IF_NECESSARY",e[e.Hn=9663676423]="IS_ALLOWED_TO_PREFETCH",e[e.xn=9663676424]="PREFETCH_PROCESS",e[e.qn=9663676425]="CHECK_PLAYER_DISTANCE",e[e.Gn=9663676426]="OFFLOAD_LEADER",e[e.Vn=9663676427]="UPGRADE_PREFETCH"}(e.jn||(e.jn={}));!function(e){e[e.Se=9932111872]="BASE_CODE",e[e.Qn=9932111873]="REQUEST_TIMEOUT"}(e.Kn||(e.Kn={}));!function(e){e[e.Se=10200547328]="BASE_CODE",e[e.Yn=10200547329]="PLAYER_REQUEST_ERROR"}(e.Wn||(e.Wn={}));!function(e){e[e.Se=10468982784]="BASE_CODE",e[e.zn=10468982785]="ADD_HAVE",e[e.Jn=10468982786]="REMOVE_PEER"}(e.Xn||(e.Xn={}));!function(e){e[e.Se=10737418240]="BASE_CODE",e[e.Zn=10737418241]="CONSTRUCT_SWARM",e[e.$n=10737418242]="INIT_SWARM",e[e.es=10737418243]="SWITCH_STATE",e[e.Qn=10737418244]="REQUEST_TIMEOUT"}(e.rs||(e.rs={}));!function(e){e[e.Se=11005853696]="BASE_CODE",e[e.ns=11005853697]="SERIALIZE_MESSAGE",e[e.ss=11005853698]="EXTRACT_MESSAGE"}(e.as||(e.as={}))}(t.hs||(t.hs={}))},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.cs,r=r||Object.hash,s=s||Function.us,this.ls=t,this.ps=r,this.ds=s,this.fs=new n(void 0,function(e,r){return t(e.key,r.key)},function(e){return r(e.key)}),this.length=0,this.addEach(e)}var n=(r(11),r(68)),s=r(12),o=r(52),a=r(13);e.i=i,i.Map=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.defineProperty(i.prototype,"size",s.gs),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.log=function(e,t,r,i){t=t||this.vs,this.fs.log(e,function(e,r,i){t(e.value.value,r,i)},r,i)},i.prototype.vs=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.i=t()}}(function(){"use strict";function e(e){return function(){return K.apply(e,arguments)}}function t(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ee(e)||e instanceof G}function i(e,t){if(x&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(te)){for(var r=[],i=t;i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(e.stack);var s=r.join("\n"+te+"\n");e.stack=n(s)}}function n(e){for(var t=e.split("\n"),r=[],i=0;i<t.length;++i){var n=t[i];a(n)||s(n)||!n||r.push(n)}return r.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function o(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function a(e){var t=o(e);if(!t)return!1;var r=t[0],i=t[1];return r===q&&i>=V&&i<=oe}function h(){if(x)try{throw new Error}catch(i){var e=i.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],r=o(t);if(!r)return;return q=r[0],r[1]}}function c(e){return e instanceof d?e:v(e)?C(e):b(e)}function u(){function e(e){t=e,c.ys&&x&&(s.source=e),W(r,function(t,r){c.Ts(function(){e.ms.apply(e,r)})},void 0),r=void 0,i=void 0}var t,r=[],i=[],n=X(u.prototype),s=X(d.prototype);if(s.ms=function(e,n,s){var o=Y(arguments);r?(r.push(o),"when"===n&&s[1]&&i.push(s[1])):c.Ts(function(){t.ms.apply(t,o)})},s.valueOf=function(){if(r)return s;var e=g(t);return E(e)&&(t=e),e},s.Is=function(){return t?t.Is():{state:"pending"}},c.ys&&x)try{throw new Error}catch(e){s.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return n.Ss=s,n.resolve=function(r){t||e(c(r))},n.Rs=function(r){t||e(b(r))},n.reject=function(r){t||e(w(r))},n.notify=function(e){t||W(i,function(t,r){c.Ts(function(){r(e)})},void 0)},n}function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=u();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.Ss}function p(e){return l(function(t,r){for(var i=0,n=e.length;i<n;i++)c(e[i]).then(t,r)})}function d(e,t,r){void 0===t&&(t=function(e){return w(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var i=X(d.prototype);if(i.ms=function(r,n,s){var o;try{o=e[n]?e[n].apply(i,s):t.call(i,n,s)}catch(e){o=w(e)}r&&r(o)},i.Is=r,r){var n=r();"rejected"===n.state&&(i.exception=n.reason),i.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function f(e,t,r,i){return c(e).then(t,r,i)}function g(e){if(E(e)){var t=e.Is();if("fulfilled"===t.state)return t.value}return e}function E(e){return e instanceof d}function v(e){return t(e)&&"function"==typeof e.then}function y(e){return E(e)&&"pending"===e.Is().state}function T(e){return!E(e)||"fulfilled"===e.Is().state}function m(e){return E(e)&&"rejected"===e.Is().state}function I(){re.length=0,ie.length=0,se||(se=!0)}function S(e,t){se&&("object"==typeof process&&process&&"function"==typeof process.ws&&c.Ts.bs(function(){-1!==z(ie,e)&&(process.ws("unhandledRejection",t,e),ne.push(e))}),ie.push(e),t&&void 0!==t.stack?re.push(t.stack):re.push("(no stack) "+t))}function R(e){if(se){var t=z(ie,e);-1!==t&&("object"==typeof process&&process&&"function"==typeof process.ws&&c.Ts.bs(function(){var r=z(ne,e);-1!==r&&(process.ws("rejectionHandled",re[t],e),ne.splice(r,1))}),ie.splice(t,1),re.splice(t,1))}}function w(e){var t=d({when:function(t){return t&&R(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return S(t,e),t}function b(e){return d({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},Cs:function(t,r){return null===t||void 0===t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return $(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=u();return c.Ts(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.Ss}function _(e){return d({_s:function(){}},function(t,r){return k(e,t,r)},function(){return c(e).Is()})}function P(e,t,r){return c(e).Ps(t,r)}function A(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=i[e](t)}catch(e){return w(e)}return o.done?c(o.value):f(o.value,n,s)}try{o=i[e](t)}catch(e){return r(e)?c(e.value):w(e)}return f(o,n,s)}var i=e.apply(this,arguments),n=t.bind(t,"next"),s=t.bind(t,"throw");return n()}}function O(e){c.done(c.async(e)())}function N(e){throw new G(e)}function D(e){return function(){return P([this,L(arguments)],function(t,r){return e.apply(t,r)})}}function k(e,t,r){return c(e).As(t,r)}function L(e){return f(e,function(e){var t=0,r=u();return W(e,function(i,n,s){var o;E(n)&&"fulfilled"===(o=n.Is()).state?e[s]=o.value:(++t,f(n,function(i){e[s]=i,0==--t&&r.resolve(e)},r.reject,function(e){r.notify({index:s,value:e})}))},void 0),0===t&&r.resolve(e),r.Ss})}function M(e){if(0===e.length)return c.resolve();var t=c.defer(),r=0;return W(e,function(i,n,s){function o(e){t.resolve(e)}function a(e){0===--r&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function h(e){t.notify({index:s,value:e})}var c=e[s];r++,f(c,o,a,h)},void 0),t.Ss}function F(e){return f(e,function(e){return e=J(e,c),f(L(J(e,function(e){return f(e,j,j)})),function(){return e})})}function U(e){return c(e).Os()}function B(e,t){return c(e).then(void 0,void 0,t)}function H(e,t){return c(e).Ns(t)}var x=!1;try{throw new Error}catch(e){x=!!e.stack}var q,G,V=h(),j=function(){},Q=function(){function e(){for(var e,i;r.next;)r=r.next,e=r.Ds,r.Ds=void 0,i=r.domain,i&&(r.domain=void 0,i.ks()),t(e,i);for(;h.length;)e=h.pop(),t(e);n=!1}function t(t,r){try{t()}catch(t){if(o)throw r&&r.Ls(),setTimeout(e,0),r&&r.ks(),t;setTimeout(function(){throw t},0)}r&&r.Ls()}var r={Ds:void 0,next:null},i=r,n=!1,s=void 0,o=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(e){}var h=[];if(Q=function(e){"undefined"!=typeof Framework&&Framework.C()?Framework.setTimeout(e,0):(i=i.next={Ds:e,domain:o&&process.domain,next:null},n||(n=!0,s()))},"object"==typeof process&&process&&"[object process]"===process.toString()&&process.Ts)o=!0,s=function(){process.Ts(e)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)s=function(){setTimeout(e,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){s=u,c.port1.onmessage=e,e()};var u=function(){c.port2.postMessage(0)};s=function(){setTimeout(e,0),u()}}else s="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};return Q.bs=function(e){h.push(e),n||(n=!0,s())},Q}(),K=Function.call,Y=e(Array.prototype.slice),W=e(Array.prototype.reduce||function(e,t){var r=0,i=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=i)throw new TypeError}for(;r<i;r++)r in this&&(t=e(t,this[r],r));return t}),z=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=e(Array.prototype.map||function(e,t){var r=this,i=[];return W(r,function(n,s,o){i.push(e.call(t,s,o,r))},void 0),i}),X=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),$=Object.keys||function(e){var t=[];for(var r in e)Z(e,r)&&t.push(r);return t},ee=e(Object.prototype.toString);G="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var te="From previous event:";c.resolve=c,c.Ts=Q,c.ys=!1,"object"==typeof process&&process&&process.Ms&&process.Ms.Fs&&(c.ys=!0),c.defer=u,u.prototype.Us=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(Y(arguments,1)):e.resolve(r)}},c.Promise=l,c.Ss=l,l.race=p,l.all=L,l.reject=w,l.resolve=c,c.Bs=function(e){return e},d.prototype.Bs=function(){return this},c.join=function(e,t){return c(e).join(t)},d.prototype.join=function(e){return c([this,e]).Ps(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},c.race=p,d.prototype.race=function(){return this.then(c.race)},c.Hs=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(e,t,r){function n(t){try{return"function"==typeof e?e(t):t}catch(e){return w(e)}}function s(e){if("function"==typeof t){i(e,a);try{return t(e)}catch(e){return w(e)}}return w(e)}function o(e){return"function"==typeof r?r(e):e}var a=this,h=u(),l=!1;return c.Ts(function(){a.ms(function(e){l||(l=!0,h.resolve(n(e)))},"when",[function(e){l||(l=!0,h.resolve(s(e)))}])}),a.ms(void 0,"when",[void 0,function(e){var t,r=!1;try{t=o(e)}catch(e){if(r=!0,!c.onerror)throw e;c.onerror(e)}r||h.notify(t)}]),h.Ss},c.xs=function(e,t){return c(e).xs(t)},d.prototype.xs=function(e){return e=c(e),this.then(function(t){return e.Gs(t).qs(t)})},c.when=f,d.prototype.qs=function(e){return this.then(function(){return e})},c.qs=function(e,t){return c(e).qs(t)},d.prototype.Vs=function(e){return this.then(function(){throw e})},c.Vs=function(e,t){return c(e).Vs(t)},c.js=g,c.Qs=E,c.Ks=v,c.Ys=y,d.prototype.Ys=function(){return"pending"===this.Is().state},c.Ws=T,d.prototype.Ws=function(){return"fulfilled"===this.Is().state},c.zs=m,d.prototype.zs=function(){return"rejected"===this.Is().state};var re=[],ie=[],ne=[],se=!0;c.Js=I,c.Xs=function(){return re.slice()},c.Zs=function(){I(),se=!1},I(),c.reject=w,c.Rs=b,c.$s=_,c.Ps=P,d.prototype.Ps=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},c.async=A,c.eo=O,c.to=N,c.ro=D,c.As=k,d.prototype.As=function(e,t){var r=this,i=u();return c.Ts(function(){r.ms(i.resolve,e,t)}),i.Ss},c.get=function(e,t){return c(e).As("get",[t])},d.prototype.get=function(e){return this.As("get",[e])},c.set=function(e,t,r){return c(e).As("set",[t,r])},d.prototype.set=function(e,t){return this.As("set",[e,t])},c.io=c.delete=function(e,t){return c(e).As("delete",[t])},d.prototype.io=d.prototype.delete=function(e){return this.As("delete",[e])},c.no=c.Cs=function(e,t,r){return c(e).As("post",[t,r])},d.prototype.no=d.prototype.Cs=function(e,t){return this.As("post",[e,t])},c.send=c.so=c.oo=function(e,t){return c(e).As("post",[t,Y(arguments,2)])},d.prototype.send=d.prototype.so=d.prototype.oo=function(e){return this.As("post",[e,Y(arguments,1)])},c.ao=function(e,t){return c(e).As("apply",[void 0,t])},d.prototype.ao=function(e){return this.As("apply",[void 0,e])},c.ho=c.Gs=function(e){return c(e).As("apply",[void 0,Y(arguments,1)])},d.prototype.Gs=function(){return this.As("apply",[void 0,Y(arguments)])},c.co=function(e){var t=c(e),r=Y(arguments,1);return function(){return t.As("apply",[this,r.concat(Y(arguments))])}},d.prototype.co=function(){var e=this,t=Y(arguments);return function(){return e.As("apply",[this,t.concat(Y(arguments))])}},c.keys=function(e){return c(e).As("keys",[])},d.prototype.keys=function(){return this.As("keys",[])},c.all=L,d.prototype.all=function(){return L(this)},c.uo=M,d.prototype.uo=function(){return M(this)},c.lo=function(e,t,r){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack),e.apply(e,arguments)}}(F,"allResolved","allSettled"),d.prototype.lo=function(){return F(this)},c.Os=U,d.prototype.Os=function(){return this.then(function(e){return L(J(e,function(e){function t(){return e.Is()}return e=c(e),e.then(t,t)}))})},c.fail=c.catch=function(e,t){return c(e).then(void 0,t)},d.prototype.fail=d.prototype.catch=function(e){return this.then(void 0,e)},c.progress=B,d.prototype.progress=function(e){return this.then(void 0,void 0,e)},c.po=c.finally=function(e,t){return c(e).finally(t)},d.prototype.po=d.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=c(e),this.then(function(t){return e.Gs().then(function(){return t})},function(t){return e.Gs().then(function(){throw t})})},c.done=function(e,t,r,i){return c(e).done(t,r,i)},d.prototype.done=function(e,t,r){var n=function(e){c.Ts(function(){if(i(e,s),!c.onerror)throw e;c.onerror(e)})},s=e||t||r?this.then(e,t,r):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),s.then(void 0,n)},c.timeout=function(e,t,r){return c(e).timeout(t,r)},d.prototype.timeout=function(e,t){var r=u(),i=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(i),r.resolve(e)},function(e){clearTimeout(i),r.reject(e)},r.notify),r.Ss},c.delay=function(e,t){return void 0===t&&(t=e,e=void 0),c(e).delay(t)},d.prototype.delay=function(e){return this.then(function(t){var r=u();return setTimeout(function(){r.resolve(t)},e),r.Ss})},c.do=function(e,t){return c(e).do(t)},d.prototype.do=function(e){var t=u(),r=Y(e);return r.push(t.Us()),this.ao(r).fail(t.reject),t.Ss},c.fo=function(e){var t=Y(arguments,1);return c(e).do(t)},d.prototype.fo=function(){var e=Y(arguments),t=u();return e.push(t.Us()),this.ao(e).fail(t.reject),t.Ss},c.Eo=c.vo=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=Y(arguments,1);return function(){var r=t.concat(Y(arguments)),i=u();return r.push(i.Us()),c(e).ao(r).fail(i.reject),i.Ss}},d.prototype.Eo=d.prototype.vo=function(){var e=Y(arguments);return e.unshift(this),c.vo.apply(void 0,e)},c.yo=function(e,t){var r=Y(arguments,2);return function(){function i(){return e.apply(t,arguments)}var n=r.concat(Y(arguments)),s=u();return n.push(s.Us()),c(i).ao(n).fail(s.reject),s.Ss}},d.prototype.yo=function(){var e=Y(arguments,0);return e.unshift(this),c.yo.apply(void 0,e)},c.To=c.mo=function(e,t,r){return c(e).mo(t,r)},d.prototype.To=d.prototype.mo=function(e,t){var r=Y(t||[]),i=u();return r.push(i.Us()),this.As("post",[e,r]).fail(i.reject),i.Ss},c.Io=c.So=c.Ro=function(e,t){var r=Y(arguments,2),i=u();return r.push(i.Us()),c(e).As("post",[t,r]).fail(i.reject),i.Ss},d.prototype.Io=d.prototype.So=d.prototype.Ro=function(e){var t=Y(arguments,1),r=u();return t.push(r.Us()),this.As("post",[e,t]).fail(r.reject),r.Ss},c.Ns=H,d.prototype.Ns=function(e){if(!e)return this;this.then(function(t){c.Ts(function(){e(null,t)})},function(t){c.Ts(function(){e(t)})})},c.wo=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var oe=h();return c})},function(e,t,r){"use strict";var i=r(6),n=i.he.bo;!function(e){var t=function(){function e(){}return e}();t.Co=5e3,t._o=6,t.Po=1e4,t.Ao=.2,t.Oo=10,e.No=t;var r=function(){function e(){}return e}();r.Do="0.0.1",r.ko=3e4,r.Lo=4e7,r.Mo=1,r.Fo=.8,r.Uo=!1,r.Bo=2e4,e.Ho=r;var i=function(){function e(){}return e}();i.xo=!0,i.qo=3,i.Go=1e4,e.Vo=i;var s=function(){function e(){}return e}();s.jo=1.1,e.Qo=s;var o=function(){function e(){}return e}();o.Ko=n,o.Yo=2e4,o.Wo=5e3,e.zo=o;var a=function(){function e(){}return e}();a.Jo=[412],e.Xo=a;var h=function(){function e(){}return e}();h.Zo=2e3,h.$o=!0,h.ea=!1,h.ta=1,h.ra=.02,h.ia=!0,h.na=!1,h.sa=!1,h.oa=1e4,h.aa=4e4,h.ha=3700,h.ca=2e4,h.ua=1,h.la=5,h.pa=.4,h.da=1,e.fa=h;var c=function(){function e(){}return e}();c.ga=30,c.Ea=2e4,c.va=3e4,e.ya=c;var u=function(){function e(){}return e}();u.Ta=3e7,u.ma=3e4,u.Ia=!1,u.Sa=10,e.Ra=u;var l=function(){function e(){}return e}();l.wa=3,l.ba=!1,l.Ca=3e4,l._a=.2,l.Pa=.2,l.Aa=1e4,e.Oa=l;var p=function(){function e(){}return e}();p.Na=!1,e.K=p;var d=function(){function e(){}return e}();d.Da=64e3,d.ka=5e3,d.La=1,d.Ma=1,e.Fa=d;var f=function(){function e(){}return e}();f.Ua=4e3,f.Ba=3e4,f.Ha=4096,f.xa=!0,f.qa=5e3,f.Ga=1e4,e.UDPBroadcast=f;var g=function(){function e(){}return e}();g.Va=100,g.ja=1e3,e.Qa=g;var E=function(){function e(){}return e}();E.Ka=20,E.Ya=20,E.Wa=20,E.za=5,e.Ja=E;var v=function(){function e(){}return e}();v.Xa="site",v.Za="externalAs",v.$a="availableSendRate",v.eh="remoteAddress",v.th="localAddress",v.rh=2e4,e.ih=v;var y=function(){function e(){}return e}();y.nh=3e4,e.sh=y;var T=function(){function e(){}return e}();T.oh=300,e.ah=T}(t.hh||(t.hh={}))},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.uh=!1,i.lh=!0,i.ph=!1,i.dh="4.1.0",i.fh="undefined"!=typeof core?core:"undefined",i.gh=!1,i.Eh=!0,i.vh="undefined"!=typeof INCLUDE_VOD_CACHE&&INCLUDE_VOD_CACHE,i.yh="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,i.Th="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,i.mh="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,i.Ih="undefined"!=typeof INCLUDE_DEFAULT_NETWORK&&INCLUDE_DEFAULT_NETWORK,i.Sh="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,i.bo="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",i.Rh="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,i.wh="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,i.ae="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"592835a6b4204dd197c00488610003e0",i.ce="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"0.8",i.ue="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,i.le=5,i.bh="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:-1,i.Ch="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,i._h=!0,t.he=i},function(e,t,r){"use strict";var i=r(0),n=r(43),s=r(30);!function(e){function t(e,t){return t?e+"-"+t:e}function r(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function o(e){var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e),0),t.buffer}function a(e,t,r){void 0===r&&(r=!0);for(var i=0;i<e.length;)if(e[i]===t){if(e.splice(i,1),r)break}else i++}function h(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function c(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null==r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function u(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.Framework.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e){var t=new Array;for(var r in e)e.hasOwnProperty(r)&&!/^\d+$/.test(r)&&t.push(r);return t}function p(e){return Object.keys(e).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)})}function d(e,t){return e[t]?e[t]:null}function f(e,t){return new s(t).Ph(e).toString()}function g(e){return 0==e.length?0:e.reduce(function(e,t){return e+t})/e.length}function E(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0,n=e.length;i<n;i++)r[i]=e.charCodeAt(i);return t}function v(e,t,r,i){var n=new e(t,r),s=i||r.currentTarget;return s&&Object.defineProperties(n,{currentTarget:{value:s,p:!0,Ah:!1},target:{value:s,p:!0,Ah:!1}}),n}e.Oh=new n.Counter;var y=function(){function e(){this.ALPHA=.25,this.Nh=1e8,this.Dh=1e4}return e.prototype.kh=function(){return void 0!==this.Lh},e.prototype.Mh=function(e,t){return this.Lh=Math.min(this.Nh,t/e*8e3),this},e.prototype.Fh=function(e){return this.Lh=Math.max(this.Nh,e),this},e.prototype.Uh=function(e){e.kh()&&(this.kh()?this.Lh=this.Lh*(1-this.ALPHA)+e.Lh*this.ALPHA:this.Lh=e.Lh)},e.prototype.Bh=function(e){return this.kh()?Math.round(8e3*e/this.Lh):NaN},e.prototype.Hh=function(){return this.kh()?this.Lh:NaN},e.prototype.xh=function(){return this.kh()?this.Lh/1e3:NaN},e.prototype.qh=function(){return this.kh()?this.Lh/1e6:NaN},e.prototype.Gh=function(){return this.kh()?this.Lh>1e6?(this.Lh/1e6).toFixed(2)+"Mb/s":this.Lh>1e3?(this.Lh/1e3).toFixed(2)+"Kb/s":this.Lh+"b/s":"NaN"},e}();e.Vh=y,e.jh=t,e.appendBuffer=r,e.Qh=o,e.Kh=a,e.Yh=h,e.Wh=c,e.zh=u,e.Jh=l,e.Xh=p,e.Zh=d,e.$h=f,e.ec=g,e.tc=E,e.createEvent=v}(t.rc||(t.rc={}))},function(e,t,r){"use strict";!function(e){e.ic="statsClient",e.G="servicesClient",e.nc="ticketResolver",e.M="identityProvider",e.sc="connInfoProvider",e.oc="peerInfo",e.ac="streamInfoProvider",e.hc="reporting",e.cc="statsStore",e.uc="trackManager",e.lc="trackClient"}(t.pc||(t.pc={}))},function(e,t,r){"use strict";!function(e){e[e.dc=0]="AUDIO",e[e.fc=1]="VIDEO",e[e.gc=2]="METADATA",e[e.Ec=3]="OTHER"}(t.vc||(t.vc={}))},function(e,t,r){"use strict";r(60);!function(e){e[e.yc=0]="TRACKER",e[e.W=1]="UDP"}(t.Tc||(t.Tc={}));!function(e){e[e.mc=1]="PLAYER",e[e.Ic=2]="P2P_AGENT",e[e.Sc=3]="PREFETCHER_FIRST_TIER",e[e.Rc=4]="PREFETCHER_SECOND_TIER"}(t.wc||(t.wc={}));var i=function(){function e(){}return e}();t.TrackerPeerStreamInfo=i;var n=function(){function e(e,t,r){this.isLeader=r,this.internalAs=0,this.externalAs=0,this.type=e,r||(this.isLeader=!1),t&&(this.guid=t.guid,this.internalAs=t.internalAs,this.externalAs=t.externalAs,this.nat=t.nat,this.bandwidth=t.bandwidth,this.watchingBitrate=t.watchingBitrate,this.streams=t.streams,this.rankValue=t.rankValue,this.timestamp=t.timestamp,this.privateIpString=t.privateIpString,this.publicIpString=t.publicIpString)}return e}();t.bc=n},function(e,t,r){r(65),r(36),r(66),r(100)},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericCollection is a mixin.")}e.i=i,i.Cc=Object.freeze([]),i.prototype.addEach=function(e){if(e&&Object(e)===e)if("function"==typeof e.forEach)e.forEach(this.add,this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype._c=function(e,t){return e.forEach(function(e){this.delete(e,t)},this),this},i.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){e.call(t,i,n,s,o)},void 0)},i.prototype.map=function(e){var t=arguments[1],r=[];return this.reduce(function(i,n,s,o,a){r.push(e.call(t,n,s,o,a))},void 0),r},i.prototype.enumerate=function(e){null==e&&(e=0);var t=[];return this.reduce(function(r,i){t.push([e++,i])},void 0),t},i.prototype.group=function(e,t,r){r=r||Object.cs;var i=[],n=[];return this.forEach(function(s,o,a){var h,o=e.call(t,s,o,a),c=n.indexOf(o,r);-1===c?(h=[],i.push([o,h]),n.push(o)):h=i[c][1],h.push(s)}),i},i.prototype.toArray=function(){return this.map(Function.identity)},i.prototype.Pc=function(){var e={};return this.reduce(function(t,r,i){e[i]=r},void 0),e},i.prototype.filter=function(e){var t=arguments[1],r=this.Es();return this.reduce(function(i,n,s,o,a){e.call(t,n,s,o,a)&&r.add(n,s)},void 0),r},i.prototype.every=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r&&e.call(t,i,n,s,o)},!0)},i.prototype.some=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r||e.call(t,i,n,s,o)},!1)},i.prototype.all=function(){return this.every(Boolean)},i.prototype.uo=function(){return this.some(Boolean)},i.prototype.min=function(e){e=e||this.Ac||Object.Oc;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)<0?i:r},void 0)},i.prototype.max=function(e){e=e||this.Ac||Object.Oc;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)>0?i:r},void 0)},i.prototype.Nc=function(e){return e=void 0===e?0:e,this.reduce(function(e,t){return e+t},e)},i.prototype.Dc=function(e){var t=void 0===e?0:e,r=void 0===e?0:e;return this.reduce(function(e,i){t+=i,r+=1},void 0),t/r},i.prototype.concat=function(){for(var e=this.Es(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},i.prototype.kc=function(){var e=this;return this.reduce(function(t,r){return r.forEach(function(e){this.push(e)},t,e),t},[])},i.prototype.Lc=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.Mc(e)},i.prototype.join=function(e){return this.reduce(function(t,r){return void 0===t?r:t+e+r},void 0)},i.prototype.Fc=function(e,t,r){return e=e||this.Ac||Object.Oc,e.Uc?(t=e.Uc,e=e.Oc||this.Ac||Object.Oc):t=t||Function.identity,void 0===r&&(r=1),this.map(function(e){return{Uc:t(e),value:e}}).sort(function(t,i){return e(t.Uc,i.Uc)*r}).map(function(e){return e.value})},i.prototype.reversed=function(){return this.Es(this).reverse()},i.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var r=this.Es();return this.forEach(function(i,n){r.add(Object.clone(i,e-1,t),n)},this),r},i.prototype.only=function(){if(1===this.length)return this.Bc()},i.prototype.iterator=function(){return this.Hc.apply(this,arguments)},i.gs={get:function(){return this.length},p:!1,l:!0},Object.defineProperty(i.prototype,"size",i.gs),r(65)},function(e,t,r){function i(){throw new Error("This is an abstract interface. Mix it. Don't construct it")}function n(e,t,r,i){var n,s,o,a=e.active,h=e.xc,c=h.length,u=c;for(a.length>c&&(a.length=c);c--;)a[c]=h[c];for(s=0;s<u;s++)if(o=a[s],!s||h.indexOf(o)>=0){if(n=o[e.qc]||o[e.Gc]||o,!n.call)throw new Error("No event listener for "+e.Vc+" or "+e.jc+" or call on "+n);n.call(o,r,t,i)}}r(11);var s=Object.prototype.hasOwnProperty;e.i=i,i.debug=!0,i.prototype.Qc=function(e){this.Kc||Object.defineProperty(this,"__propertyChangeListeners__",{value:{},p:!1,l:!0,Ah:!0});var t=this.Kc;if(!s.call(t,e)){var r=String(e);r=r&&r[0].toUpperCase()+r.slice(1),t[e]={Yc:{xc:[],active:[],qc:"handle"+r+"WillChange",Gc:"handlePropertyWillChange"},Wc:{xc:[],active:[],qc:"handle"+r+"Change",Gc:"handlePropertyChange"}}}return t[e]},i.prototype.zc=function(e){if(!this.Kc)return!1;if(!e)return!0;var t=this.Kc;return!!s.call(t,e)},i.prototype.Jc=function(e,t,r){this.Xc&&!this.Zc&&this.Xc();var n,s=i.Qc(this,e);n=r?s.Yc:s.Wc,i.$c(this,e),n.xc.push(t);var o=this;return function(){i.eu(o,e,t,r),o=null}},i.prototype.tu=function(e,t){return i.Jc(this,e,t,!0)},i.prototype.eu=function(e,t,r){var n,s=i.Qc(this,e);n=r?s.Yc:s.Wc;var o=n.xc.lastIndexOf(t);if(-1===o)throw new Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(e));n.xc.splice(o,1)},i.prototype.ru=function(e,t){return i.eu(this,e,t,!0)},i.prototype.iu=function(e,t,r){var s,o=i.Qc(this,e);if(!o.isActive){o.isActive=!0,s=r?o.Yc:o.Wc;try{n(s,e,t,this)}finally{o.isActive=!1}}},i.prototype.nu=function(e,t){return i.iu(this,e,t,!0)},i.prototype.$c=function(e){var t=this.su;if(t){if(s.call(t,e))return}else{if(Array.isArray(this))return;if(!Object.isExtensible(this))throw new Error("Can't make property "+JSON.stringify(e)+" observable on "+this+" because object is not extensible");t={},Object.defineProperty(this,"__overriddenPropertyDescriptors__",{value:t,p:!1,Ah:!0,l:!0})}var r;"object"==typeof this.ou?r=this.ou:(r={},Object.defineProperty(this,"__state__",{value:r,Ah:!0,p:!1})),r[e]=this[e];var i,o=this;do{if(i=Object.getOwnPropertyDescriptor(o,e))break;o=Object.getPrototypeOf(o)}while(o);if(i){if(!i.l)return;if(!i.Ah&&!i.set)return}else i={value:void 0,p:!0,Ah:!0,l:!0};t[e]=i;var a;a="value"in i?{get:function(){return i.value},set:function(t){var s,o;if(t!==i.value){if(s=this.Kc[e],!(o=s.isActive)){s.isActive=!0;try{n(s.Yc,e,i.value,this)}finally{}}if(i.value=t,r[e]=t,!o)try{n(s.Wc,e,t,this)}finally{s.isActive=!1}}},p:i.p,l:!0}:{get:i.get,set:function(t){var s,o,a=this[e];if(i.set.call(this,t),(t=this[e])!==a){if(s=this.Kc[e],!(o=s.isActive)){s.isActive=!0;try{n(s.Yc,e,a,this)}finally{}}if(r[e]=t,!o)try{n(s.Wc,e,t,this)}finally{s.isActive=!1}}},p:i.p,l:!0},Object.defineProperty(this,e,a)},i.Qc=function(e,t){return e.Qc?e.Qc(t):i.prototype.Qc.call(e,t)},i.zc=function(e,t){return e.zc?e.zc(t):i.prototype.zc.call(e,t)},i.Jc=function(e,t,r,n){if(Object.au(e))return e.Jc?e.Jc(t,r,n):i.prototype.Jc.call(e,t,r,n)},i.eu=function(e,t,r,n){if(Object.au(e))return e.eu?e.eu(t,r,n):i.prototype.eu.call(e,t,r,n)},i.iu=function(e,t,r,n){if(Object.au(e))return e.iu?e.iu(t,r,n):i.prototype.iu.call(e,t,r,n)},i.tu=function(e,t,r){return i.Jc(e,t,r,!0)},i.ru=function(e,t,r){return i.eu(e,t,r,!0)},i.nu=function(e,t,r){return i.iu(e,t,r,!0)},i.$c=function(e,t){return e.$c?e.$c(t):i.prototype.$c.call(e,t)}},function(e,t,r){"use strict";var i,n=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(41),o=r(6),a=o.he.Sh,h=o.he.Ch;!function(e){var t=function(){function e(){}return e}();t.DashFilterBitrates=null,t.DashRemoveBitrateSize=!1,e.Dash=t;var r=function(){function e(){}return e}();r.AudioAccounting=!0,e.Stats=r;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(s.HiveConfig.DebugLogs);i.TrackerLogs=0,e.DebugLogs=i;var o=function(){function e(){}return e}();o.usiz=null,e.UDPBroadcast=o;var c=function(){function e(){}return e}();c.restrictedConnectivityInfo=a,c.hiddenHostnameValue="[Hidden]",e.SensitiveInfo=c;var u=function(){function e(){}return e}();u.cu=null,u.uu=null,e.ClientInfo=u;var l=function(){function e(){}return e}();l.detectPrivateIP=h,e.ConnInfo=l}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=i.Dash,window.HiveConfig.Stats=i.Stats,window.HiveConfig.UDPBroadcast=i.UDPBroadcast,window.HiveConfig.DebugLogs=i.DebugLogs,window.HiveConfig.SensitiveInfo=i.SensitiveInfo,window.HiveConfig.ClientInfo=i.ClientInfo,window.HiveConfig.ConnInfo=i.ConnInfo)},function(e,t,r){"use strict";!function(e){e.lu="snapAccountingManager",e.pu="membership",e.du="partnership",e.fu="inPartnership",e.gu="outPartnership",e.Eu="inPrefetcherPartnership",e.vu="outPrefetcherPartnership",e.yu="cache",e.Tu="livecache",e.mu="vodcache",e.Iu="objIndex",e.Su="centrFragment",e.Ru="hcache",e.wu="responder",e.bu="requester",e.Cu="p2pRequester",e._u="peer",e.Pu="contextResolver",e.Au="videoPrefetcher",e.Ou="prefetchManager",e.Nu="picker",e.Du="trackerClient",e.ku="scoreUpdater",e.q="serverManager",e.Lu="requestTracker",e.Mu="trackerManager",e.Fu="renderStats",e.Uu="udpBroadcaster",e.Bu="udpDiscovery",e.Th="udpLeaderElection",e.Hu="nodeInfo",e.xu="ipspoofing"}(t.qu||(t.qu={}))},function(e,t){e.i=function(){return new Function}},function(e,t,r){"use strict";var i=!0,n={Gu:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Vu:function(e,t,r){var i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)},ju:function(){var e={};if(e.Qu=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.Qu="Not a browser.",e;if(navigator.mozGetUserMedia)e.Qu="firefox",e.version=this.Vu(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.Qu="chrome",e.version=this.Vu(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.Qu="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.Qu="safari",e.version=this.Vu(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e.Qu="edge",e.version=this.Vu(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.Qu="Not a supported browser.",e;e.Qu="safari",e.version=this.Vu(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e},Ku:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var e=URL.createObjectURL.bind(URL),t=URL.revokeObjectURL.bind(URL),r=new Map,i=0;URL.createObjectURL=function(t){if("getTracks"in t){var n="polyblob:"+ ++i;return r.set(n,t),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return e(t)},URL.revokeObjectURL=function(e){t(e),r.delete(e)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(e){return this.Yu=r.get(e)||null,n.set.apply(this,[e])}});var s=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.Yu=r.get(arguments[1])||null),s.apply(this,arguments)}}}};e.i={log:n.log,Gu:n.Gu,Wu:n.ju(),Vu:n.Vu,Ku:n.Ku,ju:n.ju.bind(n)}},function(e,t,r){"use strict";function i(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=[]),n(e,t,r,!0)}function n(e,t,r,i){void 0===t&&(t=""),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var s in e)!function(s){if(e.hasOwnProperty(s)){var o=e[s];Array.isArray(o)?o.forEach(function(e,o){"object"==typeof e&&n(e,t+"."+s+"["+o+"]",r,i)}):"object"==typeof o?n(o,t+"."+s,r,i):"number"==typeof o&&isNaN(o)&&(r.push(t+"."+s),i||(e[s]=null))}}(s);return r}function s(e,t,r){var i=new c;return i.ticketUrl=e,i.code=t,i.message=u(t),i.detailedMessage=r,i}var o=r(3),a=r(4),h=r(26),c=h.HiveComm.HiveSessionError,u=h.HiveComm.getHiveSessionErrorMessage,l=h.HiveComm.HiveSession,p=r(53),d=r(72),f=r(14),g=r(6),E=r(1),v=g.he.uh;if(v)var y=r(31).HiveRequest,T=r(54).zu;var m=function(){function e(t){if(!t){if(0==Object.keys(e.mapping).length&&!e.Ju)return E.ErrorMonitor.ve().logError("No registered default HiveRequestFactory tech",e.loggerId),e.Ju=!0,e.getOriginalXhr();t=Object.keys(e.mapping)[0]}if(!(t in e.mapping))return e.Ju||(E.ErrorMonitor.ve().logError("no registered HiveRequestFactory tech for session",{sessionId:t}),e.Ju=!0),e.getOriginalXhr();var r=e.mapping[t];switch(r.tech){case"HiveJS":return v?r.Xu?new y(t):(r.Xu=!0,new T(t)):e.getOriginalXhr();case"HiveJsProxy":return r.Xu?new p.Zu(t):(r.Xu=!0,new d.$u(t));case"HiveJava":case"StatsJS":return e.getOriginalXhr()}}return e.getOriginalXhr=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},e.clear=function(){e.mapping={}},e.clearSessionState=function(t){if(t in e.mapping){var r=e.mapping[t];for(var i in r)"tech"!==i&&delete r[i]}},e.clearSession=function(t){t in e.mapping&&delete e.mapping[t]},e.registerTech=function(t,r){t in e.mapping||(e.mapping[t]={}),e.mapping[t].tech=r},e}();m.mapping={},m.Ju=!1,m.loggerId="[HiveRequestFactory]",t.HiveRequestFactory=m;var I=function(){function e(e,t,r,i){this.el=!1,this.ticketUrl=e,this.ticket=t,this.manifest=r,this.tl=a.defer(),this.rl=i,this.rl&&this.tl.resolve(this.rl)}return e.prototype.isActive=function(e){return null!==this.tech&&this.tech.isActive(e,this)},e.prototype.il=function(e){this.el!=e&&(this.el=e,this.tech&&this.tech.nl(this,e))},e.prototype.getTechName=function(){return this.tech&&this.tech.getName()||void 0},e.prototype.sl=function(){return this.el},e.prototype.close=function(e,t){if(void 0===t&&(t=!0),this.el=!0,null!=this.tech)return this.tech.ol(this,e,t)},e.prototype.toString=function(){return this.ticket.toString()},e.prototype.toHiveSession=function(){var e=new l;return e.id=this.id,e.ticketUrl=this.ticketUrl,e.manifest=this.manifest,e.tech=this.tech.getName(),e},e.prototype.al=function(){return this.tl.Ss},e.prototype.hl=function(e){this.rl=e,this.tl.resolve(this.rl)},e}();t.cl=I;var S=function(){function e(){}return e}();t.ul=S;var R=function(){function e(){this.success=0,this.ll=0,this.bytes=0}return e}();t.pl=R;var w=function(){function e(){this.dl=0,this.fl=0,this.gl=new o,this.El=new o}return e.prototype.accountCompleted=function(e,t,r,i){void 0===i&&(i=!0);var n=e?this.gl:this.El;n.has(t)||n.set(t,new R);var s=n.get(t);s.bytes+=r,i&&s.success++},e.prototype.accountFailed=function(e,t){var r=e?this.gl:this.El;r.has(t)||r.set(t,new R),r.get(t).ll++},e.prototype.updateBandwidth=function(e){this.bandwidth=e},e.prototype.bitrateSwitchUp=function(){this.dl++},e.prototype.bitrateSwitchDown=function(){this.fl++},e.prototype.getBandwidth=function(){return this.bandwidth},e.prototype.getVideoBitrates=function(){return this.gl},e.prototype.getAudioBitrates=function(){return this.El},e.prototype.getBitrateSwitchUp=function(){return this.dl},e.prototype.getBitrateSwitchDown=function(){return this.fl},e}();t.HivePlayerExtendedStats=w;var b=function(){function e(){var t=this;if(e.fe)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var r,i;void 0!==document.hidden?(r="hidden",i="visibilitychange"):void 0!==document.msHidden?(r="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==document[r]?document.addEventListener(i,function(){var e=!document[r];t.vl.forEach(function(r){r.call(t,e)})},!1):e.logger&&e.logger.debug("warn - visibilityChange listener not supported"),this.vl=new Array}return e.ve=function(t){return t&&(this.logger=t),void 0===this.fe&&(this.fe=new e),this.fe},e.prototype.yl=function(e){this.vl.push(e)},e}();t.Tl=b,t.ml=i,t.Il=n,t.Sl=s;var C=function(){function e(){}return e.getItem=function(e){try{return window.sessionStorage?window.sessionStorage.getItem(e):null}catch(e){return null}},e.setItem=function(e,t){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(e,t),!0)}catch(e){return!1}},e.removeItem=function(e){try{window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return null}},e}();t.Rl=C;var _=function(){function e(e){this.wl=e}return e.prototype.bl=function(e){var t=Date.now();return this.isEqual(this.Cl,e)||(this._l=t),this.Cl=e,t-this._l>=this.wl},e.prototype.isEqual=function(e,t){if(e&&t){return[t.Pl-e.Pl,t.Al-e.Al,t.Ol-e.Ol].reduce(function(e,t){return e&&Math.abs(t)<10},!0)}return!1},e}();t.Nl=_;var P=function(){function e(){}return e.getPrivateIp=function(e){var t=e.getPrivateIp();return f.HiveConfig.SensitiveInfo.restrictedConnectivityInfo&&t&&(t=t.replace(/[0-9]*$/,"0")),t},e.Dl=function(e){return f.HiveConfig.SensitiveInfo.restrictedConnectivityInfo?f.HiveConfig.SensitiveInfo.hiddenHostnameValue:e.getHostName()},e}();t.kl=P},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(22),a=r(8),h=r(32);!function(e){e[e.STOP=0]="STOP",e[e.IDLE=1]="IDLE",e[e.Ll=2]="PLAY"}(t.Ml||(t.Ml={}));var c=function(){function e(e,t,r,i){this.ticket=e,this.Fl=t,this.app=r,this.identity=i,this.Ul=s.Framework.resolve(a.pc.cc),this.Bl=s.Framework.resolve(a.pc.ic),this.Hl=s.Framework.resolve(a.pc.uc),this.xl=new o.Gl.ql(this.Hl)}return e.prototype.Vl=function(e,t,r){this.app=new u(e,t),this.Ul.Vl(this.app),this.Hl.Vl(this.app,r)},e.prototype.nl=function(e){this.Bl.nl(e)},e.prototype.jl=function(){return this.renderStatsCallback},e.prototype.Ql=function(e){this.renderStatsCallback=e},e}();t.Kl=c;var u=function(){function e(e,t){this.app=e,this.version=t}return e}();t.Yl=u;var l=function(){function e(){this.p2pId=null,this.Wl=null,this.zl=new i,this.logger=s.Framework.resolve(s.Framework.V.R).log(),this.logger.debug("INIT REPORTING"),this.Fl=s.Framework.resolve(a.pc.G),this.Jl=s.Framework.resolve(a.pc.M),this.Xl=s.Framework.resolve(a.pc.nc)}return e.prototype.initSession=function(e,t,r){var i=this,s=n.defer(),o=this.Jl.Zl(),a=this.Xl.$l(e);return null!=r&&(a.testId=r),null!=a?o.then(function(e){return i.ep(e,a,s,t)}).fail(s.reject):s.reject("Ticket URL not valid"),s.Ss},e.prototype.close=function(e){e?(this.zl.delete(e),0==this.zl.length&&this.Fl.close()):(this.zl.clear(),this.Fl.close())},e.prototype.ep=function(e,t,r,i){var n=this;this.p2pId=e.tp(),this.Wl=e.rp();var s=this.Fl.init(this.p2pId,t),o=this.Xl.resolve(s.np,t,i);s.Ss.then(function(t){o.then(function(t){var i=t.sessionId;if(n.zl.has(i)){var s=n.zl.get(i);n.logger.warn("SESSION ALREADY EXISTING "+s.Ul.ticket)}else{var o=new u(h.Hive.sp(),h.Hive.getVersion()),a=new c(t,n.Fl,o,e);a.Ul.init(n.Wl,t,o,i),a.Hl.init(n.Wl,o),a.Hl.op(t),n.zl.set(i,a),n.logger.debug("SESSION SET ",i),r.resolve(a)}}).fail(function(e){return r.reject(e||"Error resolving the ticket")}),t.onerror(function(e){r.reject("Error establishing connection to Hive Services")})}).fail(function(e){return r.reject(e)}),this.Fl.connect()},e.prototype.ap=function(e,t){return e.hp()===t.hp()&&e.cp()===t.cp()&&e.up()===t.up()},e}();t.lp=l},function(e,t,r){"use strict";var i=r(41),n=r(29),s=r(42),o=r(6);o.he.lh,o.he.uh,o.he.ph;if(void 0===a)var a=3e4;!function(e){!function(e){var t=function(){function e(){this.monitorPort=n.L.pp?s.fp.dp:s.fp.gp,this.playerPort=n.L.pp?s.fp.Ep:s.fp.vp,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=n.L.yp,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=i.HiveConfig.Framework.LoggerTimestamp,this.testId=null,this.pluginTimeout=a,this.onSourceSetCompleted=function(e){},this.onLoadingCompleted=function(e){},this.detectPrivateIP=o.he.Ch,this.onActiveSession=function(e){}}return e}();e.Options=t;var r=function(){function e(){this.initTimeout=3e4,this.onError=function(e){return!0},this.onActiveSession=function(e){}}return e}();e.Tp=r;var h=function(){function e(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout",this.hiveTestId="testId",this.hiveDetectPrivateIP="detectPrivateIP"}return e}();e.mp=h}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}));var h;!function(e){var t=function(){function e(){}return e}();t.enabledRUM=!1,t.enableKeyCombination=!0,t.enabledErrorFilter=!0,e.ErrorMonitor=t}(h=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=h.ErrorMonitor)},function(e,t,r){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],i=1;i<e.length;i++){var n=new RegExp("\\{"+(i-1)+"\\}","gm");r=r.replace(n,e[i])}return r}function n(e,t){for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(t[r]=e[r])}function s(e,t,r){var i=new d(e).query(!0);for(var n in i)try{if(i.hasOwnProperty(n)&&t.hasOwnProperty(n)&&r.hasOwnProperty(t[n])){var s=t[n],a=i[n];r[s]=o(a,r[s])}}catch(e){}}function o(e,t){var r;switch(typeof t){case"number":r=parseInt(e);break;case"boolean":r="true"===e;break;default:r=e}return r}function a(e,t){function r(){if(!e())return i.resolve(!0);p.when(t(),r,i.reject)}var i=p.defer();return p.Ts(r),i.Ss}function h(e,t,r,i){return void 0===r&&(r=!0),void 0===i&&(i={}),c("GET",e,t,r,i)}function c(e,t,r,i,n){void 0===i&&(i=!0),void 0===n&&(n={});var s=p.defer();try{var o=new XMLHttpRequest;if(o.open(e,t,i),void 0!=r&&null!=r&&o.setRequestHeader("Content-Type",r),n)for(var a in n)n.hasOwnProperty(a)&&null!==n[a]&&o.setRequestHeader(a,n[a]);o.onload=function(){200==o.status?s.resolve(o.response):s.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(e){s.reject({status:-1,reason:"Network Error"})},o.send()}catch(e){s.reject({status:-1,reason:e})}return s.Ss}function u(e,t,r,i,n){void 0===n&&(n=!0);var s=p.defer();try{var o=new XMLHttpRequest;if(o.open("POST",e,n),void 0!=r&&null!=r&&o.setRequestHeader("Content-Type",r),void 0!=i&&null!=i)for(var a in i)i.hasOwnProperty(a)&&null!==i[a]&&o.setRequestHeader(a,i[a]);o.onload=function(){200==o.status?s.resolve(o.response):s.reject({status:o.status,reason:o.statusText})},o.onerror=function(e){s.reject({status:-1,reason:"Network Error"})},o.send(t)}catch(e){s.reject({status:-1,reason:e})}return s.Ss}function l(e,t){var r,i,n=document.querySelector("base"),s=document.querySelector("head"),o=document.createElement("a"),a=n;return n?r=n.href:a=s.appendChild(document.createElement("base")),a.href=e,o.href=t,i=o.href,n?n.href=r:s.removeChild(a),i}var p=r(4),d=r(30);t.Ip=i,t.Sp=n,t.Rp=s,t.wp=a,t.bp=h,t.Cp=c,t._p=u,t.$h=l},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(18),s=r(44).Pp,o=r(4),a=r(0),h=r(8),c=r(27),u=r(23),l=r(14);!function(e){e.Ap="hive-client-track",e.Op="trackevent",e.Np="NULLID",e.Dp="";var t=function(){function e(){}return e}();t.kp=0,t.Lp=1,t.Mp=2,t.Fp=100,t.Up=200,e.Bp=t;!function(e){e[e.Hp=0]="PLAYING",e[e.xp=1]="BUFFERING",e[e.qp=2]="PAUSED",e[e.Gp=3]="SKIP",e[e.Vp=4]="STOPPED",e[e.ERROR=5]="ERROR",e[e.jp=6]="WINDOW_SIZE",e[e.Qp=7]="FULLSCREEN",e[e.Kp=8]="VISIBLE",e[e.HIDDEN=9]="HIDDEN"}(e.Yp||(e.Yp={}));!function(e){e[e.Wp=0]="JAVA_NOT_REACHABLE",e[e.zp=1]="JAVA_NOT_READY",e[e.Jp=2]="JAVA_WRONG_VERSION",e[e.Xp=3]="JAVA_SESSION_BUSY",e[e.Zp=4]="JAVA_SESSION_ERROR",e[e.$p=5]="JAVA_TICKET_TIMEOUT"}(e.td||(e.td={}));var r=function(){function e(){}return e}();e.rd=r;var p=function(){function e(){}return e}();e.nd=p;var d=function(){function e(){}return e}();e.sd=d;var f=function(){function e(){this.type=t.Mp}return e}(),g=function(){function e(){this.sessions=new Array}return e.prototype.od=function(e,t){var r;this.sessions.forEach(function(t){t.sessionId==e&&(r=t)}),r||(r=new E,r.sessionId=e,this.sessions.push(r)),r.events.push(t)},e}();e.ad=g;var E=function(){function e(){this.events=new Array}return e}();e.hd=E;var v=function(){function t(){this.logger=a.Framework.resolve(a.Framework.V.R).log(),this.ud=a.Framework.resolve(h.pc.sc),this.ld=new Array,this.pd=new Array,this.dd=new Array}return t.prototype.fd=function(e){this.client=e},t.prototype.init=function(e,t){this.gd=e,this.Vl(t),this.logger.debug("[TRACK] INIT ID: "+e)},t.prototype.Vl=function(e,t){this.app=e,t&&(this.Ed=t)},t.prototype.updatePlayerInfo=function(e){this.vd=e},t.prototype.op=function(e){var t=new T(e,this);this.ld.push(t),this.yd=null,this.client.Td(!0)},t.prototype.Xu=function(e,t,r){if(!this.yd)for(var i=0;i<this.ld.length;i++){var n=this.ld[i];if(n.ticket.sessionId===e){this.logger.debug("[TRACK] Activating Track for session "+e),this.yd=n;break}}if(this.yd){if(this.yd.ticket.sessionId!=e)return void this.logger.warn("[TRACK] ignoring manifest not matching event "+this.yd.ticket.sessionId+" != "+e);if(!this.yd.md){var s=new m(e,t,r);this.yd.Id(s),this.client.Td()}}},t.prototype.Sd=function(e,t,r){null!=this.yd&&(this.yd.md||this.yd.Rd.push(new w(e,t,r)))},t.prototype.wd=function(e,t,r){this.pd.push(new S(e,t,r)),this.client.Td()},t.prototype.bd=function(e,t,r){this.dd.push(new R(e,t,r)),this.client.Td()},t.prototype.Cd=function(e){var t=this;e&&e.forEach(function(e){t.dd.push(e)})},t.prototype.Pd=function(){var e=new p;this.Ed?(e.partnerId=this.Ed.partnerId,e.customerId=this.Ed.customerId):l.HiveConfig.ClientInfo.cu&&l.HiveConfig.ClientInfo.uu?(e.partnerId=l.HiveConfig.ClientInfo.cu,e.customerId=l.HiveConfig.ClientInfo.uu):this.yd&&(e.partnerId=this.yd.ticket.up(),e.customerId=this.yd.ticket.cp()),e.version=this.app.app+"_"+(this.Ed?this.Ed.version:this.app.version),this.Ed&&(e.installVersion=this.Ed.installVersion,e.installTs=this.Ed.installTs);var t=new s;return t.Ad(navigator.userAgent),e.os=t.Od().name+" "+t.Od().version,this.vd&&(e.commVersion=this.vd.commVersion,e.pluginName=this.vd.pluginName,e.pluginVersion=this.vd.pluginVersion,e.playerTech=this.vd.playerTech,e.playerVersion=this.vd.playerVersion,this.vd.telemetryId&&(e.telemetryId=this.vd.telemetryId)),e},t.prototype.Nd=function(){return this.yd?this.yd:this.ld&&this.ld.length>0?this.ld[this.ld.length-1]:void 0},t.prototype.Dd=function(t){var i=this;if(void 0===t&&(t=!0),0==this.ld.length&&0==this.pd.length)return t?o.reject("nothing to send"):(this.logger.debug("[TRACK]  NOTHING TO SEND"),null);var n=new r;n.app=e.Ap,n.createdAt=a.Framework.time(),n.guid=this.gd,n.name=e.Op;var s=this.Nd();if(s){var h=s.ticket.kd().replace(/[\[\]]/g,"");n.tags=[h],n.tags.push(s.ticket.up()),n.tags.push(s.ticket.cp())}else n.tags=new Array;var c=new g;if(c.peer=this.Pd(),this.ld.forEach(function(e){e.md||c.od(e.ticket.sessionId,e)}),this.pd.forEach(function(e){c.od(e.sessionId,e)}),this.dd.forEach(function(e){c.od(e.sessionId,e)}),n.data=c,t)return this.ud.getConnectivityInfo().then(function(e){var t=i.Ld(e);return c.od("null",t),n}).fail(function(e){return n});var u=this.Ld(this.ud.Md());return c.od("null",u),n},t.prototype.Ld=function(e){var t=new f;t.ts=a.Framework.time();var r=e.getNetworkChanged();return r.getPublicIp()&&(t.pubIp=r.getPublicIp()),r.getPrivateIp()&&(t.privIp=n.kl.getPrivateIp(r)),e.getHostName()&&(t.hostname=n.kl.Dl(e)),r.getCidr()&&(t.netmask=r.getCidr()),r.getNic()&&(t.nic=r.getNic()),r.getNicName()&&(t.nicName=r.getNicName()),r.getMacAddress()&&(t.mac=r.getMacAddress()),t},t.prototype.Fd=function(){return this.Ed?this.Ed.userAgent:navigator.userAgent},t.prototype.reset=function(){this.ld=new Array,this.pd=new Array,this.dd=new Array},t.prototype.Ud=function(e){},t}();e.Bd=v;var y=function(){function e(e){this.Hd=isNaN(l.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:l.HiveConfig.DebugLogs.TrackSnapshotLogs,this.Hl=e,this.logger=a.Framework.resolve(a.Framework.V.R).log(),this.client=a.Framework.resolve(h.pc.G),this.Hl.fd(this)}return e.prototype.Td=function(e){void 0===e&&(e=!1);var t=e?c.Gd.qd.xd:c.Gd.qd.Vd;if(this.jd){this.Qd-(new Date).getTime()>t&&(a.Framework.clearTimeout(this.jd),this.Qd=null,this.Kd(t))}else this.Kd(t)},e.prototype.Yd=function(){this.jd&&(a.Framework.clearTimeout(this.jd),this.Qd=this.jd=null)},e.prototype.Kd=function(e){var t=this;this.jd=a.Framework.setTimeout(function(){t.Wd()},e),this.Qd=(new Date).getTime()+e},e.prototype.Wd=function(e){var t=this;void 0===e&&(e=!0),this.jd=null,this.Qd=null;var r=this.Hl.Dd(e);e?(this.logger.debug("[TRACK] TAKING A TRACK SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.logger.debug("[TRACK]  ERROR GENERATING/SENDING THE TRACK SNAPSHOT: ",e)}).finally(function(){return t.Hl.reset()}).done()):(this.logger.debug("[TRACK] FLUSHING TRACK SNAPSHOT"),this.forward(r),this.Hl.reset())},e.prototype.forward=function(e){if(this.client&&this.client.zd()&&e){var t=JSON.stringify(e);switch(this.Hd){case 0:default:this.logger.debug("[TRACK] TRACK EVENT");break;case 1:this.logger.debug("[TRACK] TRACK EVENT:"+t)}var r=new u.Jd(Services.Xd,2,t);this.client.zd().send(r)}},e.prototype.Zd=function(e){void 0===e&&(e=!0),e?(this.Yd(),this.Kd(c.Gd.qd.$d)):this.Wd(!1)},e}();e.ql=y;var T=function(){function e(e,t){this.createdAt=(new Date).getTime(),this.md=!1,this.ticket=e,this.manifests=new Array,this.Rd=new Array,this.Hl=t}return e.prototype.Id=function(e){this.manifests.push(e)},e.prototype.toJSON=function(){var e={};e.type=t.kp,e.ticket={},e.ticket.url=this.ticket.ticketUrl,e.ticket.reqTs=this.ticket.ef,e.ticket.respTs=this.ticket.rf,e.ticket.userAgent=this.Hl.Fd(),null!=this.ticket.testId&&(e.ticket.testId=this.ticket.testId),e.manifests=[],this.manifests.forEach(function(t){var r={};r.url=t.url,r.respTs=t.rf,r.respCode=t.respCode,e.manifests.push(r)});var r=-1,i=-1,n=-1;return this.Rd.forEach(function(e){e.if>0&&(-1==r&&(r=e.ts,i=e.if),n=e.if)}),-1!=r&&(e.playTs=r),-1!=n&&(e.buffTime=n),-1!=i&&(e.initBuffTime=i),e},e}();e.nf=T;var m=function(){function e(e,t,r){this.eventId=e,this.url=t,this.rf=(new Date).getTime(),this.respCode=r}return e}();e.sf=m;var I=function(){function e(e,t,r,i){this.ts=(new Date).getTime(),this.sessionId=e,this.sessionId||(this.sessionId="null"),this.event=t,this.af=r,i&&(this.ts=i)}return e.prototype.toJSON=function(){var e={};return e.type=this.hf+this.event,e.ts=this.ts,this.af&&(e.parameters=this.af),e},e}();e.cf=I;var S=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.hf=t.Fp,o}return i(r,e),r}(I);e.uf=S;var R=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.hf=t.Up,o}return i(r,e),r}(I);e.lf=R;var w=function(){function e(e,t,r){this.ts=(new Date).getTime(),this.Pl=e,this.pf=t,this.if=r}return e}();e.df=w}(t.Gl||(t.Gl={}))},function(e,t,r){"use strict";function i(){if(this.ff)return this.ff;var e=window&&window.window?window.window.gf:void 0;if(void 0!==e&&e.log&&e.debug&&e.info&&e.warn&&e.error&&(this.ff=e),!this.ff){var t=!(void 0===window.console),r=t?console.log.bind(console):function(){};this.ff={log:r,debug:t&&window.console.debug?window.console.debug.bind(console):r,info:t&&window.console.info?window.console.info.bind(console):r,warn:t&&window.console.warn?window.console.warn.bind(console):r,error:t&&window.console.error?window.console.error.bind(console):r}}return this.ff}var n=r(1),s=r(2);t.loggerId="[HiveServices] ";var o=function(){function e(){}return e}();o.Ef=250,t.L=o;var a=function(){function e(e,t,r){this.msgId=t,this.service=e,this.msg=r}return e.prototype.vf=function(){try{var t=new Uint8Array([this.service>>8,255&this.service]),r=new Uint8Array([this.msgId]),i=[t,r,this.msg];return new Blob(i,{type:"application/octet-binary"})}catch(t){throw n.ErrorMonitor.ve().logError("Error serializing message to send to the services",e.loggerId,s.hs.as.ns,t),new Error(t)}},e.yf=function(t){try{var r=(String.fromCharCode.apply(null,new Uint8Array(t)),String.fromCharCode.apply(null,new Uint8Array(t.slice(3)))),i=new Uint8Array(t.slice(0,2)),o=new Uint8Array(t.slice(2,3));return new e((i[0]<<8)+i[1],o[0],r)}catch(e){throw n.ErrorMonitor.ve().logError("Error extracting message from the services",this.loggerId,s.hs.as.ss,e),new Error(e)}},e}();a.loggerId="[Message] ",t.Jd=a,t.logger=i},function(e,t,r){"use strict";var i=r(0),n=r(7);!function(e){e[e.Tf=0]="UPPER_LAYER",e[e.mf=1]="CDN",e[e.If=2]="CDN_PREFETCH",e[e.Sf=3]="CDN_COMPENSATION",e[e.Rf=4]="P2P",e[e.wf=5]="P2P_PREFETCH"}(t.bf||(t.bf={}));var s=function(){function e(){this.Cf=!1,this._f=!1,this.Pf=0,this.Af=0,this.Of=0,this.Nf=0,this.Df=0,this.p2pAgenTrafficSuccessQt=0,this.kf=0,this.srcOtherRespQt=0,this.Lf=0,this.Mf=0,this.Ff=0,this.Uf=0,this.Bf=0}return e}();t.Hf=s;var o=function(){function e(e,t,r,n,o){this.xf=!1,this.type=void 0,this.qf=new s,this.Gf=!1,this.Vf=!1,this.responseHeaders="",this.jf=new ArrayBuffer(0),this.Qf=0,this.type=r,this.Kf=e,this.Yf=t,this.Wf=o,this.zf=n,this.qf.Lf=i.Framework.time()}return e.prototype.Jf=function(){return this.type},e.prototype.Xf=function(){return this.zf.Xf()},e.prototype.Zf=function(){return this.zf.Zf()},e.prototype.$f=function(){return this.Zf()+"-"+this.Yf},e.prototype.eg=function(){return this.zf.tg()},e.prototype.rg=function(){return this.zf.ig()},e.prototype.loaded=function(){this.ng=i.Framework.time()},e.prototype.sg=function(){return this.ng?Math.max(1,this.ng-this.qf.Ff):Math.max(1,this.qf.Uf-this.qf.Ff)},e.prototype.og=function(){return this.ng?Math.max(1,this.ng-this.qf.Mf):Math.max(1,this.qf.Uf-this.qf.Mf)},e.prototype.ag=function(){return 0!=this.qf.Df?(new n.rc.Vh).Mh(this.sg(),this.qf.Df):(new n.rc.Vh).Mh(this.og(),this.qf.Af)},e}();t.hg=o},function(e,t,r){"use strict";var i=r(161),n=r(35),s=r(28),o=s.cg,a=r(4),h=r(0),c=r(163),u=r(169),l=r(5),p=r(7),d=r(3),f=r(15),g=r(1),E=r(2);!function(e){e.ug=!1;var t;!function(e){e[e.Have=1]="Have",e[e.Chunk=2]="Chunk",e[e.Request=3]="Request",e[e.Cancel=4]="Cancel",e[e.Ack=5]="Ack",e[e.Close=6]="Close",e[e.DoNotHave=7]="DoNotHave",e[e.lg=8]="OutPartRequest",e[e.pg=9]="OutPartResp",e[e.dg=10]="UDPHandshakeReq",e[e.UDPHandshakeResponse=11]="UDPHandshakeResponse",e[e.UDPSwitchLeadershipRequest=12]="UDPSwitchLeadershipRequest",e[e.fg=13]="UDPSwitchAck",e[e.Bitrate=14]="Bitrate",e[e.Haves=15]="Haves",e[e.nd=16]="PeerInfo",e[e.Ping=17]="Ping",e[e.Pong=18]="Pong",e[e.gg=19]="NoPartnerResp"}(t=e.Eg||(e.Eg={}));var s=function(){function e(e){this.loggerId="[DispatcherManager] ",this.vg=new d,this.logger=h.Framework.resolve(h.Framework.V.R).log(),this.yg=e}return e.prototype.Tg=function(e){try{var t=null,r=h.Framework.resolve(f.qu._u),i=r.mg(e);return null==i?(this.logger.warn("MSG RECEIVED FROM UNKNOWN SWARM"),null):(t=new c.Ig(i,this.yg.Sg,this.yg.otherGuid,this.yg),this.vg.has(e)||this.vg.set(e,t),this.vg.get(e))}catch(e){g.ErrorMonitor.ve().logError("Error creating new dispatcher",this.loggerId,E.hs.tt.et,e)}},e.prototype.Rg=function(e){this.vg.delete(e)},e.prototype.wg=function(e){return this.vg.get(e)},e}();e.bg=s;var v=function(){function r(){this.loggerId="[Transport] ",this.Cg=null,this._g=h.Framework.resolve(h.Framework.V.R),this.Pg=new s(this),this.fe=r.Ag++,this.Og=h.Framework.time()}return r.prototype.init=function(e,t){this.Sg=e,this.otherGuid=t,this.Ng=h.Framework.resolve(h.Framework.V.F)},r.prototype.Dg=function(){var e=!1;return this.Pg.vg.forEach(function(t,r){(t.sender.Dg()||t.receiver.Dg())&&(e=!0)}),e},r.prototype.reset=function(){this.Pg.vg.forEach(function(e,t){e.sender.kg()})},r.prototype.close=function(e){return this.Pg.Rg(e),0==this.Pg.vg.length&&this.Ng.disconnect(this.otherGuid),a("ok")},r.prototype.Lg=function(r,i,s){try{this.Og=h.Framework.time();var a=s.tc(),c=a.byteLength,u=o.Fg.Mg.create(a),p=o.Ug(u),d=new n;d.Bg(r),d.Hg(i),d.Bg(c),d.Hg(p.toString()),d.append(a),d.xg();var f=d.tc(),v=r===t.Chunk&&h.Framework.C()?f.byteLength+l.hh.Fa.Da:f.byteLength;e.ug&&this._g.log(i).debug(this.fe+" SEND MSG ID "+r+","+v+" HASH "+p.toString()+" TO "+this.otherGuid)}catch(t){g.ErrorMonitor.ve().logError("Error constructing message",this.loggerId,E.hs.$e.ze,{qg:e.Eg[r]})}try{this.Ng.send(this.otherGuid,f,v)||g.ErrorMonitor.ve().logError("Error message dropped",this.loggerId,E.hs.$e.Je,{qg:e.Eg[r],otherGuid:this.otherGuid})}catch(t){g.ErrorMonitor.ve().logError("Error sending message",this.loggerId,E.hs.$e.Xe,{qg:e.Eg[r],otherGuid:this.otherGuid}),this._g.log(i).warn("ERROR SENDING MESSAGE TO "+this.otherGuid+" "+t.stack)}},r.prototype.Gg=function(i){var s=this;e.ug&&this._g.log().debug(this.fe+" GOT MSG "+i.byteLength);try{var a=h.Framework.time();this.Og=a,this.Vg(i).then(function(c){if(e.ug&&s._g.log().debug(s.fe+" RECEIVING "+c.byteLength+" after "+(h.Framework.time()-a)),c.byteLength>r.jg)throw new RangeError("P2P Message too big to be processed");var l=s.Cg;if(null===l){var d=n.wrap(c),f=d.Qg();if(e.ug&&s._g.log().debug("MSG ID "+f),f>Object.keys(t).length)return s._g.log().warn("MSG OF WRONG ID RECEIVED: "+f),void(s.Cg=null);if(l=s.Cg=new u.Kg,l.msgId=f,l.swarmId=d.Yg(),l.length=d.Qg(),l.hash=d.Yg(),l.Wg=d.tc(),l.length>r.jg)throw new RangeError("P2P Message too big to be processed");e.ug&&s._g.log(l.swarmId).debug("MSG ID "+l.msgId+" L "+l.length+" SWID "+l.swarmId+" H "+l.hash+" TR "+l.Wg.byteLength)}else{if(e.ug&&s._g.log().debug("APPENDING TO P2P MESSAGE "+l.msgId),null!=l.Wg.byteLength&&l.Wg.byteLength>r.jg)throw new RangeError("P2P Message too big to be processed");l.Wg=p.rc.appendBuffer(l.Wg,i)}if(l.Wg.byteLength===l.length){var g=o.Fg.Mg.create(l.Wg);if(o.Ug(g).toString()!==l.hash){return void s._g.log(l.swarmId).warn(" INTEGRITY CHECK FAILED ")}var E=s.Pg.wg(l.swarmId);E||(E=s.Pg.Tg(l.swarmId),s._g.log(l.swarmId).debug("CREATED NEW DISPATCHER FOR "+s.otherGuid)),E&&E.As(l),l.Wg=null,s.Cg=null}})}catch(e){g.ErrorMonitor.ve().logError("Error receiving message",this.loggerId,E.hs.$e.Ze,e),this.Cg=null}},r.prototype.Vg=function(e){var t=!h.Framework.C()&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,r=a.defer();if(t){var i=new FileReader;i.onload=function(t){e=this.result,r.resolve(e)},i.onerror=r.reject,i.readAsArrayBuffer(e)}else r.resolve(e);return r.Ss},r.prototype.zg=function(){return this.Og},r}();v.Jg=i.Zg(r(170)).Xg("HiveMsgs"),v.Ag=0,v.jg=136+Math.ceil(1.2*l.hh.Fa.Da),e.Fa=v}(t.Rf||(t.Rf={}))},function(e,t,r){"use strict";var i;!function(e){function t(e){return o[e]}function r(e,r,i){var n=new a;return n.ticketUrl=e,n.code=r,n.message=t(r),n.detailedMessage=i,n}var i=function(){function e(){this.savings=0,this.cdnRequests=0,this.cdnResponses=0,this.cdnResponseErrors=0,this.cdnResponseBytes=0,this.p2pRequests=0,this.p2pResponses=0,this.p2pResponseErrors=0,this.p2pResponseBytes=0,this.partners={}}return e}();e.$g=i;var n=function(){function e(){this.uuid="",this.sentBytes=0,this.receivedBytes=0,this.successTransfers=0,this.failedTransfers=0}return e}();e.eE=n;var s=function(){function e(){}return e}();e.HiveSession=s;!function(e){e[e.tE=0]="GENERIC_ERROR",e[e.rE=1]="NO_TECH_AVAILABLE",e[e.iE=2]="NO_TECH_RESOLVED",e[e.nE=3]="TECH_ERROR",e[e.sE=4]="TICKET_ERROR"}(e.oE||(e.oE={}));var o;!function(e){e[e["aE"]=0]="Generic Undefined Error",e[e["hE"]=1]="No Tech available to resolve the ticket",e[e["cE"]=2]="No available Tech could resolved the ticket",e[e["uE"]=3]="Stopped resolving session on last tech onError",e[e["lE"]=4]="The ticket could not be resolved"}(o||(o={}));var a=function(){function e(){}return e}();e.HiveSessionError=a;var h=function(){function e(e,t){this.code=e,this.message=t}return e}();e.HiveTechError=h;!function(e){e[e.pE=0]="NOT_READY",e[e.dE=1]="PLUGIN_ERROR",e[e.fE=2]="SESSION_ERROR",e[e.sE=3]="TICKET_ERROR",e[e.gE=4]="VERSION_ERROR",e[e.EE=5]="TIMEOUT_ERROR"}(e.vE||(e.vE={}));!function(e){e[e.yE=0]="OK",e[e.TE=1]="HIVE_NOT_ALLOWED",e[e.mE=2]="TICKET_NOT_RESOLVED",e[e.IE=3]="TIMEOUT_RESOLVING_TICKET"}(e.SE||(e.SE={})),e.getHiveSessionErrorMessage=t,e.Sl=r;var c=function(){function e(e){this.RE=e}return e.prototype.getPluginStatusCode=function(){return this.RE.getStatusCode()},e}();e.wE=c}(i=t.HiveComm||(t.HiveComm={})),"undefined"!=typeof window&&(void 0===window.HiveComm&&(window.HiveComm={}),window.HiveComm.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(e,t,r){"use strict";var i=r(6);!function(e){e.Eh=i.he.Eh,e._h=i.he._h;var t=function(){function e(){}return e}();t.bE="wss://bee.hivestreaming.com:443/v1/hivejs",t.CE="wss://bee-test.hivestreaming.com:443/v1/hivejs",t._E={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},t.PE=3e4,t.Vd=3e5,t.xd=8e4,t.$d=1e3,t.AE=3e4,t.OE=100,t.NE=1e4,e.qd=t}(t.Gd||(t.Gd={}))},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.DE(e,t,r):null==t&&"string"!=typeof e?this.kE(e,256):this.kE(e,t))}function i(){return new r(null)}function n(e,t,r,i,n,s){for(;--s>=0;){var o=t*this[e++]+r[i]+n;n=Math.floor(o/67108864),r[i++]=67108863&o}return n}function s(e,t,r,i,n,s){for(var o=32767&t,a=t>>15;--s>=0;){var h=32767&this[e],c=this[e++]>>15,u=a*h+c*o;h=o*h+((32767&u)<<15)+r[i]+(1073741823&n),n=(h>>>30)+(u>>>15)+a*c+(n>>>30),r[i++]=1073741823&h}return n}function o(e,t,r,i,n,s){for(var o=16383&t,a=t>>14;--s>=0;){var h=16383&this[e],c=this[e++]>>14,u=a*h+c*o;h=o*h+((16383&u)<<14)+r[i]+n,n=(h>>28)+(u>>14)+a*c,r[i++]=268435455&h}return n}function a(e){return Ce.charAt(e)}function h(e,t){var r=_e[e.charCodeAt(t)];return null==r?-1:r}function c(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.T=this.T}function u(e){this.t=1,this.T=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.LE:this.t=0}function l(e){var t=i();return t.ME(e),t}function p(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.FE(e,t);i=2}this.t=0,this.T=0;for(var n=e.length,s=!1,o=0;--n>=0;){var a=8==i?255&e[n]:h(e,n);a<0?"-"==e.charAt(n)&&(s=!0):(s=!1,0==o?this[this.t++]=a:o+i>this.UE?(this[this.t-1]|=(a&(1<<this.UE-o)-1)<<o,this[this.t++]=a>>this.UE-o):this[this.t-1]|=a<<o,(o+=i)>=this.UE&&(o-=this.UE))}8==i&&0!=(128&e[0])&&(this.T=-1,o>0&&(this[this.t-1]|=(1<<this.UE-o)-1<<o)),this.BE(),s&&r.ZERO.HE(this,this)}function d(){for(var e=this.T&this.xE;this.t>0&&this[this.t-1]==e;)--this.t}function f(e){if(this.T<0)return"-"+this.qE().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.GE(e);t=2}var r,i=(1<<t)-1,n=!1,s="",o=this.t,h=this.UE-o*this.UE%t;if(o-- >0)for(h<this.UE&&(r=this[o]>>h)>0&&(n=!0,s=a(r));o>=0;)h<t?(r=(this[o]&(1<<h)-1)<<t-h,r|=this[--o]>>(h+=this.UE-t)):(r=this[o]>>(h-=t)&i,h<=0&&(h+=this.UE,--o)),r>0&&(n=!0),n&&(s+=a(r));return n?s:"0"}function g(){var e=i();return r.ZERO.HE(this,e),e}function E(){return this.T<0?this.qE():this}function v(e){var t=this.T-e.T;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.T<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function y(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function T(){return this.t<=0?0:this.UE*(this.t-1)+y(this[this.t-1]^this.T&this.xE)}function m(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.T=this.T}function I(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.T=this.T}function S(e,t){var r,i=e%this.UE,n=this.UE-i,s=(1<<n)-1,o=Math.floor(e/this.UE),a=this.T<<i&this.xE;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>n|a,a=(this[r]&s)<<i;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.T=this.T,t.BE()}function R(e,t){t.T=this.T;var r=Math.floor(e/this.UE);if(r>=this.t)return void(t.t=0);var i=e%this.UE,n=this.UE-i,s=(1<<i)-1;t[0]=this[r]>>i;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<n,t[o-r]=this[o]>>i;i>0&&(t[this.t-r-1]|=(this.T&s)<<n),t.t=this.t-r,t.BE()}function w(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.xE,i>>=this.UE;if(e.t<this.t){for(i-=e.T;r<this.t;)i+=this[r],t[r++]=i&this.xE,i>>=this.UE;i+=this.T}else{for(i+=this.T;r<e.t;)i-=e[r],t[r++]=i&this.xE,i>>=this.UE;i-=e.T}t.T=i<0?-1:0,i<-1?t[r++]=this.LE+i:i>0&&(t[r++]=i),t.t=r,t.BE()}function b(e,t){var i=this.abs(),n=e.abs(),s=i.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+i.t]=i.VE(0,n[s],t,s,0,i.t);t.T=0,t.BE(),this.T!=e.T&&r.ZERO.HE(t,t)}function C(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.VE(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.VE(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.LE&&(e[r+t.t]-=t.LE,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.VE(r,t[r],e,2*r,0,1)),e.T=0,e.BE()}function _(e,t,n){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=t&&t.ME(0),void(null!=n&&this.jE(n));null==n&&(n=i());var a=i(),h=this.T,c=e.T,u=this.UE-y(s[s.t-1]);u>0?(s.QE(u,a),o.QE(u,n)):(s.jE(a),o.jE(n));var l=a.t,p=a[l-1];if(0!=p){var d=p*(1<<this.KE)+(l>1?a[l-2]>>this.YE:0),f=this.WE/d,g=(1<<this.KE)/d,E=1<<this.YE,v=n.t,T=v-l,m=null==t?i():t;for(a.zE(T,m),n.JE(m)>=0&&(n[n.t++]=1,n.HE(m,n)),r.ONE.zE(l,m),m.HE(a,a);a.t<l;)a[a.t++]=0;for(;--T>=0;){var I=n[--v]==p?this.xE:Math.floor(n[v]*f+(n[v-1]+E)*g);if((n[v]+=a.VE(0,I,n,T,0,l))<I)for(a.zE(T,m),n.HE(m,n);n[v]<--I;)n.HE(m,n)}null!=t&&(n.XE(l,t),h!=c&&r.ZERO.HE(t,t)),n.t=l,n.BE(),u>0&&n.ZE(u,n),h<0&&r.ZERO.HE(n,n)}}}function P(e){var t=i();return this.abs().$E(e,null,t),this.T<0&&t.JE(r.ZERO)>0&&e.HE(t,t),t}function A(e){this.h=e}function O(e){return e.T<0||e.JE(this.h)>=0?e.ev(this.h):e}function N(e){return e}function D(e){e.$E(this.h,null,e)}function k(e,t,r){e.tv(t,r),this.reduce(r)}function L(e,t){e.rv(t),this.reduce(t)}function M(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.LE)%this.LE,t>0?this.LE-t:-t}function F(e){this.h=e,this.nv=e.sv(),this.ov=32767&this.nv,this.av=this.nv>>15,this.hv=(1<<e.UE-15)-1,this.cv=2*e.t}function U(e){var t=i();return e.abs().zE(this.h.t,t),t.$E(this.h,null,t),e.T<0&&t.JE(r.ZERO)>0&&this.h.HE(t,t),t}function B(e){var t=i();return e.jE(t),this.reduce(t),t}function H(e){for(;e.t<=this.cv;)e[e.t++]=0;for(var t=0;t<this.h.t;++t){var r=32767&e[t],i=r*this.ov+((r*this.av+(e[t]>>15)*this.ov&this.hv)<<15)&e.xE;for(r=t+this.h.t,e[r]+=this.h.VE(0,i,e,t,0,this.h.t);e[r]>=e.LE;)e[r]-=e.LE,e[++r]++}e.BE(),e.XE(this.h.t,e),e.JE(this.h)>=0&&e.HE(this.h,e)}function x(e,t){e.rv(t),this.reduce(t)}function q(e,t,r){e.tv(t,r),this.reduce(r)}function G(){return 0==(this.t>0?1&this[0]:this.T)}function V(e,t){if(e>4294967295||e<1)return r.ONE;var n=i(),s=i(),o=t.uv(this),a=y(e)-1;for(o.jE(n);--a>=0;)if(t.lv(n,s),(e&1<<a)>0)t.pv(s,o,n);else{var h=n;n=s,s=h}return t.dv(n)}function j(e,t){var r;return r=e<256||t.fv()?new A(t):new F(t),this.exp(e,r)}function Q(e){var t,r,i,n="",s=0;for(t=0;t<e.length&&e.charAt(t)!=Ae;++t)(i=Pe.indexOf(e.charAt(t)))<0||(0==s?(n+=a(i>>2),r=3&i,s=1):1==s?(n+=a(r<<2|i>>4),r=15&i,s=2):2==s?(n+=a(r),n+=a(i>>2),r=3&i,s=3):(n+=a(r<<2|i>>4),n+=a(15&i),s=0));return 1==s&&(n+=a(r<<2)),n}function K(e){var t,r=Q(e),i=new Array;for(t=0;2*t<r.length;++t)i[t]=parseInt(r.substring(2*t,2*t+2),16);return i}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Y(e,t){return new r(e,t)}function W(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,n=e.length-1;n>=0&&t>0;){var s=e.charCodeAt(n--);s<128?i[--t]=s:s>127&&s<2048?(i[--t]=63&s|128,i[--t]=s>>6|192):(i[--t]=63&s|128,i[--t]=s>>6&63|128,i[--t]=s>>12|224)}i[--t]=0;for(var o=new SecureRandom,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.gv(a);i[--t]=a[0]}return i[--t]=2,i[--t]=0,new r(i)}function z(e,t,r){for(var i="",n=0;i.length<t;)i+=r(String.fromCharCode.apply(String,e.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return i}function J(e,t,i){if(e.length+2*Oe+2>t)throw"Message too long for RSA";var n,s="";for(n=0;n<t-e.length-2*Oe-2;n+=1)s+="\0";var o=rstr_sha1("")+s+""+e,a=new Array(Oe);(new SecureRandom).gv(a);var h=z(a,o.length,i||rstr_sha1),c=[];for(n=0;n<o.length;n+=1)c[n]=o.charCodeAt(n)^h.charCodeAt(n);var u=z(c,a.length,rstr_sha1),l=[0];for(n=0;n<a.length;n+=1)l[n+1]=a[n]^u.charCodeAt(n);return new r(l.concat(c))}function X(){this.n=null,this.e=0,this.d=null,this.v=null,this.Ev=null,this.vv=null,this.yv=null,this.Tv=null}function Z(e,t){this.mv=!0,"string"!=typeof e?(this.n=e,this.e=t):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Y(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function $(e){return e.Iv(this.e,this.n)}function ee(e){var t=W(e,this.n.Sv()+7>>3);if(null==t)return null;var r=this.Rv(t);if(null==r)return null;var i=r.toString(16);return 0==(1&i.length)?i:"0"+i}function te(e,t){var r=J(e,this.n.Sv()+7>>3,t);if(null==r)return null;var i=this.Rv(r);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n}function re(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e}function ie(e,t){var r=function(e){return KJUR.crypto.bv.wv(e,t)}(e);return this.Cv(r,t)}function ne(e,t){var r=KJUR.crypto.bv._v(e,t,this.n.Sv()),i=Y(r,16);return re(this.Pv(i).toString(16),this.n.Sv())}function se(e){return ie.call(this,e,"sha1")}function oe(e){return ie.call(this,e,"sha256")}function ae(e,t,r){for(var i="",n=0;i.length<t;)i+=hextorstr(r(rstrtohex(e+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return i}function he(e,t,r){var i=function(e){return KJUR.crypto.bv.Av(e,t)}(rstrtohex(e));return void 0===r&&(r=-1),this.Ov(i,t,r)}function ce(e,t,i){var n,s=hextorstr(e),o=s.length,a=this.n.Sv()-1,h=Math.ceil(a/8),c=function(e){return KJUR.crypto.bv.Av(e,t)};if(-1===i||void 0===i)i=o;else if(-2===i)i=h-o-2;else if(i<-2)throw"invalid salt length";if(h<o+i+2)throw"data too long";var u="";i>0&&(u=new Array(i),(new SecureRandom).gv(u),u=String.fromCharCode.apply(String,u));var l=hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+s+u))),p=[];for(n=0;n<h-i-o-2;n+=1)p[n]=0;var d=String.fromCharCode.apply(String,p)+""+u,f=ae(l,d.length,c),g=[];for(n=0;n<d.length;n+=1)g[n]=d.charCodeAt(n)^f.charCodeAt(n);var E=65280>>8*h-a&255;for(g[0]&=~E,n=0;n<o;n++)g.push(l.charCodeAt(n));return g.push(188),re(this.Pv(new r(g)).toString(16),this.n.Sv())}function ue(e,t,r){var i=new X;return i.Nv(t,r),i.Rv(e)}function le(e,t,r){return ue(e,t,r).toString(16).replace(/^1f+00/,"")}function pe(e){for(var t in KJUR.crypto.bv.Dv){var r=KJUR.crypto.bv.Dv[t],i=r.length;if(e.substring(0,i)==r){return[t,e.substring(i)]}}return[]}function de(e,t,r,i){var n=le(t,r,i),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.bv.wv(e,o)}(e)}function fe(e,t){return de(t,Y(e,16),this.n.toString(16),this.e.toString(16))}function ge(e,t){t=t.replace(Ne,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.Sv()>this.n.Sv())return 0;var i=this.Rv(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.bv.wv(e,o)}(e)}function Ee(e,t){t=t.replace(Ne,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.Sv()>this.n.Sv())return 0;var i=this.Rv(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;s[0];return s[1]==e}function ve(e,t,r,i){var n=function(e){return KJUR.crypto.bv.Av(e,r)}(rstrtohex(e));return void 0===i&&(i=-1),this.kv(n,t,r,i)}function ye(e,t,i,n){var s=new r(t,16);if(s.Sv()>this.n.Sv())return!1;var o,a=function(e){return KJUR.crypto.bv.Av(e,i)},h=hextorstr(e),c=h.length,u=this.n.Sv()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw"invalid salt length";if(l<c+n+2)throw"data too long";var p=this.Rv(s).Lv();for(o=0;o<p.length;o+=1)p[o]&=255;for(;p.length<l;)p.unshift(0);if(188!==p[l-1])throw"encoded message does not end in 0xbc";p=String.fromCharCode.apply(String,p);var d=p.substr(0,l-c-1),f=p.substr(d.length,c),g=65280>>8*l-u&255;if(0!=(d.charCodeAt(0)&g))throw"bits beyond keysize not zero";var E=ae(f,d.length,a),v=[];for(o=0;o<d.length;o+=1)v[o]=d.charCodeAt(o)^E.charCodeAt(o);v[0]&=~g;var y=l-c-n-2;for(o=0;o<y;o+=1)if(0!==v[o])throw"leftmost octets not zero";if(1!==v[y])throw"0x01 marker not found";return f===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+h+String.fromCharCode.apply(String,v.slice(-n)))))}var Te={};Te.userAgent=!1;var me={};if(void 0===Ie||!Ie)var Ie={};Ie.Mv=function(){var e,t,r,i=arguments,n=null;for(e=0;e<i.length;e+=1)for(r=(""+i[e]).split("."),n=Ie,t="YAHOO"==r[0]?1:0;t<r.length;t+=1)n[r[t]]=n[r[t]]||{},n=n[r[t]];return n},Ie.log=function(e,t,r){var i=Ie.Uv.Fv;return!(!i||!i.log)&&i.log(e,t,r)},Ie.register=function(e,t,r){var i,n,s,o,a,h=Ie.Ms.Bv;for(h[e]||(h[e]={Hv:[],xv:[]}),i=h[e],n=r.version,s=r.Xg,o=Ie.Ms.vl,i.name=e,i.version=n,i.Xg=s,i.Hv.push(n),i.xv.push(s),i.qv=t,a=0;a<o.length;a+=1)o[a](i);t?(t.VERSION=n,t.Gv=s):Ie.log("mainClass is undefined for module "+e,"warn")},Ie.Ms=Ie.Ms||{Bv:[],vl:[]},Ie.Ms.getVersion=function(e){return Ie.Ms.Bv[e]||null},Ie.Ms.Vv=function(e){var t,r=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},i=Te,n={jv:0,opera:0,Qv:0,Kv:0,chrome:0,Yv:null,Wv:0,zv:0,Jv:0,Xv:0,Zv:null,$v:0,ey:0,ty:i&&i.iy,ny:!1,os:null},s=e||Te&&Te.userAgent,o=me&&me.location,a=o&&o.href;return n.ny=a&&0===a.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?n.os="windows":/macintosh/i.test(s)?n.os="macintosh":/rhino/i.test(s)&&(n.os="rhino"),/KHTML/.test(s)&&(n.Kv=1),t=s.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(n.Kv=r(t[1]),/ Mobile\//.test(s)?(n.Yv="Apple",t=s.match(/OS ([^\s]*)/),t&&t[1]&&(t=r(t[1].replace("_","."))),n.Zv=t,n.zv=n.Xv=n.Jv=0,(t=s.match(/iPad|iPod|iPhone/))&&t[0]&&(n[t[0].toLowerCase()]=n.Zv)):(t=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(n.Yv=t[0]),/webOS/.test(s)&&(n.Yv="WebOS",(t=s.match(/webOS\/([^\s]*);/))&&t[1]&&(n.ey=r(t[1]))),/ Android/.test(s)&&(n.Yv="Android",(t=s.match(/Android ([^\s]*);/))&&t[1]&&(n.$v=r(t[1])))),t=s.match(/Chrome\/([^\s]*)/),t&&t[1]?n.chrome=r(t[1]):(t=s.match(/AdobeAIR\/([^\s]*)/))&&(n.Wv=t[0])),n.Kv||(t=s.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(n.opera=r(t[1]),t=s.match(/Version\/([^\s]*)/),t&&t[1]&&(n.opera=r(t[1])),(t=s.match(/Opera Mini[^;]*/))&&(n.Yv=t[0])):(t=s.match(/MSIE\s([^;]*)/),t&&t[1]?n.jv=r(t[1]):(t=s.match(/Gecko\/([^\s]*)/))&&(n.Qv=1,(t=s.match(/rv:([^\s\)]*)/))&&t[1]&&(n.Qv=r(t[1])))))),n},Ie.Ms.sy=Ie.Ms.Vv(),function(){if(Ie.Mv("util","widget","example"),"undefined"!=typeof YAHOO_config){var e,t=YAHOO_config.listener,r=Ie.Ms.vl,i=!0;if(t){for(e=0;e<r.length;e++)if(r[e]==t){i=!1;break}i&&r.push(t)}}}(),Ie.lang=Ie.lang||{},function(){var e=Ie.lang,t=Object.prototype,r=[],i={oy:"&amp;",ay:"&lt;",hy:"&gt;",uy:"&quot;",ly:"&#x27;",py:"&#x2F;",gy:"&#x60;"},n=["toString","valueOf"],s={isArray:function(e){return"[object Array]"===t.toString.apply(e)},Ey:function(e){return"boolean"==typeof e},vy:function(e){return"function"==typeof e||"[object Function]"===t.toString.apply(e)},yy:function(e){return null===e},Ty:function(e){return"number"==typeof e&&isFinite(e)},au:function(t){return t&&("object"==typeof t||e.vy(t))||!1},my:function(e){return"string"==typeof e},Iy:function(e){return void 0===e},Sy:Ie.Ms.sy.jv?function(r,i){var s,o,a;for(s=0;s<n.length;s+=1)o=n[s],a=i[o],e.vy(a)&&a!=t[o]&&(r[o]=a)}:function(){},Ry:function(e){return e.replace(/[&<>"'\/`]/g,function(e){return i[e]})},extend:function(r,i,n){if(!i||!r)throw new Error("extend failed, please check that all dependencies are included.");var s,o=function(){};if(o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r,r.wy=i.prototype,i.prototype.constructor==t.constructor&&(i.prototype.constructor=i),n){for(s in n)e.hasOwnProperty(n,s)&&(r.prototype[s]=n[s]);e.Sy(r.prototype,n)}},by:function(t,r){if(!r||!t)throw new Error("Absorb failed, verify dependencies.");var i,n,s=arguments,o=s[2];if(o&&!0!==o)for(i=2;i<s.length;i+=1)t[s[i]]=r[s[i]];else{for(n in r)!o&&n in t||(t[n]=r[n]);e.Sy(t,r)}return t},Cy:function(t,r){if(!r||!t)throw new Error("Augment failed, verify dependencies.");var i,n=[t.prototype,r.prototype];for(i=2;i<arguments.length;i+=1)n.push(arguments[i]);return e.by.apply(this,n),t},dump:function(t,r){var i,n,s=[],o="{...}";if(!e.au(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(e.vy(t))return"f(){...}";if(r=e.Ty(r)?r:3,e.isArray(t)){for(s.push("["),i=0,n=t.length;i<n;i+=1)e.au(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", ");s.length>1&&s.pop(),s.push("]")}else{s.push("{");for(i in t)e.hasOwnProperty(t,i)&&(s.push(i+" => "),e.au(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", "));s.length>1&&s.pop(),s.push("}")}return s.join("")},_y:function(t,r,i,n){for(var s,o,a,h,c,u,l,p,d,f=[],g=t.length;!((s=t.lastIndexOf("{",g))<0)&&(o=t.indexOf("}",s),!(s+1>o));)l=t.substring(s+1,o),h=l,u=null,a=h.indexOf(" "),a>-1&&(u=h.substring(a+1),h=h.substring(0,a)),c=r[h],i&&(c=i(h,c,u)),e.au(c)?e.isArray(c)?c=e.dump(c,parseInt(u,10)):(u=u||"",p=u.indexOf("dump"),p>-1&&(u=u.substring(4)),d=c.toString(),c="[object Object]"===d||p>-1?e.dump(c,parseInt(u,10)):d):e.my(c)||e.Ty(c)||(c="~-"+f.length+"-~",f[f.length]=l),t=t.substring(0,s)+c+t.substring(o+1),!1===n&&(g=s-1);for(s=f.length-1;s>=0;s-=1)t=t.replace(new RegExp("~-"+s+"-~"),"{"+f[s]+"}","g");return t},trim:function(e){try{return e.replace(/^\s+|\s+$/g,"")}catch(t){return e}},Py:function(){var t,r={},i=arguments,n=i.length;for(t=0;t<n;t+=1)e.by(r,i[t],!0);return r},Ay:function(t,i,n,s,o){t=t||0,i=i||{};var a,h,c=n,u=s;if(e.my(n)&&(c=i[n]),!c)throw new TypeError("method undefined");return e.Iy(s)||e.isArray(u)||(u=[s]),a=function(){c.apply(i,u||r)},h=o?setInterval(a,t):setTimeout(a,t),{interval:o,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},Oy:function(t){return e.au(t)||e.my(t)||e.Ty(t)||e.Ey(t)}};e.hasOwnProperty=t.hasOwnProperty?function(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}:function(t,r){return!e.Iy(t[r])&&t.constructor.prototype[r]!==t[r]},s.by(e,s,!0),Ie.util.Lang=e,e.Ny=e.Cy,Ie.Ny=e.Cy,Ie.extend=e.extend}(),Ie.register("yahoo",Ie,{version:"2.9.0",Xg:"2800"});/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var Se=Se||function(e,t){var r={},i=r.Fg={},n=i.Dy=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.ky(t),r.hasOwnProperty("init")||(r.init=function(){r.Ly.init.apply(this,arguments)}),r.init.prototype=r,r.Ly=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},ky:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.Mg=n.extend({init:function(e,t){e=this.My=e||[],this.Fy=void 0!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.My,r=e.My,i=this.Fy,n=e.Fy;if(this.BE(),i%4)for(var s=0;s<n;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[i+s>>>2]|=o<<24-(i+s)%4*8}else for(var s=0;s<n;s+=4)t[i+s>>>2]=r[s>>>2];return this.Fy+=n,this},BE:function(){var t=this.My,r=this.Fy;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=n.clone.call(this);return e.My=this.My.slice(0),e},random:function(t){for(var r=[],i=0;i<t;i+=4)r.push(4294967296*e.random()|0);return new s.init(r,t)}}),o=r.Uy={},a=o.By={stringify:function(e){for(var t=e.My,r=e.Fy,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(r,t/2)}},h=o.Hy={stringify:function(e){for(var t=e.My,r=e.Fy,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(r,t)}},c=o.xy={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},u=i.qy=n.extend({reset:function(){this.Gy=new s.init,this.Vy=0},jy:function(e){"string"==typeof e&&(e=c.parse(e)),this.Gy.concat(e),this.Vy+=e.Fy},Qy:function(t){var r=this.Gy,i=r.My,n=r.Fy,o=this.Ky,a=4*o,h=n/a;h=t?e.ceil(h):e.max((0|h)-this.Yy,0);var c=h*o,u=e.min(4*c,n);if(c){for(var l=0;l<c;l+=o)this.Wy(i,l);var p=i.splice(0,c);r.Fy-=u}return new s.init(p,u)},clone:function(){var e=n.clone.call(this);return e.Gy=this.Gy.clone(),e},Yy:0}),l=(i.zy=u.extend({Jy:n.extend(),init:function(e){this.Jy=this.Jy.extend(e),this.reset()},reset:function(){u.reset.call(this),this.Xy()},update:function(e){return this.jy(e),this.Qy(),this},Zy:function(e){return e&&this.jy(e),this.$y()},Ky:16,eT:function(e){return function(t,r){return new e.init(r).Zy(t)}},tT:function(e){return function(t,r){return new l.rT.init(e,r).Zy(t)}}}),r.iT={});return r}(Math);!function(e){function t(e,t,r,i,n,s,o){return((e=e+(t&r|~t&i)+n+o)<<s|e>>>32-s)+t}function r(e,t,r,i,n,s,o){return((e=e+(t&i|r&~i)+n+o)<<s|e>>>32-s)+t}function i(e,t,r,i,n,s,o){return((e=e+(t^r^i)+n+o)<<s|e>>>32-s)+t}function n(e,t,r,i,n,s,o){return((e=e+(r^(t|~i))+n+o)<<s|e>>>32-s)+t}for(var s=Se,o=s.Fg,a=o.Mg,h=o.zy,o=s.iT,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;o=o.Ug=h.extend({Xy:function(){this.nT=new a.init([1732584193,4023233417,2562383102,271733878])},Wy:function(e,s){for(var o=0;16>o;o++){var a=s+o,h=e[a];e[a]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var o=this.nT.My,a=e[s+0],h=e[s+1],u=e[s+2],l=e[s+3],p=e[s+4],d=e[s+5],f=e[s+6],g=e[s+7],E=e[s+8],v=e[s+9],y=e[s+10],T=e[s+11],m=e[s+12],I=e[s+13],S=e[s+14],R=e[s+15],w=o[0],b=o[1],C=o[2],_=o[3],w=t(w,b,C,_,a,7,c[0]),_=t(_,w,b,C,h,12,c[1]),C=t(C,_,w,b,u,17,c[2]),b=t(b,C,_,w,l,22,c[3]),w=t(w,b,C,_,p,7,c[4]),_=t(_,w,b,C,d,12,c[5]),C=t(C,_,w,b,f,17,c[6]),b=t(b,C,_,w,g,22,c[7]),w=t(w,b,C,_,E,7,c[8]),_=t(_,w,b,C,v,12,c[9]),C=t(C,_,w,b,y,17,c[10]),b=t(b,C,_,w,T,22,c[11]),w=t(w,b,C,_,m,7,c[12]),_=t(_,w,b,C,I,12,c[13]),C=t(C,_,w,b,S,17,c[14]),b=t(b,C,_,w,R,22,c[15]),w=r(w,b,C,_,h,5,c[16]),_=r(_,w,b,C,f,9,c[17]),C=r(C,_,w,b,T,14,c[18]),b=r(b,C,_,w,a,20,c[19]),w=r(w,b,C,_,d,5,c[20]),_=r(_,w,b,C,y,9,c[21]),C=r(C,_,w,b,R,14,c[22]),b=r(b,C,_,w,p,20,c[23]),w=r(w,b,C,_,v,5,c[24]),_=r(_,w,b,C,S,9,c[25]),C=r(C,_,w,b,l,14,c[26]),b=r(b,C,_,w,E,20,c[27]),w=r(w,b,C,_,I,5,c[28]),_=r(_,w,b,C,u,9,c[29]),C=r(C,_,w,b,g,14,c[30]),b=r(b,C,_,w,m,20,c[31]),w=i(w,b,C,_,d,4,c[32]),_=i(_,w,b,C,E,11,c[33]),C=i(C,_,w,b,T,16,c[34]),b=i(b,C,_,w,S,23,c[35]),w=i(w,b,C,_,h,4,c[36]),_=i(_,w,b,C,p,11,c[37]),C=i(C,_,w,b,g,16,c[38]),b=i(b,C,_,w,y,23,c[39]),w=i(w,b,C,_,I,4,c[40]),_=i(_,w,b,C,a,11,c[41]),C=i(C,_,w,b,l,16,c[42]),b=i(b,C,_,w,f,23,c[43]),w=i(w,b,C,_,v,4,c[44]),_=i(_,w,b,C,m,11,c[45]),C=i(C,_,w,b,R,16,c[46]),b=i(b,C,_,w,u,23,c[47]),w=n(w,b,C,_,a,6,c[48]),_=n(_,w,b,C,g,10,c[49]),C=n(C,_,w,b,S,15,c[50]),b=n(b,C,_,w,d,21,c[51]),w=n(w,b,C,_,m,6,c[52]),_=n(_,w,b,C,l,10,c[53]),C=n(C,_,w,b,y,15,c[54]),b=n(b,C,_,w,h,21,c[55]),w=n(w,b,C,_,E,6,c[56]),_=n(_,w,b,C,R,10,c[57]),C=n(C,_,w,b,f,15,c[58]),b=n(b,C,_,w,I,21,c[59]),w=n(w,b,C,_,p,6,c[60]),_=n(_,w,b,C,T,10,c[61]),C=n(C,_,w,b,u,15,c[62]),b=n(b,C,_,w,v,21,c[63]);o[0]=o[0]+w|0,o[1]=o[1]+b|0,o[2]=o[2]+C|0,o[3]=o[3]+_|0},$y:function(){var t=this.Gy,r=t.My,i=8*this.Vy,n=8*t.Fy;r[n>>>5]|=128<<24-n%32;var s=e.floor(i/4294967296);for(r[15+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.Fy=4*(r.length+1),this.Qy(),t=this.nT,r=t.My,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=h.clone.call(this);return e.nT=this.nT.clone(),e}}),s.Ug=h.eT(o),s.sT=h.tT(o)}(Math),function(){var e=Se,t=e.Fg,r=t.Mg,i=t.zy,n=[],t=e.iT.oT=i.extend({Xy:function(){this.nT=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},Wy:function(e,t){for(var r=this.nT.My,i=r[0],s=r[1],o=r[2],a=r[3],h=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+h+n[c],u=20>c?u+(1518500249+(s&o|~s&a)):40>c?u+(1859775393+(s^o^a)):60>c?u+((s&o|s&a|o&a)-1894007588):u+((s^o^a)-899497514),h=a,a=o,o=s<<30|s>>>2,s=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+h|0},$y:function(){var e=this.Gy,t=e.My,r=8*this.Vy,i=8*e.Fy;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(i+64>>>9<<4)]=r,e.Fy=4*t.length,this.Qy(),this.nT},clone:function(){var e=i.clone.call(this);return e.nT=this.nT.clone(),e}});e.oT=i.eT(t),e.aT=i.tT(t)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Re;"Microsoft Internet Explorer"==Te.appName?(r.prototype.VE=s,Re=30):"Netscape"!=Te.appName?(r.prototype.VE=n,Re=26):(r.prototype.VE=o,Re=28),r.prototype.UE=Re,r.prototype.xE=(1<<Re)-1,r.prototype.LE=1<<Re;r.prototype.WE=Math.pow(2,52),r.prototype.KE=52-Re,r.prototype.YE=2*Re-52;var we,be,Ce="0123456789abcdefghijklmnopqrstuvwxyz",_e=new Array;for(we="0".charCodeAt(0),be=0;be<=9;++be)_e[we++]=be;for(we="a".charCodeAt(0),be=10;be<36;++be)_e[we++]=be;for(we="A".charCodeAt(0),be=10;be<36;++be)_e[we++]=be;A.prototype.uv=O,A.prototype.dv=N,A.prototype.reduce=D,A.prototype.pv=k,A.prototype.lv=L,F.prototype.uv=U,F.prototype.dv=B,F.prototype.reduce=H,F.prototype.pv=q,F.prototype.lv=x,r.prototype.jE=c,r.prototype.ME=u,r.prototype.kE=p,r.prototype.BE=d,r.prototype.zE=m,r.prototype.XE=I,r.prototype.QE=S,r.prototype.ZE=R,r.prototype.HE=w,r.prototype.tv=b,r.prototype.rv=C,r.prototype.$E=_,r.prototype.sv=M,r.prototype.fv=G,r.prototype.exp=V,r.prototype.toString=f,r.prototype.qE=g,r.prototype.abs=E,r.prototype.JE=v,r.prototype.Sv=T,r.prototype.ev=P,r.prototype.Iv=j,r.ZERO=l(0),r.ONE=l(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.hT&&KJUR.hT||(KJUR.hT={}),KJUR.hT.cT=new function(){this.uT=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.lT=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1),n=i.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var s="",o=0;o<n;o++)s+="f";t=new r(s,16).pT(e).add(r.ONE).toString(16).replace(/^-/,"")}return t},this.dT=function(e,t){var r=(KJUR.hT,Se.Uy.By.parse(e)),i=Se.Uy.fT.stringify(r),n=i.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+n+"\r\n-----END "+t+"-----\r\n"},this.gT=function(e){var t=KJUR.hT,r=Object.keys(e);if(1!=r.length)throw"key of param shall be only one.";var i=r[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+i+":"))throw"undefined key: "+i;if("bool"==i)return new t.ET(e[i]);if("int"==i)return new t.vT(e[i]);if("bitstr"==i)return new t.yT(e[i]);if("octstr"==i)return new t.TT(e[i]);if("null"==i)return new t.mT(e[i]);if("oid"==i)return new t.IT(e[i]);if("enum"==i)return new t.ST(e[i]);if("utf8str"==i)return new t.RT(e[i]);if("numstr"==i)return new t.wT(e[i]);if("prnstr"==i)return new t.bT(e[i]);if("telstr"==i)return new t.CT(e[i]);if("ia5str"==i)return new t._T(e[i]);if("utctime"==i)return new t.PT(e[i]);if("gentime"==i)return new t.AT(e[i]);if("seq"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.cT.gT(n[o]);s.push(a)}return new t.OT({NT:s})}if("set"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.cT.gT(n[o]);s.push(a)}return new t.DT({NT:s})}if("tag"==i){var h=e[i];if("[object Array]"===Object.prototype.toString.call(h)&&3==h.length){var c=t.cT.gT(h[2]);return new t.kT({tag:h[0],LT:h[1],MT:c})}var u={};if(void 0!==h.LT&&(u.LT=h.LT),void 0!==h.tag&&(u.tag=h.tag),void 0===h.MT)throw"obj shall be specified for 'tag'.";return u.MT=t.cT.gT(h.MT),new t.kT(u)}},this.FT=function(e){return this.gT(e).UT()}},KJUR.hT.cT.BT=function(e){for(var t="",i=parseInt(e.substr(0,2),16),n=Math.floor(i/40),s=i%40,t=n+"."+s,o="",a=2;a<e.length;a+=2){var h=parseInt(e.substr(a,2),16),c=("00000000"+h.toString(2)).slice(-8);if(o+=c.substr(1,7),"0"==c.substr(0,1)){t=t+"."+new r(o,2).toString(10),o=""}}return t},KJUR.hT.cT.HT=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);i+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)i+=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i}(n[o]);return i},KJUR.hT.xT=function(){this.qT=function(){if(void 0===this.GT||null==this.GT)throw"this.hV is null or undefined.";if(this.GT.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.GT;var e=this.GT.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.UT=function(){return(null==this.VT||this.jT)&&(this.GT=this.QT(),this.KT=this.qT(),this.VT=this.YT+this.KT+this.GT,this.jT=!1),this.VT},this.WT=function(){return this.UT(),this.GT},this.QT=function(){return""}},KJUR.hT.zT=function(e){KJUR.hT.zT.wy.constructor.call(this);this.JT=function(){return this.T},this.XT=function(e){this.VT=null,this.jT=!0,this.T=e,this.GT=stohex(this.T)},this.ZT=function(e){this.VT=null,this.jT=!0,this.T=null,this.GT=e},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e?this.XT(e):void 0!==e.str?this.XT(e.str):void 0!==e.$T&&this.ZT(e.$T))},Ie.lang.extend(KJUR.hT.zT,KJUR.hT.xT),KJUR.hT.em=function(e){KJUR.hT.em.wy.constructor.call(this);this.tm=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.rm=function(e,t,r){var i=this.im,n=this.tm(e),s=String(n.getFullYear());"utc"==t&&(s=s.substr(2,2));var o=i(String(n.getMonth()+1),2),a=i(String(n.getDate()),2),h=i(String(n.getHours()),2),c=i(String(n.getMinutes()),2),u=i(String(n.getSeconds()),2),l=s+o+a+h+c+u;if(!0===r){var p=n.getMilliseconds();if(0!=p){var d=i(String(p),3);d=d.replace(/[0]+$/,""),l=l+"."+d}}return l+"Z"},this.im=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.JT=function(){return this.T},this.XT=function(e){this.VT=null,this.jT=!0,this.T=e,this.GT=stohex(e)},this.nm=function(e,t,r,i,n,s){var o=new Date(Date.UTC(e,t-1,r,i,n,s,0));this.sm(o)},this.QT=function(){return this.GT}},Ie.lang.extend(KJUR.hT.em,KJUR.hT.xT),KJUR.hT.om=function(e){KJUR.hT.zT.wy.constructor.call(this);this.am=function(e){this.VT=null,this.jT=!0,this.hm=e},this.cm=function(e){this.VT=null,this.jT=!0,this.hm.push(e)},this.hm=new Array,void 0!==e&&void 0!==e.NT&&(this.hm=e.NT)},Ie.lang.extend(KJUR.hT.om,KJUR.hT.xT),KJUR.hT.ET=function(){KJUR.hT.ET.wy.constructor.call(this),this.YT="01",this.VT="0101ff"},Ie.lang.extend(KJUR.hT.ET,KJUR.hT.xT),KJUR.hT.vT=function(e){KJUR.hT.vT.wy.constructor.call(this),this.YT="02",this.um=function(e){this.VT=null,this.jT=!0,this.GT=KJUR.hT.cT.lT(e)},this.lm=function(e){var t=new r(String(e),10);this.um(t)},this.pm=function(e){this.GT=e},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.dm?this.um(e.dm):void 0!==e.fm?this.lm(e.fm):"number"==typeof e?this.lm(e):void 0!==e.$T&&this.pm(e.$T))},Ie.lang.extend(KJUR.hT.vT,KJUR.hT.xT),KJUR.hT.yT=function(e){KJUR.hT.yT.wy.constructor.call(this),this.YT="03",this.gm=function(e){this.VT=null,this.jT=!0,this.GT=e},this.Em=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.VT=null,this.jT=!0,this.GT=r+t},this.vm=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";for(var i="",r=0;r<e.length-1;r+=8){var n=e.substr(r,8),s=parseInt(n,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.VT=null,this.jT=!0,this.GT="0"+t+i},this.ym=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.vm(t)},this.Tm=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.gm(e):void 0!==e.$T?this.gm(e.$T):void 0!==e.mm?this.vm(e.mm):void 0!==e.NT&&this.ym(e.NT))},Ie.lang.extend(KJUR.hT.yT,KJUR.hT.xT),KJUR.hT.TT=function(e){KJUR.hT.TT.wy.constructor.call(this,e),this.YT="04"},Ie.lang.extend(KJUR.hT.TT,KJUR.hT.zT),KJUR.hT.mT=function(){KJUR.hT.mT.wy.constructor.call(this),this.YT="05",this.VT="0500"},Ie.lang.extend(KJUR.hT.mT,KJUR.hT.xT),KJUR.hT.IT=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};KJUR.hT.IT.wy.constructor.call(this),this.YT="06",this.pm=function(e){this.VT=null,this.jT=!0,this.T=null,this.GT=e},this.Im=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);r+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)r+=i(n[o]);this.VT=null,this.jT=!0,this.T=null,this.GT=r},this.Sm=function(e){if(void 0===KJUR.hT.bm.wm.Rm[e])throw"DERObjectIdentifier oidName undefined: "+e;var t=KJUR.hT.bm.wm.Rm[e];this.Im(t)},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e&&e.match(/^[0-2].[0-9.]+$/)?this.Im(e):void 0!==KJUR.hT.bm.wm.Rm[e]?this.Im(KJUR.hT.bm.wm.Rm[e]):void 0!==e.Cm?this.Im(e.Cm):void 0!==e.$T?this.pm(e.$T):void 0!==e.name&&this.Sm(e.name))},Ie.lang.extend(KJUR.hT.IT,KJUR.hT.xT),KJUR.hT.ST=function(e){KJUR.hT.ST.wy.constructor.call(this),this.YT="0a",this.um=function(e){this.VT=null,this.jT=!0,this.GT=KJUR.hT.cT.lT(e)},this.lm=function(e){var t=new r(String(e),10);this.um(t)},this.pm=function(e){this.GT=e},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.fm?this.lm(e.fm):"number"==typeof e?this.lm(e):void 0!==e.$T&&this.pm(e.$T))},Ie.lang.extend(KJUR.hT.ST,KJUR.hT.xT),KJUR.hT.RT=function(e){KJUR.hT.RT.wy.constructor.call(this,e),this.YT="0c"},Ie.lang.extend(KJUR.hT.RT,KJUR.hT.zT),KJUR.hT.wT=function(e){KJUR.hT.wT.wy.constructor.call(this,e),this.YT="12"},Ie.lang.extend(KJUR.hT.wT,KJUR.hT.zT),KJUR.hT.bT=function(e){KJUR.hT.bT.wy.constructor.call(this,e),this.YT="13"},Ie.lang.extend(KJUR.hT.bT,KJUR.hT.zT),KJUR.hT.CT=function(e){KJUR.hT.CT.wy.constructor.call(this,e),this.YT="14"},Ie.lang.extend(KJUR.hT.CT,KJUR.hT.zT),KJUR.hT._T=function(e){KJUR.hT._T.wy.constructor.call(this,e),this.YT="16"},Ie.lang.extend(KJUR.hT._T,KJUR.hT.zT),KJUR.hT.PT=function(e){KJUR.hT.PT.wy.constructor.call(this,e),this.YT="17",this.sm=function(e){this.VT=null,this.jT=!0,this._m=e,this.T=this.rm(this._m,"utc"),this.GT=stohex(this.T)},this.QT=function(){return void 0===this._m&&void 0===this.T&&(this._m=new Date,this.T=this.rm(this._m,"utc"),this.GT=stohex(this.T)),this.GT},void 0!==e&&(void 0!==e.str?this.XT(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.XT(e):void 0!==e.$T?this.ZT(e.$T):void 0!==e._m&&this.sm(e._m))},Ie.lang.extend(KJUR.hT.PT,KJUR.hT.em),KJUR.hT.AT=function(e){KJUR.hT.AT.wy.constructor.call(this,e),this.YT="18",this.Pm=!1,this.sm=function(e){this.VT=null,this.jT=!0,this._m=e,this.T=this.rm(this._m,"gen",this.Pm),this.GT=stohex(this.T)},this.QT=function(){return void 0===this._m&&void 0===this.T&&(this._m=new Date,this.T=this.rm(this._m,"gen",this.Pm),this.GT=stohex(this.T)),this.GT},void 0!==e&&(void 0!==e.str?this.XT(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.XT(e):void 0!==e.$T?this.ZT(e.$T):void 0!==e._m&&this.sm(e._m),!0===e.Am&&(this.Pm=!0))},Ie.lang.extend(KJUR.hT.AT,KJUR.hT.em),KJUR.hT.OT=function(e){KJUR.hT.OT.wy.constructor.call(this,e),this.YT="30",this.QT=function(){for(var e="",t=0;t<this.hm.length;t++){e+=this.hm[t].UT()}return this.GT=e,this.GT}},Ie.lang.extend(KJUR.hT.OT,KJUR.hT.om),KJUR.hT.DT=function(e){KJUR.hT.DT.wy.constructor.call(this,e),this.YT="31",this.Om=!0,this.QT=function(){for(var e=new Array,t=0;t<this.hm.length;t++){var r=this.hm[t];e.push(r.UT())}return 1==this.Om&&e.sort(),this.GT=e.join(""),this.GT},void 0!==e&&void 0!==e.Nm&&0==e.Nm&&(this.Om=!1)},Ie.lang.extend(KJUR.hT.DT,KJUR.hT.om),KJUR.hT.kT=function(e){KJUR.hT.kT.wy.constructor.call(this),this.YT="a0",this.GT="",this.Dm=!0,this.km=null,this.Lm=function(e,t,r){this.YT=t,this.Dm=e,this.km=r,this.Dm?(this.GT=this.km.UT(),this.VT=null,this.jT=!0):(this.GT=null,this.VT=r.UT(),this.VT=this.VT.replace(/^../,t),this.jT=!1)},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.tag&&(this.YT=e.tag),void 0!==e.LT&&(this.Dm=e.LT),void 0!==e.MT&&(this.km=e.MT,this.Lm(this.Dm,this.YT,this.km)))},Ie.lang.extend(KJUR.hT.kT,KJUR.hT.xT);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.bv=new function(){this.Dv={sha1:"3021300906052b0e03021a05000414",Mm:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",Fm:"3041300d060960864801650304020205000430",Um:"3051300d060960864801650304020305000440",Bm:"3020300c06082a864886f70d020205000410",Hm:"3020300c06082a864886f70d020505000410",xm:"3021300906052b2403020105000414"},this.qm={Hm:"cryptojs",sha1:"cryptojs",Mm:"cryptojs",sha256:"cryptojs",Fm:"cryptojs",Um:"cryptojs",xm:"cryptojs",Gm:"cryptojs",Vm:"cryptojs",jm:"cryptojs",Qm:"cryptojs",Km:"cryptojs",Ym:"cryptojs",Wm:"cryptojs",zm:"cryptojs/jsrsa",Jm:"cryptojs/jsrsa",Xm:"cryptojs/jsrsa",Zm:"cryptojs/jsrsa",$m:"cryptojs/jsrsa",eI:"cryptojs/jsrsa",tI:"cryptojs/jsrsa",rI:"cryptojs/jsrsa",iI:"cryptojs/jsrsa",nI:"cryptojs/jsrsa",sI:"cryptojs/jsrsa",oI:"cryptojs/jsrsa",aI:"cryptojs/jsrsa",hI:"cryptojs/jsrsa",cI:"cryptojs/jsrsa",uI:"cryptojs/jsrsa",lI:"cryptojs/jsrsa",pI:"cryptojs/jsrsa",dI:"cryptojs/jsrsa",fI:"cryptojs/jsrsa",gI:"cryptojs/jsrsa",EI:"cryptojs/jsrsa",vI:"cryptojs/jsrsa",yI:"cryptojs/jsrsa"},this.TI={Hm:Se.iT.Ug,sha1:Se.iT.oT,Mm:Se.iT.mI,sha256:Se.iT.II,Fm:Se.iT.SI,Um:Se.iT.RI,xm:Se.iT.wI},this.bI=function(e,t){if(void 0===this.Dv[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.Dv[t]+e},this._v=function(e,t,r){var i=this.bI(e,t),n=r/4;if(i.length+22>n)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",o="00"+i,a="",h=n-s.length-o.length,c=0;c<h;c+=2)a+="ff";return s+a+o},this.wv=function(e,t){return new KJUR.crypto._I({AI:t}).CI(e)},this.Av=function(e,t){return new KJUR.crypto._I({AI:t}).OI(e)},this.sha1=function(e){return new KJUR.crypto._I({AI:"sha1",NI:"cryptojs"}).CI(e)},this.sha256=function(e){return new KJUR.crypto._I({AI:"sha256",NI:"cryptojs"}).CI(e)},this.DI=function(e){return new KJUR.crypto._I({AI:"sha256",NI:"cryptojs"}).OI(e)},this.Um=function(e){return new KJUR.crypto._I({AI:"sha512",NI:"cryptojs"}).CI(e)},this.kI=function(e){return new KJUR.crypto._I({AI:"sha512",NI:"cryptojs"}).OI(e)},this.Hm=function(e){return new KJUR.crypto._I({AI:"md5",NI:"cryptojs"}).CI(e)},this.xm=function(e){return new KJUR.crypto._I({AI:"ripemd160",NI:"cryptojs"}).CI(e)},this.LI=function(e){}},KJUR.crypto._I=function(e){this.MI=function(e,t){if(null!=e&&void 0===t&&(t=KJUR.crypto.bv.qm[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.FI=KJUR.crypto.bv.TI[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.UI=function(e){this.FI.update(e)},this.BI=function(e){var t=Se.Uy.By.parse(e);this.FI.update(t)},this.digest=function(){return this.FI.Zy().toString(Se.Uy.By)},this.CI=function(e){return this.UI(e),this.digest()},this.OI=function(e){return this.BI(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.FI=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.UI=function(e){this.FI.update(e)},this.BI=function(e){var t=sjcl.xI.$T.HI(e);this.FI.update(t)},this.digest=function(){var e=this.FI.Zy();return sjcl.xI.$T.qI(e)},this.CI=function(e){return this.UI(e),this.digest()},this.OI=function(e){return this.BI(e),this.digest()}}},this.UI=function(e){throw"updateString(str) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.BI=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.GI+"/"+this.VI},this.CI=function(e){throw"digestString(str) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.OI=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.GI+"/"+this.VI},void 0!==e&&void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI&&(this.VI=KJUR.crypto.bv.qm[this.GI]),this.MI(this.GI,this.VI))},KJUR.crypto.jI=function(e){this.MI=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=KJUR.crypto.bv.qm[e]),this.QI=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var i=KJUR.crypto.bv.TI[r];this.mac=Se.iT.rT.create(i,this.KI)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.UI=function(e){this.mac.update(e)},this.BI=function(e){var t=Se.Uy.By.parse(e);this.mac.update(t)},this.YI=function(){return this.mac.Zy().toString(Se.Uy.By)},this.WI=function(e){return this.UI(e),this.YI()},this.zI=function(e){return this.BI(e),this.YI()}}},this.UI=function(e){throw"updateString(str) not supported for this alg/prov: "+this.QI},this.BI=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.QI},this.YI=function(){throw"digest() not supported for this alg/prov: "+this.QI},this.WI=function(e){throw"digestString(str) not supported for this alg/prov: "+this.QI},this.zI=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.QI},this.JI=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=rstrtohex(e)),void(this.KI=Se.Uy.By.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.$T){if(e.$T.length%2!=0||!e.$T.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.$T;t=e.$T}if(void 0!==e.XI&&(t=utf8tohex(e.XI)),void 0!==e.ZI&&(t=rstrtohex(e.ZI)),void 0!==e.$I&&(t=Q(e.$I)),void 0!==e.eS&&(t=b64utohex(e.eS)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.KI=Se.Uy.By.parse(t)},void 0!==e&&(void 0!==e.KI&&this.JI(e.KI),void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI&&(this.VI=KJUR.crypto.bv.qm[this.GI]),this.MI(this.GI,this.VI)))},KJUR.crypto.Signature=function(e){var t=null;if(this.tS=function(){this.GI.match(/^(.+)with(.+)$/)&&(this.rS=RegExp.$1.toLowerCase(),this.iS=RegExp.$2.toLowerCase())},this.nS=function(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e},this.MI=function(e,t){if(this.tS(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.rS)){try{this.FI=new KJUR.crypto._I({AI:this.rS})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.rS+"/"+e}this.init=function(e,t){var r=null;try{r=void 0===t?KEYUTIL.getKey(e):KEYUTIL.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.sS)this.oS=r,this.state="SIGN";else{if(!0!==r.mv)throw"init failed.:"+r;this.aS=r,this.state="VERIFY"}},this.hS=function(e){"string"==typeof e.cS&&"string"==typeof e.uS?(this.cS=e.cS,this.uS=e.uS):this.oS=e,this.state="SIGN"},this.lS=function(e){"string"==typeof e.pS&&"string"==typeof e.uS?(this.pS=e.pS,this.uS=e.uS):e instanceof KJUR.crypto.dS?this.aS=e:e instanceof X&&(this.aS=e),this.state="VERIFY"},this.fS=function(e){var t=new X509;t.gS(e),this.aS=t.ES,this.state="VERIFY"},this.UI=function(e){this.FI.UI(e)},this.BI=function(e){this.FI.BI(e)},this.sign=function(){if(this.vS=this.FI.digest(),void 0!==this.cS&&void 0!==this.uS){var e=new KJUR.crypto.dS({curve:this.uS});this.yS=e.TS(this.vS,this.cS)}else if(this.oS instanceof X&&"rsaandmgf1"==this.iS)this.yS=this.oS.Ov(this.vS,this.rS,this.mS);else if(this.oS instanceof X&&"rsa"==this.iS)this.yS=this.oS.Cv(this.vS,this.rS);else if(this.oS instanceof KJUR.crypto.dS)this.yS=this.oS.Cv(this.vS);else{if(!(this.oS instanceof KJUR.crypto.IS))throw"Signature: unsupported public key alg: "+this.iS;this.yS=this.oS.Cv(this.vS)}return this.yS},this.SS=function(e){return this.UI(e),this.sign()},this.TS=function(e){return this.BI(e),this.sign()},this.verify=function(e){if(this.vS=this.FI.digest(),void 0!==this.pS&&void 0!==this.uS){return new KJUR.crypto.dS({curve:this.uS}).RS(this.vS,e,this.pS)}if(this.aS instanceof X&&"rsaandmgf1"==this.iS)return this.aS.kv(this.vS,e,this.rS,this.mS);if(this.aS instanceof X&&"rsa"==this.iS)return this.aS.wS(this.vS,e);if(this.aS instanceof KJUR.crypto.dS)return this.aS.wS(this.vS,e);if(this.aS instanceof KJUR.crypto.IS)return this.aS.wS(this.vS,e);throw"Signature: unsupported public key alg: "+this.iS}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.bS},this.lS=function(e){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.bS},this.fS=function(e){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.bS},this.hS=function(e){throw"initSign(prvKey) not supported for this alg:prov="+this.bS},this.UI=function(e){throw"updateString(str) not supported for this alg:prov="+this.bS},this.BI=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.bS},this.sign=function(){throw"sign() not supported for this alg:prov="+this.bS},this.SS=function(e){throw"digestString(str) not supported for this alg:prov="+this.bS},this.TS=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.bS},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.bS},this.CS=e,void 0!==e&&(void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI?this.VI=KJUR.crypto.bv.qm[this.GI]:this.VI=e.NI,this.bS=this.GI+":"+this.VI,this.MI(this.GI,this.VI),this.tS()),void 0!==e._S&&(this.mS=e._S),void 0!==e.PS)){if(void 0!==e.OS)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=new X;t.NS(e.PS),this.hS(t)}catch(e){throw"fatal error to load pem private key: "+e}}},KJUR.crypto.wm=new function(){this.DS={kS:"rsaEncryption",LS:"ecPublicKey",MS:"dsa",FS:"secp256r1",US:"secp192k1",BS:"secp224r1",HS:"secp256k1",xS:"secp521r1",qS:"secp384r1",GS:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var Oe=20;X.prototype.Rv=$,X.prototype.Nv=Z,X.prototype.encrypt=ee,X.prototype.VS=te,X.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
var Ne=new RegExp("");Ne.compile("[^0-9a-f]","gi"),X.prototype.Cv=ne,X.prototype.SS=ie,X.prototype.jS=se,X.prototype.QS=oe,X.prototype.sign=ie,X.prototype.KS=se,X.prototype.YS=oe,X.prototype.Ov=ce,X.prototype.WS=he,X.prototype.zS=he,X.JS=-1,X.XS=-2,X.prototype.wS=Ee,X.prototype.ZS=ge,X.prototype.$S=fe,X.prototype.verify=ge,X.prototype.eR=fe,X.prototype.kv=ye,X.prototype.tR=ve,X.prototype.rR=ve,X.iR=-2,t.nR=r,t.sR=X,t.Signature=KJUR.crypto.Signature,t._I=KJUR.crypto._I,t.cg=Se,t.oR=Q,t.aR=K},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.pp="https:"===location.protocol,i.yp=!0,i.hR=1e4,i.nh=6e4,i.cR="X-Hive-TestId",t.L=i},function(e,t,r){var i,n,s;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";"object"==typeof e&&e.i?e.i=a(r(16),r(16),r(16)):(n=[r(16),r(16),r(16)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s))}(0,function(e,t,r,i){"use strict";function n(e,t){var r=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof n))return r?i?new n(e,t):new n(e):new n;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.Ph(t):this}function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function h(e,t){var r,i,n={};if("RegExp"===o(t))n=null;else if(a(t))for(r=0,i=t.length;r<i;r++)n[t[r]]=!0;else n[t]=!0;for(r=0,i=e.length;r<i;r++){(n&&void 0!==n[e[r]]||!n&&t.test(e[r]))&&(e.splice(r,1),i--,r--)}return e}function c(e,t){var r,i;if(a(t)){for(r=0,i=t.length;r<i;r++)if(!c(e,t[r]))return!1;return!0}var n=o(t);for(r=0,i=e.length;r<i;r++)if("RegExp"===n){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function u(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function l(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function f(e){return function(t,r){return void 0===t?this.uR[e]||"":(this.uR[e]=t||null,this.Xg(!r),this)}}function g(e,t){return function(r,i){return void 0===r?this.uR[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this.uR[e]=r,this.Xg(!i),this)}}var E=i&&i.lR;n.version="1.18.10";var v=n.prototype,y=Object.prototype.hasOwnProperty;n.uR=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,pR:null,dR:n.dR,fR:n.fR}},n.dR=!1,n.fR=!0,n.gR=/^[a-z][a-z0-9.+-]*$/i,n.ER=/[^a-z0-9\.-]/i,n.vR=/(xn--)/i,n.yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.TR=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.mR=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.IR={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,SR:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.RR={wR:"80",bR:"443",CR:"21",_R:"70",PR:"80",AR:"443"},n.OR=/[^a-zA-Z0-9\.-]/,n.NR={a:"href",DR:"cite",link:"href",kR:"href",LR:"src",form:"action",MR:"src",FR:"href",UR:"src",BR:"src",source:"src",track:"src",input:"src",HR:"src",video:"src"},n.xR=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return n.NR[t]}},n.encode=d,n.decode=decodeURIComponent,n.qR=function(){n.encode=escape,n.decode=unescape},n.GR=function(){n.encode=d,n.decode=decodeURIComponent},n.VR={pathname:{encode:{jR:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{jR:/[\/\?#]/g,map:{py:"%2F",QR:"%3F",KR:"%23"}}},YR:{encode:{jR:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",WR:"/",zR:"?",JR:"#",XR:"[",ZR:"]","%40":"@",$R:"!","%24":"$","%26":"&",ew:"'",tw:"(",rw:")",iw:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},nw:{encode:{jR:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{$R:"!","%24":"$",ew:"'",tw:"(",rw:")",iw:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{jR:/[\/\?#:]/g,map:{py:"%2F",QR:"%3F",KR:"%23",sw:"%3A"}}}},n.ow=function(e,t){var r=n.encode(e+"");return void 0===t&&(t=n.fR),t?r.replace(/%20/g,"+"):r},n.aw=function(e,t){e+="",void 0===t&&(t=n.fR);try{return n.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var T,m={encode:"encode",decode:"decode"},I=function(e,t){return function(r){try{return n[t](r+"").replace(n.VR[e][t].jR,function(r){return n.VR[e][t].map[r]})}catch(e){return r}}};for(T in m)n[T+"PathSegment"]=I("pathname",m[T]),n[T+"UrnPathSegment"]=I("urnpath",m[T]);var S=function(e,t,r){return function(i){var s;s=r?function(e){return n[t](n[r](e))}:n[t];for(var o=(i+"").split(e),a=0,h=o.length;a<h;a++)o[a]=s(o[a]);return o.join(e)}};n.hw=S("/","decodePathSegment"),n.cw=S(":","decodeUrnPathSegment"),n.uw=S("/","encodePathSegment","decode"),n.lw=S(":","encodeUrnPathSegment","decode"),n.pw=I("reserved","encode"),n.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.pR=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=n.dw(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(n.gR)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=n.dw(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},n.fw=function(e,t){e=e.replace(/\\/g,"/");var r,i,n=e.indexOf("/");if(-1===n&&(n=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,n)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),o=e.indexOf("/"),a=e.indexOf(":",s+1);-1!==a&&(-1===o||a<o)?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},n.dw=function(e,t){return e=n.gw(e,t),n.fw(e,t)},n.gw=function(e,t){var r,i=e.indexOf("/"),s=e.lastIndexOf("@",i>-1?i:e.length-1);return s>-1&&(-1===i||s<i)?(r=e.substring(0,s).split(":"),t.username=r[0]?n.decode(r[0]):null,r.shift(),t.password=r[0]?n.decode(r.join(":")):null,e=e.substring(s+1)):(t.username=null,t.password=null),e},n.Ew=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,i,s,o={},a=e.split("&"),h=a.length,c=0;c<h;c++)r=a[c].split("="),i=n.aw(r.shift(),t),s=r.length?n.aw(r.join("="),t):null,y.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(s)):o[i]=s;return o},n.Xg=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=n.vw(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.pR&&e.pR&&(t+="#"+e.pR),t},n.yw=function(e){var t="";return e.hostname?(n.TR.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},n.vw=function(e){return n.Tw(e)+n.yw(e)},n.Tw=function(e){var t="";return e.username&&(t+=n.encode(e.username)),e.password&&(t+=":"+n.encode(e.password)),t&&(t+="@"),t},n.mw=function(e,t,r){var i,s,o,h,c="";for(s in e)if(y.call(e,s)&&s)if(a(e[s]))for(i={},o=0,h=e[s].length;o<h;o++)void 0!==e[s][o]&&void 0===i[e[s][o]+""]&&(c+="&"+n.Iw(s,e[s][o],r),!0!==t&&(i[e[s][o]+""]=!0));else void 0!==e[s]&&(c+="&"+n.Iw(s,e[s],r));return c.substring(1)},n.Iw=function(e,t,r){return n.ow(e,r)+(null!==t?"="+n.ow(t,r):"")},n.Sw=function(e,t,r){if("object"==typeof t)for(var i in t)y.call(t,i)&&n.Sw(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),a(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},n.Rw=function(e,t,r){var i,s,c;if(a(t))for(i=0,s=t.length;i<s;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"==typeof t)for(c in t)y.call(t,c)&&n.Rw(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===o(r)?!a(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=h(e[t],r):e[t]!==String(r)||a(r)&&1!==r.length?a(e[t])&&(e[t]=h(e[t],r)):e[t]=void 0:e[t]=void 0}},n.ww=function(e,t,r,i){switch(o(t)){case"String":break;case"RegExp":for(var s in e)if(y.call(e,s)&&t.test(s)&&(void 0===r||n.ww(e,s,r)))return!0;return!1;case"Object":for(var h in t)if(y.call(t,h)&&!n.ww(e,h,t[h]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(a(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":if(!a(e[t]))return!1;return(i?c:u)(e[t],r);case"RegExp":return a(e[t])?!!i&&c(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return a(e[t])?!!i&&c(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.bw=function(){for(var e=[],t=[],r=0,i=0;i<arguments.length;i++){var s=new n(arguments[i]);e.push(s);for(var o=s.Cw(),a=0;a<o.length;a++)"string"==typeof o[a]&&t.push(o[a]),o[a]&&r++}if(!t.length||!r)return new n("");var h=new n("").Cw(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||h.path("/"+h.path()),h.normalize()},n._w=function(e,t){var r,i=Math.min(e.length,t.length);for(r=0;r<i;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},n.Pw=function(e,t,r){r||(r={});var i=r.start||n.IR.start,s=r.end||n.IR.end,o=r.trim||n.IR.trim,a=r.SR||n.IR.SR,h=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var u=c.index;if(r.Aw){var l=e.slice(Math.max(u-3,0),u);if(l&&h.test(l))continue}for(var p=u+e.slice(u).search(s),d=e.slice(u,p),f=-1;;){var g=a.exec(d);if(!g)break;var E=g.index+g[0].length;f=Math.max(f,E)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(o,""):d.replace(o,""),!(d.length<=c[0].length||r.Ow&&r.Ow.test(d))){p=u+d.length;var v=t(d,u,p,e);void 0!==v?(v=String(v),e=e.slice(0,u)+v+e.slice(p),i.lastIndex=u+v.length):i.lastIndex=p}}return i.lastIndex=0,e},n.Nw=function(t){if(t.match(n.OR)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.Dw(t).match(n.OR))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},n.wo=function(e){if(e){var t={lR:this.wo()};return i.kw&&"function"==typeof i.kw.wo&&(t.kw=i.kw.wo()),i.Lw&&"function"==typeof i.Lw.wo&&(t.Lw=i.Lw.wo()),i.Mw&&"function"==typeof i.Mw.wo&&(t.Mw=i.Mw.wo()),t}return i.lR===this&&(i.lR=E),this},v.Xg=function(e){return!0===e?this.Fw=!0:(void 0===e||this.Fw)&&(this.Uw=n.Xg(this.uR),this.Fw=!1),this},v.clone=function(){return new n(this)},v.valueOf=v.toString=function(){return this.Xg(!1).Uw},v.protocol=f("protocol"),v.username=f("username"),v.password=f("password"),v.hostname=f("hostname"),v.port=f("port"),v.query=g("query","?"),v.pR=g("fragment","#"),v.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},v.hash=function(e,t){var r=this.pR(e,t);return"string"==typeof r&&r.length?"#"+r:r},v.pathname=function(e,t){if(void 0===e||!0===e){var r=this.uR.path||(this.uR.hostname?"/":"");return e?(this.uR.urn?n.cw:n.hw)(r):r}return this.uR.urn?this.uR.path=e?n.lw(e):"":this.uR.path=e?n.uw(e):"/",this.Xg(!t),this},v.path=v.pathname,v.href=function(e,t){var r;if(void 0===e)return this.toString();this.Uw="",this.uR=n.uR();var i=e instanceof n,s="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[n.xR(e)]||"",s=!1}if(!i&&s&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this.uR=n.parse(String(e),this.uR);else{if(!i&&!s)throw new TypeError("invalid input");var o=i?e.uR:e;for(r in o)y.call(this.uR,r)&&(this.uR[r]=o[r])}return this.Xg(!t),this},v.is=function(e){var t=!1,i=!1,s=!1,o=!1,a=!1,h=!1,c=!1,u=!this.uR.urn;switch(this.uR.hostname&&(u=!1,i=n.yR.test(this.uR.hostname),s=n.TR.test(this.uR.hostname),t=i||s,o=!t,a=o&&r&&r.has(this.uR.hostname),h=o&&n.ER.test(this.uR.hostname),c=o&&n.vR.test(this.uR.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return s;case"idn":return h;case"url":return!this.uR.urn;case"urn":return!!this.uR.urn;case"punycode":return c}return null};var R=v.protocol,w=v.port,b=v.hostname;v.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(n.gR)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return R.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return w.call(this,e,t)},v.hostname=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0!==e){var r={};if("/"!==n.fw(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname}return b.call(this,e,t)},v.origin=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.Bw()?(r?r+"://":"")+this.Bw():""}var i=n(e);return this.protocol(i.protocol()).Bw(i.Bw()).Xg(!t),this},v.host=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e)return this.uR.hostname?n.yw(this.uR):"";if("/"!==n.fw(e,this.uR))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.Xg(!t),this},v.Bw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e)return this.uR.hostname?n.vw(this.uR):"";if("/"!==n.dw(e,this.uR))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.Xg(!t),this},v.Hw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){var r=n.Tw(this.uR);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),n.gw(e,this.uR),this.Xg(!t),this},v.xw=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=n.parse(e),this.uR.path=r.path,this.uR.query=r.query,this.uR.pR=r.pR,this.Xg(!t),this)},v.qw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var r=this.uR.hostname.length-this.domain().length-1;return this.uR.hostname.substring(0,r)||""}var i=this.uR.hostname.length-this.domain().length,o=this.uR.hostname.substring(0,i),a=new RegExp("^"+s(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&n.Nw(e),this.uR.hostname=this.uR.hostname.replace(a,e),this.Xg(!t),this},v.domain=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var r=this.uR.hostname.match(/\./g);if(r&&r.length<2)return this.uR.hostname;var i=this.uR.hostname.length-this.Gw(t).length-1;return i=this.uR.hostname.lastIndexOf(".",i-1)+1,this.uR.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(n.Nw(e),!this.uR.hostname||this.is("IP"))this.uR.hostname=e;else{var o=new RegExp(s(this.domain())+"$");this.uR.hostname=this.uR.hostname.replace(o,e)}return this.Xg(!t),this},v.Gw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var i=this.uR.hostname.lastIndexOf("."),n=this.uR.hostname.substring(i+1);return!0!==t&&r&&r.list[n.toLowerCase()]?r.get(this.uR.hostname)||n:n}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(s(this.Gw())+"$"),this.uR.hostname=this.uR.hostname.replace(o,e)}else{if(!this.uR.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(s(this.Gw())+"$"),this.uR.hostname=this.uR.hostname.replace(o,e)}return this.Xg(!t),this},v.Vw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.uR.path&&!this.uR.hostname)return"";if("/"===this.uR.path)return"/";var r=this.uR.path.length-this.filename().length-1,i=this.uR.path.substring(0,r)||(this.uR.hostname?"/":"");return e?n.hw(i):i}var o=this.uR.path.length-this.filename().length,a=this.uR.path.substring(0,o),h=new RegExp("^"+s(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=n.uw(e),this.uR.path=this.uR.path.replace(h,e),this.Xg(!t),this},v.filename=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this.uR.path||"/"===this.uR.path)return"";var r=this.uR.path.lastIndexOf("/"),i=this.uR.path.substring(r+1);return e?n.jw(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(s(this.filename())+"$");return e=n.uw(e),this.uR.path=this.uR.path.replace(a,e),o?this.Qw(t):this.Xg(!t),this},v.suffix=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.uR.path||"/"===this.uR.path)return"";var r,i,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(r=o.substring(a+1),i=/^[a-z0-9%]+$/i.test(r)?r:"",e?n.jw(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var h,c=this.suffix();if(c)h=e?new RegExp(s(c)+"$"):new RegExp(s("."+c)+"$");else{if(!e)return this;this.uR.path+="."+n.uw(e)}return h&&(e=n.uw(e),this.uR.path=this.uR.path.replace(h,e)),this.Xg(!t),this},v.Cw=function(e,t,r){var i=this.uR.urn?":":"/",n=this.path(),s="/"===n.substring(0,1),o=n.split(i);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(s&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t)){o=[];for(var h=0,c=t.length;h<c;h++)(t[h].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(l(t[h])))}else(t||"string"==typeof t)&&(t=l(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=l(t):o.splice(e,1);return s&&o.unshift(""),this.path(o.join(i),r)},v.Kw=function(e,t,r){var i,s,o;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(i=this.Cw(e,t,r),a(i))for(s=0,o=i.length;s<o;s++)i[s]=n.decode(i[s]);else i=void 0!==i?n.decode(i):void 0;return i}if(a(t))for(s=0,o=t.length;s<o;s++)t[s]=n.encode(t[s]);else t="string"==typeof t||t instanceof String?n.encode(t):t;return this.Cw(e,t,r)};var C=v.query;return v.query=function(e,t){if(!0===e)return n.Ew(this.uR.query,this.uR.fR);if("function"==typeof e){var r=n.Ew(this.uR.query,this.uR.fR),i=e.call(this,r);return this.uR.query=n.mw(i||r,this.uR.dR,this.uR.fR),this.Xg(!t),this}return void 0!==e&&"string"!=typeof e?(this.uR.query=n.mw(e,this.uR.dR,this.uR.fR),this.Xg(!t),this):C.call(this,e,t)},v.Yw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var s in e)y.call(e,s)&&(i[s]=e[s])}return this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.Sw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.Sw(i,e,void 0===t?null:t),this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.Rw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.Rw(i,e,t),this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.ww=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.ww(i,e,t,r)},v.Ww=v.Yw,v.zw=v.Sw,v.Jw=v.Rw,v.Xw=v.ww,v.normalize=function(){return this.uR.urn?this.eb(!1).Qw(!1).$w(!1).Zw(!1).Xg():this.eb(!1).rb(!1).tb(!1).Qw(!1).$w(!1).Zw(!1).Xg()},v.eb=function(e){return"string"==typeof this.uR.protocol&&(this.uR.protocol=this.uR.protocol.toLowerCase(),this.Xg(!e)),this},v.rb=function(r){return this.uR.hostname&&(this.is("IDN")&&e?this.uR.hostname=e.Dw(this.uR.hostname):this.is("IPv6")&&t&&(this.uR.hostname=t.ib(this.uR.hostname)),this.uR.hostname=this.uR.hostname.toLowerCase(),this.Xg(!r)),this},v.tb=function(e){return"string"==typeof this.uR.protocol&&this.uR.port===n.RR[this.uR.protocol]&&(this.uR.port=null,this.Xg(!e)),this},v.Qw=function(e){var t=this.uR.path;if(!t)return this;if(this.uR.urn)return this.uR.path=n.lw(this.uR.path),this.Xg(!e),this;if("/"===this.uR.path)return this;t=n.uw(t);var r,i,s,o="";for("/"!==t.charAt(0)&&(r=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(o=t.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);;){if(-1===(i=t.search(/\/\.\.(\/|$)/)))break;0!==i?(s=t.substring(0,i).lastIndexOf("/"),-1===s&&(s=i),t=t.substring(0,s)+t.substring(i+3)):t=t.substring(3)}return r&&this.is("relative")&&(t=o+t.substring(1)),this.uR.path=t,this.Xg(!e),this},v.nb=v.Qw,v.$w=function(e){return"string"==typeof this.uR.query&&(this.uR.query.length?this.query(n.Ew(this.uR.query,this.uR.fR)):this.uR.query=null,this.Xg(!e)),this},v.Zw=function(e){return this.uR.pR||(this.uR.pR=null,this.Xg(!e)),this},v.sb=v.$w,v.ob=v.Zw,v.qR=function(){var e=n.encode,t=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},v.GR=function(){var e=n.encode,t=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},v.ab=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t.uR.protocol&&(r+=t.uR.protocol+"://"),t.uR.hostname&&(t.is("punycode")&&e?(r+=e.hb(t.uR.hostname),t.uR.port&&(r+=":"+t.uR.port)):r+=t.host()),t.uR.hostname&&t.uR.path&&"/"!==t.uR.path.charAt(0)&&(r+="/"),r+=t.path(!0),t.uR.query){for(var i="",s=0,o=t.uR.query.split("&"),a=o.length;s<a;s++){var h=(o[s]||"").split("=");i+="&"+n.aw(h[0],this.uR.fR).replace(/&/g,"%26"),void 0!==h[1]&&(i+="="+n.aw(h[1],this.uR.fR).replace(/&/g,"%26"))}r+="?"+i.substring(1)}return r+=n.aw(t.hash(),!0)},v.Ph=function(e){var t,r,i,s=this.clone(),o=["protocol","username","password","hostname","port"];if(this.uR.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof n||(e=new n(e)),s.uR.protocol)return s;if(s.uR.protocol=e.uR.protocol,this.uR.hostname)return s;for(r=0;i=o[r];r++)s.uR[i]=e.uR[i];return s.uR.path?(".."===s.uR.path.substring(-2)&&(s.uR.path+="/"),"/"!==s.path().charAt(0)&&(t=e.Vw(),t=t||(0===e.path().indexOf("/")?"/":""),s.uR.path=(t?t+"/":"")+s.uR.path,s.Qw())):(s.uR.path=e.uR.path,s.uR.query||(s.uR.query=e.uR.query)),s.Xg(),s},v.cb=function(e){var t,r,i,s,o,a=this.clone().normalize();if(a.uR.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new n(e).normalize(),t=a.uR,r=e.uR,s=a.path(),o=e.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.Xg();if(null!==t.protocol||null!==t.username||null!==t.password)return a.Xg();if(t.hostname!==r.hostname||t.port!==r.port)return a.Xg();if(t.hostname=null,t.port=null,s===o)return t.path="",a.Xg();if(!(i=n._w(s,o)))return a.Xg();var h=r.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=h+t.path.substring(i.length)||"./",a.Xg()},v.cs=function(e){var t,r,i,s=this.clone(),o=new n(e),h={},c={},l={};if(s.normalize(),o.normalize(),s.toString()===o.toString())return!0;if(t=s.query(),r=o.query(),s.query(""),o.query(""),s.toString()!==o.toString())return!1;if(t.length!==r.length)return!1;h=n.Ew(t,this.uR.fR),c=n.Ew(r,this.uR.fR);for(i in h)if(y.call(h,i)){if(a(h[i])){if(!u(h[i],c[i]))return!1}else if(h[i]!==c[i])return!1;l[i]=!0}for(i in c)if(y.call(c,i)&&!l[i])return!1;return!0},v.dR=function(e){return this.uR.dR=!!e,this},v.fR=function(e){return this.uR.fR=!!e,this},n})},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(73),s=r(71),o=function(e){function t(r){var i=e.call(this,r)||this;return i.DONE=4,i.LOADING=3,i.HEADERS_RECEIVED=2,i.OPENED=1,i.UNSENT=0,i.internal=!1,i.id=t.Ag++,i}return i(t,e),t.prototype.send=function(){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");if(!this.sessionId){var e=Object.keys(t.ub);e.length>0&&(this.sessionId=t.ub[e[0]])}n.lb.Api().request(this,this.sessionId)},t.prototype.abort=function(){n.lb.Api().abort(this,this.sessionId)},t}(s.pb);o.ub={},o.Ag=0,t.HiveRequest=o},function(e,t,r){"use strict";var i=r(0),n=r(8),s=r(6),o=s.he.dh,a=function(){function e(){}return e.Reporting=function(){return e.app="STATS",i.Framework.resolve(n.pc.hc)},e.sp=function(){return this.app},e.getVersion=function(){return this.version},e}();a.version=o,t.Hive=a},function(module,exports,__webpack_require__){var Thrift={fb:"0.9.2",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},gb:{CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},Eb:function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t},vb:function(e,t,r){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.name=r||""}};Thrift.yb=function(e){this.message=e},Thrift.vb(Thrift.yb,Error,"TException"),Thrift.yb.prototype.Tb=function(){return this.message},Thrift.mb={Ib:0,Sb:1,Rb:2,wb:3,bb:4,Cb:5,_b:6,Pb:7,Ab:8,Ob:9,Nb:10},Thrift.Db=function(e,t){this.message=e,this.code="number"==typeof t?t:0},Thrift.vb(Thrift.Db,Thrift.yb,"TApplicationException"),Thrift.Db.prototype.read=function(e){for(;;){var t=e.kb();if(t.ftype==Thrift.Type.STOP)break;switch(t.fid){case 1:t.ftype==Thrift.Type.STRING?(t=e.Lb(),this.message=t.value):t=e.Mb(t.ftype);break;case 2:t.ftype==Thrift.Type.I32?(t=e.Fb(),this.code=t.value):t=e.Mb(t.ftype);break;default:t=e.Mb(t.ftype)}e.Ub()}e.Bb()},Thrift.Db.prototype.write=function(e){e.Hb("TApplicationException"),this.message&&(e.xb("message",Thrift.Type.STRING,1),e.qb(this.Tb()),e.Gb()),this.code&&(e.xb("type",Thrift.Type.I32,2),e.Vb(this.code),e.Gb()),e.jb(),e.Qb()},Thrift.Db.prototype.Kb=function(){return this.code},Thrift.Fa=Thrift.Yb=function(e,t){this.url=e,this.Wb=0,this.zb=0,this.Jb=t&&t.Jb,this.Xb="",this.Zb=""},Thrift.Yb.prototype={$b:function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw"Your browser doesn't support XHR."},flush:function(e,t){var r=this;if(e&&!t||void 0===this.url||""===this.url)return this.Xb;var i=this.$b();if(i.overrideMimeType&&i.overrideMimeType("application/json"),t&&(i.onreadystatechange=function(){var e=t;return function(){4==this.readyState&&200==this.status&&(r.eC(this.responseText),e())}}()),i.open("POST",this.url,!!e),i.send(this.Xb),!e||!t){if(4!=i.readyState)throw"encountered an unknown ajax ready state: "+i.readyState;if(200!=i.status)throw"encountered a unknown request status: "+i.status;this.Zb=i.responseText,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0}},rC:function(e,t,r,i){if("undefined"==typeof jQuery||void 0===jQuery.iC)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this;return jQuery.nC({url:this.url,data:t,type:"POST",sC:!1,contentType:"application/json",oC:"text thrift",aC:{hC:function(t){return n.eC(t),i.call(e)}},context:e,success:jQuery.cC(r).pop()})},eC:function(e){this.Zb=e,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.Wb-this.zb;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.uC.substr(this.zb,r);return this.zb+=r,i},lC:function(){return this.Zb},write:function(e){this.Xb=e},pC:function(){return this.Xb}},Thrift.dC=function(e){this.fC(e)},Thrift.dC.prototype={fC:function(e){this.url=e,this.gC=null,this.callbacks=[],this.EC=[],this.Xb="",this.Zb="",this.vC=0,this.yC=0},flush:function(e,t){var r=this;this.isOpen()?(this.gC.send(this.Xb),this.callbacks.push(function(){var e=t;return function(t){r.eC(t),e()}}())):this.EC.push({TC:this.Xb,mC:t})},IC:function(){var e=this;this.EC.length>0&&(this.EC.forEach(function(t){this.gC.send(t.TC),this.callbacks.push(function(){var r=t.mC;return function(t){e.eC(t),r()}}())}),this.EC=[])},SC:function(e){this.fC(this.url)},RC:function(e){this.callbacks.length&&this.callbacks.shift()(e.data)},wC:function(e){console.log("Thrift WebSocket Error: "+e.toString()),this.gC.close()},eC:function(e){this.Zb=e,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0},isOpen:function(){return this.gC&&this.gC.readyState==this.gC.OPEN},open:function(){this.gC&&this.gC.readyState!=this.gC.CLOSED||(this.gC=new WebSocket(this.url),this.gC.onopen=this.IC.bind(this),this.gC.onmessage=this.RC.bind(this),this.gC.onerror=this.wC.bind(this),this.gC.onclose=this.SC.bind(this))},close:function(){this.gC.close()},read:function(e){var t=this.Wb-this.zb;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.uC.substr(this.zb,r);return this.zb+=r,i},lC:function(){return this.Zb},write:function(e){this.Xb=e},pC:function(){return this.Xb}},Thrift.bC=Thrift.CC=function(e){this.yg=e},Thrift.CC.Type={},Thrift.CC.Type[Thrift.Type.BOOL]='"tf"',Thrift.CC.Type[Thrift.Type.BYTE]='"i8"',Thrift.CC.Type[Thrift.Type.I16]='"i16"',Thrift.CC.Type[Thrift.Type.I32]='"i32"',Thrift.CC.Type[Thrift.Type.I64]='"i64"',Thrift.CC.Type[Thrift.Type.DOUBLE]='"dbl"',Thrift.CC.Type[Thrift.Type.STRUCT]='"rec"',Thrift.CC.Type[Thrift.Type.STRING]='"str"',Thrift.CC.Type[Thrift.Type.MAP]='"map"',Thrift.CC.Type[Thrift.Type.LIST]='"lst"',Thrift.CC.Type[Thrift.Type.SET]='"set"',Thrift.CC._C={},Thrift.CC._C.tf=Thrift.Type.BOOL,Thrift.CC._C.i8=Thrift.Type.BYTE,Thrift.CC._C.i16=Thrift.Type.I16,Thrift.CC._C.i32=Thrift.Type.I32,Thrift.CC._C.i64=Thrift.Type.I64,Thrift.CC._C.dbl=Thrift.Type.DOUBLE,Thrift.CC._C.rec=Thrift.Type.STRUCT,Thrift.CC._C.str=Thrift.Type.STRING,Thrift.CC._C.map=Thrift.Type.MAP,Thrift.CC._C.lst=Thrift.Type.LIST,Thrift.CC._C.set=Thrift.Type.SET,Thrift.CC.fb=1,Thrift.CC.prototype={PC:function(){return this.yg},AC:function(e,t,r){this.OC=[],this.NC=[],this.OC.push([Thrift.CC.fb,'"'+e+'"',t,r])},DC:function(){var e=this.OC.pop();this.kC=this.OC.pop(),this.kC.push(e),this.LC="["+this.kC.join(",")+"]",this.yg.write(this.LC)},Hb:function(e){this.NC.push(this.OC.length),this.OC.push({})},Qb:function(){var e=this.NC.pop(),t=this.OC[e],r="{",i=!0;for(var n in t)i?i=!1:r+=",",r+=n+":"+t[n];r+="}",this.OC[e]=r},xb:function(e,t,r){this.NC.push(this.OC.length),this.OC.push({MC:'"'+r+'"',FC:Thrift.CC.Type[t]})},Gb:function(){var e=this.OC.pop(),t=this.OC.pop();this.OC[this.OC.length-1][t.MC]="{"+t.FC+":"+e+"}",this.NC.pop()},jb:function(){},UC:function(e,t,r){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],Thrift.CC.Type[t],0])},BC:function(){var e=this.NC.pop();if(e!=this.OC.length){(this.OC.length-e-1)%2!=0&&this.OC.push("");var t=(this.OC.length-e-1)/2;this.OC[e][this.OC[e].length-1]=t;for(var r="}",i=!0;this.OC.length>e+1;){var n=this.OC.pop(),s=this.OC.pop();i?i=!1:r=","+r,isNaN(s)||(s='"'+s+'"'),r=s+":"+n+r}r="{"+r,this.OC[e].push(r),this.OC[e]="["+this.OC[e].join(",")+"]"}},HC:function(e,t){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],t])},xC:function(){for(var e=this.NC.pop();this.OC.length>e+1;){var t=this.OC[e+1];this.OC.splice(e+1,1),this.OC[e].push(t)}this.OC[e]="["+this.OC[e].join(",")+"]"},qC:function(e,t){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],t])},GC:function(){for(var e=this.NC.pop();this.OC.length>e+1;){var t=this.OC[e+1];this.OC.splice(e+1,1),this.OC[e].push(t)}this.OC[e]="["+this.OC[e].join(",")+"]"},VC:function(e){this.OC.push(e?1:0)},jC:function(e){this.OC.push(e)},QC:function(e){this.OC.push(e)},Vb:function(e){this.OC.push(e)},KC:function(e){this.OC.push(e)},YC:function(e){this.OC.push(e)},qb:function(e){if(null===e)this.OC.push(null);else{for(var t="",r=0;r<e.length;r++){var i=e.charAt(r);t+='"'===i?'\\"':"\\"===i?"\\\\":"\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":i}this.OC.push('"'+t+'"')}},WC:function(e){this.qb(e)},zC:function(){this.JC=[],this.zb=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.XC=JSON.parse(this.yg.lC()):"undefined"!=typeof jQuery?this.XC=jQuery.ZC(this.yg.lC()):this.XC=eval(this.yg.lC());var r={},version=this.XC.shift();if(version!=Thrift.CC.fb)throw"Wrong thrift protocol version: "+version;return r.fname=this.XC.shift(),r.$C=this.XC.shift(),r.e_=this.XC.shift(),this.JC.push(this.XC.shift()),r},t_:function(){},r_:function(e){var t={};return t.fname="",this.JC[this.JC.length-1]instanceof Array&&this.JC.push(this.JC[this.JC.length-1].shift()),t},Bb:function(){this.JC[this.JC.length-2]instanceof Array&&this.JC.pop()},kb:function(){var e={},t=-1,r=Thrift.Type.STOP;for(var i in this.JC[this.JC.length-1])if(null!==i){t=parseInt(i,10),this.zb.push(this.JC.length);var n=this.JC[this.JC.length-1][t];delete this.JC[this.JC.length-1][t],this.JC.push(n);break}if(-1!=t)for(var s in this.JC[this.JC.length-1])null!==Thrift.CC._C[s]&&(r=Thrift.CC._C[s],this.JC[this.JC.length-1]=this.JC[this.JC.length-1][s]);return e.fname="",e.ftype=r,e.fid=t,e},Ub:function(){for(var e=this.zb.pop();this.JC.length>e;)this.JC.pop()},i_:function(){var e=this.JC.pop(),t=e.shift();t instanceof Array&&(this.JC.push(e),e=t,t=e.shift());var r={};return r.n_=Thrift.CC._C[t],r.s_=Thrift.CC._C[e.shift()],r.size=e.shift(),this.zb.push(this.JC.length),this.JC.push(e.shift()),r},o_:function(){this.Ub()},a_:function(){var e=this.JC[this.JC.length-1],t={};return t.h_=Thrift.CC._C[e.shift()],t.size=e.shift(),this.zb.push(this.JC.length),this.JC.push(e),t},c_:function(){this.Ub()},u_:function(e,t){return this.a_(e,t)},l_:function(){return this.c_()},p_:function(){var e=this.Fb();return null!==e&&"1"==e.value?e.value=!0:e.value=!1,e},d_:function(){return this.Fb()},f_:function(){return this.Fb()},Fb:function(e){void 0===e&&(e=this.JC[this.JC.length-1]);var t={};if(e instanceof Array)0===e.length?t.value=void 0:t.value=e.shift();else if(e instanceof Object){for(var r in e)if(null!==r){this.JC.push(e[r]),delete e[r],t.value=r;break}}else t.value=e,this.JC.pop();return t},g_:function(){return this.Fb()},E_:function(){return this.Fb()},Lb:function(){return this.Fb()},v_:function(){return this.Lb()},Mb:function(e){var t,r;switch(e){case Thrift.Type.STOP:return null;case Thrift.Type.BOOL:return this.p_();case Thrift.Type.BYTE:return this.d_();case Thrift.Type.I16:return this.f_();case Thrift.Type.I32:return this.Fb();case Thrift.Type.I64:return this.g_();case Thrift.Type.DOUBLE:return this.E_();case Thrift.Type.STRING:return this.Lb();case Thrift.Type.STRUCT:for(this.r_();;){if(t=this.kb(),t.ftype==Thrift.Type.STOP)break;this.Mb(t.ftype),this.Ub()}return this.Bb(),null;case Thrift.Type.MAP:for(t=this.i_(),r=0;r<t.size;r++)r>0&&this.JC.length>this.zb[this.zb.length-1]+1&&this.JC.pop(),this.Mb(t.n_),this.Mb(t.s_);return this.o_(),null;case Thrift.Type.SET:for(t=this.u_(),r=0;r<t.size;r++)this.Mb(t.h_);return this.l_(),null;case Thrift.Type.LIST:for(t=this.a_(),r=0;r<t.size;r++)this.Mb(t.h_);return this.c_(),null}}},Thrift.y_=function(e,t,r,i){Thrift.CC.call(this,t,r,i),this.T_=e},Thrift.vb(Thrift.y_,Thrift.CC,"multiplexProtocol"),Thrift.y_.prototype.AC=function(e,t,r){t===Thrift.gb.CALL||t===Thrift.gb.ONEWAY?Thrift.CC.prototype.AC.call(this,this.T_+":"+e,t,r):Thrift.CC.prototype.AC.call(this,e,t,r)},Thrift.m_=function(){this.I_=0},Thrift.m_.prototype.S_=function(e,t,r){t.ql&&(t=t.ql);var i=this;return t.prototype.R_=function(){return i.I_+=1,i.I_},new t(new Thrift.y_(e,r))},module.i=Thrift},function(e,t,r){"use strict";var i=r(9),n=r(28),s=n.cg,o=function(){function e(e,t,r,i,n,o,a,h){this.contextId=h,this.url=e,this.w_=r,this.b_=t,this.C_=i,this.duration=n,this.bitrate=o,this.__=a;var c=(this.contextId?this.contextId:this.url).replace(/http(s)?:\/\//,""),u=s.oT(c).toString(s.Uy.By);this.P_=u+"-"+this.C_+"-"+this.bitrate}return e.prototype.Xf=function(){return this.b_},e.prototype.A_=function(){return this.C_},e.prototype.getDuration=function(){return this.duration},e.prototype.getBitrate=function(){return this.bitrate},e.prototype.ig=function(){return this.__},e.prototype.O_=function(){return this.w_},e.prototype.Zf=function(){return this.P_},e.prototype.tg=function(){return this.url},e.prototype.toString=function(){return i.vc[this.Xf()]+"-"+this.Zf()},e}();t.N_=o},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.D_),void 0===t&&(t=n.k_),void 0===r&&(r=n.L_),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.M_=-1,this.F_=e,this.U_=void 0!==t&&!!t,this.B_=!!r};n.VERSION="3.5.5",n.H_=!0,n.x_=!1,n.D_=16,n.k_=n.x_,n.L_=!1,n.q_=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.G_=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.V_(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].F_-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.F_-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.F_),u.offset),u.offset+=s);return u.F_=u.offset,u.offset=0,u},n.V_=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.j_(e,r);case"hex":return n.Q_(e,r);case"binary":return n.K_(e,r);case"utf8":return n.Y_(e,r);case"debug":return n.W_(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.V_(e))return a=s.clone.call(e),a.M_=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.F_=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.F_=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.F_=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.z_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.jC=s.z_,s.J_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.d_=s.J_,s.X_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.Z_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.eP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.U_),r&&(this.offset+=2),this},s.tP=s.eP,s.rP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.U_);return t&&(this.offset+=2),r},s.iP=s.rP,s.nP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.U_),r&&(this.offset+=2),this},s.sP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.U_);return t&&(this.offset+=2),r},s.oP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.U_),r&&(this.offset+=4),this},s.Bg=s.oP,s.aP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.U_);return t&&(this.offset+=4),r},s.Qg=s.aP,s.hP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.U_),r&&(this.offset+=4),this},s.cP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.U_);return t&&(this.offset+=4),r},e&&(s.uP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.lP=s.uP,s.pP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.dP=s.pP,s.fP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.gP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.EP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.U_),r&&(this.offset+=4),this},s.vP=s.EP,s.yP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.U_);return t&&(this.offset+=4),r},s.TP=s.yP,s.mP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.U_),r&&(this.offset+=8),this},s.YC=s.mP,s.IP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.U_);return t&&(this.offset+=8),r},s.E_=s.IP,n.SP=5,n.RP=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.wP=function(e){return((e|=0)<<1^e>>31)>>>0},n.bP=function(e){return e>>>1^-(1&e)|0},s.CP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.RP(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s._P=function(e,t){return this.CP(n.wP(e),t)},s.PP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.B_&&i>this.F_){var o=Error("Truncated");throw o.AP=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.OP=function(e){var t=this.PP(e);return"object"==typeof t?t.value=n.bP(t.value):t=n.bP(t),t},e&&(n.NP=10,n.DP=function(t){"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t));var r=t.kP()>>>0,i=t.LP(28).kP()>>>0,n=t.LP(56).kP()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.MP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.shiftLeft(1).pT(t.HP(63)).BP()},n.xP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.LP(1).pT(t.qP(e.ONE).UP().qE()).UP()},s.GP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP());var s=n.DP(t),o=t.kP()>>>0,a=t.LP(28).kP()>>>0,h=t.LP(56).kP()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.VP=function(e,t){return this.GP(n.MP(e),t)},s.jP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.qI(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.QP=function(t){var r=this.jP(t);return r&&r.value instanceof e?r.value=n.xP(r.value):r=n.xP(r),r}),s.Hg=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.KP(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.Yg=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.WP(function(){if(0===s)return null;if(e>=this.F_)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.F_);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},s.zP=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e),this.B_)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.U_),r+=4,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.JP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.U_),e+=4;var o,a=e+n;return c.WP(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.B_),i=o(),t?(this.offset=e,i):{string:i,length:e-s}},n.XP="c",n.ZP="b",s.$P=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.qb=s.$P,n.eA=function(e){return c.KP(t(e))[0]},n.tA=function(e){return c.KP(t(e))[1]},s.rA=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.XP),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.XP){if(o=r(),c.iA(function(){return a<e&&i<this.F_?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.nA(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{string:o(),length:i-h}}if(t===n.ZP){if(!this.B_){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.WP(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.B_),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.Lb=s.rA,s.sA=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.KP(t(e),this.B_)[1],o=n.RP(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.CP(s,r),c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.oA=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.PP(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.WP(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.B_),i=a(),t?(this.offset=e,i):{string:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.F_)),e.offset+=s,i&&(this.offset+=s),this},s.aA=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.B_=!e,this},s.hA=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.F_=this.buffer.byteLength,this.M_=-1,this},s.clone=function(e){var t=new n(0,this.U_,this.B_);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.M_=this.M_,t.F_=this.F_,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=r,this},s.cA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.U_,this.B_);var r=t-e,i=new n(r,this.U_,this.B_);return i.offset=0,i.F_=r,i.M_>=0&&(i.M_-=e),this.jE(i,0,e,t),i},s.jE=function(e,t,r,i){var s,o;if(!this.B_&&!n.V_(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.F_:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.uA(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.uA=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.xg=function(){return this.F_=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.M_=e,this},s.order=function(e){if(!this.B_&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.U_=!!e,this},s.lA=function(e){return this.U_=void 0===e||!!e,this},s.pA=function(e){return this.U_=void 0!==e&&!e,this},s.dA=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.M_>=0&&(this.M_+=a),this.F_+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.F_),r-s),e.offset=e.F_,i&&(this.offset-=s),this},s.fA=function(e,t){return e.dA(this,t),this},s.gA=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.EA(!0))},s.vA=function(){return this.F_-this.offset},s.reset=function(){return this.M_>=0?(this.offset=this.M_,this.M_=-1):this.offset=0,this},s.resize=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.Mb=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.B_&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.F_=t,r},s.yA=function(e){var t=this.offset,r=this.F_;if(t>r){var i=t;t=r,r=i}if(!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.tc=s.yA,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.M_+",limit="+this.F_+",capacity="+this.hA()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.TA(t,r);case"base64":return this.mA(t,r);case"hex":return this.IA(t,r);case"binary":return this.SA(t,r);case"debug":return this.EA();case"columns":return this.RA();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.mA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.j_=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n.btoa=function(e){return n.K_(e).mA()},n.atob=function(e){return n.j_(e).SA()},s.SA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.K_=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.F_=o,a},s.EA=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.F_?n+=r===this.M_?"!":"|":r===this.offset?n+=r===this.M_?"[":"<":r===this.F_?n+=r===this.M_?"]":">":n+=r===this.M_?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.W_=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,d=!1,f=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||d){f=!0;break}l=p=d=!0}a.offset=a.M_=a.F_=c,u=!1;break;case"|":if(!r){if(l||d){f=!0;break}l=d=!0}a.offset=a.F_=c,u=!1;break;case"[":if(!r){if(l||p){f=!0;break}l=p=!0}a.offset=a.M_=c,u=!1;break;case"<":if(!r){if(l){f=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(d||p){f=!0;break}d=p=!0}a.F_=a.M_=c,u=!1;break;case">":if(!r){if(d){f=!0;break}d=!0}a.F_=c,u=!1;break;case"'":if(!r){if(p){f=!0;break}p=!0}a.M_=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){f=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(f)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.IA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.Q_=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.F_=h,o};var c=function(){var e={};return e.wA=1114111,e.bA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.iA=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.CA=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.nA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.YP=function(t,r){e.CA(t,function(t){e.bA(t,r)})},e.WP=function(t,r){e.iA(t,function(t){e.nA(t,r)})},e._A=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.PA=function(t){for(var r,i=0;null!==(r=t());)i+=e._A(r);return i},e.KP=function(t){var r=0,i=0;return e.CA(t,function(t){++r,i+=e._A(t)}),[r,i]},e}();return s.TA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.WP(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.Y_=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.KP(t(e),!0)[1],r,i),o=0;return c.YP(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=function(){var e;try{e=r(93)}catch(e){}return a(e)}():(n=[r(94)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){"use strict";var i=r(37);e.i=Object,Object.empty=Object.freeze(Object.create(null)),Object.au=function(e){return Object(e)===e},Object.AA=function(e){return e&&"function"==typeof e.valueOf&&(e=e.valueOf()),e};var n=new i;Object.hash=function(e){return e&&"function"==typeof e.hash?""+e.hash():Object(e)===e?(n.has(e)||n.set(e,Math.random().toString(36).slice(2)),n.get(e)):""+e};var s=Object.prototype.hasOwnProperty;Object.OA=function(e,t){return s.call(e,t)},Object.has=function(e,t){if("object"!=typeof e)throw new Error("Object.has can't accept non-object: "+typeof e);if(e&&"function"==typeof e.has)return e.has(t);if("string"==typeof t)return t in e&&e[t]!==Object.prototype[t];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(e,t,r){if("object"!=typeof e)throw new Error("Object.get can't accept non-object: "+typeof e);return e&&"function"==typeof e.get?e.get(t,r):Object.has(e,t)?e[t]:r},Object.set=function(e,t,r){e&&"function"==typeof e.set?e.set(t,r):e[t]=r},Object.addEach=function(e,t){if(t)if("function"!=typeof t.forEach||t.hasOwnProperty("forEach"))if("number"==typeof t.length)for(var r=0;r<t.length;r++)e[r]=t[r];else Object.keys(t).forEach(function(r){e[r]=t[r]});else!0===t.isMap?t.forEach(function(t,r){e[r]=t}):t.forEach(function(t){e[t[0]]=t[1]});else;return e},Object.forEach=function(e,t,r){for(var i,n=Object.keys(e),s=0;i=n[s];s++)t.call(r,e[i],i,e)},Object.map=function(e,t,r){for(var i,n=Object.keys(e),s=0,o=[];i=n[s];s++)o.push(t.call(r,e[i],i,e));return o},Object.values=function(e){return Object.map(e,Function.identity)},Object.concat=function(){for(var e={},t=0;t<arguments.length;t++)Object.addEach(e,arguments[t]);return e},Object.from=Object.concat,Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},Object.cs=function(e,t,r,n){if(r=r||Object.cs,e=Object.AA(e),t=Object.AA(t),e===t)return!0;if(Object.au(e)){if(n=n||new i,n.has(e))return!0;n.set(e,!0)}if(Object.au(e)&&"function"==typeof e.cs)return e.cs(t,r,n);if(Object.au(t)&&"function"==typeof t.cs)return t.cs(e,r,n);if(Object.au(e)&&Object.au(t)&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){for(var s in e)if(!r(e[s],t[s],r,n))return!1;for(var s in t)if(!(s in e&&r(t[s],e[s],r,n)))return!1;return!0}return e!==e&&t!==t||(!e||!t)&&e===t},Object.Oc=function(e,t){if(e=Object.AA(e),t=Object.AA(t),e===t)return 0;var r=typeof e,i=typeof t;return"number"===r&&"number"===i?e-t:"string"===r&&"string"===i?e<t?-1/0:1/0:e&&"function"==typeof e.Oc?e.Oc(t):t&&"function"==typeof t.Oc?-t.Oc(e):0},Object.clone=function(e,t,r){if(e=Object.AA(e),r=r||new i,void 0===t)t=1/0;else if(0===t)return e;if(Object.au(e)){if(!r.has(e))if(e&&"function"==typeof e.clone)r.set(e,e.clone(t,r));else{var n=Object.getPrototypeOf(e);if(null!==n&&n!==Object.prototype)throw new Error("Can't clone "+e);var s=Object.create(n);r.set(e,s);for(var o in e)s[o]=Object.clone(e[o],t-1,r)}return r.get(e)}return e},Object.clear=function(e){if(e&&"function"==typeof e.clear)e.clear();else for(var t=Object.keys(e),r=t.length;r;)r--,delete e[t[r]];return e}},function(e,t){!function(){"use strict";function t(e){e.NA&&e.NA(t)}function r(e){return!(e.substr(0,d.length)==d&&"___"===e.substr(e.length-3))}function i(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[f];if(t&&t.key===e)return t;if(p(e)){t={key:e};try{return l(e,f,{value:t,Ah:!1,p:!1,l:!1}),t}catch(e){return}}}function n(e){return e.prototype=null,Object.freeze(e)}function s(){y||"undefined"==typeof console||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.DA=t);var o=!1;if("function"==typeof WeakMap){var a=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var h=new a,c=Object.freeze({});if(h.set(c,1),1===h.get(c))return void(e.i=WeakMap);o=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),l=Object.defineProperty,p=Object.isExtensible,d="weakmap:",f=d+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var g=new ArrayBuffer(25),E=new Uint8Array(g);crypto.getRandomValues(E),f=d+"rand:"+Array.prototype.map.call(E,function(e){return(e%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(r)}}),"getPropertyNames"in Object){var v=Object.kA;l(Object,"getPropertyNames",{value:function(e){return v(e).filter(r)}})}!function(){var e=Object.freeze;l(Object,"freeze",{value:function(t){return i(t),e(t)}});var t=Object.seal;l(Object,"seal",{value:function(e){return i(e),t(e)}});var r=Object.preventExtensions;l(Object,"preventExtensions",{value:function(e){return i(e),r(e)}})}();var y=!1,T=0,m=function(){function e(e,t){var r,n=i(e);return n?c in n?n[c]:t:(r=a.indexOf(e),r>=0?h[r]:t)}function t(e){var t=i(e);return t?c in t:a.indexOf(e)>=0}function r(e,t){var r,n=i(e);return n?n[c]=t:(r=a.indexOf(e),r>=0?h[r]=t:(r=a.length,h[r]=t,a[r]=e)),this}function o(e){var t,r,n=i(e);return n?c in n&&delete n[c]:!((t=a.indexOf(e))<0)&&(r=a.length-1,a[t]=void 0,h[t]=h[r],a[t]=a[r],a.length=r,h.length=r,!0)}this instanceof m||s();var a=[],h=[],c=T++;return Object.create(m.prototype,{LA:{value:n(e)},MA:{value:n(t)},FA:{value:n(r)},UA:{value:n(o)}})};m.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.LA(e,t)},Ah:!0,l:!0},has:{value:function(e){return this.MA(e)},Ah:!0,l:!0},set:{value:function(e,t){return this.FA(e,t)},Ah:!0,l:!0},delete:{value:function(e){return this.UA(e)},Ah:!0,l:!0}}),"function"==typeof a?function(){function r(){function e(e,t){return u?c.has(e)?c.get(e):u.LA(e,t):c.get(e,t)}function r(e){return c.has(e)||!!u&&u.MA(e)}function i(e){var t=!!c.delete(e);return u?u.UA(e)||t:t}this instanceof m||s();var h,c=new a,u=void 0,l=!1;return h=o?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new m),u.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(r){u||(u=new m),u.FA(e,t)}else c.set(e,t);return this},Object.create(m.prototype,{LA:{value:n(e)},MA:{value:n(r)},FA:{value:n(h)},UA:{value:n(i)},NA:{value:n(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");l=!0})}})}o&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=m.prototype,e.i=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,p:!1,l:!0,Ah:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.i=m)}}()},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. RangeChanges is a mixin.")}var n=r(37),s=r(51),o=new n;e.i=i,i.prototype.BA=function(){return o.has(this)||o.set(this,s()),o.get(this)},i.prototype.HA=function(e){var t=this.BA();return e=e||"",t.has(e)||t.set(e,{isActive:!1,Wc:[],Yc:[]}),t.get(e)},i.prototype.xA=function(e,t,r){!this.Zc&&this.Xc&&this.Xc();var i,n=this.HA(t);i=r?n.Yc:n.Wc,i.push(e),Object.defineProperty(this,"dispatchesRangeChanges",{value:!0,Ah:!0,l:!0,p:!1});var s=this;return function(){s&&(s.qA(e,t,r),s=null)}},i.prototype.qA=function(e,t,r){var i,n=this.HA(t);i=r?n.Yc:n.Wc;var s=i.lastIndexOf(e);if(-1===s)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(t));i.splice(s,1)},i.prototype.GA=function(e,t,r,i){var n="Range"+(i?"WillChange":"Change");this.BA().forEach(function(s,o){if(!s.isActive){s.isActive=!0;var a;a=i?s.Yc:s.Wc;var h="handle"+(o.slice(0,1).toUpperCase()+o.slice(1))+n;try{a.slice().forEach(function(n){if(!(a.indexOf(n)<0))if(n[h])n[h](e,t,r,this,i);else{if(!n.call)throw new Error("Handler "+n+" has no method "+h+" and is not callable");n.call(this,e,t,r,this,i)}},this)}finally{s.isActive=!1}}},this)},i.prototype.VA=function(e,t){return this.xA(e,t,!0)},i.prototype.jA=function(e,t){return this.qA(e,t,!0)},i.prototype.QA=function(e,t,r){return this.GA(e,t,r,!0)}},function(e,t){function r(){throw new Error("Can't construct. GenericSet is a mixin.")}e.i=r,r.prototype.KA=!0,r.prototype.YA=function(e){var t=this.Es(this);return t.addEach(e),t},r.prototype.WA=function(e){return this.Es(this.filter(function(t){return e.has(t)}))},r.prototype.zA=function(e){var t=this.Es(this);return t._c(e),t},r.prototype.JA=function(e){var t=this.YA(e),r=this.WA(e);return t.zA(r)},r.prototype.XA=function(e){return+this.delete(e)},r.prototype.cs=function(e,t){var r=this;return e&&"function"==typeof e.reduce&&this.length===e.length&&e.reduce(function(e,i){return e&&r.has(i,t)},!0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.contains=function(e){return this.has(e)},r.prototype.remove=function(e){return this.delete(e)},r.prototype.toggle=function(e){this.has(e)?this.delete(e):this.add(e)}},function(e,t,r){var i,i;!function(t){e.i=t()}(function(){return function e(t,r,n){function s(a,h){if(!r[a]){if(!t[a]){var c="function"==typeof i&&i;if(!h&&c)return i(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={i:{}};t[a][0].call(l.i,function(e){var r=t[a][1][e];return s(r||e)},l,l.i,e,t,r,n)}return r[a].i}for(var o="function"==typeof i&&i,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){var i=e("./kernel");r.D=i.D;var n=e("./type_binding");r.ZA=n.ZA;var s=e("./type_binding_scope");r.$A=s.$A},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(e,t,r){var i=e("./type_binding_scope"),n=e("./lookup"),s=function(){function e(){this.eO=new n.tO}return e.prototype.bind=function(e){this.eO.add(e.rO,e)},e.prototype.iO=function(e){try{this.eO.remove(e)}catch(t){throw new Error("Could not resolve service "+e)}},e.prototype.N=function(){this.eO=new n.tO},e.prototype.resolve=function(e){var t;if(!this.eO.nO(e))return null;t=this.eO.get(e);var r=t[0];if(r.scope===i.$A.sO&&null!==r.sC)return r.sC;var n=this.oO(r.aO);return r.sC=n,n},e.prototype.hO=function(e){var t,r,i,n,s,o;return s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,t=e.toString().replace(s,""),r=t.indexOf("(")+1,i=t.indexOf(")"),n="function"==typeof Map&&-1!==t.indexOf("class")&&-1===t.indexOf("constructor")?null:t.slice(r,i).match(o),null===n&&(n=[]),n},e.prototype.oO=function(e){var t=this.hO(e);if(0===t.length)return new e;for(var r=[],i=null,n=0;n<t.length;n++){var s=t[n];i=this.resolve(s),r.push(i)}return this.cO(e,r)},e.prototype.cO=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},e}();r.D=s},{"./lookup":3,"./type_binding_scope":5}],3:[function(e,t,r){var i=function(){function e(e,t){this.key=e,this.value=new Array,this.value.push(t)}return e}(),n=function(){function e(){this.uO=new Array}return e.prototype.lO=function(e){for(var t=-1,r=0;r<this.uO.length;r++){this.uO[r].key===e&&(t=r)}return t},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error("Argument Null");if(null===t||void 0===t)throw new Error("Argument Null");var r=this.lO(e);if(-1!==r){var n=this.uO[r];n.key===e&&n.value.push(t)}else this.uO.push(new i(e,t))},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.lO(e);if(-1===t)throw new Error("Key Not Found");var r=this.uO[t];return r.key===e?r.value:void 0},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.lO(e);if(-1===t)throw new Error("Key Not Found");this.uO.splice(t,1)},e.prototype.nO=function(e){if(null===e||void 0===e)throw new Error("Argument Null");return-1!==this.lO(e)},e}();r.tO=n},{}],4:[function(e,t,r){var i=e("./type_binding_scope"),n=function(){function e(e,t,r){if(this.rO=e,this.aO=t,this.sC=null,void 0===r)this.scope=i.$A.pO;else{if(!i.$A[r]){var n="Invalid scope type "+r;throw new Error(n)}this.scope=r}}return e}();r.ZA=n},{"./type_binding_scope":5}],5:[function(e,t,r){var i;!function(e){e[e.pO=0]="Transient",e[e.sO=1]="Singleton"}(i||(i={})),r.$A=i},{}]},{},[1])(1)})},function(e,t,r){"use strict";var i;!function(e){var t=function(){function e(){}return e}();t.LoggerTimestamp=!0,e.Framework=t;var r=function(){function e(){}return e}();r.MetricSnapshotLogs=0,r.TrackSnapshotLogs=0,e.DebugLogs=r}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework,window.HiveConfig.DebugLogs=i.DebugLogs)},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.dO="127.0.0.1",i.vp=8999,i.Ep=8998,i.gp=8899,i.dp=8898,i.fO="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i.gO="//{0}:{1}/?callback={2}",i.yp=!0,i.EO=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.vO="2013.1.1",i.yO="2018.1",t.fp=i},function(e,t,r){"use strict";var i=function(){function e(){this.count=0}return e.prototype.next=function(){return++this.count},e}();t.Counter=i;var n=function(){function e(){this.reset()}return e.prototype.add=function(e){e<=0||(this.TO+=e,this.mO++,e>this.IO&&(this.IO=e),e<this.SO&&(this.SO=e))},e.prototype.min=function(e){void 0===e&&(e=!0);var t=this.SO==Number.POSITIVE_INFINITY?0:this.SO;return e&&this.reset(),t},e.prototype.max=function(e){void 0===e&&(e=!0);var t=this.IO==Number.NEGATIVE_INFINITY?0:this.IO;return e&&this.reset(),t},e.prototype.Nc=function(e){void 0===e&&(e=!0);var t=this.TO;return e&&this.reset(),t},e.prototype.ec=function(e){void 0===e&&(e=!0);var t=this.mO>0?this.TO/this.mO:0;return e&&this.reset(),t},e.prototype.reset=function(){this.SO=Number.POSITIVE_INFINITY,this.IO=Number.NEGATIVE_INFINITY,this.TO=0,this.mO=0},e}();t.RO=n},function(e,t,r){var i;!function(n,s){"use strict";var o="model",a="name",h="type",c="vendor",u="version",l="mobile",p="tablet",d={extend:function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},wO:function(e){return e.toLowerCase()},bO:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={CO:function(){for(var e,t,r,i,n,s,o,a=0,h=arguments;a<h.length&&!s;){var c=h[a],u=h[a+1];if(void 0===e){e={};for(i in u)u.hasOwnProperty(i)&&(n=u[i],"object"==typeof n?e[n[0]]=void 0:e[n]=void 0)}for(t=r=0;t<c.length&&!s;)if(s=c[t++].exec(this._O()))for(i=0;i<u.length;i++)o=s[++r],n=u[i],"object"==typeof n&&n.length>0?2==n.length?"function"==typeof n[1]?e[n[0]]=n[1].call(this,o):e[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?e[n[0]]=o?o.replace(n[1],n[2]):void 0:e[n[0]]=o?n[1].call(this,o,n[2]):void 0:4==n.length&&(e[n[0]]=o?n[3].call(this,o.replace(n[1],n[2])):void 0):e[n]=o||void 0;a+=2}return e},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(d.has(t[r][i],e))return"?"===r?void 0:r}else if(d.has(t[r],e))return"?"===r?void 0:r;return e}},g={Qu:{PO:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",QR:"/"}}},AO:{OO:{NO:{DO:["SD","KF"]}},kO:{NO:{LO:"7373KT"},vendor:{MO:"APA",FO:"Sprint"}}},os:{UO:{version:{BO:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",HO:["NT 5.1","NT 5.2"],xO:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],qO:"ARM"}}}},E={Qu:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,f.str,g.Qu.PO.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],GO:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.wO]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.wO]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.wO]]],AO:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,c,[h,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[c,"Apple"],[h,p]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,o,[h,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[c,"Amazon"],[h,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,f.str,g.AO.OO.NO],[c,"Amazon"],[h,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,c,[h,l]],[/\((ip[honed|\s\w*]+);/i],[o,[c,"Apple"],[h,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,o,[h,l]],[/\(bb10;\s(\w+)/i],[o,[c,"BlackBerry"],[h,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[c,"Asus"],[h,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[o,"Xperia Tablet"],[h,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[o,"Xperia Phone"],[h,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,o,[h,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[c,"Nvidia"],[h,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[c,"Sony"],[h,"console"]],[/(sprint\s(\w+))/i],[[c,f.str,g.AO.kO.vendor],[o,f.str,g.AO.kO.NO],[h,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,o,[h,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[o,/_/g," "],[h,l]],[/(nexus\s9)/i],[o,[c,"HTC"],[h,p]],[/(nexus\s6p)/i],[o,[c,"Huawei"],[h,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,o,[h,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[c,"Microsoft"],[h,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,"Microsoft"],[h,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[c,"Motorola"],[h,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[c,"Motorola"],[h,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,d.trim],[o,d.trim],[h,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,"Samsung"],[h,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[c,"Sharp"],[h,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],o,[h,p]],[/smart-tv.+(samsung)/i],[c,[h,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],o,[h,l]],[/sie-(\w+)*/i],[o,[c,"Siemens"],[h,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],o,[h,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[c,"Acer"],[h,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],o,[h,p]],[/(lg) netcast\.tv/i],[c,o,[h,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[o,[c,"LG"],[h,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[c,"Lenovo"],[h,p]],[/linux;.+((jolla));/i],[c,o,[h,l]],[/((pebble))app\/[\d\.]+\s/i],[c,o,[h,"wearable"]],[/android.+;\s(glass)\s\d/i],[o,[c,"Google"],[h,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[o,/_/g," "],[c,"Xiaomi"],[h,l]],[/android.+a000(1)\s+build/i],[o,[c,"OnePlus"],[h,l]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,d.wO],c,o]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,f.str,g.os.UO.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,f.str,g.os.UO.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},v=function(e,t){if(!(this instanceof v))return new v(e,t).VO();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?d.extend(E,t):E;return this.jO=function(){var e=f.CO.apply(this,i.Qu);return e.bO=d.bO(e.version),e},this.QO=function(){return f.CO.apply(this,i.GO)},this.KO=function(){return f.CO.apply(this,i.AO)},this.YO=function(){return f.CO.apply(this,i.engine)},this.Od=function(){return f.CO.apply(this,i.os)},this.VO=function(){return{sy:this._O(),Qu:this.jO(),engine:this.YO(),os:this.Od(),AO:this.KO(),GO:this.QO()}},this._O=function(){return r},this.Ad=function(e){return r=e,this},this};v.VERSION="0.7.12",v.WO={zO:a,JO:"major",VERSION:u},v.XO={ZO:"architecture"},v.$O={eN:o,VENDOR:c,tN:h,rN:"console",iN:l,nN:"smarttv",sN:p,oN:"wearable",aN:"embedded"},v.hN={zO:a,VERSION:u},v.cN={zO:a,VERSION:u},void 0!==t?(void 0!==e&&e.i&&(t=e.i=v),t.Pp=v):r(110)?void 0!==(i=function(){return v}.call(t,r,t,e))&&(e.i=i):n.Pp=v;var y=n.uN||n.lN;if(void 0!==y){var T=new v;y.sy=T.VO(),y.sy.get=function(){return T._O()},y.sy.set=function(e){T.Ad(e);var t=T.VO();for(var r in t)y.sy[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";var i=r(41),n=r(3);!function(e){var t;!function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warn=2]="warn",e[e.notice=3]="notice",e[e.info=4]="info",e[e.debug=5]="debug",e[e.trace=6]="trace"}(t=e.pN||(e.pN={}));var r=function(){function e(){this.timestamp=function(){},this.dN=new n,this.level=t.debug,this.timestamp.toString=function(){var e=new Date;return"["+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)+":"+("00"+e.getUTCMilliseconds()).slice(-3)+"]"},this.logger="undefined"==typeof console?{log:function(){}}:console,this.logger.trace||(this.logger.trace=this.logger.log),this.logger.debug||(this.logger.debug=this.logger.log),this.logger.info||(this.logger.info=this.logger.log),this.logger.warn||(this.logger.warn=this.logger.log),this.logger.error||(this.logger.error=this.logger.log),this.fN(t[this.level])}return e.prototype.fN=function(e,r){i.HiveConfig.Framework.HiveDebugLevel&&void 0!=t[i.HiveConfig.Framework.HiveDebugLevel]?this.level=t[i.HiveConfig.Framework.HiveDebugLevel]:void 0!=t[e]?this.level=t[e]:console.log("Wrong logging level: "+e,t),this.gN(r)},e.prototype.gN=function(e){var r={log:this.EN(this.logger.log,t.error,e),error:this.EN(this.logger.error,t.error,e),warn:this.EN(this.logger.warn,t.warn,e),notice:this.EN(this.logger.info,t.notice,e),info:this.EN(this.logger.info,t.info,e),debug:this.EN(this.logger.debug,t.debug,e),trace:this.EN(this.logger.trace,t.trace,e)};e?this.dN.set(e,r):this.vN=r},e.prototype.EN=function(e,t,r){if(!(this.level>=t))return function(){};try{return i.HiveConfig.Framework.LoggerTimestamp?r?Function.prototype.bind.call(e,console,"S["+r+"] %s",this.timestamp):Function.prototype.bind.call(e,console,"%s",this.timestamp):r?Function.prototype.bind.call(e,console,"S["+r+"]"):Function.prototype.bind.call(e,console)}catch(e){}},e.prototype.log=function(e){return e?(this.dN.has(e)||this.fN(t[this.level],e),this.dN.get(e)):this.vN},e}();e.yN=r}(t.TN||(t.TN={}))},function(e,t,r){"use strict";var i=r(30),n=r(28),s=n.sR,o=n.oR,a=function(){function e(){this.SourceURLParams={},this.testId=null}return e.prototype.mN=function(e){for(var t in e)if("SourceURLParams"===t)for(var r in e[t])this[t][r]=e[t][r];else this[t]=e[t];this.IN()},e.prototype.SN=function(){var e=this.ContentId+this.SiteId+this.CROId+this.SourceURL,t=new s;t.Nv("b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253","010001");var r=o(this.Signature);return t.ZS(e,r)},e.prototype.RN=function(e){this.ticketUrl=e;var t=i.parse(e),r=t.path.split("/").slice(3);if(this.SiteId=r[0],this.CROId=r[1],this.ContentId=r[2],this.wN=r[3],t.query)try{var n=t.query.split("&");for(var s in n){var o=n[s].split(/=(.+)/);this.SourceURLParams[o[0]]=o[1]}}catch(e){}this.bN=e.indexOf("api-test")>-1},e.prototype.up=function(){return this.SiteId},e.prototype.cp=function(){return this.CROId},e.prototype.hp=function(){return this.ContentId},e.prototype.CN=function(){return this.wN},e.prototype._N=function(){return this.SourceURL},e.prototype.PN=function(){if(this.AN=this.SourceURL,void 0!=this.SourceURLParams){var e=new Array;for(var t in this.SourceURLParams)e.push(t+"="+this.SourceURLParams[t]);e.length>0&&this.AN&&(this.AN+=(this.AN.indexOf("?")>0?"&":"?")+e.join("&"))}},e.prototype.IN=function(){var e=r(78);this.sessionId=e.ON()},e.prototype.NN=function(){return this.AN||this.PN(),this.AN},e.prototype.kd=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.DN=function(){return[this.SiteId,this.CROId,this.ContentId]},e.prototype.kN=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.toString=function(){return this.kd()},e}();a.LN="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.MN="CROId",a.FN="SiteId",a.UN="ContentId",t.BN=a},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.HN=55,i.xN=6e5,i.qN=5,i.GN=5,i.VN=5,i.jN=10,i.QN="dist",i.KN="./scenarios/BrokenUdp",i.YN=null,i.WN=null,i.zN=null,i.JN=!0,i.XN=!0,i.ZN=6e4,t.$N=i;var n=function(){function e(){}return e}();n.eD="BwEmulation",t.tD=n},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.cs,r=r||Object.Oc,s=s||Function.us,this.ls=t,this.Ac=r,this.ds=s,this.fs=new n(null,function(e,r){return t(e.key,r.key)},function(e,t){return r(e.key,t.key)}),this.length=0,this.addEach(e)}var n=(r(11),r(139)),s=r(12),o=r(52),a=r(13);e.i=i,i.rD=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.log=function(e,t,r,i){t=t||this.vs,this.fs.log(e,function(e,r,i){t(e.value,r,i)},r,i)},i.prototype.vs=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){"use strict";var i,n=r(59),s=r(3),o=r(24),a=r(0),h=r(5),c=r(9),u=r(31),l=r(10),p=r(1),d=r(2);!function(e){e[e.mc=0]="PLAYER",e[e.iD=1]="LAN",e[e.nD=2]="SITE"}(i=t.sD||(t.sD={}));var f=function(){function e(){this.oD=!1,this.b_=null,this.aD=-1,this.hD=0}return e}();t.cD=f;var g=function(){function e(){this.loggerId="[Prefetcher] ",this.uD=!0,this.lD=0,this.isActive=!0,this.pD=new s,this.dD=new s}return e.prototype.init=function(e){this.logger=a.Framework.resolve(a.Framework.V.R).log(e.sessionId),this.fD=e.gD,this.ED=e.ED,this.vD=e.vD,this.sC=e.sC,this.yD=e.yD,this.TD=e.TD,this.mD=e.mD,this.ID=e.ID},e.prototype.SD=function(){this.isActive=!0},e.prototype.RD=function(e,t){this.context=e,this.wD=t,this.mD.RD(t)},e.prototype.bD=function(e){return this.dD.has(e)},e.prototype.CD=function(){return this.wD},e.prototype._D=function(e,t,r){var o=this;try{var a=new n;this.dD.forEach(function(e,t){a.add(t)});var h=new n;if(h.addEach(e.keys()),this.wD.PD()){var c=this.wD.PD().bitrate;if(h.add(c),h.forEach(function(e){a.delete(e)}),r){var u=[];a.forEach(function(e){o.dD.has(e)&&o.dD.get(e).AD==i.nD&&(u.push(e),h.add(e))}),u.forEach(function(e){a.delete(e)})}var l=new s;h.forEach(function(t){o.dD.has(t)&&o.dD.get(t).AD==i.nD?l.set(t,i.nD):l.set(t,e.get(t))}),this.OD(a),this.ND(l,t)}}catch(e){p.ErrorMonitor.ve().logError("Error updating the prefetch sessions",this.loggerId,d.hs.jn.kn,e)}},e.prototype.ND=function(e,t){var r=this;e.forEach(function(e,i){0!=i&&r.DD(i,e,t)})},e.prototype.OD=function(e){var t=this;e.forEach(function(e){t.yD.kD(e),t.logger.debug(t.loggerId+"Remove unwanted bitrate "+e),t.dD.delete(e)})},e.prototype.DD=function(e,t,r){this.dD.has(e)?this.LD(e,r):this.dD.has(e)||this.MD(e,t,r)},e.prototype.LD=function(e,t){try{var r=this.dD.get(e);r.type=t,r.type!=i.nD&&(r.aD=-1),this.yD.FD(e,r)}catch(e){p.ErrorMonitor.ve().logError("Error configuring already existing prefetch sessions",this.loggerId,d.hs.jn.Ln,e)}},e.prototype.MD=function(e,t,r){var n=this;try{var s=new f;s.b_=null,s.type=r,s.bitrate=e,s.AD=t,this.dD.set(e,s),this.dD.forEach(function(e,t){n.logger.debug(n.loggerId+"ABT "+t+" S "+i[e.type]+" PREF REASON "+i[e.AD])}),this.yD.FD(e,s)}catch(e){p.ErrorMonitor.ve().logError("Error constructing a new prefetch session",this.loggerId,d.hs.jn.Mn,e)}},e.prototype.UD=function(e){var t=this;if(this.dD.has(e.getBitrate())){var r=this.dD.get(e.getBitrate());r.aD>0&&r.BD&&(r.aD=e.duration-(a.Framework.time()-r.BD)-r.hD,r.hD=50),r.b_=e,this.HD(e.getBitrate()),this.dD.forEach(function(r,n){r&&r.type!=i.mc&&n!=e.getBitrate()&&t.xD(r,n)})}else p.ErrorMonitor.ve().logError("Error retrieving a fragment without having a prefetch session",this.loggerId,d.hs.jn.Fn)},e.prototype.qD=function(e){var t=this.dD.keys(),r=t.indexOf(e);return-1!=r&&t.splice(r,1),t},e.prototype.GD=function(e){var t=this;e.forEach(function(e){var r=t.dD.get(e);r&&r.type!=i.mc&&t.xD(r,r.bitrate)})},e.prototype.xD=function(e,t){if(e.type!=i.mc){var r=this.wD.PD();if(null!=r){var n=this.wD.VD(r.C_,t,c.vc.fc);null==n?(this.logger.debug(this.loggerId+"PREFETCHING "+t+" MISSING METADATA "),this.oD(t)):(e.b_=n,this.HD(n.getBitrate()))}else this.logger.debug(this.loggerId+"PLAYER NOT PLAYING "),this.oD(t)}},e.prototype.jD=function(e){var t=this.dD.get(e);t&&t.oD&&(null!=t.b_?(this.logger.debug(this.loggerId+"RESTART PREFETCHING ON AVAILABLE METADATA"),t.oD=!1,this.HD(t.bitrate)):(t.oD=!1,this.xD(t,e)))},e.prototype.QD=function(e){var t=this;e?this.jD(e):this.dD.forEach(function(e,r){t.jD(r)})},e.prototype.HD=function(e){var t=this.wD.PD();if(t){var r=this.dD.get(e);if(r){if(r.b_&&t.getBitrate()==e){var i=this.KD(r.b_.A_(),e);this.yD.setDelta(i)}this.YD(r)}}else p.ErrorMonitor.ve().logError("Error attempting prefetch before having a player request",this.loggerId,d.hs.jn.Un)},e.prototype.YD=function(e){if(e.b_){var t=this.WD(e.b_);if(null!=t)this.zD(t,e);else{var r=e.bitrate;this.logger.debug(this.loggerId+"PREFETCHING "+r+" STOPPED BECAUSE OF MISSING METADATA "),this.dD.get(r).oD=!0,this.oD(r)}}else e.oD=!0,this.oD(e.bitrate)},e.prototype.zD=function(e,t){var r=this,n=this.JD(e.Zf(),e.getBitrate(),e.A_(),t.type);if(n.XD)try{this.pD.has(e.Zf())&&a.Framework.clearTimeout(this.pD.get(e.Zf()));var s=n.type==o.bf.If,c=1;if(s){var l=Math.max(0,t.aD);c=this.mD.ZD(t.type,e.getBitrate(),e.A_(),l)}this.logger.debug(this.loggerId+"PREFETCHING "+e.url+" CDN PREFETCH "+s+" IN "+c+" MSECS");var f=this.dD.get(e.getBitrate());f.b_=e;var g=a.Framework.setTimeout(function(){r.pD.delete(e.Zf());var s=new u.HiveRequest(r.ED.sessionId);s.url=e.url,f.BD=a.Framework.time(),r.lD=0;var c=r.ED.$D(s,e,r.context,n.type);c&&(c.Gf=t.type==i.nD||t.type==i.iD,s.onerror=s.onload=function(){if(c.Jf()==o.bf.If&&(!s.status||s.status<200||s.status>299)){var t=r.dD.get(e.getBitrate());s=null;var i=t.b_.duration,n=t.b_.duration+h.hh.fa.Zo,u=Math.floor(Math.random()*(n-i))+i;t.aD=u-(a.Framework.time()-t.BD),t.hD=0,r.HD(t.b_.bitrate)}})},c);this.pD.set(e.Zf(),g)}catch(e){p.ErrorMonitor.ve().logError("Error requesting for prefetch",this.loggerId,d.hs.jn.xn,e)}},e.prototype.ek=function(){var e=this;this.pD.forEach(function(t,r){e.logger.debug(e.loggerId+"Clearing delayed prefetch timer id "+t),a.Framework.clearTimeout(t),e.pD.delete(r)}),this.isActive=!1},e.prototype.oD=function(e){this.dD.has(e)&&(this.dD.get(e).oD=!0,this.wD.tk(e))},e.prototype.WD=function(e){try{var t=this.dD.get(e.getBitrate()),r=e,i=this.rk(r);return i&&i.Zf()!=e.Zf()?i:i&&i.Zf()==t.b_.Zf()?e:null}catch(e){return p.ErrorMonitor.ve().logError("Error forwarding to next segment",this.loggerId,d.hs.jn.Bn,e),null}},e.prototype.rk=function(e){if(null==e)return null;var t=this.sC.ik(!0),r=e;if(t)for(;null!=r&&-1!=t.indexOf(r.Zf());)if(!(r=this.wD.nk(r)))return r;return r},e.prototype.JD=function(e,t,r,n){try{var s=this.sk(e),a=s?o.bf.wf:o.bf.If,h=!1;h=n!=i.mc?!this.pD.has(e)||a!=o.bf.If:a==o.bf.wf;var c=this.wD.ak(),u=this.hk(r,t,a),l=n==i.nD;return this.logger.debug(this.loggerId+"PREFETCHING "+o.bf[a]+" (LAN LEADER: "+this.yD.ck()+" SITE LEADER: "+l+") CHECKS FOR "+e+" [HAVES:"+s+" NOTBUFFERING:"+c+" DISTANCE:"+u.valid+"("+u.uk+")]"),{XD:h&&c&&u.valid&&this.isActive,type:a}}catch(e){return p.ErrorMonitor.ve().logError("Error checking if allowed to prefetch",this.loggerId,d.hs.jn.Hn,e),{XD:!1,type:o.bf.If}}},e.prototype.hk=function(e,t,r){try{var i=this.wD.lk(e,t);return i<=this.wD.pk()?{uk:i,valid:!0}:{uk:i,valid:!1}}catch(e){return p.ErrorMonitor.ve().logError("Error checking the player distance",this.loggerId,d.hs.jn.qn,e),{uk:0,valid:!1}}},e.prototype.KD=function(e,t){var r=this.wD.PD();if(null!=r){var i=r.A_();return this.wD.dk(i,t,e,t)}return-1},e.prototype.sk=function(e){if(this.fD.contains(e)){var t=this.fD.fk(e);if(t.length>=h.hh.fa.ta){if(h.hh.fa.ia){var r=[],i=[],n=[],s=this.yD.gk();return t.forEach(function(e){e.Ek.peerInfo.type==l.Tc.W&&r.push(e);var t=e.Ek.peerInfo.internalAs;0!=s&&t&&s==t&&i.push(e),e.Ek.peerInfo.type==l.Tc.yc&&n.push(e)}),r.length>0?!this.uD||!this.vk(r,e):!(!this.yD.ck()&&this.yD.yk()||!(i.length>0))||!(!(n.length>0)||!this.yD.Tk()&&this.yD.mk())}return!0}}return!1},e.prototype.vk=function(e,t){try{if(this.yD.Ik().length>h.hh.fa.la){this.yD.Sk();return e.length==h.hh.fa.ua&&e[0].guid==this.yD.Rk().uuid&&(a.Framework.random()>h.hh.fa.pa&&this.lD<h.hh.fa.da&&(this.logger.debug("SKIP PREFETCH CYCLE "+this.lD+" TO OFFLOAD LEADER"),this.lD++,!0))}return!1}catch(e){return p.ErrorMonitor.ve().logError("Error deciding to offload the leader",this.loggerId,d.hs.jn.Gn,e),!1}},e.prototype.wk=function(e,t){try{e.bk=e.Kf.id,e.Kf=t,this.logger.debug(this.loggerId+"UPGRADE "+o.bf[e.Jf()]+" REQ "+e.Yf+" FOR "+e.zf.Zf()),e.Jf()==o.bf.wf?(e.qf.p2pAgenTrafficSuccessQt=e.Qf,e.Vf?(e.type=o.bf.Rf,this.vD.Ck(e)||(this.logger.debug(this.loggerId+"SET REQUEST TIMED-OUT WAS 0. CDN COMPENSATION"),this.vD._k(e.Pk,"TIMED-OUT"))):(e.type=o.bf.Tf,this.logger.debug(this.loggerId+"THE HIVE REQ "+e.Zf()+" ARRIVED BEFORE THE P2P_PREFETCH INITIALIZED. CHANGE REQUEST TYPE TO "+o.bf[e.Jf()]))):e.Jf()==o.bf.If&&(e.type=o.bf.Tf)}catch(e){p.ErrorMonitor.ve().logError("Error upgrading prefetch",this.loggerId,d.hs.jn.Vn,e)}},e}();t.Ak=g},function(e,t,r){"use strict";function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var n=this.head=new this.Node;n.next=n,n.Ok=n,this.ls=t||Object.cs,this.ds=r||Function.us,this.length=0,this.addEach(e)}function n(e){this.head=e,this.Nk=e.next}function s(e){this.value=e,this.Ok=null,this.next=null}e.i=i;var o=(r(11),r(12)),a=r(67),h=r(13),c=r(38);i.Dk=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ds)},i.prototype.find=function(e,t,r){t=t||this.ls;for(var i=this.head,n=this.kk(r,i.next);n!==i;){if(t(n.value,e))return n;n=n.next}},i.prototype.Lk=function(e,t,r){t=t||this.ls;for(var i=this.head,n=this.kk(r,i.Ok);n!==i;){if(t(n.value,e))return n;n=n.Ok}},i.prototype.has=function(e,t){return!!this.find(e,t)},i.prototype.get=function(e,t){var r=this.find(e,t);return r?r.value:this.ds(e)},i.prototype.delete=function(e,t){var r=this.Lk(e,t);if(r){if(this.Mk){var i=[],n=[e];this.QA(i,n,r.index)}return r.delete(),this.length--,this.Mk&&(this.Fk(r.next,r.index),this.GA(i,n,r.index)),!0}return!1},i.prototype.XA=function(e,t){t=t||this.ls;for(var r=this.head,i=r.next,n=0;i!==r;)t(e,i.value)&&(i.delete(),n++),i=i.next;return this.length-=n,n},i.prototype.clear=function(){var e,t;this.Mk&&(t=this.toArray(),e=[],this.QA(e,t,0)),this.head.next=this.head.Ok=this.head,this.length=0,this.Mk&&this.GA(e,t,0)},i.prototype.add=function(e){var t=new this.Node(e);return this.Mk&&(t.index=this.length,this.QA([e],[],t.index)),this.head.Uk(t),this.length++,this.Mk&&this.GA([e],[],t.index),!0},i.prototype.push=function(){var e=this.head;if(this.Mk){var t=Array.prototype.slice.call(arguments),r=[],i=this.length;this.QA(t,r,i);var n=this.head.Ok}for(var s=0;s<arguments.length;s++){var o=arguments[s],a=new this.Node(o);e.Uk(a)}this.length+=arguments.length,this.Mk&&(this.Fk(n.next,void 0===n.index?0:n.index+1),this.GA(t,r,i))},i.prototype.unshift=function(){if(this.Mk){var e=Array.prototype.slice.call(arguments),t=[];this.QA(e,t,0)}for(var r=this.head,i=0;i<arguments.length;i++){var n=arguments[i],s=new this.Node(n);r.Bk(s),r=s}this.length+=arguments.length,this.Mk&&(this.Fk(this.head.next,0),this.GA(e,t,0))},i.prototype.pop=function(){var e,t=this.head;if(t.Ok!==t){if(e=t.Ok.value,this.Mk){var r=[],i=[e],n=this.length-1;this.QA(r,i,n)}t.Ok.delete(),this.length--,this.Mk&&this.GA(r,i,n)}return e},i.prototype.shift=function(){var e,t=this.head;if(t.Ok!==t){if(e=t.next.value,this.Mk){var r=[],i=[e];this.QA(r,i,0)}t.next.delete(),this.length--,this.Mk&&(this.Fk(this.head.next,0),this.GA(r,i,0))}return e},i.prototype.Hk=function(){if(this.head!==this.head.next)return this.head.next.value},i.prototype.xk=function(e){this.head!==this.head.next?this.head.next.value=e:this.push(e)},i.prototype.Bc=function(){return this.Hk()},i.prototype.kk=function(e,t){var r=this.head;if("number"==typeof e){var i=e;if(i>=0)for(e=r.next;i&&(i--,(e=e.next)!=r););else for(e=r;i<0&&(i++,(e=e.Ok)!=r););return e}return e||t},i.prototype.slice=function(e,t){var r=[],i=this.head;for(e=this.kk(e,i.next),t=this.kk(t,i);e!==t&&e!==i;)r.push(e.value),e=e.next;return r},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){var i=e;e=this.kk(e,this.head),null==t&&(t=1/0),r=Array.from(r);for(var n=[],s=e;t--&&t>=0&&s!==this.head;)n.push(s.value),s=s.next;var o,a;this.Mk&&(o=e===this.head?this.length:e.Ok===this.head?0:e.index,a=e.Ok,this.QA(r,n,o));for(var s=e,h=0,s=e;h<n.length;h++,s=s.next)s.delete();null==i&&s===this.head&&(s=this.head.next);for(var h=0;h<r.length;h++){var c=new this.Node(r[h]);s.Uk(c)}return this.length+=r.length-n.length,this.Mk&&(e===this.head?this.Fk(this.head.next,0):this.Fk(a.next,a.index+1),this.GA(r,n,o)),n},i.prototype.reverse=function(){if(this.Mk){var e=this.toArray(),t=e.reversed();this.QA(t,e,0)}var r=this.head;do{var i=r.next;r.next=r.Ok,r.Ok=i,r=r.next}while(r!==this.head);return this.Mk&&this.GA(t,e,0),this},i.prototype.sort=function(){this.qk(0,this.length,this.Fc())},i.prototype.reduce=function(e,t){for(var r=arguments[2],i=this.head,n=i.next;n!==i;)t=e.call(r,t,n.value,n,this),n=n.next;return t},i.prototype.reduceRight=function(e,t){for(var r=arguments[2],i=this.head,n=i.Ok;n!==i;)t=e.call(r,t,n.value,n,this),n=n.Ok;return t},i.prototype.Fk=function(e,t){for(;e!==this.head;)e.index=t++,e=e.next},i.prototype.Xc=function(){this.head.index=-1,this.Fk(this.head.next,0),this.Mk=!0},i.prototype.Hc=function(){return new n(this.head)},n.prototype.Gk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),n.prototype.next=function(){if(this.Nk===this.head)this.Vk.done=!0,this.Vk.value=void 0;else{var e=this.Nk.value;this.Nk=this.Nk.next,this.Vk.value=e}return this.Vk},i.prototype.Node=s,s.prototype.delete=function(){this.Ok.next=this.next,this.next.Ok=this.Ok},s.prototype.Uk=function(e){var t=this.Ok;this.Ok=e,e.Ok=t,t.next=e,e.next=this},s.prototype.Bk=function(e){var t=this.next;this.next=e,e.next=t,t.Ok=e,e.Ok=this}},function(e,t,r){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||Function.us,this.ds=t,this.fs=Object.create(null),this.length=0,this.addEach(e)}var n=(r(11),r(12)),s=r(52),o=r(13);e.i=i,i.jk=i,Object.addEach(i.prototype,n.prototype),Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ds)},i.prototype.Qk=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e)},Object.defineProperty(i.prototype,"$__proto__",{Ah:!0}),Object.defineProperty(i.prototype,"_hasProto",{get:function(){return this.hasOwnProperty("$__proto__")&&void 0!==this.Kk}}),Object.defineProperty(i.prototype,"_protoValue",{get:function(){return this.Yk},set:function(e){this.Yk=e}}),i.prototype.get=function(e,t){return this.Qk(e),"__proto__"===e?this.Wk?this.Kk:arguments.length>1?t:this.ds(e):e in this.fs?this.fs[e]:arguments.length>1?t:this.ds(e)},i.prototype.set=function(e,t){this.Qk(e);var r="__proto__"===e;return(r?this.Wk:e in this.fs)?(this.zk&&this.Jk(e,r?this.Kk:this.fs[e]),r?this.Kk=t:this.fs[e]=t,this.zk&&this.Xk(e,t),!1):(this.zk&&this.Jk(e,void 0),this.length++,r?this.Kk=t:this.fs[e]=t,this.zk&&this.Xk(e,t),!0)},i.prototype.has=function(e){return this.Qk(e),"__proto__"===e?this.Wk:e in this.fs},i.prototype.delete=function(e){return this.Qk(e),"__proto__"===e?!!this.Wk&&(this.zk&&this.Jk(e,this.Kk),this.Kk=void 0,this.length--,this.zk&&this.Xk(e,void 0),!0):e in this.fs&&(this.zk&&this.Jk(e,this.fs[e]),delete this.fs[e],this.length--,this.zk&&this.Xk(e,void 0),!0)},i.prototype.clear=function(){var e;this.Wk&&(this.zk&&this.Jk("__proto__",this.Kk),this.Kk=void 0,this.zk&&this.Xk("__proto__",void 0));for(e in this.fs)this.zk&&this.Jk(e,this.fs[e]),delete this.fs[e],this.zk&&this.Xk(e,void 0);this.length=0},i.prototype.reduce=function(e,t,r){this.Wk&&(t=e.call(r,t,"$__proto__","__proto__",this));var i=this.fs;for(var n in this.fs)t=e.call(r,t,i[n],n,this);return t},i.prototype.reduceRight=function(e,t,r){var i=this,n=this.fs;return t=Object.keys(this.fs).reduceRight(function(t,s){return e.call(r,t,n[s],s,i)},t),this.Wk?e.call(r,t,this.Kk,"__proto__",i):t},i.prototype.Bc=function(){var e;for(e in this.fs)return this.fs[e];return this.Kk},i.prototype.toJSON=function(){return this.Pc()}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericMap is a mixin.")}function n(e,t){this.key=e,this.value=t}var s=r(36),o=r(101),a=r(13);e.i=i,s.addEach(i.prototype,o.prototype),s.addEach(i.prototype,a.prototype),i.prototype.isMap=!0,i.prototype.addEach=function(e){if(e&&s(e)===e)if("function"==typeof e.forEach)!0===e.isMap?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else s.keys(e).forEach(function(t){this.set(t,e[t])},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype.get=function(e,t){var r=this.fs.get(new this.Zk(e));return r?r.value:arguments.length>1?t:this.ds(e)},i.prototype.set=function(e,t){var r=new this.Zk(e,t),i=this.fs.get(r),n=!1;return i?(this.zk&&this.Jk(e,i.value),i.value=t,this.zk&&this.Xk(e,t)):(this.zk&&this.Jk(e,void 0),this.fs.add(r)&&(this.length++,n=!0),this.zk&&this.Xk(e,t)),n},i.prototype.add=function(e,t){return this.set(t,e)},i.prototype.has=function(e){return this.fs.has(new this.Zk(e))},i.prototype.delete=function(e){var t=new this.Zk(e);if(this.fs.has(t)){var r=this.fs.get(t).value;return this.zk&&this.Jk(e,r),this.fs.delete(t),this.length--,this.zk&&this.Xk(e,void 0),!0}return!1},i.prototype.clear=function(){var e;this.zk&&(this.forEach(function(e,t){this.Jk(t,e)},this),e=this.keys()),this.fs.clear(),this.length=0,this.zk&&e.forEach(function(e){this.Xk(e)},this)},i.prototype.reduce=function(e,t,r){return this.fs.reduce(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.reduceRight=function(e,t,r){return this.fs.reduceRight(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.keys=function(){return this.map(function(e,t){return t})},i.prototype.values=function(){return this.map(Function.identity)},i.prototype.entries=function(){return this.map(function(e,t){return[t,e]})},i.prototype.$k=function(){return this.entries()},i.prototype.cs=function(e,t){return t=t||s.cs,this===e||(e&&"function"==typeof e.every?e.length===this.length&&e.every(function(e,r){return t(this.get(r),e)},this):s.keys(e).length===this.length&&s.keys(e).every(function(r){return t(this.get(r),e[r])},this))},i.prototype.toJSON=function(){return this.entries()},i.prototype.Zk=n,n.prototype.cs=function(e){return s.cs(this.key,e.key)&&s.cs(this.value,e.value)},n.prototype.Oc=function(e){return s.Oc(this.key,e.key)}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(70),s=r(21),o=r(71),a=r(7),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.me=function(e){t.logger=e},t.prototype.send=function(){if(t.logger&&t.logger.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.ub);e.length>0&&(this.sessionId=t.ub[e[0]])}var r=this,i=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var o=s.Ip(n.tL.eL,n.tL.dO,n.tL.rL,this.sessionId,encodeURIComponent(this.url));i.open("GET",o),this.responseType&&(i.responseType=this.responseType),i.onreadystatechange=function(){},i.onload=function(){if(4===i.readyState)try{r.responseHeaders=i.getAllResponseHeaders(),r.response=i.response;var e=i.response.byteLength;"arraybuffer"!==i.responseType&&(r.responseText=i.response),r.readyState=4,r.status=i.status,r.dispatchEvent(a.rc.createEvent(ProgressEvent,"progress",{lengthComputable:!0,loaded:e,total:e,currentTarget:r})),r.dispatchEvent(a.rc.createEvent(Event,"readystatechange",{currentTarget:r,bubbles:!1,cancelable:!1})),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"load",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"loadend",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0}))}catch(e){t.logger&&t.logger.warn(e)}},i.onerror=function(e){t.logger&&t.logger.warn("onError: "+JSON.stringify(e)),r.dispatchEvent(a.rc.createEvent(ErrorEvent,"error",e,r))},i.onabort=function(e){t.logger&&t.logger.warn("onAbort: "+JSON.stringify(e)),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"abort",e,r))},i.send()},t.prototype.abort=function(){},t}(o.pb);t.Zu=h},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(31),s=r(74),o=r(1),a=r(7),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loggerId="[HiveRequestManifest]",t}return i(t,e),t.registerTech=function(e,r){t.iL[r]=e},t.registerComm=function(e,r){t.nL[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.nL);e.length>0&&(this.sessionId=t.nL[e[0]])}var r=t.iL[this.sessionId],i=t.nL[this.sessionId];s.sL(r)||s.sL(i)?(o.ErrorMonitor.ve().logError("HiveJS Tech or Comm are not defined",this.loggerId),this.resolve()):(i.logger().debug("Intercepted Manifest Request "+this.url),r.oL(this),i.onActivateSession(this.url))},t.prototype.resolve=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.dispatchEvent(a.rc.createEvent(Event,"readystatechange",{currentTarget:e})),e.dispatchEvent(a.rc.createEvent(ProgressEvent,"onload",{currentTarget:e})),console.debug("Returned Manifest Request "+e.url))},t.send()},t}(n.HiveRequest);h.nL={},h.iL={},t.zu=h},function(e,t,r){"use strict";!function(){var t=r(17),i=t.log,n=t.Wu;e.i.Wu=n,e.i.Vu=t.Vu,e.i.Gu=t.Gu;var s=r(122)||null,o=r(124)||null,a=r(127)||null,h=r(129)||null;switch(n.Qu){case"chrome":if(!s||!s.aL)return void i("Chrome shim is not included in this adapter release.");i("adapter.js shimming chrome."),e.i.hL=s,s.cL(),s.uL(),t.Ku(),s.lL(),s.aL(),s.pL(),s.dL();break;case"firefox":if(!a||!a.aL)return void i("Firefox shim is not included in this adapter release.");i("adapter.js shimming firefox."),e.i.hL=a,a.cL(),t.Ku(),a.lL(),a.aL(),a.pL();break;case"edge":if(!o||!o.aL)return void i("MS edge shim is not included in this adapter release.");i("adapter.js shimming edge."),e.i.hL=o,o.cL(),t.Ku(),o.aL();break;case"safari":if(!h)return void i("Safari shim is not included in this adapter release.");i("adapter.js shimming safari."),e.i.hL=h,h.cL();break;default:i("Unsupported browser!")}}()},function(e,t,r){"use strict";var i=r(32),n=r(4),s=r(18),o=r(21),a=r(130),h=a.HiveComm.Options.fL,c=r(19),u=r(131),l=r(1),p=function(){function e(t,r){this.gL=t,this.options_=new h,void 0!==r[e.EL]&&o.Sp(r[e.EL],this.options_)}return e.prototype.getName=function(){return e.EL},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.getVersion=function(){return this.gL.getPluginVersion()},e.prototype.vL=function(){return!0},e.prototype.yL=function(){return n.resolve(!0)},e.prototype.initSession=function(e,t){var r=this.TL(e,t.ticket,t.ticket.NN(),t);return s.HiveRequestFactory.registerTech(r.id,this.getName()),n.resolve(r)},e.prototype.mL=function(){return this.options().initTimeout},e.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase().indexOf("/manifest");if(r>-1){var i=t.manifest.substring(0,r);if(e.indexOf(i)>-1)return!0}else if(e==t.manifest)return!0;return!1},e.prototype.ol=function(e,t,r){void 0===r&&(r=!0),e.rl&&(this.gL.logger().debug("[StatsJS] stopping session ["+e.id+"] complete close: "+t),e.rl.xl.Zd(r),e.rl.Bl.IL(),e.rl.Bl.reset(t)),t?i.Hive.Reporting().close(e.id):this.nl(e,!0)},e.prototype.nl=function(e,t){var r=t?c.Ml.IDLE:c.Ml.Ll;this.gL.logger().notice("[HiveComm] client state: "+c.Ml[r]),e.rl&&e.rl.nl(r)},e.prototype.SL=function(e,t){var r=this,i=0;return this.RL<t.Ol&&(i=t.Ol-this.RL,this.RL=t.Ol),e.al().then(function(){e.rl.Ul.wL(i,t.Al),e.rl.Hl.Sd(t.Pl,t.Al,t.Ol),r.bL()}).done(),n.resolve(!0)},e.prototype.CL=function(e,t,r){return e.al().then(function(){e.rl.Hl.wd(e.ticket.sessionId,t,r)}).done(),n.resolve(!0)},e.prototype.bd=function(e,t){return e.al().then(function(){e.rl.Hl.Cd([t])}).done(),n.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options().onError)try{t=this.options().onError(e)}catch(e){l.ErrorMonitor.ve().logError("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this;this._L(),e.al().then(function(r){t.PL=r;var i=new u.AL(t.gL.isLive(),t.gL.getStreamProtocol(),e.ticket.NN());t.PL.OL=i,t.PL.Ul.OL=i,t.gL.updatePlayerInfo(t.PL),t.PL.Bl.init(t.PL.Ul,e.id),t.gL.options().testId&&t.PL.Ul.NL(t.gL.options().testId),t.PL.Hl.Xu(e.ticket.sessionId,t.gL.getPlayerSource(),200);var n=t.gL.flushTechEvents();if(n&&n.length>0&&t.PL.Hl.Cd(n),void 0!=t.options_.onActiveSession)try{t.options_.onActiveSession(e.toHiveSession())}catch(e){l.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback",t.id(),e)}}).done()},e.prototype.DL=function(){},e.prototype.kL=function(){},e.prototype.LL=function(e){this.gL=e},e.prototype.options=function(){return this.options_},e.prototype._L=function(){this.RL=0},e.prototype.TL=function(e,t,r,i){var n=new s.cl(e,t,r,i);return n.ML=!1,n.id=t.sessionId,n},e.prototype.bL=function(){try{var e=this.gL.getExtendedStats();void 0!=e&&(this.PL.Ul.FL.metrics.bitrateUpN+=e.getBitrateSwitchUp(),this.PL.Ul.FL.metrics.bitrateDwnN+=e.getBitrateSwitchDown(),null!=e.getBandwidth()&&(this.PL.Ul.FL.metrics.srcThroughput=e.getBandwidth()),null!=e.getVideoBitrates()&&this.UL(!0,e.getVideoBitrates()),null!=e.getAudioBitrates()&&this.UL(!1,e.getAudioBitrates()))}catch(e){l.ErrorMonitor.ve().logError("Error accounting extended stats",this.id(),e)}},e.prototype.UL=function(e,t){var r=this,i=0,n=0,s=0,o=0;t.forEach(function(t,a){var h=t.success+t.ll;if(i+=h,o+=t.bytes,n+=t.success,s+=t.ll,e){var c=r.PL.Ul.BL(Number(a));r.HL(c,h,t.success,t.ll,t.bytes)}});var a=this.PL.Ul.xL();this.HL(a,i,n,s,o)},e.prototype.HL=function(e,t,r,i,n){e.srcReqN+=t,e.srcRespN+=r,e.srcRespErrN+=i,e.srcRespQt+=n,e.respFallbackN+=r,e.respFallbackErrN+=i},e}();p.EL="StatsJS",t.StatsJS=p},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(58),s=r(142),o=r(9),a=r(34),h=r(31),c=r(0),u=r(1),l=r(2),p=r(143),d=r(150);!function(e){function t(t){return this.qL(t)||-1!=t.indexOf(e.GL)}function r(t){return-1!=t.toLowerCase().indexOf(e.VL.toLowerCase())||-1!=t.toLowerCase().indexOf(e.jL.toLowerCase())}function f(t,r){var i=r.replace("_definst_/","").match(new RegExp(t.replace(".mpd","")+e.QL));return i&&i.length>0}e.KL=1,e.YL=2,e.WL=2e3,e.zL=3e4,e.JL=1e4,e.XL=!0,e.ZL=!0,e.$L=500,e.eM=10,e.DASH_METADATA_MIN_FRAGMENTS=3,e.VL="(format=mpd-time-csf)",e.jL=".mpd",e.QL="_.*.mpd",e.GL=".m4s",e.tM=".ism/",e.rM=t,e.qL=r;var g=function(t){function n(r,i){var n=t.call(this,i)||this;return n.Ag=0,n.iM=!0,n.loggerId="[Dash Context] ",n.ticket=r,n.nM=r._N(),n.sM=new s.oM,n.nM.indexOf(e.jL)>0?n.aM=new p.hM(i.sessionId):n.aM=new d.cM(i.sessionId),n}return i(n,t),n.prototype.Sk=function(){return this.ticket},n.prototype.getStreamProtocol=function(){return StreamProtocol.DASH},n.prototype.uM=function(){return this.nM},n.prototype.lM=function(){return this.aM.lM()},n.prototype.isLive=function(){return this.aM.pM()},n.prototype.dM=function(){return this.sM},n.prototype.ig=function(e){var t=this.Xf(e);if(t==o.vc.fc||t==o.vc.dc)return!0},n.prototype.Xf=function(e){try{if(r(e))return o.vc.gc;if(this.fM(e))return o.vc.Ec;var t=this.aM.gM(e);return null!=t?t.type:-1!=e.indexOf("audio")?o.vc.dc:o.vc.Ec}catch(t){return u.ErrorMonitor.ve().logError("Error getting the entity type based on a url",this.loggerId,l.hs.Yr.Br,{detailedError:t,url:e}),o.vc.Ec}},n.prototype.EM=function(e){var t=o.vc.Ec,r=0,i=0,n=0,s=!0,h=!1,c=0;try{if(t=this.Xf(e),this.fM(e))s=!0;else if(t!=o.vc.gc){var p=this.aM.gM(e);null!=p?(r=p.duration,i=p.bitrate,n=p.id,h=this.ig(e)):(this.tk(),this.logger.warn("could not extract segment info for "+e))}else s=!1;return c=Math.round(r/1e4),new a.N_(e,t,s,n,c,i,h,this.getContextId())}catch(t){return u.ErrorMonitor.ve().logError("Error getting the entity characteristics based on a url",this.loggerId,l.hs.Yr.Hr,{detailedError:t,url:e}),new a.N_(e,o.vc.Ec,!1,0,0,0,!1,this.getContextId())}},n.prototype.nk=function(e){try{var t=e.url,r=this.aM.vM(t);return null!=r?this.EM(r.yM):null}catch(t){return u.ErrorMonitor.ve().logError("Error getting the next entity",this.loggerId,l.hs.Yr.xr,{detailedError:t,url:e.url}),null}},n.prototype.ak=function(){return t.prototype.TM.call(this,e.KL,e.YL)},n.prototype.mM=function(e){try{var t=e.url;t.toLowerCase();return t===this.nM||(!(null==this.aM||!this.aM.fM(t))||!(r(t)&&this.aM.IM!==t&&!f(this.aM.IM,t)))}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if is current context",this.loggerId,l.hs.Yr.qr,{detailedError:t,url:e.url}),!1}},n.prototype.SM=function(e){try{var t=e.RM,r=e.Kf.url,i=this.aM.parse(r,t,e.Kf.internal);e.Kf.responseText=i,e.Kf.response=i}catch(t){u.ErrorMonitor.ve().logError("Error parsing received metadata",this.loggerId,l.hs.Yr.Gr,{detailedError:t,url:e.Kf.url}),e.RM&&(e.Kf.responseText=e.RM,e.Kf.response=e.RM)}try{this.wM.QD()}catch(t){u.ErrorMonitor.ve().logError("Error starting prefetcher after fetching metadata",this.loggerId,l.hs.Yr.Vr,{detailedError:t,url:e.Kf.url})}this.bM()},n.prototype.CM=function(e){var r=this;try{t.prototype.CM.call(this,e),e.Xf()!==o.vc.fc&&e.Xf()!==o.vc.dc||(e.Xf()===o.vc.fc&&this.sM._M(e),this.aM.CM(e).then(function(t){t&&r.bM(),e.Xf()==o.vc.fc&&r.wM.UD(e.zf)}).done())}catch(e){u.ErrorMonitor.ve().logError("Error when received a fragment",this.loggerId,l.hs.Yr.jr,e)}},n.prototype.getContextId=function(){return this.ticket.kN()},n.prototype.PM=function(e,r){var i=e;return i.AM=c.Framework.time(),t.prototype.PM.call(this,i,r)},n.prototype.dk=function(e,t,r,i){return this.aM.dk(e,t,r,i)},n.prototype.fM=function(e){return this.aM.fM(e)},n.prototype.bM=function(){var t=this;try{this.aM.OM?this.aM.OM.NM().then(function(r){if(r)t.iM=!0,t.logger.debug("Protection evaluation: can decrypt");else{var i="Protection evaluation: cannot decrypt ["+(e.XL?"error":"disabled")+"]";e.ZL?(t.iM=!0,t.logger.debug(i+", metadata prefetch enabled")):t.logger.warn(i+", metadata prefetch DISABLED")}}).done():this.logger.debug("Protection evaluation: not encrypted")}catch(t){if(u.ErrorMonitor.ve().logError("Error evaluating the protection",this.loggerId,l.hs.Yr.Qr,t),e.ZL){var r="Protection evaluation: cannot decrypt ["+(e.XL?"error":"disabled")+"]";this.iM=!0,this.logger.debug(r+", metadata prefetch enabled")}}},n.prototype.tk=function(){this.iM&&(null==this.DM&&this.aM.pM()?this.kM():this.logger.debug("DASH PRE-FETCHING METADATA ALREADY SCHEDULED OR NOT LIVE"))},n.prototype.LM=function(){this.iM&&null!=this.DM&&c.Framework.clearTimeout(this.DM)},n.prototype.kM=function(){var t=this,r=void 0!=this.MM?this.MM:0,i=e.WL,n=r+i,s=Math.max(1,n-c.Framework.time()+e.$L);this.logger.debug("DASH PREFETCHING METADATA "+this.aM.IM+" IN "+s),this.DM=c.Framework.setTimeout(function(){t.FM(t.aM.IM,c.Framework.time())},s)},n.prototype.FM=function(e,t){var r=this.MM;if(null==r&&(r=0),r>t)this.kM();else{var i=new h.HiveRequest(this.ticket.sessionId);i.open("GET",e),i.internal=!0,i.send(),this.DM=null,this.MM=c.Framework.time()}},n.prototype.UM=function(e){this.aM.authenticationToken=e},n.prototype.lk=function(e,t){try{var r=this.PD(),i=this.BM(),n=r.A_(),s=this.aM.HM(n,r.getBitrate(),e,t),o=c.Framework.time()-i;return Math.max(0,s-o)}catch(e){return u.ErrorMonitor.ve().logError("Error calculating the distance duration",this.loggerId,l.hs.Yr.Kr,e),0}},n.prototype.xM=function(){return e.JL},n.prototype.VD=function(e,t,r){var i=this.aM.qM(e,t);return null!=i?new a.N_(i.yM,r,!0,e,i.duration,t,!0,this.getContextId()):null},n.prototype.pk=function(){return e.zL},n}(n.GM);e.VM=g}(t.DASH||(t.DASH={}))},function(e,t,r){"use strict";var i=r(48),n=r(34),s=r(0),o=r(140),a=r(9),h=r(24),c=r(49),u=r(5),l=r(2),p=r(1),d=function(){function e(e){this.jM="[VideoContext] ",this.QM=new i,this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.KM=e.YM,this.WM=e.WM,this.wM=e.zM,this.wM.RD(this,this)}return e.prototype.Sk=function(){return null},e.prototype.JM=function(){return this.wM},e.prototype.TM=function(e,t){try{var r=0,i=0;if(this.QM.length<t)return!0;for(var n=this.QM.keys().reverse(),s=n[0],o=this.QM.get(s).bitrate,a=n.slice(1),h=0;h<a.length;h++){var c=a[h],u=this.QM.get(c),d=u.AM,f=u.bitrate,g=Math.abs(u.AM-s);if(f!=o)return!1;if(g<e){if(++i>=t)return!1}else{if(++r>t)return!0;i=Math.max(0,i-1),s=d,o=f}}return!1}catch(e){return p.ErrorMonitor.ve().logError("Error calculating if the player is in buffering mode",this.jM,l.hs.bi.Si,e),!1}},e.prototype.getContextId=function(){return null},e.prototype.PM=function(e,t){if(this.XM(t)){var r=this.PD();if(r){var i=e.getBitrate(),n=r.getBitrate();i>n?this.KM.ZM(!0):i<n&&this.KM.ZM(!1)}else this.KM.ZM(!0);if(this.QM.length>u.hh.ya.ga){var o=this.QM.keys()[0];this.QM.delete(o)}this.QM.set(s.Framework.time(),e)}return this.$M(e,t)},e.prototype.$M=function(e,t){var r=new o.eF;try{if(this.wM.bD(e.bitrate)){if(this.WM.tF(e.Zf())){r.rF=!0;var i=this.WM.iF(e.Zf());this.nF(t,i,r)}if(this.WM.sF(e.Zf()))for(var n=this.WM.oF(e.Zf()),s=0,a=n;s<a.length;s++){var h=a[s];this.nF(t,h.Jf(),r),r.aF=!0}}else{var u=c.sD.mc;this.yD.ck()&&(u=c.sD.iD),this.wM.DD(e.bitrate,u,u)}return r}catch(e){return p.ErrorMonitor.ve().logError("Error configuring the request directive",this.jM,l.hs.bi.Ri,e),new o.eF}},e.prototype.nF=function(e,t,r){e!=h.bf.If&&e!=h.bf.wf||t!=h.bf.Tf&&t!=h.bf.wf&&t!=h.bf.If||(r.hF=!0)},e.prototype.XM=function(e){return e!=h.bf.wf&&e!=h.bf.If},e.prototype.cF=function(e,t,r){var i=[];try{for(var n=this.WM.oF(t.Zf()),s=0,o=n;s<o.length;s++){var a=o[s];a.Jf()!=h.bf.Tf&&(this.wM.wk(a,e),i.push(a.bk))}return i}catch(e){return p.ErrorMonitor.ve().logError("Error attempting to upgrade prefetch",this.jM,l.hs.bi.wi,e),[]}},e.prototype.uF=function(e){this.WM.uF(e)},e.prototype.lF=function(e,t){this.WM.lF(e,t)},e.prototype.pF=function(e){this.WM.pF(e)},e.prototype.dF=function(e){this.WM.fF(e)},e.prototype.gF=function(e){this.WM.EF()||this.wM.HD(e)},e.prototype.PD=function(){var e=this.QM.keys();return e.length>0?this.QM.get(e[e.length-1]):null},e.prototype.BM=function(){var e=this.QM.keys();if(e.length>0)return e[e.length-1]},e.prototype.vF=function(e){var t=this.yF(e);null!=t&&this.gF(t.bitrate)},e.prototype.yF=function(e){var t=e.fragmentId,r=t.slice(0,t.lastIndexOf("-")),i=r.slice(0,r.lastIndexOf("-")),s=e.getType();return new n.N_(i,s,!0,e.id,e.duration,e.bitrate,!0,this.getContextId())},e.prototype.ak=function(){return!1},e.prototype.dk=function(e,t,r,i){return 0},e.prototype.pk=function(){return 3e4},e.prototype.xM=function(){return 1e4},e.prototype.nk=function(e){return null},e.prototype.VD=function(e,t,r){return null},e.prototype.getStreamProtocol=function(){return null},e.prototype.isLive=function(){return!1},e.prototype.tk=function(e){},e.prototype.LM=function(){},e.prototype.lM=function(){return null},e.prototype.mM=function(e){},e.prototype.dM=function(){},e.prototype.EM=function(e){},e.prototype.SM=function(e){},e.prototype.CM=function(e){e.Xf()===a.vc.fc&&this.lF(e.Zf(),e.$f())},e.prototype.uM=function(){return null},e.prototype.UM=function(e){},e.prototype.lk=function(e,t){return 0},e}();t.GM=d},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);n.call(this,e,t,r,s)}e.i=i;var n=(r(11),r(141)),s=r(39),o=r(13);i.TF=i,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.mF=!0,i.prototype.add=function(e){return!this.has(e)&&(n.prototype.add.call(this,e),!0)},i.prototype.reduce=function(e,t){var r=this,i=arguments[2];return this.NT.reduce(function(t,n,s){return e.call(i,t,n,s,r)},t)},i.prototype.reduceRight=function(e,t){var r=this,i=arguments[2];return this.NT.reduceRight(function(t,n,s){return e.call(i,t,n,s,r)},t)}},function(e,t,r){var i=r(33);"undefined"==typeof hive&&(hive={}),void 0===hive.services&&(hive.services={}),void 0===hive.services.protocol&&(hive.services.protocol={}),void 0===hive.services.protocol.IF&&(hive.services.protocol.IF={}),hive.services.protocol.IF.wc={1:"PLAYER",mc:1,2:"P2P_AGENT",Ic:2,3:"PREFETCHER_FIRST_TIER",Sc:3,4:"PREFETCHER_SECOND_TIER",Rc:4},hive.services.protocol.IF.SF={1:"Global",RF:1,2:"InternalAs",wF:2,3:"ExternalAs",bF:3},hive.services.protocol.IF.CF={1:"Internal",_F:1,2:"External",External:2},hive.services.protocol.IF.TrackerPeerStreamInfo=function(e){this.state=null,this.bitrate=null,this.delta=null,e&&(void 0!==e.state&&(this.state=e.state),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.delta&&(this.delta=e.delta))},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype={},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.state=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.delta=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype.write=function(e){e.Hb("TrackerPeerStreamInfo"),null!==this.state&&void 0!==this.state&&(e.xb("state",i.Type.I32,1),e.Vb(this.state),e.Gb()),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,2),e.Vb(this.bitrate),e.Gb()),null!==this.delta&&void 0!==this.delta&&(e.xb("delta",i.Type.I32,3),e.Vb(this.delta),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerInfo=function(e){this.guid=null,this.internalAs=null,this.externalAs=null,this.nat=null,this.bandwidth=null,this.watchingBitrate=null,this.privateIp=null,this.publicIp=null,this.streams=null,this.rankValue=null,this.timestamp=null,this.publicIpString=null,this.privateIpString=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.nat&&(this.nat=e.nat),void 0!==e.bandwidth&&(this.bandwidth=e.bandwidth),void 0!==e.watchingBitrate&&(this.watchingBitrate=e.watchingBitrate),void 0!==e.privateIp&&(this.privateIp=e.privateIp),void 0!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.streams&&(this.streams=e.streams),void 0!==e.rankValue&&(this.rankValue=e.rankValue),void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.publicIpString&&(this.publicIpString=e.publicIpString),void 0!==e.privateIpString&&(this.privateIpString=e.privateIpString))},hive.services.protocol.IF.TrackerPeerInfo.prototype={},hive.services.protocol.IF.TrackerPeerInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.guid=e.v_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.nat=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.bandwidth=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.watchingBitrate=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.privateIp=new InetAddress,this.privateIp.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.publicIp=new InetAddress,this.publicIp.read(e)):e.Mb(r);break;case 9:if(r==i.Type.LIST){var s,o=0;this.streams=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.services.protocol.IF.TrackerPeerStreamInfo,h.read(e),this.streams.push(h)}e.c_()}else e.Mb(r);break;case 10:r==i.Type.DOUBLE?this.rankValue=e.E_().value:e.Mb(r);break;case 11:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 12:r==i.Type.STRING?this.publicIpString=e.Lb().value:e.Mb(r);break;case 13:r==i.Type.STRING?this.privateIpString=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerInfo.prototype.write=function(e){if(e.Hb("TrackerPeerInfo"),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,1),e.WC(this.guid),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,2),e.Vb(this.internalAs),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),null!==this.nat&&void 0!==this.nat&&(e.xb("nat",i.Type.I32,4),e.Vb(this.nat),e.Gb()),null!==this.bandwidth&&void 0!==this.bandwidth&&(e.xb("bandwidth",i.Type.I32,5),e.Vb(this.bandwidth),e.Gb()),null!==this.watchingBitrate&&void 0!==this.watchingBitrate&&(e.xb("watchingBitrate",i.Type.I32,6),e.Vb(this.watchingBitrate),e.Gb()),null!==this.privateIp&&void 0!==this.privateIp&&(e.xb("privateIp",i.Type.STRUCT,7),this.privateIp.write(e),e.Gb()),null!==this.publicIp&&void 0!==this.publicIp&&(e.xb("publicIp",i.Type.STRUCT,8),this.publicIp.write(e),e.Gb()),null!==this.streams&&void 0!==this.streams){e.xb("streams",i.Type.LIST,9),e.HC(i.Type.STRUCT,this.streams.length);for(var t in this.streams)this.streams.hasOwnProperty(t)&&(t=this.streams[t],t.write(e));e.xC(),e.Gb()}null!==this.rankValue&&void 0!==this.rankValue&&(e.xb("rankValue",i.Type.DOUBLE,10),e.YC(this.rankValue),e.Gb()),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,11),e.KC(this.timestamp),e.Gb()),null!==this.publicIpString&&void 0!==this.publicIpString&&(e.xb("publicIpString",i.Type.STRING,12),e.qb(this.publicIpString),e.Gb()),null!==this.privateIpString&&void 0!==this.privateIpString&&(e.xb("privateIpString",i.Type.STRING,13),e.qb(this.privateIpString),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.CustomerKey=function(e){this.partnerId=null,this.customerId=null,e&&(void 0!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&(this.customerId=e.customerId))},hive.services.protocol.IF.CustomerKey.prototype={},hive.services.protocol.IF.CustomerKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.partnerId=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.customerId=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.CustomerKey.prototype.write=function(e){e.Hb("CustomerKey"),null!==this.partnerId&&void 0!==this.partnerId&&(e.xb("partnerId",i.Type.STRING,1),e.qb(this.partnerId),e.Gb()),null!==this.customerId&&void 0!==this.customerId&&(e.xb("customerId",i.Type.STRING,2),e.qb(this.customerId),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerAsQuery=function(e){this.asType=null,this.asn=null,e&&(void 0!==e.asType&&(this.asType=e.asType),void 0!==e.asn&&(this.asn=e.asn))},hive.services.protocol.IF.TrackerAsQuery.prototype={},hive.services.protocol.IF.TrackerAsQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.asType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.asn=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerAsQuery.prototype.write=function(e){e.Hb("TrackerAsQuery"),null!==this.asType&&void 0!==this.asType&&(e.xb("asType",i.Type.I32,1),e.Vb(this.asType),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.I32,2),e.Vb(this.asn),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerBitrateQuery=function(e){this.bitrate=null,this.asn=null,this.streamState=null,e&&(void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.asn&&(this.asn=e.asn),void 0!==e.streamState&&(this.streamState=e.streamState))},hive.services.protocol.IF.TrackerBitrateQuery.prototype={},hive.services.protocol.IF.TrackerBitrateQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.asn=new hive.services.protocol.IF.TrackerAsQuery,this.asn.read(e)):e.Mb(r);break;case 3:r==i.Type.I32?this.streamState=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerBitrateQuery.prototype.write=function(e){e.Hb("TrackerBitrateQuery"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.STRUCT,2),this.asn.write(e),e.Gb()),null!==this.streamState&&void 0!==this.streamState&&(e.xb("streamState",i.Type.I32,3),e.Vb(this.streamState),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerRankQuery=function(e){this.rankType=null,this.asQuery=null,e&&(void 0!==e.rankType&&(this.rankType=e.rankType),void 0!==e.asQuery&&(this.asQuery=e.asQuery))},hive.services.protocol.IF.TrackerRankQuery.prototype={},hive.services.protocol.IF.TrackerRankQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.asQuery=new hive.services.protocol.IF.TrackerAsQuery,this.asQuery.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerRankQuery.prototype.write=function(e){e.Hb("TrackerRankQuery"),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,1),e.Vb(this.rankType),e.Gb()),null!==this.asQuery&&void 0!==this.asQuery&&(e.xb("asQuery",i.Type.STRUCT,2),this.asQuery.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerQuery=function(e){this.random=null,this.asns=null,this.watchers=null,this.streamers=null,this.rankings=null,e&&(void 0!==e.random&&(this.random=e.random),void 0!==e.asns&&(this.asns=e.asns),void 0!==e.watchers&&(this.watchers=e.watchers),void 0!==e.streamers&&(this.streamers=e.streamers),void 0!==e.rankings&&(this.rankings=e.rankings))},hive.services.protocol.IF.TrackerQuery.prototype={},hive.services.protocol.IF.TrackerQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.random=e.Fb().value:e.Mb(r);break;case 2:if(r==i.Type.MAP){var s,o=0;this.asns={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=new hive.services.protocol.IF.TrackerAsQuery,h.read(e),c=e.Fb().value,this.asns[h]=c}e.o_()}else e.Mb(r);break;case 3:if(r==i.Type.MAP){var u,l=0;this.watchers={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=new hive.services.protocol.IF.TrackerBitrateQuery,d.read(e),f=e.Fb().value,this.watchers[d]=f}e.o_()}else e.Mb(r);break;case 4:if(r==i.Type.MAP){var g,E=0;this.streamers={};g=e.i_(),g.n_,g.s_,E=g.size;for(var v=0;v<E;++v){v>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var y=null,T=null;y=new hive.services.protocol.IF.TrackerBitrateQuery,y.read(e),T=e.Fb().value,this.streamers[y]=T}e.o_()}else e.Mb(r);break;case 5:if(r==i.Type.LIST){var m,I=0;this.rankings=[];m=e.a_(),m.h_,I=m.size;for(var S=0;S<I;++S){var R=null;R=e.Fb().value,this.rankings.push(R)}e.c_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerQuery.prototype.write=function(e){if(e.Hb("TrackerQuery"),null!==this.random&&void 0!==this.random&&(e.xb("random",i.Type.I32,1),e.Vb(this.random),e.Gb()),null!==this.asns&&void 0!==this.asns){e.xb("asns",i.Type.MAP,2),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.asns));for(var t=0;t<this.asns.length;t++){var r=this.asns[t],n=r.key,s=r.value;n.write(e),e.Vb(s)}e.BC(),e.Gb()}if(null!==this.watchers&&void 0!==this.watchers){e.xb("watchers",i.Type.MAP,3),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.watchers));for(var t=0;t<this.watchers.length;t++){var r=this.watchers[t],o=r.key,a=r.value;o.write(e),e.Vb(a)}e.BC(),e.Gb()}if(null!==this.streamers&&void 0!==this.streamers){e.xb("streamers",i.Type.MAP,4),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.streamers));for(var t=0;t<this.streamers.length;t++){var r=this.streamers[t],h=r.key,c=r.value;h.write(e),e.Vb(c)}e.BC(),e.Gb()}if(null!==this.rankings&&void 0!==this.rankings){e.xb("rankings",i.Type.LIST,5),e.HC(i.Type.I32,this.rankings.length);for(var u in this.rankings)this.rankings.hasOwnProperty(u)&&(u=this.rankings[u],e.Vb(u));e.xC(),e.Gb()}e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerRankingKey=function(e){this.rankType=null,this.internalAs=null,this.externalAs=null,e&&(void 0!==e.rankType&&(this.rankType=e.rankType),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs))},hive.services.protocol.IF.TrackerPeerRankingKey.prototype={},hive.services.protocol.IF.TrackerPeerRankingKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerRankingKey.prototype.write=function(e){e.Hb("TrackerPeerRankingKey"),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,1),e.Vb(this.rankType),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,2),e.Vb(this.internalAs),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerRanking=function(e){this.key=null,this.ranking=null,this.groupSize=null,this.cumulatedRankValue=null,this.totalOfRankValues=null,e&&(void 0!==e.key&&(this.key=e.key),void 0!==e.ranking&&(this.ranking=e.ranking),void 0!==e.groupSize&&(this.groupSize=e.groupSize),void 0!==e.cumulatedRankValue&&(this.cumulatedRankValue=e.cumulatedRankValue),void 0!==e.totalOfRankValues&&(this.totalOfRankValues=e.totalOfRankValues))},hive.services.protocol.IF.TrackerPeerRanking.prototype={},hive.services.protocol.IF.TrackerPeerRanking.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.key=new hive.services.protocol.IF.TrackerPeerRankingKey,this.key.read(e)):e.Mb(r);break;case 2:r==i.Type.I32?this.ranking=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.groupSize=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.DOUBLE?this.cumulatedRankValue=e.E_().value:e.Mb(r);break;case 5:r==i.Type.DOUBLE?this.totalOfRankValues=e.E_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerRanking.prototype.write=function(e){e.Hb("TrackerPeerRanking"),null!==this.key&&void 0!==this.key&&(e.xb("key",i.Type.STRUCT,1),this.key.write(e),e.Gb()),null!==this.ranking&&void 0!==this.ranking&&(e.xb("ranking",i.Type.I32,2),e.Vb(this.ranking),e.Gb()),null!==this.groupSize&&void 0!==this.groupSize&&(e.xb("groupSize",i.Type.I32,3),e.Vb(this.groupSize),e.Gb()),null!==this.cumulatedRankValue&&void 0!==this.cumulatedRankValue&&(e.xb("cumulatedRankValue",i.Type.DOUBLE,4),e.YC(this.cumulatedRankValue),e.Gb()),null!==this.totalOfRankValues&&void 0!==this.totalOfRankValues&&(e.xb("totalOfRankValues",i.Type.DOUBLE,5),e.YC(this.totalOfRankValues),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerRequest=function(e){this.info=null,this.contentId=null,this.query=null,this.streamType=null,this.sessionId=null,this.customerKey=null,e&&(void 0!==e.info&&(this.info=e.info),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.query&&(this.query=e.query),void 0!==e.streamType&&(this.streamType=e.streamType),void 0!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.customerKey&&(this.customerKey=e.customerKey))},hive.services.protocol.IF.TrackerRequest.prototype={},hive.services.protocol.IF.TrackerRequest.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.info=new hive.services.protocol.IF.TrackerPeerInfo,this.info.read(e)):e.Mb(r);break;case 2:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.query=new hive.services.protocol.IF.TrackerQuery,this.query.read(e)):e.Mb(r);break;case 4:r==i.Type.I32?this.streamType=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 6:r==i.Type.STRUCT?(this.customerKey=new hive.services.protocol.IF.CustomerKey,this.customerKey.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerRequest.prototype.write=function(e){e.Hb("TrackerRequest"),null!==this.info&&void 0!==this.info&&(e.xb("info",i.Type.STRUCT,1),this.info.write(e),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,2),e.qb(this.contentId),e.Gb()),null!==this.query&&void 0!==this.query&&(e.xb("query",i.Type.STRUCT,3),this.query.write(e),e.Gb()),null!==this.streamType&&void 0!==this.streamType&&(e.xb("streamType",i.Type.I32,4),e.Vb(this.streamType),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,5),e.qb(this.sessionId),e.Gb()),null!==this.customerKey&&void 0!==this.customerKey&&(e.xb("customerKey",i.Type.STRUCT,6),this.customerKey.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerResponse=function(e){this.infos=null,this.rankings=null,this.peerInfo=null,this.sessionId=null,e&&(void 0!==e.infos&&(this.infos=e.infos),void 0!==e.rankings&&(this.rankings=e.rankings),void 0!==e.peerInfo&&(this.peerInfo=e.peerInfo),void 0!==e.sessionId&&(this.sessionId=e.sessionId))},hive.services.protocol.IF.TrackerResponse.prototype={},hive.services.protocol.IF.TrackerResponse.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.LIST){var s,o=0;this.infos=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.services.protocol.IF.TrackerPeerInfo,h.read(e),this.infos.push(h)}e.c_()}else e.Mb(r);break;case 2:if(r==i.Type.LIST){var c,u=0;this.rankings=[];c=e.a_(),c.h_,u=c.size;for(var l=0;l<u;++l){var p=null;p=new hive.services.protocol.IF.TrackerPeerRanking,p.read(e),this.rankings.push(p)}e.c_()}else e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.peerInfo=new hive.services.protocol.IF.TrackerPeerInfo,this.peerInfo.read(e)):e.Mb(r);break;case 4:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerResponse.prototype.write=function(e){if(e.Hb("TrackerResponse"),null!==this.infos&&void 0!==this.infos){e.xb("infos",i.Type.LIST,1),e.HC(i.Type.STRUCT,this.infos.length);for(var t in this.infos)this.infos.hasOwnProperty(t)&&(t=this.infos[t],t.write(e));e.xC(),e.Gb()}if(null!==this.rankings&&void 0!==this.rankings){e.xb("rankings",i.Type.LIST,2),e.HC(i.Type.STRUCT,this.rankings.length);for(var r in this.rankings)this.rankings.hasOwnProperty(r)&&(r=this.rankings[r],r.write(e));e.xC(),e.Gb()}null!==this.peerInfo&&void 0!==this.peerInfo&&(e.xb("peerInfo",i.Type.STRUCT,3),this.peerInfo.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,4),e.qb(this.sessionId),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.PF=function(e){this.timestamp=null,this.contentId=null,this.asType=null,this.asn=null,this.bitrate=null,this.streamState=null,this.rankType=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.asType&&(this.asType=e.asType),void 0!==e.asn&&(this.asn=e.asn),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.streamState&&(this.streamState=e.streamState),void 0!==e.rankType&&(this.rankType=e.rankType))},hive.services.protocol.IF.PF.prototype={},hive.services.protocol.IF.PF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.timestamp=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.asType=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.asn=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.streamState=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.PF.prototype.write=function(e){e.Hb("TrackerStoreIndexKey"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I32,1),e.Vb(this.timestamp),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,2),e.qb(this.contentId),e.Gb()),null!==this.asType&&void 0!==this.asType&&(e.xb("asType",i.Type.I32,3),e.Vb(this.asType),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.I32,4),e.Vb(this.asn),e.Gb()),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,5),e.Vb(this.bitrate),e.Gb()),null!==this.streamState&&void 0!==this.streamState&&(e.xb("streamState",i.Type.I32,6),e.Vb(this.streamState),e.Gb()),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,7),e.Vb(this.rankType),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.AF=function(e){this.guid=null,this.OF=null,this.key=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.OF&&(this.OF=e.OF),void 0!==e.key&&(this.key=e.key))},hive.services.protocol.IF.AF.prototype={},hive.services.protocol.IF.AF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.guid=e.v_().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.OF=e.E_().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.key=new hive.services.protocol.IF.TrackerPeerRankingKey,this.key.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.AF.prototype.write=function(e){e.Hb("TrackerStoreRankPeer"),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,1),e.WC(this.guid),e.Gb()),null!==this.OF&&void 0!==this.OF&&(e.xb("rank",i.Type.DOUBLE,2),e.YC(this.OF),e.Gb()),null!==this.key&&void 0!==this.key&&(e.xb("key",i.Type.STRUCT,3),this.key.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.NF=function(e){this.timestamp=null,this.request=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.request&&(this.request=e.request))},hive.services.protocol.IF.NF.prototype={},hive.services.protocol.IF.NF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.request=new hive.services.protocol.IF.TrackerRequest,this.request.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.NF.prototype.write=function(e){e.Hb("TrackerRequestQueueMessage"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.request&&void 0!==this.request&&(e.xb("request",i.Type.STRUCT,2),this.request.write(e),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.id=e,this.bitrate=t,this.duration=r,this.uri=i,this.yM=n}return e}();t.DF=i},function(e,t,r){"use strict";var i=r(1),n=function(){function e(e,t,r){this.start=e,this.end=t,this.total=r}return e.prototype.size=function(){var e=this.end-this.start+1;return Number.isInteger(e)||(i.ErrorMonitor.ve().logError("Segment Size is a Float",{size:e}),e=Math.round(e)),0==this.end&&0==this.start?0:e},e.prototype.kF=function(){return 0==this.start&&(this.end==this.total-1||this.end==this.total&&0==this.total)},e.prototype.LF=function(){return this.end==this.total-1||this.end==this.total&&0==this.total},e.prototype.MF=function(e){return e.start<=this.start&&this.start<=e.end},e.prototype.toString=function(){return"R[S="+this.start+",E="+this.end+",T="+this.total+"]"},e}();t.FF=n;var s=function(){function e(){}return e.UF=function(e){return e.split("-")},e.BF=function(e){var t=e.split("=",4),r=t[1].substr(0,t[1].indexOf(",")),i=t[2].substr(0,t[2].indexOf(",")),s=t[3].substr(0,t[3].indexOf("]"));return new n(+r,+i,+s)},e}();t.HF=s},function(e,t){e.i=function(e){return e.xF||(e.qF=function(){},e.GF=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{p:!0,get:function(){return e.o}}),Object.defineProperty(e,"id",{p:!0,get:function(){return e.s}}),e.xF=1),e}},function(e,t){function r(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var s=n>=0?arguments[n]:process.VF();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,t="/"===s.charAt(0))}return e=r(i(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},t.normalize=function(e){var n=t.jF(e),s="/"===o(e,-1);return e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.jF=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.QF=function(e,r){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=i(e.split("/")),s=i(r.split("/")),o=Math.min(n.length,s.length),a=o,h=0;h<o;h++)if(n[h]!==s[h]){a=h;break}for(var c=[],h=a;h<n.length;h++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},t.KF="/",t.YF=":",t.WF=function(e){var t=s(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},t.zF=function(e,t){var r=s(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.JF=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}},function(e,t,r){"use strict";function i(e,t){Array.prototype[e]||Object.defineProperty(Array.prototype,e,{value:t,Ah:!0,l:!0,p:!1})}function n(e,t,r){this.NT=e,this.start=null==t?0:t,this.end=r}var s=(r(66),r(12)),o=r(67),a=r(37);e.i=Array;var h=Array.prototype.splice,c=Array.prototype.slice;Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=Array.from||function(e){var t=[];return t.addEach(e),t},Array.Mc=function(e){for(var t=[],r=1/0,i=0;i<e.length;i++){var n=e[i];e[i]=n.toArray(),n.length<r&&(r=n.length)}for(var i=0;i<e.length;i++)for(var n=e[i],s=0;s<n.length;s++)s<r&&s in n&&(t[s]=t[s]||[],t[s][i]=n[s]);return t},i("addEach",s.prototype.addEach),i("deleteEach",s.prototype._c),i("toArray",s.prototype.toArray),i("toObject",s.prototype.Pc),i("all",s.prototype.all),i("any",s.prototype.uo),i("min",s.prototype.min),i("max",s.prototype.max),i("sum",s.prototype.Nc),i("average",s.prototype.Dc),i("only",s.prototype.only),i("flatten",s.prototype.kc),i("zip",s.prototype.Lc),i("enumerate",s.prototype.enumerate),i("group",s.prototype.group),i("sorted",s.prototype.Fc),i("reversed",s.prototype.reversed),i("constructClone",function(e){var t=new this.constructor;return t.addEach(e),t}),i("has",function(e,t){return-1!==this.find(e,t)}),i("set",function(e,t){return this[e]=t,!0}),i("add",function(e){return this.push(e),!0}),i("delete",function(e,t){var r=this.find(e,t);return-1!==r&&(this.splice(r,1),!0)}),i("deleteAll",function(e,t){t=t||this.ls||Object.cs;for(var r=0,i=0;i<this.length;)t(e,this[i])?(this.qk(i,1),r++):i++;return r}),i("find",function(e,t){t=t||this.ls||Object.cs;for(var r=0;r<this.length;r++)if(r in this&&t(e,this[r]))return r;return-1}),i("findLast",function(e,t){t=t||this.ls||Object.cs;var r=this.length;do{if(--r in this&&t(this[r],e))return r}while(r>0);return-1}),i("swap",function(e,t,r){var i,n,s,o,a;if(e>this.length&&(this.length=e),void 0!==r){if(i=[e,t],Array.isArray(r)||(r=c.call(r)),s=0,(n=r.length)<1e3){for(s;s<n;s++)i[s+2]=r[s];return h.apply(this,i)}for(a=h.apply(this,i),s;s<n;){for(i=[e+s,0],o=2;o<1002&&s<n;o++,s++)i[o]=r[s];h.apply(this,i)}return a}return void 0!==t?h.call(this,e,t):void 0!==e?h.call(this,e):[]}),i("peek",function(){return this[0]}),i("poke",function(e){this.length>0&&(this[0]=e)}),i("peekBack",function(){if(this.length>0)return this[this.length-1]}),i("pokeBack",function(e){this.length>0&&(this[this.length-1]=e)}),i("one",function(){for(var e in this)if(Object.OA(this,e))return this[e]}),Array.prototype.clear||i("clear",function(){return this.length=0,this}),i("compare",function(e,t){t=t||Object.Oc;var r,i,n,s,a;if(this===e)return 0;if(!e||!Array.isArray(e))return o.prototype.Oc.call(this,e,t);for(i=Math.min(this.length,e.length),r=0;r<i;r++)if(r in this){if(!(r in e))return-1;if(n=this[r],s=e[r],a=t(n,s))return a}else if(r in e)return 1;return this.length-e.length}),i("equals",function(e,t){t=t||Object.cs;var r,i,n=0,s=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return o.prototype.cs.call(this,e);if(s!==e.length)return!1;for(;n<s;++n)if(n in this){if(!(n in e))return!1;if(r=this[n],i=e[n],!t(r,i))return!1}else if(n in e)return!1;return!0}),i("clone",function(e,t){if(null==e)e=1/0;else if(0===e)return this;if(t=t||new a,t.has(this))return t.get(this);var r=new Array(this.length);t.set(this,r);for(var i in this)r[i]=Object.clone(this[i],e-1,t);return r}),i("iterate",function(e,t){return new n(this,e,t)}),i("Iterator",n),n.prototype.Gk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),n.prototype.next=function(){return this.start===(null==this.end?this.NT.length:this.end)?(this.Vk.done=!0,this.Vk.value=void 0):this.Vk.value=this.NT[this.start++],this.Vk}},function(e,t){e.i=Function,Function.us=function(){},Function.identity=function(e){return e},Function.Uc=function(e,t){t=t||Object.Oc,e=e||Function.identity;var r=function(r,i){return t(e(r),e(i))};return r.Oc=t,r.Uc=e,r},Function.get=function(e){return function(t){return Object.get(t,e)}}},function(e,t,r){function i(){throw new Error("Can't construct. GenericOrder is a mixin.")}var n=r(36);e.i=i,i.prototype.cs=function(e,t){if(t=t||this.ls||n.cs,this===e)return!0;if(!e)return!1;return this.length===e.length&&this.Lc(e).every(function(e){return t(e[0],e[1])})},i.prototype.Oc=function(e,t){if(t=t||this.Ac||n.Oc,this===e)return 0;if(!e)return 1;var r=Math.min(this.length,e.length),i=this.Lc(e).reduce(function(e,i,n){return 0===e?n>=r?e:t(i[0],i[1]):e},0);return 0===i?this.length-e.length:i},i.prototype.toJSON=function(){return this.toArray()}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.cs,r=r||Object.hash,n=n||Function.us,this.ls=t,this.ps=r,this.ds=n,this.order=new this.XF(void 0,t),this.fs=new this.ZF(void 0,function(e,r){return t(e.value,r.value)},function(e){return r(e.value)}),this.length=0,this.addEach(e)}var n=(r(11),r(50)),s=r(102),o=r(12),a=r(39),h=r(13),c=r(38),u=r(103);e.i=i,i.Set=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.defineProperty(i.prototype,"size",o.gs),i.prototype.XF=n,i.prototype.ZF=s,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.has=function(e){var t=new this.order.Node(e);return this.fs.has(t)},i.prototype.get=function(e,t){if(t)throw new Error("Set#get does not support second argument: equals");var r=new this.order.Node(e);return r=this.fs.get(r),r?r.value:this.ds(e)},i.prototype.add=function(e){var t=new this.order.Node(e);if(!this.fs.has(t)){var r=this.length;return this.Mk&&this.QA([e],[],r),this.order.add(e),t=this.order.head.Ok,this.fs.add(t),this.length++,this.Mk&&this.GA([e],[],r),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("Set#delete does not support second argument: equals");var r=new this.order.Node(e);return!!this.fs.has(r)&&(r=this.fs.get(r),this.Mk&&this.QA([],[e],r.index),this.fs.delete(r),this.order.splice(r,1),this.length--,this.Mk&&this.GA([],[e],r.index),!0)},i.prototype.pop=function(){if(this.length){var e=this.order.head.Ok.value;return this.delete(e),e}},i.prototype.shift=function(){if(this.length){var e=this.order.head.next.value;return this.delete(e),e}},i.prototype.Bc=function(){if(this.length>0)return this.fs.Bc().value},i.prototype.clear=function(){var e;this.Mk&&(e=this.toArray(),this.QA([],e,0)),this.fs.clear(),this.order.clear(),this.length=0,this.Mk&&this.GA([],e,0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.order.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},i.prototype.reduceRight=function(e,t){var r=arguments[2],i=this.order,n=this.length-1;return i.reduceRight(function(t,i){return e.call(r,t,i,n--,this)},t,this)},i.prototype.Hc=function(){return this.order.Hc()},i.prototype.values=function(){return new u(this)},i.prototype.log=function(){var e=this.fs;return e.log.apply(e,arguments)},i.prototype.Xc=function(){this.order.Xc()}},function(e,t,r){"use strict";function i(){}e.i=i,i.$F={WA:"+",eU:"-",tU:"+",rU:"+",iU:".",nU:"'",sU:"+",oU:"|"},i.aU={WA:"╋",eU:"━",tU:"┻",rU:"┳",iU:"╭",nU:"╰",sU:"┣",oU:"┃"},i.hU={WA:"╋",eU:"━",tU:"┻",rU:"┳",iU:"┏",nU:"┗",sU:"┣",oU:"┃"}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.dO="127.0.0.1",i.rL=11983,i.fO="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",i.cU="//{0}:{1}/proxy/{2}/session?manifest={3}",i.eL="//{0}:{1}/proxy/{2}/player?req={3}",i.uU="//{0}:{1}/proxy/{2}/info?{3}",t.tL=i},function(e,t,r){"use strict";var i=r(7),n=r(1),s=function(){function e(e){this.loggerId="[HiveXHR] ",this.DONE=4,this.LOADING=3,this.HEADERS_RECEIVED=2,this.OPENED=1,this.UNSENT=0,this.username=null,this.password=null,this.lU=[],this.responseType="",this.readyState=this.UNSENT,this.status=0,this.async=!0,this.timeout=0,this.events={},e&&(this.sessionId=e)}return e.prototype.addEventListener=function(e,t,r){this.events[e]=this.events[e]||[],this.events[e].push(t)},e.prototype.removeEventListener=function(e,t,r){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))},e.prototype.dispatchEvent=function(e){var t=this;this.events[e.type]&&this.events[e.type].forEach(function(r){try{"function"==typeof r?r.call(t,e):"function"==typeof r.CL&&r.CL(e)}catch(r){n.ErrorMonitor.ve().logError(t.loggerId+"Error in callback handler '"+e.type+"'",{error:r})}});var r=this["on"+e.type];if("function"==typeof r)try{r.call(this,e)}catch(t){n.ErrorMonitor.ve().logError(this.loggerId+"Error in callback handler '"+e.type+"'",{error:t})}return!1},e.prototype.msCachingEnabled=function(){return void 0!==this.msCaching},e.prototype.overrideMimeType=function(e){this.mimeType=e},e.register=function(t,r){e.ub[t]=r},e.prototype.pU=function(t){this.sessionId||(this.sessionId=e.ub[t])},e.prototype.open=function(e,t,r,n,s){void 0===r&&(r=!0),void 0===n&&(n=null),void 0===s&&(s=null),this.url=t.trim(),this.method=e,this.username=n,this.password=s,this.async=r,this.readyState=this.OPENED;var o=i.rc.createEvent(Event,"readystatechange",{currentTarget:this});this.dispatchEvent(o)},e.prototype.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");this.lU.push({key:e,value:t})},e.prototype.getResponseHeader=function(e){var t=this.getAllResponseHeaders();if(t){var r=[];return t.split(/[\r\n]+/).forEach(function(e){var t=e.match(/^([^:]+): ?(.+)$/);t&&(r[t[1]]=t[2])}),r[e.toLowerCase()]}return null},e.prototype.getAllResponseHeaders=function(){return this.responseHeaders},e.prototype.onload=function(e){},e.prototype.onloadend=function(e){},e.prototype.onerror=function(e){},e.prototype.onprogress=function(e){},e.prototype.onreadystatechange=function(e){},e.prototype.onabort=function(e){},e.prototype.onloadstart=function(e){},e.prototype.ontimeout=function(e){},e}();s.ub={},s.Ag=0,t.pb=s},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(53),s=r(7),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.registerTech=function(e,r){t.iL[r]=e},t.registerComm=function(e,r){t.nL[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.nL);e.length>0&&(this.sessionId=t.nL[e[0]])}var r=t.iL[this.sessionId],i=t.nL[this.sessionId];i.logger().debug("Intercepted Manifest Request "+this.url),r.oL(this),i.onActivateSession(this.url)},t.prototype.dU=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(r){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.onreadystatechange(s.rc.createEvent(Event,"readystatechange",r,e)),e.onload(s.rc.createEvent(ProgressEvent,"load",r,e)),console.debug("Returned Manifest Request "+e.url))},t.send()},t.prototype.fU=function(){e.prototype.send.call(this)},t}(n.Zu);o.nL={},o.iL={},t.$u=o},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(15),s=r(0),o=r(32),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Api=function(){return t.app="JS",s.Framework.resolve(n.qu._u)},t}(o.Hive);t.lb=a},function(e,t,r){function i(e,r){var i={gU:[],EU:s};return arguments.length>=3&&(i.vU=arguments[2]),arguments.length>=4&&(i.yU=arguments[3]),f(r)?i.TU=r:r&&t.mU(i,r),m(i.TU)&&(i.TU=!1),m(i.vU)&&(i.vU=2),m(i.yU)&&(i.yU=!1),m(i.IU)&&(i.IU=!0),i.yU&&(i.EU=n),a(i,e,i.vU)}function n(e,t){var r=i.SU[t];return r?"["+i.yU[r][0]+"m"+e+"["+i.yU[r][1]+"m":e}function s(e,t){return e}function o(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,r,i){if(e.IU&&r&&b(r.Is)&&r.Is!==t.Is&&(!r.constructor||r.constructor.prototype!==r)){var n=r.Is(i,e);return y(n)||(n=a(e,n,i)),n}var s=h(e,r);if(s)return s;var f=Object.keys(r),g=o(f);if(e.TU&&(f=Object.getOwnPropertyNames(r)),w(r)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return c(r);if(0===f.length){if(b(r)){var E=r.name?": "+r.name:"";return e.EU("[Function"+E+"]","special")}if(I(r))return e.EU(RegExp.prototype.toString.call(r),"regexp");if(R(r))return e.EU(Date.prototype.toString.call(r),"date");if(w(r))return c(r)}var v="",T=!1,m=["{","}"];if(d(r)&&(T=!0,m=["[","]"]),b(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(I(r)&&(v=" "+RegExp.prototype.toString.call(r)),R(r)&&(v=" "+Date.prototype.toUTCString.call(r)),w(r)&&(v=" "+c(r)),0===f.length&&(!T||0==r.length))return m[0]+v+m[1];if(i<0)return I(r)?e.EU(RegExp.prototype.toString.call(r),"regexp"):e.EU("[Object]","special");e.gU.push(r);var S;return S=T?u(e,r,i,g,f):f.map(function(t){return l(e,r,i,g,t,T)}),e.gU.pop(),p(S,v,m)}function h(e,t){if(m(t))return e.EU("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.EU(r,"string")}return v(t)?e.EU(""+t,"number"):f(t)?e.EU(""+t,"boolean"):g(t)?e.EU("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,i,n){for(var s=[],o=0,a=t.length;o<a;++o)O(t,String(o))?s.push(l(e,t,r,i,String(o),!0)):s.push("");return n.forEach(function(n){n.match(/^\d+$/)||s.push(l(e,t,r,i,n,!0))}),s}function l(e,t,r,i,n,s){var o,h,c;if(c=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},c.get?h=c.set?e.EU("[Getter/Setter]","special"):e.EU("[Getter]","special"):c.set&&(h=e.EU("[Setter]","special")),O(i,n)||(o="["+n+"]"),h||(e.gU.indexOf(c.value)<0?(h=g(r)?a(e,c.value,null):a(e,c.value,r-1),h.indexOf("\n")>-1&&(h=s?h.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+h.split("\n").map(function(e){return"   "+e}).join("\n"))):h=e.EU("[Circular]","special")),m(o)){if(s&&n.match(/^\d+$/))return h;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.EU(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.EU(o,"string"))}return o+": "+h}function p(e,t,r){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function E(e){return null==e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function T(e){return"symbol"==typeof e}function m(e){return void 0===e}function I(e){return S(e)&&"[object RegExp]"===_(e)}function S(e){return"object"==typeof e&&null!==e}function R(e){return S(e)&&"[object Date]"===_(e)}function w(e){return S(e)&&("[object Error]"===_(e)||e instanceof Error)}function b(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function _(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,s=n.length,o=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<s;a=n[++r])g(a)||!S(a)?o+=" "+a:o+=" "+i(a);return o},t.qF=function(e,r){function i(){if(!n){if(process.RU)throw new Error(r);process.wU?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(m(global.process))return function(){return t.qF(e,r).apply(this,arguments)};if(!0===process.bU)return e;var n=!1;return i};var D,k={};t.CU=function(e){if(m(D)&&(D=process.Ms._U||""),e=e.toUpperCase(),!k[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var r=process.PU;k[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else k[e]=function(){};return k[e]},t.Is=i,i.yU={bold:[1,22],AU:[3,23],OU:[4,24],inverse:[7,27],NU:[37,39],DU:[90,39],kU:[30,39],blue:[34,39],LU:[36,39],green:[32,39],MU:[35,39],red:[31,39],FU:[33,39]},i.SU={UU:"cyan",number:"yellow",BU:"yellow",undefined:"grey",HU:"bold",string:"green",_m:"magenta",xU:"red"},t.isArray=d,t.Ey=f,t.yy=g,t.sL=E,t.Ty=v,t.my=y,t.qU=T,t.Iy=m,t.GU=I,t.au=S,t.VU=R,t.jU=w,t.vy=b,t.QU=C,t.isBuffer=r(107);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.vb=r(108),t.mU=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}},function(e,t,r){"use strict";var i=r(18),n=r(3),s=r(33);r(114),r(115);var o=r(0),a=r(8),h=r(27),c=r(23),u=r(19),l=r(14),p=r(1),d=r(18);!function(e){var t=function(){function e(){this.metrics=new hive.snapshots.Metrics,this.KU=new hive.snapshots.Traffic,this.YU=new n,this.WU=new n,this.zU=new n,this.player=new hive.snapshots.Player}return e}();e.JU=t;var r=function(){function t(){this.ticket=null,this.XU=0,this.ZU=0,this.testId=null,this.$U()}return t.prototype.init=function(e,t,r,i){this.logger=o.Framework.resolve(o.Framework.V.R).log(i),this.ud=o.Framework.resolve(a.pc.sc),this.logger.debug("[SNAP] INIT STATS STORE - ID: "+e),this.gd=e,this.ticket=t,this.Vl(r)},t.prototype.NL=function(e){this.testId=e},t.prototype.eB=function(e){this.tB=e},t.prototype.Vl=function(e){this.app=e},t.prototype.rB=function(e){this.yD=e},t.prototype.$U=function(){this.iB=new e.JU,this.gd=null,this.ticket=null,this.reset()},t.prototype.reset=function(){this.FL=new e.JU,this.nB(this.FL.KU),this.sB(this.FL)},t.prototype.nB=function(e){e.reqN=0,e.respFallbackN=0,e.respFallbackErrN=0,e.respP2pN=0,e.reqOtherN=0,e.respFallbackOtherN=0,e.respFallbackOthertErrN=0,e.srcReqN=0,e.srcRespN=0,e.srcRespErrN=0,e.srcReqQt=0,e.srcRespQt=0,e.srcOverQt=0,e.srcOtherReqN=0,e.srcOtherRespN=0,e.srcOtherRespErrN=0,e.srcOtherReqQt=0,e.srcOtherRespQt=0,e.srcOtherOverQt=0,e.p2pSubReqN=0,e.p2pSubRespN=0,e.p2pSubRespPartN=0,e.p2pSubRespErrN=0,e.p2pSubRespExpN=0,e.p2pSubReqQt=0,e.p2pSubRespQt=0,e.p2pDirectQt=0,e.p2pRelayQt=0,e.p2pNatQt=0,e.p2pUdpbQt=0,e.fallAgentRespN=0,e.fallAgentPredHitN=0,e.fallAgentFailedRespN=0,e.fallAgenTrafficSuccessQt=0,e.p2pAgentPredHitN=0,e.p2pAgentPredMissN=0,e.p2pAgentPredPartialHitN=0,e.p2pAgenTrafficSuccessQt=0,e.p2pAgenTrafficFailureQt=0},t.prototype.sB=function(e){e.metrics.videoBufN=0,e.metrics.videoBufQt=0,e.metrics.clientBufferMs=0,e.metrics.lookupNotFound=0,e.metrics.lookupTotal=0,e.metrics.lookupLatency=0,e.metrics.lookupReqAccept=0,e.metrics.lookupReqEstablished=0,e.metrics.lookupFailed=0,e.player.bufferingN=0,e.player.bufferingMs=0},t.prototype.xc=function(e){var t=this;void 0===e&&(e=!0);var r=new hive.snapshots.MetricSnapshot;r.timestamp=o.Framework.time(),r.guid=this.gd,r.sessionId=this.ticket.sessionId,r.eventId=new EventId,r.eventId.partnerId=this.ticket.up(),r.eventId.customerId=this.ticket.cp(),r.eventId.contentId=this.ticket.hp();try{var n=new hive.snapshots.ClientInfo;n.clientType=this.oB();var s=this.app.version.split(".");if(n.majorVersion=parseInt(s[0]),n.minorVersion=parseInt(s[1]),n.patchVersion=parseInt(s[2]),r.client=n,null!=this.testId){var a=new TestInfo;a.testId=this.testId,r.aB=a}}catch(e){this.logger.warn("[SNAP] error setting Snapshot ClientInfo",e)}if(this.yD){var h=new hive.snapshots.AgentInfo;h.firstTierBitrates=this.yD.hB(),h.secondTierBitrates=this.yD.cB(),r.agentInfo=h}r.streamInfo=this.OL.uB(),r.traffic=[];var c=new hive.snapshots.TrafficKey;if(r.traffic.push({key:c,value:this.FL.KU}),this.FL.YU.forEach(function(e,t){var i=new hive.snapshots.TrafficKey;i.bitrate=t,r.traffic.push({key:i,value:e})}),r.metrics=this.FL.metrics,this.tB&&(r.metrics.clientBufferMs=this.tB.min()),r.player=this.FL.player,this.lB){var u=this.lB.pB();this.FL.metrics.prtOutN=u.dB+u.fB,this.FL.metrics.prtInN=u.gB+u.EB;var l=this.lB.vB();l.forEach(function(e,i){t.yB(i,e,r)}),this.FL.zU.filter(function(e,t){return!l.has(t)}).forEach(function(e,i){t.yB(i,e,r)})}return r.connInfo=new hive.snapshots.ConnectivityInfo,e?this.ud.getConnectivityInfo().then(function(e){return r.connInfo.privateIp=i.kl.getPrivateIp(e.getNetworkChanged()),t.TB(t.mB(r))}).fail(function(e){return t.TB(t.mB(r))}):(r.connInfo.privateIp=i.kl.getPrivateIp(this.ud.Md().getNetworkChanged()),this.TB(r))},t.prototype.mB=function(e){return e.connInfo.internalAs=this.XU,e.connInfo.externalAs=this.ZU,e.connInfo.publicIp=this.IB,e},t.prototype.TB=function(e,t){void 0===t&&(t=[]);var r=d.ml(e,"snapshot");return r.length&&p.ErrorMonitor.ve().logError("NaN found in MetricSnapshot","[SNAP]",{keysWithNaN:r,snapshot:e}),t.length=0,t.push.apply(t,r),e},t.prototype.oB=function(){var e;switch(this.app.app){case"JS":e=ClientType.SB;break;case"PROXY":e=ClientType.RB;break;default:e=ClientType.wB}return e},t.prototype.yB=function(e,t,r){var i=this.FL.WU.get(e);t.traffic=i,r.partners||(r.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=e,r.partners.push({key:n,value:t})},t.prototype.wL=function(e,t){e>0&&(this.FL.metrics.videoBufN++,this.FL.metrics.videoBufQt+=e,this.FL.player.bufferingN++,this.FL.player.bufferingMs+=e),this.FL.player.playerBufferMs=t},t.prototype.xL=function(){return this.FL.KU},t.prototype.bB=function(){return this.iB.KU},t.prototype.CB=function(e){return this.iB.YU.has(e)||this.iB.YU.set(e,new hive.snapshots.Traffic),this.iB.YU.get(e)},t.prototype.BL=function(e){if(!this.FL.YU.has(e)){var t=new hive.snapshots.Traffic;this.nB(t),this.FL.YU.set(e,t)}return this.FL.YU.get(e)},t.prototype._B=function(){var e=new hive.snapshots.PartnerTraffic;return e.p2pSuccReq=0,e.p2pFailReq=0,e.p2pPartReq=0,e.p2pSuccReceived=0,e.p2pSuccReceivedLow=0,e.p2pFailReceived=0,e.p2pSuccResp=0,e.p2pFailResp=0,e.p2pPartResp=0,e.p2pSuccSent=0,e.p2pSuccSentLow=0,e.p2pFailSent=0,e},t.prototype.PB=function(e,t){return t.WU.has(e)||t.WU.set(e,this._B()),t.WU.get(e)},t.prototype.AB=function(e){return this.PB(e,this.FL)},t.prototype.OB=function(e){return this.PB(e,this.iB)},t.prototype.NB=function(e){this.ud=e},t.prototype.DB=function(e){this.lB=e},t.prototype.Ud=function(e){},t}();e.ZF=r;var f=function(){function e(){this.kB=isNaN(l.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:l.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u.Ml.Ll,this.client=o.Framework.resolve(a.pc.G),this.yg=new s.Yb,this.protocol=new s.bC(this.yg)}return e.prototype.init=function(e,t){this.logger=o.Framework.resolve(o.Framework.V.R).log(t),this.logger.debug("[SNAP] INIT CLIENT STATS"),this.fs=e,this.LB()},e.prototype.LB=function(){var e=this;this.MB>-1&&o.Framework.clearInterval(this.MB),this.MB=o.Framework.setInterval(function(){e.snapshot()},h.Gd.qd.PE)},e.prototype.nl=function(e){this.state=e},e.prototype.IL=function(){if(this.fs)return this.snapshot(!1)},e.prototype.reset=function(e){o.Framework.clearInterval(this.MB),this.fs&&(!1===e?this.fs.reset():this.fs.$U())},e.prototype.snapshot=function(e){var t=this;void 0===e&&(e=!0);var r=this.fs.xc(e);e?(this.logger.debug("[SNAP] TAKING SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.logger.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)}).finally(function(){t.fs.reset()})):(this.logger.debug("[SNAP] FLUSHING SNAPSHOT"),this.forward(r))},e.prototype.forward=function(e){var t=this;if(this.state===u.Ml.IDLE||this.state===u.Ml.STOP)return void this.logger.debug("[SNAP] not send - state "+u.Ml[this.state]);if(this.client&&this.client.zd()){switch(this.kB){case 0:default:this.logger.debug("[SNAP] SENDING SNAPSHOT");break;case 1:this.logger.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e));break;case 2:this.logger.debug("[SNAP] SENDING SNAPSHOT",e);break;case 3:this.logger.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e),e)}this.protocol.AC("SNAPSHOT",s.gb.ONEWAY,0),e.write(this.protocol),this.protocol.DC();var r=this.yg.pC(),i=this.FB(r,",",4),n=r.slice(i+1,r.length-1),o=new c.Jd(Services.Xd,1,n);this.client.zd().send(o).fail(function(e){t.logger.warn("[SNAP] PROBLEM: ",e)})}},e.prototype.FB=function(e,t,r){return e.split(t,r).join(t).length},e}();e.ql=f}(t.Stats||(t.Stats={}))},function(e,t,r){"use strict";var i=r(4),n=r(30),s=r(116),o=r(0),a=r(27),h=r(23),c=r(6),u=c.he.gh,l=function(){function e(){this.logger=o.Framework.resolve(o.Framework.V.R).log(),this.logger.debug("INIT SERVICE CLIENT")}return e.prototype.init=function(e,t){var r=this;if(this.UB)this.UB.then(function(){var e={partnerId:t.up(),customerId:t.cp(),contentId:t.hp(),secret:t.CN()},i=new h.Jd(Services.BB,1,JSON.stringify(e));r.connection.send(i)});else{var o=i.defer(),c=a.Gd.qd.bE;t.bN&&(u?c=a.Gd.qd.CE:(this.logger.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),o.reject(new Error("test ticket in production"))));var l=new n(c),p=l.Sw({"connection-id":e,partner_id:t.up(),customer_id:t.cp(),content_id:t.hp(),ticket:t.CN()}).toString();this.connection=new s.HB(p,a.Gd.qd.AE,a.Gd.qd.OE,a.Gd.qd.NE),this.connection.xB(function(){r.logger.debug("HIVE SERVICES CONNECTED"),o.resolve(r.connection)}),this.connection.onerror(function(){r.logger.warn("Hive Services Connection failed"),o.reject(r.connection)}),this.UB=o.Ss}return{np:this.connection,Ss:this.UB}},e.prototype.connect=function(){this.connection&&this.connection.connect(!0)},e.prototype.SD=function(e){},e.prototype.zd=function(){return this.connection},e.prototype.close=function(){this.connection&&(this.UB=null,this.connection.close(!1))},e}();t.qB=l},function(e,t,r){"use strict";r(117);var i=r(4),n=r(3),s=r(0),o=r(46),a=function(){function e(e){this.ef=(new Date).getTime(),this.GB=e}return e}(),h=function(){function e(){this.VB=new n,this.logger=(s.Framework.resolve(s.Framework.V.R)||console).log(),this.logger.debug("INIT TICKET RESOLVER")}return e.prototype.resolve=function(e,t,r){var n=this,s=i.defer();return e&&(e.on(Services.BB,0,function(e){n.jB(e)}),e.on(Services.BB,2,function(e){n.jB(e)}),this.VB.set(t,new a(s))),s.Ss},e.prototype.jB=function(e){var t=this,r=(new Date).getTime(),i=JSON.parse(e.msg),n=!1;this.VB.forEach(function(e,s){if(t.QB(s,i)){n=!0;var o=t.KB(s,i);o?(o.ef=e.ef,o.rf=r,e.GB.resolve(o)):e.GB.reject("Ticket verification failed"),t.VB.delete(o)}}),n||this.logger.warn("no pending ticket matching: "+e.msg)},e.prototype.$l=function(e){if(new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?").test(e)){var t=this.YB();return t.RN(e),t}return null},e.prototype.YB=function(){return new o.BN},e.prototype.QB=function(e,t){return e.up()===t[o.BN.FN]&&e.cp()===t[o.BN.MN]&&e.hp()===t[o.BN.UN]},e.prototype.KB=function(e,t){return e.mN(t),e.SN()?e:null},e}();t.WB=h},function(e,t,r){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
!function(t){"use strict";function i(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){n<16&&(t[i+n++]=f[e])});n<16;)t[i+n++]=0;return t}function n(e,t){var r=t||0,i=d;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function s(e,t,r){var i=t&&r||0,s=t||[];e=e||{};var o=null!=e.zB?e.zB:y,a=null!=e.JB?e.JB:(new Date).getTime(),h=null!=e.XB?e.XB:m+1,c=a-T+(h-m)/1e4;if(c<0&&null==e.zB&&(o=o+1&16383),(c<0||a>T)&&null==e.XB&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=a,m=h,y=o,a+=122192928e5;var u=(1e4*(268435455&a)+h)%4294967296;s[i++]=u>>>24&255,s[i++]=u>>>16&255,s[i++]=u>>>8&255,s[i++]=255&u;var l=a/4294967296*1e4&268435455;s[i++]=l>>>8&255,s[i++]=255&l,s[i++]=l>>>24&15|16,s[i++]=l>>>16&255,s[i++]=o>>>8|128,s[i++]=255&o;for(var p=e.ZB||v,d=0;d<6;d++)s[i+d]=p[d];return t||n(s)}function o(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var s=e.random||(e.$B||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;o++)t[i+o]=s[o];return t||n(s)}var a,h,c,u,l;t?function(){var e=t.crypto||t.msCrypto;if(!a&&e&&e.getRandomValues)try{var r=new Uint8Array(16);u=a=function(){return e.getRandomValues(r),r},a()}catch(e){}if(!a){var i=new Array(16);h=a=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=r(118).eH;c=a=e&&function(){return e(16)},a()}catch(e){}}();for(var p="function"==typeof Buffer?Buffer:Array,d=[],f={},g=0;g<256;g++)d[g]=(g+256).toString(16).substr(1),f[d[g]]=g;var E=a(),v=[1|E[0],E[1],E[2],E[3],E[4],E[5]],y=16383&(E[6]<<8|E[7]),T=0,m=0,I=o;I.tH=s,I.ON=o,I.parse=i,I.rH=n,I.iH=p,I.nH=a,I.sH=h,I.oH=c,I.aH=u,void 0!==e&&e.i?e.i=I:(l=t.uuid,I.wo=function(){return t.uuid=l,I},t.uuid=I)}("undefined"!=typeof window?window:null)},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(78),o=r(0),a=r(27),h=r(119),c=function(){function e(){this.hH="IdentityStore",this.cH="IdentityDB",this.gd=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,o.Framework&&o.Framework.resolve(o.Framework.V.R)?this.logger=o.Framework.resolve(o.Framework.V.R).log():this.logger=console}return e.prototype.uH=function(){var e=this,t=n.defer(),r=indexedDB.open(this.cH);return r.onupgradeneeded=function(){var t=r.result;t.createObjectStore(e.hH,{keyPath:"id"})},r.onsuccess=function(){var e=r.result;t.resolve(e)},r.onerror=function(e){t.reject(e)},t.Ss},e.prototype.Zl=function(){var e=this;if(this.lH)return this.lH;var t=n.defer();if(this.gd)t.resolve(new h.pH(this.gd));else if(a.Gd.Eh&&this.indexedDB){var r=setTimeout(function(){e.logger.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd),t.resolve(new h.pH(e.gd))},4e3);try{var i=this.uH();i.then(function(i){var n=i.transaction(e.hH,"readwrite"),s=n.objectStore(e.hH),o=s.get("MYID");o.onsuccess=function(){if(clearTimeout(r),e.gd)t.resolve(new h.pH(e.gd));else if(null!=o.result&&a.Gd.Eh){var n=o.result.value;e.logger.debug("[HiveComm] Retrieved persistent UUID: "+n),e.gd=n,i.close(),t.resolve(new h.pH(e.gd))}else{var s=e.dH();e.fH(i,s),t.resolve(new h.pH(e.gd))}},o.onerror=function(i){clearTimeout(r),e.gd||(e.logger.warn("[HiveComm] error retrieving persistent UUID: "+i),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd)),t.resolve(new h.pH(e.gd))}}).fail(function(i){clearTimeout(r),e.gd||(e.logger.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+i),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd)),t.resolve(new h.pH(e.gd))})}catch(e){this.gd=this.dH(),this.logger.debug("[HiveComm] Persistence error - Generate UUID: "+this.gd,e),t.resolve(new h.pH(this.gd))}}else this.gd=this.dH(),this.logger.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.gd),t.resolve(new h.pH(this.gd));return this.lH=t.Ss,this.lH},e.prototype.fH=function(e,t){var r=this,i=e.transaction(this.hH,"readwrite");i.objectStore(this.hH).put({id:"MYID",value:t}),i.oncomplete=function(){r.logger.debug("[HiveComm] completed UUID persistence"),e.close()},this.logger.debug("[HiveComm] Generated UUID: "+t),this.gd=t},e.prototype.dH=function(){return s.ON()},e}();t.gH=c;var u=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.Zl=function(){var t=this;if(this.EH)return this.EH;var r=n.defer();return e.prototype.Zl.call(this).then(function(e){var i=t.dH(),n=e.rp(),s=new h.pH(i,n);r.resolve(s)}).fail(function(e){var i=t.dH(),n=new h.pH(i);r.resolve(n)}),this.EH=r.Ss,this.EH},t}(c);t.vH=u},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype.yH=function(e){this.hostname=e},e.prototype.getHostName=function(){return this.hostname},e.prototype.TH=function(e){this.mH=e},e.prototype.getNetworkChanged=function(){return this.mH},e}();t.IH=i},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(8),o=r(120),a=r(1),h=function(){function e(){this.loggerId="[PreloadConnectivityInfoProvider] ",this.connInfo=window.myConnInfo,this.logger=n.Framework.resolve(n.Framework.V.R).log(),this.SH=n.Framework.resolve(s.pc.oc),this.connInfo||a.ErrorMonitor.ve().logError("helper undefined",this.loggerId),this.RH()}return e.prototype.RH=function(){var e=new o.wH;this.SH.TH(e)},e.prototype.Md=function(){return this.SH},e.prototype.getConnectivityInfo=function(){var e=this;if(!this.connInfo)return i.reject("ConnInfo helper undefined");var t=setTimeout(function(){return e.logger.warn(e.loggerId+"Get connectivity info expired"),e.SH?i.resolve(e.SH):i.reject("expired")},2e3);try{return this.connInfo.getConnectivityInfo().then(function(r){return clearTimeout(t),e.SH=r,r}).fail(function(t){return e.logger.debug(e.loggerId+" get connectivity info failed with error 1: ",t),e.SH?e.SH:i.reject(t)})}catch(e){return this.logger.debug(this.loggerId+" get connectivity info failed with error 2:",e),i.reject(e)}},e.prototype.bH=function(e,t,r){},e}();t.CH=h},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype._H=function(e){this.publicIp=e},e.prototype.getPublicIp=function(){return this.publicIp},e.prototype.PH=function(e){this.AH=e},e.prototype.getMacAddress=function(){return this.AH},e.prototype.OH=function(e){this.nic=e},e.prototype.getNic=function(){return this.nic},e.prototype.NH=function(e){this.nicName=e},e.prototype.getNicName=function(){return this.nicName},e.prototype.DH=function(e){this.privateIp=e},e.prototype.getPrivateIp=function(){return this.privateIp},e.prototype.kH=function(e){this.netmask=e},e.prototype.getNetmask=function(){return this.netmask},e.prototype.LH=function(e){this.MH=e},e.prototype.getCidr=function(){return null},e}();t.FH=i},function(e,t,r){"use strict";var i=r(4),n=r(3),s=r(0),o=r(8),a=r(82),h=r(121),c=r(14),u=r(27),l=r(55),p=function(){function e(){this.UH=null,this.BH=null,this.HH=null,this.xH=null,this.qH=new n,this.publicIp=null,this.GH=[],this.ll=!1,this.VH=null,this.logger=s.Framework.resolve(s.Framework.V.R).log(),this.SH=s.Framework.resolve(o.pc.oc),this.jH=new h.QH,this.KH=[],this.RH(),this.YH()}return e.prototype.RH=function(){var e=new a.FH;this.SH.TH(e)},e.prototype.YH=function(){var e=this;s.Framework.setInterval(function(){e.GH=[],e.KH=[],e.qH=new n,e.publicIp=null,e.WH=null},12e4)},e.prototype.getConnectivityInfo=function(){return this.WH||(this.WH=this.zH()),this.WH},e.prototype.Md=function(){return this.SH},e.prototype.zH=function(){var e=this,t=i.defer();if(this.VH=s.Framework.setTimeout(function(){t.reject({JH:!0,message:"expired"})},4e3),c.HiveConfig.ConnInfo.detectPrivateIP&&this.XH())try{this.UH=new RTCPeerConnection(null),this.HH=this.UH.createDataChannel("sendChannel",{reliable:!1}),this.BH=new RTCPeerConnection(null),this.BH.ondatachannel=function(r){e.xH=r.channel,e.xH.onopen=function(r){"open"===e.xH.readyState&&(e.logger.debug("Collected ips ["+e.qH.keys().join(", ")+"]"),e.BH.close(),e.jH.ZH().then(function(t){e.KH=t,e.logger.debug("Already known matching ips ["+e.KH.join(",")+"]");var r=e.qH.keys();e.KH.forEach(function(t){r.indexOf(t)>0&&(e.GH.push(t),e.qH.delete(t))}),e.qH.keys().forEach(function(t){e.GH.push(t)})}).fail(function(t){e.logger.warn("Get Previous working ips failed with error "+t.message),e.qH.keys().forEach(function(t){e.GH.push(t)})}).finally(function(){e.logger.debug("Final private ip list ["+e.GH.join(",")+"]"),t.resolve(e.$H())}))}},this.UH.onicecandidate=function(r){r.candidate&&e.ex(r.candidate.candidate),!r.candidate||e.BH.addIceCandidate(r.candidate).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure during addIceCandidate()")})},this.BH.onicecandidate=function(r){r.candidate&&e.ex(r.candidate.candidate),!r.candidate||e.UH.addIceCandidate(r.candidate).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure during addIceCandidate()")})},this.UH.createOffer().then(function(t){return e.UH.setLocalDescription(t)}).then(function(){return e.BH.setRemoteDescription(e.UH.localDescription)}).then(function(){return e.BH.createAnswer()}).then(function(t){return e.BH.setLocalDescription(t)}).then(function(){return e.UH.setRemoteDescription(e.BH.localDescription)}).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure creating offer")})}catch(e){t.reject({JH:!0,message:e.message})}else{s.Framework.clearTimeout(this.VH);var r=c.HiveConfig.ConnInfo.detectPrivateIP?"webrtc datachannel not supported":"private IP detection disabled";t.reject({JH:!1,message:r})}return t.Ss},e.prototype.XH=function(){try{return null!=l.Vu&&null!=l.hL&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},e.prototype.ex=function(e){var t=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,r=t.exec(e);if(r){var i=r[0];this.qH.set(i,!0)}},e.prototype.$H=function(){var e=new a.FH;return this.GH.length>0&&e.DH(this.GH[0]),this.publicIp&&e._H(this.publicIp),this.SH.TH(e),this.SH},e.prototype.bH=function(e,t,r){if(this.publicIp=e,this.tx(),0===r&&this.GH.length>1)this.GH.shift();else if(u.Gd._h&&0!==r&&-1==this.KH.indexOf(this.GH[0]))this.KH.unshift(this.GH[0]),this.jH.ix(this.KH.slice(0,2));else if(u.Gd._h&&0!==r&&this.KH.indexOf(this.GH[0])>0){var i=this.KH.indexOf(this.GH[0]);this.KH=this.KH.splice(i,1),this.KH.unshift(this.GH[0]),this.jH.ix(this.KH.slice(0,2))}this.$H()},e.prototype.tx=function(){var e=this.GH.indexOf(this.publicIp);e>-1&&this.GH.splice(e,1)},e}();t.nx=p},function(e,t,r){"use strict";var i=r(7),n=r(24),s=r(9),o=r(0),a=r(5),h=r(2),c=r(1),u=function(){function e(){this.loggerId="[TIMER HANDLER] ",this.sx=new i.rc.Vh,this.ox=new i.rc.Vh,this.logger=o.Framework.resolve(o.Framework.V.R).log()}return e.prototype.ax=function(e,t){try{var r=0,i=-1,s=e.zf.duration;this.sx.kh()?i=Math.max(10,this.sx.Bh(t)):this.ox.kh()&&(i=Math.max(10,this.ox.Bh(t))),r=i>-1?Math.max(0,s-i*a.hh.Qo.jo):s/2,e.type==n.bf.wf&&(r*=2);var o=Math.max(this.hx(),r);return this.logger.debug("TIMER DETAILS duration: "+s+" left: "+t+" downTime: "+i+" fallAvg: "+this.sx.Gh()+" timer: "+o),o}catch(e){return c.ErrorMonitor.ve().logError("Error calculating the p2p timeout",this.loggerId,h.hs.Ii.Ti,e),0}},e.prototype.ux=function(e,t){return 5e3},e.prototype.lx=function(e){try{return this.sx.kh()?Math.min(this.sx.Bh(e),this.px()):this.gx()}catch(e){return c.ErrorMonitor.ve().logError("Error calculating the delivery delay",this.loggerId,h.hs.Ii.mi,e),this.gx()}},e.prototype._M=function(e){if(e.Xf()===s.vc.fc)switch(e.Jf()){case n.bf.mf:case n.bf.Tf:case n.bf.If:this.sx.Uh(e.ag());break;case n.bf.Rf:case n.bf.wf:this.ox.Uh(e.ag())}},e.prototype.hx=function(){return e.Ex},e.prototype.gx=function(){return e.vx},e.prototype.px=function(){return e.yx},e}();u.Ex=500,u.yx=1500,u.vx=500,t.Tx=u},function(e,t,r){"use strict";var i=r(3),n=r(48);r(144),r(146);var s=r(86),o=r(0),a=r(147),h=r(9),c=r(61),u=r(148),l=r(149),p=r(57),d=r(14),f=r(1),g=r(2),E=function(){function e(e){this.loggerId="[DASH METADATA] ",this.isLive=!1,this.logger=o.Framework&&o.Framework.resolve(o.Framework.V.R)?o.Framework.resolve(o.Framework.V.R).log(e):console,this.mx=new DashParser,this.reset()}return e.prototype.Ix=function(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t},e.prototype.pM=function(){return this.isLive},e.prototype.lM=function(){return this.Sx.values().map(function(e){return e.bandwidth})},e.prototype.reset=function(){this.Sx=new i},e.prototype.Rx=function(){return this.wx},e.prototype.parse=function(t,r,i){try{this.reset(),this.IM=t,this.bx(t,r),this.isLive="static"!==this.manifest.type;for(var n=this.manifest.BaseURL,s=this.manifest.Period_asArray[0],o=s.AdaptationSet_asArray,c=0;c<o.length;c++){var u=s.AdaptationSet[c],l=-1!=u.mimeType.indexOf("audio")?h.vc.dc:h.vc.fc;l===h.vc.fc&&u.ContentProtection&&this.Cx(u.ContentProtection);for(var p=u.SegmentTemplate.initialization,d=u.SegmentTemplate.media,E=parseInt(u.SegmentTemplate.timescale),v=0;v<u.Representation_asArray.length;v++){var y=u.Representation_asArray[v],T=new a._x;T.type=l,T.bandwidth=parseInt(y.bandwidth),T.timescale=E,T.Px=y.id,T.initialization=n+""+p,T.initialization=T.initialization.replace(e.Ax,""+T.bandwidth),T.initialization=T.initialization.replace(e.Ox,""+T.Px),i||this.logger.debug("QualityLevel "+h.vc[l]+" "+T.bandwidth);var m=n+""+d;m=m.replace(e.Ax,""+T.bandwidth),m=m.replace(e.Ox,""+T.Px),T.Nx=m;var I=parseInt(T.bandwidth+""),S=this.Dx(u.SegmentTemplate.SegmentTimeline_asArray[0].S_asArray,m,I,l);T.kx=S.Lx,T.Mx=S.Fx;var R=this.Ux(m);this.Sx.set(R,T)}}return this.wx=!0,this.Bx(r,i)}catch(e){throw f.ErrorMonitor.ve().logError("Error parsing the metadata",this.loggerId,g.hs.ui.Wr,e),this.wx=!1,new Error(e)}},e.prototype.Dx=function(t,r,i,s){try{var o,a=new n,h=new n,u=0,l=0;return t.forEach(function(t){if(t.d){t.t?u=parseInt(t.t):u+=l;var n=parseInt(t.d),p=r.replace(e.Hx,u+""),d=new c.DF(u,i,n,p,p);d.type=s,o&&(o.next=d),a.set(p,d),h.set(u,d),o=d;var f=0;t.r&&(f=parseInt(t.r));for(var g=0;g<f;g++){u+=n;var p=r.replace(e.Hx,u+""),d=new c.DF(u,i,n,p,p);d.type=s,o&&(o.next=d),a.set(p,d),h.set(u,d),o=d}l=n}}),{Lx:a,Fx:h}}catch(e){throw f.ErrorMonitor.ve().logError("Error extracting segment maps",this.loggerId,g.hs.ui.zr,e),new Error(e)}},e.prototype.Cx=function(e){try{if(e){if(e.CryptoPeriod){var t=e.CryptoPeriod;this.OM&&!this.OM.xx()&&this.OM instanceof u.qx||(this.OM=new u.qx(t.keyUriTemplate,t.IV,this.authenticationToken))}else this.OM&&this.OM instanceof l.Gx||(this.OM=new l.Gx);this.OM&&p.DASH.XL&&this.OM.init()}}catch(e){throw f.ErrorMonitor.ve().logError("Error initializing the protection",this.loggerId,g.hs.ui.Jr,e),new Error(e)}},e.prototype.Vx=function(e){var t=this.Ux(e);return this.Sx.get(t)},e.prototype.gM=function(e){try{return this.Vx(e).kx.get(e)}catch(e){return f.ErrorMonitor.ve().logError("Error getting the segment info",this.loggerId,g.hs.ui.Xr,e),null}},e.prototype.fM=function(e){var t=!1;return this.Sx.forEach(function(r,i){r.initialization===e&&(t=!0)}),t},e.prototype.vM=function(e){var t=this.gM(e);return null!=t?t.next:null},e.prototype.dk=function(e,t,r,i){try{var n;if(this.Sx.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.Mx.has(e)&&n.Mx.has(r)){for(var s=n.Mx.get(e),o=n.Mx.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.timescale/1e3))}return 0}catch(e){return f.ErrorMonitor.ve().logError("Error extracting the segment distance",this.loggerId,g.hs.ui.Zr,e),0}},e.prototype.jx=function(e){try{e instanceof Uint8Array&&(e=e.buffer);var t=ISOBoxer.Qx(e),r=t.fetch("tfhd"),i=t.fetch("trun"),n=r?r.default_sample_duration:0;if(i){var s=0;return i.Kx.forEach(function(e){s+=e.sample_duration}),isNaN(s)&&n>0&&(s=n*i.Kx.length),s}}catch(e){return f.ErrorMonitor.ve().logError("Error extracting duration from the buffer",this.loggerId,g.hs.ui.$r,e),0}},e.prototype.Bx=function(e,t){var r=this.Yx();if(!t&&(this.isLive||r||d.HiveConfig.Dash.DashRemoveBitrateSize))try{var i=new s({}),n=i.Wx(e);this.isLive&&this.zx(n),(r||d.HiveConfig.Dash.DashRemoveBitrateSize)&&this.Jx(n,r,d.HiveConfig.Dash.DashRemoveBitrateSize);return i.Xx(n)}catch(e){this.logger.error(e)}return e},e.prototype.zx=function(e){var t=this;try{var r=Math.max(1,p.DASH.DASH_METADATA_MIN_FRAGMENTS),i=Math.max(1,p.DASH.eM),n=0,s=0;return e.MPD&&e.MPD.Period&&e.MPD.Period.AdaptationSet.forEach(function(e){if(t.Zx(e)){for(var o=e.SegmentTemplate.SegmentTimeline.S_asArray,a=parseInt(e.SegmentTemplate._timescale),h=i*a,c=0,u=0,l=0;l<o.length&&r>0;l++){var p=o[l];c=l;var d=p._r?parseInt(p._r):1;d>r?(u=r,r=0):(r-=d,u=d)}for(var f=o.length-1;f>=0&&(h>0&&f>=c);f--){var p=o[f],d=p._r?parseInt(p._r):1,g=0;if(!p._d)throw new Error("missing segment duration");g=parseInt(p._d);var E=d*g;if((f>c||f==c&&0==u)&&h>=E)h-=E,o.splice(f,1),n+=d,s+=E;else{var v=Math.ceil(h/g);f==c&&(v=Math.min(v,d-u));var y=g*v;p._r=d-v+"",h-=y,n+=v,s+=y}}t.logger.debug("DASH trimmed "+n+" segments for total duration: "+s)}}),e}catch(e){throw f.ErrorMonitor.ve().logError("Error trimming the manifest",this.loggerId,g.hs.ui.si,e),new Error(e)}},e.prototype.Zx=function(e){return!!e&&(!!("video/mp4"===e._mimeType||"video"===e._contentType||e.SegmentTemplate._media&&e.SegmentTemplate._media.indexOf("video")>-1)&&(e.SegmentTemplate&&e.SegmentTemplate.SegmentTimeline))},e.prototype.Yx=function(){if(d.HiveConfig.Dash.DashFilterBitrates)try{var e=null;e="string"==typeof d.HiveConfig.Dash.DashFilterBitrates?d.HiveConfig.Dash.DashFilterBitrates.split(","):d.HiveConfig.Dash.DashFilterBitrates;var t=[];return e.forEach(function(e){var r=parseInt(e);isNaN(r)||t.push(r)}),t}catch(e){f.ErrorMonitor.ve().logError("Error parsing DashFilterBitrates",this.loggerId,g.hs.ui.oi,e)}},e.prototype.Jx=function(e,t,r){var i=this;if(e.MPD&&e.MPD.Period){var n=[];e.MPD.Period.AdaptationSet.forEach(function(e){if(i.Zx(e)){var s=e.Representation_asArray;s.sort(function(e,t){return isNaN(e._bandwidth)&&(e._bandwidth=parseInt(e._bandwidth)),isNaN(t._bandwidth)&&(t._bandwidth=parseInt(t._bandwidth)),e._bandwidth-t._bandwidth});for(var o=s.length-1;o>=0;o--)r&&(delete s[o]._width,delete s[o]._height),t&&-1==t.indexOf(o)?s.splice(o,1):n.push(s[o]._bandwidth);i.logger.debug("DASH filtered-in bitrates: "+n.reverse().join(" ")+" - removed size: "+r)}})}},e.prototype.HM=function(e,t,r,i){try{var n;if(this.Sx.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.Mx.has(e)&&n.Mx.has(r)){for(var s=n.Mx.get(e),o=n.Mx.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.timescale/1e3))}return 0}catch(e){return f.ErrorMonitor.ve().logError("Error getting the duration between two segments",this.loggerId,g.hs.ui.hi,e),0}},e.prototype.qM=function(e,t){try{var r;return this.Sx.forEach(function(e,i){e.bandwidth===t&&(r=e)}),r&&r.Mx.has(e)?r.Mx.get(e):null}catch(e){return f.ErrorMonitor.ve().logError("Error getting the segment",this.loggerId,g.hs.ui.ci,e),null}},e}();E.Ax="$Bandwidth$",E.Hx="$Time$",E.Ox="$RepresentationID$",t.$x=E},function(e,t,r){var i=function(e,t,r){function i(e){var t=e.localName;return null==t&&(t=e.eq),null!=t&&""!=t||(t=e.nodeName),t}function n(e){return e.prefix}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function a(s){if(s.nodeType==T.DOCUMENT_NODE){var h,c,u,l=s.firstChild;for(c=0,u=s.childNodes.length;c<u;c+=1)if(s.childNodes[c].nodeType!==T.COMMENT_NODE){l=s.childNodes[c];break}if(r)h=a(l);else{h={};var p=i(l);h[p]=a(l)}return h}if(s.nodeType==T.ELEMENT_NODE){var h=new Object;h.__cnt=0;for(var d=s.childNodes,f=0;f<d.length;f++){var l=d.item(f),p=i(l);if(h.__cnt++,null==h[p])h[p]=a(l),h[p+"_asArray"]=new Array(1),h[p+"_asArray"][0]=h[p];else{if(null!=h[p]&&!(h[p]instanceof Array)){var g=h[p];h[p]=new Array,h[p][0]=g,h[p+"_asArray"]=h[p]}for(var E=0;null!=h[p][E];)E++;h[p][E]=a(l)}}for(var v=0;v<s.attributes.length;v++){var m=s.attributes.item(v);h.__cnt++;for(var I=m.value,S=0,R=e.length;S<R;S++){var w=e[S];try{w.test.call(this,m)&&(I=w.tq.call(this,m.value))}catch(e){w.test.call(this,m),console.error(e)}}h[t+m.name]=I}var b=n(s);return null!=b&&""!=b&&(h.__cnt++,h.__prefix=b),1==h.__cnt&&null!=h["#text"]&&(h=h["#text"]),null!=h["#text"]&&(h.__text=h["#text"],h.__text instanceof Array&&(h.__text=h.__text.join("\n")),y&&(h.__text=o(h.__text)),delete h["#text"],delete h["#text_asArray"],""===h.__text.trim()&&delete h.__text),null!=h["#cdata-section"]&&(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],delete h["#cdata-section_asArray"]),null==h.__text&&null==h.__cdata||(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}return s.nodeType==T.TEXT_NODE||s.nodeType==T.CDATA_SECTION_NODE?s.nodeValue:s.nodeType==T.COMMENT_NODE?null:void 0}function h(e,t,r,i){var n="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=r)for(var s=0;s<r.length;s++){var o=r[s],a=e[o];n+=" "+o.substr(1)+"='"+a+"'"}return n+=i?"/>":">"}function c(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function u(e,t){return-1!==e.indexOf(t,e.length-t.length)}function l(e,t){return!!(u(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var r in e)l(e,r)||t++;return t}function d(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf("_")&&t.push(r);return t}function f(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=y?s(e.__text):e.__text),t}function g(e){var t="";return e instanceof Object?t+=f(e):null!=e&&(t+=y?s(e):e),t}function E(e,t,r){var i="";if(0==e.length)i+=h(e,t,r,!0);else for(var n=0;n<e.length;n++)i+=h(e[n],t,d(e[n]),!1),i+=v(e[n]),i+=c(e[n],t);return i}function v(e){var t="";if(p(e)>0)for(var r in e)if(!l(e,r)){var i=e[r],n=d(i);if(null==i||void 0==i)t+=h(i,r,n,!0);else if(i instanceof Object)if(i instanceof Array)t+=E(i,r,n);else{var s=p(i);s>0||null!=i.__text||null!=i.__cdata?(t+=h(i,r,n,!1),t+=v(i),t+=c(i,r)):t+=h(i,r,n,!0)}else t+=h(i,r,n,!1),t+=g(i),t+=c(i,r)}return t+=g(e)}null!==t&&void 0!==t||(t="_"),null!==r&&void 0!==r||(r=!1);var y=!1,T={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.rq=function(e){var t;if(window.DOMParser){t=(new window.DOMParser).parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.iq(e);return t},this.nq=function(e){return a(e)},this.Wx=function(e){var t=this.rq(e);return this.nq(t)},this.Xx=function(e){return v(e)},this.sq=function(e){var t=this.Xx(e);return this.rq(t)},this.getVersion=function(){return"1.0.11"},this.oq=function(e){y=e}};e.i=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(3),s=r(58),o=r(151),a=r(154),h=r(0),c=r(31),u=r(9),l=r(34),p=r(30),d=r(1),f=r(2);!function(e){function t(t){return this.qL(t)||-1!=t.indexOf(e.GL)}function r(t){return-1!=t.toLowerCase().indexOf(e.VL.toLowerCase())||-1!=t.toLowerCase().indexOf(e.aq.toLowerCase())||-1!=t.toLowerCase().indexOf(e.hq.toLowerCase())}e.cq=1,e.uq=2,e.lq=3e4,e.pq=4e3,e.dq=500,e.fq=!0,e.gq=1e4,e.Eq=16,e.vq=3,e.VL=".m3u8",e.aq="(format=m3u8-aapl-v3)",e.hq="(video,format=m3u8-aapl-v3,audiotrack=audio)",e.GL=".ts",e.rM=t,e.qL=r;var g=function(t){function s(e,r,i){var s=t.call(this,i)||this;return s.yq=!1,s.loggerId="[HLS Context] ",s.Ag=0,s.MM=new n,s.DM=new n,s.ticket=e,s.Tq=r,r&&(s.mq=s.Iq(e._N())),s.nM=e.NN(),s.sM=new a.Sq,s.Rq=new o.wq,s}return i(s,t),s.prototype.getStreamProtocol=function(){return StreamProtocol.bq},s.prototype.Iq=function(e){var t=e.lastIndexOf("/");return e.substr(0,t)},s.prototype.Sk=function(){return this.ticket},s.prototype.lM=function(){return this.Rq.lM()},s.prototype.isLive=function(){return this.Rq.isLive()},s.prototype.dM=function(){return this.sM},s.prototype.getContextId=function(){return this.ticket.kN()},s.prototype.uM=function(){return this.nM},s.prototype.mM=function(e){try{var t=e.url=this.Cq(e.url);return t===this.nM?(this.yq&&this.logger.debug("SAME MANIFEST "+t+","+this.nM),!0):null!=this.Rq&&this.Rq._q(t)?(this.yq&&this.logger.debug("CORRECT PLAYLIST "+t+","+this.nM),!0):null!=this.Rq&&null!=this.Rq.gM(t)?(this.yq&&this.logger.debug("CORRECT SEGMENT "+t+","+this.nM),!0):!(!r(t)||this.Rq.Pq()===t)&&(this.yq&&this.logger.debug("FIRST REQUEST FOR MANIFEST "+t+","+this.nM),!1)}catch(t){return d.ErrorMonitor.ve().logError("Error getting the current context of the HiveRequest",this.loggerId,f.hs.di.qr,{detailedError:t,url:e.url}),!1}},s.prototype.Cq=function(e){return p(e).nb().toString()},s.prototype.Xf=function(e){try{if(r(e))return u.vc.gc;return null!=this.Rq.gM(e)?u.vc.fc:u.vc.Ec}catch(t){return d.ErrorMonitor.ve().logError("Error getting the entityType",this.loggerId,f.hs.di.Br,{detailedError:t,url:e}),u.vc.Ec}},s.prototype.ig=function(e){var t=this.Xf(e);if(t==u.vc.fc||t==u.vc.dc)return!0},s.prototype.EM=function(e){var t=0,r=0,i=0,n=!0,s=!1;try{var o=this.Xf(e);if(o!=u.vc.gc){var a=this.Rq.gM(e);null!=a&&(t=a.duration,r=a.bitrate,i=a.id,s=this.ig(e))}else n=!1,null!=this.Rq&&this.Rq.Aq.has(e)&&(r=this.Rq.Aq.get(e).bitrate,this.MM.set(r,h.Framework.time()));return new l.N_(e,o,n,i,t,r,s,this.getContextId())}catch(t){return d.ErrorMonitor.ve().logError("Error getting the entityCharacteristics from the url",this.loggerId,f.hs.di.Hr,{detailedError:t,url:e}),new l.N_(e,u.vc.Ec,!1,0,0,0,!1,this.getContextId())}},s.prototype.VD=function(e,t,r){var i=this.Rq.qM(e,t);return null!=i?new l.N_(i.yM,r,!0,e,i.duration,t,!0,this.getContextId()):null},s.prototype.SM=function(e){try{var t=e.RM,r=e.eg(),i=this.Rq.parse(r,t);if(this.Rq.Aq.has(r)){var n=this.Rq.Aq.get(r);this.wM.QD(n.bitrate)}e.Kf.response=i,e.Kf.responseText=i}catch(t){d.ErrorMonitor.ve().logError("Error receiving the metadata",this.loggerId,f.hs.di.li,{detailedError:t,url:e.eg()}),e.RM&&(e.Kf.responseText=e.RM,e.Kf.response=e.RM)}},s.prototype.CM=function(e){t.prototype.CM.call(this,e),e.Xf()!=u.vc.gc&&e.Xf()!=u.vc.Ec&&(this.sM._M(e),e.Xf()==u.vc.fc&&this.wM.UD(e.zf))},s.prototype.PM=function(e,r){var i=e;return i.AM=h.Framework.time(),t.prototype.PM.call(this,i,r)},s.prototype.tk=function(t){if(e.fq){null==this.DM.get(t)&&this.Rq.isLive()?this.kM(t):this.logger.debug("HLS PRE-FETCHING METADATA ALREADY SCHEDULED OR MISSING HLS INFO")}},s.prototype.kM=function(t){var r=this;try{var i=this.Rq.Oq.get(t);if(null!=i){var n=this.MM.has(t),s=this.MM.get(t),o=n?s:0,a=null!=i.Nq?i.Nq[i.Nq.length-1].duration:e.pq,c=o+a,u=Math.max(1,c-h.Framework.time()+e.dq);this.logger.info("HLS PREFETCHING METADATA "+i.yM+" BITRATE "+t+" IN "+u);var l=h.Framework.setTimeout(function(){r.FM(t,i.yM,h.Framework.time())},u);this.DM.set(t,l)}else this.logger.warn("NO STREAM WITH BT "+t)}catch(e){d.ErrorMonitor.ve().logError("Error scheduling metadata prefetch",this.loggerId,f.hs.di.pi,e)}},s.prototype.FM=function(e,t,r){var i=this.MM.get(e);if(null==i&&(i=0),i>r)this.kM(e);else{var n=new c.HiveRequest(this.ticket.sessionId);n.open("GET",t),n.internal=!0,n.send(),this.DM.delete(e),this.MM.set(e,h.Framework.time())}},s.prototype.LM=function(){var e=this;this.DM.keys().forEach(function(t){var r=e.DM.get(t);h.Framework.clearTimeout(r),e.DM.delete(t)})},s.prototype.ak=function(){return t.prototype.TM.call(this,e.cq,e.uq)},s.prototype.nk=function(e){try{var t=e.url,r=this.Rq.vM(t);return null!=r?this.EM(r.yM):null}catch(e){return d.ErrorMonitor.ve().logError("Error getting the next entity",this.loggerId,f.hs.di.xr,e),null}},s.prototype.dk=function(e,t,r,i){return r-e},s.prototype.pk=function(){return e.lq},s.prototype.xM=function(){return e.gq},s.prototype.lk=function(e,t){try{var r=this.PD(),i=this.BM(),n=r.A_(),s=0;if(e>n)for(var o=this.Rq.qM(n,t);o&&o.id<e;)s+=o.duration,this.logger.debug("Segment duration "+o.duration+" total msec "+s+"segment id "+o.id),o=o.next;var a=h.Framework.time()-i;return Math.max(0,s-a)}catch(e){return d.ErrorMonitor.ve().logError("Error getting the distance duration",this.loggerId,f.hs.di.Kr,e),0}},s}(s.GM);e.Dq=g}(t.bq||(t.bq={}))},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(89),a=r(62),h=r(90),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[LIVE CACHE] ",this.kq=new i,this.Lq=-1,this.Mq=[],this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.init=function(e,t){this.Fq=e,this.Uq=t},e.prototype.put=function(e){var t=n.defer();try{var r=e.Zf(),i=e.responseHeaders,s=e.jf,l=e.qf.Pf-1,p=e.qf.Pf;-1==this.Lq&&this.Bq();var d=null,f=!1;if(this.kq.has(r)){d=this.kq.get(r);var g=new a.FF(0,l,p);f=!0,d.content.forEach(function(e,t){if(a.HF.BF(t).MF(g))return void(f=!1)})}else{var E=new a.FF(0,l,p).toString();d=new h.Hq(e.zf),e.xq&&(d.qq=e.xq.Ek.peerInfo),d.content.set(E,new o.Gq(p,s,e.qf,e.Jf())),this.kq.set(r,d),f=!0,this.Mq.unshift(r)}null==d.headers&&null!=i&&(d.headers=i),t.resolve(f)}catch(e){c.ErrorMonitor.ve().logError("Error adding fragment in LiveCache",this.loggerId,u.hs.ut.it,e),t.reject("CACHE PUT ERROR "+e)}return t.Ss},e.prototype.get=function(e){var t=n.defer();try{var r=this.kq.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(a.HF.BF(t).kF())return i=e,i.headers=r.headers,void(i.qq=r.qq)}),t.resolve(i)}else t.resolve(null)}catch(e){c.ErrorMonitor.ve().logError("Error getting fragment from LiveCache",this.loggerId,u.hs.ut.nt,e),t.reject("CACHE GET ERROR "+e)}return t.Ss},e.prototype.ik=function(e){try{return this.kq.keys()}catch(e){return c.ErrorMonitor.ve().logError("Error getting keys from LiveCache",this.loggerId,u.hs.ut.ot,e),[]}},e.prototype.Vq=function(e){var t=n.defer();try{t.resolve(this.kq.values())}catch(e){c.ErrorMonitor.ve().logError("Error getting elements from LiveCache",this.loggerId,u.hs.ut.at,e),t.reject("CACHE GET ELEMENTS ERROR "+e)}return t.Ss},e.prototype.contains=function(e){var t=n.defer();try{this.kq.has(e)?t.resolve(!0):t.resolve(!1)}catch(e){c.ErrorMonitor.ve().logError("Error checking if LiveCache contains the fragment",this.loggerId,u.hs.ut.st,e),t.reject("CACHE CONTAINS ERROR "+e)}return t.Ss},e.prototype.Bq=function(){var e=this;this.jq(),this.logger.debug(this.loggerId+"Starting cache periodic purge"),this.Lq=s.Framework.setInterval(function(){e.m()},this.Uq)},e.prototype.jq=function(){-1!=this.Lq&&(this.logger.debug(this.loggerId+" Stopping cache periodic purge"),s.Framework.clearInterval(this.Lq),this.Lq=-1)},e.prototype.m=function(){var e=this;try{var t=0,r=0,i=0;this.logger.debug(this.loggerId+" RUNNING GC"),this.Mq.every(function(i,n){var s=e.kq.get(i).size();return t+s>e.Fq?(r=n,!1):(t+=s,!0)})||(i=this.Mq.length-r,this.Mq.splice(r,this.Mq.length-1).forEach(function(t){e.kq.delete(t)})),this.logger.debug(this.loggerId+" GC DONE - REMOVED: "+i+" - CURRENT ITEMS: "+this.kq.length+" SIZE: "+t+" "),0===this.kq.length&&(this.logger.debug(this.loggerId+" Cache contains no items, stopping purge timer"),this.jq())}catch(e){c.ErrorMonitor.ve().logError("Error purging LiveCache",this.loggerId,u.hs.ut.ct,e)}},e.prototype.Qq=function(){this.kq=new i,this.Mq=[]},e.prototype.Kq=function(){var e=this;this.kq.forEach(function(t,r){e.logger.debug("EID="+r),t.content.forEach(function(t,r){e.logger.debug("\tRANGE ",r)})})},e}();t.Yq=l},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.length=e,this.data=t,this.qf=r,this.Wq=i}return e}();t.Gq=i},function(e,t,r){"use strict";var i=r(62),n=r(3),s=function(){function e(e){this.headers=null,this.qq=null,this.totalSize=0,this.zq=!1,this.zf=e,this.content=new n}return e.prototype.size=function(){var e=0;return this.content.forEach(function(t,r){e+=i.HF.BF(r).size()}),e},e}();t.Hq=s},function(e,t,r){"use strict";!function(e){e[e.Jq=0]="ALL",e[e.AS=1]="AS",e[e.nD=2]="SITE"}(t.Xq||(t.Xq={}))},function(e,t,r){"use strict";var i=r(0),n=r(25),s=r(5),o=r(10),a=r(4),h=r(3),c=r(59),u=r(171),l=r(1),p=function(){function e(){this.Zq=!1,this.loggerId="[UDPLeaderElection] ",this.Ng=i.Framework.resolve(i.Framework.V.F),this.$q=new h,this.eG=new h,this.tG=new h,this.rG=new h,this.iG=new h,this.nG=[]}return e.prototype.init=function(e){this.sG=e,this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.oG=e.oG,this.mD=e.mD},e.prototype.aG=function(e,t){var r=this,i=a.defer();try{if(this.Zq){var n=null;e.privateIpString&&(n=e.privateIpString);var s=new u.hG(e.guid,e.rankValue,n,e.isLeader);if(this.$q.has(s.uuid)){var o=this.$q.get(s.uuid);o.udpScore==s.udpScore&&o.cG==s.cG?i.resolve():(this.$q.set(s.uuid,s),this.uG(),this.lG(s).then(function(){i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)}))}else t?(s.pG=t,this.logger.info(this.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.cG),this.$q.set(s.uuid,s),this.uG(),this.lG(s).then(function(){r.dG(r.$q.get(s.uuid)),i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)})):this.fG(s).then(function(e){s.pG=e,r.logger.info(r.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.cG),r.$q.set(s.uuid,s),r.uG(),r.lG(s).then(function(){i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)})}).fail(function(e){i.reject(e)})}else i.reject("LEADER ELECTION NOT STARTED YET")}catch(e){i.reject("TRIGGER LEADER ELECTION ERROR "+e)}return i.Ss},e.prototype.dG=function(e){var t=new o.bc(o.Tc.W,null);t.guid=e.uuid,t.isLeader=e.cG,t.rankValue=e.udpScore;var r=[t];this.oG.gG(r,!1)},e.prototype.fG=function(e){var t=this,r=a.defer();return this.rG.has(e.uuid)||this.tG.has(e.uuid)?r.reject(d.EG):(this.rG.set(e.uuid,Date.now()),this.Ng.connect(e.uuid).then(function(i){var n=i.Pg.wg(t.sG.swarmId);null==n?(n=i.Pg.Tg(t.sG.swarmId),t.vG(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done()):t.iG.get(e.uuid)?r.resolve(i):(t.rG.delete(e.uuid),t.vG(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done())}).fail(function(i){t.rG.delete(e.uuid),r.reject(i)}).done()),r.Ss},e.prototype.vG=function(e){var t=this,r=a.defer(),o=new n.Rf.Fa.Jg.UDPHandshakeMessage;o.uuid=this.yG.uuid,o.udpScore=this.yG.udpScore,o.isLeader=this.yG.cG,o.streamId=this.yG.streamId,this.logger.debug(this.loggerId+"MSG uuid "+o.uuid+" rankValue "+o.udpScore+" isLeader "+o.isLeader+" stream id "+o.streamId);var h=i.Framework.setTimeout(function(){t.TG(e.otherGuid)},s.hh.UDPBroadcast.Ga);return this.tG.set(e.otherGuid,{mG:h,defer:r}),e.Lg(n.Rf.Eg.dg,o),r.Ss},e.prototype.TG=function(e){if(this.tG.has(e)){this.logger.debug(this.loggerId+" HANDSHAKE REQ EXPIRED TO "+e);var t=this.tG.get(e);this.tG.delete(e),t.defer.reject("EXPIRED")}},e.prototype.IG=function(e,t){try{this.logger.debug(this.loggerId+"HANDSHAKE RESP RECEIVED FROM "+t.otherGuid);var r=t.otherGuid,n=this.tG.get(r);i.Framework.clearTimeout(n.mG),this.tG.delete(r),n.defer.resolve(t)}catch(e){l.ErrorMonitor.ve().logError("HANDSHAKE RESPONSE RECEIVED FAILED",this.loggerId,e)}},e.prototype.SG=function(e,t){var r=this;try{var i=new o.bc(o.Tc.W,null,e.isLeader);if(i.guid=e.uuid,i.rankValue=e.udpScore,e.streamId===this.yD.getContextId()){var n=t.Pg.wg(this.sG.swarmId);this.iG.set(e.uuid,e.uuid),this.RG(n,"OK"),this.aG(i,t).then(function(){}).fail(function(e){l.ErrorMonitor.ve().logError("LEADER ELECTION FAILED",r.loggerId,e)})}}catch(e){l.ErrorMonitor.ve().logError("HANDSHAKE REQUEST FAILED",this.loggerId,e)}},e.prototype.RG=function(e,t){var r=new n.Rf.Fa.Jg.UDPHandshakeResponse;r.accept=t,e.Lg(n.Rf.Eg.UDPHandshakeResponse,r),this.logger.debug(this.loggerId+"SEND HANDSHAKE RESPONSE TO "+e.otherGuid)},e.prototype.lG=function(e){var t=this,r=a.defer();if(this.wG()){var i=!1;this.logger.info(this.loggerId+"I HAVE THE HIGHEST SCORE"),e.cG&&!this.eG.has(e.uuid)&&(i=!0,this.logger.info(this.loggerId+"SEND SWITCH REQUEST TO "+e.uuid),this.bG(e).then(function(){r.resolve()}).fail(function(e){3==e.CG?(t.logger.debug(t.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.CG=2)&&r.reject(e)})),this.yG.cG||null==this._G||this._G.uuid==e.uuid||this.eG.has(this._G.uuid)||(this.logger.info("SEND SWITCH REQUEST TO THE ALREADY KNOWN LEADER"),i=!0,this.bG(this._G).then(function(){r.resolve()}).fail(function(e){3==e.CG?(t.logger.debug(t.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.CG=2)&&r.reject(e)})),null!=this._G||e.cG||this.yG.cG||0!=this.eG.length||(this.logger.info(this.loggerId+"BECOME LEADER"),this.PG()),i||r.resolve()}else this.AG(e)?(this.logger.info(this.loggerId+"PEER "+e.uuid+" HAS THE HIGHEST SCORE"),this.OG(),this.yG.cG&&e.cG&&this.stepDown(),this.NG(e),r.resolve()):r.resolve();return r.Ss},e.prototype.NG=function(e){try{this.logger.info(this.loggerId+"UPDATE THE LEADERSHIP"),null!=this._G&&this.$q.has(this._G.uuid)&&(this.$q.get(this._G.uuid).cG=!1),this.$q.has(e.uuid)?(this.$q.get(e.uuid).udpScore=e.udpScore,this._G=e,this.$q.get(e.uuid).cG=!0):(this.logger.warn(this.loggerId+"SET A LEADER THAT IS NOT A LAN MEMBER LIST. SHOULD NEVER HAPPEN"),this.$q.set(e.uuid,e),this._G=e),this.yD.DG(e),this.logger.info(this.loggerId+"NEW KNOWN LEADER "+this.yD.Rk().uuid)}catch(e){l.ErrorMonitor.ve().logError(e,this.loggerId)}},e.prototype.stepDown=function(){this.logger.info(this.loggerId+"STEP DOWN"),this.yG.cG=!1,this.yD.kG(!1),s.hh.fa.ia&&(this.mD.LG(),this.mD.MG(!1))},e.prototype.OG=function(){for(var e=this.eG.keys(),t=0,r=e;t<r.length;t++){var n=r[t],s=this.eG.get(n);this.eG.delete(n),i.Framework.clearTimeout(s.mG),s.defer.reject({CG:3,message:"CANCELED PENDING RESPONSES"})}},e.prototype.AG=function(e){return e.uuid==this.nG[0].uuid},e.prototype.wG=function(){return u.hG.JE(this.yG,this.nG[0])<0},e.prototype.uG=function(){var e=new c(this.$q.values()),t=e.Fc(u.hG.JE);e.push(this.yG),this.yD.FG(t);var r=new c(this.$q.values());this.nG=r.Fc(u.hG.JE)},e.prototype.UG=function(e){this.BG(e)},e.prototype.BG=function(e){this.logger.info(this.loggerId+"EVALUATE THE SWITCH REQUEST FROM "+e.uuid);var t=void 0;this.$q.has(e.uuid)?t=this.$q.get(e.uuid):this.logger.warn("I RECEIVED A SWITCH REQUEST FROM AN UNKNOWN MEMBER. THIS SHOULD NEVER HAPPEN"),t&&(this.yG.cG?this.wG()?this.HG(t,!1):(this.stepDown(),this.OG(),this.NG(t),this.HG(t,!0)):this.AG(t)?(this.NG(t),this.HG(t,!0)):this.HG(t,!1))},e.prototype.HG=function(e,t){var r=this;this.xG(e.pG,t).then(function(){}).fail(function(e){l.ErrorMonitor.ve().logError("SEND SWITCH RESPONSE ERROR",r.loggerId,e)}).done()},e.prototype.xG=function(e,t){var r=a.defer(),i=new n.Rf.Fa.Jg.UDPSwitchLeadershipAck;return i.ok=t,e.Pg.wg(this.sG.swarmId).Lg(n.Rf.Eg.fg,i),r.Ss},e.prototype.bG=function(e){var t=this,r=a.defer();return this.qG(e.pG).then(function(i){t.GG(i,e),r.resolve()}).fail(function(e){r.reject(e)}).done(),r.Ss},e.prototype.GG=function(e,t){try{e?(this.$q.get(t.uuid).cG=!1,this._G=this.yG,this.PG()):(this.OG(),this.$q.get(t.uuid).cG=!0,this.stepDown(),this.NG(t))}catch(e){l.ErrorMonitor.ve().logError("HANDLE LEADERSHIP SWITCH RESPONSE ERROR",this.loggerId,e)}},e.prototype.VG=function(e,t){if(this.eG.has(t)){var r=this.eG.get(t);i.Framework.clearTimeout(r.mG),this.eG.delete(t),r.defer.resolve(e.ok)}else this.logger.warn(this.loggerId+" SWITCH LEADERSHIP RESPONSE RECEIVED FROM UNKNOWN PEER "+t)},e.prototype.qG=function(e){var t=this,r=a.defer(),o=new n.Rf.Fa.Jg.UDPSwitchLeadershipRequest;o.uuid=this.yG.uuid,o.udpScore=this.yG.udpScore,this.logger.debug(this.loggerId+"SWITCH LEADERSHIP REQUEST TO "+e.otherGuid);var h=i.Framework.setTimeout(function(){t.jG(e.otherGuid)},s.hh.UDPBroadcast.qa);this.eG.set(e.otherGuid,{mG:h,defer:r});var c=e.Pg.wg(this.sG.swarmId);return i.Framework.setTimeout(function(){c.Lg(n.Rf.Eg.UDPSwitchLeadershipRequest,o)},1),r.Ss},e.prototype.jG=function(e){if(this.eG.has(e)){this.logger.info(this.loggerId+" SWITCH LEADERSHIP EXPIRED TO "+e);var t=this.eG.get(e);this.eG.delete(e),t.defer.reject({CG:2,message:"EXPIRED"})}},e.prototype.PG=function(){this.logger.info(this.loggerId+"BECOMING LAN LEADER"),null!=this._G&&this.$q.has(this._G.uuid)&&(this.$q.get(this._G.uuid).cG=!1),this.yG.cG=!0,this._G=this.yG,this.yD.kG(!0),this.yD.DG(this.yG),s.hh.fa.ia&&(this.mD.LG(),this.mD.MG(!0))},e.prototype.Ud=function(e){this.yG=new u.hG(this.yD.getId(),this.yD.QG(),"",!1,this.yD.getContextId()),this.Zq=!0,this.logger.info(this.loggerId+" UDP LEADER ELECTION STARTED")},e.prototype.KG=function(e){this.$q.delete(e),this.uG(),0==this.$q.length?(this.yG.cG=!1,this._G=null,this.yD.kG(!1),this.yD.YG(!1),this.mD.LG(),this.mD.MG(!1)):this.wG()?this.PG():this.nG.length>0&&this.NG(this.nG[0])},e}();t.WG=p;var d;!function(e){e[e.zG=0]="FAILURE",e[e.EG=1]="ALREADY_PENDING"}(d=t.JG||(t.JG={}))},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.FP=!!r}e.XG,Object.defineProperty(e.prototype,"__isLong__",{value:!0,p:!1,l:!1}),e.ZG=function(e){return!0===(e&&e.XG)};var t={},r={};e.ME=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.DE=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.$G:t<0?e.DE(-t,r).qE():new e(t%i|0,t/i|0,r)},e.qI=function(t,r,i){return new e(t,r,i)},e.kE=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.kE(t.substring(1),r,i).qE();for(var s=e.DE(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.DE(Math.pow(i,h));o=o.multiply(u).add(e.DE(c))}else o=o.multiply(s),o=o.add(e.DE(c))}return o.FP=r,o},e.eV=function(t){return t instanceof e?t:"number"==typeof t?e.DE(t):"string"==typeof t?e.kE(t):new e(t.low,t.high,t.FP)};var i=4294967296,n=i*i,s=n/2,o=e.ME(1<<24);return e.ZERO=e.ME(0),e.tV=e.ME(0,!0),e.ONE=e.ME(1),e.rV=e.ME(1,!0),e.iV=e.ME(-1),e.MAX_VALUE=e.qI(-1,2147483647,!1),e.$G=e.qI(-1,-1,!0),e.MIN_VALUE=e.qI(0,-2147483648,!1),e.prototype.kP=function(){return this.FP?this.low>>>0:this.low},e.prototype.nV=function(){return this.FP?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.sV())return"0";var r;if(this.oV()){if(this.cs(e.MIN_VALUE)){var i=e.DE(t),n=this.aV(i);return r=n.multiply(i).hV(this),n.toString(t)+r.kP().toString(t)}return"-"+this.qE().toString(t)}var s=e.DE(Math.pow(t,6),this.FP);r=this;for(var o="";;){var a=r.aV(s),h=r.hV(a.multiply(s)).kP()>>>0,c=h.toString(t);if(r=a,r.sV())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.cV=function(){return this.high},e.prototype.uV=function(){return this.high>>>0},e.prototype.lV=function(){return this.low},e.prototype.pV=function(){return this.low>>>0},e.prototype.dV=function(){if(this.oV())return this.cs(e.MIN_VALUE)?64:this.qE().dV();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.sV=function(){return 0===this.high&&0===this.low},e.prototype.oV=function(){return!this.FP&&this.high<0},e.prototype.fV=function(){return this.FP||this.high>=0},e.prototype.gV=function(){return 1==(1&this.low)},e.prototype.fv=function(){return 0==(1&this.low)},e.prototype.cs=function(t){return e.ZG(t)||(t=e.eV(t)),(this.FP===t.FP||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.EV=e.prototype.cs,e.prototype.vV=function(e){return!this.cs(e)},e.yV=e.prototype.vV,e.prototype.TV=function(e){return this.Oc(e)<0},e.prototype.mV=e.prototype.TV,e.prototype.SV=function(e){return this.Oc(e)<=0},e.prototype.RV=e.prototype.SV,e.prototype.wV=function(e){return this.Oc(e)>0},e.prototype.bV=e.prototype.wV,e.prototype.CV=function(e){return this.Oc(e)>=0},e.prototype._V=e.prototype.CV,e.prototype.Oc=function(t){if(e.ZG(t)||(t=e.eV(t)),this.cs(t))return 0;var r=this.oV(),i=t.oV();return r&&!i?-1:!r&&i?1:this.FP?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.hV(t).oV()?-1:1},e.prototype.qE=function(){return!this.FP&&this.cs(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.PV=e.prototype.qE,e.prototype.add=function(t){e.ZG(t)||(t=e.eV(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,d=0;return d+=s+c,p+=d>>>16,d&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.qI(p<<16|d,u<<16|l,this.FP)},e.prototype.hV=function(t){return e.ZG(t)||(t=e.eV(t)),this.add(t.qE())},e.prototype.sub=e.prototype.hV,e.prototype.multiply=function(t){if(this.sV())return e.ZERO;if(e.ZG(t)||(t=e.eV(t)),t.sV())return e.ZERO;if(this.cs(e.MIN_VALUE))return t.gV()?e.MIN_VALUE:e.ZERO;if(t.cs(e.MIN_VALUE))return this.gV()?e.MIN_VALUE:e.ZERO;if(this.oV())return t.oV()?this.qE().multiply(t.qE()):this.qE().multiply(t).qE();if(t.oV())return this.multiply(t.qE()).qE();if(this.TV(o)&&t.TV(o))return e.DE(this.nV()*t.nV(),this.FP);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,d=0,f=0;return f+=s*u,d+=f>>>16,f&=65535,d+=n*u,p+=d>>>16,d&=65535,d+=s*c,p+=d>>>16,d&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.qI(d<<16|f,l<<16|p,this.FP)},e.prototype.AV=e.prototype.multiply,e.prototype.aV=function(t){if(e.ZG(t)||(t=e.eV(t)),t.sV())throw new Error("division by zero");if(this.sV())return this.FP?e.tV:e.ZERO;var r,i,n;if(this.cs(e.MIN_VALUE)){if(t.cs(e.ONE)||t.cs(e.iV))return e.MIN_VALUE;if(t.cs(e.MIN_VALUE))return e.ONE;return r=this.HP(1).aV(t).shiftLeft(1),r.cs(e.ZERO)?t.oV()?e.ONE:e.iV:(i=this.hV(t.multiply(r)),n=r.add(i.aV(t)))}if(t.cs(e.MIN_VALUE))return this.FP?e.tV:e.ZERO;if(this.oV())return t.oV()?this.qE().aV(t.qE()):this.qE().aV(t).qE();if(t.oV())return this.aV(t.qE()).qE();for(n=e.ZERO,i=this;i.CV(t);){r=Math.max(1,Math.floor(i.nV()/t.nV()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.DE(r),h=a.multiply(t);h.oV()||h.wV(i);)r-=o,a=e.DE(r,this.FP),h=a.multiply(t);a.sV()&&(a=e.ONE),n=n.add(a),i=i.hV(h)}return n},e.prototype.OV=e.prototype.aV,e.prototype.NV=function(t){return e.ZG(t)||(t=e.eV(t)),this.hV(this.aV(t).multiply(t))},e.prototype.ev=e.prototype.NV,e.prototype.not=function(){return e.qI(~this.low,~this.high,this.FP)},e.prototype.qP=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low&t.low,this.high&t.high,this.FP)},e.prototype.or=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low|t.low,this.high|t.high,this.FP)},e.prototype.pT=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low^t.low,this.high^t.high,this.FP)},e.prototype.shiftLeft=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low<<t,this.high<<t|this.low>>>32-t,this.FP):e.qI(0,this.low<<t-32,this.FP)},e.prototype.DV=e.prototype.shiftLeft,e.prototype.HP=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low>>>t|this.high<<32-t,this.high>>t,this.FP):e.qI(this.high>>t-32,this.high>=0?0:-1,this.FP)},e.prototype.kV=e.prototype.HP,e.prototype.LP=function(t){if(e.ZG(t)&&(t=t.kP()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.qI(i>>>t|r<<32-t,r>>>t,this.FP)}return 32===t?e.qI(r,0,this.FP):e.qI(r>>>t-32,0,this.FP)},e.prototype.LV=e.prototype.LP,e.prototype.UP=function(){return this.FP?new e(this.low,this.high,!1):this},e.prototype.BP=function(){return this.FP?this:new e(this.low,this.high,!0)},e})},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.FP=!!r}e.XG,Object.defineProperty(e.prototype,"__isLong__",{value:!0,p:!1,l:!1}),e.ZG=function(e){return!0===(e&&e.XG)};var t={},r={};e.ME=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.DE=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.$G:t<0?e.DE(-t,r).qE():new e(t%i|0,t/i|0,r)},e.qI=function(t,r,i){return new e(t,r,i)},e.kE=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.kE(t.substring(1),r,i).qE();for(var s=e.DE(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.DE(Math.pow(i,h));o=o.multiply(u).add(e.DE(c))}else o=o.multiply(s),o=o.add(e.DE(c))}return o.FP=r,o},e.eV=function(t){return t instanceof e?t:"number"==typeof t?e.DE(t):"string"==typeof t?e.kE(t):new e(t.low,t.high,t.FP)};var i=4294967296,n=i*i,s=n/2,o=e.ME(1<<24);return e.ZERO=e.ME(0),e.tV=e.ME(0,!0),e.ONE=e.ME(1),e.rV=e.ME(1,!0),e.iV=e.ME(-1),e.MAX_VALUE=e.qI(-1,2147483647,!1),e.$G=e.qI(-1,-1,!0),e.MIN_VALUE=e.qI(0,-2147483648,!1),e.prototype.kP=function(){return this.FP?this.low>>>0:this.low},e.prototype.nV=function(){return this.FP?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.sV())return"0";var r;if(this.oV()){if(this.cs(e.MIN_VALUE)){var i=e.DE(t),n=this.aV(i);return r=n.multiply(i).hV(this),n.toString(t)+r.kP().toString(t)}return"-"+this.qE().toString(t)}var s=e.DE(Math.pow(t,6),this.FP);r=this;for(var o="";;){var a=r.aV(s),h=r.hV(a.multiply(s)).kP()>>>0,c=h.toString(t);if(r=a,r.sV())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.cV=function(){return this.high},e.prototype.uV=function(){return this.high>>>0},e.prototype.lV=function(){return this.low},e.prototype.pV=function(){return this.low>>>0},e.prototype.dV=function(){if(this.oV())return this.cs(e.MIN_VALUE)?64:this.qE().dV();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.sV=function(){return 0===this.high&&0===this.low},e.prototype.oV=function(){return!this.FP&&this.high<0},e.prototype.fV=function(){return this.FP||this.high>=0},e.prototype.gV=function(){return 1==(1&this.low)},e.prototype.fv=function(){return 0==(1&this.low)},e.prototype.cs=function(t){return e.ZG(t)||(t=e.eV(t)),(this.FP===t.FP||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.EV=e.prototype.cs,e.prototype.vV=function(e){return!this.cs(e)},e.yV=e.prototype.vV,e.prototype.TV=function(e){return this.Oc(e)<0},e.prototype.mV=e.prototype.TV,e.prototype.SV=function(e){return this.Oc(e)<=0},e.prototype.RV=e.prototype.SV,e.prototype.wV=function(e){return this.Oc(e)>0},e.prototype.bV=e.prototype.wV,e.prototype.CV=function(e){return this.Oc(e)>=0},e.prototype._V=e.prototype.CV,e.prototype.Oc=function(t){if(e.ZG(t)||(t=e.eV(t)),this.cs(t))return 0;var r=this.oV(),i=t.oV();return r&&!i?-1:!r&&i?1:this.FP?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.hV(t).oV()?-1:1},e.prototype.qE=function(){return!this.FP&&this.cs(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.PV=e.prototype.qE,e.prototype.add=function(t){e.ZG(t)||(t=e.eV(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,d=0;return d+=s+c,p+=d>>>16,d&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.qI(p<<16|d,u<<16|l,this.FP)},e.prototype.hV=function(t){return e.ZG(t)||(t=e.eV(t)),this.add(t.qE())},e.prototype.sub=e.prototype.hV,e.prototype.multiply=function(t){if(this.sV())return e.ZERO;if(e.ZG(t)||(t=e.eV(t)),t.sV())return e.ZERO;if(this.cs(e.MIN_VALUE))return t.gV()?e.MIN_VALUE:e.ZERO;if(t.cs(e.MIN_VALUE))return this.gV()?e.MIN_VALUE:e.ZERO;if(this.oV())return t.oV()?this.qE().multiply(t.qE()):this.qE().multiply(t).qE();if(t.oV())return this.multiply(t.qE()).qE();if(this.TV(o)&&t.TV(o))return e.DE(this.nV()*t.nV(),this.FP);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,d=0,f=0;return f+=s*u,d+=f>>>16,f&=65535,d+=n*u,p+=d>>>16,d&=65535,d+=s*c,p+=d>>>16,d&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.qI(d<<16|f,l<<16|p,this.FP)},e.prototype.AV=e.prototype.multiply,e.prototype.aV=function(t){if(e.ZG(t)||(t=e.eV(t)),t.sV())throw new Error("division by zero");if(this.sV())return this.FP?e.tV:e.ZERO;var r,i,n;if(this.cs(e.MIN_VALUE)){if(t.cs(e.ONE)||t.cs(e.iV))return e.MIN_VALUE;if(t.cs(e.MIN_VALUE))return e.ONE;return r=this.HP(1).aV(t).shiftLeft(1),r.cs(e.ZERO)?t.oV()?e.ONE:e.iV:(i=this.hV(t.multiply(r)),n=r.add(i.aV(t)))}if(t.cs(e.MIN_VALUE))return this.FP?e.tV:e.ZERO;if(this.oV())return t.oV()?this.qE().aV(t.qE()):this.qE().aV(t).qE();if(t.oV())return this.aV(t.qE()).qE();for(n=e.ZERO,i=this;i.CV(t);){r=Math.max(1,Math.floor(i.nV()/t.nV()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.DE(r),h=a.multiply(t);h.oV()||h.wV(i);)r-=o,a=e.DE(r,this.FP),h=a.multiply(t);a.sV()&&(a=e.ONE),n=n.add(a),i=i.hV(h)}return n},e.prototype.OV=e.prototype.aV,e.prototype.NV=function(t){return e.ZG(t)||(t=e.eV(t)),this.hV(this.aV(t).multiply(t))},e.prototype.ev=e.prototype.NV,e.prototype.not=function(){return e.qI(~this.low,~this.high,this.FP)},e.prototype.qP=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low&t.low,this.high&t.high,this.FP)},e.prototype.or=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low|t.low,this.high|t.high,this.FP)},e.prototype.pT=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low^t.low,this.high^t.high,this.FP)},e.prototype.shiftLeft=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low<<t,this.high<<t|this.low>>>32-t,this.FP):e.qI(0,this.low<<t-32,this.FP)},e.prototype.DV=e.prototype.shiftLeft,e.prototype.HP=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low>>>t|this.high<<32-t,this.high>>t,this.FP):e.qI(this.high>>t-32,this.high>=0?0:-1,this.FP)},e.prototype.kV=e.prototype.HP,e.prototype.LP=function(t){if(e.ZG(t)&&(t=t.kP()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.qI(i>>>t|r<<32-t,r>>>t,this.FP)}return 32===t?e.qI(r,0,this.FP):e.qI(r>>>t-32,0,this.FP)},e.prototype.LV=e.prototype.LP,e.prototype.UP=function(){return this.FP?new e(this.low,this.high,!1):this},e.prototype.BP=function(){return this.FP?this:new e(this.low,this.high,!0)},e})},function(e,t,r){"use strict";var i,n=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(4),o=r(3),a=r(0),h=r(166),c=r(5),u=r(25),l=r(10),p=r(167),d=r(15),f=hive.services.protocol.IF.TrackerPeerInfo,g=r(6),E=r(1),v=r(2),y=g.he.Th;!function(e){e[e.MV=1]="ACCEPT",e[e.FV=2]="REJECT"}(i=t.UV||(t.UV={}));var T;!function(e){e[e.Jq=0]="ALL",e[e.BV=1]="IN",e[e.HV=2]="OUT"}(T=t.xV||(t.xV={}));var m=function(e){function t(){var t=e.call(this)||this;return t.loggerId="[Partnership] ",t.qV=new o,t.rG=new o,t.GV=-1,t.VV=-1,t.jV=-1,t.connected=!1,t.Ng=a.Framework.resolve(a.Framework.V.F),t.QV=a.Framework.resolve(d.qu.fu),t.KV=a.Framework.resolve(d.qu.gu),t.YV=a.Framework.resolve(d.qu.Eu),t.WV=a.Framework.resolve(d.qu.vu),t}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.sG=t,this.ticket=t.rl.ticket,this.oG=t.oG,this.mD=t.mD,this.zV=t.zV},t.prototype.start=function(e){try{this.logger.info(this.loggerId+"PARTNERSHIP STARTED "+e.getContextId()),this.context=e,this.contextId=e.getContextId(),this.JV(c.hh.No.Po),this.XV(c.hh.fa.aa),this.ZV(c.hh.Ho.ko),this.active=!0}catch(e){E.ErrorMonitor.ve().logError("Error in partnership initialization",this.loggerId,v.hs.cr.Bt,e)}},t.prototype.stop=function(){return a.Framework.clearInterval(this.GV),a.Framework.clearInterval(this.VV),a.Framework.clearInterval(this.jV),this.context=null,this.contextId=null,this.active=!1,this.$V()},t.prototype.Ud=function(e){this.logger.info("PARTNERSHIP SERVER CONNECTED"),this.gd=e,this.connected=!0,null==this.yD.getId()&&this.yD.setId(this.gd)},t.prototype.ej=function(){this.connected=!1},t.prototype.tj=function(e){try{this.rj(e)||this.qV.has(e.peerInfo.guid)||this.rG.has(e.peerInfo.guid)||e.peerInfo.guid==this.gd?this.ij(e):this.nj(e),this.sj(e)&&this.oj(e)}catch(t){E.ErrorMonitor.ve().logError("Error in discoering new lan peer",this.loggerId,v.hs.cr.Ht,{detailedError:t,otherGuid:e.peerInfo.guid})}},t.prototype.ij=function(e){if(this.aj.has(e.peerInfo.guid)){var t=this.aj.get(e.peerInfo.guid);this.aj.delete(e.peerInfo.guid),this.gB.set(e.peerInfo.guid,t),this.yD.YG(!0)}},t.prototype.oj=function(e){if(this.dB.has(e.peerInfo.guid)){var t=this.dB.get(e.peerInfo.guid);this.dB.delete(e.peerInfo.guid),this.fB.set(e.peerInfo.guid,t)}},t.prototype.JV=function(e){var t=this;-1!=this.GV&&a.Framework.clearInterval(this.GV),this.GV=a.Framework.setInterval(function(){t.hj(!1)},e)},t.prototype.hj=function(e){var t=this;e&&this.GV&&(a.Framework.clearInterval(this.GV),this.JV(c.hh.No.Po));try{if(this.connected){this.logger.debug(this.loggerId+"ADDING NEW PEERS IF POSSIBLE, NOW "+this.aj.length+"/"+c.hh.No._o+","+this.gB.length+"/infinity OUT RND "+this.dB.length+" OUT LAN "+this.fB.length);var r=[].concat(this.qV.keys()).concat(this.rG.keys()),i=this.oG.cj(!0),n=void 0;n=this.yD.ck()||this.yD.Tk()?this.YV.uj(this.yD,c.hh.No._o,this.aj.values(),r,i):this.QV.uj(c.hh.No._o,this.aj.values(),r,i),this.lj=n.pj(),n.dj().forEach(function(e){t.nj(e)})}else this.logger.warn(this.loggerId+"NOT RUNNING IN PARTNER CHOICE, SRV DISCONNECTED")}catch(e){E.ErrorMonitor.ve().logError("Error in choosing in partners",this.loggerId,v.hs.cr.xt,e)}},t.prototype.nj=function(e){var t=this,r=e.peerInfo.guid,i=e.peerInfo.privateIpString,n=e.peerInfo.publicIpString;this.logger.debug(this.loggerId+"IN PARTNER ADD PROCESS "+r),this.rj(e)||this.qV.has(r)||this.rG.has(r)||this.zV.fj(r,i,n)||(this.rG.set(r,Date.now()),this.Ng.connect(r).then(function(i){var n=i.Pg.wg(t.sG.swarmId);if(null==n&&(n=i.Pg.Tg(t.sG.swarmId)),n){t.rG.get(r);t.rG.delete(r),t.active&&t.gj(n).then(function(i){if(t.Ej(n,e,i.msg),t.yj.vj(!1,!1),t.zV.Tj(r,e.peerInfo.privateIpString,e.peerInfo.publicIpString),t.mj(n),t.lj.length>0&&!e.Ij()){var s=t.lj[0];t.Sj(s.guid),s.wj.Rj(T.HV),t.lj.splice(0,1)}}).fail(function(e){E.ErrorMonitor.ve().logError("Error in requesting partnership",t.loggerId,v.hs.cr.Vt,{otherGuid:r}),t.yj.vj(!1,!0),t.bj(r)})}}).fail(function(e){E.ErrorMonitor.ve().logError("Error in creating new p2p connection",t.loggerId,v.hs.cr.Gt,{otherGuid:r}),t.yj.vj(!0,!0),t.rG.delete(r),t.oG.KG(r)}).done())},t.prototype.Cj=function(e,t){var r=this;try{var n=e.guid,s=null,o=null;if(e.privateIpString&&(o=e.privateIpString),e.publicIpString&&(s=e.publicIpString),this._j(n))this.logger.info(this.loggerId+"ALREADY OUT PARTNER "+n);else{var u=e.contextId,l=t.Pg.wg(this.sG.swarmId);if(this.contextId!==u||c.hh.Ho.Do!==e.p2pProtocolVersion||this.zV.fj(n,o,s))this.logger.info(this.loggerId+"PARTNERSHIP CANNOT BE ESTABLISHED WITH "+n+" CONTEXT ID "+u+" protocol version "+e.p2pProtocolVersion),this.Pj(l,i.FV);else{var p=this.Aj(e),d=void 0,f=void 0;if(p){if(this.oG.gG([p],!1),f=this.oG.Oj(n),!(d=f.Ij()||this.dB.length<c.hh.No.Oo)){this.logger.debug(this.loggerId+" got out part req from "+n+" - reached max "+this.dB.length+"/"+c.hh.No.Oo);var g=void 0;g=this.yD.ck()||this.yD.Tk()?this.WV.Nj(this.yD,p,this.dB.values()):this.KV.Nj(this.dB.values()),g&&(this.logger.debug(this.loggerId+" chocking "+g.guid),this.dB.delete(g.guid),g.wj.Rj(T.BV),d=!0)}}else d=!1;if(d){var y=new h.Partner(n,this.yj,l,this.logger,!1,f);e.reportingGuid&&y.Dj(e.reportingGuid),this.oG.kj.has(n)?this.fB.set(n,y):this.dB.set(n,y),this.logger.info(this.loggerId+"ADDED OUT PART "+n),this.Pj(l,i.MV),this.zV.Tj(n,o,s),a.Framework.setTimeout(function(){r.Lj(n)},500),this.yj.Mj()}else this.logger.info(this.loggerId+" cannot establish partnership to "+n+" - reached max "+this.dB.length+"/"+c.hh.No.Oo),this.Pj(l,i.FV)}}}catch(t){E.ErrorMonitor.ve().logError("Error receiving out partnership request",this.loggerId,v.hs.cr.jt,{detailedError:t,otherGuid:e.guid})}},t.prototype.Aj=function(e){try{var t=new f;t.guid=e.guid,e.internalAs&&(t.internalAs=e.internalAs),e.externalAs&&(t.externalAs=e.externalAs),e.publicIpString&&(t.publicIpString=e.publicIpString),e.privateIpString&&(t.privateIpString=e.privateIpString);var r=!1,i=this.oG.Oj(e.guid);if(i&&(r=i.peerInfo.isLeader),e.streamCharacteristics){var n=[];e.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.state=e.streamState,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.streams=n}return new l.bc(l.Tc.yc,t,r)}catch(t){return E.ErrorMonitor.ve().logError("Error constructing discovered peer info",this.loggerId,v.hs.cr.Qt,{detailedError:t,otherGuid:e.guid}),null}},t.prototype.Pj=function(e,t){var r=this;this.logger.debug(this.loggerId+"SEND PART RESPONSE TO "+e.otherGuid);try{var n=new u.Rf.Fa.Jg.OutPartnershipResponse;if(n.accept=t,n.accept===i.MV){this.yD.gk()&&(n.internalAs=this.yD.gk()),this.yD.Fj()&&(n.externalAs=this.yD.Fj()),this.yD.getPublicIp()&&(n.publicIpString=this.yD.getPublicIp()),this.yD.getPrivateIp()&&(n.privateIpString=this.yD.getPrivateIp()),n.reportingGuid=this.yD.getReportingGuid();var s=this.yD.Uj(),o=[];s.forEach(function(e,t){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=t,i.streamState=e.type,i.delta=null!=r.yD.getDelta()?r.yD.getDelta():-1,o.push(i)}),o.length>0&&n.setStreamCharacteristics(o)}e.Lg(u.Rf.Eg.pg,n)}catch(t){E.ErrorMonitor.ve().logError("Error constructing partnership response message",this.loggerId,v.hs.cr.Kt,{detailedError:t,otherGuid:e.otherGuid})}},t.prototype.Bj=function(e){this.logger.warn(this.loggerId+e)},t.prototype.Ej=function(e,t,r){var i=e.otherGuid;if(r.externalAs&&(t.peerInfo.externalAs=r.externalAs),r.internalAs&&(t.peerInfo.internalAs=r.internalAs),r.publicIpString&&(t.peerInfo.publicIpString=r.publicIpString),r.privateIpString&&(t.peerInfo.privateIpString=r.privateIpString),r.streamCharacteristics){var n=[];r.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.state=e.streamState,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.peerInfo.streams=n}try{var s=new h.Partner(i,this.yj,e,this.logger,!0,t);return r.reportingGuid&&(s.reportingGuid=r.reportingGuid,e.receiver.setReportingGuid(r.reportingGuid),e.sender.setReportingGuid(r.reportingGuid)),t.peerInfo.type==l.Tc.W?(this.gB.set(i,s),this.yD.Hj(!0),this.yD.YG(!0)):(0!=this.yD.gk()&&this.yD.gk()===t.peerInfo.internalAs&&this.yD.Hj(!0),this.aj.set(i,s)),this.logger.debug(this.loggerId+i+" IS NOW IN PARTNER"),s}catch(e){E.ErrorMonitor.ve().logError("Error adding a new partner object in the list",this.loggerId,v.hs.cr.Yt,{detailedError:e,otherGuid:i})}},t.prototype.KG=function(e){try{this.logger.info(this.loggerId+"GOT PEER DISC "+e),this.xj(e)&&(this.logger.info(this.loggerId+"IN PRT DISC "+e),this.Sj(e)),this._j(e)&&(this.logger.info(this.loggerId+"OUT PRT DISC "+e),this.dB.delete(e),this.fB.delete(e))}catch(t){E.ErrorMonitor.ve().logError("Error removing disconected partner from the list",this.loggerId,v.hs.cr.Wt,{detailedError:t,otherGuid:e})}},t.prototype.Sj=function(e){var t=this;try{this.logger.debug(this.loggerId+"IN PARTNER REMOVE "+e);var r=this.qj(e);if(this.gD.Gj(r),this.aj.delete(e),this.gB.delete(e),this.gB.length>0)this.yD.Hj(!0);else if(0!=this.yD.gk()){var i=!1;this.aj.forEach(function(e){t.yD.gk()===e.Ek.peerInfo.internalAs&&(i=!0)}),this.yD.Hj(i)}else this.yD.Hj(!1)}catch(t){E.ErrorMonitor.ve().logError("Error removing the in partner",this.loggerId,v.hs.cr.zt,{detailedError:t,otherGuid:e})}},t.prototype.Vj=function(e,t){try{this.logger.debug(this.loggerId+"CLOSE RECEIVED FROM "+e+" TYPE "+T[t.getType()]),t.getType()!=T.Jq&&t.getType()!=T.HV||(this.dB.has(e)&&this.dB.delete(e),this.fB.has(e)&&this.fB.delete(e)),t.getType()!=T.Jq&&t.getType()!=T.BV||this.Sj(e)}catch(t){E.ErrorMonitor.ve().logError("Error when close received",this.loggerId,v.hs.cr.Jt,{detailedError:t,otherGuid:e})}},t.prototype.gj=function(e){var t=this,r=s.defer();try{var i=new u.Rf.Fa.Jg.OutPartnershipRequest;i.guid=this.gd,i.contextId=this.contextId,i.p2pProtocolVersion=c.hh.Ho.Do,i.reportingGuid=this.yD.getReportingGuid(),this.yD.gk()&&(i.internalAs=this.yD.gk()),this.yD.Fj()&&(i.externalAs=this.yD.Fj()),this.yD.getPrivateIp()&&(i.privateIpString=this.yD.getPrivateIp()),this.yD.getPublicIp()&&(i.publicIpString=this.yD.getPublicIp());var n=this.yD.Uj(),o=[];n.forEach(function(e,r){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=r,i.streamState=e.type,i.delta=null!=t.yD.getDelta()?t.yD.getDelta():-1,o.push(i)}),o.length>0&&i.setStreamCharacteristics(o),this.logger.debug(this.loggerId+"SEND PART REQ TO "+e.otherGuid+" WITH ID "+i.contextId+" internalAS "+i.internalAs+" externalAs "+i.externalAs+" private ip "+i.privateIpString+" public ip "+i.publicIpString+" rGuid "+this.yD.getReportingGuid());var h=a.Framework.setTimeout(function(){t.jj(r,e.otherGuid)},c.hh.No.Co);this.qV.set(e.otherGuid,{mG:h,defer:r}),e.Lg(u.Rf.Eg.lg,i)}catch(t){E.ErrorMonitor.ve().logError("Error sending partnership request",this.loggerId,v.hs.cr.Xt,{detailedError:t,otherGuid:e.otherGuid}),r.reject(t)}return r.Ss},t.prototype.Qj=function(e,t){var r=t.otherGuid,n=this.qV.get(r);n?(a.Framework.clearTimeout(n.mG),this.qV.delete(r),e.accept===i.MV?n.defer.resolve({yg:t,msg:e}):n.defer.reject("NOT ACCEPTED")):E.ErrorMonitor.ve().logError("Error receiving out partnership response from an unknown peer",this.loggerId,v.hs.cr.er,{otherGuid:r})},t.prototype.jj=function(e,t){if(this.qV.has(t)){E.ErrorMonitor.ve().logError("Error partnership request expired",this.loggerId,v.hs.cr.Zt,{otherGuid:t});var r=this.qV.get(t);this.qV.delete(t),r.defer.reject("EXPIRED")}else E.ErrorMonitor.ve().logError("Error partnership request expired for unknown peer",this.loggerId,v.hs.cr.$t,{otherGuid:t})},t.prototype.$V=function(){var e=this,t=s.defer(),r=this.aj.values();this.gB.forEach(function(e,t){r.push(e)});var i=r.slice().map(function(e){return e.wj.close()});return s.all(i).then(function(e){t.resolve("resolved")}).fail(function(r){E.ErrorMonitor.ve().logError("Error closing partnership",e.loggerId,v.hs.cr.tr),t.reject("could not close")}),t.Ss},t.prototype.bj=function(e){this.Ng.disconnect(e)},t.prototype.XV=function(e){var t=this;-1!=this.VV&&a.Framework.clearInterval(this.VV),this.VV=a.Framework.setInterval(function(){t.Kj()},e)},t.prototype.Kj=function(){try{if(this.yD.yk()&&!this.yD.ck()&&y){var e=this.yD.Rk(),t=this.context.PD().bitrate;if(t&&this.xj(e.uuid)){var r=this.qj(e.uuid);this.Yj(r.wj,t)}}}catch(e){E.ErrorMonitor.ve().logError("Error announcing bitrate",this.loggerId,v.hs.cr.rr,e)}},t.prototype.Yj=function(e,t){try{var r=new u.Rf.Fa.Jg.Bitrate;r.guid=this.gd,r.bitrate=t,this.logger.debug(this.loggerId+"ANNOUNCE BITRATE "+r.bitrate+" TO PEER GUID "+e.otherGuid),e.Lg(u.Rf.Eg.Bitrate,r)}catch(t){E.ErrorMonitor.ve().logError("Error constructing bitrate announcement",this.loggerId,v.hs.cr.ir,{detailedError:t,otherGuid:e.otherGuid})}},t.prototype.Wj=function(e){try{this.logger.debug(this.loggerId+"RECEIVED BITRATE "+e.bitrate+" FROM PEER GUID "+e.guid),this.oG.kj.has(e.getGuid())&&(this.oG.kj.get(e.guid).zj(e.bitrate),this.mD.Jj())}catch(t){E.ErrorMonitor.ve().logError("Error receiving bitrate info",this.loggerId,v.hs.cr.nr,{detailedError:t,otherGuid:e.guid})}},t.prototype.Xj=function(e){try{var t=e.guid,r=this.qj(t);r&&this.Zj(r,e),r=this.$j(t),r&&this.Zj(r,e),this.zV.Tj(t,e.privateIpString,e.publicIpString)}catch(t){E.ErrorMonitor.ve().logError("Error receiving peer info",this.loggerId,v.hs.cr.sr,{detailedError:t,otherGuid:e.guid})}},t.prototype.Zj=function(e,t){var r=e.Ek.peerInfo;if(t.privateIpString&&(r.privateIpString=t.privateIpString),t.publicIpString&&(r.publicIpString=t.publicIpString),t.externalAs&&(r.externalAs=t.externalAs),t.internalAs&&(r.internalAs=t.internalAs),t.streamCharacteristics){var i=[];t.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.bitrate=e.bitrate,t.delta=e.delta,t.state=e.streamState,i.push(t)}),r.streams=i}},t.prototype.ZV=function(e){var t=this;this.jV&&a.Framework.clearInterval(this.jV),this.jV=a.Framework.setInterval(function(){t.eQ()},e)},t.prototype.eQ=function(){var e=this;try{if(this.yD.getPrivateIp()||this.yD.getPublicIp()||this.yD.gk()||this.yD.Fj()){var t=this.tQ(),r=new u.Rf.Fa.Jg.PeerInfoMessage;r.guid=this.yD.getId(),this.yD.getPrivateIp()&&(r.privateIpString=this.yD.getPrivateIp()),this.yD.getPublicIp()&&(r.publicIpString=this.yD.getPublicIp()),this.yD.Fj()&&(r.externalAs=this.yD.Fj()),this.yD.gk()&&(r.internalAs=this.yD.gk());var i=this.yD.Uj(),n=[];i.forEach(function(t,r){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=r,i.streamState=t.type,i.delta=null!=e.yD.getDelta()?e.yD.getDelta():-1,n.push(i)}),n.length>0&&r.setStreamCharacteristics(n),t.forEach(function(e,t){e.wj.Lg(u.Rf.Eg.nd,r)})}}catch(e){E.ErrorMonitor.ve().logError("Error announcing peer info to all partners",this.loggerId,v.hs.cr.ar,e)}},t.prototype.tQ=function(){try{var e=new o;return this.dB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.fB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.gB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.aj.forEach(function(t,r){e.has(r)||e.set(r,t)}),e}catch(e){return E.ErrorMonitor.ve().logError("Error collecting all partners",this.loggerId,v.hs.cr.hr,e),new o}},t}(p.rQ);t.iQ=m},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.nQ=!0,i.sQ=3e4,i.oQ=6e4,i.aQ=3e4,t.hQ=i;var n=function(){function e(){}return e}();n.Xa="site",n.Za="externalAs",n.$a="availableSendRate",n.eh="remoteAddress",n.th="localAddress",t.cQ=n},function(e,t,r){"use strict";var i=function(){function e(e,t){this.uQ=e,this.lQ=t}return e.prototype.pj=function(){return this.lQ},e.prototype.dj=function(){return this.uQ},e}();t.pQ=i},function(e,t,r){"use strict";var i=function(){function e(){}return e.dQ=function(e,t){var r=e.gQ.fQ(!1),i=t.gQ.fQ(!1);return r>i?1:r<i?0:-1},e}();t.EQ=i;var n=function(){function e(){}return e.dQ=function(e,t){var r=e.vQ.fQ(!1),i=t.vQ.fQ(!1);return r>i?1:r<i?0:-1},e}();t.yQ=n},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(104),a=r(105),h=r(26),c=r(41),u=r(18),l=r(21),p=r(109),d=r(22),f=r(111),g=r(8),E=r(113),v=r(56),y=r(32),T=r(1),m=r(46),I=r(29),S=r(6),R=o.HiveComm.Options,w=a.HiveComm.TQ,b=h.HiveComm.oE,C=h.HiveComm.SE,_=h.HiveComm.HiveTechError,P=h.HiveComm.vE,A=h.HiveComm.wE,O=r(54),N=S.he.dh,D=S.he.lh,k=S.he.uh,L=S.he.ph;(k||L)&&r(14).HiveConfig,t.version=N;var M;!function(e){var a=function(){function e(e){this.mQ=[w[w.HiveJava],w[w.HiveJsProxy],w[w.HiveJS],w[w.StatsJS]],this.IQ=new i,this.SQ=new Array,this.RQ=new Array,this.wQ=null,this.bQ=0,this.CQ=0,this.loggerId="[HiveComm] ",this._Q=0,this.PQ=u.Rl.getItem("hivePluginId"),this.PQ||(this.PQ=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.Rl.setItem("hivePluginId",this.PQ)),T.ErrorMonitor.ve(t.version),this.options_=new R.AQ,this.OQ(e),l.Sp(e,this.options_),l.Rp(window.location.href,new R.NQ,this.options_),o.kQ.DQ(this.options_),this.ff=s.Framework.resolve(s.Framework.V.R),c.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.ff.fN(this.options().debugLevel),T.ErrorMonitor.ve().me(this.ff.log());var r=s.Framework.resolve(g.pc.M),n=s.Framework.resolve(g.pc.sc);r.Zl().then(function(e){T.ErrorMonitor.ve().setUser(e.tp()),T.ErrorMonitor.ve().Ie({reportingGuid:e.rp()}),T.ErrorMonitor.ve().Ie({p2pId:e.tp()})});var a={};new p.LQ(this),n.getConnectivityInfo().then(function(e){a={pIPAddr:e.getNetworkChanged().getPrivateIp()},T.ErrorMonitor.ve().Ie({privateIp:a.pIPAddr})}),window.gf=this.ff.log(),this.MQ(),this.pluginReference=new A(this);var h=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:I.L.nh;this.FQ=new u.Nl(h)}return e.prototype.options=function(){return this.options_},e.prototype.logger=function(){return this.wQ?this.ff.log(this.wQ.id):this.ff.log()},e.prototype.loggerLevel=function(){if(this.logger)return this.ff.level},e.prototype.getPluginId=function(){return this.PQ},e.prototype.getCommVersion=function(){return t.version},e.prototype.updateCommsForInitSessions=function(){for(var e=0,t=this.RQ;e<t.length;e++){var r=t[e];r.tech.LL(this),"HiveJS"===r.tech.getName()&&r.tech.UQ&&r.tech.UQ.LL(this)}},e.prototype.OQ=function(e){var t=new v.StatsJS(this,e);if(this.IQ.set(v.StatsJS.EL,t),k){var i=r(132).HiveJS;this.IQ.set(i.EL,new i(this,e,t))}if(L){var n=r(199).HiveJsProxy;this.IQ.set(n.EL,new n(this,e,t))}if(D){var s=r(201).HiveJava;this.IQ.set(s.EL,new s(this,e))}var o=e.hiveTechOrder;if(!o||o instanceof Array)if(o&&o.length>0)for(var a=o.length;a--;){var h=o[a];"string"!=typeof h||-1==this.mQ.indexOf(h)?(console.warn(this.loggerId+'The "'+h+'" Hive tech is undefined'),o.splice(a,1)):"string"==typeof h&&this.IQ.has(h)||console.warn(this.loggerId+'The "'+h+'" Hive tech is not enabled on this plugin')}else o=this.mQ;else console.warn(this.loggerId+"hiveTechOrder value not accepted. It must be an array of strings"),o=this.mQ;e.hiveTechOrder=o},e.prototype.resolveTicketPromise=function(e){var t=this;this.logger().notice(this.loggerId+"resolving "+e);var r=n.defer();if(!e)return r.reject(u.Sl("",b.sE,"No ticket provided.")),r.Ss;this.BQ(e);var i=this.HQ().values();0==i.length&&r.reject(u.Sl(e,b.rE));var s,o,a=!1,h=!1,c=0,p=null;return l.wp(function(){return!a&&!h&&c<i.length&&!s},function(){var r=i[c++];r.kL();var u;return u=r.vL()&&!o?t.KB(e,t.options().testId):n.resolve(null),u.then(function(i){null!=i&&(o=i);var s=r.mL();return r.initSession(e,o).timeout(s,"["+r.getName()+"] Error: initialization timed out after "+s+"ms").then(function(e){p=e,t.xQ(p,r),a=!0,!r.vL()&&o&&o.Hl.reset(),T.ErrorMonitor.ve().Ie({sessionId:p.id}),t.logger().notice(t.loggerId+"initializing Session:["+p.id+"] Ticket:"+p.ticket.toString()+" HiveTech:["+p.tech.getName()+"]"),n.resolve(!0)},function(i){i instanceof Error&&(i=new _(P.EE,i.message),r.DL(i)),i.ticketUrl=e,h=!r.onError(i),t.logger().debug(t.loggerId+"tech "+r.getName()+": "+i.message),n.resolve(!0)})},function(e){s=e,n.resolve(!0)})}).then(function(){s?r.reject(u.Sl(e,b.sE,s)):h?r.reject(u.Sl(e,b.nE)):a?r.resolve(p):r.reject(u.Sl(e,b.rE))}).catch(function(i){T.ErrorMonitor.ve().logError("Error resolving ticket promise",t.loggerId,i),r.reject(u.Sl(e,b.tE,i.toString()))}).done(),r.Ss},e.prototype.KB=function(e,t){var r=this;return y.Hive.Reporting().initSession(e,!1,t).then(function(t){return r.logger().debug(r.loggerId+"verified ticket "+e),r.updatePlayerInfo(t),t}).catch(function(e){return n.reject("Ticket not verified, error: "+e.message)})},e.prototype.HQ=function(){var e=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),t=new i;for(var r in e)this.IQ.has(e[r])&&t.set(e[r],this.IQ.get(e[r]));return t},e.prototype.BQ=function(e){var t=T.ErrorMonitor.ve();try{var r=new m.BN;r.RN(e),r.up()&&r.cp()&&r.hp()?t.setTags([r.up(),r.cp(),r.hp()]):t.logError("Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId",this.loggerId,{partnerId:r.up(),customerId:r.cp(),contentId:r.hp()})}catch(e){this.logger().warn(this.loggerId+" "+e.message,e),t.notify(e)}},e.prototype.updatePlayerInfo=function(e){var r={commVersion:t.version,pluginName:this.getPluginName(),pluginVersion:this.getPluginVersion(),playerTech:this.getPlayerTech(),playerVersion:this.getPlayerVersion(),telemetryId:this.getTelemetryId()};e.Hl.updatePlayerInfo(r)},e.prototype.onSetupTimeout=function(){window.HiveRequest=XMLHttpRequest,u.HiveRequestFactory.clear(),y.Hive.Reporting().close()},e.prototype.addTechEvent=function(e){this.wQ&&this.wQ.tech?(e.sessionId=this.wQ.id,this.wQ.tech.bd(this.wQ,e)):this.SQ.push(e)},e.prototype.flushTechEvents=function(){var e=this.SQ;return this.SQ=new Array,e},e.prototype.MQ=function(){var e=this,t=window;t.addEventListener?t.addEventListener("beforeunload",function(){e.qQ(!0,!1)},!1):t.attachEvent("onbeforeunload",function(){e.qQ(!0,!1)})},e.prototype.closeHiveSession=function(e){this.logger().debug("Manually Closing Session"+(e?" because: "+e:""));var t=this.getActiveSession();t&&u.HiveRequestFactory.clearSessionState(t.id),this.resetSession(!0)},e.prototype.resetSession=function(e){var t=this;this.qQ(e),!1===e?this.wQ&&this.RQ.every(function(e){return e.id!==t.wQ.id})&&this.RQ.unshift(this.wQ):this.RQ.length=0,this.GQ(),this.wQ=null,this.bQ=0,this.CQ=0},e.prototype.xQ=function(e,t){e.tech=t,this.RQ.push(e)},e.prototype.onActivateSession=function(e){if(null==this.wQ){for(var t=e||this.getPlayerSource(),r=0;r<this.RQ.length;r++){var i=this.RQ[r];if(i.isActive(t)){if(this.wQ=i,this.wQ.rl?this.wQ.rl.Fl.SD(this.wQ.ticket):this.VQ(),this.RQ.length=0,this.wQ.tech.onActiveSession(this.wQ),this.logger().notice(this.loggerId+"activating Session:["+this.wQ.id+"] Ticket:"+this.wQ.ticket.toString()+" HiveTech:["+this.wQ.tech.getName()+"]"),this.jQ(),this.options().onActiveSession)try{this.options().onActiveSession(i.toHiveSession())}catch(e){T.ErrorMonitor.ve().logError(this.loggerId+" exception in user-defined Generic onActiveSession callback: "+e)}return!0}}this.logger().warn(this.loggerId+"Closing sessions - the active stream doesn't match any initialized sessions"),this.logger().warn(this.loggerId+"Active:"+t+" - initialized: "+this.RQ.length),this.resetSession()}return!1},e.prototype.getActiveSession=function(){if(this.wQ)return this.wQ.toHiveSession()},e.prototype.VQ=function(){var e=!1;this.RQ.forEach(function(t){t.rl&&(e=!0)}),e&&y.Hive.Reporting().close()},e.prototype.isSessionActive=function(){if(null!=this.wQ){if(this.wQ.isActive(this.getPlayerSource()))return!0;this.logger().warn(this.loggerId+"Session src mismatch: "+this.getPlayerSource()+" != "+this.wQ.manifest),this.resetSession()}return!1},e.prototype.qQ=function(e,t){if(void 0===t&&(t=!0),null!=this.wQ)this.logger().notice(this.loggerId+"Stopping session ["+this.wQ.id+"]"),this.wQ.close(e,t);else if(this.RQ.length>0){var r=this.RQ[0];this.logger().notice(this.loggerId+"Attempt to stopping session ["+r.id+"]"),r.close(e,t)}},e.prototype.jQ=function(){var e=this;null==this.QQ&&(this.QQ=setInterval(function(){e.KQ()},this.options().feedbackPeriod),this.KQ())},e.prototype.GQ=function(){clearInterval(this.QQ),this.QQ=null},e.prototype.KQ=function(){var e=this;if(this.isSessionActive()){if(!this.isActive())return void this.resetSession();var t=new u.ul;t.Pl=this.getCurrentTime(),t.Al=this.getBufferLen(),t.Ol=this.bQ,t.width=this.getWindowSize().width,t.height=this.getWindowSize().height,t.YQ=this.isFullscreen(),this.wQ.il(this.FQ.bl(t)),this.wQ.tech.SL(this.wQ,t).fail(function(t){e.logger().warn(e.loggerId+"stats handling failed",t),e.GQ()})}},e.prototype.registerGenericEvents=function(){var e=this;try{u.Tl.ve(this.logger()).yl(function(t){var r=e.getPotentialSession();r&&!r.sl()&&(e.onEventFeedback(t?d.Gl.Yp.Kp:d.Gl.Yp.HIDDEN),e.logger().debug(t?"visible":"hidden"))})}catch(e){T.ErrorMonitor.ve().logError("error setting up the visibilityChange listener",this.loggerId,{error:e})}},e.prototype.onStartBuffering=function(e){this.isSessionActive()&&this.CQ<=0&&(this.CQ=Date.now(),(void 0==e||e)&&this.onEventFeedback(d.Gl.Yp.xp))},e.prototype.onEndBuffering=function(){var e=0==this.bQ;if(this.CQ>0){var t=Date.now()-this.CQ;return this.bQ+=t,this.logger().debug(this.loggerId+"reporting new buffering event of "+t),this.CQ=0,e&&this.KQ(),!0}return!1},e.prototype.onError=function(e,t,r){void 0===r&&(r=!0),this.onEventFeedback(d.Gl.Yp.ERROR,{code:-1,"player-code":e}),r&&this.resetSession()},e.prototype.onEventFeedback=function(e,t){var r=this,i=this.getPotentialSession();null==i||i!=this.wQ&&i.tech.getName()===w[w.HiveJava]||i.tech.CL(i,e,t).fail(function(e){r.logger().warn(r.loggerId+"error in forwarding player event to tech",e)})},e.prototype.getPotentialSession=function(){return this.wQ?this.wQ:this.RQ&&this.RQ.length>0?this.RQ[0]:void 0},e.prototype.initStatusCode=function(){this._Q=0},e.prototype.setStatusCode=function(e,t){this.initStatusCode();this._Q+=e<<28,t&&0===e&&(this._Q+=1<<4*(6-w[t.getName()])),e>0&&T.ErrorMonitor.ve().logError("Status Code Error",this.loggerId,{code:C[e]},["Plugin Error Code",C[e]])},e.prototype.getStatusCode=function(){return this._Q},e.prototype.getTelemetryId=function(){return this.options().telemetryId},e.logError=function(e,t,r,i){var n=T.ErrorMonitor.ve();n.logError.apply(n,arguments)},e.prototype.registerComm=function(e){O.zu.registerComm(this,e)},e}();e.Plugin=a}(M=t.HiveComm||(t.HiveComm={})),s.Framework.$(new f.WQ),s.Framework.ie("peer0",new E.zQ),s.Framework.ne("peer0"),"undefined"!=typeof window&&(window.HiveRequestFactory=u.HiveRequestFactory,void 0===window.HiveComm&&(window.HiveComm={}),window.HiveComm.Plugin=M.Plugin,window.HiveComm.Options=R.AQ,window.HiveComm.HiveRequestFactory=u.HiveRequestFactory,window.HiveComm.zu=O.zu,window.HiveComm.HivePlayerExtendedStats=u.HivePlayerExtendedStats,window.HiveComm.TechName=a.HiveComm.TechName,window.HiveComm.logError=M.Plugin.logError)},function(e,t){if(!RegExp.escape){var r=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(e){return e.replace(r,"\\$&")}}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. MapChanges is a mixin.")}var n=r(37),s=r(50);e.i=i;var o=(Object.prototype.hasOwnProperty,new n),a=null;i.prototype.JQ=function(){return o.has(this)||(a||(a=r(51)),o.set(this,a())),o.get(this)},i.prototype.XQ=function(e){var t=this.JQ();return e=e||"",t.has(e)||t.set(e,{Yc:new s,Wc:new s}),t.get(e)},i.prototype.ZQ=function(e,t,r){!this.Zc&&this.Xc&&this.Xc();var i,n=this.XQ(t);i=r?n.Yc:n.Wc,i.push(e),Object.defineProperty(this,"dispatchesMapChanges",{value:!0,Ah:!0,l:!0,p:!1});var s=this;return function(){s&&(s.$Q(e,t,r),s=null)}},i.prototype.$Q=function(e,t,r){var i,n=this.XQ(t);i=r?n.Yc:n.Wc;var s=i.Lk(e);if(!s)throw new Error("Can't remove map change listener: does not exist: token "+JSON.stringify(t));s.delete()},i.prototype.Xk=function(e,t,r){var i="Map"+(r?"WillChange":"Change");this.JQ().forEach(function(n,s){if(!n.isActive){n.isActive=!0;var o;o=r?n.Yc:n.Wc;var a="handle"+(s.slice(0,1).toUpperCase()+s.slice(1))+i;try{o.forEach(function(r){if(r[a])r[a](t,e,this);else{if(!r.call)throw new Error("Handler "+r+" has no method "+a+" and is not callable");r.call(r,t,e,this)}},this)}finally{n.isActive=!1}}},this)},i.prototype.eK=function(e,t){return this.ZQ(e,t,!0)},i.prototype.tK=function(e,t){return this.$Q(e,t,!0)},i.prototype.Jk=function(e,t){return this.Xk(e,t,!0)}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.cs,r=r||Object.hash,n=n||Function.us,this.ls=t,this.ps=r,this.ds=n;var s=this;this.rK=new this.iK(null,function(){return new s.nK}),this.length=0,this.addEach(e)}var n=(r(11),r(51)),s=r(50),o=r(12),a=r(39),h=r(69),c=r(13);Object.prototype.hasOwnProperty;e.i=i,i.sK=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.iK=n,i.prototype.nK=s,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.has=function(e){var t=this.ps(e);return this.rK.get(t).has(e)},i.prototype.get=function(e,t){if(t)throw new Error("FastSet#get does not support second argument: equals");var r=this.ps(e),i=this.rK;return i.has(r)?i.get(r).get(e):this.ds(e)},i.prototype.delete=function(e,t){if(t)throw new Error("FastSet#delete does not support second argument: equals");var r=this.ps(e),i=this.rK;if(i.has(r)){var n=i.get(r);if(n.delete(e))return this.length--,0===n.length&&i.delete(r),!0}return!1},i.prototype.clear=function(){this.rK.clear(),this.length=0},i.prototype.add=function(e){var t=this.ps(e),r=this.rK;return r.has(t)||r.set(t,new this.nK(null,this.ls)),!r.get(t).has(e)&&(r.get(t).add(e),this.length++,!0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.rK.reduce(function(t,n){return n.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},t,this)},i.prototype.Bc=function(){if(this.length>0)return this.rK.Bc().Bc()},i.prototype.Hc=function(){return this.rK.values().kc().Hc()},i.prototype.log=function(e,t,r,i){e=e||h.hU,t=t||this.vs,r||(r=console.log,i=console),r=r.bind(i);var n=this.rK,s=n.keys();s.forEach(function(o,a){var h,c;a===s.length-1?(h=e.nU,c=" "):0===a?(h=e.rU,c=e.oU):(h=e.sU,c=e.oU);var u=n.get(o);r.call(i,h+e.eU+e.rU+" "+o),u.forEach(function(n,s){var o,a;s===u.head.Ok?(o=e.nU,a=" "):(o=e.sU,a=e.oU);var h;t(s,function(t){h?r.call(i,c+" "+a+"  "+t):(r.call(i,c+" "+o+e.eU+e.eU+t),h=!0)},function(t){r.call(i,c+" "+e.oU+"  "+t)})})})},i.prototype.vs=function(e,t){var r=e.value;Object(r)===r?JSON.stringify(r,null,4).split("\n").forEach(function(e){t(" "+e)}):t(" "+r)}},function(e,t,r){"use strict";function i(e){if(!(this instanceof i))return new i(e);if(Array.isArray(e)||"string"==typeof e)return i.Hc(e);if((e=n(e))instanceof i)return e;if(e.next)this.next=function(){return e.next()};else if(e.Hc){var t=e.Hc();this.next=function(){return t.next()}}else{if("[object Function]"!==n.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}e.i=i;var n=r(36),s=r(12);i.prototype.forEach=s.prototype.forEach,i.prototype.map=s.prototype.map,i.prototype.filter=s.prototype.filter,i.prototype.every=s.prototype.every,i.prototype.some=s.prototype.some,i.prototype.uo=s.prototype.uo,i.prototype.all=s.prototype.all,i.prototype.min=s.prototype.min,i.prototype.max=s.prototype.max,i.prototype.Nc=s.prototype.Nc,i.prototype.Dc=s.prototype.Dc,i.prototype.kc=s.prototype.kc,i.prototype.Lc=s.prototype.Lc,i.prototype.enumerate=s.prototype.enumerate,i.prototype.Fc=s.prototype.Fc,i.prototype.group=s.prototype.group,i.prototype.reversed=s.prototype.reversed,i.prototype.toArray=s.prototype.toArray,i.prototype.Pc=s.prototype.Pc,i.prototype.iterator=s.prototype.iterator,i.prototype.Gk=null,n.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:void 0})}}),i.prototype.Es=function(e){var t=[];return t.addEach(e),t},i.prototype.oK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Vk.done){var i=e.call(r,t.next().value,s++,t);t.Vk.value=i}return t.Vk})},i.prototype.aK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){for(var i;;){if(i=t.next(),!0===i.done)return i;if(e.call(r,i.value,s++,t))return i}})},i.prototype.reduce=function(e){var t,r=i(this),s=arguments[1],o=arguments[2],a=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;if(t=r.next(),!0===t.done){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(s=arguments.length>1?e.call(o,s,t.value,a,r):t.value,a++;;){if(t=r.next(),!0===t.done)return s;s=e.call(o,s,t.value,a,r),a++}},i.prototype.concat=function(){return i.concat(Array.prototype.concat.apply(this,arguments))},i.prototype.hK=function(e){var t,r,s=i(this),o=arguments[1],a=!1,h=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;for(;;){if(r=s.next(),!0===r.done)break;if(!e.call(o,r.value,h,s)){a=!0,t=r.value;break}h++}return a?s.constructor([t]).concat(s):s.constructor([])},i.prototype.cK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Vk.done){var i=t.next().value;e.call(r,i,s++,t)?t.Vk.value=i:(t.Vk.done=!0,t.Vk.value=void 0)}return t.Vk})},i.prototype.uK=function(){return i.Mc(Array.prototype.concat.apply(this,arguments))},i.prototype.lK=function(e){return i.count(e).uK(this)},i.Hc=function(e){var t;return t=0,new i(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length){this.Vk.done=!0,this.Vk.value=void 0;break}t+=1}else t>=e.length&&(this.Vk.done=!0,this.Vk.value=void 0);return this.Vk.done||(this.Vk.value=e[t],t+=1),this.Vk})},i.pK=function(e,t){var r;return arguments.length<2&&(t=1/0),new i(function(){var n,s;return r&&(s=r()),r&&!0!==s.done||(t>0?(t--,n=i.Hc(e),s=(r=n.next.bind(n))()):(this.Vk.done=!0,s=this.Vk)),s})},i.concat=function(e){e=i(e);var t;return new i(function(){var r,n;return t&&(n=t()),n&&!0!==n.done?n:(n=e.next(),!1===n.done?(r=i(n.value),(t=r.next.bind(r))()):n)})},i.Mc=function(e){return e=i(e).map(i),new i(0===e.length?[]:function(){var t,r,i=e.map(function(e){return r=e.next(),!0===r.done&&(t=!0),r.value});return t?(this.Vk.done=!0,this.Vk.value=void 0):this.Vk.value=i,this.Vk})},i.Lc=function(){return i.Mc(Array.prototype.slice.call(arguments))},i.chain=function(){return i.concat(Array.prototype.slice.call(arguments))},i.range=function(e,t,r){return arguments.length<3&&(r=1),arguments.length<2&&(t=e,e=0),e=e||0,r=r||1,new i(function(){e>=t&&(this.Vk.done=!0,this.Vk.value=void 0);var i=e;return e+=r,this.Vk.value=i,this.Vk})},i.count=function(e,t){return i.range(e,1/0,t)},i.repeat=function(e,t){return new i.range(t).oK(function(){return e})}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=n.HiveComm.Options.Options,o=n.HiveComm.Options.mp;!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.authTokenEnabled=!0,t.dashRemoveBitrateSize=!1,t.dashFilterBitrates=null,t.staticPartnerId=null,t.staticCustomerId=null,t.audioMetrics=!0,t.logJsonSnapshots=void 0,t}return i(t,e),t}(s);e.AQ=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiveAuthTokenEnabled="authTokenEnabled",t.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",t.hiveDashFilterBitrates="dashFilterBitrates",t.hiveLogJsonSnapshots="logJsonSnapshots",t.hiveStaticPartnerId="staticPartnerId",t.hiveStaticCustomerId="staticCustomerId",t.hiveAudioMetrics="audioMetrics",t}return i(t,e),t}(o);e.NQ=r}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}));var a=function(){function e(){}return e.DQ=function(e){"dashRemoveBitrateSize"in e&&e.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=e.dashRemoveBitrateSize),"dashFilterBitrates"in e&&e.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=e.dashFilterBitrates),"staticCustomerId"in e&&e.staticCustomerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.uu=e.staticCustomerId),"staticPartnerId"in e&&e.staticPartnerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.cu=e.staticPartnerId),"audioMetrics"in e&&!e.audioMetrics&&window.HiveConfig&&window.HiveConfig.Stats&&(window.HiveConfig.Stats.AudioAccounting=e.audioMetrics),"detectPrivateIP"in e&&"boolean"==typeof e.detectPrivateIP&&window.HiveConfig&&window.HiveConfig.ConnInfo&&(window.HiveConfig.ConnInfo.detectPrivateIP=e.detectPrivateIP),"logJsonSnapshots"in e&&e.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackerLogs=1)},e}();t.kQ=a},function(e,t,r){"use strict";!function(e){!function(e){e[e.HiveJS=0]="HiveJS",e[e.HiveJava=1]="HiveJava",e[e.StatsJS=2]="StatsJS",e[e.HiveJsProxy=3]="HiveJsProxy"}(e.TQ||(e.TQ={}));!function(e){e.StatsJS="StatsJS",e.HiveJsProxy="HiveJsProxy",e.HiveJava="HiveJava",e.HiveJS="HiveJS"}(e.TechName||(e.TechName={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=function(){function e(){var t=this;if(this.dK=new Array,this.callbacks=new Array,e.fe)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var r={};document.addEventListener("keydown",function(e){r[e.keyCode]=!0,t.fK(r)},!0),document.addEventListener("keyup",function(e){r={}},!0)}return e.ve=function(){return void 0===this.fe&&(this.fe=new e),this.fe},e.prototype.ye=function(e,t){this.dK.push(e),this.callbacks.push(t)},e.prototype.fK=function(e){for(var t=this,r=0;r<this.dK.length;r++)!function(r){var i=!0;t.dK[r].forEach(function(t){void 0!=e[t]&&e[t]||(i=!1)}),i&&t.callbacks[r]()}(r)},e}();t.Te=i},function(e,t){e.i=function(e){return e&&"object"==typeof e&&"function"==typeof e.cA&&"function"==typeof e.fill&&"function"==typeof e.gK}},function(e,t){"function"==typeof Object.create?e.i=function(e,t){e.EK=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,p:!1,Ah:!0,l:!0}})}:e.i=function(e,t){e.EK=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var i=r(42),n=r(29),s=r(21),o=r(1),a=function(){function e(e){this.vK=n.L.pp?9989:9988,this.yK=-1,this.gL=e,this.TK()}return e.prototype.TK=function(){var e=this;this.gL.options().silent&&(HiveConfig&&(HiveConfig.ConnInfo.detectPrivateIP=!0),void 0===this.mK&&(this.url="//"+i.fp.dO+":"+this.vK+"/feedback",this.gL.logger().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.mK=setInterval(function(){e.IK()},n.L.hR)))},e.prototype.IK=function(){var e=this,t=this.gL.getActiveSession(),r=void 0;t&&(r="S["+t.id+"]");var i=this.gL.getCurrentTime();i>this.yK?(this.gL.logger().info("sending hive tester ping ["+i+" > "+this.yK+"]"),s.bp(this.url).then(function(e){},function(t){o.ErrorMonitor.ve().logError("error sending hive tester ping",r,{error:t}),clearInterval(e.mK)})):this.gL.logger().warn("not sending hive tester ping ["+i+" <= "+this.yK+"]"),this.yK=i},e}();t.LQ=a},function(e,t){(function(t){e.i=t}).call(t,{})},function(e,t,r){"use strict";var i=r(40),n=r(112),s=r(45),o=r(0),a=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.ZA(o.Framework.V.I,n.SK,i.$A.sO)),e.bind(new i.ZA(o.Framework.V.R,s.TN.yN))},e}();t.WQ=a},function(e,t,r){"use strict";var i=r(68),n=function(){function e(){this.RK=new i,this.wK=new i,"undefined"!=typeof global?this.bK=global:this.bK=window}return e.prototype.C=function(){return!1},e.prototype.CK=function(e,t,r){},e.prototype.A=function(){},e.prototype.time=function(){return+new Date},e.prototype.setTimeout=function(e,t){var r=this,i=this.bK.setTimeout(function(){r.RK.delete(i),e()},t);return this.RK.add(i),i},e.prototype.clearTimeout=function(e){return this.RK.delete(e),this.bK.clearTimeout(e),!0},e.prototype.setInterval=function(e,t){var r=this.bK.setInterval(function(){e()},t);return this.wK.add(r),r},e.prototype.clearInterval=function(e){return this.wK.delete(e),this.bK.clearInterval(e),!0},e.prototype.O=function(){var e=this;this.RK.forEach(function(t){return e.clearTimeout(t)}),this.wK.forEach(function(t){return e.clearInterval(t)})},e}();t.SK=n},function(e,t,r){"use strict";var i=r(40),n=r(0),s=r(45),o=r(19),a=r(8),h=r(22),c=r(75),u=r(76),l=r(77),p=r(79),d=r(80),f=r(6),g=f.he.Ih;if(g)var E=r(81).CH;else var v=r(83).nx;var y=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.ZA(a.pc.hc,o.lp,i.$A.sO)),e.bind(new i.ZA(a.pc.G,u.qB,i.$A.sO)),e.bind(new i.ZA(a.pc.nc,l.WB,i.$A.sO)),e.bind(new i.ZA(a.pc.M,p.vH,i.$A.sO)),e.bind(new i.ZA(n.Framework.V.R,s.TN.yN,i.$A.sO)),g?e.bind(new i.ZA(a.pc.sc,E,i.$A.sO)):e.bind(new i.ZA(a.pc.sc,v,i.$A.sO)),e.bind(new i.ZA(a.pc.oc,d.IH,i.$A.sO)),e.bind(new i.ZA(a.pc.cc,c.Stats.ZF,i.$A.pO)),e.bind(new i.ZA(a.pc.ic,c.Stats.ql,i.$A.pO)),e.bind(new i.ZA(a.pc.uc,h.Gl.Bd,i.$A.pO)),e.bind(new i.ZA(a.pc.lc,h.Gl.ql,i.$A.pO))},e}();t.zQ=y},function(e,t,r){var i=r(33);"undefined"==typeof hive&&(hive={}),void 0===hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(e){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,e&&(void 0!==e.reqN&&null!==e.reqN&&(this.reqN=e.reqN),void 0!==e.respFallbackN&&null!==e.respFallbackN&&(this.respFallbackN=e.respFallbackN),void 0!==e.respFallbackErrN&&null!==e.respFallbackErrN&&(this.respFallbackErrN=e.respFallbackErrN),void 0!==e.respP2pN&&null!==e.respP2pN&&(this.respP2pN=e.respP2pN),void 0!==e.reqOtherN&&null!==e.reqOtherN&&(this.reqOtherN=e.reqOtherN),void 0!==e.respFallbackOtherN&&null!==e.respFallbackOtherN&&(this.respFallbackOtherN=e.respFallbackOtherN),void 0!==e.respFallbackOthertErrN&&null!==e.respFallbackOthertErrN&&(this.respFallbackOthertErrN=e.respFallbackOthertErrN),void 0!==e.srcReqN&&null!==e.srcReqN&&(this.srcReqN=e.srcReqN),void 0!==e.srcRespN&&null!==e.srcRespN&&(this.srcRespN=e.srcRespN),void 0!==e.srcRespErrN&&null!==e.srcRespErrN&&(this.srcRespErrN=e.srcRespErrN),void 0!==e.srcReqQt&&null!==e.srcReqQt&&(this.srcReqQt=e.srcReqQt),void 0!==e.srcRespQt&&null!==e.srcRespQt&&(this.srcRespQt=e.srcRespQt),void 0!==e.srcOverQt&&null!==e.srcOverQt&&(this.srcOverQt=e.srcOverQt),void 0!==e.srcOtherReqN&&null!==e.srcOtherReqN&&(this.srcOtherReqN=e.srcOtherReqN),void 0!==e.srcOtherRespN&&null!==e.srcOtherRespN&&(this.srcOtherRespN=e.srcOtherRespN),void 0!==e.srcOtherRespErrN&&null!==e.srcOtherRespErrN&&(this.srcOtherRespErrN=e.srcOtherRespErrN),void 0!==e.srcOtherReqQt&&null!==e.srcOtherReqQt&&(this.srcOtherReqQt=e.srcOtherReqQt),void 0!==e.srcOtherRespQt&&null!==e.srcOtherRespQt&&(this.srcOtherRespQt=e.srcOtherRespQt),void 0!==e.srcOtherOverQt&&null!==e.srcOtherOverQt&&(this.srcOtherOverQt=e.srcOtherOverQt),void 0!==e.p2pSubReqN&&null!==e.p2pSubReqN&&(this.p2pSubReqN=e.p2pSubReqN),void 0!==e.p2pSubRespN&&null!==e.p2pSubRespN&&(this.p2pSubRespN=e.p2pSubRespN),void 0!==e.p2pSubRespPartN&&null!==e.p2pSubRespPartN&&(this.p2pSubRespPartN=e.p2pSubRespPartN),void 0!==e.p2pSubRespErrN&&null!==e.p2pSubRespErrN&&(this.p2pSubRespErrN=e.p2pSubRespErrN),void 0!==e.p2pSubRespExpN&&null!==e.p2pSubRespExpN&&(this.p2pSubRespExpN=e.p2pSubRespExpN),void 0!==e.p2pSubReqQt&&null!==e.p2pSubReqQt&&(this.p2pSubReqQt=e.p2pSubReqQt),void 0!==e.p2pSubRespQt&&null!==e.p2pSubRespQt&&(this.p2pSubRespQt=e.p2pSubRespQt),void 0!==e.p2pDirectQt&&null!==e.p2pDirectQt&&(this.p2pDirectQt=e.p2pDirectQt),void 0!==e.p2pRelayQt&&null!==e.p2pRelayQt&&(this.p2pRelayQt=e.p2pRelayQt),void 0!==e.p2pNatQt&&null!==e.p2pNatQt&&(this.p2pNatQt=e.p2pNatQt),void 0!==e.p2pUdpbQt&&null!==e.p2pUdpbQt&&(this.p2pUdpbQt=e.p2pUdpbQt),void 0!==e.fallAgentRespN&&null!==e.fallAgentRespN&&(this.fallAgentRespN=e.fallAgentRespN),void 0!==e.fallAgentPredHitN&&null!==e.fallAgentPredHitN&&(this.fallAgentPredHitN=e.fallAgentPredHitN),void 0!==e.fallAgentFailedRespN&&null!==e.fallAgentFailedRespN&&(this.fallAgentFailedRespN=e.fallAgentFailedRespN),void 0!==e.fallAgentPredMissN&&null!==e.fallAgentPredMissN&&(this.fallAgentPredMissN=e.fallAgentPredMissN),void 0!==e.fallAgentPredPartialHitN&&null!==e.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=e.fallAgentPredPartialHitN),void 0!==e.fallAgenTrafficSuccessQt&&null!==e.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=e.fallAgenTrafficSuccessQt),void 0!==e.fallAgenTrafficFailureQt&&null!==e.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=e.fallAgenTrafficFailureQt),void 0!==e.p2pAgentPredHitN&&null!==e.p2pAgentPredHitN&&(this.p2pAgentPredHitN=e.p2pAgentPredHitN),void 0!==e.p2pAgentPredMissN&&null!==e.p2pAgentPredMissN&&(this.p2pAgentPredMissN=e.p2pAgentPredMissN),void 0!==e.p2pAgentPredPartialHitN&&null!==e.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=e.p2pAgentPredPartialHitN),void 0!==e.p2pAgenTrafficSuccessQt&&null!==e.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=e.p2pAgenTrafficSuccessQt),void 0!==e.p2pAgenTrafficFailureQt&&null!==e.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=e.p2pAgenTrafficFailureQt),void 0!==e.respP2pOtherN&&null!==e.respP2pOtherN&&(this.respP2pOtherN=e.respP2pOtherN),void 0!==e.lCacheRespN&&null!==e.lCacheRespN&&(this.lCacheRespN=e.lCacheRespN),void 0!==e.lCacheRespQt&&null!==e.lCacheRespQt&&(this.lCacheRespQt=e.lCacheRespQt),void 0!==e.p2pOutSiteLowPrio&&null!==e.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=e.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.reqN=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.respFallbackN=e.E_().value:e.Mb(r);break;case 3:r==i.Type.I32?this.respFallbackErrN=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.DOUBLE?this.respP2pN=e.E_().value:e.Mb(r);break;case 5:r==i.Type.I32?this.reqOtherN=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.respFallbackOtherN=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.I32?this.respFallbackOthertErrN=e.Fb().value:e.Mb(r);break;case 8:r==i.Type.I32?this.srcReqN=e.Fb().value:e.Mb(r);break;case 9:r==i.Type.I32?this.srcRespN=e.Fb().value:e.Mb(r);break;case 10:r==i.Type.I32?this.srcRespErrN=e.Fb().value:e.Mb(r);break;case 11:r==i.Type.I64?this.srcReqQt=e.g_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.srcRespQt=e.g_().value:e.Mb(r);break;case 13:r==i.Type.I64?this.srcOverQt=e.g_().value:e.Mb(r);break;case 14:r==i.Type.I32?this.srcOtherReqN=e.Fb().value:e.Mb(r);break;case 15:r==i.Type.I32?this.srcOtherRespN=e.Fb().value:e.Mb(r);break;case 16:r==i.Type.I32?this.srcOtherRespErrN=e.Fb().value:e.Mb(r);break;case 17:r==i.Type.I64?this.srcOtherReqQt=e.g_().value:e.Mb(r);break;case 18:r==i.Type.I64?this.srcOtherRespQt=e.g_().value:e.Mb(r);break;case 19:r==i.Type.I64?this.srcOtherOverQt=e.g_().value:e.Mb(r);break;case 20:r==i.Type.I32?this.p2pSubReqN=e.Fb().value:e.Mb(r);break;case 21:r==i.Type.I32?this.p2pSubRespN=e.Fb().value:e.Mb(r);break;case 22:r==i.Type.DOUBLE?this.p2pSubRespPartN=e.E_().value:e.Mb(r);break;case 23:r==i.Type.DOUBLE?this.p2pSubRespErrN=e.E_().value:e.Mb(r);break;case 24:r==i.Type.I32?this.p2pSubRespExpN=e.Fb().value:e.Mb(r);break;case 25:r==i.Type.I64?this.p2pSubReqQt=e.g_().value:e.Mb(r);break;case 26:r==i.Type.I64?this.p2pSubRespQt=e.g_().value:e.Mb(r);break;case 27:r==i.Type.I64?this.p2pDirectQt=e.g_().value:e.Mb(r);break;case 28:r==i.Type.I64?this.p2pRelayQt=e.g_().value:e.Mb(r);break;case 29:r==i.Type.I64?this.p2pNatQt=e.g_().value:e.Mb(r);break;case 30:r==i.Type.I64?this.p2pUdpbQt=e.g_().value:e.Mb(r);break;case 31:r==i.Type.I32?this.fallAgentRespN=e.Fb().value:e.Mb(r);break;case 32:r==i.Type.I32?this.fallAgentPredHitN=e.Fb().value:e.Mb(r);break;case 33:r==i.Type.I32?this.fallAgentFailedRespN=e.Fb().value:e.Mb(r);break;case 34:r==i.Type.I32?this.fallAgentPredMissN=e.Fb().value:e.Mb(r);break;case 35:r==i.Type.I32?this.fallAgentPredPartialHitN=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I64?this.fallAgenTrafficSuccessQt=e.g_().value:e.Mb(r);break;case 37:r==i.Type.I64?this.fallAgenTrafficFailureQt=e.g_().value:e.Mb(r);break;case 38:r==i.Type.I32?this.p2pAgentPredHitN=e.Fb().value:e.Mb(r);break;case 39:r==i.Type.I32?this.p2pAgentPredMissN=e.Fb().value:e.Mb(r);break;case 40:r==i.Type.I32?this.p2pAgentPredPartialHitN=e.Fb().value:e.Mb(r);break;case 41:r==i.Type.I64?this.p2pAgenTrafficSuccessQt=e.g_().value:e.Mb(r);break;case 42:r==i.Type.I64?this.p2pAgenTrafficFailureQt=e.g_().value:e.Mb(r);break;case 43:r==i.Type.I32?this.respP2pOtherN=e.Fb().value:e.Mb(r);break;case 44:r==i.Type.I32?this.lCacheRespN=e.Fb().value:e.Mb(r);break;case 45:r==i.Type.I64?this.lCacheRespQt=e.g_().value:e.Mb(r);break;case 46:r==i.Type.I64?this.p2pOutSiteLowPrio=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Traffic.prototype.write=function(e){e.Hb("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(e.xb("reqN",i.Type.I32,1),e.Vb(this.reqN),e.Gb()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(e.xb("respFallbackN",i.Type.DOUBLE,2),e.YC(this.respFallbackN),e.Gb()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(e.xb("respFallbackErrN",i.Type.I32,3),e.Vb(this.respFallbackErrN),e.Gb()),null!==this.respP2pN&&void 0!==this.respP2pN&&(e.xb("respP2pN",i.Type.DOUBLE,4),e.YC(this.respP2pN),e.Gb()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(e.xb("reqOtherN",i.Type.I32,5),e.Vb(this.reqOtherN),e.Gb()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(e.xb("respFallbackOtherN",i.Type.I32,6),e.Vb(this.respFallbackOtherN),e.Gb()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(e.xb("respFallbackOthertErrN",i.Type.I32,7),e.Vb(this.respFallbackOthertErrN),e.Gb()),null!==this.srcReqN&&void 0!==this.srcReqN&&(e.xb("srcReqN",i.Type.I32,8),e.Vb(this.srcReqN),e.Gb()),null!==this.srcRespN&&void 0!==this.srcRespN&&(e.xb("srcRespN",i.Type.I32,9),e.Vb(this.srcRespN),e.Gb()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(e.xb("srcRespErrN",i.Type.I32,10),e.Vb(this.srcRespErrN),e.Gb()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(e.xb("srcReqQt",i.Type.I64,11),e.KC(this.srcReqQt),e.Gb()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(e.xb("srcRespQt",i.Type.I64,12),e.KC(this.srcRespQt),e.Gb()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(e.xb("srcOverQt",i.Type.I64,13),e.KC(this.srcOverQt),e.Gb()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(e.xb("srcOtherReqN",i.Type.I32,14),e.Vb(this.srcOtherReqN),e.Gb()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(e.xb("srcOtherRespN",i.Type.I32,15),e.Vb(this.srcOtherRespN),e.Gb()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(e.xb("srcOtherRespErrN",i.Type.I32,16),e.Vb(this.srcOtherRespErrN),e.Gb()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(e.xb("srcOtherReqQt",i.Type.I64,17),e.KC(this.srcOtherReqQt),e.Gb()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(e.xb("srcOtherRespQt",i.Type.I64,18),e.KC(this.srcOtherRespQt),e.Gb()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(e.xb("srcOtherOverQt",i.Type.I64,19),e.KC(this.srcOtherOverQt),e.Gb()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(e.xb("p2pSubReqN",i.Type.I32,20),e.Vb(this.p2pSubReqN),e.Gb()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(e.xb("p2pSubRespN",i.Type.I32,21),e.Vb(this.p2pSubRespN),e.Gb()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(e.xb("p2pSubRespPartN",i.Type.DOUBLE,22),e.YC(this.p2pSubRespPartN),e.Gb()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(e.xb("p2pSubRespErrN",i.Type.DOUBLE,23),e.YC(this.p2pSubRespErrN),e.Gb()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(e.xb("p2pSubRespExpN",i.Type.I32,24),e.Vb(this.p2pSubRespExpN),e.Gb()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(e.xb("p2pSubReqQt",i.Type.I64,25),e.KC(this.p2pSubReqQt),e.Gb()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(e.xb("p2pSubRespQt",i.Type.I64,26),e.KC(this.p2pSubRespQt),e.Gb()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(e.xb("p2pDirectQt",i.Type.I64,27),e.KC(this.p2pDirectQt),e.Gb()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(e.xb("p2pRelayQt",i.Type.I64,28),e.KC(this.p2pRelayQt),e.Gb()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(e.xb("p2pNatQt",i.Type.I64,29),e.KC(this.p2pNatQt),e.Gb()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(e.xb("p2pUdpbQt",i.Type.I64,30),e.KC(this.p2pUdpbQt),e.Gb()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(e.xb("fallAgentRespN",i.Type.I32,31),e.Vb(this.fallAgentRespN),e.Gb()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(e.xb("fallAgentPredHitN",i.Type.I32,32),e.Vb(this.fallAgentPredHitN),e.Gb()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(e.xb("fallAgentFailedRespN",i.Type.I32,33),e.Vb(this.fallAgentFailedRespN),e.Gb()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(e.xb("fallAgentPredMissN",i.Type.I32,34),e.Vb(this.fallAgentPredMissN),e.Gb()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(e.xb("fallAgentPredPartialHitN",i.Type.I32,35),e.Vb(this.fallAgentPredPartialHitN),e.Gb()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(e.xb("fallAgenTrafficSuccessQt",i.Type.I64,36),e.KC(this.fallAgenTrafficSuccessQt),e.Gb()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(e.xb("fallAgenTrafficFailureQt",i.Type.I64,37),e.KC(this.fallAgenTrafficFailureQt),e.Gb()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(e.xb("p2pAgentPredHitN",i.Type.I32,38),e.Vb(this.p2pAgentPredHitN),e.Gb()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(e.xb("p2pAgentPredMissN",i.Type.I32,39),e.Vb(this.p2pAgentPredMissN),e.Gb()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(e.xb("p2pAgentPredPartialHitN",i.Type.I32,40),e.Vb(this.p2pAgentPredPartialHitN),e.Gb()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(e.xb("p2pAgenTrafficSuccessQt",i.Type.I64,41),e.KC(this.p2pAgenTrafficSuccessQt),e.Gb()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(e.xb("p2pAgenTrafficFailureQt",i.Type.I64,42),e.KC(this.p2pAgenTrafficFailureQt),e.Gb()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(e.xb("respP2pOtherN",i.Type.I32,43),e.Vb(this.respP2pOtherN),e.Gb()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(e.xb("lCacheRespN",i.Type.I32,44),e.Vb(this.lCacheRespN),e.Gb()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(e.xb("lCacheRespQt",i.Type.I64,45),e.KC(this.lCacheRespQt),e.Gb()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(e.xb("p2pOutSiteLowPrio",i.Type.I64,46),e.KC(this.p2pOutSiteLowPrio),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Metrics=function(e){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,this._K=null,e&&(void 0!==e.upBW&&null!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&null!==e.downBW&&(this.downBW=e.downBW),void 0!==e.memN&&null!==e.memN&&(this.memN=e.memN),void 0!==e.prtInN&&null!==e.prtInN&&(this.prtInN=e.prtInN),void 0!==e.prtOutN&&null!==e.prtOutN&&(this.prtOutN=e.prtOutN),void 0!==e.initVideoBufQt&&null!==e.initVideoBufQt&&(this.initVideoBufQt=e.initVideoBufQt),void 0!==e.videoAvgBufQt&&null!==e.videoAvgBufQt&&(this.videoAvgBufQt=e.videoAvgBufQt),void 0!==e.videoBufQt&&null!==e.videoBufQt&&(this.videoBufQt=e.videoBufQt),void 0!==e.videoBufN&&null!==e.videoBufN&&(this.videoBufN=e.videoBufN),void 0!==e.initAudioBufQt&&null!==e.initAudioBufQt&&(this.initAudioBufQt=e.initAudioBufQt),void 0!==e.audioAvgBufQt&&null!==e.audioAvgBufQt&&(this.audioAvgBufQt=e.audioAvgBufQt),void 0!==e.audioBufQt&&null!==e.audioBufQt&&(this.audioBufQt=e.audioBufQt),void 0!==e.audioBufN&&null!==e.audioBufN&&(this.audioBufN=e.audioBufN),void 0!==e.bitrateUpN&&null!==e.bitrateUpN&&(this.bitrateUpN=e.bitrateUpN),void 0!==e.bitrateDwnN&&null!==e.bitrateDwnN&&(this.bitrateDwnN=e.bitrateDwnN),void 0!==e.delay&&null!==e.delay&&(this.delay=e.delay),void 0!==e.delayEnforcement&&null!==e.delayEnforcement&&(this.delayEnforcement=e.delayEnforcement),void 0!==e.lookupReqEstablished&&null!==e.lookupReqEstablished&&(this.lookupReqEstablished=e.lookupReqEstablished),void 0!==e.lookupReqAccept&&null!==e.lookupReqAccept&&(this.lookupReqAccept=e.lookupReqAccept),void 0!==e.fallbackAvgTp&&null!==e.fallbackAvgTp&&(this.fallbackAvgTp=e.fallbackAvgTp),void 0!==e.srcThroughput&&null!==e.srcThroughput&&(this.srcThroughput=e.srcThroughput),void 0!==e.diskReadTimeout&&null!==e.diskReadTimeout&&(this.diskReadTimeout=e.diskReadTimeout),void 0!==e.diskReadRate&&null!==e.diskReadRate&&(this.diskReadRate=e.diskReadRate),void 0!==e.diskStoreRate&&null!==e.diskStoreRate&&(this.diskStoreRate=e.diskStoreRate),void 0!==e.diskRemoveRate&&null!==e.diskRemoveRate&&(this.diskRemoveRate=e.diskRemoveRate),void 0!==e.diskCacheSize&&null!==e.diskCacheSize&&(this.diskCacheSize=e.diskCacheSize),void 0!==e.clientBufferMs&&null!==e.clientBufferMs&&(this.clientBufferMs=e.clientBufferMs),void 0!==e.lookupTotal&&null!==e.lookupTotal&&(this.lookupTotal=e.lookupTotal),void 0!==e.lookupNotFound&&null!==e.lookupNotFound&&(this.lookupNotFound=e.lookupNotFound),void 0!==e.lookupFailed&&null!==e.lookupFailed&&(this.lookupFailed=e.lookupFailed),void 0!==e.lookupLatency&&null!==e.lookupLatency&&(this.lookupLatency=e.lookupLatency),void 0!==e.trackerFailed&&null!==e.trackerFailed&&(this.trackerFailed=e.trackerFailed),void 0!==e.trackerLatency&&null!==e.trackerLatency&&(this.trackerLatency=e.trackerLatency),void 0!==e.snapshotFailed&&null!==e.snapshotFailed&&(this.snapshotFailed=e.snapshotFailed),void 0!==e.snapshotLatency&&null!==e.snapshotLatency&&(this.snapshotLatency=e.snapshotLatency),void 0!==e._K&&null!==e._K&&(this._K=e._K))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.upBW=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.downBW=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.memN=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.prtInN=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.prtOutN=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I64?this.initVideoBufQt=e.g_().value:e.Mb(r);break;case 7:r==i.Type.DOUBLE?this.videoAvgBufQt=e.E_().value:e.Mb(r);break;case 8:r==i.Type.I64?this.videoBufQt=e.g_().value:e.Mb(r);break;case 9:r==i.Type.I32?this.videoBufN=e.Fb().value:e.Mb(r);break;case 10:r==i.Type.I32?this.initAudioBufQt=e.Fb().value:e.Mb(r);break;case 11:r==i.Type.DOUBLE?this.audioAvgBufQt=e.E_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.audioBufQt=e.g_().value:e.Mb(r);break;case 13:r==i.Type.I32?this.audioBufN=e.Fb().value:e.Mb(r);break;case 14:r==i.Type.I32?this.bitrateUpN=e.Fb().value:e.Mb(r);break;case 15:r==i.Type.I32?this.bitrateDwnN=e.Fb().value:e.Mb(r);break;case 16:r==i.Type.I32?this.delay=e.Fb().value:e.Mb(r);break;case 17:r==i.Type.I32?this.delayEnforcement=e.Fb().value:e.Mb(r);break;case 18:r==i.Type.I32?this.lookupReqEstablished=e.Fb().value:e.Mb(r);break;case 19:r==i.Type.I32?this.lookupReqAccept=e.Fb().value:e.Mb(r);break;case 20:r==i.Type.DOUBLE?this.fallbackAvgTp=e.E_().value:e.Mb(r);break;case 21:r==i.Type.DOUBLE?this.srcThroughput=e.E_().value:e.Mb(r);break;case 22:r==i.Type.I32?this.diskReadTimeout=e.Fb().value:e.Mb(r);break;case 23:r==i.Type.DOUBLE?this.diskReadRate=e.E_().value:e.Mb(r);break;case 24:r==i.Type.DOUBLE?this.diskStoreRate=e.E_().value:e.Mb(r);break;case 25:r==i.Type.DOUBLE?this.diskRemoveRate=e.E_().value:e.Mb(r);break;case 26:r==i.Type.I64?this.diskCacheSize=e.g_().value:e.Mb(r);break;case 27:r==i.Type.I32?this.clientBufferMs=e.Fb().value:e.Mb(r);break;case 28:r==i.Type.I32?this.lookupTotal=e.Fb().value:e.Mb(r);break;case 29:r==i.Type.I32?this.lookupNotFound=e.Fb().value:e.Mb(r);break;case 30:r==i.Type.I32?this.lookupFailed=e.Fb().value:e.Mb(r);break;case 31:r==i.Type.I32?this.lookupLatency=e.Fb().value:e.Mb(r);break;case 32:r==i.Type.I32?this.trackerFailed=e.Fb().value:e.Mb(r);break;case 33:r==i.Type.I32?this.trackerLatency=e.Fb().value:e.Mb(r);break;case 34:r==i.Type.I32?this.snapshotFailed=e.Fb().value:e.Mb(r);break;case 35:r==i.Type.I32?this.snapshotLatency=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I32?this._K=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Metrics.prototype.write=function(e){e.Hb("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(e.xb("upBW",i.Type.I32,1),e.Vb(this.upBW),e.Gb()),null!==this.downBW&&void 0!==this.downBW&&(e.xb("downBW",i.Type.I32,2),e.Vb(this.downBW),e.Gb()),null!==this.memN&&void 0!==this.memN&&(e.xb("memN",i.Type.I32,3),e.Vb(this.memN),e.Gb()),null!==this.prtInN&&void 0!==this.prtInN&&(e.xb("prtInN",i.Type.I32,4),e.Vb(this.prtInN),e.Gb()),null!==this.prtOutN&&void 0!==this.prtOutN&&(e.xb("prtOutN",i.Type.I32,5),e.Vb(this.prtOutN),e.Gb()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(e.xb("initVideoBufQt",i.Type.I64,6),e.KC(this.initVideoBufQt),e.Gb()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(e.xb("videoAvgBufQt",i.Type.DOUBLE,7),e.YC(this.videoAvgBufQt),e.Gb()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(e.xb("videoBufQt",i.Type.I64,8),e.KC(this.videoBufQt),e.Gb()),null!==this.videoBufN&&void 0!==this.videoBufN&&(e.xb("videoBufN",i.Type.I32,9),e.Vb(this.videoBufN),e.Gb()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(e.xb("initAudioBufQt",i.Type.I32,10),e.Vb(this.initAudioBufQt),e.Gb()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(e.xb("audioAvgBufQt",i.Type.DOUBLE,11),e.YC(this.audioAvgBufQt),e.Gb()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(e.xb("audioBufQt",i.Type.I64,12),e.KC(this.audioBufQt),e.Gb()),null!==this.audioBufN&&void 0!==this.audioBufN&&(e.xb("audioBufN",i.Type.I32,13),e.Vb(this.audioBufN),e.Gb()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(e.xb("bitrateUpN",i.Type.I32,14),e.Vb(this.bitrateUpN),e.Gb()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(e.xb("bitrateDwnN",i.Type.I32,15),e.Vb(this.bitrateDwnN),e.Gb()),null!==this.delay&&void 0!==this.delay&&(e.xb("delay",i.Type.I32,16),e.Vb(this.delay),e.Gb()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(e.xb("delayEnforcement",i.Type.I32,17),e.Vb(this.delayEnforcement),e.Gb()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(e.xb("lookupReqEstablished",i.Type.I32,18),e.Vb(this.lookupReqEstablished),e.Gb()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(e.xb("lookupReqAccept",i.Type.I32,19),e.Vb(this.lookupReqAccept),e.Gb()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(e.xb("fallbackAvgTp",i.Type.DOUBLE,20),e.YC(this.fallbackAvgTp),e.Gb()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(e.xb("srcThroughput",i.Type.DOUBLE,21),e.YC(this.srcThroughput),e.Gb()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(e.xb("diskReadTimeout",i.Type.I32,22),e.Vb(this.diskReadTimeout),e.Gb()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(e.xb("diskReadRate",i.Type.DOUBLE,23),e.YC(this.diskReadRate),e.Gb()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(e.xb("diskStoreRate",i.Type.DOUBLE,24),e.YC(this.diskStoreRate),e.Gb()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(e.xb("diskRemoveRate",i.Type.DOUBLE,25),e.YC(this.diskRemoveRate),e.Gb()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(e.xb("diskCacheSize",i.Type.I64,26),e.KC(this.diskCacheSize),e.Gb()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(e.xb("clientBufferMs",i.Type.I32,27),e.Vb(this.clientBufferMs),e.Gb()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(e.xb("lookupTotal",i.Type.I32,28),e.Vb(this.lookupTotal),e.Gb()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(e.xb("lookupNotFound",i.Type.I32,29),e.Vb(this.lookupNotFound),e.Gb()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(e.xb("lookupFailed",i.Type.I32,30),e.Vb(this.lookupFailed),e.Gb()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(e.xb("lookupLatency",i.Type.I32,31),e.Vb(this.lookupLatency),e.Gb()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(e.xb("trackerFailed",i.Type.I32,32),e.Vb(this.trackerFailed),e.Gb()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(e.xb("trackerLatency",i.Type.I32,33),e.Vb(this.trackerLatency),e.Gb()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(e.xb("snapshotFailed",i.Type.I32,34),e.Vb(this.snapshotFailed),e.Gb()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(e.xb("snapshotLatency",i.Type.I32,35),e.Vb(this.snapshotLatency),e.Gb()),null!==this._K&&void 0!==this._K&&(e.xb("sourceLatency",i.Type.I32,36),e.Vb(this._K),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerTraffic=function(e){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,e&&(void 0!==e.p2pSuccReq&&null!==e.p2pSuccReq&&(this.p2pSuccReq=e.p2pSuccReq),void 0!==e.p2pFailReq&&null!==e.p2pFailReq&&(this.p2pFailReq=e.p2pFailReq),void 0!==e.p2pPartReq&&null!==e.p2pPartReq&&(this.p2pPartReq=e.p2pPartReq),void 0!==e.p2pSuccReceived&&null!==e.p2pSuccReceived&&(this.p2pSuccReceived=e.p2pSuccReceived),void 0!==e.p2pSuccReceivedLow&&null!==e.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=e.p2pSuccReceivedLow),void 0!==e.p2pFailReceived&&null!==e.p2pFailReceived&&(this.p2pFailReceived=e.p2pFailReceived),void 0!==e.p2pSuccResp&&null!==e.p2pSuccResp&&(this.p2pSuccResp=e.p2pSuccResp),void 0!==e.p2pFailResp&&null!==e.p2pFailResp&&(this.p2pFailResp=e.p2pFailResp),void 0!==e.p2pPartResp&&null!==e.p2pPartResp&&(this.p2pPartResp=e.p2pPartResp),void 0!==e.p2pSuccSent&&null!==e.p2pSuccSent&&(this.p2pSuccSent=e.p2pSuccSent),void 0!==e.p2pSuccSentLow&&null!==e.p2pSuccSentLow&&(this.p2pSuccSentLow=e.p2pSuccSentLow),void 0!==e.p2pFailSent&&null!==e.p2pFailSent&&(this.p2pFailSent=e.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.p2pSuccReq=e.g_().value:e.Mb(r);break;case 2:r==i.Type.I64?this.p2pFailReq=e.g_().value:e.Mb(r);break;case 3:r==i.Type.I64?this.p2pPartReq=e.g_().value:e.Mb(r);break;case 4:r==i.Type.I64?this.p2pSuccReceived=e.g_().value:e.Mb(r);break;case 5:r==i.Type.I64?this.p2pSuccReceivedLow=e.g_().value:e.Mb(r);break;case 10:r==i.Type.I64?this.p2pFailReceived=e.g_().value:e.Mb(r);break;case 6:r==i.Type.I64?this.p2pSuccResp=e.g_().value:e.Mb(r);break;case 11:r==i.Type.I64?this.p2pFailResp=e.g_().value:e.Mb(r);break;case 7:r==i.Type.I64?this.p2pPartResp=e.g_().value:e.Mb(r);break;case 8:r==i.Type.I64?this.p2pSuccSent=e.g_().value:e.Mb(r);break;case 9:r==i.Type.I64?this.p2pSuccSentLow=e.g_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.p2pFailSent=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerTraffic.prototype.write=function(e){e.Hb("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(e.xb("p2pSuccReq",i.Type.I64,1),e.KC(this.p2pSuccReq),e.Gb()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(e.xb("p2pFailReq",i.Type.I64,2),e.KC(this.p2pFailReq),e.Gb()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(e.xb("p2pPartReq",i.Type.I64,3),e.KC(this.p2pPartReq),e.Gb()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(e.xb("p2pSuccReceived",i.Type.I64,4),e.KC(this.p2pSuccReceived),e.Gb()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(e.xb("p2pSuccReceivedLow",i.Type.I64,5),e.KC(this.p2pSuccReceivedLow),e.Gb()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(e.xb("p2pFailReceived",i.Type.I64,10),e.KC(this.p2pFailReceived),e.Gb()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(e.xb("p2pSuccResp",i.Type.I64,6),e.KC(this.p2pSuccResp),e.Gb()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(e.xb("p2pFailResp",i.Type.I64,11),e.KC(this.p2pFailResp),e.Gb()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(e.xb("p2pPartResp",i.Type.I64,7),e.KC(this.p2pPartResp),e.Gb()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(e.xb("p2pSuccSent",i.Type.I64,8),e.KC(this.p2pSuccSent),e.Gb()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(e.xb("p2pSuccSentLow",i.Type.I64,9),e.KC(this.p2pSuccSentLow),e.Gb()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(e.xb("p2pFailSent",i.Type.I64,12),e.KC(this.p2pFailSent),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerMetrics=function(e){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,e&&(void 0!==e.rateReceived&&null!==e.rateReceived&&(this.rateReceived=e.rateReceived),void 0!==e.rateSent&&null!==e.rateSent&&(this.rateSent=e.rateSent),void 0!==e.handshakeDelay&&null!==e.handshakeDelay&&(this.handshakeDelay=e.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.DOUBLE?this.rateReceived=e.E_().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.rateSent=e.E_().value:e.Mb(r);break;case 3:r==i.Type.I64?this.handshakeDelay=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerMetrics.prototype.write=function(e){e.Hb("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(e.xb("rateReceived",i.Type.DOUBLE,1),e.YC(this.rateReceived),e.Gb()),null!==this.rateSent&&void 0!==this.rateSent&&(e.xb("rateSent",i.Type.DOUBLE,2),e.YC(this.rateSent),e.Gb()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(e.xb("handshakeDelay",i.Type.I64,3),e.KC(this.handshakeDelay),e.Gb()),e.jb(),e.Qb()},hive.snapshots.ConnectivityInfo=function(e){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,e&&(void 0!==e.upBW&&null!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&null!==e.downBW&&(this.downBW=e.downBW),void 0!==e.externalAs&&null!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.internalAs&&null!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.publicIp&&null!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.privateIp&&null!==e.privateIp&&(this.privateIp=e.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.upBW=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.downBW=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.STRING?this.publicIp=e.Lb().value:e.Mb(r);break;case 6:r==i.Type.STRING?this.privateIp=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.ConnectivityInfo.prototype.write=function(e){e.Hb("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(e.xb("upBW",i.Type.I32,1),e.Vb(this.upBW),e.Gb()),null!==this.downBW&&void 0!==this.downBW&&(e.xb("downBW",i.Type.I32,2),e.Vb(this.downBW),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,4),e.Vb(this.internalAs),e.Gb()),null!==this.publicIp&&void 0!==this.publicIp&&(e.xb("publicIp",i.Type.STRING,5),e.qb(this.publicIp),e.Gb()),null!==this.privateIp&&void 0!==this.privateIp&&(e.xb("privateIp",i.Type.STRING,6),e.qb(this.privateIp),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Partner=function(e){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,e&&(void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.inPart&&null!==e.inPart&&(this.inPart=e.inPart),void 0!==e.outPart&&null!==e.outPart&&(this.outPart=e.outPart),void 0!==e.udp&&null!==e.udp&&(this.udp=e.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(e)):e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(e)):e.Mb(r);break;case 4:r==i.Type.BOOL?this.inPart=e.p_().value:e.Mb(r);break;case 5:r==i.Type.BOOL?this.outPart=e.p_().value:e.Mb(r);break;case 6:r==i.Type.BOOL?this.udp=e.p_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Partner.prototype.write=function(e){e.Hb("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,1),this.connInfo.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic&&(e.xb("traffic",i.Type.STRUCT,2),this.traffic.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,3),this.metrics.write(e),e.Gb()),null!==this.inPart&&void 0!==this.inPart&&(e.xb("inPart",i.Type.BOOL,4),e.VC(this.inPart),e.Gb()),null!==this.outPart&&void 0!==this.outPart&&(e.xb("outPart",i.Type.BOOL,5),e.VC(this.outPart),e.Gb()),null!==this.udp&&void 0!==this.udp&&(e.xb("udp",i.Type.BOOL,6),e.VC(this.udp),e.Gb()),e.jb(),e.Qb()},hive.snapshots.StreamInfo=function(e){this.url=null,this.streamType=null,this.streamProtocol=null,e&&(void 0!==e.url&&null!==e.url&&(this.url=e.url),void 0!==e.streamType&&null!==e.streamType&&(this.streamType=e.streamType),void 0!==e.streamProtocol&&null!==e.streamProtocol&&(this.streamProtocol=e.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.url=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.streamType=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.streamProtocol=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.StreamInfo.prototype.write=function(e){e.Hb("StreamInfo"),null!==this.url&&void 0!==this.url&&(e.xb("url",i.Type.STRING,1),e.qb(this.url),e.Gb()),null!==this.streamType&&void 0!==this.streamType&&(e.xb("streamType",i.Type.I32,2),e.Vb(this.streamType),e.Gb()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(e.xb("streamProtocol",i.Type.I32,3),e.Vb(this.streamProtocol),e.Gb()),e.jb(),e.Qb()},hive.snapshots.ClientInfo=function(e){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,e&&(void 0!==e.clientType&&null!==e.clientType&&(this.clientType=e.clientType),void 0!==e.majorVersion&&null!==e.majorVersion&&(this.majorVersion=e.majorVersion),void 0!==e.minorVersion&&null!==e.minorVersion&&(this.minorVersion=e.minorVersion),void 0!==e.patchVersion&&null!==e.patchVersion&&(this.patchVersion=e.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.clientType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.BYTE?this.majorVersion=e.d_().value:e.Mb(r);break;case 3:r==i.Type.BYTE?this.minorVersion=e.d_().value:e.Mb(r);break;case 4:r==i.Type.I16?this.patchVersion=e.f_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.ClientInfo.prototype.write=function(e){e.Hb("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(e.xb("clientType",i.Type.I32,1),e.Vb(this.clientType),e.Gb()),null!==this.majorVersion&&void 0!==this.majorVersion&&(e.xb("majorVersion",i.Type.BYTE,2),e.jC(this.majorVersion),e.Gb()),null!==this.minorVersion&&void 0!==this.minorVersion&&(e.xb("minorVersion",i.Type.BYTE,3),e.jC(this.minorVersion),e.Gb()),null!==this.patchVersion&&void 0!==this.patchVersion&&(e.xb("patchVersion",i.Type.I16,4),e.QC(this.patchVersion),e.Gb()),e.jb(),e.Qb()},hive.snapshots.AgentInfo=function(e){this.firstTierBitrates=null,this.secondTierBitrates=null,e&&(void 0!==e.firstTierBitrates&&null!==e.firstTierBitrates&&(this.firstTierBitrates=e.firstTierBitrates),void 0!==e.secondTierBitrates&&null!==e.secondTierBitrates&&(this.secondTierBitrates=e.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.SET){var s,o=0;this.firstTierBitrates=[];s=e.u_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.Fb().value,this.firstTierBitrates.push(h)}e.l_()}else e.Mb(r);break;case 2:if(r==i.Type.SET){var c,u=0;this.secondTierBitrates=[];c=e.u_(),c.h_,u=c.size;for(var l=0;l<u;++l){var p=null;p=e.Fb().value,this.secondTierBitrates.push(p)}e.l_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.AgentInfo.prototype.write=function(e){if(e.Hb("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){e.xb("firstTierBitrates",i.Type.SET,1),e.qC(i.Type.I32,this.firstTierBitrates.length);for(var t in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(t)&&(t=this.firstTierBitrates[t],e.Vb(t));e.GC(),e.Gb()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){e.xb("secondTierBitrates",i.Type.SET,2),e.qC(i.Type.I32,this.secondTierBitrates.length);for(var r in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(r)&&(r=this.secondTierBitrates[r],e.Vb(r));e.GC(),e.Gb()}e.jb(),e.Qb()},hive.snapshots.TrafficKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&null!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&null!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&null!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.AS=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.partnerGuid=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.TrafficKey.prototype.write=function(e){e.Hb("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.AS&&void 0!==this.AS&&(e.xb("AS",i.Type.I32,2),e.Vb(this.AS),e.Gb()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.xb("partnerGuid",i.Type.STRING,3),e.qb(this.partnerGuid),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&null!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&null!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&null!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.AS=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.partnerGuid=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerKey.prototype.write=function(e){e.Hb("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.AS&&void 0!==this.AS&&(e.xb("AS",i.Type.I32,2),e.Vb(this.AS),e.Gb()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.xb("partnerGuid",i.Type.STRING,3),e.qb(this.partnerGuid),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Player=function(e){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,e&&(void 0!==e.bufferingN&&null!==e.bufferingN&&(this.bufferingN=e.bufferingN),void 0!==e.bufferingMs&&null!==e.bufferingMs&&(this.bufferingMs=e.bufferingMs),void 0!==e.initBufferingN&&null!==e.initBufferingN&&(this.initBufferingN=e.initBufferingN),void 0!==e.initBufferingMs&&null!==e.initBufferingMs&&(this.initBufferingMs=e.initBufferingMs),void 0!==e.seekBufferingN&&null!==e.seekBufferingN&&(this.seekBufferingN=e.seekBufferingN),void 0!==e.seekBufferingMs&&null!==e.seekBufferingMs&&(this.seekBufferingMs=e.seekBufferingMs),void 0!==e.playerBufferMs&&null!==e.playerBufferMs&&(this.playerBufferMs=e.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I16?this.bufferingN=e.f_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.bufferingMs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I16?this.initBufferingN=e.f_().value:e.Mb(r);break;case 4:r==i.Type.I32?this.initBufferingMs=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I16?this.seekBufferingN=e.f_().value:e.Mb(r);break;case 6:r==i.Type.I32?this.seekBufferingMs=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I32?this.playerBufferMs=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Player.prototype.write=function(e){e.Hb("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(e.xb("bufferingN",i.Type.I16,1),e.QC(this.bufferingN),e.Gb()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(e.xb("bufferingMs",i.Type.I32,2),e.Vb(this.bufferingMs),e.Gb()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(e.xb("initBufferingN",i.Type.I16,3),e.QC(this.initBufferingN),e.Gb()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(e.xb("initBufferingMs",i.Type.I32,4),e.Vb(this.initBufferingMs),e.Gb()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(e.xb("seekBufferingN",i.Type.I16,5),e.QC(this.seekBufferingN),e.Gb()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(e.xb("seekBufferingMs",i.Type.I32,6),e.Vb(this.seekBufferingMs),e.Gb()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(e.xb("playerBufferMs",i.Type.I32,36),e.Vb(this.playerBufferMs),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PK=function(e){this._Q=null,this.count=null,e&&(void 0!==e._Q&&null!==e._Q&&(this._Q=e._Q),void 0!==e.count&&null!==e.count&&(this.count=e.count))},hive.snapshots.PK.prototype={},hive.snapshots.PK.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I16?this._Q=e.f_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.count=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PK.prototype.write=function(e){e.Hb("ResponseInfo"),null!==this._Q&&void 0!==this._Q&&(e.xb("statusCode",i.Type.I16,1),e.QC(this._Q),e.Gb()),null!==this.count&&void 0!==this.count&&(e.xb("count",i.Type.I32,2),e.Vb(this.count),e.Gb()),e.jb(),e.Qb()},hive.snapshots.AK=function(e){this.source=null,e&&void 0!==e.source&&null!==e.source&&(this.source=i.OK(e.source,[hive.snapshots.PK]))},hive.snapshots.AK.prototype={},hive.snapshots.AK.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.LIST){var s,o=0;this.source=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.snapshots.PK,h.read(e),this.source.push(h)}e.c_()}else e.Mb(r);break;case 0:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.AK.prototype.write=function(e){if(e.Hb("ServiceResponseInfo"),null!==this.source&&void 0!==this.source){e.xb("source",i.Type.LIST,1),e.HC(i.Type.STRUCT,this.source.length);for(var t in this.source)this.source.hasOwnProperty(t)&&(t=this.source[t],t.write(e));e.xC(),e.Gb()}e.jb(),e.Qb()},hive.snapshots.MetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.NK=null,this.aB=null,this.DK=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&null!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&null!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&null!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&null!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&null!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&null!==e.partners&&(this.partners=e.partners),void 0!==e.player&&null!==e.player&&(this.player=e.player),void 0!==e.client&&null!==e.client&&(this.client=e.client),void 0!==e.sessionId&&null!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.NK&&null!==e.NK&&(this.NK=e.NK),void 0!==e.aB&&null!==e.aB&&(this.aB=e.aB),void 0!==e.DK&&null!==e.DK&&(this.DK=e.DK))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.guid=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(e)):e.Mb(r);break;case 4:r==i.Type.STRUCT?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.Mb(r);break;case 5:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.Mb(r);break;case 6:if(r==i.Type.MAP){var s,o=0;this.traffic={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=new hive.snapshots.TrafficKey,h.read(e),c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.o_()}else e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.Mb(r);break;case 9:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 10:if(r==i.Type.MAP){var u,l=0;this.partners={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=new hive.snapshots.PartnerKey,d.read(e),f=new hive.snapshots.Partner,f.read(e),this.partners[d]=f}e.o_()}else e.Mb(r);break;case 11:r==i.Type.STRUCT?(this.player=new hive.snapshots.Player,this.player.read(e)):e.Mb(r);break;case 12:r==i.Type.STRUCT?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.Mb(r);break;case 13:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 14:r==i.Type.STRUCT?(this.NK=new hive.snapshots.AK,this.NK.read(e)):e.Mb(r);break;case 15:r==i.Type.STRUCT?(this.aB=new TestInfo,this.aB.read(e)):e.Mb(r);break;case 16:r==i.Type.I64?this.DK=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.MetricSnapshot.prototype.write=function(e){if(e.Hb("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,2),e.qb(this.guid),e.Gb()),null!==this.eventId&&void 0!==this.eventId&&(e.xb("eventId",i.Type.STRUCT,3),this.eventId.write(e),e.Gb()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.xb("streamInfo",i.Type.STRUCT,4),this.streamInfo.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,5),this.metrics.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic){e.xb("traffic",i.Type.MAP,6),e.UC(i.Type.STRUCT,i.Type.STRUCT,i.Eb(this.traffic));for(var t in this.traffic)if(this.traffic.hasOwnProperty(t)){var r=this.traffic[t];r.key.write(e),r.value.write(e)}e.BC(),e.Gb()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.xb("snapshotInfo",i.Type.STRUCT,7),this.snapshotInfo.write(e),e.Gb()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.xb("agentInfo",i.Type.STRUCT,8),this.agentInfo.write(e),e.Gb()),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,9),this.connInfo.write(e),e.Gb()),null!==this.partners&&void 0!==this.partners){e.xb("partners",i.Type.MAP,10),e.UC(i.Type.STRUCT,i.Type.STRUCT,i.Eb(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var s=this.partners[n];s.key.write(e),s.value.write(e)}e.BC(),e.Gb()}null!==this.player&&void 0!==this.player&&(e.xb("player",i.Type.STRUCT,11),this.player.write(e),e.Gb()),null!==this.client&&void 0!==this.client&&(e.xb("client",i.Type.STRUCT,12),this.client.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,13),e.qb(this.sessionId),e.Gb()),null!==this.NK&&void 0!==this.NK&&(e.xb("responseInfo",i.Type.STRUCT,14),this.NK.write(e),e.Gb()),null!==this.aB&&void 0!==this.aB&&(e.xb("testInfo",i.Type.STRUCT,15),this.aB.write(e),e.Gb()),null!==this.DK&&void 0!==this.DK&&(e.xb("clientId",i.Type.I64,16),e.KC(this.DK),e.Gb()),e.jb(),e.Qb()},hive.snapshots.JsonMetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.NK=null,this.aB=null,this.DK=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&null!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&null!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&null!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&null!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&null!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&null!==e.partners&&(this.partners=e.partners),void 0!==e.player&&null!==e.player&&(this.player=e.player),void 0!==e.client&&null!==e.client&&(this.client=e.client),void 0!==e.sessionId&&null!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.NK&&null!==e.NK&&(this.NK=e.NK),void 0!==e.aB&&null!==e.aB&&(this.aB=e.aB),void 0!==e.DK&&null!==e.DK&&(this.DK=e.DK))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.guid=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(e)):e.Mb(r);break;case 4:r==i.Type.STRUCT?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.Mb(r);break;case 5:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.Mb(r);break;case 6:if(r==i.Type.MAP){var s,o=0;this.traffic={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=e.Lb().value,c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.o_()}else e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.Mb(r);break;case 9:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 10:if(r==i.Type.MAP){var u,l=0;this.partners={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=e.Lb().value,f=new hive.snapshots.Partner,f.read(e),this.partners[d]=f}e.o_()}else e.Mb(r);break;case 11:r==i.Type.STRUCT?(this.player=new hive.snapshots.Player,this.player.read(e)):e.Mb(r);break;case 12:r==i.Type.STRUCT?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.Mb(r);break;case 13:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 14:r==i.Type.STRUCT?(this.NK=new hive.snapshots.AK,this.NK.read(e)):e.Mb(r);break;case 15:r==i.Type.STRUCT?(this.aB=new TestInfo,this.aB.read(e)):e.Mb(r);break;case 16:r==i.Type.I64?this.DK=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(e){if(e.Hb("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,2),e.qb(this.guid),e.Gb()),null!==this.eventId&&void 0!==this.eventId&&(e.xb("eventId",i.Type.STRUCT,3),this.eventId.write(e),e.Gb()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.xb("streamInfo",i.Type.STRUCT,4),this.streamInfo.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,5),this.metrics.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic){e.xb("traffic",i.Type.MAP,6),e.UC(i.Type.STRING,i.Type.STRUCT,i.Eb(this.traffic));for(var t in this.traffic)if(this.traffic.hasOwnProperty(t)){var r=this.traffic[t];e.qb(t),r.write(e)}e.BC(),e.Gb()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.xb("snapshotInfo",i.Type.STRUCT,7),this.snapshotInfo.write(e),e.Gb()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.xb("agentInfo",i.Type.STRUCT,8),this.agentInfo.write(e),e.Gb()),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,9),this.connInfo.write(e),e.Gb()),null!==this.partners&&void 0!==this.partners){e.xb("partners",i.Type.MAP,10),e.UC(i.Type.STRING,i.Type.STRUCT,i.Eb(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var s=this.partners[n];e.qb(n),s.write(e)}e.BC(),e.Gb()}null!==this.player&&void 0!==this.player&&(e.xb("player",i.Type.STRUCT,11),this.player.write(e),e.Gb()),null!==this.client&&void 0!==this.client&&(e.xb("client",i.Type.STRUCT,12),this.client.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,13),e.qb(this.sessionId),e.Gb()),null!==this.NK&&void 0!==this.NK&&(e.xb("responseInfo",i.Type.STRUCT,14),this.NK.write(e),e.Gb()),null!==this.aB&&void 0!==this.aB&&(e.xb("testInfo",i.Type.STRUCT,15),this.aB.write(e),e.Gb()),null!==this.DK&&void 0!==this.DK&&(e.xb("clientId",i.Type.I64,16),e.KC(this.DK),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){var i=r(33);StreamType={1:"LIVE",LIVE:1,2:"VOD",kK:2},StreamProtocol={1:"DASH",DASH:1,2:"HDS",LK:2,3:"HLS",bq:3,4:"SS",MK:4},ClientType={1:"JAVA",FK:1,2:"STATS_ONLY",wB:2,3:"JS_DIRECT",SB:3,4:"JS_PROXY",RB:4},EventId=function(e){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,e&&(void 0!==e.partnerId&&null!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&null!==e.customerId&&(this.customerId=e.customerId),void 0!==e.contentId&&null!==e.contentId&&(this.contentId=e.contentId),void 0!==e.tags&&null!==e.tags&&(this.tags=e.tags))},EventId.prototype={},EventId.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.partnerId=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.customerId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 4:if(r==i.Type.LIST){var s,o=0;this.tags=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.Lb().value,this.tags.push(h)}e.c_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},EventId.prototype.write=function(e){if(e.Hb("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(e.xb("partnerId",i.Type.STRING,1),e.qb(this.partnerId),e.Gb()),null!==this.customerId&&void 0!==this.customerId&&(e.xb("customerId",i.Type.STRING,2),e.qb(this.customerId),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,3),e.qb(this.contentId),e.Gb()),null!==this.tags&&void 0!==this.tags){e.xb("tags",i.Type.LIST,4),e.HC(i.Type.STRING,this.tags.length);for(var t in this.tags)this.tags.hasOwnProperty(t)&&(t=this.tags[t],e.qb(t));e.xC(),e.Gb()}e.jb(),e.Qb()},SnapshotInfo=function(e){this.timestamp=null,this.apiServer=null,this.clientIp=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.apiServer&&null!==e.apiServer&&(this.apiServer=e.apiServer),void 0!==e.clientIp&&null!==e.clientIp&&(this.clientIp=e.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.apiServer=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.clientIp=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},SnapshotInfo.prototype.write=function(e){e.Hb("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.apiServer&&void 0!==this.apiServer&&(e.xb("apiServer",i.Type.STRING,2),e.qb(this.apiServer),e.Gb()),null!==this.clientIp&&void 0!==this.clientIp&&(e.xb("clientIp",i.Type.STRING,3),e.qb(this.clientIp),e.Gb()),e.jb(),e.Qb()},TestInfo=function(e){this.testId=null,e&&void 0!==e.testId&&null!==e.testId&&(this.testId=e.testId)},TestInfo.prototype={},TestInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.testId=e.Lb().value:e.Mb(r);break;case 0:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},TestInfo.prototype.write=function(e){e.Hb("TestInfo"),null!==this.testId&&void 0!==this.testId&&(e.xb("testId",i.Type.STRING,1),e.qb(this.testId),e.Gb()),e.jb(),e.Qb()},InetAddress=function(e){this.address=null,this.port=null,e&&(void 0!==e.address&&null!==e.address&&(this.address=e.address),void 0!==e.port&&null!==e.port&&(this.port=e.port))},InetAddress.prototype={},InetAddress.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.address=e.v_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.port=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},InetAddress.prototype.write=function(e){e.Hb("InetAddress"),null!==this.address&&void 0!==this.address&&(e.xb("address",i.Type.STRING,1),e.WC(this.address),e.Gb()),null!==this.port&&void 0!==this.port&&(e.xb("port",i.Type.I32,2),e.Vb(this.port),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){"use strict";var i=r(4),n=r(23),s=function(){function e(e,t){this.msg=e,this.UK=Date.now()+t,this.BK=i.defer()}return e.prototype.HK=function(){return Date.now()>=this.UK},e}(),o=function(){function e(e,t,r,i,n,s,o){void 0===t&&(t=3e4),void 0===r&&(r=100),void 0===i&&(i=3e4),void 0===n&&(n=15e3),void 0===s&&(s=Date),void 0===o&&(o=!1),this.xK=1,this.qK=-1,this.GK=-1,this.wj={},this.VK=[],this.jK=[],this.QK=!1,this.KK=!0,this.YK=e,this.WK=Array(),this.AE=t,this.OE=r,this.NE=i,this.zK=n,this.JK=s,this.QK=o||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return e.prototype.As=function(e){var t=e.service+"_"+e.msgId,r=this.wj[t];null!=r?r(e):n.logger().error(n.loggerId+"Could not find a dispatcher for ",e,t,this.wj)},e.prototype.on=function(e,t,r){this.wj[e+"_"+t]=r},e.prototype.onerror=function(e){this.VK.push(e)},e.prototype.xB=function(e){this.jK.push(e)},e.prototype.XK=function(){var e=this;if(!window.WebSocket)return void this.VK.forEach(function(e){return e("WebSocket not defined")});var t=new WebSocket(this.YK);return t.binaryType="arraybuffer",t.onopen=function(t){e.ZK(),n.logger().debug(n.loggerId+"HiveServicesConnection established to "+e.YK),e.GK=(new e.JK).getTime(),e.$K(),e.jK.forEach(function(t){return t(e)}),e.eY(),e.tY()},t.onclose=function(t){e.close(e.KK),e.connect()},t.onmessage=function(t){e.As(n.Jd.yf(t.data))},t.onerror=function(t){e.close(!0),e.VK.forEach(function(e){return e(t.toString())})},t},e.prototype.isOpen=function(){return null!=this.PR&&this.PR.readyState==this.PR.OPEN},e.prototype.connect=function(e){var t=this;e&&(this.KK=!0),this.KK&&1!=this.isOpen()&&(this.qK>0||(this.GK>-1&&(new this.JK).getTime()-this.GK>this.AE?(this.xK=n.L.Ef,this.GK=-1):this.xK=Math.min(2*this.xK,this.AE),this.qK=window.setTimeout(function(){t.qK=-1,n.logger().debug(n.loggerId+"Connection attempt to "+t.YK+" [t:"+t.xK+" hb:"+t.QK+"]"),t.PR=t.XK(),t.xK=Math.max(t.xK,n.L.Ef)},this.xK)))},e.prototype.ZK=function(){this.qK>-1&&(clearTimeout(this.qK),this.qK=-1)},e.prototype.close=function(e){this.KK=void 0!=e&&e,n.logger().debug(n.loggerId+"Closing connection [reconnect:"+this.KK+"]"),this.ZK(),null!=this.PR&&(this.PR.close(),this.PR=null)},e.prototype.$K=function(){for(;this.WK.length>0;){var e=this.WK.pop();try{e.HK()?e.BK.reject(new Error("Message expired")):(this.eY(),this.PR.send(e.msg.vf()))}catch(t){if(t.code===DOMException.INVALID_STATE_ERR){this.WK.push(e);break}n.logger().error(n.loggerId+"Failed to send the message, dropped: ",t.code,t.name),e.BK.reject(t)}}this.tY()},e.prototype.eY=function(){this.rY&&(clearTimeout(this.rY),this.rY=null)},e.prototype.tY=function(){var e=this;this.QK&&!this.rY&&(this.rY=window.setInterval(function(){e.send(new n.Jd(Services.iY,0,""))},this.zK))},e.prototype.send=function(e,t){if(void 0===t&&(t=this.NE),this.WK.length>=this.OE)throw new Error("HiveServices connection cannot queue more messages");var r=new s(e,t);return this.WK.push(r),this.PR&&this.$K(),r.BK.Ss},e.prototype.nY=function(e){this.QK=e,this.QK&&this.tY()},e.prototype.sY=function(){return null!=this.PR},e}();t.HB=o},function(e,t){Services={1:"REMOTE_EXECUTOR",oY:1,2:"PEER_FORWARDER",aY:2,3:"PEER_INDEX",hY:3,4:"PEER_BROADCAST",cY:4,5:"PEER_FILTER",uY:5,6:"PEER_LOGGING",lY:6,7:"HIVEJS_TRACKER",pY:7,8:"PEER_SYSTEM",dY:8,9:"HIVEJS_SNAPSHOTS",Xd:9,10:"HIVEJS_TICKETS",BB:10,11:"HIVEJS_KEEPALIVE",iY:11,12:"HIVEJS_FORWARDING",fY:12}},function(e,t){e.i=function(){return new Function}},function(e,t,r){"use strict";var i=function(){function e(e,t){this.p2pId=e,this.Wl=t}return e.prototype.tp=function(){return this.p2pId},e.prototype.rp=function(){return this.Wl?this.Wl:this.p2pId},e}();t.pH=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(82),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCidr=function(){return this.MH?this.MH:null},t}(n.FH);t.wH=s},function(e,t,r){"use strict";var i=r(74),n=r(4),s=r(0),o=r(27),a=function(){function e(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.uH=function(){var e=n.defer(),t=this.indexedDB.open("PrivateIPDB");return t.onupgradeneeded=function(){t.result.createObjectStore("PrivateIPStore",{keyPath:"id"})},t.onsuccess=function(){var r=t.result;e.resolve(r)},t.onerror=function(t){e.reject(t)},e.Ss},e.prototype.ZH=function(){var e=this;if(this.gY)return this.gY;var t=setTimeout(function(){e.logger.warn("Private list retrieval timeout"),r.reject("Private list timeout")},4e3),r=n.defer();if(o.Gd._h&&this.indexedDB){this.uH().then(function(n){var s=n.transaction("PrivateIPStore","readwrite"),o=s.objectStore("PrivateIPStore"),a=o.get("iplist");a.onsuccess=function(){clearTimeout(t);var e=[];i.sL(a.result)||i.sL(a.result.value)||(e=a.result.value.split("|")),r.resolve(e),n.close()},a.onerror=function(i){clearTimeout(t),e.logger.warn("I got an error on indexed db "+i.message),r.reject("Error on indexedDB "+i.message)}}).fail(function(i){clearTimeout(t),e.logger.warn("DB is not open with error"+i.message),r.reject("DB is not open with error "+i.message)})}else clearTimeout(t),r.reject({message:"DB is not ready or enabled"});return this.gY=r.Ss,this.gY},e.prototype.ix=function(e){var t=this;if(o.Gd._h&&this.indexedDB){var r=e.join("|");this.uH().then(function(i){var n=i.transaction("PrivateIPStore","readwrite");n.objectStore("PrivateIPStore").put({id:"iplist",value:r}),n.oncomplete=function(){t.logger.debug("Storing site matched ips ["+e.join(",")+"]"),i.close()}}).fail(function(e){t.logger.warn("DB is not open with error "+e.message)})}},e}();t.QH=a},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu,s={uL:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},pL:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.EY},set:function(e){var t=this;this.EY&&(this.removeEventListener("track",this.EY),this.removeEventListener("addstream",this.vY)),this.addEventListener("track",this.EY=e),this.addEventListener("addstream",this.vY=function(e){e.stream.addEventListener("addtrack",function(r){var i=new Event("track");i.track=r.track,i.receiver={track:r.track},i.streams=[e.stream],t.dispatchEvent(i)}),e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},dL:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.yY};var e=RTCPeerConnection.prototype.addStream,t=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(t){var r=this;r.yY=r.yY||[],e.apply(r,[t]),t.getTracks().forEach(function(e){r.yY.push({track:e,get TY(){return void 0===this.mY&&("audio"===e.kind?this.mY=r.createDTMFSender(e):this.mY=null),this.mY}})})},RTCPeerConnection.prototype.removeStream=function(e){var r=this;r.yY=r.yY||[],t.apply(r,[e]),e.getTracks().forEach(function(e){var t=r.yY.find(function(t){return t.track===e});t&&r.yY.splice(r.yY.indexOf(t),1)})}}},lL:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.IY},set:function(e){var t=this;if(this.IY=e,this.src&&URL.revokeObjectURL(this.src),!e)return void(this.src="");this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})}}))},aL:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){return i("PeerConnection"),e&&e.SY&&(e.RY=e.SY),new webkitRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.wY&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.wY}}));var e=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,r,i){var n=this,s=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof arguments[0]))return e.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{bY:"local-candidate",CY:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e._Y(t)}),t[r.id]=r}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var h=function(e){s[1](a(o(e)))};return e.apply(this,[h,arguments[0]])}return new Promise(function(t,r){e.apply(n,[function(e){t(a(o(e)))},r])}).then(r,i)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=arguments,r=this,i=new Promise(function(i,n){t.apply(r,[e[0],i,n])});return e.length<2?i:i.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var r=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,n){t.apply(e,[i,n,r])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.i={uL:s.uL,pL:s.pL,dL:s.dL,lL:s.lL,aL:s.aL,cL:r(123)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu;e.i=function(){var e=function(e){if("object"!=typeof e||e.PY||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i="object"==typeof e[r]?e[r]:{AY:e[r]};void 0!==i.OY&&"number"==typeof i.OY&&(i.min=i.max=i.OY);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.AY){t.optional=t.optional||[];var s={};"number"==typeof i.AY?(s[n("min",r)]=i.AY,t.optional.push(s),s={},s[n("max",r)]=i.AY,t.optional.push(s)):(s[n("",r)]=i.AY,t.optional.push(s))}void 0!==i.OY&&"number"!=typeof i.OY?(t.PY=t.PY||{},t.PY[n("",r)]=i.OY):["min","max"].forEach(function(e){void 0!==i[e]&&(t.PY=t.PY||{},t.PY[n(e,r)]=i[e])})}}),e.NY&&(t.optional=(t.optional||[]).concat(e.NY)),t},t=function(t,r){if(t=JSON.parse(JSON.stringify(t)),t&&t.HR&&(t.HR=e(t.HR)),t&&"object"==typeof t.video){var s=t.video.DY;s=s&&("object"==typeof s?s:{AY:s});var o=n.version<59;if(s&&("user"===s.OY||"environment"===s.OY||"user"===s.AY||"environment"===s.AY)&&(!navigator.mediaDevices.kY||!navigator.mediaDevices.kY().DY||o)&&(delete t.video.DY,"environment"===s.OY||"environment"===s.AY))return navigator.mediaDevices.LY().then(function(n){n=n.filter(function(e){return"videoinput"===e.kind});var o=n.find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||n.length&&n[n.length-1];return o&&(t.video.MY=s.OY?{OY:o.MY}:{AY:o.MY}),t.video=e(t.video),i("chrome: "+JSON.stringify(t)),r(t)});t.video=e(t.video)}return i("chrome: "+JSON.stringify(t)),r(t)},r=function(e){return{name:{FY:"NotAllowedError",UY:"OverconstrainedError"}[e.name]||e.name,message:e.message,BY:e.HY,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,i,n){t(e,function(e){navigator.webkitGetUserMedia(e,i,function(e){n(r(e))})})};navigator.getUserMedia=s;var o=function(e){return new Promise(function(t,r){navigator.getUserMedia(e,t,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,LY:function(){return new Promise(function(e){var t={HR:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(r){e(r.map(function(e){return{label:e.label,kind:t[e.kind],MY:e.id,xY:""}}))})})},kY:function(){return{MY:!0,qY:!0,DY:!0,GY:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e).then(function(t){if(e.HR&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(r(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return o(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,r){"use strict";function i(e){var t=e.filter(function(e){return"audio"===e.kind}),r=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||r.length;)t.length&&e.push(t.shift()),r.length&&e.push(r.shift());return e}function n(e){var t=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.VY||e.url)){var r=e.VY||e.url,i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:")&&o.version>=14393:(t=!0,!0)}),delete e.url,e.VY=i?r[0]:r,!!r.length}return!1})}var s=r(125),o=r(17).Wu,a={aL:function(){if(window.jY&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),o.version<15025)){var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var r=new Event("enabled");r.enabled=t,this.dispatchEvent(r)}})}window.RTCPeerConnection=function(e){var t=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=r[e].bind(r)}),this.onicecandidate=null,this.onaddstream=null,this.QY=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.KY=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.YY=[],this.WY=[],this.getLocalStreams=function(){return t.YY},this.getRemoteStreams=function(){return t.WY},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.zY={JY:"all",iceServers:[]},e&&e.SY)switch(e.SY){case"all":case"relay":this.zY.JY=e.SY}this.XY=e&&"max-bundle"===e.ZY,e&&e.iceServers&&(this.zY.iceServers=n(e.iceServers)),this.$Y=e,this.eW=[],this.tW=[]},window.RTCPeerConnection.prototype.rW=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.KY&&this.KY(e)},window.RTCPeerConnection.prototype.iW=function(){var e=this,t=s.nW(e.localDescription.sdp);this.tW.forEach(function(r){if(r.candidate&&0!==Object.keys(r.candidate).length)t[r.candidate.sdpMLineIndex+1]+="a="+r.candidate.candidate+"\r\n";else for(var i=1;i<t.length;i++)-1===t[i].indexOf("\r\na=end-of-candidates\r\n")&&(t[i]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(r),null!==e.onicecandidate&&e.onicecandidate(r),!r.candidate&&"complete"!==e.iceGatheringState){e.eW.every(function(e){return e.sW&&"completed"===e.sW.state})&&"complete"!==e.oW&&(e.iceGatheringState="complete",e.rW())}}),this.tW=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.$Y},window.RTCPeerConnection.prototype.addStream=function(e){if(o.version>=15025)this.YY.push(e);else{var t=e.clone();e.getTracks().forEach(function(e,r){var i=t.getTracks()[r];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),this.YY.push(t)}this.aW()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.YY.indexOf(e);t>-1&&(this.YY.splice(t,1),this.aW())},window.RTCPeerConnection.prototype.getSenders=function(){return this.eW.filter(function(e){return!!e.hW}).map(function(e){return e.hW})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.eW.filter(function(e){return!!e.cW}).map(function(e){return e.cW})},window.RTCPeerConnection.prototype.uW=function(e,t){var r={lW:[],pW:[],dW:[]},i=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].fW===e||t[r].gW===e)return t[r]},n=function(e,t,r,n){var s=i(e.parameters.EW,r),o=i(t.parameters.EW,n);return s&&o&&s.name.toLowerCase()===o.name.toLowerCase()};return e.lW.forEach(function(i){for(var s=0;s<t.lW.length;s++){var o=t.lW[s];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.vW===o.vW){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.EW&&!n(i,o,e.lW,t.lW))continue;o=JSON.parse(JSON.stringify(o)),o.yW=Math.min(i.yW,o.yW),r.lW.push(o),o.TW=o.TW.filter(function(e){for(var t=0;t<i.TW.length;t++)if(i.TW[t].type===e.type&&i.TW[t].mW===e.mW)return!0;return!1});break}}}),e.pW.forEach(function(e){for(var i=0;i<t.pW.length;i++){var n=t.pW[i];if(e.uri===n.uri){r.pW.push(n);break}}}),r},window.RTCPeerConnection.prototype.IW=function(e,t){var r=this,i=new RTCIceGatherer(r.zY),n=new RTCIceTransport(i);i.SW=function(o){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:t};var h=o.candidate,c=!h||0===Object.keys(h).length;c?void 0===i.state&&(i.state="completed"):(h.RW="RTCP"===n.RW?2:1,a.candidate.candidate=s.wW(h));var u=s.nW(r.localDescription.sdp);u[a.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r.localDescription.sdp=u.join("");var l=r.bW?r.bW:r.eW,p=l.every(function(e){return e.sW&&"completed"===e.sW.state});switch(r.iceGatheringState){case"new":c||r.tW.push(a),c&&p&&r.tW.push(new Event("icecandidate"));break;case"gathering":r.iW(),c||(r.dispatchEvent(a),null!==r.onicecandidate&&r.onicecandidate(a)),p&&(r.dispatchEvent(new Event("icecandidate")),null!==r.onicecandidate&&r.onicecandidate(new Event("icecandidate")),r.iceGatheringState="complete",r.rW())}},n._W=function(){r.PW()};var o=new RTCDtlsTransport(n);return o.AW=function(){r.PW()},o.onerror=function(){o.state="failed",r.PW()},{sW:i,OW:n,NW:o}},window.RTCPeerConnection.prototype.DW=function(e,t,r){var i=this.uW(e.kW,e.LW);t&&e.hW&&(i.MW=e.FW,i.UW={BW:s.HW},e.xW.length&&(i.UW.qW=e.xW[0].qW),e.hW.send(i)),r&&e.cW&&("video"===e.kind&&e.xW&&o.version<15019&&e.xW.forEach(function(e){delete e.GW}),i.MW=e.xW,i.UW={BW:e.BW},e.FW.length&&(i.UW.qW=e.FW[0].qW),e.cW.VW(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,r,i=this;if("offer"===e.type)this.bW&&(t=s.nW(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=s.jW(e);i.bW[t].kW=r}),this.eW=this.bW,delete this.bW);else if("answer"===e.type){t=s.nW(i.remoteDescription.sdp),r=t.shift();var n=s.QW(r,"a=ice-lite").length>0;t.forEach(function(e,t){var o=i.eW[t],a=o.sW,h=o.OW,c=o.NW,u=o.kW,l=o.LW;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!o.KW){var p=s.YW(e,r),d=s.WW(e,r);n&&(d.zW="server"),i.XY&&0!==t||(h.start(a,p,n?"controlling":"controlled"),c.start(d));var f=i.uW(u,l);i.DW(o,f.lW.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.JW("have-local-offer");break;case"answer":this.JW("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&"function"==typeof arguments[1];if(o){var a=arguments[1];window.setTimeout(function(){a(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.rW()),i.iW()},0)}var h=Promise.resolve();return h.then(function(){o||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.rW()),window.setTimeout(i.iW.bind(i),500))}),h},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,r=new MediaStream,i=[],n=s.nW(e.sdp),a=n.shift(),h=s.QW(a,"a=ice-lite").length>0;switch(this.XY=s.QW(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,c){var u=s.XW(n),l=u[0].substr(2).split(" "),p=l[0],d="0"===l[1],f=s.ZW(n,a),g=s.QW(n,"a=mid:");if(g=g.length?g[0].substr(6):s.$W(),"application"===p&&"DTLS/SCTP"===l[2])return void(t.eW[c]={ez:g,KW:!0});var E,v,y,T,m,I,S,R,w,b,C,_,P=s.jW(n);d||(C=s.YW(n,a),_=s.WW(n,a),_.zW="client"),R=s.tz(n);var A,O=s.QW(n,"a=ssrc:").map(function(e){return s.rz(e)}).filter(function(e){return"cname"===e.iz})[0];O&&(A=O.value);var N=s.QW(n,"a=end-of-candidates",a).length>0,D=s.QW(n,"a=candidate:").map(function(e){return s.ex(e)}).filter(function(e){return"1"===e.RW});if("offer"!==e.type||d)"answer"!==e.type||d||(E=t.eW[c],v=E.sW,y=E.OW,T=E.NW,m=E.hW,I=E.cW,S=E.FW,w=E.kW,t.eW[c].xW=R,t.eW[c].LW=P,t.eW[c].BW=A,(h||N)&&D.length&&y.nz(D),t.XY&&0!==c||(y.start(v,C,"controlling"),T.start(_)),t.DW(E,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!I||"sendrecv"!==f&&"sendonly"!==f?delete E.cW:(b=I.track,i.push([b,I]),r.addTrack(b)));else{var k=t.XY&&c>0?{sW:t.eW[0].sW,OW:t.eW[0].OW,NW:t.eW[0].NW}:t.IW(g,c);if(!N||t.XY&&0!==c||k.OW.nz(D),w=RTCRtpReceiver.sz(p),o.version<15019&&(w.lW=w.lW.filter(function(e){return"rtx"!==e.name})),S=[{qW:1001*(2*c+2)}],"sendrecv"!==f&&"sendonly"!==f||(I=new RTCRtpReceiver(k.NW,p),b=I.track,i.push([b,I]),r.addTrack(b)),t.YY.length>0&&t.YY[0].getTracks().length>=c){var L;"audio"===p?L=t.YY[0].getAudioTracks()[0]:"video"===p&&(L=t.YY[0].getVideoTracks()[0]),L&&(o.version>=15019&&"video"===p&&(S[0].GW={qW:1001*(2*c+2)+1}),m=new RTCRtpSender(L,k.NW))}t.eW[c]={sW:k.sW,OW:k.OW,NW:k.NW,kW:w,LW:P,hW:m,cW:I,kind:p,ez:g,BW:A,FW:S,xW:R},t.DW(t.eW[c],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.JW("have-remote-offer");break;case"answer":this.JW("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return r.getTracks().length&&(t.WY.push(r),window.setTimeout(function(){var e=new Event("addstream");e.stream=r,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(e){var i=e[0],n=e[1],s=new Event("track");s.track=i,s.receiver=n,s.streams=[r],t.dispatchEvent(s),null!==t.QY&&window.setTimeout(function(){t.QY(s)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.eW.forEach(function(e){e.OW&&e.OW.stop(),e.NW&&e.NW.stop(),e.hW&&e.hW.stop(),e.cW&&e.cW.stop()}),this.JW("closed")},window.RTCPeerConnection.prototype.JW=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype.aW=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype.PW=function(){var e,t=this,r={oz:0,closed:0,az:0,hz:0,connected:0,cz:0,ll:0};if(this.eW.forEach(function(e){r[e.OW.state]++,r[e.NW.state]++}),r.connected+=r.cz,e="new",r.ll>0?e="failed":r.az>0||r.hz>0?e="connecting":r.uz>0?e="disconnected":r.oz>0?e="new":(r.connected>0||r.cz>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var i=new Event("iceconnectionstatechange");this.dispatchEvent(i),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(i)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this.bW)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var r=[],n=0,a=0;if(this.YY.length&&(n=this.YY[0].getAudioTracks().length,a=this.YY[0].getVideoTracks().length),t){if(t.PY||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.lz&&(n=t.lz),void 0!==t.pz&&(a=t.pz)}for(this.YY.length&&this.YY[0].getTracks().forEach(function(e){r.push({kind:e.kind,track:e,dz:"audio"===e.kind?n>0:a>0}),"audio"===e.kind?n--:"video"===e.kind&&a--});n>0||a>0;)n>0&&(r.push({kind:"audio",dz:!0}),n--),a>0&&(r.push({kind:"video",dz:!0}),a--);r=i(r);var h=s.fz(),c=[];r.forEach(function(t,r){var i=t.track,n=t.kind,a=s.$W(),h=e.XY&&r>0?{sW:c[0].sW,OW:c[0].OW,NW:c[0].NW}:e.IW(a,r),u=RTCRtpSender.sz(n);o.version<15019&&(u.lW=u.lW.filter(function(e){return"rtx"!==e.name})),u.lW.forEach(function(e){"H264"===e.name&&void 0===e.parameters["gz"]&&(e.parameters["gz"]="1")});var l,p,d=[{qW:1001*(2*r+1)}];i&&(o.version>=15019&&"video"===n&&(d[0].GW={qW:1001*(2*r+1)+1}),l=new RTCRtpSender(i,h.NW)),t.dz&&(p=new RTCRtpReceiver(h.NW,n)),c[r]={sW:h.sW,OW:h.OW,NW:h.NW,kW:u,LW:null,hW:l,cW:p,kind:n,ez:a,FW:d,xW:null}}),this.XY&&(h+="a=group:BUNDLE "+c.map(function(e){return e.ez}).join(" ")+"\r\n"),r.forEach(function(t,r){var i=c[r];h+=s.Ez(i,i.kW,"offer",e.YY[0])}),this.bW=c;var u=new RTCSessionDescription({type:"offer",sdp:h});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=s.fz();this.XY&&(t+="a=group:BUNDLE "+this.eW.map(function(e){return e.ez}).join(" ")+"\r\n"),this.eW.forEach(function(r){if(r.KW)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+r.ez+"\r\n");var i=e.uW(r.kW,r.LW);t+=s.Ez(r,i,"answer",e.YY[0])});var r=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,r),Promise.resolve(r)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var r=0;r<this.eW.length;r++)if(this.eW[r].ez===e.sdpMid){t=r;break}var i=this.eW[t];if(i){var n=Object.keys(e.candidate).length>0?s.ex(e.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.RW)return Promise.resolve();i.OW.vz(n);var o=s.nW(this.remoteDescription.sdp);o[t+1]+=(n.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=o.join("")}}else for(var a=0;a<this.eW.length;a++)if(this.eW[a].OW.vz({}),this.XY)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.eW.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(r){t[r]&&e.push(t[r].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],r=function(e){return{yz:"inbound-rtp",Tz:"outbound-rtp",mz:"candidate-pair",bY:"local-candidate",CY:"remote-candidate"}[e.type]||e.type};return new Promise(function(i){var n=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=r(e[t]),n.set(t,e[t])})}),t&&window.setTimeout(t,0,n),i(n)})})}}};e.i={aL:a.aL,cL:r(126)}},function(e,t,r){"use strict";var i={};i.$W=function(){return Math.random().toString(36).substr(2,10)},i.HW=i.$W(),i.XW=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},i.nW=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},i.QW=function(e,t){return i.XW(e).filter(function(e){return 0===e.indexOf(t)})},i.ex=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var r={Iz:t[0],RW:t[1],protocol:t[2].toLowerCase(),Sz:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":r.Rz=t[i+1];break;case"rport":r.wz=parseInt(t[i+1],10);break;case"tcptype":r.bz=t[i+1];break;default:r[t[i]]=t[i+1]}return r},i.wW=function(e){var t=[];t.push(e.Iz),t.push(e.RW),t.push(e.protocol.toUpperCase()),t.push(e.Sz),t.push(e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.Rz&&e.wz&&(t.push("raddr"),t.push(e.Rz),t.push("rport"),t.push(e.wz)),e.bz&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.bz)),"candidate:"+t.join(" ")},i.Cz=function(e){return e.substr(14).split(" ")},i._z=function(e){var t=e.substr(9).split(" "),r={fW:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.vW=parseInt(t[1],10),r.yW=3===t.length?parseInt(t[2],10):1,r},i.Pz=function(e){var t=e.fW;return void 0!==e.gW&&(t=e.gW),"a=rtpmap:"+t+" "+e.name+"/"+e.vW+(1!==e.yW?"/"+e.yW:"")+"\r\n"},i.Az=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.Oz=function(e){return"a=extmap:"+(e.id||e.Nz)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.Dz=function(e){for(var t,r={},i=e.substr(e.indexOf(" ")+1).split(";"),n=0;n<i.length;n++)t=i[n].trim().split("="),r[t[0].trim()]=t[1];return r},i.kz=function(e){var t="",r=e.fW;if(void 0!==e.gW&&(r=e.gW),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){i.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+r+" "+i.join(";")+"\r\n"}return t},i.Lz=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),mW:t.join(" ")}},i.Mz=function(e){var t="",r=e.fW;return void 0!==e.gW&&(r=e.gW),e.TW&&e.TW.length&&e.TW.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.mW&&e.mW.length?" "+e.mW:"")+"\r\n"}),t},i.rz=function(e){var t=e.indexOf(" "),r={qW:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(r.iz=e.substr(t+1,i-t-1),r.value=e.substr(i+1)):r.iz=e.substr(t+1),r},i.Fz=function(e){var t=i.QW(e,"a=mid:")[0];if(t)return t.substr(6)},i.Uz=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.WW=function(e,t){return{zW:"auto",Bz:i.QW(e+t,"a=fingerprint:").map(i.Uz)}},i.Hz=function(e,t){var r="a=setup:"+t+"\r\n";return e.Bz.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},i.YW=function(e,t){var r=i.XW(e);return r=r.concat(i.XW(t)),{xz:r.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},i.qz=function(e){return"a=ice-ufrag:"+e.xz+"\r\na=ice-pwd:"+e.password+"\r\n"},i.jW=function(e){for(var t={lW:[],pW:[],dW:[],UW:[]},r=i.XW(e),n=r[0].split(" "),s=3;s<n.length;s++){var o=n[s],a=i.QW(e,"a=rtpmap:"+o+" ")[0];if(a){var h=i._z(a),c=i.QW(e,"a=fmtp:"+o+" ");switch(h.parameters=c.length?i.Dz(c[0]):{},h.TW=i.QW(e,"a=rtcp-fb:"+o+" ").map(i.Lz),t.lW.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":t.dW.push(h.name.toUpperCase())}}}return i.QW(e,"a=extmap:").forEach(function(e){t.pW.push(i.Az(e))}),t},i.Gz=function(e,t){var r="";r+="m="+e+" ",r+=t.lW.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.lW.map(function(e){return void 0!==e.gW?e.gW:e.fW}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.lW.forEach(function(e){r+=i.Pz(e),r+=i.kz(e),r+=i.Mz(e)});var n=0;return t.lW.forEach(function(e){e.Vz>n&&(n=e.Vz)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",t.pW.forEach(function(e){r+=i.Oz(e)}),r},i.tz=function(e){var t,r=[],n=i.jW(e),s=-1!==n.dW.indexOf("RED"),o=-1!==n.dW.indexOf("ULPFEC"),a=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"cname"===e.iz}),h=a.length>0&&a[0].qW,c=i.QW(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===h&&(t=c[0][1]),n.lW.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.EW){var i={qW:h,jz:parseInt(e.parameters.EW,10),GW:{qW:t}};r.push(i),s&&(i=JSON.parse(JSON.stringify(i)),i.Qz={qW:t,Kz:o?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&h&&r.push({qW:h});var u=i.QW(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),r.forEach(function(e){e.Yz=u})),r},i.Wz=function(e){var t={},r=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"cname"===e.iz})[0];r&&(t.BW=r.value,t.qW=r.qW);var n=i.QW(e,"a=rtcp-rsize");t.zz=n.length>0,t.Jz=0===n.length;var s=i.QW(e,"a=rtcp-mux");return t.Xz=s.length>0,t},i.Zz=function(e){var t,r=i.QW(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var n=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"msid"===e.iz});return n.length>0?(t=n[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},i.fz=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.Ez=function(e,t,r,n){var s=i.Gz(e.kind,t);if(s+=i.qz(e.sW.$z()),s+=i.Hz(e.NW.$z(),"offer"===r?"actpass":"active"),s+="a=mid:"+e.ez+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.hW&&e.cW?s+="a=sendrecv\r\n":e.hW?s+="a=sendonly\r\n":e.cW?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.hW){var o="msid:"+n.id+" "+e.hW.track.id+"\r\n";s+="a="+o,s+="a=ssrc:"+e.FW[0].qW+" "+o,e.FW[0].GW&&(s+="a=ssrc:"+e.FW[0].GW.qW+" "+o,s+="a=ssrc-group:FID "+e.FW[0].qW+" "+e.FW[0].GW.qW+"\r\n")}return s+="a=ssrc:"+e.FW[0].qW+" cname:"+i.HW+"\r\n",e.hW&&e.FW[0].GW&&(s+="a=ssrc:"+e.FW[0].GW.qW+" cname:"+i.HW+"\r\n"),s},i.ZW=function(e,t){for(var r=i.XW(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?i.ZW(t):"sendrecv"},i.eJ=function(e){return i.XW(e)[0].split(" ")[0].substr(2)},i.zs=function(e){return"0"===e.split(" ",2)[1]},e.i=i},function(e,t,r){"use strict";e.i=function(){var e=function(e){return{name:{FY:"NotAllowedError"}[e.name]||e.name,message:e.message,BY:e.BY,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(r){return t(r).catch(function(t){return Promise.reject(e(t))})}}},function(e,t,r){"use strict";var i=r(17).Wu,n={pL:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.EY},set:function(e){this.EY&&(this.removeEventListener("track",this.EY),this.removeEventListener("addstream",this.vY)),this.addEventListener("track",this.EY=e),this.addEventListener("addstream",this.vY=function(e){e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},lL:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},aL:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var s=e.iceServers[n];if(s.hasOwnProperty("urls"))for(var o=0;o<s.VY.length;o++){var a={url:s.VY[o]};0===s.VY[o].indexOf("turn")&&(a.username=s.username,a.tJ=s.tJ),r.push(a)}else r.push(e.iceServers[n])}e.iceServers=r}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.wY&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.wY}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(r){t.set(r,e[r]),t[r]=e[r]}),t},r={yz:"inbound-rtp",Tz:"outbound-rtp",mz:"candidate-pair",bY:"local-candidate",CY:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,s,o){return n.apply(this,[e||null]).then(function(e){if(i.version<48&&(e=t(e)),i.version<53&&!s)try{e.forEach(function(e){e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,i){e.set(i,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(s,o)}}}};e.i={pL:n.pL,lL:n.lL,aL:n.aL,cL:r(128)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu;e.i=function(){var e=function(e){return{name:{rJ:"NotAllowedError",FY:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,BY:e.BY,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,r,s){var o=function(e){if("object"!=typeof e||e.iJ)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i=e[r]="object"==typeof e[r]?e[r]:{AY:e[r]};if(void 0===i.min&&void 0===i.max&&void 0===i.OY||t.push(r),void 0!==i.OY&&("number"==typeof i.OY?i.min=i.max=i.OY:e[r]=i.OY,delete i.OY),void 0!==i.AY){e.NY=e.NY||[];var n={};"number"==typeof i.AY?n[r]={min:i.AY,max:i.AY}:n[r]=i.AY,e.NY.push(n),delete i.AY,Object.keys(i).length||delete e[r]}}}),t.length&&(e.iJ=t),e};return t=JSON.parse(JSON.stringify(t)),n.version<38&&(i("spec: "+JSON.stringify(t)),t.HR&&(t.HR=o(t.HR)),t.video&&(t.video=o(t.video)),i("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,r,function(t){s(e(t))})},r=function(e){return new Promise(function(r,i){t(e,r,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:r,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.LY=navigator.mediaDevices.LY||function(){return new Promise(function(e){e([{kind:"audioinput",MY:"default",label:"",xY:""},{kind:"videoinput",MY:"default",label:"",xY:""}])})},n.version<41){var s=navigator.mediaDevices.LY.bind(navigator.mediaDevices);navigator.mediaDevices.LY=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(n.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).then(function(e){if(t.HR&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,r,i){if(n.version<44)return t(e,r,i);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(r,i)}}},function(e,t,r){"use strict";var i={cL:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(e,t,r){navigator.mediaDevices.getUserMedia(e).then(t,r)}.bind(navigator)))}};e.i={cL:i.cL}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.HiveComm.Options.Tp);e.fL=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=function(){function e(e,t,r){this.isLive=e,this.protocol=t,this.IM=r}return e.prototype.uB=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.isLive?StreamType.LIVE:StreamType.kK,e.streamProtocol=this.protocol,e.url=this.IM,e},e}();t.AL=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(55),o=r(44).Pp,a=r(0),h=r(133),c=r(73),u=r(19),l=r(56),p=r(198),d=r(26),f=r(18),g=r(21),E=r(54),v=r(1),y=r(45),T=p.HiveComm.Options,m=d.HiveComm.HiveTechError,I=d.HiveComm.vE,S=function(e){function t(r,i,n){var s=e.call(this,r,i)||this;return s.options_=new T.nJ,void 0!=i[t.EL]&&g.Sp(i[t.EL],s.options_),s.UQ=n,s}return i(t,e),t.prototype.getName=function(){return t.EL},t.prototype.getVersion=function(){return this.gL.getPluginVersion()},t.prototype.vL=function(){return!0},t.prototype.yL=function(){return c.lb.Api?this.sJ()&&this.XH()?n.resolve(!0):n.reject(new m(I.pE,"WebRTC DataChannels not supported by browser")):n.reject(new m(I.pE,"Not included in the page"))},t.prototype.initSession=function(e,t){var r=this;return this.yL().then(function(){var i=t.ticket;r._L();var n=i.NN();0===n.indexOf("//")&&(n=location.protocol+n);var s=r.TL(e,i,n,t);return E.zu.registerTech(r,s.id),E.zu.registerComm(r.gL,s.id),f.HiveRequestFactory.registerTech(s.id,r.getName()),window&&window.activateXHRInterceptor&&window.activateXHRInterceptor(r.gL.loggerLevel()>y.TN.pN.info),s})},t.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.oJ?(t.ticket.SourceURL=e,!0):this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.aJ(t,"Protocol not supported by HiveJS tech, downgrading to StatsJS")}else if(i===r)return!!this.oJ||this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},t.prototype.ol=function(t,r){window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),e.prototype.ol.call(this,t,r);var i=c.lb.Api();r?(f.HiveRequestFactory.clearSession(t.id),i&&(i.nl(t.id,u.Ml.STOP),i.hJ())):i&&i.nl(t.id,u.Ml.IDLE)},t.prototype.aJ=function(e,t){return e.tech=this.UQ,f.HiveRequestFactory.registerTech(e.id,l.StatsJS.EL),this.oJ&&this.oJ.resolve(),this.oJ=void 0,this.gL.logger().warn("[HiveJS] "+t),this.onError(new m(I.fE,t)),window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),!0},t.prototype.oL=function(e){this.oJ=e},t.prototype.onActiveSession=function(e){var t=this;a.Framework.X().apply(new h.cJ(!0));var r=c.lb.Api();if(this.uJ()&&r.lJ(!0),r.start(e.rl,!1).then(function(i){if(t._L(),t.PL=e.rl,t.PL.Ql(t.options_.renderStatsCallback),t.PL.Vl(c.lb.sp(),c.lb.getVersion()),t.PL.Bl.init(t.PL.Ul,e.ticket.sessionId),t.gL.options().testId&&t.PL.Ul.NL(t.gL.options().testId),e.authenticationToken){var n=r.pJ(e.ticket.sessionId);n&&n.fJ.dJ.UM(e.authenticationToken)}t.oJ&&r.request(t.oJ,e.rl.ticket.sessionId),t.PL.Hl.Xu(e.ticket.sessionId,t.gL.getPlayerSource(),200);var s=t.gL.flushTechEvents();s&&s.length>0&&t.PL.Hl.Cd(s),t.gL.updatePlayerInfo(t.PL)}),void 0!=this.options().onActiveSession)try{this.options().onActiveSession(e.toHiveSession())}catch(e){v.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback","[HiveJS]",e)}},t.prototype.nl=function(e,t){},t.prototype.TL=function(e,t,r,i){var n=new f.cl(e,t,r,i);return n.ML=!0,n.id=n.ticket.sessionId,n},t.prototype.bL=function(){},t.prototype.uJ=function(){var e=new o;return e.Ad(navigator.userAgent),"Android"==e.Od().name},t.prototype.sJ=function(){return"safari"!=s.Wu.Qu},t.prototype.XH=function(){try{return null!=s.Vu&&null!=s.hL&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},t}(l.StatsJS);S.EL="HiveJS",t.HiveJS=S},function(e,t,r){"use strict";var i=r(40),n=r(0),s=r(45),o=r(8),a=r(19),h=r(76),c=r(77),u=r(79),l=r(75),p=r(22),d=r(15),f=r(134),g=r(137),E=r(138),v=r(88),y=r(155),T=r(156),m=r(157),I=r(158),S=r(159),R=r(95),w=r(172),b=r(173),C=r(174),_=r(49),P=r(25),A=r(175),O=r(179),N=r(180),D=r(181),k=r(182),L=r(184),M=r(185),F=r(186),U=r(187),B=r(80),H=r(188),x=r(189),q=r(191),G=r(6),V=r(192),j=G.he.vh,Q=G.he.yh,K=G.he.Th,Y=G.he.Ih;if(Q)var W=r(193).gJ,z=r(195).EJ;if(K)var J=r(92).WG;if(j)var X=r(196).vJ;if(Y)var Z=r(81).CH;else var $=r(83).nx;var ee=function(){function e(e){this.yJ=!1,e&&(this.yJ=e)}return e.prototype.apply=function(e){this.yJ?Y&&e.bind(new i.ZA(o.pc.sc,Z,i.$A.sO)):(e.bind(new i.ZA(o.pc.hc,a.lp,i.$A.sO)),e.bind(new i.ZA(o.pc.G,h.qB,i.$A.sO)),e.bind(new i.ZA(o.pc.nc,c.WB,i.$A.sO)),e.bind(new i.ZA(o.pc.M,u.vH,i.$A.sO)),e.bind(new i.ZA(n.Framework.V.R,s.TN.yN,i.$A.sO)),e.bind(new i.ZA(o.pc.ic,l.Stats.ql,i.$A.pO)),e.bind(new i.ZA(o.pc.uc,p.Gl.Bd,i.$A.pO)),e.bind(new i.ZA(o.pc.lc,p.Gl.ql,i.$A.pO)),Y?e.bind(new i.ZA(o.pc.sc,Z,i.$A.sO)):e.bind(new i.ZA(o.pc.sc,$,i.$A.sO))),e.bind(new i.ZA(d.qu.lu,V.TJ,i.$A.pO)),e.bind(new i.ZA(o.pc.oc,B.IH,i.$A.sO)),e.bind(new i.ZA(d.qu.Fu,F.mJ,i.$A.sO)),e.bind(new i.ZA(d.qu._u,f.sh,i.$A.sO)),e.bind(new i.ZA(d.qu.Ru,g.IJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Pu,E.SJ,i.$A.pO)),e.bind(new i.ZA(d.qu.yu,y.Ra,i.$A.pO)),e.bind(new i.ZA(d.qu.Tu,v.Yq,i.$A.pO)),j&&e.bind(new i.ZA(d.qu.mu,X,i.$A.pO)),e.bind(new i.ZA(d.qu.bu,T.RJ,i.$A.pO)),"undefined"!=typeof HiveOriginalXMLHttpRequest?e.bind(new i.ZA(n.Framework.V.H,HiveOriginalXMLHttpRequest)):e.bind(new i.ZA(n.Framework.V.H,XMLHttpRequest)),e.bind(new i.ZA(d.qu.Mu,M.wJ,i.$A.sO)),e.bind(new i.ZA(d.qu.Du,m.bJ,i.$A.pO)),e.bind(new i.ZA(n.Framework.V.F,A.CJ,i.$A.sO)),e.bind(new i.ZA(d.qu.q,O._J,i.$A.sO)),e.bind(new i.ZA(d.qu.Su,U.PJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Iu,I.AJ,i.$A.pO)),e.bind(new i.ZA(d.qu.pu,S.Qa,i.$A.pO)),e.bind(new i.ZA(d.qu.du,R.iQ,i.$A.pO)),e.bind(new i.ZA(d.qu.fu,x.OJ,i.$A.pO)),e.bind(new i.ZA(d.qu.gu,x.NJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Eu,q.DJ,i.$A.pO)),e.bind(new i.ZA(d.qu.vu,q.kJ,i.$A.pO)),e.bind(new i.ZA(d.qu.xu,H.Vo,i.$A.pO)),e.bind(new i.ZA(d.qu.Cu,w.LJ,i.$A.pO)),e.bind(new i.ZA(d.qu.wu,b.MJ,i.$A.pO)),e.bind(new i.ZA(d.qu.ku,C.FJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Nu,k.UJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Au,_.Ak,i.$A.pO)),e.bind(new i.ZA(d.qu.Ou,L.BJ,i.$A.pO)),e.bind(new i.ZA(n.Framework.V.U,P.Rf.Fa,i.$A.pO)),e.bind(new i.ZA(d.qu.Lu,N.ya,i.$A.pO)),Q&&(e.bind(new i.ZA(d.qu.Bu,W,i.$A.pO)),e.bind(new i.ZA(d.qu.Uu,z,i.$A.pO))),K&&e.bind(new i.ZA(d.qu.Th,J,i.$A.pO)),e.bind(new i.ZA(d.qu.Hu,D.HJ,i.$A.pO))},e}();t.cJ=ee},function(e,t,r){"use strict";var i=r(4),n=r(28),s=n.cg,o=r(0),a=r(43),h=r(15),c=r(5),u=r(19),l=r(3),p=r(135),d=r(47),f=r(8),g=r(136),E=r(6),v=r(1),y=r(2),T=E.he.yh,m=E.he.Th,I=E.he.mh,S=function(){function e(e){this.state=u.Ml.Ll,this.requestTimeout=-1;try{this.logger=o.Framework.resolve(o.Framework.V.R).log(e.ticket.sessionId),this.loggerId="[SWARM] ",this.Ng=o.Framework.resolve(o.Framework.V.F),this.sessionId=e.ticket.sessionId,this.rl=e,this.ED=o.Framework.resolve(h.qu.Ru),this.sC=o.Framework.resolve(h.qu.yu),this.oG=o.Framework.resolve(h.qu.pu),this.xJ=o.Framework.resolve(h.qu.bu),this.gD=o.Framework.resolve(h.qu.Iu),this.TD=o.Framework.resolve(h.qu.du),this.uploadScore=o.Framework.resolve(h.qu.ku),this.qJ=o.Framework.resolve(h.qu.wu),this.GJ=o.Framework.resolve(h.qu.Du),this.vD=o.Framework.resolve(h.qu.Cu),this.fJ=o.Framework.resolve(h.qu.Pu),this.WM=o.Framework.resolve(h.qu.Lu),this.yD=o.Framework.resolve(h.qu.Hu),this.zM=o.Framework.resolve(h.qu.Au),this.mD=o.Framework.resolve(h.qu.Ou),this.ID=o.Framework.resolve(h.qu.Su),this.zV=o.Framework.resolve(h.qu.xu),this.YM=o.Framework.resolve(h.qu.lu),(T||o.Framework.C()&&d.$N.JN)&&(this.VJ=o.Framework.resolve(h.qu.Uu),this.jJ=o.Framework.resolve(h.qu.Bu)),(m||o.Framework.C()&&d.$N.XN)&&(this.QJ=o.Framework.resolve(h.qu.Th)),this.swarmId=this.KJ(e.ticket.kd()),this.YM.init(this),this.xJ.init(this),this.ID.init(this),this.zV.init(this),this.TD.init(this),this.qJ.init(this),this.GJ.init(this),this.vD.init(this),this.fJ.init(this),this.ED.init(this),this.oG.init(this),this.zM.init(this),this.mD.init(this),this.WM.init(this),(m||o.Framework.C()&&d.$N.XN)&&this.QJ.init(this),(T||o.Framework.C()&&d.$N.JN)&&this.jJ.init(this)}catch(e){throw v.ErrorMonitor.ve().logError("Error constructing swarm object",this.loggerId,y.hs.rs.Zn,e),new Error(e)}}return e.prototype.init=function(e,t,r){try{I?this.YJ(!1):r?this.YJ(!1):this.YJ(!0),this.yD.setReportingGuid(this.rl.identity.rp()),this.yD.WJ(r),this.sC.init(c.hh.Ra.Ta,c.hh.Ra.ma);var i=this.fJ.RD(e,t);this.yD.setContextId(this.fJ.dJ.getContextId());var n=new p.zJ(i);this.rl.OL=n,this.rl.Ul.OL=n,this.GJ.start(this.fJ,this.oG),(T||o.Framework.C()&&d.$N.JN)&&this.jJ.JJ(this.oG);var s=[this.oG,this.TD,this.GJ,this.rl.Ul,this.rl.Hl,this.zV];(T||o.Framework.C()&&d.$N.JN)&&s.push(this.jJ),(m||o.Framework.C()&&d.$N.XN)&&s.push(this.QJ),(a=this.Ng).start.apply(a,[e.sessionId].concat(s)),this.rl.Ul.DB(this.TD),this.rl.Ul.rB(this.yD),this.yD.XJ(e)}catch(e){throw v.ErrorMonitor.ve().logError("Error initializing swarm object",this.loggerId,y.hs.rs.$n,e),new Error(e)}var a},e.prototype.YJ=function(e){e&&"undefined"!=typeof navigator&&navigator.hardwareConcurrency?(this.yD.ZJ(navigator.hardwareConcurrency),this.yD.$J(navigator.hardwareConcurrency)):(this.yD.ZJ(1),this.yD.$J(1)),this.logger.debug(this.loggerId+"My score "+this.yD.QG())},e.prototype.KJ=function(e){return s.oT(e).toString(s.Uy.By)},e.prototype.request=function(e){this.eX(),this.ED.request(e)},e.prototype.tX=function(){if(this.state===u.Ml.STOP)return void this.logger.debug("Ignoring changing state from Stop to Idle");this.oG.stop(),this.TD.stop(),this.mD.rX(),this.mD.iX(),this.GJ.nX(),this.jJ&&this.jJ.sX(),this.rl.nl(u.Ml.IDLE),this.sC.Qq(),this.ID.oX(),this.ED.aX(),this.YM.hX(),o.Framework.clearTimeout(this.requestTimeout)},e.prototype.nl=function(e,t){try{if(this.state!=e){switch(this.logger.info("Switching state "+u.Ml[this.state]+" -> "+u.Ml[e]),e){case u.Ml.STOP:this.tX(),this.Ng.stop(t);break;case u.Ml.IDLE:this.tX();break;case u.Ml.Ll:this.oG.start(),this.TD.start(this.fJ.dJ),this.mD.cX(),this.GJ.uX(),this.jJ&&this.jJ.lX(),this.rl.nl(u.Ml.Ll),this.YM.pX()}this.state=e}}catch(e){v.ErrorMonitor.ve().logError("Error changing peer status",this.loggerId,y.hs.rs.es,e)}},e.prototype.eX=function(){var e=this;try{o.Framework.clearTimeout(this.requestTimeout),this.nl(u.Ml.Ll),this.requestTimeout=o.Framework.setTimeout(function(){e.nl(u.Ml.IDLE)},c.hh.sh.nh)}catch(e){v.ErrorMonitor.ve().logError("Error requesting timeout",this.loggerId,y.hs.rs.Qn,e)}},e}();t.dX=S;var R=function(){function e(){this.Ag=new a.Counter,this.fX=!1,this.zl=new l,this.gX=new l,this.EX=!1,this.vX=!1,this.yX=o.Framework.resolve(h.qu.Mu),this.TX=o.Framework.resolve(h.qu.Fu),this.ud=o.Framework.resolve(f.pc.sc),this.mX=!1}return e.prototype.start=function(e,t){this.logger=o.Framework.resolve(o.Framework.V.R).log(e.ticket.sessionId);var r=e.ticket;this.TX.init(this,e);var n=r.sessionId;if(this.zl.has(n))this.logger.warn("SESSION ALREADY ACTIVE "+n);else{g.IX.fd(e.xl.client);var s=new S(e);s.init(r,t,this.mX),this.ud.getConnectivityInfo().then(function(e){var t=e.getNetworkChanged(),r=t.getPrivateIp();r&&s.yD.DH(r)}).done(),e.Ul.NB(this.ud),this.logger.info("PEER CONTEXT STARTED"),this.zl.set(n,s),this.gX.set(s.swarmId,n)}return 1!=this.zl.length&&!this.vX||o.Framework.C()||(this.yX.init(),this.vX=!1),i.resolve(r.SourceURL)},e.prototype.hJ=function(){this.vX=!0},e.prototype.mg=function(e){if(this.gX.has(e)){var t=this.gX.get(e);return this.zl.get(t)}return null},e.prototype.pJ=function(e){return this.zl.get(e)},e.prototype.SX=function(e){return this.zl.has(e)?this.zl.get(e).ED:null},e.prototype.request=function(e,t){this.pJ(t).request(e)},e.prototype.nl=function(e,t){this.pJ(e).nl(t,e)},e.prototype.abort=function(e,t){this.SX(t).abort(e)},e.prototype.lJ=function(e){this.mX=e},e}();t.sh=R},function(e,t,r){"use strict";var i=function(){function e(e){this.wD=e}return e.prototype.uB=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.wD.isLive()?StreamType.LIVE:StreamType.kK,e.streamProtocol=this.wD.getStreamProtocol(),e.url=this.wD.uM(),e},e}();t.zJ=i},function(e,t,r){"use strict";var i=r(22),n=i.Gl.rd,s=r(0),o=r(23),a=function(){function e(){}return e.fd=function(e){this.client=e},e.RX=function(e,t,r,i,a){var h=new n;h.app=e,h.guid=i,h.createdAt=s.Framework.time(),h.name=r,h.tags=t,h.data=JSON.parse(a);var c=new o.Jd(Services.Xd,2,JSON.stringify(h));this.client&&this.client.zd().send(c)},e}();t.IX=a},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(24),o=r(7),a=r(5),h=r(0),c=r(9),u=r(15),l=r(43),p=r(1),d=r(2),f=function(){function e(){this.wX=new i,this.bX=!1,this.CX=0,this.loggerId="[HiveCache] ",this._X=5,this.TX=h.Framework.resolve(u.qu.Fu),this.PX=new l.RO}return e.prototype.init=function(e){this.logger=h.Framework.resolve(h.Framework.V.R).log(e.sessionId),this.gD=e.gD,this.sC=e.sC,this.TD=e.TD,this.Ul=e.rl.Ul,this.sessionId=e.rl.ticket.sessionId,this.xJ=e.xJ,this.vD=e.vD,this.AX=e.fJ,this.yD=e.yD,this.ID=e.ID,this.YM=e.YM,this.Ul.eB(this.PX)},e.prototype.request=function(e){try{var t=e.url;this.logger.info("HIVE REQ "+t),e.Bf=h.Framework.time();var r=this.AX.OX(e),i=r.EM(e.url);this.YM.NX(i),this.$D(e,i,r,s.bf.Tf)}catch(e){p.ErrorMonitor.ve().logError("Error on player request",this.loggerId,d.hs.Wn.Yn,e)}},e.prototype.$D=function(e,t,r,i){var n=this;if(t.ig()){if(t.Xf()==c.vc.fc){var a=r.PM(t,i);if(a.hF)return this.logger.debug("DO NOT CONTINUE WITH THE REQUEST "+t.Zf()+". ALREADY REQUESTED  "+a.rF+" PENDING REQUEST "+a.aF),null;if(a.aF&&i==s.bf.Tf){var h=this.DX(e,t,r,i);return h.length>0?(h.forEach(function(t){var r=n.wX.get(t);n.wX.set(e.id,r),n.wX.delete(t)}),null):(this.logger.info("PREFETCH UPGRADE FAILED. THIS SHOULD NOT HAPPEN. CHECK FOR MULTIPLE PLAYER REQUESTS FOR THE SAME FRAGMENT"),this.kX(e,t,r,i))}return this.kX(e,t,r,i)}return this.kX(e,t,r,i)}var u=o.rc.Oh.next(),l=new s.hg(e,u,i,t,r);return this.wX.set(e.id,l),l.type=s.bf.mf,this.LX(l),l},e.prototype.kX=function(e,t,r,i){var n=this,a=o.rc.Oh.next(),h=new s.hg(e,a,i,t,r);if(this.wX.set(e.id,h),t.Xf()==c.vc.fc&&(r.uF(h),i!==s.bf.If&&i!==s.bf.wf)){var u=t.bitrate,l=this.yD.MX();0!=u&&(this.yD.FX(u),u!=l&&(this.bX=!0,this.CX=0),this.bX&&this.CX++,this.CX==this._X&&(this.TD.Kj(),this.bX=!1,this.CX=0))}return this.UX(t.Zf()).then(function(e){null!=e?(n.YM.BX(h,e),n.HX(h,e),r.lF(h.Zf(),h.$f()),r.gF(t.bitrate)):(n.xX(t,h),h.Xf()==c.vc.fc&&(r.dF(h),h.type==s.bf.Tf&&n.PX.add(0)))}),h},e.prototype.DX=function(e,t,r,i){return r.cF(e,t,i)},e.prototype.UX=function(e){return this.sC.get(e)},e.prototype.xX=function(e,t){this.gD.contains(e.Zf())?(this.logger.debug("OBJ IDX CONTAINS "+t.Zf()),t.Jf()==s.bf.If&&(t.type=s.bf.wf),this.Cf(t)):t.Jf()!=s.bf.wf?this.LX(t):(p.ErrorMonitor.ve().logError("P2P PREFETCH FAILED BECAUSE OBJECT INDEX DOES NOT CONTAIN REQUEST ENTITY",this.loggerId,{P_:t.Zf()}),t.Wf.lF(t.Zf(),t.$f()))},e.prototype.aX=function(){var e=this;this.wX.forEach(function(t){return e.abort(t.Kf)})},e.prototype.abort=function(e){if(this.wX.has(e.id)){var t=this.wX.get(e.id),r=t.$f();this.logger.debug("REQUEST "+r+" ABORTED "),this.vD.Ys(r)?this.vD.qX(r):this.xJ.Ys(r)&&this.xJ.qX(r),this.wX.delete(e.id)}},e.prototype.Cf=function(e){e.type==s.bf.Tf&&(e.type=s.bf.Rf),e.type==s.bf.wf&&(e.Vf=!0),this.vD.request(e)},e.prototype.GX=function(e){if(0!=e.Qf&&(e.qf.Af=e.Qf,this.logger.info("ALREADY DOWNLOADED "+e.qf.Af+" BYTES"),e.qf.Of=e.Qf),!a.hh.K.Na&&e.Qf&&(e.qf.Af=0),this.YM.VX(e),e.type!=s.bf.wf)e.type=s.bf.Sf,this.LX(e);else if(e.Xf()==c.vc.fc){e.Wf.pF(e.Zf()),e.Wf.lF(e.Zf(),e.$f());var t=e.zf;t.bitrate&&e.Wf.gF(t.bitrate)}},e.prototype.jX=function(e){var t=this;this.logger.info("SUCCESS FROM P2P FOR "+e.eg()+" [REQ "+e.Yf+"] ["+s.bf[e.type]+"] AFTER "+e.og()+" [bw:"+e.ag().Gh()+"]"),this.QX(e),this.KX(e,this.XM(e.type)),this.ID.YX(e);var r=this.xJ.WX().Hh();this.YM.zX(e,r),this.JX(e).then(function(){e.Wf.CM(e),t.XX()}).finally(function(){t.XM(e.type)&&t.ZX(e),t.wX.delete(e.Kf.id)})},e.prototype.LX=function(e){this.YM.$X(e),this.xJ.request(e)},e.prototype.eZ=function(e){this.XX();var t=this.xJ.WX().Hh();this.YM.tZ(e,t),e.Xf()==c.vc.fc&&(e.Wf.pF(e.Zf()),e.Wf.lF(e.Zf(),e.$f())),this.rZ(e)},e.prototype.iZ=function(e){var t=this;this.QX(e),this.KX(e,this.XM(e.type)),e.type==s.bf.Sf&&this.logger.debug("CDN COMPENSATION TIME "+(e.qf.Uf-e.Kf.Bf)+" / "+(e.qf.Uf-e.qf.Lf)+" P2P TIME "+(e.qf.Ff-e.qf.Mf)),-1==[c.vc.gc,c.vc.Ec].indexOf(e.Xf())&&this.ID.YX(e);var r=this.xJ.WX().Hh();this.YM.nZ(e,r),this.JX(e).then(function(){e.Xf()==c.vc.gc&&e.Wf.SM(e),-1==[c.vc.gc,c.vc.Ec].indexOf(e.Xf())&&e.Wf.CM(e),t.XX()}).catch(function(e){t.logger.error(e)}).finally(function(){t.XM(e.type)&&t.ZX(e),t.wX.delete(e.Kf.id)})},e.prototype.QX=function(e){e.type==s.bf.wf&&(e.qf.p2pAgenTrafficSuccessQt=e.qf.Af),e.type==s.bf.If&&(e.qf.kf=e.qf.Df,e.Gf&&(e.qf.srcOtherRespQt=e.qf.Df)),e.qf.Pf=e.qf.Df+e.qf.Af,e.Kf.total=e.qf.Pf},e.prototype.KX=function(e,t){if(this.sZ(e),t){var r=o.rc.createEvent(ProgressEvent,"progress",{lengthComputable:!0,total:e.qf.Pf,loaded:e.qf.Pf,currentTarget:e.Kf});e.Kf.dispatchEvent(r),e.zf.O_()||(e.Kf.response=e.RM,e.Kf.responseText=e.RM)}},e.prototype.ZX=function(e){var t=e.Kf;this.logger.info("RESPOND TO THE PLAYER "+e.Zf()+" SIZE "+(h.Framework.C()?t.total:e.jf.byteLength)),t.status=200,t.readyState=4,"string"==typeof t.response&&"arraybuffer"===t.responseType&&(t.response=o.rc.tc(t.response)),"text"!=t.responseType&&""!=t.responseType&&delete t.responseText,e.zf.O_()&&(t.response=h.Framework.C()?null:o.rc.Qh(e.jf));var r=o.rc.createEvent(Event,"readystatechange",{currentTarget:t}),i=o.rc.createEvent(ProgressEvent,"load",{bubbles:!1,cancelable:!1,lengthComputable:!1,total:e.zf.O_()?e.jf.byteLength:e.RM.length,currentTarget:t}),n=o.rc.createEvent(ProgressEvent,"loadend",{bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t});t.dispatchEvent(r),t.dispatchEvent(i),t.dispatchEvent(n)},e.prototype.rZ=function(e){this.wX.delete(e.Kf.id);var t=e.Kf,r={bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t};e.xhr.status&&e.xhr.status>0?(t.status=e.xhr.status,t.responseHeaders=e.responseHeaders):t.status=404,t.readyState=4,t.dispatchEvent(o.rc.createEvent(Event,"readystatechange",r)),t.dispatchEvent(o.rc.createEvent(ProgressEvent,"load",r)),t.dispatchEvent(o.rc.createEvent(ProgressEvent,"loadend",r))},e.prototype.JX=function(e){var t=this;return e.zf.ig()?this.sC.put(e).then(function(r){r&&t.TD.oZ(e.zf,e.qf.Pf,e.xq)}):n.resolve(!0)},e.prototype.HX=function(e,t){var r=this;e.jf=t.data,e.responseHeaders=t.headers,e.qq=t.qq,e.qf=t.qf;var i=e.Wf.dM().lx(t.length);this.logger.info("SCHEDULE DELIVERY OF "+e.Zf()+" IN "+i+" SIZE "+(h.Framework.C()?t.length:e.jf.byteLength)+" BYTES"),h.Framework.setTimeout(function(){r.aZ(e)},i)},e.prototype.aZ=function(e){this.logger.debug("DELIVERY OF "+e.Zf()),this.KX(e,!0),this.wX.delete(e.Kf.id);var t=e.Kf.Bf-e.qf.Uf;this.logger.info("FRAGMENT PREFETCHED "+t+" MSECS BEFORE PLAYER REQUEST"),t>0&&e.Xf()==c.vc.fc&&this.PX.add(t);var r=0;r=e.qf.Mf>0?e.Kf.Bf-e.qf.Mf:e.Kf.Bf-e.qf.Ff,this.logger.info("FRAGMENT REQUESTED "+r+" MSECS BEFORE PLAYER REQUEST"),this.ZX(e)},e.prototype.XM=function(e){return e!=s.bf.wf&&e!=s.bf.If},e.prototype.sZ=function(e){if(e.type!==s.bf.Sf)e.responseHeaders=e.Kf.responseHeaders=e.responseHeaders;else{var t="\nContent-Range: bytes=0-"+(e.size-1)+"/"+e.size+"\n";t+="Content-Length: "+e.size+"\n",e.responseHeaders=e.Kf.responseHeaders=t}null!=e.responseHeaders&&-1!=e.responseHeaders.indexOf("Access-Control-Allow-Origin")||(e.responseHeaders+="\nAccess-Control-Allow-Origin:*")},e.prototype.XX=function(){h.Framework.C()||this.TX.render()},e}();t.IJ=f},function(e,t,r){"use strict";var i=r(57),n=r(87),s=r(0),o=function(){function e(){this.TD=null,this.Ng=s.Framework.resolve(s.Framework.V.F)}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.sG=e,this.TD=e.TD},e.prototype.RD=function(e,t){var r=null,s=e._N();return n.bq.rM(s)?this.dJ=r=new n.bq.Dq(e,t,this.sG):i.DASH.rM(s)?this.dJ=r=new i.DASH.VM(e,this.sG):this.logger.warn("COULD NOT FIND A CONTEXT FOR "+s),null!=r&&this.hZ(this.dJ),r},e.prototype.hZ=function(e){var t=this;null!=this.TD?this.TD.stop().then(function(r){t.TD.start(e)}):this.TD.start(e)},e.prototype.OX=function(e){if(null==this.dJ)this.logger.warn("FIRST REQUEST, COULD NOT FIND RIGHT CONTEXT "+e.url);else if(!this.dJ.mM(e))return this.logger.warn("REQUEST DOES NOT BELONG TO THE CURRENT CONTEXT "+e.url),null;return this.dJ},e}();t.SJ=o},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.ls=t||Object.cs,this.Ac=r||Object.Oc,this.ds=n||Function.us,this.root=null,this.length=0,this.addEach(e)}function n(e){this.value=e,this.left=null,this.right=null,this.length=1}function s(e,t,r){if(this.set=e,this.Ok=null,this.end=r,t){var i=this.set.cZ(t);i&&(this.set.uZ(i.value),this.Ok=i.lZ())}}e.i=i;var o=(r(11),r(12)),a=r(39),h=r(13),c=r(38),u=r(69);i.pZ=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.mF=!0,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");return!!this.root&&(this.uZ(e),this.ls(e,this.root.value))},i.prototype.get=function(e,t){if(t)throw new Error("SortedSet#get does not support second argument: equals");return this.root&&(this.uZ(e),this.ls(e,this.root.value))?this.root.value:this.ds(e)},i.prototype.add=function(e){var t=new this.Node(e);if(!this.root)return this.Mk&&this.QA([e],[],0),this.root=t,this.length++,this.Mk&&this.GA([e],[],0),!0;if(this.uZ(e),!this.ls(e,this.root.value)){var r=this.Ac(e,this.root.value);if(0===r)throw new Error("SortedSet cannot contain incomparable but inequal values: "+e+" and "+this.root.value);return this.Mk&&this.QA([e],[],this.root.index),r<0?(t.right=this.root,t.left=this.root.left,this.root.left=null,this.root.dZ()):(t.left=this.root,t.right=this.root.right,this.root.right=null,this.root.dZ()),t.dZ(),this.root=t,this.length++,this.Mk&&this.GA([e],[],this.root.index),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("SortedSet#delete does not support second argument: equals");if(this.root&&(this.uZ(e),this.ls(e,this.root.value))){var r=this.root.index;if(this.Mk&&this.QA([],[e],r),this.root.left){var i=this.root.right;this.root=this.root.left,this.uZ(e),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.dZ(),this.Mk&&this.GA([],[e],r),!0}return!1},i.prototype.indexOf=function(e,t){if(t)throw new Error("SortedSet#indexOf does not support second argument: startIndex");return this.root&&(this.uZ(e),this.ls(e,this.root.value))?this.root.index:-1},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedSet#find does not support second argument: equals");if(r)throw new Error("SortedSet#find does not support third argument: index");if(this.root&&(this.uZ(e),this.ls(e,this.root.value)))return this.root},i.prototype.fZ=function(e){if(this.root){for(e=e||this.root;e.right;)e=e.right;return e}},i.prototype.gZ=function(e){if(this.root){for(e=e||this.root;e.left;)e=e.left;return e}},i.prototype.EZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>0?this.root.lZ():this.root},i.prototype.vZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>=0?this.root.lZ():this.root},i.prototype.cZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>=0?this.root:this.root.yZ()},i.prototype.TZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)<=0?this.root.yZ():this.root},i.prototype.pop=function(){if(this.root){var e=this.fZ();return this.delete(e.value),e.value}},i.prototype.shift=function(){if(this.root){var e=this.gZ();return this.delete(e.value),e.value}},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.slice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=[];if(this.root)for(this.mZ(e);this.root.index<t&&(r.push(this.root.value),this.root.right);)this.uZ(this.root.yZ().value);return r},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=[];if(this.root){this.mZ(e);for(var n=0;n<t;n++){i.push(this.root.value);var s=this.root.yZ();if(this.delete(this.root.value),!s)break;this.uZ(s.value)}}return this.addEach(r),i},i.prototype.uZ=function(e){var t,r,i,s,o,a;if(this.root){for(t=r=i=new this.Node,a=new this.Node,o=this.root;;){var h=this.Ac(e,o.value);if(h<0){if(!o.left)break;if(this.Ac(e,o.left.value)<0&&(s=o.left,o.left=s.right,o.dZ(),s.right=o,s.dZ(),o=s,!o.left))break;s=new n,s.right=o,s.left=a.left,a.left=s,i.left=o,i.dZ(),i=o,o=o.left}else{if(!(h>0))break;if(!o.right)break;if(this.Ac(e,o.right.value)>0&&(s=o.right,o.right=s.left,o.dZ(),s.left=o,s.dZ(),o=s,!o.right))break;s=new n,s.left=o,s.right=a.right,a.right=s,r.right=o,r.dZ(),r=o,o=o.right}}for(r.right=o.left,r.dZ(),i.left=o.right,i.dZ(),o.left=t.right,o.right=t.left;a.left;)a.left.right.dZ(),a.left=a.left.left;for(;a.right;)a.right.left.dZ(),a.right=a.right.right;o.dZ(),this.root=o}},i.prototype.mZ=function(e){if(this.root){for(var t=this.root,r=this.root.index;r!==e;)if(r>e&&t.left)t=t.left,r-=1+(t.right?t.right.length:0);else{if(!(r<e&&t.right))break;t=t.right,r+=1+(t.left?t.left.length:0)}return this.uZ(t.value),this.root.index===e}return!1},i.prototype.reduce=function(e,t,r){return this.root&&(t=this.root.reduce(e,t,0,r,this)),t},i.prototype.reduceRight=function(e,t,r){return this.root&&(t=this.root.reduceRight(e,t,this.length-1,r,this)),t},i.prototype.min=function(e){var t=this.gZ(e);if(t)return t.value},i.prototype.max=function(e){var t=this.fZ(e);if(t)return t.value},i.prototype.Bc=function(){return this.min()},i.prototype.clear=function(){var e;this.Mk&&(e=this.toArray(),this.QA([],e,0)),this.root=null,this.length=0,this.Mk&&this.GA([],e,0)},i.prototype.Hc=function(e,t){return new this.Iterator(this,e,t)},i.prototype.Iterator=s,i.prototype.summary=function(){return this.root?this.root.summary():"()"},i.prototype.log=function(e,t,r,i){e=e||u.aU,t=t||this.vs,r||(r=console.log,i=console),r=r.bind(i),this.root&&this.root.log(e,t,r,r)},i.prototype.vs=function(e,t,r){t(" "+e.value)},i.IZ=u,i.prototype.Node=n,n.prototype.reduce=function(e,t,r,i,n,s){if(s=s||0,this.left){var o=this.left.length;t=this.left.reduce(e,t,r,i,n,s+1),r+=o}return t=e.call(i,t,this.value,r,n,this,s),r+=1,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1)),t},n.prototype.reduceRight=function(e,t,r,i,n,s){return s=s||0,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1),r-=this.right.length),t=e.call(i,t,this.value,this.value,n,this,s),r-=1,this.left&&(t=this.left.reduce(e,t,r,i,n,s+1)),t},n.prototype.dZ=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},n.prototype.SZ=function(){var e=1;if(e+=this.left?this.left.SZ():0,e+=this.right?this.right.SZ():0,this.length!==e)throw new Error("Integrity check failed: "+this.summary());return e},n.prototype.yZ=function(){var e=this;if(e.right){for(e=e.right;e.left;)e=e.left;return e}},n.prototype.lZ=function(){var e=this;if(e.left){for(e=e.left;e.right;)e=e.right;return e}},n.prototype.summary=function(){var e=this.value||"-";return e+=" <"+this.length,this.left||this.right?"("+e+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+e+")"},n.prototype.log=function(e,t,r,i){var n,s=this;n=this.left&&this.right?e.WA:this.left?e.tU:this.right?e.rU:e.eU;var o;this.left&&this.left.log(e,t,function(t){o?i(e.oU+" "+t):(o=!0,i(e.iU+e.eU+t))},function(e){i("  "+e)});var a;t(this,function(t){a?r((s.right?e.oU:" ")+t):(a=!0,r(n+t))},function(t){i((s.left?e.oU:" ")+t)});var h;this.right&&this.right.log(e,t,function(t){h?r("  "+t):(h=!0,r(e.nU+e.eU+t))},function(t){r(e.oU+" "+t)})},s.prototype.Gk=null,Object.defineProperty(s.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),s.prototype.next=function(){var e;return e=this.Ok?this.set.TZ(this.Ok.value):this.set.gZ(),e?void 0!==this.end&&this.set.Ac(e.value,this.end)>=0?(this.Vk.done=!0,this.Vk.value=void 0):(this.Ok=e,this.Vk.value=e.value):(this.Vk.done=!0,this.Vk.value=void 0),this.Vk}},function(e,t,r){"use strict";var i=function(){function e(){this.rF=!1,this.aF=!1,this.hF=!1}return e}();t.eF=i},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);Array.isArray(e)?(this.NT=e,e=e.splice(0,e.length)):this.NT=[],this.ls=t||Object.cs,this.Ac=r||Object.Oc,this.ds=n||Function.us,this.length=0,this.addEach(e)}function n(e,t,r){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=r(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;n=s-1}}return-(i+1)}function s(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s>0&&i(t,e[s-1]);)s--;return i(t,e[s])?s:-1}function o(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s<e.length-1&&i(t,e[s+1]);)s++;return i(t,e[s])?s:-1}function a(e,t,r){var i=n(e,t,r);if(i<0)return-i-1;for(var s=e.length-1;i<s&&0===r(t,e[i+1]);)i++;return i}e.i=i;var h=(r(11),r(12)),c=r(13),u=r(38);i.RZ=i,Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.addEach(i.prototype,u.prototype),i.prototype.mF=!0,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");var r=n(this.NT,e,this.Ac);return r>=0&&this.ls(this.NT[r],e)},i.prototype.get=function(e,t){if(t)throw new Error("SortedArray#get does not support second argument: equals");var r=s(this.NT,e,this.Ac,this.ls);return-1!==r?this.NT[r]:this.ds(e)},i.prototype.add=function(e){var t=a(this.NT,e,this.Ac);return this.Mk&&this.QA([e],[],t),this.NT.splice(t,0,e),this.length++,this.Mk&&this.GA([e],[],t),!0},i.prototype.delete=function(e,t){if(t)throw new Error("SortedArray#delete does not support second argument: equals");var r=s(this.NT,e,this.Ac,this.ls);return-1!==r&&(this.Mk&&this.QA([],[e],r),this.NT.splice(r,1),this.length--,this.Mk&&this.GA([],[e],r),!0)},i.prototype.XA=function(e,t){if(t){var r=this.NT.XA(e,t);return this.length-=r,r}var i=s(this.NT,e,this.Ac,this.ls);if(-1!==i){for(var n=i;this.ls(e,this.NT[n]);)n++;var o=this.slice(i,n);return this.Mk&&this.QA([],o,i),this.NT.splice(i,o.length),this.length-=o.length,this.Mk&&this.GA([],o,i),o.length}return 0},i.prototype.indexOf=function(e){return s(this.NT,e,this.Ac,this.ls)},i.prototype.lastIndexOf=function(e){return o(this.NT,e,this.Ac,this.ls)},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedArray#find does not support second argument: equals");if(r)throw new Error("SortedArray#find does not support third argument: index");return s(this.NT,e,this.Ac,this.ls)},i.prototype.Lk=function(e,t,r){if(t)throw new Error("SortedArray#findLast does not support second argument: equals");if(r)throw new Error("SortedArray#findLast does not support third argument: index");return o(this.NT,e,this.Ac,this.ls)},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.pop=function(){var e=this.NT.pop();return this.length=this.NT.length,e},i.prototype.shift=function(){var e=this.NT.shift();return this.length=this.NT.length,e},i.prototype.slice=function(){return this.NT.slice.apply(this.NT,arguments)},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=this.slice(e,e+t);return this.Mk&&this.QA(r,i,e),this.NT.splice(e,t),this.length-=i.length,this.Mk&&this.GA([],i,e),this.addEach(r),i},i.prototype.reduce=function(e,t){var r=arguments[2];return this.NT.reduce(function(t,i,n){return e.call(r,t,i,n,this)},t,this)},i.prototype.reduceRight=function(){var e=arguments[2];return this.NT.reduceRight(function(t,r,i){return callback.call(e,t,r,i,this)},basis,this)},i.prototype.min=function(){if(this.length)return this.NT[0]},i.prototype.max=function(){if(this.length)return this.NT[this.length-1]},i.prototype.Bc=function(){return this.NT.Bc()},i.prototype.clear=function(){var e;this.Mk&&(e=this.NT.slice(),this.QA([],e,0)),this.length=0,this.NT.clear(),this.Mk&&this.GA([],e,0)},i.prototype.cs=function(e,t){return this.NT.cs(e,t)},i.prototype.Oc=function(e,t){return this.NT.Oc(e,t)},i.prototype.Hc=function(e,t){return new this.Iterator(this.NT,e,t)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.Iterator=Array.prototype.Iterator},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(84),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.Tx);t.oM=s},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(85),s=r(4),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.bx=function(e,t){if(DOMParser){var r=(new DOMParser).parseFromString(t,"text/xml"),i=r.getElementsByTagName("Location"),n="";if(i&&i.length>0&&i[0].childNodes.length>0){var s=i[0].childNodes[0];n=this.Ix(s.data)}else n=this.Ix(e);this.manifest=this.mx.parse(t,n)}},t.prototype.Ux=function(e){return e.substr(0,e.lastIndexOf("_cs"))},t.prototype.CM=function(e){return s.resolve(!1)},t}(n.$x);t.hM=o},function(e,t,r){/*!
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
var i=r(145),n=r(86);DashParser=function(){var e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,r=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,s=[{type:"duration",test:function(t){for(var r=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],i=r.length,n=0;n<i;n++)if(t.nodeName===r[n])return e.test(t.value);return!1},tq:function(t){var r=e.exec(t),i=31536e3*parseFloat(r[2]||0)+2592e3*parseFloat(r[4]||0)+86400*parseFloat(r[6]||0)+3600*parseFloat(r[8]||0)+60*parseFloat(r[10]||0)+parseFloat(r[12]||0);return void 0!==r[1]&&(i=-i),i}},{type:"datetime",test:function(e){return t.test(e.value)},tq:function(e){var r,i=t.exec(e);if(r=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&parseInt(i[6],10)||0,i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]){var n=60*parseInt(i[9],10)+parseInt(i[10],10);r+=("+"===i[8]?-1:1)*n*60*1e3}return new Date(r)}},{type:"numeric",test:function(e){return r.test(e.value)},tq:function(e){return parseFloat(e)}}],o=function(){var e,t,r,i;return i=[{name:"profiles",Py:!1},{name:"width",Py:!1},{name:"height",Py:!1},{name:"sar",Py:!1},{name:"frameRate",Py:!1},{name:"audioSamplingRate",Py:!1},{name:"mimeType",Py:!1},{name:"segmentProfiles",Py:!1},{name:"codecs",Py:!1},{name:"maximumSAPPeriod",Py:!1},{name:"startsWithSap",Py:!1},{name:"maxPlayoutRate",Py:!1},{name:"codingDependency",Py:!1},{name:"scanType",Py:!1},{name:"FramePacking",Py:!0},{name:"AudioChannelConfiguration",Py:!0},{name:"ContentProtection",Py:!0}],e={},e.name="AdaptationSet",e.wZ=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="Representation",t.wZ=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="SubRepresentation",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},a=function(){var e,t,r,i;return i=[{name:"SegmentBase",Py:!0},{name:"SegmentTemplate",Py:!0},{name:"SegmentList",Py:!0}],e={},e.name="Period",e.wZ=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="AdaptationSet",t.wZ=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="Representation",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},h=function(){var e,t,r,i,n;return n=[{name:"BaseURL",Py:!0,bZ:function(e,t){return 0===t.indexOf("http://")?t:e+t}}],e={},e.name="mpd",e.wZ=!0,e.isArray=!0,e.parent=null,e.children=[],e.properties=n,t={},t.name="Period",t.wZ=!1,t.isArray=!0,t.parent=null,t.children=[],t.properties=n,e.children.push(t),r={},r.name="AdaptationSet",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=n,t.children.push(r),i={},i.name="Representation",i.wZ=!1,i.isArray=!0,i.parent=r,i.children=[],i.properties=n,r.children.push(i),e},c=function(){var e=[];return e.push(o()),e.push(a()),e.push(h()),e};return{parse:function(e,t){var r,o=new n(s,"",!0),a=new i(c());new Date;try{r=o.Wx(e),new Date,r.hasOwnProperty("BaseURL")?(r.BaseURL=r.CZ[0],0!==r.BaseURL.toString().indexOf("http")&&(r.BaseURL=t+r.BaseURL)):r.BaseURL=t,r.hasOwnProperty("Location")&&(r.Location=r.Location_asArray[0]),a._Z(r),new Date}catch(t){return console.log("parsing the manifest failed","parse",e),null}return r}}}},function(e,t,r){var n=function(e){var t;for(t=[],i=0,len=e.length;i<len;i+=1)e[i].wZ?t.push("root"):t.push(e[i].name);var r=function(e,t){var r;if(null!==e&&null!==t)for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=e[r]))},n=function(e,t,i){var n,s,o,a,h;if(null!==e&&0!==e.length)for(n=0,s=e.length;n<s;n+=1)o=e[n],t.hasOwnProperty(o.name)&&(i.hasOwnProperty(o.name)?o.Py&&(a=t[o.name],h=i[o.name],"object"==typeof a&&"object"==typeof h?r(a,h):null!=o.bZ?i[o.name]=o.bZ(a,h):i[o.name]=a+h):i[o.name]=t[o.name])},s=function(e,t){var r,i,o,a,h,c,u,l=e;if(null!==l.children&&0!==l.children.length)for(r=0,i=l.children.length;r<i;r+=1)if(c=l.children[r],t.hasOwnProperty(c.name))if(c.isArray)for(h=t[c.name+"_asArray"],o=0,a=h.length;o<a;o+=1)u=h[o],n(l.properties,t,u),s(c,u);else u=t[c.name],n(l.properties,t,u),s(c,u)},o=function(r){var i,n,a,h,c,u,l;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,n=t.length;i<n;i+=1)"root"===t[i]&&(c=e[i],u=r,s(c,u));for(h in r)if(r.hasOwnProperty(h)){if(-1!==(a=t.indexOf(h)))if(c=e[a],c.isArray)for(l=r[h+"_asArray"],i=0,n=l.length;i<n;i+=1)u=l[i],s(c,u);else u=r[h],s(c,u);o(r[h])}return r};return{_Z:o}};e.i=n},function(e,t,r){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
"undefined"==typeof ISOBoxer&&(ISOBoxer={}),ISOBoxer.Qx=function(e){return new i(e).parse()},ISOBoxer.rc={},ISOBoxer.rc.PZ=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var i=[],n=0;if("utf-8"===r)for(;n<e.byteLength;){var s=e.getUint8(n++);s<128||(s<224?(s=(31&s)<<6,s|=63&e.getUint8(n++)):s<240?(s=(15&s)<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++)):(s=(7&s)<<18,s|=(63&e.getUint8(n++))<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++))),i.push(String.fromCharCode(s))}else for(;n<e.byteLength;)i.push(String.fromCharCode(e.getUint8(n++)));return i.join("")},t.Qx=ISOBoxer.Qx,t.rc=ISOBoxer.rc,ISOBoxer.AZ=function(e){this.offset=void 0===e?0:e};var i=function(e){this.OZ=new DataView(e),this.NZ=new ISOBoxer.AZ,this.DZ=[]};i.prototype.fetch=function(e){var t=this.kZ(e,!0);return t.length?t[0]:null},i.prototype.kZ=function(e,t){var r=[];return i.LZ.call(this,e,r,t),r},i.prototype.parse=function(){for(this.NZ.offset=0,this.DZ=[];this.NZ.offset<this.OZ.byteLength;){var e=n.parse(this);if(void 0===e.type)break;this.DZ.push(e)}return this},i.LZ=function(e,t,r){this.type&&this.type==e&&t.push(this);for(var n in this.DZ){if(t.length&&r)return;i.LZ.call(this.DZ[n],e,t,r)}};var n=function(){this.NZ=new ISOBoxer.AZ};n.parse=function(e){var t=new n;return t.MZ=e.NZ.offset,t.FZ=e.FZ?e.FZ:e,t.OZ=e.OZ,t.UZ=e,t.BZ(),e.NZ.offset=t.OZ.byteOffset+t.OZ.byteLength,t},n.prototype.HZ=function(e){var t=null;switch(e){case 8:t=this.OZ.getInt8(this.NZ.offset-this.OZ.byteOffset);break;case 16:t=this.OZ.getInt16(this.NZ.offset-this.OZ.byteOffset);break;case 32:t=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset);break;case 64:var r=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset+4);t=r*Math.pow(2,32)+i}return this.NZ.offset+=e>>3,t},n.prototype.xZ=function(e){var t=null;switch(e){case 8:t=this.OZ.getUint8(this.NZ.offset-this.OZ.byteOffset);break;case 16:t=this.OZ.getUint16(this.NZ.offset-this.OZ.byteOffset);break;case 24:var r=this.OZ.getUint16(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getUint8(this.NZ.offset-this.OZ.byteOffset+2);t=(r<<8)+i;break;case 32:t=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset);break;case 64:var r=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset+4);t=r*Math.pow(2,32)+i}return this.NZ.offset+=e>>3,t},n.prototype.qZ=function(e){for(var t="",r=0;r<e;r++){var i=this.xZ(8);t+=String.fromCharCode(i)}return t},n.prototype.GZ=function(){for(var e="";;){var t=this.xZ(8);if(0==t)break;e+=String.fromCharCode(t)}return e},n.prototype.VZ=function(e){return this.xZ(e/2)+this.xZ(e/2)/Math.pow(2,e/2)},n.prototype.BZ=function(){if(this.NZ.offset=this.MZ,this.MZ+8>this.OZ.buffer.byteLength)return void(this.FZ.jZ=!0);switch(this.size=this.xZ(32),this.type=this.qZ(4),1==this.size&&(this.QZ=this.xZ(64)),"uuid"==this.type&&(this.KZ=this.qZ(16)),this.size){case 0:this.OZ=new DataView(this.OZ.buffer,this.MZ,this.OZ.byteLength-this.NZ.offset);break;case 1:this.MZ+this.size>this.OZ.buffer.byteLength?(this.jZ=!0,this.FZ.jZ=!0):this.OZ=new DataView(this.OZ.buffer,this.MZ,this.QZ);break;default:this.MZ+this.size>this.OZ.buffer.byteLength?(this.jZ=!0,this.FZ.jZ=!0):this.OZ=new DataView(this.OZ.buffer,this.MZ,this.size)}!this.jZ&&this.YZ[this.type]&&this.YZ[this.type].call(this)},n.prototype.WZ=function(){this.version=this.xZ(8),this.zZ=this.xZ(24)},n.prototype.YZ={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){n.prototype.YZ[e]=function(){for(this.DZ=[];this.NZ.offset-this.OZ.byteOffset<this.OZ.byteLength;)this.DZ.push(n.parse(this))}}),n.prototype.YZ.JZ=function(){this.WZ(),this.XZ=this.xZ(32),this.entries=[];for(var e=1;e<=this.XZ;e++){var t={};1==this.version?(t.ZZ=this.xZ(64),t.$Z=this.HZ(64)):(t.ZZ=this.xZ(32),t.$Z=this.HZ(32)),t.e$=this.HZ(16),t.t$=this.HZ(16),this.entries.push(t)}},n.prototype.YZ.r$=function(){this.WZ(),this.i$=this.GZ(),this.value=this.GZ(),this.timescale=this.xZ(32),this.n$=this.xZ(32),this.s$=this.xZ(32),this.id=this.xZ(32),this.o$=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.a$=n.prototype.YZ.Mb=function(){this.data=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.h$=n.prototype.YZ.c$=function(){for(this.u$=this.qZ(4),this.l$=this.xZ(32),this.p$=[];this.NZ.offset-this.OZ.byteOffset<this.OZ.byteLength;)this.p$.push(this.qZ(4))},n.prototype.YZ.d$=function(){this.WZ(),this.f$=this.xZ(32),this.g$=this.qZ(4),this.YR=[this.xZ(32),this.xZ(32),this.xZ(32)],this.name=this.GZ()},n.prototype.YZ.E$=function(){this.data=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.v$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.timescale=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.timescale=this.xZ(32),this.duration=this.xZ(32));var e=this.xZ(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.f$=this.xZ(16)},n.prototype.YZ.m$=function(){this.WZ(),this.I$=this.xZ(32)},n.prototype.YZ.S$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.timescale=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.timescale=this.xZ(32),this.duration=this.xZ(32)),this.rate=this.VZ(32),this.volume=this.VZ(16),this.R$=this.xZ(16),this.w$=[this.xZ(32),this.xZ(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.VZ(32));this.f$=[];for(var e=0;e<6;e++)this.f$.push(this.xZ(32));this.b$=this.xZ(32)},n.prototype.YZ.C$=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this._$=ISOBoxer.rc.PZ(e)},n.prototype.YZ.P$=function(){this.WZ(),this.A$=this.xZ(32),this.timescale=this.xZ(32),0==this.version?(this.O$=this.xZ(32),this.N$=this.xZ(32)):(this.O$=this.xZ(64),this.N$=this.xZ(64)),this.YR=this.xZ(16),this.D$=this.xZ(16),this.k$=[];for(var e=0;e<this.D$;e++){var t={},r=this.xZ(32);t.L$=r>>31&1,t.M$=2147483647&r,t.F$=this.xZ(32);var i=this.xZ(32);t.U$=i>>31&1,t.B$=i>>28&7,t.H$=268435455&i,this.k$.push(t)}},n.prototype.YZ.x$=function(){this.WZ(),this.q$=this.xZ(32),this.G$=[];for(var e=0;e<this.q$;e++){var t={};t.V$=this.xZ(32),t.j$=[];for(var r=0;r<t.V$;r++){var i={};i.level=this.xZ(8),i.Q$=this.xZ(24),t.j$.push(i)}this.G$.push(t)}},n.prototype.YZ.K$=function(){this.WZ(),1==this.version?this.Y$=this.xZ(64):this.Y$=this.xZ(32)},n.prototype.YZ.tfhd=function(){this.WZ(),this.W$=this.xZ(32),1&this.zZ&&(this.z$=this.xZ(64)),2&this.zZ&&(this.J$=this.xZ(32)),8&this.zZ&&(this.default_sample_duration=this.xZ(32)),16&this.zZ&&(this.X$=this.xZ(32)),32&this.zZ&&(this.Z$=this.xZ(32))},n.prototype.YZ.$$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.W$=this.xZ(32),this.R$=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.W$=this.xZ(32),this.R$=this.xZ(32),this.duration=this.xZ(32)),this.w$=[this.xZ(32),this.xZ(32)],this.e0=this.xZ(16),this.t0=this.xZ(16),this.volume=this.VZ(16),this.r0=this.xZ(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.VZ(32));this.width=this.xZ(32),this.height=this.xZ(32)},n.prototype.YZ.trun=function(){this.WZ(),this.i0=this.xZ(32),1&this.zZ&&(this.n0=this.HZ(32)),4&this.zZ&&(this.s0=this.xZ(32)),this.Kx=[];for(var e=0;e<this.i0;e++){var t={};256&this.zZ&&(t.sample_duration=this.xZ(32)),512&this.zZ&&(t.o0=this.xZ(32)),1024&this.zZ&&(t.a0=this.xZ(32)),2048&this.zZ&&(0==this.version?t.h0=this.xZ(32):t.h0=this.HZ(32)),this.Kx.push(t)}},n.prototype.YZ.c0=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this.u0=ISOBoxer.rc.PZ(e)},n.prototype.YZ.l0=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this.config=ISOBoxer.rc.PZ(e)},n.prototype.YZ.p0=function(){}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t._x=i},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(1),o=r(2),a=function(){function e(e,t){this.name=e,this.iv=t}return e}(),h=function(){function e(e,t,r){this.loggerId="[DASH AES Manager] ",this.d0="AES-CBC",this.ll=!1,this.logger=n.Framework&&n.Framework.resolve(n.Framework.V.R)?n.Framework.resolve(n.Framework.V.R).log():console,this.f0=e,this.g0=t,this.logger.debug(this.loggerId+"Starting Dash AES Manager"),r&&(this.E0=r)}return e.prototype.init=function(){var e=this;try{this.v0();var t=i.defer();this.y0().then(function(){return t.resolve(!0)}).fail(function(r){s.ErrorMonitor.ve().logError("Error initializing key",e.loggerId,o.hs.Ur.Dr,r),t.resolve(!1)}),this.T0=t.Ss}catch(e){s.ErrorMonitor.ve().logError("Error initializing AES Manager",this.loggerId,o.hs.Ur.Nr,e)}},e.prototype.NM=function(){return this.T0?this.T0:i.resolve(!1)},e.prototype.y0=function(){var e=this;if(this.m0)return this.m0;var t=i.defer();return this.I0().then(function(r){window.crypto.subtle.importKey("raw",r,{name:e.d0},!1,["decrypt"]).then(function(e){t.resolve(e)},function(e){t.reject("error importing key: "+e.toString())})}).fail(function(e){return t.reject(e)}),this.m0=t.Ss,this.m0},e.prototype.v0=function(){for(var e=2,t=this.g0.length,r=[];e<t;e+=2)r.push(parseInt(this.g0.substr(e,2),16));this.iv=new Uint8Array(r)},e.prototype.decrypt=function(e){var t=this,r=i.defer(),n=new a(this.d0,this.iv);return this.m0.then(function(t){return window.crypto.subtle.decrypt(n,t,e).then(function(e){r.resolve(e)})}).catch(function(e){s.ErrorMonitor.ve().logError("Error decrypting arraybuffer",t.loggerId,o.hs.Ur.Lr,e),t.ll=!0,t.T0=i.resolve(!1),r.reject(e)}),r.Ss},e.prototype.I0=function(){var e=this,t=i.defer(),r=new XMLHttpRequest;return r.responseType="arraybuffer",r.open("GET",this.f0),this.E0&&r.setRequestHeader("Authorization",this.E0),r.onload=function(){if(200===r.status){var i=new Uint8Array(r.response);t.resolve(i)}else s.ErrorMonitor.ve().logError("Error downloading key",e.loggerId,o.hs.Ur.Mr,r.status),t.reject("error downloading key - status: "+r.status)},r.onerror=function(){s.ErrorMonitor.ve().logError("Error downloading key",e.logger,o.hs.Ur.Fr),t.reject("error downloading key")},r.send(),t.Ss},e.prototype.xx=function(){return this.ll},e}();t.qx=h},function(e,t,r){"use strict";var i=r(4),n=function(){function e(){}return e.prototype.init=function(){},e.prototype.NM=function(){return i.resolve(!1)},e.prototype.decrypt=function(e){return i.reject("unsupported")},e.prototype.xx=function(){return!1},e}();t.Gx=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(85),s=r(61),o=r(57),a=r(4),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.bx=function(e,t){this.manifest=this.mx.parse(t,this.Ix(e))},t.prototype.Ux=function(e){var t=e.substr(0,e.lastIndexOf("="));return t=t.substr(0,t.lastIndexOf("="))},t.prototype.CM=function(e){var t=this,r=a.defer(),i=this.gM(e.eg());if(!i||i.next)return r.resolve(!1),r.Ss;var h=a.defer();if(this.OM)o.DASH.XL?this.OM.NM().then(function(r){r?t.OM.decrypt(e.jf).then(function(e){h.resolve(t.jx(e))}).fail(function(e){return h.reject(!0)}):h.reject(!1)}):h.reject(!1);else try{var c=this.jx(e.jf);h.resolve(c)}catch(e){this.logger.warn("error extracting duration",e),h.reject(!0)}return h.Ss.then(function(e){if(!isNaN(e)){var o=i.id+e;t.logger.debug("found next fragment: "+i.id+" -> "+o+" duration: "+e),t.Sx.forEach(function(t,r){if(t.type===i.type){var a=t.Nx.replace(n.$x.Hx,i.id+""),h=t.Nx.replace(n.$x.Hx,o+""),c=t.kx.get(a);if(!t.kx.has(h)&&c){c.duration=e;var u=new s.DF(o,t.bandwidth,e,h,h);u.type=c.type,c.next=u,t.kx.set(h,u),t.Mx.set(o,u)}}})}r.resolve(!1)}).fail(function(i){t.logger.debug("could not extract duration from "+e.eg()+" [reevaluate: "+i+"]"),r.resolve(i)}),r.Ss},t}(n.$x);t.cM=h},function(e,t,r){"use strict";var i=r(1),n=r(152),s=r(3),o=r(153),a=r(61),h=r(0),c=r(7),u=r(87),l=r(2),p=function(){function e(){this.loggerId="[HLS METADATA] ",this.Aq=new s,this.S0=null,this.logger=(h.Framework.resolve(h.Framework.V.R)||console).log()}return e.prototype.parse=function(e,t){try{var r=new n.R0;if(r.push(t),r.manifest.playlists)this.w0(e,r.manifest);else{var s=this.b0(e,r.manifest);if(s&&s.C0&&(this.live=!s.C0._0),this.live){var o=this.P0(r.manifest,t);return this.logger.debug("HLS manifest trimmed "+o.A0+" segments ("+o.A0+"s) - new segments:["+s.O0.map(function(e){return e.id+":"+e.duration})+"]"),o.N0}}return t}catch(r){return i.ErrorMonitor.ve().logError("Error parsing metadata",this.loggerId,l.hs.yi.Wr,{detailedError:r,url:e}),t}},e.prototype.qM=function(e,t){if(this.Oq.has(t)){return this.Oq.get(t).Mx.get(e)}return null},e.prototype.lM=function(){return this.Aq.values().map(function(e){return e.bitrate})},e.prototype.isLive=function(){return this.live},e.prototype.gM=function(e){return null==this.kx?null:this.kx.get(e)},e.prototype.vM=function(e){try{var t=this.kx.get(e);if(t){var r=t.bitrate;return this.Oq.get(r).Mx.get(t.id+1)}return null}catch(t){return i.ErrorMonitor.ve().logError("Error getting the next segment info",this.loggerId,l.hs.yi.Xr,{detailedError:t,url:e}),null}},e.prototype._q=function(e){return this.Aq.has(e)},e.prototype.Pq=function(){return this.D0},e.prototype.w0=function(e,t){var r=this;this.D0=e,this.k0=t,this.Aq=new s,this.kx=new s,this.Oq=new s,this.k0.playlists.forEach(function(t){var i=c.rc.$h(e,t.uri),n=t.attributes.BANDWIDTH,s=new o.L0(n,t.uri,i);r.Aq.set(i,s),r.Oq.set(n,s)})},e.prototype.b0=function(e,t){var r=this;try{var n=this.Aq.get(e);if(!n)return void i.ErrorMonitor.ve().logError("Playlist url does not match any playlist in the master file",this.loggerId,l.hs.yi.fi,{url:e});var s=null!=t.mediaSequence?t.mediaSequence:0,o=[],h=s-1,u=n.Mx.get(h),p=[];return t.Nq.forEach(function(t){var h=c.rc.$h(e,t.uri),l=Math.round(1e3*t.duration),d=n.bitrate;Number.isInteger(d)||(i.ErrorMonitor.ve().logError("Segment Bitrate is a Float",{bitrate:d}),d=Math.round(d));var f=new a.DF(s,d,l,t.uri,h);r.kx.has(h)||p.push(f),r.kx.set(h,f),n.Mx.set(s,f),o.push(f),u&&(u.next=f),u=f,s++}),this.S0=n,n.update(t.mediaSequence,t.discontinuitySequence,t._0,t.M0,o),{C0:n,O0:p}}catch(e){return i.ErrorMonitor.ve().logError("Error updating the playlist",this.loggerId,l.hs.yi.Ei,e),null}},e.prototype.P0=function(e,t){try{for(var r=t.split("\n"),n=Math.max(1,u.bq.vq),s=null,o=0,a=0,h=e.Nq.length-1;h>n-1&&(s=e.Nq[h],!(o>=u.bq.Eq));h--)a++,o+=s.duration;for(var c="",h=0;h<r.length&&(c=c+r[h]+"\n",r[h].trim()!==s.uri);h++);return this.logger.debug("HLS trimmed "+a+" segments for total duration: "+o),{N0:c,A0:a,F0:o}}catch(e){throw i.ErrorMonitor.ve().logError("Error trimming the playlist",this.loggerId,l.hs.yi.vi,e),new Error(e)}},e}();t.wq=p},function(e,t,r){var i=function(){var e={};e.MT={},e.MT.create=Object.create||function(e){function t(){}return t.prototype=e,new t},e.MT.U0=function(e,t,r){for(var i in e)hasOwnProp.call(e,i)&&t.call(r||this,i,e[i])},e.MT.Py=function(e,t){if(!t)return e;for(var r in t)hasOwnProp.call(t,r)&&(e[r]=t[r]);return e},e.MT.B0=function(t,r){var i,n,s;t=e.MT.cA(t);for(i in r)hasOwnProp.call(r,i)&&(n=t[i],s=r[i],e.MT.H0(n)&&e.MT.H0(s)?t[i]=e.MT.B0(n,s):t[i]=r[i]);return t},e.MT.cA=function(t){return e.MT.Py({},t)},e.MT.H0=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},e.MT.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},mergeOptions=function(t,r){var i,n,s;t=e.MT.cA(t);for(i in r)r.hasOwnProperty(i)&&(n=t[i],s=r[i],e.MT.H0(n)&&e.MT.H0(s)?t[i]=e.util.x0(n,s):t[i]=r[i]);return t},e.x0=mergeOptions;var t=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t].push(r)},this.off=function(t,r){var i;return!!e[t]&&(i=e[t].indexOf(r),e[t].splice(i,1),i>-1)},this.q0=function(t){var r,i,n,s;if(r=e[t])for(s=Array.prototype.slice.call(arguments,1),n=r.length,i=0;i<n;++i)r[i].apply(this,s)},this.G0=function(){e={}}}};t.prototype.V0=function(e){this.on("data",function(t){e.push(t)})},e.j0=t;var r,i,n,s=function(){},o=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}(),a=function(e){for(var t,r=e.split(o),i=r.length,n={};i--;)""!==r[i]&&(t=/([^=]*)=(.*)/.exec(r[i]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},t=e.j0;return r=function(){var e="";r.prototype.init.call(this),this.push=function(t){var r;for(e+=t,r=e.indexOf("\n");r>-1;r=e.indexOf("\n"))this.q0("data",e.substring(0,r)),e=e.substring(r+1)}},r.prototype=new t,i=function(){i.prototype.init.call(this)},i.prototype=new t,i.prototype.push=function(e){var t,r;if(e=e.replace(/^\s+|\s+$/g,""),0!==e.length){if("#"!==e[0])return void this.q0("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.q0("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.q0("data",{type:"tag",Q0:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",Q0:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.q0("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Q0:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Q0:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",Q0:"playlist-type"},t[1]&&(r.K0=t[1]),void this.q0("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.q0("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",Q0:"allow-cache"},t[1]&&(r.XD=!/NO/.test(t[1])),void this.q0("data",r);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return r={type:"tag",Q0:"stream-inf"},t[1]&&(r.attributes=a(t[1]),r.attributes.Y0&&function(){var e=r.attributes.Y0.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),r.attributes.Y0=t}(),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["W0"]&&(r.attributes["W0"]=parseInt(r.attributes["W0"],10))),void this.q0("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.q0("data",{type:"tag",Q0:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.q0("data",{type:"tag",Q0:"discontinuity"});if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",Q0:"key"},t[1]&&(r.attributes=a(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2)&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.q0("data",r);this.q0("data",{type:"tag",data:e.slice(4,e.length)})}},n=function(){var t,o=this,a=[],h={};n.prototype.init.call(this),this.z0=new r,this.J0=new i,this.z0.V0(this.J0),this.manifest={X0:!0},this.J0.on("data",function(r){({tag:function(){(({"allow-cache":function(){this.manifest.X0=r.XD,"allowed"in r||(this.q0("info",{message:"defaulting allowCache to YES"}),this.manifest.X0=!0)},byterange:function(){var e={};"length"in r&&(h.byterange=e,e.length=r.length,"offset"in r||(this.q0("info",{message:"defaulting offset to zero"}),r.offset=0)),"offset"in r&&(h.byterange=e,e.offset=r.offset)},endlist:function(){this.manifest._0=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.q0("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.q0("info",{message:"defaulting discontinuity sequence to zero"})),r.duration>=0&&(h.duration=r.duration),this.manifest.Nq=a},key:function(){return r.attributes?"NONE"===r.attributes.Z0?void(t=null):r.attributes.lR?(r.attributes.Z0||this.q0("warn",{message:"defaulting key method to AES-128"}),t={method:r.attributes.Z0||"AES-128",uri:r.attributes.lR},void(void 0!==r.attributes.IV&&(t.iv=r.attributes.IV))):void this.q0("warn",{message:"ignoring key declaration without URI"}):void this.q0("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(r.number))return void this.q0("warn",{message:"ignoring invalid media sequence: "+r.number});this.manifest.mediaSequence=r.number},"discontinuity-sequence":function(){if(!isFinite(r.number))return void this.q0("warn",{message:"ignoring invalid discontinuity sequence: "+r.number});this.manifest.discontinuitySequence=r.number},"playlist-type":function(){if(!/VOD|EVENT/.test(r.K0))return void this.q0("warn",{message:"ignoring unknown playlist type: "+r.C0});this.manifest.K0=r.K0},"stream-inf":function(){if(this.manifest.playlists=a,!r.attributes)return void this.q0("warn",{message:"ignoring empty stream-inf attributes"});h.attributes||(h.attributes={}),h.attributes=e.x0(h.attributes,r.attributes)},discontinuity:function(){h.discontinuity=!0},targetduration:function(){if(!isFinite(r.duration)||r.duration<0)return void this.q0("warn",{message:"ignoring invalid target duration: "+r.duration});this.manifest.M0=r.duration},totalduration:function(){if(!isFinite(r.duration)||r.duration<0)return void this.q0("warn",{message:"ignoring invalid total duration: "+r.duration});this.manifest.$0=r.duration}})[r.Q0]||s).call(o)},uri:function(){h.uri=r.uri,a.push(h),!this.manifest.M0||"duration"in h||(this.q0("warn",{message:"defaulting segment duration to the target duration"}),h.duration=this.manifest.M0),t&&(h.key=t),h={}},e1:function(){}})[r.type].call(o)})},n.prototype=new t,n.prototype.push=function(e){this.z0.push(e)},n.prototype.end=function(){this.z0.push("\n")},e.t1=r,e.i1=i,e.R0=n,e}();e.i=i},function(e,t,r){"use strict";var i=r(3),n=function(){function e(e,t,r){this.Mx=new i,this.bitrate=e,this.uri=t,this.yM=r}return e.prototype.update=function(e,t,r,i,n){this.mediaSequence=e,this.discontinuitySequence=t,this._0=r,this.M0=i,this.Nq=n,this.updated=!0},e}();t.L0=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(84),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.Tx);t.Sq=s},function(e,t,r){"use strict";var i=r(15),n=r(0),s=r(5),o=r(4),a=r(6),h=r(2),c=r(1),u=a.he.vh,l=function(){function e(){this.loggerId="[CACHE] ",this.logger=n.Framework.resolve(n.Framework.V.R).log(),this.n1=n.Framework.resolve(i.qu.Tu),u&&s.hh.Ra.Ia&&(this.s1=n.Framework.resolve(i.qu.mu))}return e.prototype.init=function(e,t){try{this.n1.init(e,t),u&&s.hh.Ra.Ia&&this.s1.init(e,t)}catch(e){c.ErrorMonitor.ve().logError("Error initializing cache",this.loggerId,h.hs.ht.rt,e)}},e.prototype.put=function(e){var t=this,r=o.defer(),i=!1;try{!e.Wf.isLive()&&u&&s.hh.Ra.Ia?this.s1.put(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):this.n1.put(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error adding new fragment in cache",this.loggerId,h.hs.ht.it,e),r.resolve(i)}return r.Ss},e.prototype.get=function(e){var t=this,r=o.defer(),i=null;try{this.contains(e).then(function(n){n?t.n1.get(e).then(function(r){null==r&&u&&s.hh.Ra.Ia?t.s1.get(e).then(function(e){i=e}):i=r}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):r.resolve(i)}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error getting the fragment from cache",this.loggerId,h.hs.ht.nt,e),r.resolve(i)}return r.Ss},e.prototype.contains=function(e){var t=this,r=o.defer(),i=!1;try{this.n1.contains(e).then(function(r){!i&&u&&s.hh.Ra.Ia?t.s1.contains(e).then(function(e){i=e}):i=r}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error checking if cache contains the fragment",this.loggerId,h.hs.ht.st,e),r.resolve(!1)}return r.Ss},e.prototype.ik=function(e){try{return!e&&u&&s.hh.Ra.Ia?this.s1.ik(e):this.n1.ik(e)}catch(e){return c.ErrorMonitor.ve().logError("Error getting the keys from cache",this.loggerId,h.hs.ht.ot,e),[]}},e.prototype.Vq=function(e){var t=this,r=o.defer(),i=[];try{!e&&u&&s.hh.Ra.Ia?this.s1.Vq(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):this.n1.Vq(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error getting the elements from cache ",this.loggerId,h.hs.ht.at,e),r.resolve(i)}return r.Ss},e.prototype.Qq=function(){this.n1.Qq()},e}();t.Ra=l},function(e,t,r){"use strict";var i=r(3),n=r(24),s=r(7),o=r(5),a=r(0),h=r(9),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[FallbackRequester] ",this.o1=new i,this.Lh=new s.rc.Vh}return e.prototype.init=function(e){this.logger=a.Framework.resolve(a.Framework.V.R).log(e.sessionId),this.a1=e.ED},e.prototype.request=function(e){var t=this,r=a.Framework.resolve(a.Framework.V.H),i=!1,n=e.$f(),l=e.Kf,p=e.eg();e.xhr=r,e.qf.Ff=a.Framework.time(),this.logger.debug("FRL ISSUE REQ FOR FRAGMENT "+e.zf.toString()+"-"+e.qf.Af+" ["+h.vc[e.Xf()]+"] TO FALLBACK "),e.zf.O_()&&(r.responseType="arraybuffer"),this.h1(e.type)&&l.range&&e.Xf()!=h.vc.gc&&r.setRequestHeader("Range","bytes="+l.range),o.hh.K.Na&&this.c1(e.type)&&0!=e.qf.Af&&(this.logger.info("SET RANGE bytes="+e.qf.Af+"-"),r.setRequestHeader("Range","bytes="+e.qf.Af+"-")),l.lU.forEach(function(e){"range"!==e.key.toLowerCase()&&r.setRequestHeader(e.key,e.value)}),l.async&&l.timeout>0&&(r.timeout=l.timeout),l.mimeType&&r.overrideMimeType(l.mimeType),l.withCredentials&&(r.withCredentials=l.withCredentials),r.onloadstart=function(e){var t=s.rc.createEvent(Event,"loadstart",e,l);l.dispatchEvent(t)},r.onabort=function(e){if(!i){var t=s.rc.createEvent(Event,"abort",e,l);l.dispatchEvent(t)}},r.ontimeout=function(r){if(!i){t.error(e,n);var o=s.rc.createEvent(ProgressEvent,"timeout",r,l);l.dispatchEvent(o),c.ErrorMonitor.ve().logError("Error on fallback request because of timeout",t.loggerId,u.hs.Kn.Qn)}},r.onreadystatechange=function(e){if(l&&(r.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(l.responseHeaders=r.getAllResponseHeaders()),r.readyState<XMLHttpRequest.DONE||r.readyState===XMLHttpRequest.DONE&&0===r.status)){l.readyState=r.readyState;var t=s.rc.createEvent(Event,"readystatechange",e,l);l.dispatchEvent(t)}},r.onprogress=function(i){if(!t.c1(e.type)){var n=s.rc.createEvent(ProgressEvent,"progress",i,l);l.dispatchEvent(n),r.total=i.total}e.qf.Df=i.total},r.onload=function(h){if(i=!0,l.status=r.status,h&&0!=h.total&&(e.qf.Df=h.total),e.responseHeaders=r.getAllResponseHeaders(),r.status<200||r.status>299)return t.logger.debug("FRL SERVER RETURNED ERROR CODE "+r.status),void t.error(e,n);e.zf.O_()?t.h1(e.type)?e.jf=r.response:t.c1(e.type)&&(o.hh.K.Na?e.jf=a.Framework.C()?null:s.rc.appendBuffer(e.jf,r.response):e.jf=r.response):e.RM=r.responseText,e.loaded(),t.o1.delete(n),e.qf.Uf=a.Framework.time(),t.u1(e),t.l1(e),t.a1.iZ(e),r=null},r.onerror=function(){i||t.error(e,n)},this.o1.set(n,e),r.open("GET",p,l.async,l.username,l.password),r.send()},e.prototype.error=function(e,t){var r="COULD NOT DOWNLOAD "+e.eg()+" status: "+e.xhr.status;e.type==n.bf.If?this.logger.debug(r):this.logger.warn(r),this.d1(e),this.o1.delete(t),this.a1.eZ(e)},e.prototype.Ys=function(e){return this.o1.has(e)},e.prototype.h1=function(e){return e==n.bf.If||e==n.bf.mf||e==n.bf.Tf},e.prototype.c1=function(e){return e==n.bf.Sf},e.prototype.qX=function(e){var t=this.o1.get(e);this.o1.delete(e),t&&t.xhr&&t.xhr.abort()},e.prototype.l1=function(e){this.logger.info("SUCCESS FROM FALLBACK FOR "+e.eg()+" ["+n.bf[e.type]+"]["+e.qf.Df+"] AFTER "+e.sg()+" [curr:"+e.ag().Gh()+" avg:"+this.Lh.Gh()+"]")},e.prototype.d1=function(e){},e.prototype.WX=function(){return this.Lh},e.prototype.u1=function(e){e.Xf()===h.vc.fc&&this.Lh.Uh(e.ag())},e}();t.RJ=l},function(e,t,r){"use strict";var i=r(4);r(60);var n=r(0),s=r(5),o=r(15),a=r(49),h=r(58),c=r(10),u=r(91),l=hive.services.protocol.IF.CustomerKey,p=r(8),d=r(14),f=r(6),g=r(1),E=r(2),v=f.he.Th,y=function(){function e(){this.f1=isNaN(d.HiveConfig.DebugLogs.TrackerLogs)?0:d.HiveConfig.DebugLogs.TrackerLogs,this.loggerId="[TRACKER] ",this.ZU=0,this.g1=0,this.E1=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{0,4}){5})/,this.v1=!0,this.Ng=n.Framework.resolve(n.Framework.V.F),this.ud=n.Framework.resolve(p.pc.sc),this.yX=n.Framework.resolve(o.qu.Mu)}return e.prototype.init=function(e){this.logger=n.Framework.resolve(n.Framework.V.R).log(e.sessionId),this.sessionId=e.sessionId,this.xJ=e.xJ,this.yD=e.yD,this.zM=e.zM,this.T1=e.mD,this.yX.m1(e.sessionId,this),this.I1=u.Xq.Jq},e.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.context=e,this.streamId=e.dJ.getContextId(),this.ticket=e.dJ.Sk(),this.vl=t},e.prototype.S1=function(e){this.R1=e},e.prototype.uX=function(){var e=this;this.nX(),this.w1=n.Framework.setInterval(function(){e.b1()},s.hh.zo.Yo),this.b1()},e.prototype.nX=function(){this.w1&&n.Framework.clearInterval(this.w1)},e.prototype.C1=function(){var e=this,t=i.defer(),r=new hive.services.protocol.IF.TrackerRequest,n=this.context.dJ,s=n.isLive()?StreamType.LIVE:StreamType.kK;r.sessionId=this.sessionId;var o=new l;return this.R1?(o.partnerId=this.R1.partnerId,o.customerId=this.R1.customerId):d.HiveConfig.ClientInfo.cu&&d.HiveConfig.ClientInfo.uu?(o.partnerId=d.HiveConfig.ClientInfo.cu,o.customerId=d.HiveConfig.ClientInfo.uu):(o.partnerId=this.ticket.up(),o.customerId=this.ticket.cp()),r.customerKey=o,r.streamType=s,r.contentId=this.yD.getContextId(),this.ud.getConnectivityInfo().then(function(t){e._1=t.getNetworkChanged().getPrivateIp(),e.yD.DH(e._1)}).fail(function(t){g.ErrorMonitor.ve().logError("Error getting connectivity info",e.loggerId,E.hs.Li._i)}).finally(function(){try{var i=new hive.snapshots.ConnectivityInfo;i.publicIp=e.IB,i.privateIp=e._1,r.info=e.P1(i,n),r.query=e.A1(n,r.info),t.resolve(r)}catch(r){g.ErrorMonitor.ve().logError("Error collecting the data for the tracker request",e.loggerId,E.hs.Li.Pi,r),t.reject("ERROR")}}).done(),t.Ss},e.prototype.O1=function(){var e=new Array;return this.I1==u.Xq.Jq?e.push(hive.services.protocol.IF.SF.RF):this.I1==u.Xq.AS?e.push(hive.services.protocol.IF.SF.bF):this.I1==u.Xq.nD?e.push(hive.services.protocol.IF.SF.wF):this.logger.warn("Wrong locality mode"),e},e.prototype.A1=function(e,t){var r=this,i=new hive.services.protocol.IF.TrackerQuery;try{return i.random=s.hh.Ja.Ka,t.externalAs&&!this.ZU&&(this.ZU=t.externalAs),t.internalAs&&!this.g1&&(this.g1=t.internalAs),i.rankings=this.O1(),i.asns=[],this.ZU>0&&this.N1(i.asns,hive.services.protocol.IF.CF.External,this.ZU,s.hh.Ja.Ya),this.g1>0&&(this.N1(i.asns,hive.services.protocol.IF.CF._F,this.g1,s.hh.Ja.Wa),i.watchers=[],e.lM().forEach(function(e){var t=r.D1(hive.services.protocol.IF.CF._F,r.g1,e,-1);i.watchers.push({key:t,value:1})}),i.streamers=[],this.yD.Uj().forEach(function(e,t){var n=r.D1(hive.services.protocol.IF.CF._F,r.g1,t,e.type==a.sD.nD?hive.services.protocol.IF.wc.Sc:-1);i.streamers.push({key:n,value:s.hh.Ja.za})})),i}catch(e){throw g.ErrorMonitor.ve().logError("Error preparing tracker query",this.loggerId,E.hs.Li.Ai,e),new Error(e)}},e.prototype.D1=function(e,t,r,i){var n=new hive.services.protocol.IF.TrackerBitrateQuery,s=new hive.services.protocol.IF.TrackerAsQuery;return s.asType=e,s.asn=t,n.bitrate=r,n.asn=s,-1!=i&&n.streamState,n},e.prototype.N1=function(e,t,r,i){var n=new hive.services.protocol.IF.TrackerAsQuery;n.asType=t,n.asn=r,e.push({key:n,value:i})},e.prototype.P1=function(e,t){var r=new hive.services.protocol.IF.TrackerPeerInfo;try{if(n.Framework.C()?r.guid=this.gd:r.guid=btoa(this.gd),r.timestamp=n.Framework.time(),r.nat=void 0,this.yD.Fj()&&(r.externalAs=this.yD.Fj()),this.yD.gk()&&(r.internalAs=this.yD.gk()),null!=e){r.publicIpString=e.publicIp;var i=new InetAddress;i.address=e.publicIp,r.publicIp=i,r.privateIpString=e.privateIp;var s=new InetAddress;s.address=e.privateIp,r.privateIp=s}if(!this.yD.ck()&&this.yD.yk()&&v?r.rankValue=1:r.rankValue=this.yD.L1(),this.context.dJ instanceof h.GM){r.streams=new Array;var o=t.PD();null!=o&&(r.watchingBitrate=o.bitrate);var c=t.JM();this.yD.Uj().forEach(function(e,t){if(e.b_){var i=new hive.services.protocol.IF.TrackerPeerStreamInfo;switch(i.bitrate=t,e.type){case a.sD.mc:i.state=hive.services.protocol.IF.wc.Ic;break;case a.sD.iD:i.state=hive.services.protocol.IF.wc.Rc;break;case a.sD.nD:i.state=hive.services.protocol.IF.wc.Sc}i.delta=c.KD(e.b_.A_(),t),r.streams.push(i)}})}return r}catch(e){throw g.ErrorMonitor.ve().logError("Error preparing tracker info",this.loggerId,E.hs.Li.Ni,e),new Error(e)}},e.prototype.b1=function(){var e=this;this.logger.debug(this.loggerId+" PREPARE REQUEST"),this.C1().then(function(t){var r=e.loggerId+"SENDING TRACKER REQUEST [ privateIp:"+t.info.privateIpString+" rank:"+t.info.rankValue+"]";switch(e.f1){case 0:default:e.logger.debug(r);break;case 1:e.logger.debug(r+" "+JSON.stringify(t));break;case 2:e.logger.debug(r,t);break;case 3:e.logger.debug(r+" "+JSON.stringify(t),t)}e.yX.M1(t)},function(t){g.ErrorMonitor.ve().logError("Error preparing the tracker request",e.loggerId,E.hs.Li.Ci)}).catch(function(t){g.ErrorMonitor.ve().logError("Error sending tracker request",e.loggerId,E.hs.Li.Di,t)})},e.prototype.F1=function(e){this.I1=e},e.prototype.KX=function(e){var t=this;try{switch(this.f1){case 1:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: "+JSON.stringify(e));break;case 2:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: ",e);break;case 3:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: "+JSON.stringify(e),e)}this.ZU=e.peerInfo.externalAs,this.g1=e.peerInfo.internalAs,this.IB=e.peerInfo.publicIpString,this._1=e.peerInfo.privateIpString,this.yD._H(this.IB),this.yD.U1(this.g1),this.yD.B1(this.ZU),this.ud.bH(this.IB,this._1,this.g1),this.logger.debug(this.loggerId+"Reporting from tracker public IP:"+this.IB+" private IP: "+this._1+" ExtAs:"+this.ZU+" inAs:"+this.g1),!this.yD.ck()&&this.yD.yk()&&v?this.T1.MG(!1):this.T1.H1(e.rankings,e.infos);var r=this.q1(e);this.vl.forEach(function(e){return e.gG(r,t.v1)}),this.v1=!1}catch(e){g.ErrorMonitor.ve().logError("Error handling the response",this.loggerId,E.hs.Li.ki,e)}},e.prototype.q1=function(e){for(var t=[],r=0,i=e.infos;r<i.length;r++){var n=i[r],s=new c.bc(c.Tc.yc,n);t.push(s)}return t},e.prototype.KG=function(e){},e.prototype.Ud=function(e){this.gd=e,this.logger.info(this.loggerId+"CONNECTED "+this.gd),this.T1.G1(),this.uX()},e.prototype.ej=function(){},e}();t.bJ=y},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(7),o=r(1),a=r(2),h=function(){function e(e,t){this.id=e,this.size=t}return e}(),c=function(){function e(){this.loggerId="[ObjectIndex] ",this.V1=new i,this.j1=new i,this.logger=n.Framework.resolve(n.Framework.V.R).log()}return e.prototype.put=function(e,t){try{var r=e.fragmentId,i=e.size;e.bitrate;this.V1.has(r)||(this.V1.set(r,new h(r,i)),this.j1.set(r,new Array)),this.j1.get(r).push(t)}catch(e){throw o.ErrorMonitor.ve().logError("Error adding new have in object index",this.loggerId,a.hs.Xn.zn,e),new Error(e)}},e.prototype.contains=function(e){return this.j1.has(e)},e.prototype.fk=function(e){return this.j1.get(e)},e.prototype.Q1=function(e){return this.V1.get(e)},e.prototype.Gj=function(e){var t=this;try{this.j1.forEach(function(r,i){s.rc.Kh(r,e,!1),0===r.length&&(t.j1.delete(i),t.V1.delete(i))})}catch(e){o.ErrorMonitor.ve().logError("Error removing haves send from a specific peer",this.loggerId,a.hs.Xn.Jn,e)}},e.prototype.Kq=function(){var e=this;this.j1.forEach(function(t,r){e.logger.debug("OBJIDX FR "+r+" PS "+t.map(function(e){return e.wj.yg.otherGuid}).reduce(function(e,t){return e+","+t}))})},e}();t.AJ=c},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=r(7),a=r(10),h=r(160),c=r(47),u=r(92),l=r(6),p=r(1),d=r(2),f=l.he.Th,g=function(){function e(){this.loggerId="[Membership] ",this.gd=null,this.K1=new i,this.kj=new i}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.TD=e.TD,this.yD=e.yD,this.Y1=e.YM,(f||s.Framework.C()&&c.$N.XN)&&(this.QJ=e.QJ),this.start()},e.prototype.start=function(){this.W1=!0},e.prototype.stop=function(){this.W1=!1},e.prototype.gG=function(e,t){var r=this;try{if(this.W1){var i=[];e.forEach(function(e){var t=null;r.z1(),e.guid!=r.gd&&(e.type==a.Tc.yc?t=r.J1(e):f||s.Framework.C()&&c.$N.XN?(t=r.X1(e),r.QJ.aG(e).then(function(){r.TD.tj(r.kj.get(e.guid))}).fail(function(t){t&&t!=u.JG.EG&&(r.kj.delete(e.guid),p.ErrorMonitor.ve().logError("Error electing lan leader",r.loggerId,d.hs.yt.dt))})):t=r.X1(e)),t&&i.push(t.peerInfo.guid)}),this.SL(),t&&this.TD.hj(t),i.length>0&&this.logger.debug("DISCOVERED NEW "+i.length+"/"+e.length+": ["+i.join(", ")+"]")}}catch(e){p.ErrorMonitor.ve().logError("Error discovering peers",this.loggerId,d.hs.yt.pt,e)}},e.prototype.SL=function(){var e=this.K1.length+this.kj.length;this.Y1.Z1(e)},e.prototype.z1=function(){try{this.K1.length>=n.hh.Qa.Va&&this.e2(this.K1),this.kj.length>=n.hh.Qa.ja&&this.e2(this.kj)}catch(e){p.ErrorMonitor.ve().logError("Error clearing membership views",this.loggerId,d.hs.yt.ft,e)}},e.prototype.e2=function(e){var t=e.keys()[s.Framework.random()*this.K1.length];e.delete(t)},e.prototype.X1=function(e){var t=null;try{if(this.K1.has(e.guid)?(t=this.K1.get(e.guid),this.K1.delete(e.guid),this.kj.set(e.guid,t)):this.kj.has(e.guid)&&(t=this.kj.get(e.guid)),!t)return t=new h.t2(e),this.kj.set(e.guid,t),t;t.S1(e)}catch(e){return p.ErrorMonitor.ve().logError("Error adding peer to lan view",this.loggerId,d.hs.yt.gt,e),null}},e.prototype.J1=function(e){var t=null;try{if(this.kj.has(e.guid))this.X1(e);else{if(!this.K1.has(e.guid))return t=new h.t2(e),this.K1.set(e.guid,t),t;t=this.K1.get(e.guid),t.S1(e)}}catch(e){return p.ErrorMonitor.ve().logError("Error adding peer to random view",this.loggerId,d.hs.yt.Et,e),null}},e.prototype.cj=function(e,t){var r=[];try{return this.W1&&(f||s.Framework.C()&&c.$N.XN?r=o.rc.zh(this.K1.values()):(r=this.K1.values(),this.kj.forEach(function(e,t){r.push(e)}),r=o.rc.zh(r))),e?r:t?r.slice(0,t):r.slice(0,2*n.hh.No._o)}catch(e){return p.ErrorMonitor.ve().logError("Error sampling membership",this.loggerId,d.hs.yt.vt,e),[]}},e.prototype.Oj=function(e){return this.K1.has(e)?this.K1.get(e):this.kj.has(e)?this.kj.get(e):null},e.prototype.Ud=function(e){this.logger.info("MEMBERSHIP SERVER CONNECTED"),this.gd=e,this.yD.setId(this.gd)},e.prototype.ej=function(){},e.prototype.KG=function(e){this.logger.debug("Peer "+e+" disconnected"),this.K1.delete(e),this.kj.delete(e),this.SL()},e}();t.Qa=g},function(e,t,r){"use strict";var i=r(10),n=function(){function e(e){this.peerInfo=e}return e.prototype.Ij=function(){return this.peerInfo.type===i.Tc.W},e.prototype.S1=function(e){this.peerInfo.type==i.Tc.yc&&e.type==i.Tc.W?this.peerInfo.type=i.Tc.W:this.peerInfo.type==i.Tc.yc&&e.type==i.Tc.yc||this.peerInfo.type==i.Tc.W&&e.type==i.Tc.W?this.i2(this.peerInfo,e):this.peerInfo.type==i.Tc.W&&e.type==i.Tc.yc&&(this.i2(this.peerInfo,e),this.peerInfo.type=i.Tc.W)},e.prototype.zj=function(e){this.peerInfo.watchingBitrate=e},e.prototype.i2=function(e,t){e.internalAs=this.n2(e.internalAs,t.internalAs),e.externalAs=this.n2(e.externalAs,t.externalAs),e.nat=this.n2(e.nat,t.nat),e.bandwidth=this.n2(e.bandwidth,t.bandwidth),e.watchingBitrate=this.n2(e.watchingBitrate,t.watchingBitrate),e.privateIpString=this.n2(e.privateIpString,t.privateIpString),e.publicIpString=this.n2(e.publicIpString,t.publicIpString),e.rankValue=this.n2(e.rankValue,t.rankValue),e.timestamp=this.n2(e.timestamp,t.timestamp),t.isLeader&&(e.isLeader=this.n2(e.isLeader,t.isLeader)),t.streams&&(e.streams=t.streams)},e.prototype.n2=function(e,t){return e?t&&e!=t&&(e=t):t&&(e=t),e},e}();t.t2=n},function(e,t,r){(function(e){var i,n,s;/**
 * @license ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ProtoBuf.js for details
 */
!function(o){"use strict";function a(e){var t={};return t.s2=e,t.q_=e.q_||null,t.VERSION="4.0.0-b3",t.o2={},t.o2.a2=0,t.o2.h2=1,t.o2.c2=2,t.o2.u2=3,t.o2.l2=4,t.o2.d2=5,t.f2=[t.o2.a2,t.o2.h2,t.o2.d2],t.g2={int32:{name:"int32",E2:t.o2.a2,defaultValue:0},uint32:{name:"uint32",E2:t.o2.a2,defaultValue:0},sint32:{name:"sint32",E2:t.o2.a2,defaultValue:0},int64:{name:"int64",E2:t.o2.a2,defaultValue:t.q_?t.q_.ZERO:void 0},uint64:{name:"uint64",E2:t.o2.a2,defaultValue:t.q_?t.q_.tV:void 0},sint64:{name:"sint64",E2:t.o2.a2,defaultValue:t.q_?t.q_.ZERO:void 0},bool:{name:"bool",E2:t.o2.a2,defaultValue:!1},double:{name:"double",E2:t.o2.h2,defaultValue:0},string:{name:"string",E2:t.o2.c2,defaultValue:""},bytes:{name:"bytes",E2:t.o2.c2,defaultValue:null},fixed32:{name:"fixed32",E2:t.o2.d2,defaultValue:0},sfixed32:{name:"sfixed32",E2:t.o2.d2,defaultValue:0},fixed64:{name:"fixed64",E2:t.o2.h2,defaultValue:t.q_?t.q_.tV:void 0},sfixed64:{name:"sfixed64",E2:t.o2.h2,defaultValue:t.q_?t.q_.ZERO:void 0},float:{name:"float",E2:t.o2.d2,defaultValue:0},enum:{name:"enum",E2:t.o2.a2,defaultValue:0},message:{name:"message",E2:t.o2.c2,defaultValue:null},group:{name:"group",E2:t.o2.u2,defaultValue:null}},t.v2=[t.g2.int32,t.g2.sint32,t.g2.sfixed32,t.g2.uint32,t.g2.fixed32,t.g2.int64,t.g2.sint64,t.g2.sfixed64,t.g2.uint64,t.g2.fixed64,t.g2.bool,t.g2.string,t.g2.bytes],t.T2=1,t.m2=536870911,t.I2=!1,t.S2=!0,t.R2=!0,t.bv=function(){Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t});var e={};e.w2=!1;try{e.w2="function"==typeof r(16).b2&&"function"==typeof r(64).resolve}catch(e){}return e.C2=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,r=0;r<e.length;r++){try{t=e[r]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.w2)if(i)r(16)._2(t,function(e,t){i(e?null:""+t)});else try{return r(16).b2(t)}catch(e){return null}else{var n=e.C2();if(n.open("GET",t,!!i),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!i)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&i(200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null)},4==n.readyState)return;n.send(null)}},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},e}(),t.Lang={OPEN:"{",P2:"}",A2:"[",O2:"]",N2:",",EQUAL:"=",D2:";",L2:",",M2:'"',F2:'"',U2:"'",B2:"'",H2:"(",q2:")",G2:"<",V2:">",j2:/[\s\{\}=;\[\],'"\(\)<>]/g,Q2:/^(?:required|optional|repeated|map)$/,tN:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,zO:/^[a-zA-Z_][a-zA-Z_0-9]*$/,K2:/^[a-zA-Z][a-zA-Z_0-9]*$/,Y2:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,W2:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,z2:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,J2:/^(?:[1-9][0-9]*|0)$/,X2:/^0[xX][0-9a-fA-F]+$/,Z2:/^0[0-7]+$/,e3:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,t3:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,r3:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,i3:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.n3=function(e,t){var r={},i=function(e){this.source=""+e,this.index=0,this.line=1,this.stack=[],this.s3=!1,this.o3=t.F2},n=i.prototype;n.qZ=function(){t.STRING.lastIndex=this.index-1;var e;if(null!==(e=t.STRING.exec(this.source))){var r=void 0!==e[1]?e[1]:e[2];return this.index=t.STRING.lastIndex,this.stack.push(this.o3),r}throw Error("Unterminated string at line "+this.line+", index "+this.index)},n.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.s3)return this.s3=!1,this.qZ();var e,r;do{for(e=!1;t.i3.test(r=this.source.charAt(this.index));)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(++this.index==this.source.length)return null;this.index++,this.line++,e=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(r="";r+(r=this.source.charAt(this.index))!=="*/";)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;this.index++,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.j2.lastIndex=0,t.j2.test(this.source.charAt(i)))++i;else for(++i;i<this.source.length&&!t.j2.test(this.source.charAt(i));)i++;var n=this.source.substring(this.index,this.index=i);return n===t.M2?(this.s3=!0,this.o3=t.F2):n===t.U2&&(this.s3=!0,this.o3=t.B2),n},n.Hk=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},n.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},r.a3=i;var s=function(e){this.h3=new i(e)},o=s.prototype;return o.parse=function(){for(var e,t={name:"[ROOT]",package:null,messages:[],c3:[],imports:[],options:{},services:[]},r=!0;e=this.h3.next();)switch(e){case"package":if(!r||null!==t.package)throw Error("Unexpected package at line "+this.h3.line);t.package=this.u3(e);break;case"import":if(!r)throw Error("Unexpected import at line "+this.h3.line);t.imports.push(this.l3(e));break;case"message":this.d3(t,null,e),r=!1;break;case"enum":this.f3(t,e),r=!1;break;case"option":this.g3(t,e);break;case"service":this.E3(t,e);break;case"extend":this.v3(t,e);break;case"syntax":t.y3=this.T3(t);break;default:throw Error("Unexpected token at line "+this.h3.line+": "+e)}return delete t.name,t},o.m3=function(e){var r=1;if("-"==e.charAt(0)&&(r=-1,e=e.substring(1)),t.J2.test(e))return r*parseInt(e,10);if(t.X2.test(e))return r*parseInt(e.substring(2),16);if(t.Z2.test(e))return r*parseInt(e.substring(1),8);if(t.e3.test(e))return"inf"===e?r*(1/0):"nan"===e?NaN:r*parseFloat(e);throw Error("Illegal number at line "+this.h3.line+": "+(r<0?"-":"")+e)},o.I3=function(){var e,r,i="";do{if(r=this.h3.next(),i+=this.h3.next(),(e=this.h3.next())!==r)throw Error("Illegal end of string at line "+this.h3.line+": "+e);e=this.h3.Hk()}while(e===t.M2||e===t.U2);return i},o.S3=function(e,r){var i=-1,n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.J2.test(e))i=parseInt(e);else if(t.X2.test(e))i=parseInt(e.substring(2),16);else{if(!t.Z2.test(e))throw Error("Illegal id at line "+this.h3.line+": "+(n<0?"-":"")+e);i=parseInt(e.substring(1),8)}if(i=n*i|0,!r&&i<0)throw Error("Illegal id at line "+this.h3.line+": "+(n<0?"-":"")+e);return i},o.u3=function(e){if(e=this.h3.next(),!t.Y2.test(e))throw Error("Illegal package name at line "+this.h3.line+": "+e);var r=e;if((e=this.h3.next())!=t.D2)throw Error("Illegal end of package at line "+this.h3.line+": "+e);return r},o.l3=function(e){if(e=this.h3.Hk(),"public"===e&&(this.h3.next(),e=this.h3.Hk()),e!==t.M2&&e!==t.U2)throw Error("Illegal start of import at line "+this.h3.line+": "+e);var r=this.I3();if((e=this.h3.next())!==t.D2)throw Error("Illegal end of import at line "+this.h3.line+": "+e);return r},o.g3=function(e,r){r=this.h3.next();var i=!1;if(r==t.H2&&(i=!0,r=this.h3.next()),!t.Y2.test(r)&&!/google\.protobuf\./.test(r))throw Error("Illegal option name in message "+e.name+" at line "+this.h3.line+": "+r);var n=r;if(r=this.h3.next(),i){if(r!==t.q2)throw Error("Illegal end in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);n="("+n+")",r=this.h3.next(),t.W2.test(r)&&(n+=r,r=this.h3.next())}if(r!==t.EQUAL)throw Error("Illegal operator in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);var s;if((r=this.h3.Hk())===t.M2||r===t.U2)s=this.I3();else if(this.h3.next(),t.z2.test(r))s=this.m3(r,!0);else if(t.BOOL.test(r))s="true"===r;else{if(!t.Y2.test(r))throw Error("Illegal option value in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);s=r}if((r=this.h3.next())!==t.D2)throw Error("Illegal end of option in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);e.options[n]=s},o.R3=function(e,r){for(var i;;){if(null===(i=this.h3.next()))throw Error("Unexpected EOF in "+e.name+", "+r+" at line "+this.h3.line);if(i===t.D2)break}},o.E3=function(e,r){if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal service name at line "+this.h3.line+": "+r);var i=r,n={name:i,w3:{},options:{}};if((r=this.h3.next())!==t.OPEN)throw Error("Illegal start of service "+i+" at line "+this.h3.line+": "+r);do{if("option"===(r=this.h3.next()))this.g3(n,r);else if("rpc"===r)this.b3(n,r);else if(r!==t.P2)throw Error("Illegal type of service "+i+" at line "+this.h3.line+": "+r)}while(r!==t.P2);e.services.push(n)},o.b3=function(e,r){var i=r;if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal method name in service "+e.name+" at line "+this.h3.line+": "+r);var n=r,s={request:null,response:null,C3:!1,_3:!1,options:{}};if((r=this.h3.next())!==t.H2)throw Error("Illegal start of request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"stream"===r.toLowerCase()&&(s.C3=!0,r=this.h3.next()),!t.Y2.test(r))throw Error("Illegal request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(s.request=r,(r=this.h3.next())!=t.q2)throw Error("Illegal end of request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"returns"!==r.toLowerCase())throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if((r=this.h3.next())!=t.H2)throw Error("Illegal start of response type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"stream"===r.toLowerCase()&&(s._3=!0,r=this.h3.next()),s.response=r,(r=this.h3.next())!==t.q2)throw Error("Illegal end of response type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if((r=this.h3.next())===t.OPEN){do{if("option"===(r=this.h3.next()))this.g3(s,r);else if(r!==t.P2)throw Error("Illegal start of option inservice "+e.name+"#"+n+" at line "+this.h3.line+": "+r)}while(r!==t.P2);this.h3.Hk()===t.D2&&this.h3.next()}else if(r!==t.D2)throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);void 0===e[i]&&(e[i]={}),e[i][n]=s},o.d3=function(e,r,i){var n={},s="group"===i;if(i=this.h3.next(),!t.zO.test(i))throw Error("Illegal "+(s?"group":"message")+" name"+(e?" in message "+e.name:"")+" at line "+this.h3.line+": "+i);if(n.name=i,s){if((i=this.h3.next())!==t.EQUAL)throw Error("Illegal id assignment after group "+n.name+" at line "+this.h3.line+": "+i);i=this.h3.next();try{r.id=this.S3(i)}catch(e){throw Error("Illegal field id value for group "+n.name+"#"+r.name+" at line "+this.h3.line+": "+i)}n.P3=!0}if(n.fields=[],n.c3=[],n.messages=[],n.options={},n.A3={},i=this.h3.next(),i===t.A2&&r&&(this.O3(n,r,i),i=this.h3.next()),i!==t.OPEN)throw Error("Illegal start of "+(s?"group":"message")+" "+n.name+" at line "+this.h3.line+": "+i);for(;;){if((i=this.h3.next())===t.P2){i=this.h3.Hk(),i===t.D2&&this.h3.next();break}if(t.Q2.test(i))this.N3(n,i);else if("oneof"===i)this.D3(n,i);else if("enum"===i)this.f3(n,i);else if("message"===i)this.d3(n,null,i);else if("option"===i)this.g3(n,i);else if("extensions"===i)n.extensions=this.L3(n,i);else if("extend"===i)this.v3(n,i);else{if(!t.Y2.test(i))throw Error("Illegal token in message "+n.name+" at line "+this.h3.line+": "+i);this.N3(n,"optional",i)}}return e.messages.push(n),n},o.N3=function(e,r,i){var n={},s=null;if(n.rule=r,n.options={},r=void 0!==i?i:this.h3.next(),"map"===n.rule){if(r!==t.G2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.keytype=r,(r=this.h3.next())!==t.L2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.type=r,(r=this.h3.next())!==t.V2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.line+": "+r);r=this.h3.next();try{n.id=this.S3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}if(r=this.h3.next(),r===t.A2&&(this.O3(e,n,r),r=this.h3.next()),r!==t.D2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}else if("group"===r){if(s=this.d3(e,n,r),!/^[A-Z]/.test(s.name))throw Error("Group names must start with a capital letter");n.type=s.name,n.name=s.name.toLowerCase(),r=this.h3.Hk(),r===t.D2&&this.h3.next()}else{if(!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal field type in message "+e.name+" at line "+this.h3.line+": "+r);if(n.type=r,r=this.h3.next(),!t.zO.test(r))throw Error("Illegal field name in message "+e.name+" at line "+this.h3.line+": "+r);if(n.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r);r=this.h3.next();try{n.id=this.S3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}if(r=this.h3.next(),r===t.A2&&(this.O3(e,n,r),r=this.h3.next()),r!==t.D2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}return e.fields.push(n),n},o.D3=function(e,r){if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal oneof name in message "+e.name+" at line "+this.h3.line+": "+r);var i,n=r,s=[];if((r=this.h3.next())!==t.OPEN)throw Error("Illegal start of oneof "+n+" at line "+this.h3.line+": "+r);for(;this.h3.Hk()!==t.P2;)i=this.N3(e,"optional"),i.M3=n,s.push(i.id);this.h3.next(),e.A3[n]=s},o.O3=function(e,r,i){for(var n=!0;;){if((i=this.h3.next())===t.O2)break;if(i===t.N2){if(n)throw Error("Illegal start of options in message "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);i=this.h3.next()}this.F3(e,r,i),n=!1}},o.F3=function(e,r,i){var n=!1;if(i===t.H2&&(i=this.h3.next(),n=!0),!t.Y2.test(i))throw Error("Illegal field option in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);var s=i;if(i=this.h3.next(),n){if(i!==t.q2)throw Error("Illegal delimiter in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);s="("+s+")",i=this.h3.next(),t.W2.test(i)&&(s+=i,i=this.h3.next())}if(i!==t.EQUAL)throw Error("Illegal token in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);var o;if((i=this.h3.Hk())===t.M2||i===t.U2)o=this.I3();else if(t.z2.test(i,!0))o=this.m3(this.h3.next(),!0);else if(t.BOOL.test(i))o="true"===this.h3.next().toLowerCase();else{if(!t.Y2.test(i))throw Error("Illegal value in message "+e.name+"#"+r.name+", option "+s+" at line "+this.h3.line+": "+i);o=this.h3.next()}r.options[s]=o},o.f3=function(e,r){var i={};if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal enum name in message "+e.name+" at line "+this.h3.line+": "+r);if(i.name=r,(r=this.h3.next())!==t.OPEN)throw Error("Illegal start of enum "+i.name+" at line "+this.h3.line+": "+r);for(i.values=[],i.options={};;){if((r=this.h3.next())===t.P2){r=this.h3.Hk(),r===t.D2&&this.h3.next();break}if("option"==r)this.g3(i,r);else{if(!t.zO.test(r))throw Error("Illegal name in enum "+i.name+" at line "+this.h3.line+": "+r);this.U3(i,r)}}e.c3.push(i)},o.U3=function(e,r){var i={};if(i.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in enum "+e.name+" at line "+this.h3.line+": "+r);r=this.h3.next();try{i.id=this.S3(r,!0)}catch(t){throw Error("Illegal id in enum "+e.name+" at line "+this.h3.line+": "+r)}if(e.values.push(i),(r=this.h3.next())===t.A2){var n={options:{}};this.O3(e,n,r),r=this.h3.next()}if(r!==t.D2)throw Error("Illegal delimiter in enum "+e.name+" at line "+this.h3.line+": "+r)},o.L3=function(r,i){var n=[];if(i=this.h3.next(),"min"===i?n.push(e.T2):"max"===i?n.push(e.m2):n.push(this.m3(i)),"to"!==(i=this.h3.next()))throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.h3.line+": "+i);if(i=this.h3.next(),"min"===i?n.push(e.T2):"max"===i?n.push(e.m2):n.push(this.m3(i)),(i=this.h3.next())!==t.D2)throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.h3.line+": "+i);return n},o.v3=function(e,r){if(r=this.h3.next(),!t.Y2.test(r))throw Error("Illegal message name at line "+this.h3.line+": "+r);var i={};if(i.B3=r,i.fields=[],(r=this.h3.next())!==t.OPEN)throw Error("Illegal start of extend "+i.name+" at line "+this.h3.line+": "+r);for(;;){if((r=this.h3.next())===t.P2){r=this.h3.Hk(),r==t.D2&&this.h3.next();break}if(t.Q2.test(r))this.N3(i,r);else{if(!t.Y2.test(r))throw Error("Illegal token in extend "+i.name+" at line "+this.h3.line+": "+r);this.N3(i,"optional",r)}}return e.messages.push(i),i},o.T3=function(e){var r=this.h3.next();if(r!==t.EQUAL)throw Error("Illegal token at line "+this.h3.line+": "+r);if((r=this.h3.Hk())!==t.M2&&r!==t.U2)throw Error("Illegal token at line "+this.h3.line+": "+r);var i=this.I3();if((r=this.h3.next())!==t.D2)throw Error("Illegal token at line "+this.h3.line+": "+r);return i},o.toString=function(){return"Parser"},r.R0=s,r}(t,t.Lang),t.H3=function(t){function r(r){if("string"==typeof r&&(r=t.g2[r]),void 0===r.defaultValue)throw Error("default value for type "+r.name+" is not supported");return r==t.g2.bytes?new e(0):r.defaultValue}function i(e,r){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.FP&&e.low===e.low&&e.high===e.high)return new t.q_(e.low,e.high,void 0===r?e.FP:r);if("string"==typeof e)return t.q_.kE(e,r||!1,10);if("number"==typeof e)return t.q_.DE(e,r||!1);throw Error("not convertible to Long")}function n(e,r){var i=r.PP(),s=7&i,o=i>>>3;switch(s){case t.o2.a2:do{i=r.Z_()}while(128==(128&i));break;case t.o2.h2:r.offset+=8;break;case t.o2.c2:i=r.PP(),r.offset+=i;break;case t.o2.u2:n(o,r);break;case t.o2.l2:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.o2.d2:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}var s={},o=function(e,t,r){this.x3=e,this.parent=t,this.name=r,this.className},a=o.prototype;a.q3=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},a.toString=function(e){return(e?this.className+" ":"")+this.q3()},a.Xg=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.G3=o;var h=function(e,t,r,i,n){o.call(this,e,t,r),this.className="Namespace",this.children=[],this.options=i||{},this.y3=n||"proto2"},c=h.prototype=Object.create(o.prototype);c.V3=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],r=0,i=this.children.length;r<i;++r)this.children[r]instanceof e&&t.push(this.children[r]);return t},c.j3=function(e){var t;if(t=this.Q3(e.name))if(t instanceof p.K3&&t.name!==t.Y3&&null===this.Q3(t.Y3))t.name=t.Y3;else{if(!(e instanceof p.K3&&e.name!==e.Y3&&null===this.Q3(e.Y3)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.Y3}this.children.push(e)},c.Q3=function(e){for(var t="number"==typeof e?"id":"name",r=0,i=this.children.length;r<i;++r)if(this.children[r][t]===e)return this.children[r];return null},c.resolve=function(e,t){var r="string"==typeof e?e.split("."):e,i=this,n=0;if(""===r[n]){for(;null!==i.parent;)i=i.parent;n++}var o;do{do{if(!(o=i.Q3(r[n]))||!(o instanceof s.G3)||t&&o instanceof s.Jd.K3){i=null;break}i=o,n++}while(n<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},c.W3=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var n=t.slice(t.length-i);if(e===this.resolve(n,!(e instanceof s.Jd.K3)))return n.join(".")}return e.q3()},c.Xg=function(){for(var e,t={},r=this.children,i=0,n=r.length;i<n;++i)(e=r[i])instanceof h&&(t[e.name]=e.Xg());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.z3()}),t},c.z3=function(){for(var e={},t=Object.keys(this.options),r=0,i=t.length;r<i;++r){var n=t[r],s=this.options[t[r]];e[n]=s}return e},c.J3=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},s.X3=h;var u=function(e,r,i,n){if(this.type=e,this.Z3=r,this.e4=i,this.y3=n,i&&t.v2.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},l=u.prototype;l.t4=r,l.r4=function(r){var n=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r>4294967295?0|r:r;case t.g2.uint32:case t.g2.fixed32:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r<0?r>>>0:r;case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:if(t.q_)try{return i(r,!1)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.g2.uint64:case t.g2.fixed64:if(t.q_)try{return i(r,!0)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.g2.bool:return"boolean"!=typeof r&&n(typeof r,"not a boolean"),r;case t.g2.float:case t.g2.double:return"number"!=typeof r&&n(typeof r,"not a number"),r;case t.g2.string:return"string"==typeof r||r&&r instanceof String||n(typeof r,"not a string"),""+r;case t.g2.bytes:return e.V_(r)?r:e.wrap(r,"base64");case t.g2.enum:var s=this.Z3.V3(t.H3.n4.i4);for(a=0;a<s.length;a++){if(s[a].name==r)return s[a].id;if(s[a].id==r)return s[a].id}if("proto3"===this.y3)return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),(r>4294967295||r<0)&&n(typeof r,"not in range for uint32"),r;n(r,"not a valid enum value");case t.g2.group:case t.g2.message:if(r&&"object"==typeof r||n(typeof r,"object expected"),r instanceof this.Z3.s4)return r;if(r instanceof t.o4.Jd){var o={};for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);r=o}return new this.Z3.s4(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},l.a4=function(r,i){if(null===i)return 0;var n;switch(this.type){case t.g2.int32:return i<0?e.DP(i):e.RP(i);case t.g2.uint32:return e.RP(i);case t.g2.sint32:return e.RP(e.wP(i));case t.g2.fixed32:case t.g2.sfixed32:case t.g2.float:return 4;case t.g2.int64:case t.g2.uint64:return e.DP(i);case t.g2.sint64:return e.DP(e.MP(i));case t.g2.fixed64:case t.g2.sfixed64:return 8;case t.g2.bool:return 1;case t.g2.enum:return e.RP(i);case t.g2.double:return 8;case t.g2.string:return n=e.tA(i),e.RP(n)+n;case t.g2.bytes:if(i.vA()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.vA()+" bytes remaining");return e.RP(i.vA())+i.vA();case t.g2.message:return n=this.Z3.h4(i),e.RP(n)+n;case t.g2.group:return(n=this.Z3.h4(i))+e.RP(r<<3|t.o2.l2)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},l.c4=function(r,i,n){if(null===i)return n;switch(this.type){case t.g2.int32:i<0?n.GP(i):n.CP(i);break;case t.g2.uint32:n.CP(i);break;case t.g2.sint32:n._P(i);break;case t.g2.fixed32:n.hP(i);break;case t.g2.sfixed32:n.oP(i);break;case t.g2.int64:case t.g2.uint64:n.GP(i);break;case t.g2.sint64:n.VP(i);break;case t.g2.fixed64:n.fP(i);break;case t.g2.sfixed64:n.uP(i);break;case t.g2.bool:"string"==typeof i?n.CP("false"===i.toLowerCase()?0:!!i):n.CP(i?1:0);break;case t.g2.enum:n.CP(i);break;case t.g2.float:n.EP(i);break;case t.g2.double:n.mP(i);break;case t.g2.string:n.sA(i);break;case t.g2.bytes:if(i.vA()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.vA()+" bytes remaining");var s=i.offset;n.CP(i.vA()),n.append(i),i.offset=s;break;case t.g2.message:var o=(new e).lA();this.Z3.encode(i,o),n.CP(o.offset),n.append(o.xg());break;case t.g2.group:this.Z3.encode(i,n),n.CP(r<<3|t.o2.l2);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return n},l.decode=function(e,r,i){if(r!=this.type.E2)throw Error("Unexpected wire type for element");var n,s;switch(this.type){case t.g2.int32:return 0|e.PP();case t.g2.uint32:return e.PP()>>>0;case t.g2.sint32:return 0|e.OP();case t.g2.fixed32:return e.cP()>>>0;case t.g2.sfixed32:return 0|e.aP();case t.g2.int64:return e.jP();case t.g2.uint64:return e.jP().BP();case t.g2.sint64:return e.QP();case t.g2.fixed64:return e.gP();case t.g2.sfixed64:return e.pP();case t.g2.bool:return!!e.PP();case t.g2.enum:return e.PP();case t.g2.float:return e.TP();case t.g2.double:return e.E_();case t.g2.string:return e.oA();case t.g2.bytes:if(s=e.PP(),e.vA()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+e.vA());return n=e.clone(),n.F_=n.offset+s,e.offset+=s,n;case t.g2.message:return s=e.PP(),this.Z3.decode(e,s);case t.g2.group:return this.Z3.decode(e,-1,i)}throw Error("[INTERNAL] Illegal decode type")},l.u4=function(r){if(!this.e4)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:case t.g2.uint32:case t.g2.fixed32:return this.r4(parseInt(r));case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:case t.g2.uint64:case t.g2.fixed64:return this.r4(r);case t.g2.bool:return"true"===r;case t.g2.string:return this.r4(r);case t.g2.bytes:return e.K_(r)}},l.l4=function(e){if(!this.e4)throw Error("valueToString() called on non-map-key element");return this.type===t.g2.bytes?e.toString("binary"):e.toString()},s.Element=u;var p=function(e,r,i,n,s,o){h.call(this,e,r,i,n,o),this.className="Message",this.extensions=[t.T2,t.m2],this.s4=null,this.P3=!!s,this.d4=null,this.f4=null,this.g4=null},d=p.prototype=Object.create(h.prototype);d.Xg=function(r){if(this.s4&&!r)return this.s4;var i=function(t,r){function i(r,n,s,o,a){var h=void 0;if(null===r||"object"!=typeof r){if(o==t.g2.enum)for(var c=a.V3(t.H3.n4.i4),u=0;u<c.length;u++)if(c[u].id===r){r=c[u].name;break}h=r}else if(r instanceof e)h=n?r.mA():r.yA();else if(t.bv.isArray(r)){var l=r;h=[];for(var p=0;p<l.length;p++)h.push(i(l[p],n,s,o,a))}else if(r instanceof t.Map){var d=r.entries();h={};for(var f=d.next();!f.done;f=d.next())h[r.E4.l4(f.value[0])]=i(f.value[1],n,s,r.v4.type,r.v4.Z3)}else if(r instanceof t.q_)h=s?r.toString():new t.q_(r);else{h={};var g=r.y4,E=void 0;for(var u in r)if(r.hasOwnProperty(u)){var v=r[u];g&&(E=g.Q3(u)),h[u]=i(v,n,s,E.type,E.Z3)}}return h}var n=r.V3(t.H3.Jd.K3),s=r.V3(t.H3.Jd.T4),o=function(i,o){t.o4.Jd.call(this);for(var a=0,h=s.length;a<h;++a)this[s[a].name]=null;for(a=0,h=n.length;a<h;++a){var c=n[a];this[c.name]=c.repeated?[]:c.map?new t.Map(c):null,!c.required&&"proto3"!==r.y3||null===c.defaultValue||(this[c.name]=c.defaultValue)}if(arguments.length>0){var u;if(1!==arguments.length||"object"!=typeof i||"function"==typeof i.encode||t.bv.isArray(i)||i instanceof t.Map||i instanceof e||i instanceof ArrayBuffer||t.q_&&i instanceof t.q_)for(a=0,h=arguments.length;a<h;++a)void 0!==(u=arguments[a])&&this.m4(n[a].name,u);else this.m4(i)}},a=o.prototype=Object.create(t.o4.Jd.prototype);a.add=function(e,i,n){var s=r.g4[e];if(!n){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field")}null===this[s.name]&&(this[s.name]=[]),this[s.name].push(n?i:s.r4(i,!0))},a.I4=a.add,a.set=function(e,i,n){if(e&&"object"==typeof e){n=i;for(var s in e)e.hasOwnProperty(s)&&void 0!==(i=e[s])&&this.m4(s,i,n);return this}var o=r.g4[e];if(n)this[o.name]=i;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=i=o.r4(i)}return o.M3&&(null!==i?(null!==this[o.M3.name]&&(this[this[o.M3.name]]=null),this[o.M3.name]=o.name):o.M3.name===e&&(this[o.M3.name]=null)),this},a.m4=a.set,a.get=function(e,i){if(i)return this[e];var n=r.g4[e];if(!(n&&n instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},a.S4=a.get;for(var h=0;h<n.length;h++){var c=n[h];c instanceof t.H3.Jd.R4||r.x3.options.S2&&function(e){var t=e.Y3.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var i=e.Y3.replace(/([A-Z])/g,function(e){return"_"+e}),n=function(t,r){return this[e.name]=r?t:e.r4(t),this},s=function(){return this[e.name]};null===r.Q3("set"+t)&&(a["set"+t]=n),null===r.Q3("set_"+i)&&(a["set_"+i]=n),null===r.Q3("get"+t)&&(a["get"+t]=s),null===r.Q3("get_"+i)&&(a["get_"+i]=s)}(c)}a.encode=function(t,i){"boolean"==typeof t&&(i=t,t=void 0);var n=!1;t||(t=new e,n=!0);var s=t.U_;try{return r.encode(this,t.lA(),i),(n?t.xg():t).lA(s)}catch(e){throw t.lA(s),e}},a.h4=function(){return r.h4(this)},a.w4=function(t){var i=!1;t||(t=new e,i=!0);var n=(new e).lA();return r.encode(this,n).xg(),t.CP(n.vA()),t.append(n),i?t.xg():t},a.b4=function(){try{return this.encode().tc()}catch(e){throw e.C4&&(e.C4=e.C4.tc()),e}},a.tc=a.b4,a._4=function(){try{return this.encode().yA()}catch(e){throw e.C4&&(e.C4=e.C4.yA()),e}},a.yA=a._4,a.P4=function(){try{return this.encode().mA()}catch(e){throw e.C4&&(e.C4=e.C4.mA()),e}},a.mA=a.P4,a.A4=function(){try{return this.encode().IA()}catch(e){throw e.C4&&(e.C4=e.C4.IA()),e}},a.IA=a.A4,a.O4=function(e,r){return i(this,!!e,!!r,t.g2.message,this.y4)},a.N4=function(){return JSON.stringify(i(this,!0,!0,t.g2.message,this.y4))},o.decode=function(t,i){"string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t);var n=t.U_;try{var s=r.decode(t.lA());return t.lA(n),s}catch(e){throw t.lA(n),e}},o.D4=function(t,i){if("string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t),t.vA()<1)return null;var n=t.offset,s=t.PP();if(t.vA()<s)return t.offset=n,null;try{var o=r.decode(t.slice(t.offset,t.offset+s).lA());return t.offset+=s,o}catch(e){throw t.offset+=s,e}},o.L4=function(e){return o.decode(e,"base64")},o.M4=function(e){return o.decode(e,"hex")},o.F4=function(e){return new o(JSON.parse(e))},a.toString=function(){return r.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:r.z3()}),Object.defineProperty(a,"$options",{value:o.U4}),Object.defineProperty(o,"$type",{value:r}),Object.defineProperty(a,"$type",{value:r})),o}(t,this);this.d4=[],this.f4={},this.g4={};for(var n,s=0,o=this.children.length;s<o;s++)if((n=this.children[s])instanceof y)i[n.name]=n.Xg();else if(n instanceof p)i[n.name]=n.Xg();else if(n instanceof p.K3)n.Xg(),this.d4.push(n),this.f4[n.id]=n,this.g4[n.name]=n;else if(!(n instanceof p.T4||n instanceof m))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[s].toString(!0));return this.s4=i},d.encode=function(e,t,r){for(var i,n,s=null,o=0,a=this.d4.length;o<a;++o)i=this.d4[o],n=e[i.name],i.required&&null===n?null===s&&(s=i):i.encode(r?n:i.r4(n),t);if(null!==s){var h=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw h.C4=t,h}return t},d.h4=function(e){for(var t,r,i=0,n=0,s=this.d4.length;n<s;++n){if(t=this.d4[n],r=e[t.name],t.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.h4(r)}return i},d.decode=function(e,r,i){r="number"==typeof r?r:-1;for(var s,o,a,h,c=e.offset,u=new this.s4;e.offset<c+r||-1===r&&e.vA()>0;){if(s=e.PP(),o=7&s,a=s>>>3,o===t.o2.l2){if(a!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(i?i+" expected":"not a group")+")");break}if(h=this.f4[a])if(h.repeated&&!h.options.B4)u[h.name].push(h.decode(o,e));else if(h.map){var l=h.decode(o,e);u[h.name].set(l[0],l[1])}else u[h.name]=h.decode(o,e),h.M3&&(null!==this[h.M3.name]&&(this[this[h.M3.name]]=null),u[h.M3.name]=h.name);else switch(o){case t.o2.a2:e.PP();break;case t.o2.d2:e.offset+=4;break;case t.o2.h2:e.offset+=8;break;case t.o2.c2:var p=e.PP();e.offset+=p;break;case t.o2.u2:for(;n(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,f=this.d4.length;d<f;++d)if(h=this.d4[d],null===u[h.name]){if(h.required){var g=Error("Missing at least one required field for "+this.toString(!0)+": "+h.name);throw g.H4=u,g}t.R2&&null!==h.defaultValue&&(u[h.name]=h.defaultValue)}return u},s.Jd=p;var f=function(e,t,r,i,n,s,a,h,c,u){o.call(this,e,t,s),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.x4=i||null,this.type=n,this.Z3=null,this.id=a,this.options=h||{},this.defaultValue=null,this.M3=c||null,this.y3=u||"proto2",this.Y3=this.name,this.q4=null,this.G4=null,!this.x3.options.I2||this instanceof p.R4||(this.name=f.V4(this.name))};f.V4=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var g=f.prototype=Object.create(o.prototype);g.Xg=function(){this.q4=new u(this.type,this.Z3,!1,this.y3),this.map&&(this.G4=new u(this.x4,void 0,!0,this.y3)),this.defaultValue=void 0!==this.options.default?this.r4(this.options.default):null,"proto3"!==this.y3||this.repeated||this.map||(this.defaultValue=this.q4.t4(this.type))},g.r4=function(e,r){r=r||!1;var i=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===e)return this.required&&i(typeof e,"required"),"proto3"===this.y3&&this.type!==t.g2.message&&i(typeof e,"proto3 field without field presence cannot be null"),null;var n;if(this.repeated&&!r){t.bv.isArray(e)||(e=[e]);var s=[];for(n=0;n<e.length;n++)s.push(this.q4.r4(e[n]));return s}return this.map&&!r?e instanceof t.Map?e:(e instanceof Object||i(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&t.bv.isArray(e)&&i(typeof e,"no array expected"),this.q4.r4(e))},g.j4=function(e){if("proto3"!==this.y3)return null!==e;switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:case t.g2.uint32:case t.g2.fixed32:return 0!==e;case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:case t.g2.uint64:case t.g2.fixed64:return 0!==e.low||0!==e.high;case t.g2.bool:return e;case t.g2.float:case t.g2.double:return 0!==e;case t.g2.string:return e.length>0;case t.g2.bytes:return e.vA()>0;case t.g2.enum:return 0!==e;case t.g2.message:return null!==e;default:return!0}},g.encode=function(r,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return i;try{if(this.repeated){var n;if(this.options.B4&&t.f2.indexOf(this.type.E2)>=0){i.CP(this.id<<3|t.o2.c2),i.uA(i.offset+=1);var s=i.offset;for(n=0;n<r.length;n++)this.q4.c4(this.id,r[n],i);var o=i.offset-s,a=e.RP(o);if(a>1){var h=i.slice(s,i.offset);s+=a-1,i.offset=s,i.append(h)}i.CP(o,s-a)}else for(n=0;n<r.length;n++)i.CP(this.id<<3|this.type.E2),this.q4.c4(this.id,r[n],i)}else this.map?r.forEach(function(r,n,s){var o=e.RP(8|this.x4.E2)+this.G4.a4(1,n)+e.RP(16|this.type.E2)+this.q4.a4(2,r);i.CP(this.id<<3|t.o2.c2),i.CP(o),i.CP(8|this.x4.E2),this.G4.c4(1,n,i),i.CP(16|this.type.E2),this.q4.c4(2,r,i)},this):this.j4(r)&&(i.CP(this.id<<3|this.type.E2),this.q4.c4(this.id,r,i))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.h4=function(r){if(r=this.r4(r),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return 0;var i=0;try{if(this.repeated){var n,s;if(this.options.B4&&t.f2.indexOf(this.type.E2)>=0){for(i+=e.RP(this.id<<3|t.o2.c2),s=0,n=0;n<r.length;n++)s+=this.q4.a4(this.id,r[n]);i+=e.RP(s),i+=s}else for(n=0;n<r.length;n++)i+=e.RP(this.id<<3|this.type.E2),i+=this.q4.a4(this.id,r[n])}else this.map?r.forEach(function(r,n,s){var o=e.RP(8|this.x4.E2)+this.G4.a4(1,n)+e.RP(16|this.type.E2)+this.q4.a4(2,r);i+=e.RP(this.id<<3|t.o2.c2),i+=e.RP(o),i+=o},this):this.j4(r)&&(i+=e.RP(this.id<<3|this.type.E2),i+=this.q4.a4(this.id,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.decode=function(e,r,i){var n,s;if(!(!this.map&&e==this.type.E2||!i&&this.repeated&&this.options.B4&&e==t.o2.c2||this.map&&e==t.o2.c2))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.E2+" expected)");if(e==t.o2.c2&&this.repeated&&this.options.B4&&t.f2.indexOf(this.type.E2)>=0&&!i){s=r.PP(),s=r.offset+s;for(var o=[];r.offset<s;)o.push(this.decode(this.type.E2,r,!0));return o}if(this.map){var a=this.G4.t4(this.x4);if(n=this.q4.t4(this.type),s=r.PP(),r.vA()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+r.vA());var h=r.clone();for(h.F_=h.offset+s,r.offset+=s;h.vA()>0;){var c=h.PP();e=7&c;var u=c>>>3;if(1===u)a=this.G4.decode(h,e,u);else{if(2!==u)throw Error("Unexpected tag in map field key/value submessage");n=this.q4.decode(h,e,u)}}return[a,n]}return this.q4.decode(r,e,this.id)},s.Jd.K3=f;var E=function(e,t,r,i,n,s,o){f.call(this,e,t,r,null,i,n,s,o),this.Q4};E.prototype=Object.create(f.prototype),s.Jd.R4=E;var v=function(e,t,r){o.call(this,e,t,r),this.fields=[]};s.Jd.T4=v;var y=function(e,t,r,i,n){h.call(this,e,t,r,i,n),this.className="Enum",this.object=null};(y.prototype=Object.create(h.prototype)).Xg=function(){for(var e={},t=this.V3(y.i4),r=0,i=t.length;r<i;++r)e[t[r].name]=t[r].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.z3()}),this.object=e},s.n4=y;var T=function(e,t,r,i){o.call(this,e,t,r),this.className="Enum.Value",this.id=i};T.prototype=Object.create(o.prototype),s.n4.i4=T;var m=function(e,t,r,i){o.call(this,e,t,r),this.K4=i};m.prototype=Object.create(o.prototype),s.Y4=m;var I=function(e,t,r,i){h.call(this,e,t,r,i),this.className="Service",this.s4=null};(I.prototype=Object.create(h.prototype)).Xg=function(r){return this.s4&&!r?this.s4:this.s4=function(t,r){for(var i=function(e){t.o4.W4.call(this),this.z4=e||function(e,t,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},n=i.prototype=Object.create(t.o4.W4.prototype),s=r.V3(t.H3.W4.J4),o=0;o<s.length;o++)!function(t){n[t.name]=function(i,n){try{try{i=t.X4.s4.decode(e.wrap(i))}catch(e){if(!(e instanceof TypeError))throw e}if(!(i&&i instanceof t.X4.s4))return void setTimeout(n.bind(this,Error("Illegal request type provided to service method "+r.name+"#"+t.name)),0);this.z4(t.q3(),i,function(e,i){if(e)return void n(e);try{i=t.Z4.s4.decode(i)}catch(e){}if(!(i&&i instanceof t.Z4.s4))return void n(Error("Illegal response type received in service method "+r.name+"#"+t.name));n(null,i)})}catch(e){setTimeout(n.bind(this,e),0)}},i[t.name]=function(e,r,n){new i(e)[t.name](r,n)},Object.defineProperty&&(Object.defineProperty(i[t.name],"$options",{value:t.z3()}),Object.defineProperty(n[t.name],"$options",{value:i[t.name].U4}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:r.z3()}),Object.defineProperty(n,"$options",{value:i.U4}),Object.defineProperty(i,"$type",{value:r}),Object.defineProperty(n,"$type",{value:r})),i}(t,this)},s.W4=I;var S=function(e,t,r,i){o.call(this,e,t,r),this.className="Service.Method",this.options=i||{}};(S.prototype=Object.create(o.prototype)).z3=c.z3,s.W4.e6=S;var R=function(e,t,r,i,n,s,o,a){S.call(this,e,t,r,a),this.className="Service.RPCMethod",this.t6=i,this.r6=n,this.i6=s,this.n6=o,this.X4=null,this.Z4=null};return R.prototype=Object.create(S.prototype),s.W4.J4=R,s}(t),t.o4=function(e,t,i){function n(e,t){t.y3=e,t.messages&&t.messages.forEach(function(t){n(e,t)}),t.c3&&t.c3.forEach(function(t){n(e,t)})}var s=function(e){this.s6=new i.X3(this,null,""),this.o6=this.s6,this.a6=!1,this.result=null,this.files={},this.h6=null,this.options=e||{},this.y3="proto3"===this.options.y3?"proto3":"proto2"},o=s.prototype;return o.reset=function(){this.o6=this.s6},o.c6=function(e){if("string"!=typeof e||!t.Y2.test(e))throw Error("Illegal package: "+e);var r,n,s=e.split(".");for(r=0;r<s.length;r++)if(!t.zO.test(s[r]))throw Error("Illegal package: "+s[r]);for(r=0;r<s.length;r++)n=this.o6.Q3(s[r]),null===n&&this.o6.j3(n=new i.X3(this,this.o6,s[r])),this.o6=n;return this},s.u6=function(r){if("string"!=typeof r.name||!t.zO.test(r.name))return!1;if(void 0!==r.values||void 0!==r.w3)return!1;var i;if(void 0!==r.fields){if(!e.bv.isArray(r.fields))return!1;var n,o=[];for(i=0;i<r.fields.length;i++){if(!s.l6(r.fields[i]))return!1;if(n=parseInt(r.fields[i].id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}if(void 0!==r.c3){if(!e.bv.isArray(r.c3))return!1;for(i=0;i<r.c3.length;i++)if(!s.p6(r.c3[i]))return!1}if(void 0!==r.messages){if(!e.bv.isArray(r.messages))return!1;for(i=0;i<r.messages.length;i++)if(!s.u6(r.messages[i])&&!s.d6(r.messages[i]))return!1}if(void 0!==r.extensions&&(!e.bv.isArray(r.extensions)||2!==r.extensions.length||"number"!=typeof r.extensions[0]||"number"!=typeof r.extensions[1]))return!1;if("proto3"===r.y3){for(i=0;i<r.fields.length;i++){var a=r.fields[i];if("required"===a.rule)return!1;if(a.default)return!1;if(a.options)for(var h=Object.keys(a.options),c=0;c<h.length;c++)if("default"===h[c])return!1}if(r.extensions)return!1}return!0},s.l6=function(e){if("string"!=typeof e.rule||"string"!=typeof e.name||"string"!=typeof e.type||void 0===e.id)return!1;if(!(t.Q2.test(e.rule)&&t.zO.test(e.name)&&t.Y2.test(e.type)&&t.t3.test(""+e.id)))return!1;if(void 0!==e.options){if("object"!=typeof e.options)return!1;for(var r,i=Object.keys(e.options),n=0;n<i.length;n++)if("string"!=typeof(r=i[n])||"string"!=typeof e.options[r]&&"number"!=typeof e.options[r]&&"boolean"!=typeof e.options[r])return!1}return!0},s.p6=function(r){if("string"!=typeof r.name||!t.zO.test(r.name))return!1;if(void 0===r.values||!e.bv.isArray(r.values)||0==r.values.length)return!1;for(var i=0;i<r.values.length;i++){if("object"!=typeof r.values[i])return!1;if("string"!=typeof r.values[i].name||void 0===r.values[i].id)return!1;if(!t.zO.test(r.values[i].name)||!t.r3.test(""+r.values[i].id))return!1}return"proto3"!==r.y3||0===r.values[0].id},o.create=function(t){if(!t)return this;if(e.bv.isArray(t)||(t=[t]),0===t.length)return this;var r=[];for(r.push(t);r.length>0;){if(t=r.pop(),!e.bv.isArray(t))throw Error("Not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var n=t.shift();if(s.u6(n)){var o=new i.Jd(this,this.o6,n.name,n.options,n.P3,n.y3),a={};if(n.A3)for(var h=Object.keys(n.A3),c=0,u=h.length;c<u;++c)o.j3(a[h[c]]=new i.Jd.T4(this,o,h[c]));if(n.fields&&n.fields.length>0)for(c=0,u=n.fields.length;c<u;++c){var l=n.fields[c];if(null!==o.Q3(l.id))throw Error("Duplicate field id in message "+o.name+": "+l.id);if(l.options)for(var p=Object.keys(l.options),d=0,f=p.length;d<f;++d){if("string"!=typeof p[d])throw Error("Illegal field option name in message "+o.name+"#"+l.name+": "+p[d]);if("string"!=typeof l.options[p[d]]&&"number"!=typeof l.options[p[d]]&&"boolean"!=typeof l.options[p[d]])throw Error("Illegal field option value in message "+o.name+"#"+l.name+"#"+p[d]+": "+l.options[p[d]])}var g=null;if("string"==typeof l.M3&&void 0===(g=a[l.M3]))throw Error("Illegal oneof in message "+o.name+"#"+l.name+": "+l.M3);l=new i.Jd.K3(this,o,l.rule,l.keytype,l.type,l.name,l.id,l.options,g,n.y3),g&&g.fields.push(l),o.j3(l)}var E=[];if(void 0!==n.c3&&n.c3.length>0)for(c=0;c<n.c3.length;c++)E.push(n.c3[c]);if(n.messages&&n.messages.length>0)for(c=0;c<n.messages.length;c++)E.push(n.messages[c]);if(n.extensions&&(o.extensions=n.extensions,o.extensions[0]<e.T2&&(o.extensions[0]=e.T2),o.extensions[1]>e.m2&&(o.extensions[1]=e.m2)),this.o6.j3(o),E.length>0){r.push(t),t=E,E=null,this.o6=o,o=null;continue}E=null,o=null}else if(s.p6(n)){for(o=new i.n4(this,this.o6,n.name,n.options,n.y3),c=0;c<n.values.length;c++)o.j3(new i.n4.i4(this,o,n.values[c].name,n.values[c].id));this.o6.j3(o),o=null}else if(s.f6(n)){o=new i.W4(this,this.o6,n.name,n.options);for(c in n.w3)n.w3.hasOwnProperty(c)&&o.j3(new i.W4.J4(this,o,c,n.w3[c].request,n.w3[c].response,n.w3[c].C3,n.w3[c]._3,n.w3[c].options));this.o6.j3(o),o=null}else{if(!s.d6(n))throw Error("Not a valid definition: "+JSON.stringify(n));if(o=this.o6.resolve(n.B3))for(c=0;c<n.fields.length;c++){if(null!==o.Q3(n.fields[c].id))throw Error("Duplicate extended field id in message "+o.name+": "+n.fields[c].id);if(n.fields[c].id<o.extensions[0]||n.fields[c].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+n.fields[c].id+" ("+o.extensions.join(" to ")+" expected)");var v=n.fields[c].name;this.options.I2&&(v=i.Jd.K3.V4(n.fields[c].name)),l=new i.Jd.R4(this,o,n.fields[c].rule,n.fields[c].type,this.o6.q3()+"."+v,n.fields[c].id,n.fields[c].options);var y=new i.Y4(this,this.o6,n.fields[c].name,l);l.Q4=y,this.o6.j3(y),o.j3(l)}else if(!/\.?google\.protobuf\./.test(n.B3))throw Error("Extended message "+n.B3+" is not defined")}n=null}t=null,this.o6=this.o6.parent}return this.a6=!1,this.result=null,this},o.g6=function(t,i){if("string"==typeof i){if(e.bv.w2&&(i=r(64).resolve(i)),!0===this.files[i])return this.reset(),this;this.files[i]=!0}else if("object"==typeof i){var s=i.root;e.bv.w2&&(s=r(64).resolve(s));var o=[s,i.E6].join("/");if(!0===this.files[o])return this.reset(),this;this.files[o]=!0}if(t.imports&&t.imports.length>0){var a,h="/",c=!1;"object"==typeof i?(this.h6=i.root,c=!0,a=this.h6,i=i.E6,(a.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(h="\\")):"string"==typeof i?this.h6?a=this.h6:i.indexOf("/")>=0?""===(a=i.replace(/\/[^\/]*$/,""))&&(a="/"):i.indexOf("\\")>=0?(a=i.replace(/\\[^\\]*$/,""),h="\\"):a=".":a=null;for(var u=0;u<t.imports.length;u++)if("string"==typeof t.imports[u]){if(!a)throw Error("Cannot determine import root: File name is unknown");var l=t.imports[u];if(/^google\/protobuf\//.test(l))continue;if(l=a+h+l,!0===this.files[l])continue;/\.proto$/i.test(l)&&!e.n3&&(l=l.replace(/\.proto$/,".json"));var p=e.bv.fetch(l);if(null===p)throw Error("Failed to import '"+l+"' in '"+i+"': File not found");/\.json$/i.test(l)?this.g6(JSON.parse(p+""),l):this.g6(new e.n3.R0(p+"").parse(),l)}else i?/\.(\w+)$/.test(i)?this.g6(t.imports[u],i.replace(/^(.+)\.(\w+)$/,function(e,t,r){return t+"_import"+u+"."+r})):this.g6(t.imports[u],i+"_import"+u):this.g6(t.imports[u]);c&&(this.h6=null)}t.package&&this.c6(t.package),t.y3&&n(t.y3,t);var d=this.o6;return t.options&&Object.keys(t.options).forEach(function(e){d.options[e]=t.options[e]}),t.messages&&(this.create(t.messages),this.o6=d),t.c3&&(this.create(t.c3),this.o6=d),t.services&&(this.create(t.services),this.o6=d),t.v6&&this.create(t.v6),this.reset(),this},s.f6=function(e){return!("string"!=typeof e.name||!t.zO.test(e.name)||"object"!=typeof e.w3)},s.d6=function(r){if("string"!=typeof r.B3||!t.Y2.test(r.B3))return!1;var i;if(void 0!==r.fields){if(!e.bv.isArray(r.fields))return!1;var n,o=[];for(i=0;i<r.fields.length;i++){if(!s.l6(r.fields[i]))return!1;if(n=parseInt(r.id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}return!0},o.y6=function(){var r;if(null!=this.o6&&"object"!=typeof this.o6.type){if(this.o6 instanceof i.X3)for(var n=this.o6.children,s=0,o=n.length;s<o;++s)this.o6=n[s],this.y6();else if(this.o6 instanceof i.Jd.K3){if(t.tN.test(this.o6.type))this.o6.type=e.g2[this.o6.type];else{if(!t.Y2.test(this.o6.type))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.type);if(!(r=(this.o6 instanceof i.Jd.R4?this.o6.Q4.parent:this.o6.parent).resolve(this.o6.type,!0)))throw Error("Unresolvable type reference in "+this.o6.toString(!0)+": "+this.o6.type);if(this.o6.Z3=r,r instanceof i.n4){if(this.o6.type=e.g2.enum,"proto3"===this.o6.y3&&"proto3"!==r.y3)throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else{if(!(r instanceof i.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.type);this.o6.type=r.P3?e.g2.group:e.g2.message}}if(this.o6.map){if(!t.tN.test(this.o6.x4))throw Error("Illegal key type for map field in "+this.o6.toString(!0)+": "+this.o6.type);this.o6.x4=e.g2[this.o6.x4]}}else if(this.o6 instanceof e.H3.n4.i4);else if(this.o6 instanceof e.H3.W4.e6){if(!(this.o6 instanceof e.H3.W4.J4))throw Error("Illegal service type in "+this.o6.toString(!0));if(!((r=this.o6.parent.resolve(this.o6.t6))&&r instanceof e.H3.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.t6);if(this.o6.X4=r,!((r=this.o6.parent.resolve(this.o6.r6))&&r instanceof e.H3.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.r6);this.o6.Z4=r}else if(!(this.o6 instanceof e.H3.Jd.T4||this.o6 instanceof e.H3.Y4))throw Error("Illegal object in namespace: "+typeof this.o6+":"+this.o6);this.reset()}},o.Xg=function(e){if(this.reset(),this.a6||(this.y6(),this.a6=!0,this.result=null),null===this.result&&(this.result=this.s6.Xg()),e){for(var t="string"==typeof e?e.split("."):e,r=this.result,i=0;i<t.length;i++){if(!r[t[i]]){r=null;break}r=r[t[i]]}return r}return this.result},o.T6=function(e){return e?this.s6.resolve(e):this.s6},o.toString=function(){return"Builder"},s.Jd=function(){},s.W4=function(){},s}(t,t.Lang,t.H3),t.Map=function(e){function t(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(t,r){if(!t.map)throw Error("field is not a map");if(this.K4=t,this.E4=new e.H3.Element(t.x4,null,!0,t.y3),this.v4=new e.H3.Element(t.type,t.Z3,!1,t.y3),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),r)for(var i=Object.keys(r),n=0;n<i.length;n++){var s=this.E4.u4(i[n]),o=this.v4.r4(r[i[n]]);this.map[this.E4.l4(s)]={key:s,value:o}}},i=r.prototype;return i.clear=function(){this.map={}},i.delete=function(e){var t=this.E4.l4(this.E4.r4(e)),r=t in this.map;return delete this.map[t],r},i.entries=function(){for(var e,r=[],i=Object.keys(this.map),n=0;n<i.length;n++)r.push([(e=this.map[i[n]]).key,e.value]);return t(r)},i.keys=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].key);return t(e)},i.values=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].value);return t(e)},i.forEach=function(e,t){for(var r,i=Object.keys(this.map),n=0;n<i.length;n++)e.call(t,(r=this.map[i[n]]).value,r.key,this)},i.set=function(e,t){var r=this.E4.r4(e),i=this.v4.r4(t);return this.map[this.E4.l4(r)]={key:r,value:i},this},i.get=function(e){var t=this.E4.l4(this.E4.r4(e));if(t in this.map)return this.map[t].value},i.has=function(e){return this.E4.l4(this.E4.r4(e))in this.map},r}(t),t.m6=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.E6&&"string"==typeof r.root)&&(i=r,r=void 0),t.Zg(new t.n3.R0(e).parse(),r,i)},t.I6=t.m6,t.S6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.bv.fetch("string"==typeof e?e:e.root+"/"+e.E6,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.m6(n,i,e))}catch(e){r(e)}});var n=t.bv.fetch("object"==typeof e?e.root+"/"+e.E6:e);return null===n?null:t.m6(n,i,e)},t.R6=t.S6,t.w6=function(e){return e=e||{},void 0===e.I2&&(e.I2=t.I2),void 0===e.S2&&(e.S2=t.S2),new t.o4(e)},t.Zg=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.E6&&"string"==typeof r.root)&&(i=r,r=null),r&&"object"==typeof r||(r=t.w6()),"string"==typeof e&&(e=JSON.parse(e)),r.g6(e,i),r.y6(),r},t.b6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.bv.fetch("string"==typeof e?e:e.root+"/"+e.E6,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.Zg(JSON.parse(n),i,e))}catch(e){r(e)}});var n=t.bv.fetch("object"==typeof e?e.root+"/"+e.E6:e);return null===n?null:t.Zg(JSON.parse(n),i,e)},t}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=a(r(35)):(n=[r(162)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.D_),void 0===t&&(t=n.k_),void 0===r&&(r=n.L_),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.M_=-1,this.F_=e,this.U_=void 0!==t&&!!t,this.B_=!!r};n.VERSION="3.5.5",n.H_=!0,n.x_=!1,n.D_=16,n.k_=n.x_,n.L_=!1,n.q_=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.G_=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.V_(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].F_-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.F_-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.F_),u.offset),u.offset+=s);return u.F_=u.offset,u.offset=0,u},n.V_=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.j_(e,r);case"hex":return n.Q_(e,r);case"binary":return n.K_(e,r);case"utf8":return n.Y_(e,r);case"debug":return n.W_(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.V_(e))return a=s.clone.call(e),a.M_=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.F_=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.F_=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.F_=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.z_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.jC=s.z_,s.J_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.d_=s.J_,s.X_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.Z_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.eP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.U_),r&&(this.offset+=2),this},s.tP=s.eP,s.rP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.U_);return t&&(this.offset+=2),r},s.iP=s.rP,s.nP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.U_),r&&(this.offset+=2),this},s.sP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.U_);return t&&(this.offset+=2),r},s.oP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.U_),r&&(this.offset+=4),this},s.Bg=s.oP,s.aP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.U_);return t&&(this.offset+=4),r},s.Qg=s.aP,s.hP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.U_),r&&(this.offset+=4),this},s.cP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.U_);return t&&(this.offset+=4),r},e&&(s.uP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.lP=s.uP,s.pP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.dP=s.pP,s.fP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.gP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.EP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.U_),r&&(this.offset+=4),this},s.vP=s.EP,s.yP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.U_);return t&&(this.offset+=4),r},s.TP=s.yP,s.mP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.U_),r&&(this.offset+=8),this},s.YC=s.mP,s.IP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.U_);return t&&(this.offset+=8),r},s.E_=s.IP,n.SP=5,n.RP=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.wP=function(e){return((e|=0)<<1^e>>31)>>>0},n.bP=function(e){return e>>>1^-(1&e)|0},s.CP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.RP(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s._P=function(e,t){return this.CP(n.wP(e),t)},s.PP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.B_&&i>this.F_){var o=Error("Truncated");throw o.AP=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.OP=function(e){var t=this.PP(e);return"object"==typeof t?t.value=n.bP(t.value):t=n.bP(t),t},e&&(n.NP=10,n.DP=function(t){"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t));var r=t.kP()>>>0,i=t.LP(28).kP()>>>0,n=t.LP(56).kP()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.MP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.shiftLeft(1).pT(t.HP(63)).BP()},n.xP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.LP(1).pT(t.qP(e.ONE).UP().qE()).UP()},s.GP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP());var s=n.DP(t),o=t.kP()>>>0,a=t.LP(28).kP()>>>0,h=t.LP(56).kP()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.VP=function(e,t){return this.GP(n.MP(e),t)},s.jP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.qI(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.QP=function(t){var r=this.jP(t);return r&&r.value instanceof e?r.value=n.xP(r.value):r=n.xP(r),r}),s.Hg=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.KP(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.Yg=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.WP(function(){if(0===s)return null;if(e>=this.F_)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.F_);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},s.zP=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e),this.B_)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.U_),r+=4,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.JP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.U_),e+=4;var o,a=e+n;return c.WP(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.B_),i=o(),t?(this.offset=e,i):{string:i,length:e-s}},n.XP="c",n.ZP="b",s.$P=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.qb=s.$P,n.eA=function(e){return c.KP(t(e))[0]},n.tA=function(e){return c.KP(t(e))[1]},s.rA=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.XP),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.XP){if(o=r(),c.iA(function(){return a<e&&i<this.F_?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.nA(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{string:o(),length:i-h}}if(t===n.ZP){if(!this.B_){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.WP(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.B_),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.Lb=s.rA,s.sA=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.KP(t(e),this.B_)[1],o=n.RP(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.CP(s,r),c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.oA=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.PP(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.WP(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.B_),i=a(),t?(this.offset=e,i):{string:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.F_)),e.offset+=s,i&&(this.offset+=s),this},s.aA=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.B_=!e,this},s.hA=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.F_=this.buffer.byteLength,this.M_=-1,this},s.clone=function(e){var t=new n(0,this.U_,this.B_);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.M_=this.M_,t.F_=this.F_,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=r,this},s.cA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.U_,this.B_);var r=t-e,i=new n(r,this.U_,this.B_);return i.offset=0,i.F_=r,i.M_>=0&&(i.M_-=e),this.jE(i,0,e,t),i},s.jE=function(e,t,r,i){var s,o;if(!this.B_&&!n.V_(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.F_:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.uA(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.uA=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.xg=function(){return this.F_=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.M_=e,this},s.order=function(e){if(!this.B_&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.U_=!!e,this},s.lA=function(e){return this.U_=void 0===e||!!e,this},s.pA=function(e){return this.U_=void 0!==e&&!e,this},s.dA=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.M_>=0&&(this.M_+=a),this.F_+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.F_),r-s),e.offset=e.F_,i&&(this.offset-=s),this},s.fA=function(e,t){return e.dA(this,t),this},s.gA=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.EA(!0))},s.vA=function(){return this.F_-this.offset},s.reset=function(){return this.M_>=0?(this.offset=this.M_,this.M_=-1):this.offset=0,this},s.resize=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.Mb=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.B_&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.F_=t,r},s.yA=function(e){var t=this.offset,r=this.F_;if(t>r){var i=t;t=r,r=i}if(!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.tc=s.yA,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.M_+",limit="+this.F_+",capacity="+this.hA()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.TA(t,r);case"base64":return this.mA(t,r);case"hex":return this.IA(t,r);case"binary":return this.SA(t,r);case"debug":return this.EA();case"columns":return this.RA();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.mA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.j_=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n.btoa=function(e){return n.K_(e).mA()},n.atob=function(e){return n.j_(e).SA()},s.SA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.K_=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.F_=o,a},s.EA=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.F_?n+=r===this.M_?"!":"|":r===this.offset?n+=r===this.M_?"[":"<":r===this.F_?n+=r===this.M_?"]":">":n+=r===this.M_?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.W_=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,d=!1,f=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||d){f=!0;break}l=p=d=!0}a.offset=a.M_=a.F_=c,u=!1;break;case"|":if(!r){if(l||d){f=!0;break}l=d=!0}a.offset=a.F_=c,u=!1;break;case"[":if(!r){if(l||p){f=!0;break}l=p=!0}a.offset=a.M_=c,u=!1;break;case"<":if(!r){if(l){f=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(d||p){f=!0;break}d=p=!0}a.F_=a.M_=c,u=!1;break;case">":if(!r){if(d){f=!0;break}d=!0}a.F_=c,u=!1;break;case"'":if(!r){if(p){f=!0;break}p=!0}a.M_=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){f=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(f)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.IA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.Q_=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.F_=h,o};var c=function(){var e={};return e.wA=1114111,e.bA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.iA=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.CA=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.nA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.YP=function(t,r){e.CA(t,function(t){e.bA(t,r)})},e.WP=function(t,r){e.iA(t,function(t){e.nA(t,r)})},e._A=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.PA=function(t){for(var r,i=0;null!==(r=t());)i+=e._A(r);return i},e.KP=function(t){var r=0,i=0;return e.CA(t,function(t){++r,i+=e._A(t)}),[r,i]},e}();return s.TA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.WP(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.Y_=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.KP(t(e),!0)[1],r,i),o=0;return c.YP(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=function(){var e;try{e=r(93)}catch(e){}return a(e)}():(n=[r(94)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(25),o=r(47),a=r(164),h=r(6),c=r(1),u=r(2),l=h.he.Rh,p=h.he.Th,d=function(){function e(e,t,r,i){this.loggerId="[P2PDispatcher] ",this.logger=n.Framework.resolve(n.Framework.V.R).log(e.sessionId),this.Sg=t,this.otherGuid=r,this.swarmId=e.swarmId,this.yg=i,this.receiver=new a.C6(t,r,e),this.sender=new a._6(t,r,e,this),this.vD=e.vD,this.TD=e.TD,this.qJ=e.qJ,(p||n.Framework.C()&&o.$N.XN)&&(this.QJ=e.QJ)}return e.prototype.Dg=function(){return this.sender.Dg()||this.receiver.Dg()},e.prototype.close=function(){var e=this,t=i.defer();return this.sender.P6().then(function(r){return e.receiver.close(r).then(function(r){return e.Rj(r).then(function(r){return e.yg.close(r).then(function(e){t.resolve(e)})})})}).catch(function(r){c.ErrorMonitor.ve().logError("Error closing connection to peer",e.loggerId,u.hs.We.qe,{detailedError:r,otherGuid:e.otherGuid}),t.reject("Close partnership failed")}),t.Ss},e.prototype.Rj=function(e){this.logger.debug("SEND CLOSE TO "+this.otherGuid);var t=new s.Rf.Fa.Jg.Close;return t.setType(e),this.Lg(s.Rf.Eg.Close,t),i(this.swarmId)},e.prototype.As=function(e){try{switch(l&&this.logger.debug("DISPATCH "+e.msgId),e.msgId){case s.Rf.Eg.Chunk:var t=s.Rf.Fa.Jg.Chunk.decode(e.Wg);this.receiver.A6(t);break;case s.Rf.Eg.Ack:var r=s.Rf.Fa.Jg.Ack.decode(e.Wg);this.sender.O6(r.transferId);break;case s.Rf.Eg.Cancel:var i=s.Rf.Fa.Jg.Cancel.decode(e.Wg);this.sender.N6(i.transferId);break;case s.Rf.Eg.lg:l&&this.logger.debug("RECEIVED OUT PART,DECODING ");var n=s.Rf.Fa.Jg.OutPartnershipRequest.decode(e.Wg);l&&this.logger.debug("RECEIVED OUT PART FROM "+n.guid),this.TD.Cj(n,this.yg);break;case s.Rf.Eg.pg:l&&this.logger.debug("RECEIVED OUT PART RESP ");var o=s.Rf.Fa.Jg.OutPartnershipResponse.decode(e.Wg);l&&this.logger.debug("RECEIVED OUT PART RESP FROM "+o.accept),this.TD.Qj(o,this.yg);break;case s.Rf.Eg.Have:var a=s.Rf.Fa.Jg.Have.decode(e.Wg);l&&this.logger.debug("RECEIVED HAVE FOR "+a.fragmentId+" FROM "+this.otherGuid),this.TD.D6(this.otherGuid,a);break;case s.Rf.Eg.Close:var h=s.Rf.Fa.Jg.Close.decode(e.Wg);l&&this.logger.debug("RECEIVED CLOSE FROM "+this.otherGuid),this.TD.Vj(this.otherGuid,h);break;case s.Rf.Eg.Request:var p=s.Rf.Fa.Jg.Request.decode(e.Wg);l&&this.logger.debug("RECEIVED REQUEST FOR "+p.fragmentId+" FROM "+this.otherGuid),this.qJ.PM(this.otherGuid,p,this);break;case s.Rf.Eg.DoNotHave:var d=s.Rf.Fa.Jg.DoNotHave.decode(e.Wg);l&&this.logger.debug("DoNotHave "+d.transferId),this.vD.k6(d);break;case s.Rf.Eg.dg:var f=s.Rf.Fa.Jg.UDPHandshakeMessage.decode(e.Wg);l&&this.logger.debug("UDP HANDSHAKE MESSAGE RECEIVED FROM "+f.uuid),this.QJ.SG(f,this.yg);break;case s.Rf.Eg.UDPHandshakeResponse:var g=s.Rf.Fa.Jg.UDPHandshakeResponse.decode(e.Wg);l&&this.logger.debug("UDP HANDSHAKE MESSAGE RESPONSE RECEIVED FROM "+this.otherGuid),this.QJ.IG(g,this.yg);break;case s.Rf.Eg.UDPSwitchLeadershipRequest:var E=s.Rf.Fa.Jg.UDPSwitchLeadershipRequest.decode(e.Wg);l&&this.logger.debug("SWITCH LEADERSHIP REQUEST RECEIVED FROM "+this.otherGuid),this.QJ.UG(E);break;case s.Rf.Eg.fg:var v=s.Rf.Fa.Jg.UDPSwitchLeadershipAck.decode(e.Wg);l&&this.logger.debug("UDP SWITCH ACKNOWLEDGMENT RESPONSE FROM "+this.otherGuid),this.QJ.VG(v,this.otherGuid);break;case s.Rf.Eg.Bitrate:var y=s.Rf.Fa.Jg.Bitrate.decode(e.Wg);l&&this.logger.debug("BITRATE INFO "+y.bitrate+" FROM "+y.guid),this.TD.Wj(y);break;case s.Rf.Eg.Haves:var T=s.Rf.Fa.Jg.Haves.decode(e.Wg);l&&this.logger.debug("RECEIVED BATCH HAVES FOR FROM "+this.otherGuid),this.TD.L6(this.otherGuid,T);break;case s.Rf.Eg.nd:var m=s.Rf.Fa.Jg.PeerInfoMessage.decode(e.Wg);l&&this.logger.debug("RECEIVED PEER INFO FROM "+this.otherGuid),this.TD.Xj(m);break;case s.Rf.Eg.Ping:var I=s.Rf.Fa.Jg.Ping.decode(e.Wg);l&&this.logger.debug("RECEIVED PING FROM "+this.otherGuid),this.TD.M6(I);break;case s.Rf.Eg.Pong:var S=s.Rf.Fa.Jg.Pong.decode(e.Wg);l&&this.logger.debug("RECEIVED PONG FROM "+this.otherGuid),this.TD.F6(S);break;case s.Rf.Eg.gg:var R=s.Rf.Fa.Jg.NoPartners.decode(e.Wg);l&&this.logger.debug("RECEIVED NON PARTNER MESSAGE FROM "+this.otherGuid),this.vD.U6(this.otherGuid,R);break;default:this.logger.warn("UNKNOWN MESSAGE TYPE "+e.msgId)}}catch(e){c.ErrorMonitor.ve().logError("Error dispatching message",this.loggerId,e,u.hs.We.Ye,e)}},e.prototype.Lg=function(e,t){this.yg.Lg(e,this.swarmId,t)},e}();t.Ig=d},function(e,t,r){"use strict";var i=r(48),n=r(35),s=r(4),o=r(25),a=r(0),h=r(7),c=r(165),u=r(5),l=r(95),p=r(1),d=r(2),f=function(){function e(e,t,r){this.loggerId="[FragmentRequester] ",this.B6=new i,this.H6=new i,this.x6=null,this.ug=o.Rf.ug,this.Sg=e,this.otherGuid=t,this.vD=r.vD,this.yD=r.yD,this.Ng=a.Framework.resolve(a.Framework.V.F),this.logger=a.Framework.resolve(a.Framework.V.R).log(r.sessionId)}return e.prototype.setReportingGuid=function(e){this.q6=e},e.prototype.Dg=function(){return!(0===this.B6.keys().length&&null===this.x6)},e.prototype.G6=function(e){var t=new o.Rf.Fa.Jg.Request;try{t.fragmentId=e.Zf(),t.transferId=e.Pk,this.ug&&this.logger.debug("INITIATING TR-"+e.Pk+" TIMEOUT: "+e.V6+" FRAGMENT: "+e.Zf()+" FROM: "+this.otherGuid),this.B6.set(e.Pk,e),this.H6.set(e.Pk,a.Framework.time())}catch(e){p.ErrorMonitor.ve().logError("Error constructing fragment request message",this.loggerId,d.hs.Zi.Qi,{detailedError:e,otherGuid:this.otherGuid}),t=null}try{t&&e.xq.wj.Lg(o.Rf.Eg.Request,t)}catch(e){p.ErrorMonitor.ve().logError("Error sending fragment request",this.loggerId,d.hs.Zi.Ki,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.A6=function(e){try{var t=e.transferId,r=e.data.yA(),i=e.chunkSize,n=e.totalSize,s=e.headers;if(this.ug&&this.logger.debug("RCV Chunk "+r.byteLength),!this.B6.has(t))return;null==this.x6?(this.ug&&this.logger.debug("INITIATED TR-"+t+",SIZE="+n),this.x6=this.B6.get(t),this.x6.Pk=t,this.j6(t,this.x6.xq),null!=s?this.x6.responseHeaders=s:this.logger.warn("HEADERS NULL IN FIRST CHUNK"),this.vD.v1(this.otherGuid,this.x6,i,n),this.x6.Qf=i,a.Framework.C()||(this.x6.jf=r)):(this.j6(t,this.x6.xq),this.x6.Qf+=i,a.Framework.C()||(this.x6.jf=h.rc.appendBuffer(this.x6.jf,r)));var o=a.Framework.C()?this.x6.Qf:this.x6.jf.byteLength;if(this.ug&&this.logger.debug("RECEIVED "+o+"/"+n+" TRID "+t),o==n){this.ug&&this.logger.debug("RCV ALL DATA "+o+" TR-"+this.x6.Yf),this.x6.qf.Af=o,a.Framework.clearTimeout(this.x6.mG),this.B6.delete(t);var c=a.Framework.time()-this.H6.get(t);this.logger.debug("RCV ALL DATA FROM "+this.otherGuid+" AFTER "+c+" mseconds"),this.H6.delete(t),this.vD.UD(t,this.x6),this.x6=null}}catch(e){p.ErrorMonitor.ve().logError("Error receiving chunk",this.loggerId,d.hs.Zi.Yi,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.j6=function(e,t){try{this.ug&&this.logger.debug("SEND ACK "+e+" TO "+this.otherGuid);var r=new o.Rf.Fa.Jg.Ack;r.transferId=e,t.wj.Lg(o.Rf.Eg.Ack,r)}catch(e){p.ErrorMonitor.ve().logError("Error sending ack",this.loggerId,d.hs.Zi.Wi,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.close=function(e){var t=this,r=s.defer();return null!=this.x6&&this.Q6(this.x6.Pk),this.B6.keys().slice().forEach(function(e){t.Q6(e)}),r.resolve(l.xV.Jq),r.Ss},e.prototype.Q6=function(e){try{if(this.B6.has(e)){var t=this.B6.get(e);t.qf.Af=t.Qf,this.logger.debug("SEND CANCEL FOR "+e+" TO "+this.otherGuid),this.H6.delete(e);var r=new o.Rf.Fa.Jg.Cancel;r.transferId=e,t.xq.wj.Lg(o.Rf.Eg.Cancel,r),null!==this.x6&&this.x6.$f()===t.$f()&&(this.x6=null),this.B6.delete(e)}else p.ErrorMonitor.ve().logError("Error cleaning up a not pending transfer",this.loggerId,d.hs.Zi.zi)}catch(e){p.ErrorMonitor.ve().logError("Error sending stop transfer",this.loggerId,d.hs.Zi.Ji,{detailedError:e,otherGuid:this.otherGuid})}},e}();t.C6=f;var g=function(){function e(e,t,r,n){this.loggerId="[FragmentSender] ",this.ug=o.Rf.ug,this.K6=null,this.Y6=new Array,this.W6=new i,this.z6=0,this.close=null,this.Sg=e,this.otherGuid=t,this.J6=r.qJ,this.wj=n,this.ID=r.ID,this.logger=a.Framework.resolve(a.Framework.V.R).log(r.sessionId),this.Ng=a.Framework.resolve(a.Framework.V.F)}return e.prototype.setReportingGuid=function(e){this.q6=e},e.prototype.X6=function(e,t,r,i,n){var s=this;this.ug&&this.logger.info("SEND FRAGMENT "+e+" TO "+this.otherGuid);try{var o=new c.Z6;o.transferId=t,o.fragmentId=e,o.e8=n,o.headers=i,o.t8=r,o.r8=Math.ceil(o.t8/u.hh.Fa.Da),o.n8=0,this.Y6.push(o),this.ug&&this.Y6.forEach(function(e){s.logger.debug(s.otherGuid+" PENDING OUT "+e)})}catch(e){p.ErrorMonitor.ve().logError("Error constructing chunk response",this.loggerId,d.hs.in.$i,{detailedError:e,otherGuid:this.otherGuid})}null===this.K6?this.s8():this.ug&&this.logger.debug(this.otherGuid+" OUT MSG NOT NULL")},e.prototype.O6=function(e){this.ug&&this.logger.debug("ONGOING "+e+" GOT ACK"),null!==this.K6&&this.K6.transferId.toString()===e.toString()?this.o8(!1):p.ErrorMonitor.ve().logError("Error receiving ack for unknown transfer",this.loggerId,d.hs.in.rn)},e.prototype.N6=function(e){null!=this.K6&&this.K6.transferId===e?(this.logger.debug("GOT CANCEL FOR ONGOING TR-"+e),this.logger.debug("TRANSPORT CANCEL STATS "+this.Sg+","+this.otherGuid+","+e),this.W6.delete(e),0!=this.K6.n8?this.J6.a8(this.otherGuid,this.q6,this.K6.n8,this.K6.t8):this.J6.h8(this.otherGuid,this.q6,this.K6.t8),this.K6=null,this.s8()):this.Y6=this.Y6.filter(function(t){return t.transferId!==e})},e.prototype.s8=function(){try{if(null===this.K6&&0!==this.Y6.length){var e=this.Y6.shift();this.K6=e,this.ug&&this.logger.debug("DATA TO SEND LENGTH "+this.K6.t8+" IN "+this.K6.r8+" CHUNKS WITH TR-"+this.K6.transferId),this.o8(!0)}}catch(e){p.ErrorMonitor.ve().logError("Error start sending chunks",this.loggerId,d.hs.in.en,e),this.kg()}},e.prototype.o8=function(e){e&&(this.W6.set(this.K6.transferId,a.Framework.time()),this.z6=this.K6.r8);try{if(null!=this.K6)if(0===this.K6.r8)this.logger.debug("FINISHED SENDING TRANSFER "+this.K6.transferId+" WITH "+this.K6.n8+" BYTES"),this.W6.delete(this.K6.transferId),this.J6.c8(this.otherGuid,this.q6,this.K6.t8),this.K6=null,this.u8(),this.s8();else{this.ug&&this.logger.debug("A CHUNK");var t=Math.min(this.K6.n8+u.hh.Fa.Da,this.K6.t8),r=t-this.K6.n8,i=new o.Rf.Fa.Jg.Chunk;if(i.transferId=this.K6.transferId,i.totalSize=this.K6.t8,i.chunkSize=r,e&&null!=this.K6.headers&&(i.headers=this.K6.headers),a.Framework.C()||null==this.K6.e8)i.data=n.wrap(new ArrayBuffer(0));else if(i.data=this.ID.l8(this.K6.fragmentId,this.z6-this.K6.r8),null==i.data){var s=this.K6.e8.slice(this.K6.n8,t);i.data=n.wrap(s)}this.K6.n8=this.K6.n8+r,this.wj.Lg(o.Rf.Eg.Chunk,i),this.ug&&this.logger.debug("SND ["+this.K6.n8+"-"+(this.K6.n8+r)+"/"+this.K6.t8+"] TO "+this.otherGuid+" OF TR-"+this.K6.transferId),this.K6.r8--}else this.logger.debug("NO MESSAGE TO SEND")}catch(e){p.ErrorMonitor.ve().logError("Error sending chunk",this.loggerId,d.hs.in.tn,{detailedError:e,otherGuid:this.otherGuid}),this.kg()}},e.prototype.Dg=function(){return!(0===this.Y6.length&&null===this.K6)},e.prototype.P6=function(){var e=s.defer();return this.Y6.length=0,this.Dg()?this.close=e:e.resolve("CLOSE"),e.Ss},e.prototype.u8=function(){this.close&&this.close.resolve("CLOSED")},e.prototype.kg=function(){this.K6=null},e}();t._6=g},function(e,t,r){"use strict";var i=function(){function e(){this.headers=null}return e}();t.Z6=i},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(5),o=r(15),a=r(2),h=r(1),c=function(){function e(e,t,r,s,a,h){this.loggerId="[Partner] ",this.p8=0,this.d8=0,this.f8=0,this.g8=new Array,this.E8=new Array,this.B6=new i,this.logger=s,this.wj=r,this.guid=e,this.Ek=h,this.v8=a,this.KM=t,this.gQ=n.Framework.resolve(o.qu.ku),this.vQ=n.Framework.resolve(o.qu.ku),this.y8=n.Framework.time()}return e.prototype.Dj=function(e){this.reportingGuid=e,this.wj&&(this.wj.receiver.setReportingGuid(this.reportingGuid),this.wj.sender.setReportingGuid(this.reportingGuid))},e.prototype.T8=function(e,t,r){var i=Math.max(1,t);for(r&&(this.d8+=i,this.p8+=e);this.g8.length>s.hh.Oa.wa;)this.g8.pop();var n=e/i;this.g8.unshift(n)},e.prototype.m8=function(e){this.B6.has(e)?this.logger.warn(this.guid+" DUPLICATE {} PENDING REQUESTS "+e):this.B6.set(e,n.Framework.time())},e.prototype.I8=function(e,t,r,i,s,o){try{if(this.B6.has(e)){var c=this.B6.get(e),u=n.Framework.time()-c;this.B6.delete(e),i&&this.T8(t,u,!0),this.gQ.success(t),this.KM.S8(this.reportingGuid,t,r,s,o)}else h.ErrorMonitor.ve().logError("Error completing a non-existing request",this.loggerId,a.hs.Dn._n,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request completed",this.loggerId,a.hs.Dn.Cn,{detailedError:e,otherGuid:this.guid,q6:this.reportingGuid})}},e.prototype.R8=function(e,t,r,i,n,o){try{if(this.B6.has(e)){var c=this.B6.get(e);this.B6.delete(e),s.hh.Oa.ba?this.T8(t,c,!0):this.T8(0,c,!0),this.gQ.w8(t,i),this.KM.b8(this.reportingGuid,t,r,i,n,o)}else h.ErrorMonitor.ve().logError("Error partially failed a non-existing request",this.loggerId,a.hs.Dn.An,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request partially failed ",this.loggerId,a.hs.Dn.Pn,{detailedError:e,otherGuid:this.guid})}},e.prototype._k=function(e,t,r){try{if(this.B6.has(e)){var i=this.B6.get(e);this.B6.delete(e),this.T8(0,i,!0),this.gQ.ll(),this.KM.C8(this.reportingGuid,r,t)}else h.ErrorMonitor.ve().logError("Error failed a non-existing request",this.loggerId,a.hs.Dn.Nn,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request failed ",this.loggerId,a.hs.Dn.On,{detailedError:e,otherGuid:this.guid})}},e.prototype._8=function(e,t){this.KM.P8(e,t,!0)},e.prototype.A8=function(e,t){this.KM.O8(e,t,!0)},e.prototype.N8=function(e,t,r){this.KM.D8(e,t,r,!0)},e.prototype.k8=function(){var e=this.g8.reduce(function(e,t){return e+t},0);return this.g8.length>0?e/this.g8.length:0},e.prototype.L8=function(e){this.f8=e},e.prototype.M8=function(){return this.f8},e.prototype.Ij=function(){return this.Ek.Ij()},e}();t.Partner=c},function(e,t,r){"use strict";var i=r(35),n=r(3),s=r(0),o=r(10),a=r(25),h=r(5),c=r(1),u=r(168),l=r(2),p=function(){function e(){this.jM="[PARTNERSHIP] ",this.aj=new n,this.gB=new n,this.dB=new n,this.fB=new n,this.F8=!1,this.U8=!1,this.B8=!0,this.active=!1,this.H8(),this.lj=[]}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.sC=e.sC,this.uploadScore=e.uploadScore,this.gD=e.gD,this.yj=e.YM},e.prototype.sj=function(e){return this._j(e.peerInfo.guid)},e.prototype._j=function(e){return this.fB.has(e)||this.dB.has(e)},e.prototype.$j=function(e){return this.dB.has(e)?this.dB.get(e):this.fB.get(e)},e.prototype.rj=function(e){return this.xj(e.peerInfo.guid)},e.prototype.xj=function(e){return this.gB.has(e)||this.aj.has(e)},e.prototype.qj=function(e){return this.gB.has(e)?this.gB.get(e):this.aj.get(e)},e.prototype.Lj=function(e){var t=this;try{var r=this.yD.x8();if(this.B8&&!r)if(this._j(e)){var i=this.$j(e),n=this.uploadScore.q8(!1),s=[];this.sC.Vq(this.context.isLive()).then(function(r){t.logger.debug(t.jM+"SEND ALL HAVES TO "+e+","+r.length);for(var o=0;o<r.length;o++){var h=0;h=t.context.isLive()?r[o].size():r[o].totalSize;var c=r[o].zf,u=new a.Rf.Fa.Jg.Have;u.setFragmentId(c.Zf()),u.setSize(h),u.setUploadScore(n);var l=c;u.setId(l.A_()),u.setBitrate(l.bitrate),u.setDuration(l.duration),u.setType(l.Xf()),s.push(u)}if(s.length>0){var p=new a.Rf.Fa.Jg.Haves;p.setHave(s),i.wj.Lg(a.Rf.Eg.Haves,p)}})}else c.ErrorMonitor.ve().logError("Error sending all haves to peer who is not out partner",this.jM,l.hs.Ut.Ct,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error sending all haves",this.jM,l.hs.Ut.Tt,{detailedError:t,otherGuid:e})}},e.prototype.oZ=function(e,t,r){var i=this,n=this.yD.x8();if(this.B8&&!n){var s=this.dB.values();this.fB.forEach(function(e,t){s.push(e)});var o=this.uploadScore.q8(!1);s.forEach(function(n){(!r||r&&n.guid!=r.guid)&&i.G8(n.wj,e,t,o)})}},e.prototype.G8=function(e,t,r,i){this.F8&&this.logger.debug(this.jM+"SEND HAVE TO "+e.otherGuid+" FOR "+t.Zf());try{var n=new a.Rf.Fa.Jg.Have;n.setFragmentId(t.Zf()),n.setSize(r),n.setUploadScore(i);var s=t;n.setId(s.A_()),n.setBitrate(s.bitrate),n.setDuration(s.duration),n.setType(s.Xf()),e.Lg(a.Rf.Eg.Have,n)}catch(t){c.ErrorMonitor.ve().logError("Error sending have ",this.jM,l.hs.Ut.It,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.D6=function(e,t){try{if(this.xj(e)){this.U8&&this.logger.debug(this.jM+"HAVE RECEIVED FROM "+e+": "+t.fragmentId);var r=this.qj(e);r.L8(t.getUploadScore()),this.gD.put(t,r),this.context.vF(t)}else c.ErrorMonitor.ve().logError("Error receiving have from unknown peer",this.jM,l.hs.Ut.St,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error handling received have",this.jM,l.hs.Ut.wt,{detailedError:t,otherGuid:e})}},e.prototype.L6=function(e,t){var r=this;try{if(this.xj(e)){this.U8&&this.logger.debug(this.jM+"BATCH HAVES RECEIVED FROM "+e);var i=this.qj(e);t.getHave().forEach(function(e){i.L8(e.getUploadScore()),r.gD.put(e,i)}),this.context.vF(t.getHave()[0])}else c.ErrorMonitor.ve().logError("Error receiving haves from unknown peer",this.jM,l.hs.Ut.Rt,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error handling received haves",this.jM,l.hs.Ut.bt,{detailedError:t,otherGuid:e})}},e.prototype.mj=function(e){try{var t=new a.Rf.Fa.Jg.Ping;t.id=this.yD.getId(),t.startTs=s.Framework.time(),this.logger.debug(this.jM+"REQUEST PING TO PEER GUID "+e.otherGuid),e.Lg(a.Rf.Eg.Ping,t)}catch(t){c.ErrorMonitor.ve().logError("Error requesting ping",this.jM,l.hs.Ut.Pt,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.M6=function(e){try{var t=e.id;if(!this._j(t))return void c.ErrorMonitor.ve().logError("Error receiving ping from an unknown peer",this.jM,l.hs.Ut.Ot,{otherGuid:t});var r=-1;e.startTs&&(r=e.startTs),this.V8(this.$j(t).wj,r)}catch(t){c.ErrorMonitor.ve().logError("Error handling received ping",this.jM,l.hs.Ut.At,{detailedError:t,otherGuid:e.id})}},e.prototype.H8=function(){try{for(var e="",t=0;t<h.hh.Fa.Da;t++)e+=String.fromCharCode(33+93*Math.random());for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),s=e.length,t=0;t<s;t++)n[t]=e.charCodeAt(t);this.j8=i.wrap(n)}catch(e){c.ErrorMonitor.ve().logError("Error creating random buffer for ping pong",this.logger,l.hs.Ut._t,e)}},e.prototype.V8=function(e,t){try{var r=new a.Rf.Fa.Jg.Pong;r.id=this.yD.getId(),r.startTs=t,this.j8||this.H8(),r.data=this.j8,r.dataSize=h.hh.Fa.Da,this.logger.debug(this.jM+"SEND PONG TO PEER GUID "+e.otherGuid),e.Lg(a.Rf.Eg.Pong,r)}catch(t){c.ErrorMonitor.ve().logError("Error sending pong",this.jM,l.hs.Ut.Nt,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.F6=function(e){try{var t=e.id;if(!this.xj(t))return void c.ErrorMonitor.ve().logError("Error receiving a pong from an unknown peer",this.jM,l.hs.Ut.Dt,{otherGuid:t});var r=s.Framework.time();if(e.startTs&&e.startTs>0){var i=r-e.startTs,n=this.qj(t);e.dataSize==e.data.tc().byteLength?n.T8(e.dataSize,i,!0):c.ErrorMonitor.ve().logError("Error receing pong with wrong data size",this.jM,l.hs.Ut.kt,{otherGuid:t})}else c.ErrorMonitor.ve().logError("Error receiving pong with wrong timestamp",this.jM,l.hs.Ut.Lt,{otherGuid:t})}catch(t){c.ErrorMonitor.ve().logError("Error receiving pong",this.jM,l.hs.Ut.Mt,{detailedError:t,otherGuid:e.id})}},e.prototype.vB=function(){try{var e=new n;return this.Q8(this.gB,e),this.Q8(this.aj,e),e}catch(e){return c.ErrorMonitor.ve().logError("Error getting partner snapshots",this.jM,l.hs.Ut.Ft,e),new n}},e.prototype.Q8=function(e,t){var r=this;e.forEach(function(e,i){var n=new hive.snapshots.Partner;n.inPart=!0,n.outPart=r._j(i),n.connInfo=new hive.snapshots.ConnectivityInfo;var s=void 0;e.Ek.peerInfo.publicIpString&&(s=e.Ek.peerInfo.publicIpString);var a=void 0;e.Ek.peerInfo.privateIpString&&(a=e.Ek.peerInfo.privateIpString),n.connInfo.publicIp=s,n.connInfo.privateIp=a,n.connInfo.externalAs=e.Ek.peerInfo.externalAs,n.connInfo.internalAs=e.Ek.peerInfo.internalAs;var h=r.K8();h.rateReceived=e.k8(),n.metrics=h,n.udp=e.Ek.peerInfo.type==o.Tc.W,t.set(e.reportingGuid,n)})},e.prototype.pB=function(){return new u.Y8(this.gB.length,this.aj.length,this.fB.length,this.dB.length)},e.prototype.K8=function(){var e=new hive.snapshots.PartnerMetrics;return e.rateReceived=0,e.rateSent=0,e.handshakeDelay=0,e},e}();t.rQ=p},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.gB=e,this.EB=t,this.fB=r,this.dB=i}return e}();t.Y8=i},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t.Kg=i},function(e,t){e.i={package:"HiveMsgs",messages:[{name:"Chunk",fields:[{rule:"required",type:"int32",name:"transferId",id:1},{rule:"required",type:"int32",name:"totalSize",id:2},{rule:"required",type:"int32",name:"chunkSize",id:3},{rule:"required",type:"bytes",name:"data",id:4},{rule:"optional",type:"string",name:"headers",id:5}]},{name:"Haves",fields:[{rule:"repeated",type:"Have",name:"have",id:1}]},{name:"Have",fields:[{rule:"required",type:"string",name:"fragmentId",id:1},{rule:"required",type:"int32",name:"size",id:2},{rule:"required",type:"int32",name:"type",id:3},{rule:"required",type:"int32",name:"id",id:4},{rule:"required",type:"int32",name:"bitrate",id:5},{rule:"required",type:"int32",name:"duration",id:6},{rule:"required",type:"float",name:"uploadScore",id:7}]},{name:"Ping",fields:[{rule:"required",type:"string",name:"id",id:1},{rule:"required",type:"uint64",name:"startTs",id:2}]},{name:"Pong",fields:[{rule:"required",type:"string",name:"id",id:1},{rule:"required",type:"bytes",name:"data",id:2},{rule:"required",type:"int32",name:"dataSize",id:3},{rule:"required",type:"uint64",name:"startTs",id:4}]},{name:"Request",fields:[{rule:"required",type:"string",name:"fragmentId",id:1},{rule:"required",type:"int32",name:"transferId",id:2}]},{name:"DoNotHave",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"NoPartners",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"Cancel",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"Ack",fields:[{rule:"optional",type:"int32",name:"transferId",id:1}]},{name:"Close",fields:[{rule:"required",type:"int32",name:"type",id:1}]},{name:"StreamCharacteristics",fields:[{rule:"required",type:"int32",name:"streamState",id:1},{rule:"required",type:"int32",name:"bitrate",id:2},{rule:"required",type:"int32",name:"delta",id:3}]},{name:"OutPartnershipRequest",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"required",type:"string",name:"contextId",id:2},{rule:"required",type:"string",name:"p2pProtocolVersion",id:3},{rule:"optional",type:"int32",name:"internalAs",id:4},{rule:"optional",type:"int32",name:"externalAs",id:5},{rule:"optional",type:"string",name:"publicIpString",id:6},{rule:"optional",type:"string",name:"privateIpString",id:7},{rule:"required",type:"string",name:"reportingGuid",id:8},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:9}]},{name:"OutPartnershipResponse",fields:[{rule:"required",type:"int32",name:"accept",id:1},{rule:"optional",type:"int32",name:"internalAs",id:2},{rule:"optional",type:"int32",name:"externalAs",id:3},{rule:"optional",type:"string",name:"publicIpString",id:4},{rule:"optional",type:"string",name:"privateIpString",id:5},{rule:"optional",type:"string",name:"reportingGuid",id:6},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:7}]},{name:"PeerInfoMessage",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"optional",type:"string",name:"publicIpString",id:2},{rule:"optional",type:"string",name:"privateIpString",id:3},{rule:"optional",type:"int32",name:"internalAs",id:4},{rule:"optional",type:"int32",name:"externalAs",id:5},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:6}]},{name:"UDPHandshakeMessage",fields:[{rule:"required",type:"string",name:"uuid",id:1},{rule:"required",type:"string",name:"streamId",id:2},{rule:"required",type:"float",name:"udpScore",id:3},{rule:"required",type:"bool",name:"isLeader",id:4}]},{name:"UDPHandshakeResponse",fields:[{rule:"required",type:"string",name:"accept",id:1}]},{name:"UDPSwitchLeadershipRequest",fields:[{rule:"required",type:"string",name:"uuid",id:1},{rule:"required",type:"float",name:"udpScore",id:2}]},{name:"UDPSwitchLeadershipAck",fields:[{rule:"required",type:"bool",name:"ok",id:1}]},{name:"Bitrate",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"required",type:"int32",name:"bitrate",id:2}]}]}},function(e,t,r){"use strict";var i=r(5),n=function(){function e(e,t,r,i,n){this.udpScore=0,this.cG=!1,this.streamId="",this.uuid=e,this.udpScore=t,r&&(this.address=r),i&&(this.cG=i),n&&(this.streamId=n)}return e.JE=function(e,t){var r=0;return r=e.udpScore>t.udpScore?1:e.udpScore<t.udpScore?-1:0,0!=r?-r:i.hh.UDPBroadcast.xa?t.uuid.localeCompare(e.uuid):e.uuid.localeCompare(t.uuid)},e}();t.hG=n},function(e,t,r){"use strict";var i=r(3),n=r(43),s=r(0),o=r(15),a=r(9),h=r(10),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[P2PRequester] ",this.Ag=new n.Counter,this.W8=new i,this.z8=new i,this.J8=s.Framework.resolve(o.qu.Nu)}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.gD=e.gD,this.TD=e.TD,this.ED=e.ED,this.yD=e.yD,this.KM=e.YM,this.J8.X8(e.yD)},e.prototype.request=function(e){this.logger.debug("FRL ISSUE REQ FOR FRAGMENT "+e.zf.toString()+"-"+e.qf.Af+" ["+a.vc[e.Xf()]+"] TO P2P"),this.W8.set(e.$f(),e);var t=this.Ag.next();e.Pk=t,this.z8.set(t,e.$f()),this.M1(e)},e.prototype.M1=function(e){var t=e.Zf(),r=e.$f(),i=this.Z8(t);e.size=this.gD.Q1(t).size;var n=this.J8.e5(i,e.type);null!=n?(this.logger.info("SEND REQUEST "+e.Pk+" FOR "+r+" TO "+n.wj.otherGuid+" (LAN LEADER "+n.Ek.peerInfo.isLeader+" iAS "+n.Ek.peerInfo.internalAs+" eAS "+n.Ek.peerInfo.externalAs+" privateIp "+n.Ek.peerInfo.privateIpString+" ) out of "+i.length+" type "+h.Tc[n.Ek.peerInfo.type]+" size:"+e.size),e.xq=n,e.qq=n.Ek.peerInfo,e.xq.m8(e.Pk),e.qf.Cf=!0,e.qf.Mf=s.Framework.time(),this.KM.t5(e),this.Ck(e)?n.wj.receiver.G6(e):this._k(e.Pk,"TIMED-OUT")):(c.ErrorMonitor.ve().logError("Error sending p2p request because we cannot find a partner",this.loggerId,u.hs.dn.nn),this._k(e.Pk,"NO PARTNERS FOUND FOR REQUEST"))},e.prototype.Z8=function(e){var t=this,r=[];try{this.gD.fk(e).forEach(function(e){t.TD.xj(e.guid)?r.push(e):t.logger.warn("I HAVE A HAVE FROM A NON IN-PARTNER "+e.guid)})}catch(e){c.ErrorMonitor.ve().logError("Error filtering in partners",this.loggerId,u.hs.dn.sn,e)}finally{return r}},e.prototype.Ck=function(e){var t=this,r=!1;try{var i=0;null==e.size?(i=this.gD.Q1(e.Zf()).size,this.logger.warn("request size not set - this should not happen")):i=e.size;var n=e.Wf.dM().ax(e,i);return e.V6=n,n>0&&(r=!0,null==e.mG&&(e.mG=s.Framework.setTimeout(function(){t.KM.r5(e),t._k(e.Pk,"TIMED-OUT")},n))),r}catch(e){return c.ErrorMonitor.ve().logError("Error setting request timeout",this.loggerId,u.hs.dn.an,e),!1}},e.prototype._k=function(e,t){this.logger.info(t+" "+e);var r=this.i5(e,!0);this.logger.info("REQUEST "+e+" FOR "+r.$f()+" FAILED BECAUSE "+t),r&&this.ED.GX(r)},e.prototype.i5=function(e,t){try{if(this.z8.has(e)){var r=this.z8.get(e);this.z8.delete(e);var i=this.W8.get(r);if(this.W8.delete(r),s.Framework.clearTimeout(i.mG),t&&this.TD.xj(i.xq.wj.otherGuid)){i.xq.wj.receiver.Q6(e);var n=i.Xf()==a.vc.fc;0!=i.Qf?i.xq.R8(i.Pk,i.Qf,i.qf.p2pAgenTrafficSuccessQt,i.size,n,i.type):i.xq._k(i.Pk,n,i.size)}return i}return c.ErrorMonitor.ve().logError("Error cancelling request on non existing session",this.loggerId,u.hs.dn.cn),null}catch(e){return c.ErrorMonitor.ve().logError("Error removing request",this.loggerId,u.hs.dn.hn,e),null}},e.prototype.qX=function(e){if(this.W8.has(e)){var t=this.W8.get(e).Pk;this.i5(t,!0)}},e.prototype.v1=function(e,t,r,i){this.logger.debug("FRL DOWNLOADING "+t.$f()+" FROM "+e+" P2P")},e.prototype.UD=function(e,t){if(this.logger.debug("FRL PROMISED FRAGMENT "+t.$f()+" RETURNED FROM P2P SIZE "+t.qf.Af),t=this.i5(e,!1)){t.qf.Uf=s.Framework.time();var r=t.Xf()==a.vc.fc;t.xq.I8(t.Pk,t.size,t.qf.p2pAgenTrafficSuccessQt,!0,r,t.type),this.ED.jX(t)}else this.logger.warn("TRIED TO REMOVE A NON EXISTING REQUEST "+e+" (THIS SHOULD NOT HAPPEN. AT LEAST NOT TOO OFTEN)")},e.prototype.k6=function(e){var t=e.getTransferId();if(this.z8.has(t)){c.ErrorMonitor.ve().logError("Error receiving a do not have for my request",this.loggerId,u.hs.dn.un),this.logger.debug("DO NOT HAVE RECEIVED FOR "+t);var r=this.i5(t,!1);if(r){var i=r.Xf()==a.vc.fc;r.xq._k(r.Pk,i,r.size),this.ED.GX(r)}}else this.logger.warn("UNKNOWN DO NOT HAVE "+t)},e.prototype.U6=function(e,t){var r=t.transferId;if(this.z8.has(r)){c.ErrorMonitor.ve().logError("Error rejected request by a non partner",this.loggerId,u.hs.dn.pn),this.TD.Sj(e);var i=this.i5(r,!1);i&&this.ED.GX(i)}},e.prototype.Ys=function(e){return this.W8.has(e)},e}();t.LJ=l},function(e,t,r){"use strict";var i=r(0),n=r(25),s=r(1),o=r(2),a=function(){function e(){this.loggerId="[P2PResponder] "}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.sG=e,this.gD=e.gD,this.sC=e.sC,this.TD=e.TD,this.uploadScore=e.uploadScore,this.yD=e.yD,this.KM=e.YM},e.prototype.PM=function(e,t,r){try{if(this.TD._j(e)){var i=this.TD.$j(e);this.n5(e,t,i)}else this.s5(e,t,r)}catch(e){s.ErrorMonitor.ve().logError("Error on responding to p2p request",this.loggerId,o.hs.mn.fn,e)}},e.prototype.c8=function(e,t,r){try{if(this.uploadScore.success(r),this.TD._j(e)){var i=this.TD.$j(e);i.vQ.success(r),i._8(r,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request satisfied",this.loggerId,o.hs.mn.gn,e)}},e.prototype.a8=function(e,t,r,i){try{if(this.uploadScore.w8(r,i),this.TD._j(e)){var n=this.TD.$j(e);n.vQ.w8(r,i),n.N8(r,i,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request partially satisfied",this.loggerId,o.hs.mn.En,e)}},e.prototype.h8=function(e,t,r){try{if(this.uploadScore.ll(),this.TD._j(e)){var i=this.TD.$j(e);i.vQ.ll(),i.A8(r,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request not satisfied",this.loggerId,o.hs.mn.vn,e)}},e.prototype.n5=function(e,t,r){var i=this;this.sC.get(t.fragmentId).then(function(n){n?(i.logger.debug("SENDING TO "+e+","+t.fragmentId+","+t.transferId+","+n.length+" DL "+n.length),r.wj.sender.X6(t.fragmentId,t.transferId,n.length,n.headers,n.data)):(i.logger.debug("RECEIVED REQUEST FOR "+t.fragmentId+" FROM "+e+" CAN'T BE SERVED"),i.o5(t.transferId,r))})},e.prototype.o5=function(e,t){try{this.logger.info("SEND DO NOT HAVE "+e+" TO "+t.wj.Sg);var r=new n.Rf.Fa.Jg.DoNotHave;r.setTransferId(e),t.wj.Lg(n.Rf.Eg.DoNotHave,r)}catch(e){s.ErrorMonitor.ve().logError("Error on sending do not have",this.loggerId,o.hs.mn.yn,e)}},e.prototype.s5=function(e,t,r){try{this.logger.warn("GOT REQUEST FROM NON-PARTNER "+e+" FOR "+t.fragmentId);var i=new n.Rf.Fa.Jg.NoPartners;i.setTransferId(t.transferId),r.Lg(n.Rf.Eg.gg,i)}catch(e){s.ErrorMonitor.ve().logError("Error on send no partners",this.loggerId,o.hs.mn.Tn,e)}},e}();t.MJ=a},function(e,t,r){"use strict";var i,n=r(48),s=r(0),o=r(5);!function(e){e[e.S=0]="S",e[e.a5=1]="F",e[e.h5=2]="PF"}(i||(i={}));var a=function(){function e(e){this.ts=e}return e}(),h=function(){function e(){this.c5=0,this.u5=0,this.l5=0,this.p5=0,this.d5=0,this.f5=0}return e}(),c=function(){function e(){this.g5=new n}return e.prototype.success=function(e){this.event(i.S,e,e)},e.prototype.ll=function(){this.event(i.a5,0,0)},e.prototype.w8=function(e,t){this.event(i.h5,e,t)},e.prototype.event=function(e,t,r){var i=new a(s.Framework.time());i.t=e,i.E5=t,i.v5=t/r,i.y5=(r-t)/r,this.g5.set(i.ts,i),this.T5()},e.prototype.T5=function(){var e=this,t=s.Framework.time(),r=t-2*o.hh.Oa.Ca;if(r>0){var i=[];this.g5.forEach(function(e,t){t<r&&i.push(t)}),i.forEach(function(t){e.g5.delete(t)})}},e.prototype.fQ=function(e){var t=0,r=this.m5(e,o.hh.Oa.Ca);if(null!=r){var i=r.u5+r.l5+r.p5;t=0==i?0:(r.u5+r.p5*o.hh.Oa._a)/i}return t},e.prototype.q8=function(e){var t=0,r=this.m5(e,o.hh.Oa.Ca);if(null!=r){var i=r.u5+r.l5+r.p5;t=0==i?0:(r.l5+r.p5*o.hh.Oa.Pa)/i}return t},e.prototype.I5=function(e){var t=this.m5(!1,e);return null!=t?t.c5:0},e.prototype.m5=function(e,t){if(0!=this.g5.keys().length){var r=new h,o=s.Framework.time(),a=o-t;a<0&&(a=0);var c=new n;return this.g5.forEach(function(e,t){t>=a&&c.set(t,e)}),c.forEach(function(e,t){switch(r.c5+=e.E5,e.t){case i.S:r.u5++;break;case i.a5:r.l5++;break;default:r.p5++,r.d5+=e.v5,r.f5+=e.y5}}),r}return null},e}();c.Pa=.2,c._a=.2,t.FJ=c},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(3),s=r(4),o=r(0),a=r(176),h=r(178),c=r(96),u=r(2),l=r(1);t.S5||(t.S5={});var p=function(e){function t(){var t=e.call(this)||this;return t.loggerId="[HiveNetworkManager] ",t.R5=!1,t.w5=new n,t.Ag=1,t.Jl=o.Framework.resolve(o.Framework.V.M),t.b5=o.Framework.resolve(o.Framework.V.q),t.channelManager=new a.C5(t.logger,t.b5,t),t.b5.init(t,t.logger,t.channelManager),t._5(),t}return i(t,e),t.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=o.Framework.resolve(o.Framework.V.R).log(e),n=null;return 0==this.vl.keys().length?(i.debug("TRIGGERING CONNECT "),n=this.P5(),this.A5(e,t)):(i.debug("ALREADY CONNECTED "),n=this.Jl.Zl(),this.A5(e,t),this.b5.sY()&&this.O5(this.gd,e)),n},t.prototype.P5=function(){var e=this,t=o.Framework.L.k;return"localhost"===t&&(t="127.0.0.1:"+location.port),this.logger.debug("CONNECTING.."),this.Jl.Zl().then(function(r){var i=r.tp();return e.logger.debug("MY IDENTITY ",i),e.gd=i,e.b5.start(t,i),r})},t.prototype.N5=function(){return s.resolve(new n)},t.prototype.connect=function(e){var t=this,r=s.defer();return this.w5.has(e)?(this.logger.debug("Already connected to "+e+", ignoring"),r.resolve(this.w5.get(e))):this.channelManager.D5(this.gd,e).then(function(r){return t.connected(e,r)}).then(function(e){return r.resolve(e)}).fail(function(i){l.ErrorMonitor.ve().logError("Error establishing connection",t.loggerId,u.hs.Pe.be,{otherGuid:e}),r.reject("CONN TO "+e+" CANNOT BE ESTABLISHED ")}),r.Ss},t.prototype.send=function(e,t,r){return!!this.channelManager.send(e,t)||(l.ErrorMonitor.ve().logError("Error sending message without channel established",this.loggerId,u.hs.Pe.Ce,{otherGuid:e}),this.k5(e),!1)},t.prototype.L5=function(e,t,r){if(this.R5&&this.logger.debug("REC BUF "+r.byteLength+" "+r),this.w5.has(e)){this.R5&&this.logger.debug("PROC MSG FROM "+e);this.w5.get(e).Gg(r)}else l.ErrorMonitor.ve().logError("Error receiving msg without having a connection established",this.loggerId,u.hs.Pe.Ce,{otherGuid:e})},t.prototype.connected=function(e,t){if(this.w5.has(e))this.logger.debug("RECONNECTED TO "+e+", RESETTING STATE"),this.w5.get(e).reset();else{this.logger.info("CONNECTED TO "+e);var r=t.pG;r.init(this.gd,e),this.w5.set(e,r)}return s.resolve(this.w5.get(e))},t.prototype.M5=function(e,t){this.logger.debug("FAILED CONN TO "+t),e.reject("CONN TO "+t+" CANNOT BE ESTABLISHED ")},t.prototype.F5=function(e,t){this.logger.info(e+" connected to me"),this.connected(e,t)},t.prototype.k5=function(e){this.w5.has(e)?(this.logger.info("Connection closed to "+e),this.w5.delete(e),this.U5(e)):this.logger.warn("TRYING TO REMOVE A PEER THAT IS NOT THERE: "+e)},t.prototype._5=function(){var e=this;c.hQ.nQ&&o.Framework.setInterval(function(){var t=o.Framework.time();e.w5.forEach(function(r,i){var n=t-r.zg();n>c.hQ.oQ&&(e.logger.debug("closing stale connection to "+i+" [unused for: "+n+"ms]"),e.disconnect(i))})},c.hQ.sQ)},t.prototype.stop=function(e){o.Framework.resolve(o.Framework.V.R).log(e).debug("STOPPING CONNECTIONS AND REMOVING LISTENERS"),this.B5(e)},t.prototype.H5=function(){},t.prototype.disconnect=function(e){this.w5.has(e)&&this.channelManager.disconnect(e)},t}(h.x5);p.$a="availableSendRate",p.eh="remoteAddress",p.th="localAddress",t.CJ=p},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(177),o=r(96),a=r(2),h=r(1),c=function(){function e(e,t,r){this.logger=e,this.b5=t,this.q5=r,this.loggerId="[ChannelManager] ",this.G5={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},this.Ag=1,this.V5=null,this.j5={},this.Q5={}}return e.prototype.D5=function(e,t){var r=null;if(t in this.Q5){var n=i.defer();n.reject("OTHER ALREADY TRYING TO CONNECT"),r=n.Ss}else{this.q5.R5&&this.logger.info("Initiating connection to "+t);var s=this.K5(e,t);r=this.Y5(s,t).connect(t)}return r},e.prototype.W5=function(e){e.z5 in this.Q5&&(delete this.j5[e.label],delete this.Q5[e.z5]),e.open&&(this.q5.k5(e.z5),e.open=!1)},e.prototype.send=function(e,t){this.q5.R5&&this.logger.debug("DATA "+t.byteLength+" "+t);var r=this.Q5[e];return r&&r.channel?(r.channel.send(t),!0):(h.ErrorMonitor.ve().logError("Error sending message wihtout channel established",this.loggerId,a.hs.Ke.Ve,{otherGuid:e}),!1)},e.prototype.q0=function(e,t){var r=t.channel;if(r&&r.label&&this.j5[r.label]){var i=this.j5[r.label],n=i[e];n.call(i,t)}else{var s="handle_"+e,n=this[s];n?n.call(this,t):h.ErrorMonitor.ve().logError("Error received a message for a non existing function",this.loggerId,a.hs.Ke.je,{J5:s})}},e.prototype.handle_offer=function(e){if(this.q5.R5&&this.logger.info("received an offer from "+e.peer.guid+" on channel "+e.channel.label),this.Q5[e.peer.guid]&&e.peer<this.q5.gd)this.b5.X5(this.q5.gd,e.peer.guid,e.channel.label);else{var t=this.Y5(e.channel.label,e.peer.guid),r=this.Z5(t);t.offer(e,r)}},e.prototype.Z5=function(e){var t=this;return n.Framework.setTimeout(function(){h.ErrorMonitor.ve().logError("Error incoming connection timedout",t.loggerId,a.hs.Ke.Qe,{otherGuid:e.z5}),e.close()},o.hQ.aQ)},e.prototype.Y5=function(e,t){var r=new s.e9(this,this.q5,e,this.V5,this.G5,t);return this.j5[e]=r,this.Q5[t]=r,r},e.prototype.handle_offer_rejected=function(e){this.q5.R5&&this.logger.debug("remote peer rejected ",e);var t=this.Q5[e.t9];t&&t.close(),delete this.Q5[e.t9],delete this.j5[e.channel]},e.prototype.K5=function(e,t){return e.substring(0,Math.max(8,e.length))+":"+t.substring(0,Math.max(8,t.length))+":"+this.Ag++},e.prototype.disconnect=function(e){var t=this.Q5[e];t&&t.close()},e}();t.C5=c},function(e,t,r){"use strict";var i=r(5),n=r(2),s=(r(55),r(4)),o=r(0),a=r(1),h=function(){function e(e,t,r,i,s,h){var c=this;this.channelManager=e,this.q5=t,this.label=r,this.V5=i,this.G5=s,this.z5=h,this.R5=!1,this.loggerId="[Channel] ",this.r9=-1,this.SH=null,this.channel=null,this.i9=null,this.n9=5,this.timeout=5e3,this.open=!1,this.s9=!1,this.o9=new Array,this.a9=function(){return!!this.channel&&"connecting"===this.channel.readyState},this.logger=o.Framework.resolve(o.Framework.V.R).log(),this.pG=o.Framework.resolve(o.Framework.V.U),this.pG.init(this.q5.gd,h),this.SH=new RTCPeerConnection(this.G5,this.V5),this.SH.onicecandidate=function(e){e&&e.candidate&&(c.o9.push(e.candidate),c.h9())},this.SH.onnegotiationneeded=function(){c.createOffer().then(function(e){return c.c9(e)}).then(function(e){c.R5&&c.logger.debug(c.loggerId+"Sending offer to "+c.z5+" [candidates: "+c.o9.length+"]");var t=c.o9;c.o9=new Array;var r=c.channelManager.b5.offer(c.q5.gd,c.z5,c,t,e);return c.s9=!0,r}).catch(function(e){a.ErrorMonitor.ve().logError("Error negotiating with peer",c.loggerId,n.hs.Ge.ke,{detailedError:e,otherGuid:c.z5}),c.close()})},this.SH.oniceconnectionstatechange=function(e){"disconnected"===c.SH.iceConnectionState&&c.close(),"failed"===c.SH.iceConnectionState&&(a.ErrorMonitor.ve().logError("Error establishing ICE connection",c.loggerId,n.hs.Ge.ke,{otherGuid:c.z5}),c.close())},this.SH.onsignalingstatechange=function(e){"closed"===e.signalingState&&c.close()}}return e.prototype.u9=function(){var e=this;if(this.channel&&"open"!=this.channel.readyState){if(this.R5&&this.logger.debug(this.loggerId+"Check connection "+this.z5),this.n9<=0)return this.logger.debug(this.loggerId+"Closing channel since it couldnt be established to "+this.z5),void this.close();this.n9-=1,this.i9=o.Framework.setTimeout(function(){return e.u9()},this.timeout)}},e.prototype.close=function(){try{this.R5&&this.logger.debug(this.loggerId+"Closing connection to "+this.z5),this.l9(!0),this.channelManager.W5(this),this.SH&&"closed"!==this.SH.signalingState&&(this.SH.close(),this.channel&&this.channel.close())}catch(e){a.ErrorMonitor.ve().logError("Error closing the connection",this.loggerId,n.hs.Ge.qe,{detailedError:e,otherGuid:this.z5})}},e.prototype.connect=function(e){var t=this;this.R5&&this.logger.debug(this.loggerId+"Connecting to "+e),this.z5=e,this.channel=this.SH.createDataChannel(this.label);var r=this.p9(!0,-1);return this.i9=o.Framework.setTimeout(function(){return t.u9()},this.timeout),r},e.prototype.d9=function(e){var t=this,r=s.defer();return this.SH.setRemoteDescription(e,function(){return r.resolve("OK")},function(e){a.ErrorMonitor.ve().logError("Error setting remote description",t.loggerId,n.hs.Ge.Ne,{detailedError:e,otherGuid:t.z5}),r.reject(e)}),r.Ss},e.prototype.c9=function(e){var t=this,r=s.defer();return"closed"!==this.SH.signalingState?this.SH.setLocalDescription(e,function(){return r.resolve(t.SH.localDescription)},function(e){a.ErrorMonitor.ve().logError("Error setting local description",t.loggerId,n.hs.Ge.De,{detailedError:e,otherGuid:t.z5}),r.reject(e)}):(a.ErrorMonitor.ve().logError("Signaling state is closed",this.loggerId,n.hs.Ge.Ne),r.reject("Signaling state is closed")),r.Ss},e.prototype.createOffer=function(){var e=this,t=s.defer();return this.SH.createOffer(t.resolve,function(t){a.ErrorMonitor.ve().logError("Error creating offer",e.loggerId,n.hs.Ge.Ae,{detailedError:t,otherGuid:e.z5}),e.close()}),t.Ss},e.prototype.createAnswer=function(){var e=this,t=s.defer();return this.SH.createAnswer(t.resolve,function(r){a.ErrorMonitor.ve().logError("Error creating answer",e.loggerId,n.hs.Ge.Oe,{detailedError:r,otherGuid:e.z5}),t.reject(r)}),t.Ss},e.prototype.offer=function(e,t){var r=this;this.R5&&(this.logger.debug(this.loggerId+"Received an offer from "+this.z5),this.logger.debug(this.loggerId+"Offer:",e)),this.SH.ondatachannel=function(e){r.channel=e.channel,r.p9(!1,t)};var i=new RTCSessionDescription(e.channel.offer);this.z5=e.peer.guid,this.d9(i).then(function(t){if("closed"!==r.SH.signalingState)return r.update_ice_candidates(e),r.createAnswer()}).then(function(e){return r.c9(e)}).then(function(e){r.logger.debug(r.loggerId+"Sending back an answer [candidates: "+r.o9.length+"]");var t=r.o9;r.o9=new Array,r.channelManager.b5.answer(r,e,t,r.z5),r.s9=!0}).catch(function(e){a.ErrorMonitor.ve().logError("Error responding to offer",r.loggerId,n.hs.Ge.He,{detailedError:e,otherGuid:r.z5}),r.close()})},e.prototype.answer=function(e){var t=this;this.R5&&this.logger.debug(this.loggerId+"Answer: ",e);var r=new RTCSessionDescription(e.answer);this.d9(r).then(function(){"closed"!==t.SH.signalingState&&t.update_ice_candidates(e)}).catch(function(e){a.ErrorMonitor.ve().logError("Error setting remote descriptor for the answer received",t.logger,n.hs.Ge.Be,{detailedError:e,otherGuid:t.z5}),t.close()})},e.prototype.update_ice_candidates=function(e){var t=this;e.channel.ice_candidates.forEach(function(e){t.R5&&t.logger.debug(t.loggerId+"got ICE cand: ",e);var r=new RTCIceCandidate(e);t.SH.addIceCandidate(r,function(){},function(e){return a.ErrorMonitor.ve().logError("Error updating ice candidates",t.loggerId,n.hs.Ge.Ue,{detailedError:e,otherGuid:t.z5})})})},e.prototype.p9=function(e,t){var r=this,i=s.defer();return this.channel.onopen=function(n){return r.f9(i,e,t)},this.channel.onclose=function(e){r.close(),i.reject(r)},this.channel.onmessage=function(e){return r.pG.Gg(e.data)},this.channel.onerror=function(e){a.ErrorMonitor.ve().logError("Error setting up channel",r.loggerId,n.hs.Ge.Le,{detailedError:e,otherGuid:r.z5}),r.close()},i.Ss},e.prototype.f9=function(e,t,r){this.open=!0,e.resolve(this),t||(this.q5.F5(this.z5,this),r&&o.Framework.clearTimeout(r))},e.prototype.h9=function(){var e=this;this.s9&&-1==this.r9&&(this.r9=o.Framework.setTimeout(function(){e.g9(),e.l9(!1)},i.hh.ah.oh))},e.prototype.g9=function(){var e=this,t=this.o9;if(this.o9=new Array,t&&t.length>0){var r=t.length;this.channelManager.b5.E9(this.q5.gd,this,t,this.z5).then(function(t){e.R5&&e.logger.debug(e.loggerId+"sent "+r+" more candidates")}).catch(function(t){a.ErrorMonitor.ve().logError("Error sending candidates",e.loggerId,n.hs.Ge.Le,{detailedError:t,otherGuid:e.z5})})}},e.prototype.l9=function(e){e&&-1!=this.r9&&o.Framework.clearTimeout(this.r9),this.r9=-1},e}();t.e9=h},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(2),o=r(1),a=function(){function e(){this.jM="[Base Network Manager] ",this.vl=new i,this.logger=n.Framework.resolve(n.Framework.V.R).log()}return e.prototype.A5=function(e,t){this.logger.info("SET LISTENERS FOR "+e+","+t.length),this.vl.set(e,t)},e.prototype.B5=function(e){this.vl.delete(e)},e.prototype.v9=function(){this.vl.length>0&&this.vl.forEach(function(e,t){e.forEach(function(e){e.ej&&e.ej()})})},e.prototype.O5=function(e,t){var r=this;this.vl.length>0&&(t?this.vl.get(t).forEach(function(t){try{t.Ud&&t.Ud(e)}catch(e){o.ErrorMonitor.ve().logError("Error firing server connect when we have swarm",r.jM,s.hs.Pe.Re,e)}}):this.vl.forEach(function(t,i){t.forEach(function(t){try{t.Ud&&t.Ud(e)}catch(e){o.ErrorMonitor.ve().logError("Error firing server connect when we do not have swarm",r.jM,s.hs.Pe.we,e)}})}))},e.prototype.U5=function(e){this.vl.length>0&&this.vl.forEach(function(t,r){t.forEach(function(t){t.KG&&t.KG(e)})})},e}();t.x5=a},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(23),o=function(){function e(){this.Ag=1,this.client=n.Framework.resolve(n.Framework.V.G)}return e.prototype.init=function(e,t,r){this.q5=e,this.logger=t,this.channelManager=r},e.prototype.sY=function(){return this.client.zd().sY()},e.prototype.start=function(e,t){var r=this;this.logger.debug("MY ID "+t),this.gd=t,this.client&&this.client.zd()?this.client.zd().on(Services.fY,1,function(e){r.y9(e.msg)}):this.logger.error("error getting active services connection"),this.q5.O5(this.gd)},e.prototype.y9=function(e){var t=JSON.parse(e);this.q5.R5&&this.logger.debug("RCV MSG FROM SRV ",t),this.channelManager.q0(t.msgName,t.msg)},e.prototype.T9=function(e,t,r){var n=this.wrap(t,e,r);if(this.client&&this.client.zd()){var o=JSON.stringify(n);this.q5.R5&&this.logger.debug(" FORWARDING REQUEST : "+o);var a=new s.Jd(Services.fY,0,o);return this.client.zd().send(a)}return i.reject()},e.prototype.wrap=function(e,t,r){return{msgId:this.Ag++,destination:r,msg:e,msgName:t}},e.prototype.E9=function(e,t,r,i){var n={channel:{label:t.label,ice_candidates:r}};return this.T9("update_ice_candidates",n,i)},e.prototype.offer=function(e,t,r,i,s){var o={peer:{guid:e,first_seen:n.Framework.time()},channel:{label:r.label,ice_candidates:i,offer:s}};return this.T9("offer",o,r.z5)},e.prototype.X5=function(e,t,r){this.q5.R5&&this.logger.debug("Discovery service rejects offer from peer "+t+" on channel "+r);var i={t9:e,channel:r};return this.T9("answer",i,t)},e.prototype.answer=function(e,t,r,i){var n={answer:t,m9:this.q5.gd,channel:{label:e.label,ice_candidates:r}};return this.T9("answer",n,i)},e}();t._J=o},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=function(){function e(){this.rF=new i,this.I9=[],this.B6=new i,this.S9=new i}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.ED=e.ED,this.R9()},e.prototype.R9=function(){var e=this;s.Framework.setInterval(function(){e.w9()},n.hh.ya.Ea)},e.prototype.w9=function(){var e=this;this.B6.values().filter(function(e){return s.Framework.time()-e.qf.Lf>n.hh.ya.va}).forEach(function(t){e.ED.abort(t.Kf),e.lF(t.Zf(),t.$f())})},e.prototype.uF=function(e){this.b9(e.Zf(),e.$f()),this.B6.set(e.$f(),e)},e.prototype.lF=function(e,t){this.B6.delete(t),this.C9(e,t)},e.prototype.fF=function(e){this._9(e)},e.prototype.pF=function(e){this.rF.delete(e)},e.prototype._9=function(e){if(this.rF.set(e.Zf(),e.Jf()),this.I9.push(e.Zf()),this.rF.length>n.hh.ya.ga){var t=this.I9[0];this.rF.delete(t),this.I9.splice(0,1)}},e.prototype.tF=function(e){return this.rF.has(e)},e.prototype.iF=function(e){return this.rF.get(e)},e.prototype.b9=function(e,t){if(this.S9.has(e))this.S9.get(e).push(t);else{var r=[];r.push(t),this.S9.set(e,r)}},e.prototype.C9=function(e,t){if(this.S9.has(e)){var r=this.S9.get(e),i=r.indexOf(t);-1==i?this.logger.warn("I CANNOT FIND THE REQUEST ID "+t):r.splice(i,1),0==r.length&&this.S9.delete(e)}else this.logger.warn("TRIED TO REMOVE AN OBJECT THAT DOES NOT EXIST")},e.prototype.oF=function(e){var t=[];if(this.P9(e))for(var r=this.S9.get(e),i=0;i<r.length;i++)this.B6.has(r[i])&&t.push(this.B6.get(r[i]));return t},e.prototype.P9=function(e){return this.S9.has(e)},e.prototype.EF=function(){return 0!=this.B6.length},e.prototype.sF=function(e){return this.S9.has(e)},e}();t.ya=o},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(28),o=s.cg,a=function(){function e(){this.udpScore=0,this.A9=0,this.watchingBitrate=-1,this.O9=!1,this.N9=!1,this.D9=!1,this.k9=!1,this.L9=new i}return e.prototype.setId=function(e){this.M9=e},e.prototype.getId=function(){return this.M9},e.prototype.ZJ=function(e){this.udpScore=e},e.prototype.QG=function(){return this.udpScore},e.prototype.$J=function(e){this.A9=e},e.prototype.L1=function(){return this.A9},e.prototype.setContextId=function(e){var t=o.oT(e+"_"+n.hh.Ho.Do).toString(o.Uy.By);this.contextId=t},e.prototype.getContextId=function(){return this.contextId},e.prototype.kG=function(e){this.O9=e},e.prototype.ck=function(){return this.O9},e.prototype.YG=function(e){this.D9=e},e.prototype.yk=function(){return this.D9},e.prototype.Hj=function(e){this.k9=e},e.prototype.mk=function(){return this.k9},e.prototype.U1=function(e){this.F9=e},e.prototype.gk=function(){return this.F9},e.prototype.B1=function(e){this.U9=e},e.prototype.Fj=function(){return this.U9},e.prototype.DG=function(e){this.B9=e},e.prototype.Rk=function(){return this.B9},e.prototype.H9=function(e){this.N9=e},e.prototype.Tk=function(){return this.N9},e.prototype.FX=function(e){this.watchingBitrate=e},e.prototype.MX=function(){return this.watchingBitrate},e.prototype.FG=function(e){this.nG=e},e.prototype.Ik=function(){return this.nG},e.prototype.DH=function(e){this.privateIp=e},e.prototype.getPrivateIp=function(){return this.privateIp},e.prototype._H=function(e){this.publicIp=e},e.prototype.getPublicIp=function(){return this.publicIp},e.prototype.setReportingGuid=function(e){this.reportingGuid=e},e.prototype.getReportingGuid=function(){return this.reportingGuid},e.prototype.setDelta=function(e){this.delta=e},e.prototype.getDelta=function(){return this.delta},e.prototype.FD=function(e,t){this.L9.set(e,t)},e.prototype.kD=function(e){this.L9.delete(e)},e.prototype.Uj=function(){return this.L9},e.prototype.hB=function(){return this.Tk()?this.L9.keys():[]},e.prototype.cB=function(){return this.Tk()?[]:this.L9.keys()},e.prototype.XJ=function(e){this.ticket=e},e.prototype.Sk=function(){return this.ticket},e.prototype.WJ=function(e){this.mX=e},e.prototype.x8=function(){return this.mX},e}();t.HJ=a},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(10),s=r(183),o=r(2),a=r(1),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.e5=function(t,r){var i=[],s=[],h=[];try{var c=this.yD.gk();return t.forEach(function(e){e.Ek.peerInfo.type==n.Tc.W&&i.push(e);var t=e.Ek.peerInfo.internalAs;0!=c&&t&&c==t&&s.push(e),e.Ek.peerInfo.type==n.Tc.yc&&h.push(e)}),i.length>0?e.prototype.e5.call(this,i,r):s.length>0?e.prototype.e5.call(this,s,r):e.prototype.e5.call(this,h,r)}catch(e){return a.ErrorMonitor.ve().logError("Error choosing partner for p2p",this.loggerId,o.hs.ji.Vi,e),null}},t}(s.x9);t.UJ=h},function(e,t,r){"use strict";var i=r(0),n=r(5),s=r(1),o=r(2),a=function(){function e(){this.loggerId="[PickerTRSingle] ",this.logger=i.Framework.resolve(i.Framework.V.R).log()}return e.prototype.X8=function(e){this.yD=e},e.prototype.e5=function(e,t){var r=this.q9(e);return r?r[0]:null},e.prototype.G9=function(e,t){return n.hh.Fa.La*(e.k8()/t)+n.hh.Fa.Ma*(1-e.M8())},e.prototype.q9=function(e){var t=this;try{var r=.1;r+=e.map(function(e){return e.k8()}).reduce(function(e,t){return e+t});var i=e.sort(function(e,i){return t.G9(i,r)-t.G9(e,r)}),n=[];return i.forEach(function(e){n.push(e.guid+":"+t.G9(e,r))}),this.logger.debug("SC ["+n.join(", ")+"]"),i}catch(e){return s.ErrorMonitor.ve().logError("Error sorting the partners",this.loggerId,o.hs.Gi.qi,e),null}},e}();t.x9=a},function(e,t,r){"use strict";var i=r(49),n=r(3),s=r(59),o=r(7),a=r(5),h=r(0),c=r(47),u=r(91),l=r(6),p=l.he.Th,d=function(){function e(){this.V9=!1}return e.prototype.init=function(e){this.logger=h.Framework.resolve(h.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.GJ=e.GJ,this.oG=e.oG,this.zM=e.zM},e.prototype.RD=function(e){this.wD=e},e.prototype.G1=function(){this.V9=!0,this.cX()},e.prototype.LG=function(){if(a.hh.fa.na)return void this.j9();var e=!this.yD.yk()||this.yD.ck()||!p;this.logger.debug("REQUEST REMOTE ELECTION "+e),e?this.j9():this.Q9()},e.prototype.j9=function(){var e=this.yD.gk(),t=e&&0!=e?u.Xq.nD:u.Xq.AS;this.GJ.F1(t)},e.prototype.Q9=function(){this.GJ.F1(u.Xq.Jq)},e.prototype.cX=function(){var e=this;this.rX(),this.K9=h.Framework.setInterval(function(){e.LG()},a.hh.fa.oa),this.zM.SD(),this.LG()},e.prototype.rX=function(){this.K9&&h.Framework.clearInterval(this.K9)},e.prototype.iX=function(){this.zM.ek(),this.wD.LM()},e.prototype.MG=function(e){var t=new n;if(e){this.Y9().forEach(function(e){t.set(e,i.sD.iD)});var r=!1,s=i.sD.iD;this.yD.Tk()&&(s=i.sD.nD,r=!0),this.zM._D(t,s,r)}else this.zM._D(t,i.sD.mc,!1)},e.prototype.H1=function(e,t){var r=this,h=this.W9(t),c=this.zM.CD().isLive();if(e&&e.length>0){var u=new s;u.addEach(e);var l=a.hh.fa.ea||u.some(function(e){var t=o.rc.Zh(hive.services.protocol.IF.SF,e.key.rankType);return r.logger.info("GOT RANKING "+t+",CRV "+e.cumulatedRankValue+",RV "+e.ranking+",GS "+e.groupSize),r.z9(e)}),p=null!=h&&0!=h.length;if(this.logger.debug("Tracker reports ["+h.keys().join(", ")+"]  bitrates"),this.logger.debug("ISLive "+c+" DoElect "+l),a.hh.fa.$o&&c){var d=this.Y9();if(p&&l){this.yD.H9(!0),this.logger.info("BECOMING SITE LEADER");var f=new n;d.forEach(function(e){f.set(e,i.sD.iD)}),h.forEach(function(e,t){r.oG.kj.has(e)||f.set(t,i.sD.nD)}),this.zM._D(f,i.sD.nD,!1)}else{this.yD.H9(!1);var g=i.sD.mc,E=new n;this.yD.yk()&&this.yD.ck()&&(g=i.sD.iD,d.forEach(function(e){E.set(e,i.sD.iD)})),this.zM._D(E,g,!1)}}}else if(c){a.hh.fa.ea?this.yD.H9(!0):this.yD.H9(!1);var v=new n,g=i.sD.mc;if(this.yD.yk()&&this.yD.ck()){var y=this.Y9();y.forEach(function(e){v.set(e,i.sD.iD)}),g=i.sD.iD}a.hh.fa.ea&&(g=i.sD.nD),this.zM._D(v,g,!1)}},e.prototype.Jj=function(){var e=this.Y9(),t=new n;e.forEach(function(e){t.set(e,i.sD.iD)});var r=!1,s=i.sD.iD;this.yD.Tk()&&(s=i.sD.nD,r=!0),this.zM._D(t,s,r)},e.prototype.Y9=function(){var e=new s;return this.oG.kj.forEach(function(t,r){t.peerInfo.watchingBitrate&&!e.has(t.peerInfo.watchingBitrate)&&e.add(t.peerInfo.watchingBitrate)}),e.toArray()},e.prototype.W9=function(e){var t=new n,r=this.yD.gk();return e.forEach(function(e){null!=e.watchingBitrate&&(r>0?r===e.internalAs&&t.set(e.watchingBitrate,e.guid):t.set(e.watchingBitrate,e.guid))}),t},e.prototype.z9=function(e){if(e.groupSize<2)return!1;var t=Math.max(1,Math.round(e.groupSize*a.hh.fa.ra));return p||h.Framework.C()&&c.$N.XN?e.ranking<t&&(this.yD.ck()||!this.yD.yk()):e.ranking<t},e.prototype.ZD=function(e,t,r,n){var s=1,o=this.wD.lk(r,t),c=a.hh.fa.ha*h.Framework.random();if(e==i.sD.iD){var u=this.wD.xM(),l=u-c;s=Math.max(1,o-l)}else if(e==i.sD.nD){var p=a.hh.fa.ca-c;s=Math.max(1,o-p)+n}return s=Math.round(s)},e}();t.BJ=d},function(e,t,r){"use strict";var i=r(0),n=r(3),s=r(23),o=r(33),a=r(1),h=r(2);r(60);var c=function(){function e(){this.J9=!1,this.loggerId="[TRACKER] ",this.X9=new n,this.yg=new o.Yb,this.protocol=new o.bC(this.yg),this.logger=i.Framework.resolve(i.Framework.V.R).log(),i.Framework.C()||(this.client=i.Framework.resolve(i.Framework.V.G))}return e.prototype.m1=function(e,t){try{return this.logger.debug("TRACKER CLIENT REGISTERED "+e),this.X9.has(e)||this.X9.set(e,t),this.X9.get(e)}catch(e){a.ErrorMonitor.ve().logError("Error adding new tracker client",this.loggerId,h.hs.xi.Mi,e)}},e.prototype.Rg=function(e){this.X9.delete(e)},e.prototype.wg=function(e){return this.X9.get(e)},e.prototype.M1=function(e){var t=this;if(this.client&&this.client.zd()){var r=this.Z9(e),i=new s.Jd(Services.pY,1,r),n=this.client.zd().send(i);n.then(function(){return t.logger.info("TRACKER REQUEST SENT")}),n.fail(function(e){a.ErrorMonitor.ve().logError("Error sending tracker request",t.loggerId,h.hs.xi.Di)})}else a.ErrorMonitor.ve().logError("Error sending tracker request because of connection",this.loggerId,h.hs.xi.Bi)},e.prototype.init=function(){var e=this;this.logger.debug("TRACKER MANAGER INIT"),this.client&&this.client.zd()?this.client.zd().on(Services.pY,10,function(t){try{var r=e.e7(t.msg);if(r&&e.X9.has(r.sessionId)){e.X9.get(r.sessionId).KX(r)}else e.logger.warn("SESSION ID NOT VALID OR NULL "+r.sessionId)}catch(t){a.ErrorMonitor.ve().logError("Error initializing the tracker manager",e.loggerId,h.hs.xi.Hi,t)}}):i.Framework.C()||this.logger.warn(this.loggerId+" CANNOT GET ACTIVE CONNECTION")},e.prototype.e7=function(e){try{var t='[1, "TRACKER_RESP", 4, 0,'+e+"]";this.yg.eC(t);var r=(this.protocol.zC(),new hive.services.protocol.IF.TrackerResponse);return r.read(this.protocol),r.infos.map(function(e){e.guid=atob(e.guid),e.publicIp=new InetAddress,e.publicIp.address=e.publicIpString,e.privateIp=new InetAddress,e.privateIp.address=e.privateIpString}),r.peerInfo.guid=atob(r.peerInfo.guid),r.peerInfo.publicIp=new InetAddress,r.peerInfo.publicIp.address=r.peerInfo.publicIpString,r.peerInfo.privateIp=new InetAddress,r.peerInfo.privateIp.address=r.peerInfo.privateIpString,this.protocol.t_(),this.J9&&this.logger.debug("RESP "+JSON.stringify(r)),r}catch(e){return a.ErrorMonitor.ve().logError("Error deserializing the tracker response",this.loggerId,h.hs.xi.Ui,e),null}},e.prototype.Z9=function(e){try{this.protocol.AC("TRACKER_REQ",o.gb.ONEWAY,0),e.write(this.protocol),this.protocol.DC();var t=this.yg.pC(),r=this.FB(t,",",4);return t.slice(r+1,t.length-1)}catch(e){throw a.ErrorMonitor.ve().logError("Error serializing the new request",this.loggerId,h.hs.xi.Fi,e),new Error(e)}},e.prototype.FB=function(e,t,r){return e.split(t,r).join(t).length},e}();t.wJ=c},function(e,t,r){"use strict";var i=r(26),n=i.HiveComm.$g,s=i.HiveComm.eE,o=function(){function e(){}return e.prototype.init=function(e,t){this.peer=e,this.rl=t},e.prototype.t7=function(e){e.uuid=this.rl.Ul.gd;var t=this.rl.Ul.iB.KU,r=this.r7(t.p2pSubRespQt),i=this.r7(t.srcRespQt);e.cdnRequests+=this.r7(t.srcReqN),e.cdnResponses+=this.r7(t.srcRespN),e.cdnResponseErrors+=this.r7(t.srcRespErrN),e.cdnResponseBytes+=this.r7(t.srcRespQt),e.p2pRequests+=this.r7(t.p2pSubReqN),e.p2pResponses+=this.r7(t.p2pSubRespN),e.p2pResponseErrors+=this.r7(t.p2pSubRespErrN),e.p2pResponseBytes+=this.r7(t.p2pSubRespQt),e.savings=this.r7(r/(i+r)*100)},e.prototype.r7=function(e){return e||0},e.prototype.i7=function(e){var t=this;e.uuid=this.rl.Ul.gd,this.rl.Ul.iB.WU.forEach(function(r,i){e.partners[i]||(e.partners[i]=new s);var n=e.partners[i];n.uuid=i,n.sentBytes+=t.r7(r.p2pSuccSent),n.receivedBytes+=t.r7(r.p2pSuccReceived),n.successTransfers+=t.r7(r.p2pSuccReq),n.failedTransfers+=t.r7(r.p2pFailReq)})},e.prototype.render=function(){var e=this.rl.renderStatsCallback;if(e){var t=new n;this.t7(t),this.i7(t);try{e(t)}catch(e){console.warn("error in rendering local stats",e)}}},e}();t.mJ=o},function(e,t,r){"use strict";var i=r(35),n=r(3),s=r(0),o=r(5),a=r(1),h=r(2),c=function(){function e(){this.loggerId="[ChunkHandler] ",this.n7=new n,this.s7=new n}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId)},e.prototype.YX=function(e){try{var t=e.Zf(),r=e.jf,n=e.qf.Pf,c=Math.ceil(n/o.hh.Fa.Da),u=e.zf.bitrate,l=0,p=Math.min(o.hh.Fa.Da,n);this.o7(t,u);for(var d=p-l;c>0;){var f=null;try{s.Framework.C()||(f=i.wrap(r.slice(l,p))),l+=d}catch(e){a.ErrorMonitor.ve().logError("Error wrapping chunk",this.loggerId,h.hs.Or.Pr,e)}this.n7.get(t).push(f),c--,p=Math.min(l+o.hh.Fa.Da,n),d=p-l}}catch(e){a.ErrorMonitor.ve().logError("Error adding fragment to the fragmentMap",this.loggerId,h.hs.Or.Cr,e)}},e.prototype.o7=function(e,t){try{if(this.s7.has(t)&&this.s7.get(t).length>o.hh.Ra.Sa){var r=this.s7.get(t)[0];this.n7.delete(r),this.s7.get(t).shift()}if(this.s7.has(t))this.s7.get(t).push(e),this.n7.set(e,[]);else{var i=[e];this.s7.set(t,i),this.n7.set(e,[])}}catch(e){a.ErrorMonitor.ve().logError("Error generating the chunk handler hashmaps",this.loggerId,h.hs.Or.Ar,e)}},e.prototype.l8=function(e,t){return this.n7.has(e)?this.n7.get(e)[t]:null},e.prototype.a7=function(e){return this.s7.get(e)},e.prototype.oX=function(){this.n7=new n,this.s7=new n},e}();t.PJ=c},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=r(2),a=r(1),h=r(28),c=(h.cg,function(){function e(){this.loggerId="[IPSpoofing] ",this.h7=n.hh.Vo.xo}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.TD=e.TD,this.c7=new i,this.u7=new i,this.h7&&this.l7()},e.prototype.fj=function(e,t,r){try{if(!this.h7)return!1;if(this.c7.has(e)||!t||!r)return!1;var i=this.p7(t,r);if(i&&this.u7.has(i)){if(this.u7.get(i).length>=n.hh.Vo.qo)return a.ErrorMonitor.ve().logError("Error peer violates ip spoofing rules",this.loggerId,o.hs.bn.Sn,{privateIp:t,publicIp:r,otherGuid:e}),this.logger.debug(this.loggerId+"Spoofing rule violated for "+e+" with privateIp "+t+" publicIp "+r),!0}return!1}catch(t){return a.ErrorMonitor.ve().logError("Error checking if peer violates ip spoofing rules",this.loggerId,o.hs.bn.In,{detailedError:t,otherGuid:e}),!1}},e.prototype.Tj=function(e,t,r){try{if(this.h7&&r&&t){var i=this.p7(t,r),n=this.c7.get(e);n&&n!=i&&this.d7(e,n),this.f7(e,i)}}catch(t){a.ErrorMonitor.ve().logError("Error adding or updating ip spoofing maps",this.loggerId,o.hs.bn.Rn,{detailedError:t,otherGuid:e})}},e.prototype.g7=function(e){this.h7&&this.Gj(e)},e.prototype.KG=function(e){this.h7&&this.Gj(e)},e.prototype.f7=function(e,t){this.c7.set(e,t);var r=[];this.u7.has(t)&&(r=this.u7.get(t),-1!=r.indexOf(e))||(r.push(e),this.u7.set(t,r))},e.prototype.Gj=function(e){var t=this.c7.get(e);t?(this.d7(e,t),this.c7.delete(e)):this.logger.warn(this.loggerId+"no ip pair for guid "+e)},e.prototype.d7=function(e,t){var r=this.u7.get(t),i=r.indexOf(e);-1!=i?(r.splice(i,1),0==r.length?this.u7.delete(t):this.u7.set(e,r)):this.logger.warn(this.loggerId+"pair list "+t+" does not contain guid "+e)},e.prototype.p7=function(e,t){return t+":"+e},e.prototype.l7=function(){var e=this;s.Framework.setInterval(function(){try{var t=[];e.u7.forEach(function(r,i){if(r.length>n.hh.Vo.qo){for(var s=[],o=n.hh.Vo.qo;o<r.length;o++)s.push(r[o]);e.logger.warn("IpSpoofing violation for "+i+" - closing: "+s),t.concat(s)}}),t.forEach(function(t){e.TD.bj(t)})}catch(t){a.ErrorMonitor.ve().logError("Error checking periodic ip spoofing tables",e.loggerId,o.hs.bn.wn,t)}},n.hh.Vo.Go)},e}());t.Vo=c},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(190),s=r(5),o=r(98),a=r(0),h=r(2),c=r(1),u=function(e){function t(){var t=e.call(this)||this;return t.E7="[Score Partner Selection] ",t.type="Score",t}return i(t,e),t.prototype.v7=function(e,t){try{return t.sort(o.EQ.dQ),t.slice(0,e)}catch(e){return c.ErrorMonitor.ve().logError("Error selecting partners to remove",this.E7,h.hs.vr.pr,e),[]}},t.prototype.y7=function(e,t,r,i){try{return i.filter(function(e){return t.every(function(t){return t.guid!=e.peerInfo.guid})&&-1==r.indexOf(e.peerInfo.guid)}).slice(0,e)}catch(e){return c.ErrorMonitor.ve().logError("Error selecting partners to add",this.E7,h.hs.vr.dr,e),[]}},t}(n.T7);t.OJ=u;var l=function(){function e(){this.E7="[Score Partner Selection] "}return e.prototype.Nj=function(e){try{var t=e.filter(function(e){return!e.wj.yg.Dg()}),r=a.Framework.time(),i=t.filter(function(e){return r-e.y8>s.hh.Ho.Bo});return i.length>0?(i.sort(o.yQ.dQ),i.slice(0,1)[0]):null}catch(e){return c.ErrorMonitor.ve().logError("Error updating partners out",this.E7,h.hs.vr.gr,e),null}},e}();t.NJ=l},function(e,t,r){"use strict";var i=r(97),n=r(5),s=r(0),o=r(1),a=r(2),h=function(){function e(){this.jM="[BaseInPartnerSelection] ",this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.uj=function(e,t,r,h){try{var c=[],u=[],l=Math.round(e*(1-n.hh.No.Ao)),p=Math.max(t.length-l,0),d=e-t.length+p;if(p>0){var f=t.filter(function(e){return!e.wj.yg.Dg()}),g=s.Framework.time(),E=f.filter(function(e){return g-e.y8>n.hh.Ho.Bo}),v=Math.min(E.length,p);u=this.v7(v,E);var y=[],T=[];u.forEach(function(e){y.push(e.guid),T.push(e.gQ.fQ(!1))})}return d>0&&(c=this.y7(d,t,r,h)),this.logger.debug("[PART] A/R: "+d+"/"+p+" ["+c.map(function(e){return e.peerInfo.guid.substring(0,8)})+"/"+u.map(function(e){return e.guid.substring(0,8)})+"] P:["+t.map(function(e){return e.guid.substring(0,8)})+"] M:["+h.map(function(e){return e.peerInfo.guid.substring(0,8)})+"]"),new i.pQ(c,u)}catch(e){return o.ErrorMonitor.ve().logError("Error updating in partners",this.jM,a.hs.lr.ur,e),new i.pQ([],[])}},e}();t.T7=h},function(e,t,r){"use strict";var i=r(3),n=r(97),s=r(5),o=r(0),a=r(7),h=r(98),c=r(2),u=r(1),l=function(){function e(){this.m7="[Delta Partner Selection] "}return e.prototype.uj=function(e,t,r,i,a){try{this.yD=e;var h=[],l=[],p=Math.round(t*(1-s.hh.No.Ao)),d=Math.max(r.length-p,0),f=t-r.length+d;if(d>0){var g=r.filter(function(e){return!e.wj.yg.Dg()}),E=o.Framework.time(),v=g.filter(function(e){return E-e.y8>s.hh.Ho.Bo}),y=Math.min(v.length,d);l=this.v7(y,v),l.length>y&&(f+=l.length-y);var T=[],m=[];l.forEach(function(e){T.push(e.guid),m.push(e.gQ.fQ(!1))})}return f>0&&(h=this.y7(f,r,i,a)),new n.pQ(h,l)}catch(e){return u.ErrorMonitor.ve().logError("Error updating in partners",this.m7,c.hs.Rr.ur,e),new n.pQ([],[])}},e.prototype.v7=function(e,t){var r=this;try{t.sort(h.EQ.dQ);var i=t.slice(0,e);return t.slice(e,t.length).forEach(function(e){r.I7(e.Ek)&&i.push(e)}),i}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partners to remove",this.m7,c.hs.Rr.pr,e),[]}},e.prototype.y7=function(e,t,r,i){var n=this;try{var o=[],a=[],h=[],l=[],p=[],d=this.yD.gk();d||(d=-1);var f=[];t.forEach(function(e){f.push(e.guid)});var g=Math.floor(e*s.hh.Ho.Mo),E=this.yD.Uj();i.forEach(function(e){var t=e.peerInfo.streams;if(t){var r=n.isLeader(e,t,d,E);r.cG?r.S7?o.push(e):a.push(e):n.R7(e,s.hh.Ho.Lo)?n.I7(e)?p.push(e):l.push(e):h.push(e)}else p.push(e)});var v=this.w7(o,a,h,l,p,e,e,g);return v.slice(0,Math.min(v.length,e))}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partners to add",this.m7,c.hs.Rr.dr,e),[]}},e.prototype.w7=function(e,t,r,i,n,h,l,p){try{var d=[],f=[];e.length>0&&o.Framework.random()<s.hh.Ho.Fo&&(e=a.rc.zh(e),f=e.slice(0,Math.min(e.length,p)),d.push.apply(d,f),l=h-f.length);var g=[];t.length>0&&(t=a.rc.zh(t),g=t.slice(0,Math.min(t.length,p)),d.push.apply(d,g),l=h-g.length);var E=[];r.length>0&&(r=a.rc.zh(r),E=r.slice(0,Math.min(r.length,p)),d.push.apply(d,E),l=h-E.length);var v=null;if(i.length>0){i=a.rc.zh(i),v=i.slice(0,Math.min(i.length,l));l=h-((E.length>0?E.length:0)-v.length)}var y=[];return l>0&&n.length>0&&(n=a.rc.zh(n),y=n.slice(0,Math.min(n.length,l)),d.push.apply(d,y)),d}catch(e){return u.ErrorMonitor.ve().logError("Error grouping partners",this.m7,c.hs.Rr.yr,e),[]}},e.prototype.isLeader=function(e,t,r,n){try{var s=!1,o=!1,a=new i;t.forEach(function(e){a.set(e.bitrate,e)});var h=new i;return a.forEach(function(e,t){n.has(t)&&h.set(t,e)}),h.keys().length>0&&h.forEach(function(t,i){var a=n.get(i);if(a&&t.state>=2&&a.type>=1){var h=e.peerInfo.internalAs;h>0&&h==r&&(o=!0),s=!0}}),{cG:s,S7:o}}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is leader or same site",this.m7,c.hs.Rr.Tr,{detailedError:t,otherGuid:e.peerInfo.guid}),{cG:!1,S7:!1}}},e.prototype.R7=function(e,t){try{var r=this.yD.getDelta(),i=this.yD.MX(),n=this.b7(e,i);return(0!=r||0!=n)&&(r<n&&r>n+t)}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is ahead or behind delta",this.m7,c.hs.Rr.mr,{detailedError:t,otherGuid:e.peerInfo.guid}),!1}},e.prototype.I7=function(e){try{var t=this.yD.getDelta(),r=this.yD.MX(),i=this.b7(e,r);return 0==t&&0==i||t>i}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is behind or not retrieveing the same bitrate",this.m7,c.hs.Rr.Ir,{detailedError:t,otherGuid:e.peerInfo.guid}),!1}},e.prototype.b7=function(e,t){try{var r=e.peerInfo.streams,i=0;return r&&r.forEach(function(e){e.bitrate==t&&(i=e.delta)}),i}catch(t){return u.ErrorMonitor.ve().logError("Error retrieving delta for member's bitrate",this.m7,c.hs.Rr.Sr,{detailedError:t,otherGuid:e.peerInfo.guid}),0}},e}();t.DJ=l;var p=function(){function e(){this.loggerId="[Throughput Partner Selection] ",this.logger=o.Framework.resolve(o.Framework.V.R).log()}return e.prototype.Nj=function(e,t,r){var n=this;try{this.yD=e;var a=this.yD.Uj(),h=t.streams;if(h){var l=r.filter(function(e){return!e.wj.yg.Dg()}),p=o.Framework.time(),d=l.filter(function(e){return p-e.y8>s.hh.Ho.Bo});if(0==h.filter(function(e){return a.has(e.bitrate)}).length)return null;var f=this.C7(d),g=this._7(a,f);if(g)return g;var E=a.keys().length,v=d.length,y=Math.round(v/E),T=f.keys().filter(function(e){return a.has(e)}),m=new i;T.forEach(function(e){m.set(e,f.get(e))});var I=this.P7(m,y);return null!=I?I:(h.forEach(function(e){var t=m.get(e.bitrate);if(null!=t){var r=n.A7(t);if(r.length>0&&!s.hh.Ho.Uo)return r[0]}}),null)}return null}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partner to update out",this.loggerId,c.hs.br.wr,e),null}},e.prototype.C7=function(e){var t=new i;return e.forEach(function(e){var r=e.Ek.peerInfo.watchingBitrate;if(r||(r=-1),t.has(r)){var i=t.get(r);i.push(e),t.set(r,i)}else t.set(r,[e])}),t},e.prototype.A7=function(e){return e.filter(function(e){if(0==e.vQ.I5(s.hh.Oa.Aa))return e})},e.prototype.P7=function(e,t){var r=[];e.forEach(function(e,t){r.push({bitrate:t,O7:e.length})}),r.sort(function(e,t){return e.O7>t.O7?1:e.O7<t.O7?0:-1});var i=null;return r.forEach(function(r){if(e.get(r.bitrate).length>t){var n=e.get(r.bitrate);n.length>0&&(n.sort(h.yQ.dQ),i=n[0])}}),i},e.prototype._7=function(e,t){var r=this,i=null;if(t.has(-1))i=t.get(-1)[0];else{t.filter(function(t,r){return!e.has(r)}).forEach(function(e,t){var n=r.A7(e);if(n.length>0)return void(i=n[0])})}return i},e}();t.kJ=p},function(e,t,r){"use strict";var i=r(0),n=r(9),s=r(34),o=r(24),a=r(10),h=r(14),c=r(5),u=function(){function e(){this.N7=!0===h.HiveConfig.Stats.AudioAccounting,this.D7=null}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.loggerId="S["+e.sessionId+"]",this.Ul=e.rl.Ul,this.yD=e.yD,this.pX()},e.prototype.Z1=function(e){this.Ul.FL.metrics.memN=e,this.Ul.iB.metrics.memN=e},e.prototype.vj=function(e,t){this.Ul.FL.metrics.lookupTotal++,this.Ul.iB.metrics.lookupTotal++,e?(this.Ul.FL.metrics.lookupNotFound++,this.Ul.iB.metrics.lookupNotFound++,this.Ul.FL.metrics.lookupFailed++,this.Ul.iB.metrics.lookupFailed++):t?(this.Ul.FL.metrics.lookupFailed++,this.Ul.iB.metrics.lookupFailed++):(this.Ul.FL.metrics.lookupReqEstablished++,this.Ul.iB.metrics.lookupReqEstablished++)},e.prototype.Mj=function(){this.Ul.FL.metrics.lookupReqAccept++,this.Ul.iB.metrics.lookupReqAccept++},e.prototype.S8=function(e,t,r,i,n){if(this.N7||i){var s=n==o.bf.wf,a=this.Ul.OB(e),h=this.Ul.AB(e);a.p2pSuccReq++,a.p2pSuccReceived+=t,h.p2pSuccReq++,h.p2pSuccReceived+=t,s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t),r>0&&!s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t)}},e.prototype.b8=function(e,t,r,i,n,s){if(this.N7||n){var a=s==o.bf.wf,h=this.Ul.OB(e),c=this.Ul.AB(e);h.p2pFailReq++,h.p2pSuccReceived+=t,h.p2pFailReceived+=i-t,c.p2pSuccReq++,c.p2pSuccReceived+=t,c.p2pFailReceived+=i-t,a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t),r>0&&!a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t)}},e.prototype.C8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(e),n=this.Ul.AB(e);i.p2pFailReq++,i.p2pFailReceived+=t,n.p2pFailReq++,n.p2pFailReceived+=t}},e.prototype.P8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(t),n=this.Ul.AB(t);i.p2pSuccResp++,i.p2pSuccSent+=e,n.p2pSuccResp++,n.p2pSuccSent+=e}},e.prototype.D8=function(e,t,r,i){if(this.N7||i){var n=this.Ul.OB(r),s=this.Ul.AB(r);n.p2pPartResp++,n.p2pSuccSent+=e,n.p2pFailSent+=t-e,s.p2pPartResp++,s.p2pSuccSent+=e,s.p2pFailSent+=t-e}},e.prototype.O8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(t),n=this.Ul.AB(t);i.p2pFailResp++,i.p2pFailSent+=e,n.p2pFailResp++,n.p2pFailSent+=e}},e.prototype.ZM=function(e){e?this.Ul.FL.metrics.bitrateUpN++:this.Ul.FL.metrics.bitrateDwnN++},e.prototype.NX=function(e){if(-1==[n.vc.gc,n.vc.Ec].indexOf(e.Xf())){var t=e.Xf()!=n.vc.dc;if((this.N7||t)&&(this.Ul.bB().reqN++,this.Ul.xL().reqN++,e.Xf()==n.vc.fc)){var r=e;if(r.bitrate){var i=r.bitrate;this.Ul.CB(i).reqN++,this.Ul.BL(i).reqN++}}}else this.Ul.bB().reqOtherN++,this.Ul.xL().reqOtherN++},e.prototype.$X=function(e){var t=e.Xf()!=n.vc.dc;if(this.N7||t){var r=this.Ul.bB(),i=this.Ul.xL(),s=null,a=null;if(-1==[n.vc.gc,n.vc.Ec].indexOf(e.Xf())){if(r.srcReqN++,i.srcReqN++,t){var h=this.k7(e);h&&(s=this.Ul.CB(h),a=this.Ul.BL(h),s.srcReqN++,a.srcReqN++)}if(e.Jf()==o.bf.If&&(r.srcOtherReqN++,i.srcOtherReqN++,t)){var h=this.k7(e);h&&(s.srcOtherReqN++,a.srcOtherReqN++)}}}},e.prototype.t5=function(e){if(this.Ul.bB().p2pSubReqN++,this.Ul.xL().p2pSubReqN++,e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubReqN++,this.Ul.BL(t).p2pSubReqN++)}},e.prototype.L7=function(e,t){this.M7(e,this.Ul.xL()),this.M7(e,this.Ul.bB());var r=this.k7(e);r&&e.Xf()===n.vc.fc&&(this.M7(e,this.Ul.CB(r)),this.M7(e,this.Ul.BL(r))),isNaN(t)||(this.Ul.FL.metrics.srcThroughput=t)},e.prototype.nZ=function(e,t){var r=e.Xf()!=n.vc.dc;(this.N7||r)&&(-1!=[n.vc.gc,n.vc.Ec].indexOf(e.Xf())?(this.Ul.bB().respFallbackOtherN++,this.Ul.xL().respFallbackOtherN++):this.L7(e,t))},e.prototype.tZ=function(e,t){if(-1!=[n.vc.gc,n.vc.Ec].indexOf(e.Xf()))this.Ul.bB().respFallbackOthertErrN++,this.Ul.xL().respFallbackOthertErrN++;else{var r=e.Xf()!=n.vc.dc;if(this.N7||r)if(this.XM(e.type)){if(this.Ul.xL().respFallbackErrN++,this.Ul.bB().respFallbackErrN++,r){var i=this.k7(e);i&&(this.Ul.CB(i).respFallbackErrN++,this.Ul.BL(i).respFallbackErrN++)}if(0==e.qf.Df&&(this.Ul.xL().srcRespErrN++,this.Ul.bB().srcRespErrN++,r)){var i=this.k7(e);i&&e.Xf()===n.vc.fc&&(this.Ul.CB(i).srcRespErrN++,this.Ul.BL(i).srcRespErrN++)}this.L7(e,t)}else if(-1!=c.hh.Xo.Jo.indexOf(e.Kf.status))this.Ul.bB().fallAgentFailedRespN++,this.Ul.xL().fallAgentFailedRespN++,this.Ul.bB().reqN--,this.Ul.xL().reqN--;else{if(0==e.qf.Df&&(this.Ul.bB().srcOtherRespErrN++,this.Ul.xL().srcOtherRespErrN++),!r){var i=this.k7(e);i&&e.Xf()===n.vc.fc&&(this.Ul.CB(i).srcOtherRespErrN++,this.Ul.BL(i).srcOtherRespErrN++)}this.L7(e,t)}}},e.prototype.BX=function(e,t){if(t.Wq==o.bf.wf)this.Ul.xL().respP2pN++,this.Ul.bB().respP2pN++;else if(t.Wq==o.bf.If)this.Ul.xL().respFallbackN++,this.Ul.bB().respFallbackN++;else if(t.Wq==o.bf.Tf){this.Ul.xL().lCacheRespN++,this.Ul.bB().lCacheRespN++;var r=i.Framework.C()?t.length:e.jf.byteLength;this.Ul.xL().lCacheRespQt+=r,this.Ul.bB().lCacheRespQt+=r}},e.prototype.zX=function(e,t){var r=e.Xf()!=n.vc.dc;(this.N7||r)&&this.L7(e,t)},e.prototype.VX=function(e){if(0!=e.Qf){this.Ul.bB().p2pSubRespErrN++,this.Ul.xL().p2pSubRespErrN++;if(e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubRespErrN++,this.Ul.BL(t).p2pSubRespErrN++)}}},e.prototype.r5=function(e){if(this.Ul.bB().p2pSubRespExpN++,this.Ul.xL().p2pSubRespExpN++,e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubRespExpN++,this.Ul.BL(t).p2pSubRespExpN++)}},e.prototype.M7=function(e,t){var r=e.qf.Pf,i=e.qf.Df,s=e.qf.Af,o=e.qf.Of,h=e.qf.Nf;if(e.Xf()!=n.vc.gc){if(e.qf.Cf&&o&&o<r){var c=o/r;t.p2pSubRespPartN+=c,this.XM(e.type)||(t.p2pAgenTrafficFailureQt+=r-s)}if(0!=h&&(h==r&&t.lCacheRespN++,t.lCacheRespQt+=e.qf.Nf),0!=s)if(s==r&&(this.XM(e.type)&&t.respP2pN++,t.p2pSubRespN++),t.p2pSubReqQt+=r,t.p2pSubRespQt+=s,t.p2pAgenTrafficSuccessQt+=e.qf.p2pAgenTrafficSuccessQt,t.p2pDirectQt+=s,e.xq.Ek.peerInfo.type==a.Tc.W)t.p2pUdpbQt+=s,t.p2pNatQt+=s;else{var u=this.yD.gk();if(u&&u>0)if(null!=e.qq){var l=e.qq.internalAs;u===l&&(t.p2pNatQt+=s)}else this.logger.warn("Missing partner info")}}if(0!=i){if(this.F7(e.type)&&(t.srcOtherReqQt+=e.qf.Df),i==r)this.F7(e.type)?(t.srcOtherRespN++,t.srcOtherRespQt+=e.qf.Df,t.srcOtherOverQt+=e.qf.Df,t.fallAgentRespN++):t.respFallbackN++,t.srcRespN++;else{t.srcRespErrN++;var p=i/(s+i);t.respFallbackN=p,t.respP2pN=1-p,this.F7(e.type)&&(t.srcOtherRespErrN++,t.srcOtherRespQt+=e.qf.Df,t.srcOtherOverQt+=e.qf.Df,t.fallAgenTrafficFailureQt+=e.qf.Df)}t.srcReqQt+=e.qf.Df,t.srcRespQt+=e.qf.Df,t.srcOverQt+=e.qf.Df,this.F7(e.type)&&(t.fallAgenTrafficSuccessQt+=e.qf.kf)}},e.prototype.k7=function(e){var t=null;if(e.zf instanceof s.N_){var r=e.zf;r.bitrate&&(t=r.bitrate)}return t},e.prototype.XM=function(e){return e!=o.bf.wf&&e!=o.bf.If},e.prototype.F7=function(e){return!this.XM(e)},e.prototype.pX=function(){this.U7()},e.prototype.hX=function(){i.Framework.clearInterval(this.D7),this.D7=null},e.prototype.U7=function(){var e=this;null!=this.D7&&(this.D7=i.Framework.setInterval(function(){e.Ul.ZU=e.yD.Fj(),e.Ul.XU=e.yD.gk(),e.Ul.IB=e.yD.getPublicIp()},c.hh.ih.rh))},e}();t.TJ=u},function(e,t,r){"use strict";var i=r(0),n=r(5),s=r(10),o=r(194),a=r(14),h=function(){function e(){this.B7=!1,this.loggerId="[UDPBDiscovery] ",this.H7=-1}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.x7=e.VJ,this.yD=e.yD},e.prototype.JJ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.vl=e,this.contextId=this.yD.getContextId()},e.prototype.startServer=function(){var e=this;this.logger.debug(this.loggerId+"START UDP BROADCAST SERVER"),this.x7.startServer(n.hh.UDPBroadcast.Ua,function(t,r){if(e.H7>-1){var i=o.q7.yf(r);if(i.uuid!=e.guid&&i.streamId==e.contextId&&i.p2pProtocolVersion===n.hh.Ho.Do){e.logger.debug(e.loggerId+"I RECEIVED A MESSAGE FROM "+i.uuid);var a=new s.bc(s.Tc.W,null,i.isLeader);a.guid=i.uuid,a.privateIpString=t,a.rankValue=i.rankValue,e.vl.forEach(function(e){return e.gG([a],!1)})}}})},e.prototype.lX=function(){var e=this;this.logger.info(this.loggerId+"START BROADCAST EVERY "+n.hh.UDPBroadcast.Ba),-1!=this.H7&&i.Framework.clearInterval(this.H7),this.H7=i.Framework.setInterval(function(){e.G7()},n.hh.UDPBroadcast.Ba),this.G7()},e.prototype.sX=function(){-1!=this.H7&&i.Framework.clearInterval(this.H7)},e.prototype.G7=function(){var e=new o.q7(this.contextId,this.yD.getId(),this.yD.QG(),this.yD.ck(),n.hh.Ho.Do);this.logger.info(this.loggerId+"BROADCAST MESSAGE contextId "+e.streamId+" id "+e.uuid+" udpscore "+e.rankValue+" lan leader "+e.isLeader+" protobufVersion "+e.p2pProtocolVersion),a.HiveConfig.UDPBroadcast.usiz&&(n.hh.UDPBroadcast.Ha=a.HiveConfig.UDPBroadcast.usiz),this.x7.broadcast(n.hh.UDPBroadcast.Ua,n.hh.UDPBroadcast.Ha,e.vf())},e.prototype.Ud=function(e){this.logger.info("UDPDISCOVERY SERVER CONNECTED"),this.B7||(this.guid=e,this.startServer(),this.lX())},e}();t.gJ=h},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.streamId=e,this.uuid=t,this.rankValue=r,this.isLeader=i,this.p2pProtocolVersion=n}return e.prototype.vf=function(){var e={streamId:this.streamId,uuid:this.uuid,rankValue:this.rankValue,isLeader:this.isLeader,p2pProtocolVersion:this.p2pProtocolVersion};return JSON.stringify(e,this.V7)},e.prototype.V7=function(e,t){if(null!==t)return t},e.yf=function(t){var r=t,i=JSON.parse(r);return new e(i.streamId,i.uuid,i.rankValue,i.isLeader,i.p2pProtocolVersion)},e}();t.q7=i},function(e,t,r){"use strict";var i=r(0),n=function(){function e(){this.loggerId="[ProxyUDPB]",this.logger=i.Framework.resolve(i.Framework.V.R).log(),this.x7=window.myUdpBroadcaster,this.x7||this.logger.error(this.loggerId+" helper undefined")}return e.prototype.startServer=function(e,t){try{this.x7&&this.x7.startServer(e,t)}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.j7=function(){try{this.x7&&this.x7.j7()}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.broadcast=function(e,t,r){try{this.x7&&this.x7.broadcast(e,t,r)}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.sX=function(){try{this.x7&&this.x7.sX()}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.Q7=function(e,t){try{this.x7&&this.x7.Q7(e,t)}catch(e){this.logger.warn(this.loggerId+e)}},e}();t.EJ=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(88),s=r(197),o=r(89),a=r(90),h=r(62),c=r(24),u=r(34),l=r(4),p=r(1),d=function(e){function t(){var t=e.call(this)||this;return t.K7.onerror=function(e){p.ErrorMonitor.ve().logError("Shared Worker error",{error:e.message})},t.Y7.onerror=function(e){p.ErrorMonitor.ve().logError("Web Worker error",{error:e.type})},t.K7.port.start(),t}return i(t,e),t.prototype.W7=function(){var e=this;setTimeout(function(){e.z7()},1e3)},t.prototype.z7=function(){var e=this;this.K7.port.onmessage=function(t){e.logger.debug("LRU length : "+t.data.response)},this.logger.debug("Send message"),this.K7.port.postMessage({type:s.X7.J7}),this.W7()},t.prototype.contains=function(e){var t=this,r=l.defer();if(this.kq.has(e))r.resolve(!0);else{var i=!1,n=setTimeout(function(){i=!0,t.logger.debug("VOD CONTAINS TIMEDOUT : "+e),r.resolve(!1)},1e3);this.K7.port.onmessage=function(e){clearTimeout(n),i||(e.data.response?r.resolve(!0):r.resolve(!1))},this.K7.onerror=function(e){t.logger.error(e)},this.K7.port.postMessage({type:s.X7.Z7,eee:e})}return r.Ss},t.prototype.tee=function(e){var t=l.defer(),r=this.kq.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(h.HF.BF(t).kF())return i=e,i.headers=r.headers,void(i.qq=r.qq)}),t.resolve(i)}else t.resolve(null);return t.Ss},t.prototype.get=function(e){var t=this,r=l.defer();if(this.kq.has(e))this.tee(e).then(function(e){r.resolve(e)});else{this.logger.debug("SHAREDWORKER: Permission Request to READ");var i=Date.now();this.ree(s.X7.iee,i).then(function(n){t.logger.debug("SHAREDWORKER: Permission Request To READ : "+n),n?t.nee(e).then(function(e){t.logger.debug("SHAREDWORKER:  Read Completed "),t.K7.port.postMessage({type:s.X7.see,id:i}),r.resolve(e)}):r.resolve(null)})}return r.Ss},t.prototype.nee=function(e){var t=this,r=l.defer(),i=null,n=!1,a=setTimeout(function(){n=!0,r.resolve(i)},1e3);return this.Y7.onmessage=function(h){if(clearTimeout(a),!n){if(h.data.response){var u=new c.Hf;u.Cf=!1,u._f=!0,u.Pf=h.data.data.length,u.Af=0,u.Nf=h.data.data.length,u.Df=0,i=new o.Gq(h.data.data.length,h.data.data.content,u,c.bf.Tf),i.headers=h.data.data.oee}else t.K7.port.postMessage({type:s.X7.aee,eee:e});r.resolve(i)}},this.Y7.postMessage({type:s.X7.hee,eee:e}),r.Ss},t.prototype.m=function(){var e=this;this.logger.debug("FLUSHING IN-MEMORY CACHE");for(var t=[],r=0;r<this.Mq.length;r++)this.kq.get(this.Mq[r]).zq||t.push(this.Mq[r]);this.logger.debug("Flush "+t.length+" in memory"),t.length>0?this.cee(t).then(function(t){e.uee()}):this.uee()},t.prototype.uee=function(){var e=this,t=0,r=0;this.logger.debug("PURGING PERSISTENTDB's IN-MEMORY CACHE"),this.Mq.every(function(i,n){var s=e.kq.get(i).size();return t+s>e.Fq?(r=n,e.logger.debug("CACHE TOO BIG "+(t+s)),!1):(t+=s,!0)})||this.Mq.splice(r,this.Mq.length-1).forEach(function(t){e.kq.delete(t)}),this.Bq()},t.prototype.cee=function(e){var t=this,r=l.defer();this.logger.debug("SHAREDWORKER:  Permission Request To Write ");var i=Date.now();return this.ree(s.X7.lee,i).then(function(n){t.logger.debug("SHAREDWORKER:  Permission Request To WRITE : "+n),n?(t.logger.debug("Flush the contents"),t.pee(e).then(function(e){t.logger.debug("SHAREDWORKER:  WRITE COMPLETED"),t.K7.port.postMessage({type:s.X7.dee,id:i}),r.resolve(e)})):r.resolve(n)}),r.Ss},t.prototype.pee=function(e){var t=this,r=l.defer();return this.fee(e[0]).then(function(i){if(i)e.shift(),0==e.length?r.resolve(!0):t.pee(e).then(function(e){r.resolve(e)});else{var n=!1,o=setTimeout(function(){n=!0,e.shift(),0==e.length?r.resolve(!1):t.pee(e).then(function(e){r.resolve(e)})},1e3);t.Y7.onmessage=function(i){i.data&&(t.kq.get(e[0]).zq=!0,t.K7.port.postMessage({type:s.X7.gee,eee:e[0],size:t.kq.get(e[0]).size()})),clearTimeout(o),n||(e.shift(),0==e.length?i.data?r.resolve(!0):r.resolve(!1):t.pee(e).then(function(e){r.resolve(e)}))},t.Y7.onerror=function(e){t.logger.error(e)};var a=t.kq.get(e[0]),c=null,u=null;a.content.forEach(function(e,t){if(h.HF.BF(t).kF())return c=e,u=t,void(c.headers=a.headers)});var l={P_:a.zf.Zf(),headers:a.headers,length:a.size(),Eee:u,content:c.data,zf:a.zf};t.Y7.postMessage({type:s.X7.vee,data:l})}}),r.Ss},t.prototype.fee=function(e){var t=this,r=l.defer(),i=!1,n=setTimeout(function(){i=!0,r.resolve(!1)},1e3);return this.K7.port.onmessage=function(s){clearTimeout(n),i||(t.logger.debug("SHAREDWORKER:  CONTAINS REQUEST : "+e+" : "+s.data.response),s.data.response?r.resolve(!0):r.resolve(!1))},this.K7.onerror=function(e){t.logger.error(e),r.resolve(!1)},this.K7.port.postMessage({type:s.X7.Z7,eee:e}),r.Ss},t.prototype.ree=function(e,t){var r=this,i=l.defer(),n=!1,o=setTimeout(function(){n=!0,i.resolve(!1)},2e3);return this.K7.port.onmessage=function(t){clearTimeout(o),n?e==s.X7.iee?r.K7.port.postMessage({type:s.X7.see}):e==s.X7.lee&&r.K7.port.postMessage({type:s.X7.dee}):i.resolve(t.data.response)},this.K7.onerror=function(e){r.logger.error(e)},this.K7.port.postMessage({type:e,id:t}),i.Ss},t.prototype.ik=function(e){return[]},t.prototype.Vq=function(e){var t=this,r=l.defer(),i=[],n=Date.now();return this.ree(s.X7.iee,n).then(function(e){if(e){var o=!1,h=setTimeout(function(){o=!0,t.K7.port.postMessage({type:s.X7.see,id:n}),r.resolve(i)},4e3);t.Y7.onmessage=function(e){if(clearTimeout(h),e.data.response&&null!=e.data)for(var c=0;c<e.data.elements.length;c++){var l=new u.N_(e.data.elements[c].url,e.data.elements[c].b_,e.data.elements[c].w_,e.data.elements[c].C_,e.data.elements[c].duration,e.data.elements[c].bitrate,e.data.elements[c].__),p=new a.Hq(l);p.headers=e.data.elements[c].oee,p.totalSize=e.data.elements[c].length,i.push(p)}t.K7.port.postMessage({type:s.X7.see,id:n}),o||r.resolve(i)},t.Y7.onerror=function(e){p.ErrorMonitor.ve().logError("GET ELEMENTS ERROR",{error:e}),t.K7.port.postMessage({type:s.X7.see,id:n})},t.Y7.postMessage({type:s.X7.yee})}}),r.resolve(null),r.Ss},t}(n.Yq);t.vJ=d},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.lee="write_request",i.Z7="contains_request",i.gee="write_id_operation",i.iee="read_request",i.see="read_completed",i.dee="write_completed",i.aee="update_lru",i.J7="lru_stats",i.hee="read_operation",i.yee="read_elements_operation",i.Tee="read_keys_operation",i.vee="write_operation",t.X7=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion="3.0.0",t.renderStatsCallback=void 0,t}return i(t,e),t}(n.HiveComm.Options.Tp);e.nJ=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=r(4),n=r(18),s=r(21),o=r(200),a=r(26),h=a.HiveComm.HiveTechError,c=a.HiveComm.vE,u=r(70),l=r(19),p=r(22),d=r(46),f=r(53),g=r(14),E=r(1),v=r(56),y=r(32),T=r(72),m=r(29),I=(r(44),navigator),S=function(){function e(e,t,r){this.loggerId="[HiveJsProxy]",this.mee=0,this.gL=e,this.options_=new o.HiveComm.Options.Iee,this.See(t),this.yL(),this.UQ=r}return e.prototype.getName=function(){return e.EL},e.prototype.getVersion=function(){return this.version},e.prototype.vL=function(){return!1},e.prototype.yL=function(){var e=this;if(null==this.Ree||Date.now()-this.mee>1e4){var t="//"+u.tL.dO+":"+u.tL.rL+"/version.json";this.Ree=s.bp(t).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"ready":(e.logger().warn(e.id()+"Client not ready: "+e.state),i.reject(new h(c.pE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned "+t.status),e.logger().warn(e.id()+r),i.reject(new h(c.pE,r))}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.pE,"error parsing response"))}),this.mee=Date.now()}return this.Ree},e.prototype.initSession=function(e,t){var r=this;return this.yL().then(function(){return r.resolveTicketPromise(e).then(function(t){var i=r.TL(e,t);if(null!=i)return T.$u.registerComm(r.gL,i.id),T.$u.registerTech(r,i.id),n.HiveRequestFactory.registerTech(i.id,r.getName()),i;throw new h(c.sE,"error generating session")})}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.sE,"generic error resolving ticket"))})},e.prototype.oL=function(e){this.oJ=e},e.prototype.mL=function(){return this.options_.initTimeout},e.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.oJ?(t.ticket.SourceURL=e,!0):this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.aJ(t,"Protocol not supported by HiveJsProxy tech, downgrading to StatsJS")}else if(i===r)return!!this.oJ||this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},e.prototype.aJ=function(e,t){var r=this;return e.tech=this.UQ,y.Hive.Reporting().initSession(e.ticket.ticketUrl,!1).then(function(t){e.hl(t);t.ticket;r.logger().debug("[HiveJSProxy] downgrade verified ticket "+e.ticket.ticketUrl),r.gL.updatePlayerInfo(t)}).fail(function(e){E.ErrorMonitor.ve().logError("Error initializing session when downgrading session tech",r.loggerId,{error:e})}),this.oJ&&this.oJ.dU(),this.oJ=void 0,n.HiveRequestFactory.registerTech(e.id,v.StatsJS.EL),this.gL.logger().warn("[HiveJsProxy] "+t),this.onError(new h(c.fE,t)),!0},e.prototype.ol=function(e,t){var r=this;this.logger().debug(this.id()+"Stopping session "+e.id+" [onUnload:"+t+"]");var i="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stop";t&&I.sendBeacon?(I.sendBeacon(i),this.logger().debug(this.id()+"session stopped ["+e.id+"][beacon]")):s.bp(i,null,!t).then(function(){r.logger().debug(r.id()+"session stopped ["+e.id+"]"+(t?"[sync]":""))},function(i){r.logger().warn(r.id()+"session close error ["+e.id+"]"+(t?"[sync]":""),i)})},e.prototype.nl=function(e,t){var r=t?l.Ml.IDLE:l.Ml.Ll;this.logger().debug(this.id()+"idle state: "+l.Ml[r])},e.prototype.SL=function(e,t){var r=this,n="playing-point="+t.Pl;n+="&buffer-length="+t.Al,n+="&total-buffering="+t.Ol,n+="&width="+t.width,n+="&height="+t.height,n+="&fullscreen="+t.YQ;var o="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stats/put?"+n;return s.bp(o).fail(function(e){return r.logger().warn(r.id()+"error sending feedback to Hive Client",e),i.reject(e)})},e.prototype.CL=function(e,t,r){var n=this,o="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/event?type="+t;if(void 0!=r)for(var a in r)o+="&"+a+"="+r[a];return this.logger().debug(this.id()+"event "+p.Gl.Yp[t],void 0!=r?r:""),s.bp(o).fail(function(e){return n.logger().warn(n.id()+"error sending feedback event to Hive Client",e),i.reject(e)})},e.prototype.bd=function(e,t){return i.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){E.ErrorMonitor.ve().logError("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this.gL.getPlayerSource();0===t.indexOf("//")&&(t=location.protocol+t);var r=s.Ip(u.tL.cU,u.tL.dO,u.tL.rL,e.id,t);if(e.authenticationToken&&this.version>="3.0.1"?s._p(r,JSON.stringify({authenticationToken:e.authenticationToken})):s.bp(r),this.updatePlayerInfo(e),f.Zu.me(this.logger()),this.oJ&&this.oJ.fU(),this.wee(e),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.toHiveSession())}catch(e){E.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.DL=function(){},e.prototype.kL=function(){},e.prototype.LL=function(e){this.gL=e},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.See=function(t){void 0!=t[e.EL]&&s.Sp(t[e.EL],this.options_)},e.prototype.resolveTicketPromise=function(e){var t=this;this.logger().debug(this.id()+"resolving ticket: "+e);var r=this.bee(e),n=JSON.stringify(this.Cee()),o=null;return this.gL.options().testId&&(a={},a[m.L.cR]=this.gL.options().testId,o=a),this.logger().debug("My header ",o),s._p(r,n,"application/json",o).then(function(r){var i=JSON.parse(r);return t.logger().debug(t.id()+"resolved ticket "+e+" -> "+i.manifest),i},function(r){return t.logger().warn(t.id()+"ticket "+e+" resolve error: ",r),i.reject(new h(c.sE,r))}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.dE,e))});var a},e.prototype.bee=function(e){return e=encodeURIComponent(e),s.Ip(u.tL.fO,u.tL.dO,u.tL.rL,e,"&",this.gL.getPluginId())},e.prototype.TL=function(e,t){var r=new d.BN;r.RN(e);var i=new n.cl(e,r,t.manifest,null);return i.ML=!0,i.id=t.sessionId,i.ticket.sessionId=i.id,i},e.prototype.Cee=function(){var e={};e.HiveConfig={};for(var t in window.HiveConfig){e.HiveConfig[t]={};for(var r in window.HiveConfig[t])e.HiveConfig[t][r]=window.HiveConfig[t][r]}return e},e.prototype.wee=function(e){var t=this;if(void 0!==g.HiveConfig.Stats.render){var r="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stats/get";if("undefined"!=typeof EventSource){var i=new EventSource(r);i.onmessage=function(e){t._ee(e.data)},i.onerror=function(e){i.close()}}else this.Pee=window.setInterval(function(){s.bp(r).then(function(e){t._ee(e)})},4e3)}},e.prototype.updatePlayerInfo=function(e){var t=this,r="comm-version="+this.gL.getCommVersion();r+="&plugin-name="+this.gL.getPluginName(),r+="&plugin-version="+this.gL.getPluginVersion(),r+="&player-tech="+this.gL.getPlayerTech(),r+="&player-version="+this.gL.getPlayerVersion(),this.gL.getTelemetryId()&&(r+="&telemetry-id="+this.gL.getTelemetryId());var n=s.Ip(u.tL.uU,u.tL.dO,u.tL.rL,e.id,r);return s.bp(n).fail(function(e){return t.logger().debug(t.id()+"error sending player Info to Hive Client",e),i.reject(e)})},e.prototype._ee=function(e){try{var t=JSON.parse(e);for(var r in t)t.hasOwnProperty(r)&&(t[r].human=function(e){return e>1e6?(e/1e6).toFixed(2)+"MB":e>1e3?(e/1e3).toFixed(2)+"KB":e+"B"});g.HiveConfig.Stats.render(t)}catch(e){console.trace(e)}},e.prototype.logger=function(){return this.gL.logger()},e}();S.EL="HiveJsProxy",t.HiveJsProxy=S},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion="3.3.0",t}return i(t,e),t}(n.HiveComm.Options.Tp);e.Iee=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(18),o=r(21),a=r(20),h=r(202),c=r(26),u=r(42),l=r(29),p=r(19),d=r(22),f=r(46),g=r(1),E=h.HiveComm.Options,v=a.HiveComm.Options.mp,y=c.HiveComm.HiveTechError,T=c.HiveComm.vE,m=r(44);t.Aee=navigator;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(s.cl),S=function(){function e(e,t){this.mee=0,this.gL=e,this.options_=new E.Oee,this.See(t),o.Rp(window.location.href,new v,this.options_)}return e.prototype.getName=function(){return e.EL},e.prototype.getVersion=function(){return this.version},e.prototype.vL=function(){return!1},e.prototype.yL=function(){var e=this;if(null==this.Ree||Date.now()-this.mee>1e4){var t=new m;t.Ad(navigator.userAgent);var r=t.jO();if("IE"===r.name&&r.version&&parseInt(r.version)<10)return n.reject(new y(T.pE,"Internet Explorer < v.10 not supported"));this.Nee=Date.now(),this.Dee=0;var i="//"+u.fp.dO+":"+this.gL.options().monitorPort+"/version.json";this.logger().debug(this.id()+"verifying Hive Client version"),this.Ree=o.bp(i).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"developer"===e.version||e.version>=e.options_.minVersion?(e.Dee=Date.now(),e.logger().debug(e.id()+"Hive Client ready - version "+e.version+" ["+(e.Dee-e.Nee)+"]"),"ready"):(g.ErrorMonitor.ve().logError("Client version requirement not satisfied",e.id(),{version:e.version,minVersion:e.options_.minVersion}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Jp)),n.reject(new y(T.gE,"version "+e.version))):(g.ErrorMonitor.ve().logError("Cannot check version: client state not ready",e.id(),{state:e.state}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),n.reject(new y(T.pE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned error"),g.ErrorMonitor.ve().logError(r,e.id(),void 0!=t&&void 0!=t.status&&-1!=t.status?{status:t.status}:void 0),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Wp)),n.reject(new y(T.pE,r))}).catch(function(t){if(t instanceof y)return n.reject(t);var r="Error fetching Hive Client version";return g.ErrorMonitor.ve().logError(r,e.id(),t),n.reject(new y(T.pE,r))}),this.mee=Date.now()}return this.Ree},e.prototype.initSession=function(e,t){var r=this;return this.options_.minVersion!=u.fp.vO||this.gL.options().testId?this.yL().then(function(){return r.kee(e).catch(function(e){return n.reject(e)})}):this.kee(e).catch(function(e){return n.reject(e)})},e.prototype.mL=function(){return this.options_.initTimeout},e.prototype.isActive=function(e,t){return e.indexOf(t.Lee)>-1},e.prototype.ol=function(e,r){var i=this;this.logger().debug(this.id()+"Stopping session "+e.id+" [complete close:"+r+"]");var n="//"+u.fp.dO+":"+this.gL.options().playerPort+"/session?action=stop";n+="&currentSession="+e.id,r&&(n+="&completeStop=true"),r&&t.Aee.sendBeacon?(t.Aee.sendBeacon(n),this.logger().debug(this.id()+"session stopped ["+e.id+"][beacon]")):o.bp(n,null,!r).then(function(){i.logger().debug(i.id()+"session stopped ["+e.id+"]"+(r?"[sync]":""))},function(t){i.logger().warn(i.id()+"session close error ["+e.id+"]"+(r?"[sync]":""),t)})},e.prototype.nl=function(e,t){this.Mee=t?p.Ml.IDLE:p.Ml.Ll,this.logger().notice("[HiveComm] client state: "+p.Ml[this.Mee])},e.prototype.SL=function(e,t){if(this.Mee==p.Ml.IDLE)return n.resolve(!0);var r="playing-point="+t.Pl;r+="&buffer-length="+t.Al,r+="&total-buffering="+t.Ol,r+="&width="+t.width,r+="&height="+t.height,r+="&fullscreen="+t.YQ;var i=e.Lee+"stats?"+r;return this.logger().trace(i),o.bp(i)},e.prototype.CL=function(e,t,r){var i=this;if(!(t!==d.Gl.Yp.Kp&&t!==d.Gl.Yp.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var s=e.Lee+"player-event?type="+d.Gl.Yp[t];if(void 0!=r)for(var a in r)s+="&"+a+"="+r[a];return this.logger().debug(this.id()+"event "+d.Gl.Yp[t],void 0!=r?r:""),o.bp(s).fail(function(e){return i.logger().warn(i.id()+"error sending feedback event to Hive Client",e),n.reject(e)})},e.prototype.bd=function(e,t){return n.resolve(!0)},e.prototype.updatePlayerInfo=function(e){var t=this;if(this.Fee())return this.logger().warn("Player info not supported in this Java client version"),n.resolve(!0);var r="comm-version="+this.gL.getCommVersion();r+="&plugin-name="+this.gL.getPluginName(),r+="&plugin-version="+this.gL.getPluginVersion(),r+="&player-tech="+this.gL.getPlayerTech(),r+="&player-version="+this.gL.getPlayerVersion(),this.gL.getTelemetryId()&&(r+="&telemetry-id="+this.gL.getTelemetryId());var i=e.Lee+"player-info?"+r;return o.bp(i).fail(function(e){return t.logger().debug(t.id()+"error sending player Info to Hive Client",e),n.reject(e)})},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){g.ErrorMonitor.ve().logError("Exception in user-defined onError callback",this.id(),e)}return t},e.prototype.DL=function(e,t,r){var i={isReadyIn:this.Nee,isReadyOut:this.Dee,leaseIn:this.Uee,leaseOut:this.Bee,resolveIn:this.Hee,resolveOut:this.xee};void 0!==t&&null!=t&&(i.sessionId=t.id),void 0!==r&&(i.total=r);var n=JSON.parse(JSON.stringify(i));g.ErrorMonitor.ve().logError(e.message,this.id(),n),this.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.$p,i)),this.qee()},e.prototype.onActiveSession=function(e){if(this.updatePlayerInfo(e),s.Rl.setItem("hiveActiveSessionId",e.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.toHiveSession())}catch(e){g.ErrorMonitor.ve().logError("Exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.LL=function(e){this.gL=e},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.See=function(t){void 0!=t[e.EL]&&o.Sp(t[e.EL],this.options_)},e.prototype.kee=function(e){var t=this,r=(new Date).getTime();return this.Gee(e).then(function(i){return i?t.Vee(e,i,r):t.resolveTicketPromise(e).then(function(i){return t.Vee(e,i,r)})})},e.prototype.Gee=function(t){var r=this;if(this.Uee=Date.now(),this.gL.options().useSessionCheck){var i="//"+u.fp.dO+":"+this.gL.options().playerPort+"/session?&action=check";i+="&hivePluginId="+this.gL.getPluginId(),i+="&callback="+encodeURIComponent(t);var o=s.Rl.getItem("hiveActiveSessionId");return s.Rl.removeItem("hiveActiveSessionId"),o&&(i+="&currentSession="+o),this.jee(),this.Qee(i).then(function(e){return r.Bee=Date.now(),e?r.Kee(e,i,t,r.Uee):(r.logger().debug(r.id()+"session allowed ["+(r.Bee-r.Uee)+"]"),!1)},function(t){if(400==t.status)return r.Yee("bad request","error resolving ticket",t);if(401==t.status)return r.Yee("unauthorized","error verifying the ticket",t);if(403==t.status){var i=e.Wee(t,void 0,"session"),s=i?{zee:i}:void 0;return g.ErrorMonitor.ve().logError("reports another active session",r.id(),s),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Xp,s)),n.reject(new y(T.fE,"another active session"+(s?" ["+s.zee+"]":"")))}return 404==t.status?(r.logger().debug(r.id()+"installed version does not support active session check"),r.Bee=Date.now(),!1):-1==t.status?(clearTimeout(r.Jee),r.Xee()):(g.ErrorMonitor.ve().logError("unhandled error from Java",r.id(),{error:t.status}),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Zp)),n.reject(new y(T.dE,t)))}).catch(function(e){return e instanceof y?n.reject(e):(g.ErrorMonitor.ve().logError("unhandled error on requestLeaseDirect",r.id(),{error:e}),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Zp)),n.reject(new y(T.dE,e)))}).finally(function(){clearTimeout(r.Jee)})}return this.logger().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),n.resolve(!1)},e.prototype.Qee=function(e){if(this.gL.options().testId){if(!("developer"!==this.version||this.version<u.fp.yO))return o.bp(e,void 0,!0,(t={},t[l.L.cR]=this.gL.options().testId,t));this.logger().warn(this.id()+"The Hive Client Version installed does not support the test id in its generated metrics")}return o.bp(e);var t},e.prototype.Yee=function(t,r,i){var s=e.Wee(i,t);return g.ErrorMonitor.ve().logError(r,this.id()),this.xee=Date.now(),n.reject(new y(T.sE,s))},e.Wee=function(e,t,r){void 0===r&&(r="status");var i=t;if(e.body)try{i=JSON.parse(e.body)[r]}catch(e){}return i},e.prototype.resolveTicketPromise=function(e){var t=this;this.Hee=Date.now(),this.logger().debug(this.id()+"resolving ticket: "+e);var r=this.bee(e);return o.bp(r,"application/json").then(function(i){return t.Kee(i,r,e,t.Hee)},function(r){return r&&-1==r.status?t.Xee():(g.ErrorMonitor.ve().logError("error resolving ticket",t.id(),{ticket:e}),n.reject(new y(T.sE,r)))}).catch(function(e){return g.ErrorMonitor.ve().logError("error parsing ticket response",t.id(),e),n.reject(new y(T.dE,e))})},e.prototype.Kee=function(e,t,r,i){var n=JSON.parse(e),s=o.$h(t,n.location);return n.version&&!this.version&&(this.version=n.version),this.xee=Date.now(),this.logger().debug(this.id()+"resolved ticket "+r+" -> "+s+" ["+(this.xee-i)+"]"),s},e.prototype.Vee=function(e,t,r){var i=this.TL(e,t);if(null!=i){var n=(new Date).getTime(),o=n-r;return o>=this.options_.warnSlowRespTimeout&&this.DL(new y(T.EE,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),i,o),s.HiveRequestFactory.registerTech(i.id,this.getName()),i}throw new y(T.sE,"error generating session")},e.prototype.TL=function(e,t){var r=new f.BN;r.RN(e);var i=new I(e,r,t,null);i.ML=!0;var n=u.fp.EO,s=n.exec(i.manifest);return null!=s?(i.Lee=s[1],i.id=s[5],i):null},e.prototype.bee=function(e){var t=-1==e.indexOf("?")?"?":"&";return this.Fee()?o.Ip(u.fp.gO,u.fp.dO,this.gL.options().playerPort,e):o.Ip(u.fp.fO,u.fp.dO,this.gL.options().playerPort,e,t,this.gL.getPluginId())},e.prototype.jee=function(){var e=this;this.Jee&&clearTimeout(this.Jee),this.Jee=setTimeout(function(){g.ErrorMonitor.ve().logError("The Lease Request is taking more than "+e.options_.warnSlowRespTimeout+" secs",e.id())},this.options_.warnSlowRespTimeout)},e.prototype.qee=function(){this.Uee=0,this.Bee=0,this.Hee=0,this.xee=0},e.prototype.logger=function(){return this.gL.logger()},e.prototype.kL=function(){this.qee()},e.prototype.Xee=function(){var e=this,t="//"+u.fp.dO+":"+this.gL.options().monitorPort+"/version.json";return this.logger().debug(this.id()+"checking if the monitor port is reachable"),o.bp(t).then(function(t){var r=JSON.parse(t);throw e.state=r.state,g.ErrorMonitor.ve().logError("Verify client state",e.id(),{state:e.state}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),new y(T.pE,"state "+e.state)}).fail(function(t){if(t instanceof y)return n.reject(t);if(t&&-1==t.status){var r="client not reachable";return e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Wp)),e.logger().warn(e.id()+r),n.reject(new y(T.pE,r))}var r="VerifyClientState error";return g.ErrorMonitor.ve().logError(r,e.id(),{error:t}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),n.reject(new y(T.dE,r))})},e.prototype.Fee=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},e}();S.EL="HiveJava",t.HiveJava=S},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=r(42);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion=s.fp.vO,t.initTimeout=6e4,t.warnSlowRespTimeout=5e3,t.supportLegacyClient=!1,t}return i(t,e),t}(n.HiveComm.Options.Tp);e.Oee=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))}]);
//# sourceMappingURL=core.hive.min.js.map
!function(t){function e(r){if(n[r])return n[r].o;var o=n[r]={i:r,s:!1,o:{}};return t[r].call(o.o,o,o.o,e),o.s=!0,o.o}var n={};e.u=t,e.c=n,e.d=function(t,n,r){e.p(t,n)||Object.defineProperty(t,n,{l:!1,h:!0,get:r})},e.n=function(t){var n=t&&t.v?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.p=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.g="",e(e.m=1)}([function(t,e,n){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.o=e()}}(function(){"use strict";function t(t){return function(){return J.apply(t,arguments)}}function e(t){return t===Object(t)}function n(t){return"[object StopIteration]"===tt(t)||t instanceof F}function r(t,e){if(B&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(et)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+et+"\n");t.stack=o(i)}}function o(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var o=e[r];u(o)||i(o)||!o||n.push(o)}return n.join("\n")}function i(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function u(t){var e=s(t);if(!e)return!1;var n=e[0],r=e[1];return n===M&&r>=q&&r<=st}function a(){if(B)try{throw new Error}catch(r){var t=r.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=s(e);if(!n)return;return M=n[0],n[1]}}function c(t){return t instanceof d?t:g(t)?N(t):w(t)}function p(){function t(t){e=t,c.T&&B&&(i.source=t),G(n,function(e,n){c._(function(){t.I.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],o=z(p.prototype),i=z(d.prototype);if(i.I=function(t,o,i){var s=X(arguments);n?(n.push(s),"when"===o&&i[1]&&r.push(i[1])):c._(function(){e.I.apply(e,s)})},i.valueOf=function(){if(n)return i;var t=y(e);return v(t)&&(e=t),t},i.N=function(){return e?e.N():{state:"pending"}},c.T&&B)try{throw new Error}catch(t){i.stack=t.stack.substring(t.stack.indexOf("\n")+1)}return o.k=i,o.resolve=function(n){e||t(c(n))},o.R=function(n){e||t(w(n))},o.reject=function(n){e||t(I(n))},o.notify=function(t){e||G(r,function(e,n){c._(function(){n(t)})},void 0)},o}function f(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=p();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.k}function l(t){return f(function(e,n){for(var r=0,o=t.length;r<o;r++)c(t[r]).then(e,n)})}function d(t,e,n){void 0===e&&(e=function(t){return I(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=z(d.prototype);if(r.I=function(n,o,i){var s;try{s=t[o]?t[o].apply(r,i):e.call(r,o,i)}catch(t){s=I(t)}n&&n(s)},r.N=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function h(t,e,n,r){return c(t).then(e,n,r)}function y(t){if(v(t)){var e=t.N();if("fulfilled"===e.state)return e.value}return t}function v(t){return t instanceof d}function g(t){return e(t)&&"function"==typeof t.then}function E(t){return v(t)&&"pending"===t.N().state}function m(t){return!v(t)||"fulfilled"===t.N().state}function T(t){return v(t)&&"rejected"===t.N().state}function S(){nt.length=0,rt.length=0,it||(it=!0)}function _(t,e){it&&("object"==typeof process&&process&&"function"==typeof process.O&&c._.D(function(){-1!==K(rt,t)&&(process.O("unhandledRejection",e,t),ot.push(t))}),rt.push(t),e&&void 0!==e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function b(t){if(it){var e=K(rt,t);-1!==e&&("object"==typeof process&&process&&"function"==typeof process.O&&c._.D(function(){var n=K(ot,t);-1!==n&&(process.O("rejectionHandled",nt[e],t),ot.splice(n,1))}),rt.splice(e,1),nt.splice(e,1))}}function I(t){var e=d({when:function(e){return e&&b(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return _(e,t),e}function w(t){return d({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},P:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return Z(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function N(t){var e=p();return c._(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.k}function k(t){return d({C:function(){}},function(e,n){return C(t,e,n)},function(){return c(t).N()})}function R(t,e,n){return c(t).A(e,n)}function x(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(t){return I(t)}return s.done?c(s.value):h(s.value,o,i)}try{s=r[t](e)}catch(t){return n(t)?c(t.value):I(t)}return h(s,o,i)}var r=t.apply(this,arguments),o=e.bind(e,"next"),i=e.bind(e,"throw");return o()}}function O(t){c.done(c.async(t)())}function D(t){throw new F(t)}function P(t){return function(){return R([this,A(arguments)],function(e,n){return t.apply(e,n)})}}function C(t,e,n){return c(t).L(e,n)}function A(t){return h(t,function(t){var e=0,n=p();return G(t,function(r,o,i){var s;v(o)&&"fulfilled"===(s=o.N()).state?t[i]=s.value:(++e,h(o,function(r){t[i]=r,0==--e&&n.resolve(t)},n.reject,function(t){n.notify({index:i,value:t})}))},void 0),0===e&&n.resolve(t),n.k})}function L(t){if(0===t.length)return c.resolve();var e=c.defer(),n=0;return G(t,function(r,o,i){function s(t){e.resolve(t)}function u(t){0===--n&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function a(t){e.notify({index:i,value:t})}var c=t[i];n++,h(c,s,u,a)},void 0),e.k}function V(t){return h(t,function(t){return t=W(t,c),h(A(W(t,function(t){return h(t,Q,Q)})),function(){return t})})}function H(t){return c(t).V()}function U(t,e){return c(t).then(void 0,void 0,e)}function j(t,e){return c(t).H(e)}var B=!1;try{throw new Error}catch(t){B=!!t.stack}var M,F,q=a(),Q=function(){},Y=function(){function t(){for(var t,r;n.next;)n=n.next,t=n.U,n.U=void 0,r=n.domain,r&&(n.domain=void 0,r.j()),e(t,r);for(;a.length;)t=a.pop(),e(t);o=!1}function e(e,n){try{e()}catch(e){if(s)throw n&&n.B(),setTimeout(t,0),n&&n.j(),e;setTimeout(function(){throw e},0)}n&&n.B()}var n={U:void 0,next:null},r=n,o=!1,i=void 0,s=!1,u=!1;try{u=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(t){}var a=[];if(Y=function(t){"undefined"!=typeof Framework&&Framework.M()?Framework.setTimeout(t,0):(r=r.next={U:t,domain:s&&process.domain,next:null},o||(o=!0,i()))},"object"==typeof process&&process&&"[object process]"===process.toString()&&process._)s=!0,i=function(){process._(t)};else if("function"!=typeof setImmediate||u)if("undefined"==typeof MessageChannel||u)i=function(){setTimeout(t,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){i=p,c.port1.onmessage=t,t()};var p=function(){c.port2.postMessage(0)};i=function(){setTimeout(t,0),p()}}else i="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return Y.D=function(t){a.push(t),o||(o=!0,i())},Y}(),J=Function.call,X=t(Array.prototype.slice),G=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),K=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),W=t(Array.prototype.map||function(t,e){var n=this,r=[];return G(n,function(o,i,s){r.push(t.call(e,i,s,n))},void 0),r}),z=Object.create||function(t){function e(){}return e.prototype=t,new e},$=t(Object.prototype.hasOwnProperty),Z=Object.keys||function(t){var e=[];for(var n in t)$(t,n)&&e.push(n);return e},tt=t(Object.prototype.toString);F="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var et="From previous event:";c.resolve=c,c._=Y,c.T=!1,"object"==typeof process&&process&&process.F&&process.F.q&&(c.T=!0),c.defer=p,p.prototype.Y=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(X(arguments,1)):t.resolve(n)}},c.Promise=f,c.k=f,f.race=l,f.all=A,f.reject=I,f.resolve=c,c.J=function(t){return t},d.prototype.J=function(){return this},c.join=function(t,e){return c(t).join(e)},d.prototype.join=function(t){return c([this,t]).A(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},c.race=l,d.prototype.race=function(){return this.then(c.race)},c.X=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(t,e,n){function o(e){try{return"function"==typeof t?t(e):e}catch(t){return I(t)}}function i(t){if("function"==typeof e){r(t,u);try{return e(t)}catch(t){return I(t)}}return I(t)}function s(t){return"function"==typeof n?n(t):t}var u=this,a=p(),f=!1;return c._(function(){u.I(function(t){f||(f=!0,a.resolve(o(t)))},"when",[function(t){f||(f=!0,a.resolve(i(t)))}])}),u.I(void 0,"when",[void 0,function(t){var e,n=!1;try{e=s(t)}catch(t){if(n=!0,!c.onerror)throw t;c.onerror(t)}n||a.notify(e)}]),a.k},c.G=function(t,e){return c(t).G(e)},d.prototype.G=function(t){return t=c(t),this.then(function(e){return t.W(e).K(e)})},c.when=h,d.prototype.K=function(t){return this.then(function(){return t})},c.K=function(t,e){return c(t).K(e)},d.prototype.$=function(t){return this.then(function(){throw t})},c.$=function(t,e){return c(t).$(e)},c.Z=y,c.tt=v,c.et=g,c.nt=E,d.prototype.nt=function(){return"pending"===this.N().state},c.rt=m,d.prototype.rt=function(){return"fulfilled"===this.N().state},c.ot=T,d.prototype.ot=function(){return"rejected"===this.N().state};var nt=[],rt=[],ot=[],it=!0;c.it=S,c.st=function(){return nt.slice()},c.ut=function(){S(),it=!1},S(),c.reject=I,c.R=w,c.at=k,c.A=R,d.prototype.A=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},c.async=x,c.ct=O,c.pt=D,c.ft=P,c.L=C,d.prototype.L=function(t,e){var n=this,r=p();return c._(function(){n.I(r.resolve,t,e)}),r.k},c.get=function(t,e){return c(t).L("get",[e])},d.prototype.get=function(t){return this.L("get",[t])},c.set=function(t,e,n){return c(t).L("set",[e,n])},d.prototype.set=function(t,e){return this.L("set",[t,e])},c.lt=c.delete=function(t,e){return c(t).L("delete",[e])},d.prototype.lt=d.prototype.delete=function(t){return this.L("delete",[t])},c.dt=c.P=function(t,e,n){return c(t).L("post",[e,n])},d.prototype.dt=d.prototype.P=function(t,e){return this.L("post",[t,e])},c.send=c.ht=c.yt=function(t,e){return c(t).L("post",[e,X(arguments,2)])},d.prototype.send=d.prototype.ht=d.prototype.yt=function(t){return this.L("post",[t,X(arguments,1)])},c.vt=function(t,e){return c(t).L("apply",[void 0,e])},d.prototype.vt=function(t){return this.L("apply",[void 0,t])},c.gt=c.W=function(t){return c(t).L("apply",[void 0,X(arguments,1)])},d.prototype.W=function(){return this.L("apply",[void 0,X(arguments)])},c.Et=function(t){var e=c(t),n=X(arguments,1);return function(){return e.L("apply",[this,n.concat(X(arguments))])}},d.prototype.Et=function(){var t=this,e=X(arguments);return function(){return t.L("apply",[this,e.concat(X(arguments))])}},c.keys=function(t){return c(t).L("keys",[])},d.prototype.keys=function(){return this.L("keys",[])},c.all=A,d.prototype.all=function(){return A(this)},c.Tt=L,d.prototype.Tt=function(){return L(this)},c.St=function(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}(V,"allResolved","allSettled"),d.prototype.St=function(){return V(this)},c.V=H,d.prototype.V=function(){return this.then(function(t){return A(W(t,function(t){function e(){return t.N()}return t=c(t),t.then(e,e)}))})},c.fail=c.catch=function(t,e){return c(t).then(void 0,e)},d.prototype.fail=d.prototype.catch=function(t){return this.then(void 0,t)},c.progress=U,d.prototype.progress=function(t){return this.then(void 0,void 0,t)},c._t=c.finally=function(t,e){return c(t).finally(e)},d.prototype._t=d.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=c(t),this.then(function(e){return t.W().then(function(){return e})},function(e){return t.W().then(function(){throw e})})},c.done=function(t,e,n,r){return c(t).done(e,n,r)},d.prototype.done=function(t,e,n){var o=function(t){c._(function(){if(r(t,i),!c.onerror)throw t;c.onerror(t)})},i=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),i.then(void 0,o)},c.timeout=function(t,e,n){return c(t).timeout(e,n)},d.prototype.timeout=function(t,e){var n=p(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.k},c.delay=function(t,e){return void 0===e&&(e=t,t=void 0),c(t).delay(e)},d.prototype.delay=function(t){return this.then(function(e){var n=p();return setTimeout(function(){n.resolve(e)},t),n.k})},c.bt=function(t,e){return c(t).bt(e)},d.prototype.bt=function(t){var e=p(),n=X(t);return n.push(e.Y()),this.vt(n).fail(e.reject),e.k},c.It=function(t){var e=X(arguments,1);return c(t).bt(e)},d.prototype.It=function(){var t=X(arguments),e=p();return t.push(e.Y()),this.vt(t).fail(e.reject),e.k},c.wt=c.Nt=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=X(arguments,1);return function(){var n=e.concat(X(arguments)),r=p();return n.push(r.Y()),c(t).vt(n).fail(r.reject),r.k}},d.prototype.wt=d.prototype.Nt=function(){var t=X(arguments);return t.unshift(this),c.Nt.apply(void 0,t)},c.kt=function(t,e){var n=X(arguments,2);return function(){function r(){return t.apply(e,arguments)}var o=n.concat(X(arguments)),i=p();return o.push(i.Y()),c(r).vt(o).fail(i.reject),i.k}},d.prototype.kt=function(){var t=X(arguments,0);return t.unshift(this),c.kt.apply(void 0,t)},c.Rt=c.xt=function(t,e,n){return c(t).xt(e,n)},d.prototype.Rt=d.prototype.xt=function(t,e){var n=X(e||[]),r=p();return n.push(r.Y()),this.L("post",[t,n]).fail(r.reject),r.k},c.Ot=c.Dt=c.Pt=function(t,e){var n=X(arguments,2),r=p();return n.push(r.Y()),c(t).L("post",[e,n]).fail(r.reject),r.k},d.prototype.Ot=d.prototype.Dt=d.prototype.Pt=function(t){var e=X(arguments,1),n=p();return e.push(n.Y()),this.L("post",[t,e]).fail(n.reject),n.k},c.H=j,d.prototype.H=function(t){if(!t)return this;this.then(function(e){c._(function(){t(null,e)})},function(e){c._(function(){t(e)})})},c.Ct=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var st=a();return c})},function(t,e,n){"use strict";var r=this&&this.At||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(0),i=n(2),s=n(3),u=i.Vt.Lt;-1==u&&(u=3e4);var a=function(t){function e(e,n){var r=t.call(this,n)||this;return r.pluginName="bitmovin",r.Ht=[],r.Ut=void 0,r.player=e,r.player.originalSetup=r.player.setup,r.player.jt=r.player.load,r.player.load=function(t,e,n){return r.player.closeHiveSession(),r.player.jt(t,e,n)},r.player.closeHiveSession=function(t){void 0===t&&(t=!0),r.closeHiveSession(),t&&r.Bt()},r.player.setup=function(t,e){r.closeHiveSession(),t.source.hls_ticket&&t.source.dash_ticket&&(r.logger().warn("The Hive plugin does not support providing a ticket for both DASH and HLS simultaneously. Using HLS source."),delete t.source.dash_ticket);var n=t.source.hls_ticket?"hls":t.source.dash_ticket?"dash":"",i=t.source.hls_ticket||t.source.dash_ticket;return i?(delete t.source[n+"_ticket"],r.resolveTicketPromise(i).timeout(u,r.loggerId+"Hive Plugin initialization timeout").then(function(o){return r.Mt(),o.tech.getName()===HiveComm.TechName.HiveJS&&(t.network={sendHttpRequest:r.sendHttpRequest(o.id)}),t.source[n]=o.manifest,r.player.originalSetup(t,e)}).catch(function(t){return r.onSetupTimeout(),r.resetSession(),r.logger().debug(r.loggerId+"error occurred resolving the ticket - "+(t.stack||t.message||t)),o.reject(t)})):(r.logger().debug(r.loggerId+"No Hive ticket provided, falling back to originalSetup"),r.player.originalSetup(t,e))},r.logger().notice(r.loggerId+"registered plugin [name:"+r.getPluginName()+"][id: "+r.getPluginId()+"][version: "+r.getPluginVersion()+"]"),r}return r(e,t),e.prototype.sendHttpRequest=function(t){var e=this;return function(n,r){return e.logger().debug("sendHttpRequest called",n,r),e.getPotentialSession()&&n.match(/manifest\/dash|manifest\/hls|audio|video/)?(e.logger().debug("Using HiveRequest",n,r),new s.Ft(r,t)):null}},e.prototype.registerEvent=function(t,e){this.player.addEventHandler(t,e),this.Ht.push({qt:t,Qt:e})},e.prototype.Bt=function(){var t=this;this.logger().debug(this.loggerId+"Unregistering events"),this.Ht.forEach(function(e){var n=e.qt,r=e.Qt;t.player.removeEventHandler(n,r)}),this.Ht.length=0},e.prototype.Mt=function(){var t=this;this.Ht.length||(this.registerEvent("onReady",function(){if(t.logger().debug("bitmovin.player.EVENT.ON_READY"),t.onActivateSession()){!!t.player.getConfig().playback&&t.player.getConfig().playback.auto&&t.onStartBuffering(!1),t.getActiveSession()&&(t.Yt=new HiveComm.HivePlayerExtendedStats)}}),this.registerEvent("onPlay",function(){t.logger().debug("bitmovin.player.EVENT.ON_PLAY"),t.Jt(0)}),this.registerEvent("onError",function(e){t.logger().debug("bitmovin.player.EVENT.ON_ERROR");var n=-1,r=null;if(null!=e)try{n=e.code,r=JSON.stringify(e,null)}catch(t){r=e}t.onError(n,r),t.Bt()}),this.registerEvent("onPlaybackFinished",function(){t.logger().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t.onEventFeedback(4,{code:1})}),this.registerEvent("onSeek",function(){t.logger().debug("bitmovin.player.EVENT.ON_SEEK"),t.onEventFeedback(3)}),this.registerEvent("onFullscreenEnter",function(){t.logger().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t.onEventFeedback(7,{value:!0})}),this.registerEvent("onFullscreenExit",function(){t.logger().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t.onEventFeedback(7,{value:!1})}),this.registerEvent("onSegmentRequestFinished",function(e){if(t.Yt){var n=e.mimeType.indexOf("video")>=0;if(void 0===t.Xt){var r=t.player.getPlaybackVideoData();r&&r.bitrate&&t.Gt(r.bitrate)}if(e.success){if(!e.isInit&&t.Xt){var o=8*e.size/e.downloadTime;t.Yt.accountCompleted(n,t.Xt,e.size),t.Yt.updateBandwidth(o)}}else t.Yt.accountFailed(n,t.Xt)}}),this.registerEvent("onDestroy",function(){t.logger().debug("bitmovin.player.EVENT.ON_DESTROY"),t.player.closeHiveSession(!1)}),0===this.getPlayerVersion().indexOf("7")?this.Kt():0===this.getPlayerVersion().indexOf("6")&&this.Wt())},e.prototype.Wt=function(){var t=this;this.registerEvent("onStartBuffering",function(){t.logger().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.onStartBuffering()}),this.registerEvent("onStopBuffering",function(){t.logger().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.onEndBuffering()}),this.registerEvent("onPause",function(){t.logger().debug("bitmovin.player.EVENT.ON_PAUSE"),t.Jt(2)}),this.registerEvent("onVideoDownloadQualityChange",function(e){t.getStreamProtocol()===StreamProtocol.zt?t.Gt(e.targetQuality):t.Gt(e.targetQuality.split("br")[1])})},e.prototype.Kt=function(){var t=this;this.registerEvent("onStallStarted",function(){t.logger().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.onStartBuffering()}),this.registerEvent("onStallEnded",function(){t.logger().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.onEndBuffering()}),this.registerEvent("onPaused",function(){t.logger().debug("bitmovin.player.EVENT.ON_PAUSED"),t.Jt(2)}),this.registerEvent("onVideoDownloadQualityChanged",function(e){t.Gt(e.targetQuality&&e.targetQuality.bitrate||e.targetQualityId&&e.targetQualityId.bitrate)})},e.prototype.Gt=function(t){this.logger().debug("newBitrate",t),this.Xt&&t>this.Xt&&this.Yt?this.Yt.bitrateSwitchUp():this.Xt&&this.Xt>t&&this.Yt&&this.Yt.bitrateSwitchDown(),this.Xt=t},e.prototype.Jt=function(t){void 0!=this.Ut&&this.Ut===t||(this.onEventFeedback(t),this.Ut=t)},e.prototype.getPlayerSource=function(){var t=this.getStreamProtocol();return t===StreamProtocol.zt?this.player.getConfig().source.hls:t===StreamProtocol.DASH?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.getBufferLen=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.getWindowSize=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.isActive=function(){return!0},e.prototype.getStreamProtocol=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.zt;if("dash"===t)return StreamProtocol.DASH}return null},e.prototype.getExtendedStats=function(){var t=this.Yt;return this.Yt=new HiveComm.HivePlayerExtendedStats,t},e.prototype.getPluginName=function(){return this.pluginName},e.prototype.getPluginVersion=function(){return this.getCommVersion()},e.prototype.getPlayerTech=function(){if(this.player)return this.player.getPlayerType()},e.prototype.getPlayerVersion=function(){return void 0!==bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(HiveComm.Plugin);e.$t=a;var c=function(t,e){new a(t,e)};bitmovin.initHiveSDN=c},function(t,e,n){"use strict";var r=function(){function t(){}return t}();r.Zt="undefined"!=typeof HIVE_COMM_JS&&HIVE_COMM_JS,r.te="undefined"!=typeof HIVE_COMM_JAVA&&HIVE_COMM_JAVA,r.ee="undefined"!=typeof HIVE_COMM_JS_PROXY&&HIVE_COMM_JS_PROXY,r.ne="4.1.0",r.re="bitmovin",r.oe="undefined"!=typeof HIVE_SERVICE_ENDPOINT_TEST&&HIVE_SERVICE_ENDPOINT_TEST,r.ie="undefined"==typeof HIVE_PERSISTENT_IDENTITY||HIVE_PERSISTENT_IDENTITY,r.se="undefined"!=typeof INCLUDE_VOD_CACHE&&INCLUDE_VOD_CACHE,r.ue="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,r.ae="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,r.ce="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,r.pe="undefined"!=typeof INCLUDE_DEFAULT_NETWORK&&INCLUDE_DEFAULT_NETWORK,r.fe="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,r.le="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",r.de="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,r.he="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,r.ye="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"592835a6b4204dd197c00488610003e0",r.ve="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"0.8",r.ge="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,r.Ee=5,r.Lt="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:-1,r.me="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,r.Te="undefined"==typeof HIVE_STORE_IP_DB||HIVE_STORE_IP_DB,e.Vt=r},function(t,e,n){"use strict";var r=n(4),o=n(0),i=function(){function t(t,e){this.sessionId=e,this.request=t}return t.prototype.getResponse=function(){var t=this,e=o.defer();return this.Se=new r._e({xhrSetup:function(e,n){e=new HiveComm.HiveRequestFactory(t.sessionId),e.open(t.request.method,n.url,!0);for(var r=0,o=t.request.headers;r<o.length;r++){var i=o[r];e.setRequestHeader(i.name,i.value)}return e.responseType=t.request.responseType,e}}),this.Se.load(this.request,{},{onSuccess:function(n,r,o){console.log("SUCCESS REQUEST",n,r,o),e.resolve({request:t.request,url:t.request.url,headers:t.request.headers,status:n.status,length:n.data.length||n.data.byteLength,statusText:"OK",body:n.data})},onError:function(t,n){var r=t.code;t.text;e.reject(r)},onTimeout:function(t,n){e.reject("timeout")}}),e.k},t.prototype.setProgressListener=function(t){},t.prototype.cancel=function(){this.Se&&this.Se.abort()},t}();e.Ft=i},function(t,e,n){"use strict";var r=function(){function t(t){this.loggerId="[HiveXhrLoader]",this.be=t,t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null,this.xhr=null},t.prototype.abort=function(){var t=this.loader||this.xhr;t&&4!==t.readyState&&(this.stats.Ie=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.we()},t.prototype.we=function(){this.xhr=null;var t=this.context,e=this.stats;e.tfirst=0,e.loaded=0,this.xhrSetup?this.xhr=this.xhrSetup(this.xhr,t):HiveComm.logError("Hive XHR setup missing",this.loggerId),this.xhr.onreadystatechange=this.readystatechange.bind(this),this.xhr.onprogress=this.loadprogress.bind(this),this.config.timeout&&(this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout)),this.xhr.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,o=this.context,i=this.config;if(!r.Ie&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=e.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,a=void 0;"arraybuffer"===o.responseType?(u=e.response,a=u.byteLength):(u=e.responseText,a=u.length),r.loaded=r.total=a;var c={url:e.responseURL,data:u};this.callbacks.onSuccess(c,r,o)}else r.retry>=i.Ne||s>=400&&s<499?(console.warn(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o)):(console.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.we.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.ke),r.retry++)}else i.timeout&&(this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i.timeout))},t.prototype.loadtimeout=function(){console.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)},t.prototype.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total);var n=this.callbacks.onProgress;n&&n(e,this.context,null)},t}();e._e=r}]);
//# sourceMappingURL=bitmovin.comm.hive1532444576721.js.map

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZjZiZjdkYmUzNGM3ZjQ4ODBhZWYiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZG9tLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdGltZW91dC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9zdHJpbmd1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9hcnJheXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3BsYXllcnV0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImFuZ3VsYXJcIiIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3VpY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2Jyb3dzZXJ1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2Vla2Jhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWl1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NwYWNlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzcGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hdWRpb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVzbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzIiwid2VicGFjazovLy8uL3ByZWZlcnJlZC10ZWNoLnR5cGVzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZydG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2xpc3RzZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250Y29sb3JzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250ZmFtaWx5c2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd29wYWNpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvc3RvcmFnZXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2xhYmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jYXN0c3RhdHVzb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90aXRsZWJhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3JlY29tbWVuZGF0aW9ub3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nsb3NlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vYml0bW92aW4tcGxheWVyLmNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vd2ViY2FzdC5zdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9iaXRtb3Zpbi1wbGF5ZXIuZGlyZWN0aXZlLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWltYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2d1aWQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NtYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2ltYWdlbG9hZGVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdHZub2lzZWNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3dhdGVybWFyay50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZHNraXBidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvaGl2ZS9iaXRtb3Zpbi5oaXZlLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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O0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHdDQUF3QztBQUN4QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLFNBQVM7QUFDVDtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQseUNBQXlDLHFCQUFxQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0VBQWtFLHVDQUF1QyxFQUFFO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxnQkFBZ0I7QUFDekY7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSw0Q0FBNEMscUVBQXFFO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSw4QkFBOEIsRUFBRTtBQUMzRztBQUNBO0FBQ0EsbURBQW1ELHlFQUF5RSxFQUFFO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZ0JBQWdCO0FBQ25FO0FBQ0E7QUFDQSwwQ0FBMEMsa0NBQWtDLEVBQUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsZ0JBQWdCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtQkFBbUI7QUFDeEQsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdnlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbEVBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnQkFBZ0I7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7Ozs7Ozs7O0FDcEJyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEJBQThCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdCQUFnQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDBEQUEwRCxFQUFFO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSwrQ0FBK0MsRUFBRTtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsOEJBQThCO0FBQ3hGLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDLDRCQUE0QixZQUFZO0FBQ3hDLDJCQUEyQixnQkFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGNBQWM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsOEJBQThCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsOEJBQThCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0EsNkNBQTZDLG9CQUFvQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywyRkFBMkY7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdERBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNFQUFzRTs7Ozs7Ozs7QUNOdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEZBQThGO0FBQy9GO0FBQ0EsOEVBQThFO0FBQzlFLDBCQUEwQix3Q0FBd0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNqS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMscUJBQXFCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNwREE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1FQUFtRTs7Ozs7Ozs7QUM5RnBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDJCQUEyQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQSw2Q0FBNkMscUNBQXFDO0FBQ2xGLDhDQUE4QyxzQ0FBc0M7QUFDcEYscURBQXFELG9DQUFvQztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csa0NBQWtDLEVBQUU7QUFDcEk7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGtCQUFrQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDekpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxnQkFBZ0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUN2Riw2QkFBNkIsdURBQXVEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDJCQUEyQjtBQUM5RTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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YyxvRkFBb0Ysc0NBQXNDLDRDQUE0Qyw4QkFBOEIsNEJBQTRCLGtMQUFrTCxrQ0FBa0MsMERBQTBELG1DQUFtQyx3Q0FBd0MsMkJBQTJCLGNBQWMsZ0NBQWdDLDZXQUE2VywwQ0FBMEMsK0VBQStFLGtJQUFrSSxlQUFlLGtCQUFrQiw2Q0FBNkMsc0JBQXNCLDhHQUE4RyxPQUFPLDBCQUEwQixnQ0FBZ0MsbUdBQW1HLHlCQUF5Qix3T0FBd08sK0ZBQStGLG9DQUFvQywwR0FBMEcsc0NBQXNDLGlCQUFpQix3REFBd0QsZ0NBQWdDLDBCQUEwQixHQUFHLEdBQUcsT0FBTztBQUM5cHpCLDJEIiwiZmlsZSI6Im1pLWFuZ3VsYXItYml0ZGFzaC1wbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2Nyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZjZiZjdkYmUzNGM3ZjQ4ODBhZWYiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vYXJyYXl1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGNvbXBvbmVudCB0aGF0IGNhbiBjb250YWluIGEgY29sbGVjdGlvbiBvZiBjaGlsZCBjb21wb25lbnRzLlxyXG4gKiBDb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCBjb25zdHJ1Y3Rpb24gdGltZSB0aHJvdWdoIHRoZSB7QGxpbmsgQ29udGFpbmVyQ29uZmlnI2NvbXBvbmVudHN9IHNldHRpbmcsIG9yIGxhdGVyXHJcbiAqIHRocm91Z2ggdGhlIHtAbGluayBDb250YWluZXIjYWRkQ29tcG9uZW50fSBtZXRob2QuIFRoZSBVSU1hbmFnZXIgYXV0b21hdGljYWxseSB0YWtlcyBjYXJlIG9mIGFsbCBjb21wb25lbnRzLCBpLmUuIGl0XHJcbiAqIGluaXRpYWxpemVzIGFuZCBjb25maWd1cmVzIHRoZW0gYXV0b21hdGljYWxseS5cclxuICpcclxuICogSW4gdGhlIERPTSwgdGhlIGNvbnRhaW5lciBjb25zaXN0cyBvZiBhbiBvdXRlciA8ZGl2PiAodGhhdCBjYW4gYmUgY29uZmlndXJlZCBieSB0aGUgY29uZmlnKSBhbmQgYW4gaW5uZXIgd3JhcHBlclxyXG4gKiA8ZGl2PiB0aGF0IGNvbnRhaW5zIHRoZSBjb21wb25lbnRzLiBUaGlzIGRvdWJsZS08ZGl2Pi1zdHJ1Y3R1cmUgaXMgb2Z0ZW4gcmVxdWlyZWQgdG8gYWNoaWV2ZSBtYW55IGFkdmFuY2VkIGVmZmVjdHNcclxuICogaW4gQ1NTIGFuZC9vciBKUywgZS5nLiBhbmltYXRpb25zIGFuZCBjZXJ0YWluIGZvcm1hdHRpbmcgd2l0aCBhYnNvbHV0ZSBwb3NpdGlvbmluZy5cclxuICpcclxuICogRE9NIGV4YW1wbGU6XHJcbiAqIDxjb2RlPlxyXG4gKiAgICAgPGRpdiBjbGFzcz0ndWktY29udGFpbmVyJz5cclxuICogICAgICAgICA8ZGl2IGNsYXNzPSdjb250YWluZXItd3JhcHBlcic+XHJcbiAqICAgICAgICAgICAgIC4uLiBjaGlsZCBjb21wb25lbnRzIC4uLlxyXG4gKiAgICAgICAgIDwvZGl2PlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqIDwvY29kZT5cclxuICovXHJcbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb250YWluZXInLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb0FkZCA9IFtdO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgY29udGFpbmVyLlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHNUb0FkZC5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCwgZmFsc2UgaWYgaXQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLmNvbXBvbmVudHMsIGNvbXBvbmVudCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNUb1JlbW92ZS5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gYXJyYXkgb2YgYWxsIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhpcyBjb250YWluZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXX1cclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250YWluZXIuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCkuc2xpY2UoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBET00gb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudHMuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBXZSBjYW5ub3QganVzdCBjbGVhciB0aGUgY29udGFpbmVyIHRvIHJlbW92ZSBhbGwgZWxlbWVudHMgYW5kIHRoZW4gcmUtYWRkIHRob3NlIHRoYXQgc2hvdWxkIHN0YXksIGJlY2F1c2VcclxuICAgICAgICAgKiBJRSBsb29zZXMgdGhlIGlubmVySFRNTCBvZiB1bmF0dGFjaGVkIGVsZW1lbnRzLCBsZWFkaW5nIHRvIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiB0aGUgY29udGFpbmVyIChlLmcuIG1pc3NpbmdcclxuICAgICAgICAgKiBzdWJ0aXRsZSB0ZXh0IGluIFN1YnRpdGxlTGFiZWwpLlxyXG4gICAgICAgICAqIEluc3RlYWQsIHdlIGtlZXAgYSBsaXN0IG9mIGVsZW1lbnRzIHRvIGFkZCBhbmQgcmVtb3ZlLCBsZWF2aW5nIHJlbWFpbmluZyBlbGVtZW50cyBhbG9uZS4gQnkga2VlcGluZyB0aGVtIGluXHJcbiAgICAgICAgICogdGhlIERPTSwgdGhlaXIgY29udGVudCBnZXRzIHByZXNlcnZlZCBpbiBhbGwgYnJvd3NlcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9SZW1vdmUuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9BZGQuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoY29tcG9uZW50LmdldERvbUVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBvdXRlciA8ZGl2PilcclxuICAgICAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGlubmVyIGNvbnRhaW5lciBlbGVtZW50ICh0aGUgaW5uZXIgPGRpdj4pIHRoYXQgd2lsbCBjb250YWluIHRoZSBjb21wb25lbnRzXHJcbiAgICAgICAgdmFyIGlubmVyQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2NvbnRhaW5lci13cmFwcGVyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5jb25maWcuY29tcG9uZW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1RvQWRkLnB1c2goaW5pdGlhbENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGlubmVyQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udGFpbmVyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkNvbnRhaW5lciA9IENvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cclxuICpcclxuICogTGlrZSBqUXVlcnksIERPTSBvcGVyYXRlcyBvbiBzaW5nbGUgZWxlbWVudHMgYW5kIGxpc3RzIG9mIGVsZW1lbnRzLiBGb3IgZXhhbXBsZTogY3JlYXRpbmcgYW4gZWxlbWVudCByZXR1cm5zIGEgRE9NXHJcbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcclxuICogdG8galF1ZXJ5LCBzZXR0ZXJzIHVzdWFsbHkgYWZmZWN0IGFsbCBlbGVtZW50cywgd2hpbGUgZ2V0dGVycyBvcGVyYXRlIG9uIG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAqIEFsc28gc2ltaWxhciB0byBqUXVlcnksIG1vc3QgbWV0aG9kcyAoZXhjZXB0IGdldHRlcnMpIHJldHVybiB0aGUgRE9NIGluc3RhbmNlIGZhY2lsaXRhdGluZyBlYXN5IGNoYWluaW5nIG9mIG1ldGhvZFxyXG4gKiBjYWxscy5cclxuICpcclxuICogQnVpbHQgd2l0aCB0aGUgaGVscCBvZjogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXHJcbiAqL1xyXG52YXIgRE9NID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRE9NKHNvbWV0aGluZywgYXR0cmlidXRlcykge1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDsgLy8gU2V0IHRoZSBnbG9iYWwgZG9jdW1lbnQgdG8gdGhlIGxvY2FsIGRvY3VtZW50IGZpZWxkXHJcbiAgICAgICAgaWYgKHNvbWV0aGluZyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmIChzb21ldGhpbmcubGVuZ3RoID4gMCAmJiBzb21ldGhpbmdbMF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gc29tZXRoaW5nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNvbWV0aGluZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc29tZXRoaW5nO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gW2VsZW1lbnRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgZG9jdW1lbnQgaXMgcGFzc2VkIGluLCB3ZSBkbyBub3QgZG8gYW55dGhpbmcgd2l0aCBpdCwgYnV0IGJ5IHNldHRpbmcgdGhpcy5lbGVtZW50cyB0byBudWxsXHJcbiAgICAgICAgICAgIC8vIHdlIGdpdmUgdGhlIGV2ZW50IGhhbmRsaW5nIG1ldGhvZCBhIG1lYW5zIHRvIGRldGVjdCBpZiB0aGUgZXZlbnRzIHNob3VsZCBiZSByZWdpc3RlcmVkIG9uIHRoZSBkb2N1bWVudFxyXG4gICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICB2YXIgdGFnTmFtZSA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IHRoaXMuZmluZENoaWxkRWxlbWVudHMoc2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShET00ucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgdGhpcyBET00gaW5zdGFuY2UgY3VycmVudGx5IGhvbGRzLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZWxlbWVudHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMgPyB0aGlzLmVsZW1lbnRzLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCB0aGlzIERPTSBpbnN0YW5jZSBjdXJyZW50bHkgaG9sZHMuXHJcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX0gdGhlIHJhdyBIVE1MIGVsZW1lbnRzXHJcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2Uge0BsaW5rICNnZXQoKX0gaW5zdGVhZFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmdldEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmVsZW1lbnRzIHx8IGluZGV4ID49IHRoaXMuZWxlbWVudHMubGVuZ3RoIHx8IGluZGV4IDwgLXRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1t0aGlzLmVsZW1lbnRzLmxlbmd0aCAtIGluZGV4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0Y3V0IG1ldGhvZCBmb3IgaXRlcmF0aW5nIGFsbCBlbGVtZW50cy4gU2hvcnRzIHRoaXMuZWxlbWVudHMuZm9yRWFjaCguLi4pIHRvIHRoaXMuZm9yRWFjaCguLi4pLlxyXG4gICAgICogQHBhcmFtIGhhbmRsZXIgdGhlIGhhbmRsZXIgdG8gZXhlY3V0ZSBhbiBvcGVyYXRpb24gb24gYW4gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZmluZENoaWxkRWxlbWVudHNPZkVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgY2hpbGRFbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgLy8gQ29udmVydCBOb2RlTGlzdCB0byBBcnJheVxyXG4gICAgICAgIC8vIGh0dHBzOi8vdG9kZG1vdHRvLmNvbS9hLWNvbXByZWhlbnNpdmUtZGl2ZS1pbnRvLW5vZGVsaXN0cy1hcnJheXMtY29udmVydGluZy1ub2RlbGlzdHMtYW5kLXVuZGVyc3RhbmRpbmctdGhlLWRvbS9cclxuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChjaGlsZEVsZW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmZpbmRDaGlsZEVsZW1lbnRzID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWxsQ2hpbGRFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgYWxsQ2hpbGRFbGVtZW50cyA9IGFsbENoaWxkRWxlbWVudHMuY29uY2F0KF90aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZENoaWxkRWxlbWVudHNPZkVsZW1lbnQoZG9jdW1lbnQsIHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFsbENoaWxkRWxlbWVudHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyBhbGwgY2hpbGQgZWxlbWVudHMgb2YgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBzdXBwbGllZCBzZWxlY3Rvci5cclxuICAgICAqIEBwYXJhbSBzZWxlY3RvciB0aGUgc2VsZWN0b3IgdG8gbWF0Y2ggd2l0aCBjaGlsZCBlbGVtZW50c1xyXG4gICAgICogQHJldHVybnMge0RPTX0gYSBuZXcgRE9NIGluc3RhbmNlIHJlcHJlc2VudGluZyBhbGwgbWF0Y2hlZCBjaGlsZHJlblxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgYWxsQ2hpbGRFbGVtZW50cyA9IHRoaXMuZmluZENoaWxkRWxlbWVudHMoc2VsZWN0b3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRE9NKGFsbENoaWxkRWxlbWVudHMpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEh0bWwoY29udGVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRIdG1sKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0SHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5pbm5lckhUTUw7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5zZXRIdG1sID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdG8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIGlubmVySFRNTCBnZXR0aW5nIHNldCB0byAndW5kZWZpbmVkJyAoYWxsIGJyb3dzZXJzKSBvciAnbnVsbCcgKElFOSlcclxuICAgICAgICAgICAgY29udGVudCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSBpbm5lciBIVE1MIG9mIGFsbCBlbGVtZW50cyAoZGVsZXRlcyBhbGwgY2hpbGRyZW4pLlxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGZpcnN0IGZvcm0gZWxlbWVudCwgZS5nLiB0aGUgc2VsZWN0ZWQgdmFsdWUgb2YgYSBzZWxlY3QgYm94IG9yIHRoZSB0ZXh0IGlmIGFuXHJcbiAgICAgKiBpbnB1dCBmaWVsZC5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSB2YWx1ZSBvZiBhIGZvcm0gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLnZhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbMF07XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIG1pc3NpbmcgZm9ybSBlbGVtZW50c1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2YWwoKSBub3Qgc3VwcG9ydGVkIGZvciBcIiArIHR5cGVvZiBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5hdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QXR0cihhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHIoYXR0cmlidXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRBdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0QXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uIChkYXRhQXR0cmlidXRlLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXREYXRhKGRhdGFBdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhQXR0cmlidXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGRhdGFBdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgb25lIG9yIG1vcmUgRE9NIGVsZW1lbnRzIGFzIGNoaWxkcmVuIHRvIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBjaGlsZEVsZW1lbnRzIHRoZSBjaHJpbGQgZWxlbWVudHMgdG8gYXBwZW5kXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNoaWxkRWxlbWVudHNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNoaWxkRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZEVsZW1lbnQuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoXywgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkRWxlbWVudC5lbGVtZW50c1tpbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgRE9NLlxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBvZmZzZXQgb2YgdGhlIGZpcnN0IGVsZW1lbnQgZnJvbSB0aGUgZG9jdW1lbnQncyB0b3AgbGVmdCBjb3JuZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7T2Zmc2V0fVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbMF07XHJcbiAgICAgICAgdmFyIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgaHRtbFJlY3QgPSBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgLy8gVmlydHVhbCB2aWV3cG9ydCBzY3JvbGwgaGFuZGxpbmcgKGUuZy4gcGluY2ggem9vbWVkIHZpZXdwb3J0cyBpbiBtb2JpbGUgYnJvd3NlcnMgb3IgZGVza3RvcCBDaHJvbWUvRWRnZSlcclxuICAgICAgICAvLyAnbm9ybWFsJyB6b29tcyBhbmQgdmlydHVhbCB2aWV3cG9ydCB6b29tcyAoYWthIGxheW91dCB2aWV3cG9ydCkgcmVzdWx0IGluIGRpZmZlcmVudFxyXG4gICAgICAgIC8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgcmVzdWx0czpcclxuICAgICAgICAvLyAgLSB3aXRoIG5vcm1hbCBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBkZWNyZWFzZXMgd2l0aCBhbiBpbmNyZWFzZSBpbiBzY3JvbGwoVG9wfExlZnQpL3BhZ2UoWHxZKU9mZnNldFxyXG4gICAgICAgIC8vICAtIHdpdGggcGluY2ggem9vbSBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBzdGF5cyB0aGUgc2FtZSB3aGlsZSBzY3JvbGwvcGFnZU9mZnNldCBjaGFuZ2VzXHJcbiAgICAgICAgLy8gVGhpcyBtZWFucywgdGhhdCB0aGUgY29tYmluYXRpb24gb2YgY2xpZW50UmVjdCArIHNjcm9sbC9wYWdlT2Zmc2V0IGRvZXMgbm90IHdvcmsgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXRcclxuICAgICAgICAvLyBmcm9tIHRoZSBkb2N1bWVudCdzIHVwcGVyIGxlZnQgb3JpZ2luIHdoZW4gcGluY2ggem9vbSBpcyB1c2VkLlxyXG4gICAgICAgIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIGRvIG5vdCB1c2Ugc2Nyb2xsL3BhZ2VPZmZzZXQgYnV0IGdldCB0aGUgY2xpZW50UmVjdCBvZiB0aGUgaHRtbCBlbGVtZW50IGFuZFxyXG4gICAgICAgIC8vIHN1YnRyYWN0IGl0IGZyb20gdGhlIGVsZW1lbnQncyByZWN0LCB3aGljaCBhbHdheXMgcmVzdWx0cyBpbiB0aGUgb2Zmc2V0IGZyb20gdGhlIGRvY3VtZW50IG9yaWdpbi5cclxuICAgICAgICAvLyBOT1RFOiB0aGUgY3VycmVudCB3YXkgb2Ygb2Zmc2V0IGNhbGN1bGF0aW9uIHdhcyBpbXBsZW1lbnRlZCBzcGVjaWZpY2FsbHkgdG8gdHJhY2sgZXZlbnQgcG9zaXRpb25zIG9uIHRoZVxyXG4gICAgICAgIC8vIHNlZWsgYmFyLCBhbmQgaXQgbWlnaHQgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGpRdWVyeSdzIG9mZnNldCgpIG1ldGhvZC4gSWYgdGhpcyBldmVyIHR1cm5zIG91dCB0byBiZSBhXHJcbiAgICAgICAgLy8gcHJvYmxlbSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIHJldmVydGVkIHRvIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIG9mZnNldCBjYWxjdWxhdGlvbiBtb3ZlZCB0byB0aGUgc2VlayBiYXIuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50UmVjdC50b3AgLSBodG1sUmVjdC50b3AsXHJcbiAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRSZWN0LmxlZnQgLSBodG1sUmVjdC5sZWZ0LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyB3aWR0aCgpIChwcm9iYWJseSBub3QpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0ub2Zmc2V0V2lkdGg7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyBoZWlnaHQoKSAocHJvYmFibHkgbm90KVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldEhlaWdodDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaGVzIGFuIGV2ZW50IGhhbmRsZXIgdG8gb25lIG9yIG1vcmUgZXZlbnRzIG9uIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgKG9yIG11bHRpcGxlIG5hbWVzIHNlcGFyYXRlZCBieSBzcGFjZSkgdG8gbGlzdGVuIHRvXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgZmlyZXNcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgaGFuZGxlciBmcm9tIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIHJlbW92ZSB0aGUgaGFuZGxlciBmcm9tXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgdG8gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIGFkZCwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBjbGFzc05hbWUubGVuZ3RoID4gMDsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gZWxlbWVudC5jbGFzc0xpc3QpLmFkZC5hcHBseShfYSwgY2xhc3NOYW1lcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZWQgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgZnJvbSBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyhlcykgdG8gcmVtb3ZlLCBtdWx0aXBsZSBjbGFzc2VzIHNlcGFyYXRlZCBieSBzcGFjZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGNsYXNzTmFtZS5sZW5ndGggPiAwOyB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBlbGVtZW50LmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF9hLCBjbGFzc05hbWVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgYW55IG9mIHRoZSBlbGVtZW50cyBoYXMgdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzIG5hbWUgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIG9uZSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBjbGFzcyBhdHRhY2hlZCwgZWxzZSBpZiBubyBlbGVtZW50IGhhcyBpdCBhdHRhY2hlZFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciBoYXNDbGFzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgYXJlIGluc2lkZSBhIGhhbmRsZXIsIHdlIGNhbid0IGp1c3QgJ3JldHVybiB0cnVlJy4gSW5zdGVhZCwgd2Ugc2F2ZSBpdCB0byBhIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJldHVybiBpdCBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbiBib2R5LlxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ2xhc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhhc0NsYXNzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzcyhwcm9wZXJ0eU5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENzcyhwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gPSBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzc0NvbGxlY3Rpb24ocHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldENzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnRzWzBdKVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gPGFueT4gY2FzdCB0byByZXNvbHZlIFRTNzAxNTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY2MjcxMTQvMzcwMjUyXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChydWxlVmFsdWVDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM0NDkwNTczLzM3MDI1MlxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHJ1bGVWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBET007XHJcbn0oKSk7XHJcbmV4cG9ydHMuRE9NID0gRE9NO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2RvbS50c1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZ3VpZF8xID0gcmVxdWlyZShcIi4uL2d1aWRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBjbGFzcyBvZiB0aGUgVUkgZnJhbWV3b3JrLlxyXG4gKiBFYWNoIGNvbXBvbmVudCBtdXN0IGV4dGVuZCB0aGlzIGNsYXNzIGFuZCBvcHRpb25hbGx5IHRoZSBjb25maWcgaW50ZXJmYWNlLlxyXG4gKi9cclxudmFyIENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIGNvbXBvbmVudCB3aXRoIGFuIG9wdGlvbmFsbHkgc3VwcGxpZWQgY29uZmlnLiBBbGwgc3ViY2xhc3NlcyBtdXN0IGNhbGwgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZWlyXHJcbiAgICAgKiBzdXBlcmNsYXNzIGFuZCB0aGVuIG1lcmdlIHRoZWlyIGNvbmZpZ3VyYXRpb24gaW50byB0aGUgY29tcG9uZW50J3MgY29uZmlndXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBsaXN0IG9mIGV2ZW50cyB0aGF0IHRoaXMgY29tcG9uZW50IG9mZmVycy4gVGhlc2UgZXZlbnRzIHNob3VsZCBhbHdheXMgYmUgcHJpdmF0ZSBhbmQgb25seSBkaXJlY3RseVxyXG4gICAgICAgICAqIGFjY2Vzc2VkIGZyb20gd2l0aGluIHRoZSBpbXBsZW1lbnRpbmcgY29tcG9uZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQmVjYXVzZSBUeXBlU2NyaXB0IGRvZXMgbm90IHN1cHBvcnQgcHJpdmF0ZSBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgbmFtZSBvbiBkaWZmZXJlbnQgY2xhc3MgaGllcmFyY2h5IGxldmVsc1xyXG4gICAgICAgICAqIChpLmUuIHN1cGVyY2xhc3MgYW5kIHN1YmNsYXNzIGNhbm5vdCBjb250YWluIGEgcHJpdmF0ZSBwcm9wZXJ0eSB3aXRoIHRoZSBzYW1lIG5hbWUpLCB0aGUgZGVmYXVsdCBuYW1pbmdcclxuICAgICAgICAgKiBjb252ZW50aW9uIGZvciB0aGUgZXZlbnQgbGlzdCBvZiBhIGNvbXBvbmVudCB0aGF0IHNob3VsZCBiZSBmb2xsb3dlZCBieSBzdWJjbGFzc2VzIGlzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxyXG4gICAgICAgICAqIGNhbWVsLWNhc2VkIGNsYXNzIG5hbWUgKyAnRXZlbnRzJyAoZS5nLiBTdWJDbGFzcyBleHRlbmRzIENvbXBvbmVudCA9PiBzdWJDbGFzc0V2ZW50cykuXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjY29tcG9uZW50RXZlbnRzfSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEV2ZW50IHByb3BlcnRpZXMgc2hvdWxkIGJlIG5hbWVkIGluIGNhbWVsIGNhc2Ugd2l0aCBhbiAnb24nIHByZWZpeCBhbmQgaW4gdGhlIHByZXNlbnQgdGVuc2UuIEFzeW5jIGV2ZW50cyBtYXlcclxuICAgICAgICAgKiBoYXZlIGEgc3RhcnQgZXZlbnQgKHdoZW4gdGhlIG9wZXJhdGlvbiBzdGFydHMpIGluIHRoZSBwcmVzZW50IHRlbnNlLCBhbmQgbXVzdCBoYXZlIGFuIGVuZCBldmVudCAod2hlbiB0aGVcclxuICAgICAgICAgKiBvcGVyYXRpb24gZW5kcykgaW4gdGhlIHBhc3QgdGVuc2UgKG9yIHByZXNlbnQgdGVuc2UgaW4gc3BlY2lhbCBjYXNlcyAoZS5nLiBvblN0YXJ0L29uU3RhcnRlZCBvciBvblBsYXkvb25QbGF5aW5nKS5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNjb21wb25lbnRFdmVudHMjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEVhY2ggZXZlbnQgc2hvdWxkIGJlIGFjY29tcGFuaWVkIHdpdGggYSBwcm90ZWN0ZWQgbWV0aG9kIG5hbWVkIGJ5IHRoZSBjb252ZW50aW9uIGV2ZW50TmFtZSArICdFdmVudCdcclxuICAgICAgICAgKiAoZS5nLiBvblN0YXJ0RXZlbnQpLCB0aGF0IGFjdHVhbGx5IHRyaWdnZXJzIHRoZSBldmVudCBieSBjYWxsaW5nIHtAbGluayBFdmVudERpc3BhdGNoZXIjZGlzcGF0Y2ggZGlzcGF0Y2h9IGFuZFxyXG4gICAgICAgICAqIHBhc3NpbmcgYSByZWZlcmVuY2UgdG8gdGhlIGNvbXBvbmVudCBhcyBmaXJzdCBwYXJhbWV0ZXIuIENvbXBvbmVudHMgc2hvdWxkIGFsd2F5cyB0cmlnZ2VyIHRoZWlyIGV2ZW50cyB3aXRoIHRoZXNlXHJcbiAgICAgICAgICogbWV0aG9kcy4gSW1wbGVtZW50aW5nIHRoaXMgcGF0dGVybiBnaXZlcyBzdWJjbGFzc2VzIG1lYW5zIHRvIGRpcmVjdGx5IGxpc3RlbiB0byB0aGUgZXZlbnRzIGJ5IG92ZXJyaWRpbmcgdGhlXHJcbiAgICAgICAgICogbWV0aG9kIChhbmQgc2F2aW5nIHRoZSBvdmVyaGVhZCBvZiBwYXNzaW5nIGEgaGFuZGxlciB0byB0aGUgZXZlbnQgZGlzcGF0Y2hlcikgYW5kIG1vcmUgaW1wb3J0YW50bHkgdG8gdHJpZ2dlclxyXG4gICAgICAgICAqIHRoZXNlIGV2ZW50cyB3aXRob3V0IGhhdmluZyBhY2Nlc3MgdG8gdGhlIHByaXZhdGUgZXZlbnQgbGlzdC5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNvblNob3d9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVG8gcHJvdmlkZSBleHRlcm5hbCBjb2RlIHRoZSBwb3NzaWJpbGl0eSB0byBsaXN0ZW4gdG8gdGhpcyBjb21wb25lbnQncyBldmVudHMgKHN1YnNjcmliZSwgdW5zdWJzY3JpYmUsIGV0Yy4pLFxyXG4gICAgICAgICAqIGVhY2ggZXZlbnQgc2hvdWxkIGFsc28gYmUgYWNjb21wYW5pZWQgYnkgYSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQncyBwcm9wZXJ0eSxcclxuICAgICAgICAgKiB0aGF0IHJldHVybnMgdGhlIHtAbGluayBFdmVudH0gb2J0YWluZWQgZnJvbSB0aGUgZXZlbnQgZGlzcGF0Y2hlciBieSBjYWxsaW5nIHtAbGluayBFdmVudERpc3BhdGNoZXIjZ2V0RXZlbnR9LlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBGdWxsIGV4YW1wbGUgZm9yIGFuIGV2ZW50IHJlcHJlc2VudGluZyBhbiBleGFtcGxlIGFjdGlvbiBpbiBhIGV4YW1wbGUgY29tcG9uZW50OlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogPGNvZGU+XHJcbiAgICAgICAgICogLy8gRGVmaW5lIGFuIGV4YW1wbGUgY29tcG9uZW50IGNsYXNzIHdpdGggYW4gZXhhbXBsZSBldmVudFxyXG4gICAgICAgICAqIGNsYXNzIEV4YW1wbGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPiB7XHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgIHByaXZhdGUgZXhhbXBsZUNvbXBvbmVudEV2ZW50cyA9IHtcclxuICAgICAgICAgICAqICAgICAgICAgb25FeGFtcGxlQWN0aW9uOiBuZXcgRXZlbnREaXNwYXRjaGVyPEV4YW1wbGVDb21wb25lbnQsIE5vQXJncz4oKVxyXG4gICAgICAgICAgICogICAgIH1cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3IgYW5kIG90aGVyIHN0dWZmLi4uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgIHByb3RlY3RlZCBvbkV4YW1wbGVBY3Rpb25FdmVudCgpIHtcclxuICAgICAgICAgICAqICAgICAgICB0aGlzLmV4YW1wbGVDb21wb25lbnRFdmVudHMub25FeGFtcGxlQWN0aW9uLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgICAgICAgICogICAgfVxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgIGdldCBvbkV4YW1wbGVBY3Rpb24oKTogRXZlbnQ8RXhhbXBsZUNvbXBvbmVudCwgTm9BcmdzPiB7XHJcbiAgICAgICAgICAgKiAgICAgICAgcmV0dXJuIHRoaXMuZXhhbXBsZUNvbXBvbmVudEV2ZW50cy5vbkV4YW1wbGVBY3Rpb24uZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAqICAgIH1cclxuICAgICAgICAgICAqIH1cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHNvbWV3aGVyZVxyXG4gICAgICAgICAqIHZhciBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2UgPSBuZXcgRXhhbXBsZUNvbXBvbmVudCgpO1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIHRoZSBleGFtcGxlIGV2ZW50IG9uIHRoZSBjb21wb25lbnRcclxuICAgICAgICAgKiBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2Uub25FeGFtcGxlQWN0aW9uLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyOiBFeGFtcGxlQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgKiAgICAgY29uc29sZS5sb2coJ29uRXhhbXBsZUFjdGlvbiBvZiAnICsgc2VuZGVyICsgJyBoYXMgZmlyZWQhJyk7XHJcbiAgICAgICAgICAgKiB9KTtcclxuICAgICAgICAgKiA8L2NvZGU+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRFdmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uU2hvdzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkhpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Ib3ZlckNoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBjb21wb25lbnRcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgICAgIGlkOiAnbWktd2JjLWlkLScgKyBndWlkXzEuR3VpZC5uZXh0KCksXHJcbiAgICAgICAgICAgIGNzc1ByZWZpeDogJ21pLXdiYycsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY29tcG9uZW50JyxcclxuICAgICAgICAgICAgY3NzQ2xhc3NlczogW10sXHJcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2UsXHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCBlLmcuIGJ5IGFwcGx5aW5nIGNvbmZpZyBzZXR0aW5ncy5cclxuICAgICAqIFRoaXMgbWV0aG9kIG11c3Qgbm90IGJlIGNhbGxlZCBmcm9tIG91dHNpZGUgdGhlIFVJIGZyYW1ld29yay5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfS4gSWYgdGhlIGNvbXBvbmVudCBpcyBhbiBpbm5lciBjb21wb25lbnQgb2ZcclxuICAgICAqIHNvbWUgY29tcG9uZW50LCBhbmQgdGh1cyBlbmNhcHN1bGF0ZWQgYWJkIG1hbmFnZWQgaW50ZXJuYWxseSBhbmQgbmV2ZXIgZGlyZWN0bHkgZXhwb3NlZCB0byB0aGUgVUlNYW5hZ2VyLFxyXG4gICAgICogdGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgZnJvbSB0aGUgbWFuYWdpbmcgY29tcG9uZW50J3Mge0BsaW5rICNpbml0aWFsaXplfSBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhpZGRlbiA9IHRoaXMuY29uZmlnLmhpZGRlbjtcclxuICAgICAgICAvLyBIaWRlIHRoZSBjb21wb25lbnQgYXQgaW5pdGlhbGl6YXRpb24gaWYgaXQgaXMgY29uZmlndXJlZCB0byBiZSBoaWRkZW5cclxuICAgICAgICBpZiAodGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7IC8vIFNldCBmbGFnIHRvIGZhbHNlIGZvciB0aGUgZm9sbG93aW5nIGhpZGUoKSBjYWxsIHRvIHdvcmsgKGhpZGUoKSBjaGVja3MgdGhlIGZsYWcpXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZXMgdGhlIGNvbXBvbmVudCBmb3IgdGhlIHN1cHBsaWVkIFBsYXllciBhbmQgVUlJbnN0YW5jZU1hbmFnZXIuIFRoaXMgaXMgdGhlIHBsYWNlIHdoZXJlIGFsbCB0aGUgbWFnaWNcclxuICAgICAqIGhhcHBlbnMsIHdoZXJlIGNvbXBvbmVudHMgdHlwaWNhbGx5IHN1YnNjcmliZSBhbmQgcmVhY3QgdG8gZXZlbnRzIChvbiB0aGVpciBET00gZWxlbWVudCwgdGhlIFBsYXllciwgb3IgdGhlXHJcbiAgICAgKiBVSUluc3RhbmNlTWFuYWdlciksIGFuZCBiYXNpY2FsbHkgZXZlcnl0aGluZyB0aGF0IG1ha2VzIHRoZW0gaW50ZXJhY3RpdmUuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgb25seSBvbmNlLCB3aGVuIHRoZSBVSU1hbmFnZXIgaW5pdGlhbGl6ZXMgdGhlIFVJLlxyXG4gICAgICpcclxuICAgICAqIFN1YmNsYXNzZXMgdXN1YWxseSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gYWRkIHRoZWlyIG93biBmdW5jdGlvbmFsaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwbGF5ZXIgdGhlIHBsYXllciB3aGljaCB0aGlzIGNvbXBvbmVudCBjb250cm9sc1xyXG4gICAgICogQHBhcmFtIHVpbWFuYWdlciB0aGUgVUlJbnN0YW5jZU1hbmFnZXIgdGhhdCBtYW5hZ2VzIHRoaXMgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9uU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db21wb25lbnRTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db21wb25lbnRIaWRlLmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUcmFjayB0aGUgaG92ZXJlZCBzdGF0ZSBvZiB0aGUgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkhvdmVyQ2hhbmdlZEV2ZW50KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkhvdmVyQ2hhbmdlZEV2ZW50KGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbGVhc2VzIGFsbCByZXNvdXJjZXMgYW5kIGRlcGVuZGVuY2llcyB0aGF0IHRoZSBjb21wb25lbnQgaG9sZHMuIFBsYXllciwgRE9NLCBhbmQgVUlNYW5hZ2VyIGV2ZW50cyBhcmVcclxuICAgICAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBkdXJpbmcgcmVsZWFzZSBhbmQgZG8gbm90IGV4cGxpY2l0bHkgbmVlZCB0byBiZSByZW1vdmVkIGhlcmUuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFVJTWFuYWdlciB3aGVuIGl0IHJlbGVhc2VzIHRoZSBVSS5cclxuICAgICAqXHJcbiAgICAgKiBTdWJjbGFzc2VzIHRoYXQgbmVlZCB0byByZWxlYXNlIHJlc291cmNlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgYW5kIGNhbGwgc3VwZXIucmVsZWFzZSgpLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlLCBvdmVycmlkZSB3aGVyZSBuZWNlc3NhcnlcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHRoZSBET00gZWxlbWVudCBmb3IgdGhpcyBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogU3ViY2xhc3NlcyB1c3VhbGx5IG92ZXJ3cml0ZSB0aGlzIG1ldGhvZCB0byBleHRlbmQgb3IgcmVwbGFjZSB0aGUgRE9NIGVsZW1lbnQgd2l0aCB0aGVpciBvd24gZGVzaWduLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50LiBDcmVhdGVzIHRoZSBET00gZWxlbWVudCBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhpc3QuXHJcbiAgICAgKlxyXG4gICAgICogU2hvdWxkIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLnRvRG9tRWxlbWVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2VzIGEgY29uZmlndXJhdGlvbiB3aXRoIGEgZGVmYXVsdCBjb25maWd1cmF0aW9uIGFuZCBhIGJhc2UgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzdXBlcmNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnRzLCBhcyB1c3VhbGx5IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0cyBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBmb3Igc2V0dGluZ3MgdGhhdCBhcmUgbm90IHBhc3NlZCB3aXRoIHRoZSBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0gYmFzZSBjb25maWd1cmF0aW9uIGluaGVyaXRlZCBmcm9tIGEgc3VwZXJjbGFzc1xyXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5tZXJnZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcsIGRlZmF1bHRzLCBiYXNlKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIGRlZmF1bHQgY29uZmlnIHdpdGggc3VwcGxpZWQgY29uZmlnXHJcbiAgICAgICAgdmFyIG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2UsIGRlZmF1bHRzLCBjb25maWcpO1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgZXh0ZW5kZWQgY29uZmlnXHJcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9mIGFsbCBDU1MgY2xhc3NlcyBvZiB0aGUgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIE1lcmdlIGFsbCBDU1MgY2xhc3NlcyBpbnRvIHNpbmdsZSBhcnJheVxyXG4gICAgICAgIHZhciBmbGF0dGVuZWRBcnJheSA9IFt0aGlzLmNvbmZpZy5jc3NDbGFzc10uY29uY2F0KHRoaXMuY29uZmlnLmNzc0NsYXNzZXMpO1xyXG4gICAgICAgIC8vIFByZWZpeCBjbGFzc2VzXHJcbiAgICAgICAgZmxhdHRlbmVkQXJyYXkgPSBmbGF0dGVuZWRBcnJheS5tYXAoZnVuY3Rpb24gKGNzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJlZml4Q3NzKGNzcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSm9pbiBhcnJheSB2YWx1ZXMgaW50byBhIHN0cmluZ1xyXG4gICAgICAgIHZhciBmbGF0dGVuZWRTdHJpbmcgPSBmbGF0dGVuZWRBcnJheS5qb2luKCcgJyk7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRyaW1tZWQgc3RyaW5nIHRvIHByZXZlbnQgd2hpdGVzcGFjZSBhdCB0aGUgZW5kIGZyb20gdGhlIGpvaW4gb3BlcmF0aW9uXHJcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFN0cmluZy50cmltKCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5wcmVmaXhDc3MgPSBmdW5jdGlvbiAoY3NzQ2xhc3NPcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNzc1ByZWZpeCArICctJyArIGNzc0NsYXNzT3JJZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29uZmlnfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IGlmIHNob3duLlxyXG4gICAgICogVGhpcyBtZXRob2QgYmFzaWNhbGx5IHRyYW5zZmVycyB0aGUgY29tcG9uZW50IGludG8gdGhlIGhpZGRlbiBzdGF0ZS4gQWN0dWFsIGhpZGluZyBpcyBkb25lIHZpYSBDU1MuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGlkZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm9uU2hvd0V2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGhpZGRlbi5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZGVuO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIHNob3duLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuaXNIaWRkZW4oKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGhpZGRlbiBzdGF0ZSBieSBoaWRpbmcgdGhlIGNvbXBvbmVudCBpZiBpdCBpcyBzaG93biwgb3Igc2hvd2luZyBpdCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlkZGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgY3VycmVudGx5IGhvdmVyZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGhvdmVyZWQsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc0hvdmVyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG92ZXJlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvblNob3cgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uU2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uU2hvdy5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhpZGUgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uSGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhvdmVyQ2hhbmdlZCBldmVudC5cclxuICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25Ib3ZlckNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChob3ZlcmVkKSB7XHJcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gaG92ZXJlZDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhvdmVyQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB7IGhvdmVyZWQ6IGhvdmVyZWQgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25TaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBzaG93aW5nLlxyXG4gICAgICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25TaG93LmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGhpZGluZy5cclxuICAgICAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25Ib3ZlckNoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgaG92ZXItc3RhdGUgaXMgY2hhbmdpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25Ib3ZlckNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNsYXNzbmFtZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgaXMgaW4gdGhlIGhpZGRlbiBzdGF0ZS5cclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5DTEFTU19ISURERU4gPSAnaGlkZGVuJztcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG4vKipcclxuICogRXZlbnQgZGlzcGF0Y2hlciB0byBzdWJzY3JpYmUgYW5kIHRyaWdnZXIgZXZlbnRzLiBFYWNoIGV2ZW50IHNob3VsZCBoYXZlIGl0cyBvd24gZGlzcGF0Y2hlci5cclxuICovXHJcbnZhciBFdmVudERpc3BhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlT25jZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCB0cnVlKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGxpc3RlbmVycywgY29tcGFyZSB3aXRoIHBhcmFtZXRlciwgYW5kIHJlbW92ZSBpZiBmb3VuZFxyXG4gICAgICAgIC8vIE5PVEU6IEluIGNhc2Ugd2UgZXZlciByZW1vdmUgYWxsIG1hdGNoaW5nIGxpc3RlbmVycyBpbnN0ZWFkIG9mIGp1c3QgdGhlIGZpcnN0LCB3ZSBuZWVkIHRvIHJldmVyc2UtaXRlcmF0ZSBoZXJlXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZExpc3RlbmVyID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVkTGlzdGVuZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5saXN0ZW5lcnMsIHN1YnNjcmliZWRMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGlzIGRpc3BhdGNoZXIuXHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgdG8gYWxsIHN1YnNjcmliZWQgbGlzdGVuZXJzLlxyXG4gICAgICogQHBhcmFtIHNlbmRlciB0aGUgc291cmNlIG9mIHRoZSBldmVudFxyXG4gICAgICogQHBhcmFtIGFyZ3MgdGhlIGFyZ3VtZW50cyBmb3IgdGhlIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgaWYgKGFyZ3MgPT09IHZvaWQgMCkgeyBhcmdzID0gbnVsbDsgfVxyXG4gICAgICAgIHZhciBsaXN0ZW5lcnNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIC8vIENhbGwgZXZlcnkgbGlzdGVuZXJcclxuICAgICAgICAvLyBXZSBpdGVyYXRlIG92ZXIgYSBjb3B5IG9mIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYXZvaWQgdGhlIGNhc2Ugd2hlcmUgZXZlbnRzIGFyZSBub3QgZmlyZWQgb24gbGlzdGVuZXJzIHdoZW5cclxuICAgICAgICAvLyBsaXN0ZW5lcnMgYXJlIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgZXZlbnQgaGFuZGxlcnMgZHVyaW5nIGEgZGlzcGF0Y2ggKGJlY2F1c2UgdGhlIGluZGljZXMgY2hhbmdlIGFuZFxyXG4gICAgICAgIC8vIGxpc3RlbmVycyBhcmUgc2hpZnRlZCB3aXRoaW4gdGhlIGFycmF5KS5cclxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgbGlzdGVuZXIgeCsxIHdpbGwgc3RpbGwgYmUgY2FsbGVkIGlmIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgaGFuZGxlciBvZiBsaXN0ZW5lciB4LCBhcyB3ZWxsXHJcbiAgICAgICAgLy8gYXMgbGlzdGVuZXIgeSsxIHdpbGwgbm90IGJlIGNhbGxlZCB3aGVuIHN1YnNjcmliZWQgZnJvbSB3aXRoaW4gdGhlIGhhbmRsZXIgb2YgbGlzdGVuZXIgeS5cclxuICAgICAgICAvLyBBcnJheS5zbGljZSgwKSBpcyB0aGUgZmFzdGVzdCBhcnJheSBjb3B5IG1ldGhvZCBhY2NvcmRpbmcgdG86IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTUxNDI1NC8zNzAyNTJcclxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuc2xpY2UoMCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBsaXN0ZW5lcnNfMSA9IGxpc3RlbmVyczsgX2kgPCBsaXN0ZW5lcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzXzFbX2ldO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5maXJlKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5pc09uY2UoKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzVG9SZW1vdmUucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVyXHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBsaXN0ZW5lcnNUb1JlbW92ZV8xID0gbGlzdGVuZXJzVG9SZW1vdmU7IF9hIDwgbGlzdGVuZXJzVG9SZW1vdmVfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyVG9SZW1vdmUgPSBsaXN0ZW5lcnNUb1JlbW92ZV8xW19hXTtcclxuICAgICAgICAgICAgYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMubGlzdGVuZXJzLCBsaXN0ZW5lclRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBldmVudCB0aGF0IHRoaXMgZGlzcGF0Y2hlciBtYW5hZ2VzIGFuZCBvbiB3aGljaCBsaXN0ZW5lcnMgY2FuIHN1YnNjcmliZSBhbmQgdW5zdWJzY3JpYmUgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnR9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZ2V0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBjYXN0IHRoZSBldmVudCBkaXNwYXRjaGVyIHRvIHRoZSBldmVudCBpbnRlcmZhY2UuIEF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSB3aGVuIHRoZVxyXG4gICAgICAgIC8vIGNvZGViYXNlIGdyb3dzLCBpdCBtaWdodCBtYWtlIHNlbnNlIHRvIHNwbGl0IHRoZSBkaXNwYXRjaGVyIGludG8gc2VwYXJhdGUgZGlzcGF0Y2hlciBhbmQgZXZlbnQgY2xhc3Nlcy5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnREaXNwYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RGlzcGF0Y2hlciA9IEV2ZW50RGlzcGF0Y2hlcjtcclxuLyoqXHJcbiAqIEEgYmFzaWMgZXZlbnQgbGlzdGVuZXIgd3JhcHBlciB0byBtYW5hZ2UgbGlzdGVuZXJzIHdpdGhpbiB0aGUge0BsaW5rIEV2ZW50RGlzcGF0Y2hlcn0uIFRoaXMgaXMgYSAncHJpdmF0ZScgY2xhc3NcclxuICogZm9yIGludGVybmFsIGRpc3BhdGNoZXIgdXNlIGFuZCBpdCBpcyB0aGVyZWZvcmUgbm90IGV4cG9ydGVkLlxyXG4gKi9cclxudmFyIEV2ZW50TGlzdGVuZXJXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIG9uY2UpIHtcclxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLCBcImxpc3RlbmVyXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50TGlzdGVuZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cy5cclxuICAgICAqIEBwYXJhbSBzZW5kZXJcclxuICAgICAqIEBwYXJhbSBhcmdzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgbGlzdGVuZXIgaXMgc2NoZWR1bGVkIHRvIGJlIGNhbGxlZCBvbmx5IG9uY2UuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gb25jZSBpZiB0cnVlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5pc09uY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub25jZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBFeHRlbmRzIHRoZSBiYXNpYyB7QGxpbmsgRXZlbnRMaXN0ZW5lcldyYXBwZXJ9IHdpdGggcmF0ZS1saW1pdGluZyBmdW5jdGlvbmFsaXR5LlxyXG4gKi9cclxudmFyIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxpc3RlbmVyKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJhdGVNcyA9IHJhdGVNcztcclxuICAgICAgICBfdGhpcy5sYXN0RmlyZVRpbWUgPSAwO1xyXG4gICAgICAgIC8vIFdyYXAgdGhlIGV2ZW50IGxpc3RlbmVyIHdpdGggYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBkb2VzIHRoZSByYXRlLWxpbWl0aW5nXHJcbiAgICAgICAgX3RoaXMucmF0ZUxpbWl0aW5nRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBfdGhpcy5sYXN0RmlyZVRpbWUgPiBfdGhpcy5yYXRlTXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgZW5vdWdoIHRpbWUgc2luY2UgdGhlIHByZXZpb3VzIGNhbGwgaGFzIHBhc3NlZCwgY2FsbCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGFjdHVhbCBldmVudCBsaXN0ZW5lciBhbmQgcmVjb3JkIHRoZSBjdXJyZW50IHRpbWVcclxuICAgICAgICAgICAgICAgIF90aGlzLmZpcmVTdXBlcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEZpcmVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZVN1cGVyID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIGFjdHVhbCBleHRlcm5hbCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsIHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAvLyBGaXJlIHRoZSBpbnRlcm5hbCByYXRlLWxpbWl0aW5nIGxpc3RlbmVyIGluc3RlYWQgb2YgdGhlIGV4dGVybmFsIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgdGhpcy5yYXRlTGltaXRpbmdFdmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oRXZlbnRMaXN0ZW5lcldyYXBwZXIpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ldmVudGRpc3BhdGNoZXIudHNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4uL3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBzdWJ0aXRsZXMgc2V0dGluZ3Mgc2VsZWN0IGJveFxyXG4gKiovXHJcbnZhciBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIgPSBjb25maWcuc2V0dGluZ3NNYW5hZ2VyO1xyXG4gICAgICAgIF90aGlzLm92ZXJsYXkgPSBjb25maWcub3ZlcmxheTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IHNldCBjbGFzcyBhbmQgYWRkcyB0aGUgcGFzc2VkIGluIGNsYXNzLlxyXG4gICAgICogQHBhcmFtIGNzc0NsYXNzIFRoZSBuZXcgY2xhc3MgdG8gcmVwbGFjZSB0aGUgcHJldmlvdXMgY2xhc3Mgd2l0aCBvciBudWxsIHRvIGp1c3QgcmVtb3ZlIHRoZSBwcmV2aW91cyBjbGFzc1xyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gucHJvdG90eXBlLnRvZ2dsZU92ZXJsYXlDbGFzcyA9IGZ1bmN0aW9uIChjc3NDbGFzcykge1xyXG4gICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBjbGFzcyBpZiBleGlzdGluZ1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDc3NDbGFzcykge1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3NzQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbmV3IGNsYXNzIGlmIHNwZWNpZmllZC4gSWYgdGhlIG5ldyBjbGFzcyBpcyBudWxsLCB3ZSBkb24ndCBhZGQgYW55dGhpbmcuXHJcbiAgICAgICAgaWYgKGNzc0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggPSBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IGNhbiBiZSB0b2dnbGVkIGJldHdlZW4gJ29uJyBhbmQgJ29mZicgc3RhdGVzLlxyXG4gKi9cclxudmFyIFRvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25Ub2dnbGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Ub2dnbGVPbjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRvZ2dsZU9mZjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgb25DbGFzczogJ29uJyxcclxuICAgICAgICAgICAgb2ZmQ2xhc3M6ICdvZmYnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnLCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9mZkNsYXNzKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSBidXR0b24gdG8gdGhlICdvbicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPZmYoKSkge1xyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9mZkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlT25FdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29mZicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT24oKSkge1xyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vZmZDbGFzcykpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZU9mZkV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlIHRoZSBidXR0b24gJ29uJyBpZiBpdCBpcyAnb2ZmJywgb3IgJ29mZicgaWYgaXQgaXMgJ29uJy5cclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGluIHRoZSAnb24nIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvbicsIGZhbHNlIGlmICdvZmYnXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuaXNPbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vblN0YXRlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGluIHRoZSAnb2ZmJyBzdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGJ1dHRvbiBpcyAnb2ZmJywgZmFsc2UgaWYgJ29uJ1xyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLmlzT2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5pc09uKCk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBGaXJlIHRoZSB0b2dnbGUgZXZlbnQgdG9nZXRoZXIgd2l0aCB0aGUgY2xpY2sgZXZlbnRcclxuICAgICAgICAvLyAodGhleSBhcmUgdGVjaG5pY2FsbHkgdGhlIHNhbWUsIG9ubHkgdGhlIHNlbWFudGljcyBhcmUgZGlmZmVyZW50KVxyXG4gICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZS5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uVG9nZ2xlT25FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9uLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVPZmZFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9mZi5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9nZ2xlQnV0dG9uLnByb3RvdHlwZSwgXCJvblRvZ2dsZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZS5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUsIFwib25Ub2dnbGVPblwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZCAnb24nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT24uZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2dnbGVCdXR0b24ucHJvdG90eXBlLCBcIm9uVG9nZ2xlT2ZmXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkICdvZmYnLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT2ZmLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gVG9nZ2xlQnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlRvZ2dsZUJ1dHRvbiA9IFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSB0ZXh0IGxhYmVsLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8c3BhbiBjbGFzcz0ndWktbGFiZWwnPi4uLnNvbWUgdGV4dC4uLjwvc3Bhbj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIExhYmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKExhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxhYmVsRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkNsaWNrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uVGV4dENoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLnRleHQgPSBfdGhpcy5jb25maWcudGV4dDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMYWJlbC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5odG1sKHRoaXMudGV4dCk7XHJcbiAgICAgICAgbGFiZWxFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25DbGlja0V2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHRcclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuaHRtbCh0ZXh0KTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLmNsZWFyVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5odG1sKCcnKTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudChudWxsKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRlc3RzIGlmIHRoZSBsYWJlbCBpcyBlbXB0eSBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dC5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGxhYmVsIGlzIGVtcHR5LCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy50ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIHtAbGluayAjb25DbGlja30gZXZlbnQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50IHdpdGhvdXQgc3Vic2NyaWJpbmcgYW4gZXZlbnQgbGlzdGVuZXIgYnkgb3ZlcndyaXRpbmcgdGhlIG1ldGhvZFxyXG4gICAgICogYW5kIGNhbGxpbmcgdGhlIHN1cGVyIG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUge0BsaW5rICNvbkNsaWNrfSBldmVudC5cclxuICAgICAqIENhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbGlzdGVuIHRvIHRoaXMgZXZlbnQgd2l0aG91dCBzdWJzY3JpYmluZyBhbiBldmVudCBsaXN0ZW5lciBieSBvdmVyd3JpdGluZyB0aGUgbWV0aG9kXHJcbiAgICAgKiBhbmQgY2FsbGluZyB0aGUgc3VwZXIgbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUub25UZXh0Q2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uVGV4dENoYW5nZWQuZGlzcGF0Y2godGhpcywgdGV4dCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGxhYmVsIGlzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25DbGljay5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvblRleHRDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRleHQgb24gdGhlIGxhYmVsIGlzIGNoYW5nZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgc3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25UZXh0Q2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExhYmVsO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkxhYmVsID0gTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9sYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBjbGlja2FibGUgYnV0dG9uLlxyXG4gKi9cclxudmFyIEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnV0dG9uJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gZWxlbWVudCB3aXRoIHRoZSB0ZXh0IGxhYmVsXHJcbiAgICAgICAgdmFyIGJ1dHRvbkVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdidXR0b24nLCB7XHJcbiAgICAgICAgICAgICd0eXBlJzogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJyksXHJcbiAgICAgICAgfSkuaHRtbCh0aGlzLmNvbmZpZy50ZXh0KSk7XHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciB0aGUgY2xpY2sgZXZlbnQgb24gdGhlIGJ1dHRvbiBlbGVtZW50IGFuZCB0cmlnZ2VyIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50IG9uIHRoZSBidXR0b24gY29tcG9uZW50XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uQ2xpY2tFdmVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0ZXh0IG9uIHRoZSBsYWJlbCBvZiB0aGUgYnV0dG9uLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gcHV0IGludG8gdGhlIGxhYmVsIG9mIHRoZSBidXR0b25cclxuICAgICAqL1xyXG4gICAgQnV0dG9uLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5maW5kKCcuJyArIHRoaXMucHJlZml4Q3NzKCdsYWJlbCcpKS5odG1sKHRleHQpO1xyXG4gICAgfTtcclxuICAgIEJ1dHRvbi5wcm90b3R5cGUub25DbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1dHRvbi5wcm90b3R5cGUsIFwib25DbGlja1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8QnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1dHRvbkV2ZW50cy5vbkNsaWNrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQnV0dG9uO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkJ1dHRvbiA9IEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGlzdHNlbGVjdG9yXzEgPSByZXF1aXJlKFwiLi9saXN0c2VsZWN0b3JcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBzZWxlY3QgYm94IHByb3ZpZGluZyB0aGUgcG9zc2liaWxpdHkgdG8gc2VsZWN0IGEgc2luZ2xlIGl0ZW0gb3V0IG9mIGEgbGlzdCBvZiBhdmFpbGFibGUgaXRlbXMuXHJcbiAqXHJcbiAqIERPTSBleGFtcGxlOlxyXG4gKiA8Y29kZT5cclxuICogICAgIDxzZWxlY3QgY2xhc3M9J3VpLXNlbGVjdGJveCc+XHJcbiAqICAgICAgICAgPG9wdGlvbiB2YWx1ZT0na2V5Jz5sYWJlbDwvb3B0aW9uPlxyXG4gKiAgICAgICAgIC4uLlxyXG4gKiAgICAgPC9zZWxlY3Q+XHJcbiAqIDwvY29kZT5cclxuICovXHJcbnZhciBTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWxlY3Rib3gnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NlbGVjdCcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudCA9IHNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcygpO1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2VsZWN0RWxlbWVudC52YWwoKTtcclxuICAgICAgICAgICAgX3RoaXMub25JdGVtU2VsZWN0ZWRFdmVudCh2YWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUudXBkYXRlRG9tSXRlbXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlID09PSB2b2lkIDApIHsgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7IH1cclxuICAgICAgICAvLyBEZWxldGUgYWxsIGNoaWxkcmVuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgLy8gQWRkIHVwZGF0ZWQgY2hpbGRyZW5cclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnb3B0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogaXRlbS5rZXksXHJcbiAgICAgICAgICAgIH0pLmh0bWwoaXRlbS5sYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gU3RyaW5nKHNlbGVjdGVkVmFsdWUpKSB7IC8vIGNvbnZlcnQgc2VsZWN0ZWRWYWx1ZSB0byBzdHJpbmcgdG8gY2F0Y2ggJ251bGwnL251bGwgY2FzZVxyXG4gICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudC5hcHBlbmQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSwgdXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMgPT09IHZvaWQgMCkgeyB1cGRhdGVEb21JdGVtcyA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2VsZWN0Qm94O1xyXG59KGxpc3RzZWxlY3Rvcl8xLkxpc3RTZWxlY3RvcikpO1xyXG5leHBvcnRzLlNlbGVjdEJveCA9IFNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBUT0RPIGNoYW5nZSB0byBpbnRlcm5hbCAobm90IGV4cG9ydGVkKSBjbGFzcywgaG93IHRvIHVzZSBpbiBvdGhlciBmaWxlcz9cclxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgYWZ0ZXIgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIG9wdGlvbmFsbHkgcmVwZWF0ZWRseSB1bnRpbCBzdG9wcGVkLlxyXG4gKi9cclxudmFyIFRpbWVvdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZW91dCBjYWxsYmFjayBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBleGVjdXRlZFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheSB0aW1lXHJcbiAgICAgKiBAcGFyYW0gcmVwZWF0IGlmIHRydWUsIGNhbGwgdGhlIGNhbGxiYWNrIHJlcGVhdGVkbHkgaW4gZGVsYXkgaW50ZXJ2YWxzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFRpbWVvdXQoZGVsYXksIGNhbGxiYWNrLCByZXBlYXQpIHtcclxuICAgICAgICBpZiAocmVwZWF0ID09PSB2b2lkIDApIHsgcmVwZWF0ID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0O1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgdGltZW91dCBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIHRpbWVvdXQgZGVsYXkgaGFzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm5zIHtUaW1lb3V0fSB0aGUgY3VycmVudCB0aW1lb3V0IChzbyB0aGUgc3RhcnQgY2FsbCBjYW4gYmUgY2hhaW5lZCB0byB0aGUgY29uc3RydWN0b3IpXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgdGltZW91dC4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBpZiBjbGVhciBpcyBjYWxsZWQgZHVyaW5nIHRoZSB0aW1lb3V0LlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNsZWFySW50ZXJuYWwoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgcGFzc2VkIHRpbWVvdXQgZGVsYXkgdG8gemVyby4gQ2FuIGJlIHVzZWQgdG8gZGVmZXIgdGhlIGNhbGxpbmcgb2YgdGhlIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsYXN0U2NoZWR1bGVUaW1lID0gMDtcclxuICAgICAgICB2YXIgZGVsYXlBZGp1c3QgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbCgpO1xyXG4gICAgICAgIHZhciBpbnRlcm5hbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aW1lIG9mIG9uZSBpdGVyYXRpb24gZnJvbSBzY2hlZHVsaW5nIHRvIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgKHVzdWFsbHkgYSBiaXQgbG9uZ2VyIHRoYW4gdGhlIGRlbGF5XHJcbiAgICAgICAgICAgICAgICAvLyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gbm93IC0gbGFzdFNjaGVkdWxlVGltZTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGVsYXkgYWRqdXN0bWVudCBmb3IgdGhlIG5leHQgc2NoZWR1bGUgdG8ga2VlcCBhIHN0ZWFkeSBkZWxheSBpbnRlcnZhbCBvdmVyIHRpbWVcclxuICAgICAgICAgICAgICAgIGRlbGF5QWRqdXN0ID0gX3RoaXMuZGVsYXkgLSBkZWx0YSArIGRlbGF5QWRqdXN0O1xyXG4gICAgICAgICAgICAgICAgbGFzdFNjaGVkdWxlVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIC8vIFNjaGVkdWxlIG5leHQgZXhlY3V0aW9uIGJ5IHRoZSBhZGp1c3RlZCBkZWxheVxyXG4gICAgICAgICAgICAgICAgX3RoaXMudGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoaW50ZXJuYWxDYWxsYmFjaywgX3RoaXMuZGVsYXkgKyBkZWxheUFkanVzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxhc3RTY2hlZHVsZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoaW50ZXJuYWxDYWxsYmFjaywgdGhpcy5kZWxheSk7XHJcbiAgICB9O1xyXG4gICAgVGltZW91dC5wcm90b3R5cGUuY2xlYXJJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SGFuZGxlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGltZW91dDtcclxufSgpKTtcclxuZXhwb3J0cy5UaW1lb3V0ID0gVGltZW91dDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci90aW1lb3V0LnRzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdHJpbmdVdGlscztcclxuKGZ1bmN0aW9uIChTdHJpbmdVdGlscykge1xyXG4gICAgU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA9ICdoaDptbTpzcyc7XHJcbiAgICBTdHJpbmdVdGlscy5GT1JNQVRfTU1TUyA9ICdtbTpzcyc7XHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdHMgYSBudW1iZXIgb2Ygc2Vjb25kcyBpbnRvIGEgdGltZSBzdHJpbmcgd2l0aCB0aGUgcGF0dGVybiBoaDptbTpzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdG90YWxTZWNvbmRzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Vjb25kcyB0byBmb3JtYXQgdG8gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0IHRoZSB0aW1lIGZvcm1hdCB0byBvdXRwdXQgKGRlZmF1bHQ6IGhoOm1tOnNzKVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGZvcm1hdHRlZCB0aW1lIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcywgZm9ybWF0KSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7IGZvcm1hdCA9IFN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1M7IH1cclxuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHRvdGFsU2Vjb25kcyA8IDA7XHJcbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWUgaXMgbmVnYXRpdmUsIHdlIG1ha2UgaXQgcG9zaXRpdmUgZm9yIHRoZSBjYWxjdWxhdGlvbiBiZWxvd1xyXG4gICAgICAgICAgICAvLyAoZWxzZSB3ZSdkIGdldCBhbGwgbmVnYXRpdmUgbnVtYmVycykgYW5kIHJlYXR0YWNoIHRoZSBuZWdhdGl2ZSBzaWduIGxhdGVyLlxyXG4gICAgICAgICAgICB0b3RhbFNlY29uZHMgPSAtdG90YWxTZWNvbmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTcGxpdCBpbnRvIHNlcGFyYXRlIHRpbWUgcGFydHNcclxuICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDM2MDApO1xyXG4gICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCkgLSBob3VycyAqIDYwO1xyXG4gICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMpICUgNjA7XHJcbiAgICAgICAgcmV0dXJuIChpc05lZ2F0aXZlID8gJy0nIDogJycpICsgZm9ybWF0XHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdoaCcsIGxlZnRQYWRXaXRoWmVyb3MoaG91cnMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnbW0nLCBsZWZ0UGFkV2l0aFplcm9zKG1pbnV0ZXMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnc3MnLCBsZWZ0UGFkV2l0aFplcm9zKHNlY29uZHMsIDIpKTtcclxuICAgIH1cclxuICAgIFN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUgPSBzZWNvbmRzVG9UaW1lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyBhbmQgbGVmdC1wYWRzIGl0IHdpdGggemVyb3MgdG8gdGhlIHNwZWNpZmllZCBsZW5ndGguXHJcbiAgICAgKiBFeGFtcGxlOiBsZWZ0UGFkV2l0aFplcm9zKDEyMywgNSkgPT4gJzAwMTIzJ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBudW0gdGhlIG51bWJlciB0byBjb252ZXJ0IHRvIHN0cmluZyBhbmQgcGFkIHdpdGggemVyb3NcclxuICAgICAqIEBwYXJhbSBsZW5ndGggdGhlIGRlc2lyZWQgbGVuZ3RoIG9mIHRoZSBwYWRkZWQgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGFkZGVkIG51bWJlciBhcyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbGVmdFBhZFdpdGhaZXJvcyhudW0sIGxlbmd0aCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gbnVtICsgJyc7XHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnMDAwMDAwMDAwMCcuc3Vic3RyKDAsIGxlbmd0aCAtIHRleHQubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcGFkZGluZyArIHRleHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZpbGxzIG91dCBwbGFjZWhvbGRlcnMgaW4gYW4gYWQgbWVzc2FnZS5cclxuICAgICAqXHJcbiAgICAgKiBIYXMgdGhlIHBsYWNlaG9sZGVycyAne3JlbWFpbmluZ1RpbWVbZm9ybWF0U3RyaW5nXX0nLCAne3BsYXllZFRpbWVbZm9ybWF0U3RyaW5nXX0nIGFuZFxyXG4gICAgICogJ3thZER1cmF0aW9uW2Zvcm1hdFN0cmluZ119Jywgd2hpY2ggYXJlIHJlcGxhY2VkIGJ5IHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgYWQgY2FuIGJlIHNraXBwZWQsIHRoZSBjdXJyZW50XHJcbiAgICAgKiB0aW1lIG9yIHRoZSBhZCBkdXJhdGlvbi4gVGhlIGZvcm1hdCBzdHJpbmcgaXMgb3B0aW9uYWwuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBwbGFjZWhvbGRlciBpcyByZXBsYWNlZCBieSB0aGUgdGltZVxyXG4gICAgICogaW4gc2Vjb25kcy4gSWYgc3BlY2lmaWVkLCBpdCBtdXN0IGJlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxyXG4gICAgICogLSAlZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlci5cclxuICAgICAqIC0gJTBOZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlciB3aXRoIGxlYWRpbmcgemVyb2VzLCBpZiB0aGUgbGVuZ3RoIG9mIHRoZSB0aW1lIHN0cmluZyBpcyBzbWFsbGVyIHRoYW4gTi5cclxuICAgICAqIC0gJWYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQuXHJcbiAgICAgKiAtICUwTmYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQgd2l0aCBsZWFkaW5nIHplcm9lcy5cclxuICAgICAqIC0gJS5NZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdCB3aXRoIE0gZGVjaW1hbCBwbGFjZXMuIENhbiBiZSBjb21iaW5lZCB3aXRoICUwTmYsIGUuZy4gJTA0LjJmICh0aGUgdGltZVxyXG4gICAgICogMTAuMTIzXHJcbiAgICAgKiB3b3VsZCBiZSBwcmludGVkIGFzIDAwMTAuMTIpLlxyXG4gICAgICogLSAlaGg6bW06c3NcclxuICAgICAqIC0gJW1tOnNzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFkTWVzc2FnZSBhbiBhZCBtZXNzYWdlIHdpdGggb3B0aW9uYWwgcGxhY2Vob2xkZXJzIHRvIGZpbGxcclxuICAgICAqIEBwYXJhbSBza2lwT2Zmc2V0IGlmIHNwZWNpZmllZCwge3JlbWFpbmluZ1RpbWV9IHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIHJlbWFpbmluZyB0aW1lIHVudGlsIHRoZSBhZCBjYW4gYmUgc2tpcHBlZFxyXG4gICAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHRvIGdldCB0aGUgdGltZSBkYXRhIGZyb21cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBhZCBtZXNzYWdlIHdpdGggZmlsbGVkIHBsYWNlaG9sZGVyc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKGFkTWVzc2FnZSwgc2tpcE9mZnNldCwgcGxheWVyKSB7XHJcbiAgICAgICAgdmFyIGFkTWVzc2FnZVBsYWNlaG9sZGVyUmVnZXggPSBuZXcgUmVnRXhwKCdcXFxceyhyZW1haW5pbmdUaW1lfHBsYXllZFRpbWV8YWREdXJhdGlvbikofXwlKCgwWzEtOV1cXFxcZCooXFxcXC5cXFxcZCsoZHxmKXxkfGYpfFxcXFwuXFxcXGQrZnxkfGYpfGhoOm1tOnNzfG1tOnNzKX0pJywgJ2cnKTtcclxuICAgICAgICByZXR1cm4gYWRNZXNzYWdlLnJlcGxhY2UoYWRNZXNzYWdlUGxhY2Vob2xkZXJSZWdleCwgZnVuY3Rpb24gKGZvcm1hdFN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgdGltZSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncmVtYWluaW5nVGltZScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChza2lwT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IE1hdGguY2VpbChza2lwT2Zmc2V0IC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IHBsYXllci5nZXREdXJhdGlvbigpIC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ3BsYXllZFRpbWUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ2FkRHVyYXRpb24nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aW1lLCBmb3JtYXRTdHJpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nVXRpbHMucmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycyA9IHJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnM7XHJcbiAgICBmdW5jdGlvbiBmb3JtYXROdW1iZXIodGltZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleCA9IC8lKCgwWzEtOV1cXGQqKFxcLlxcZCsoZHxmKXxkfGYpfFxcLlxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpLztcclxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lc1JlZ2V4ID0gLyglMFsxLTldXFxkKikoPz0oXFwuXFxkK2Z8ZnxkKSkvO1xyXG4gICAgICAgIHZhciBkZWNpbWFsUGxhY2VzUmVnZXggPSAvXFwuXFxkKig/PWYpLztcclxuICAgICAgICBpZiAoIWZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleC50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGZvcm1hdCBpcyBpbnZhbGlkLCB3ZSBzZXQgYSBkZWZhdWx0IGZhbGxiYWNrIGZvcm1hdFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAnJWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zXHJcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvZXMgPSAwO1xyXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzTWF0Y2hlcyA9IGZvcm1hdC5tYXRjaChsZWFkaW5nWmVyb2VzUmVnZXgpO1xyXG4gICAgICAgIGlmIChsZWFkaW5nWmVyb2VzTWF0Y2hlcykge1xyXG4gICAgICAgICAgICBsZWFkaW5nWmVyb2VzID0gcGFyc2VJbnQobGVhZGluZ1plcm9lc01hdGNoZXNbMF0uc3Vic3RyaW5nKDIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICB2YXIgbnVtRGVjaW1hbFBsYWNlcyA9IG51bGw7XHJcbiAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGRlY2ltYWxQbGFjZXNSZWdleCk7XHJcbiAgICAgICAgaWYgKGRlY2ltYWxQbGFjZXNNYXRjaGVzICYmICFpc05hTihwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpKSkge1xyXG4gICAgICAgICAgICBudW1EZWNpbWFsUGxhY2VzID0gcGFyc2VJbnQoZGVjaW1hbFBsYWNlc01hdGNoZXNbMF0uc3Vic3RyaW5nKDEpKTtcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtRGVjaW1hbFBsYWNlcyA9IDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZsb2F0IGZvcm1hdFxyXG4gICAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignZicpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVTdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGZpeGVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgICAgICAgICAgdGltZVN0cmluZyA9IHRpbWUudG9GaXhlZChudW1EZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVTdHJpbmcgPSAnJyArIHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgbGVhZGluZyB6ZXJvc1xyXG4gICAgICAgICAgICBpZiAodGltZVN0cmluZy5pbmRleE9mKCcuJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3ModGltZVN0cmluZywgdGltZVN0cmluZy5sZW5ndGggKyAobGVhZGluZ1plcm9lcyAtIHRpbWVTdHJpbmcuaW5kZXhPZignLicpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyh0aW1lU3RyaW5nLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaW1lIGZvcm1hdFxyXG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdC5pbmRleE9mKCc6JykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdG90YWxTZWNvbmRzID0gTWF0aC5jZWlsKHRpbWUpO1xyXG4gICAgICAgICAgICAvLyBoaDptbTpzcyBmb3JtYXRcclxuICAgICAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdoaCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbW06c3MgZm9ybWF0XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyhtaW51dGVzLCAyKSArICc6JyArIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW50ZWdlciBmb3JtYXRcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MoTWF0aC5jZWlsKHRpbWUpLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKFN0cmluZ1V0aWxzID0gZXhwb3J0cy5TdHJpbmdVdGlscyB8fCAoZXhwb3J0cy5TdHJpbmdVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RyaW5ndXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBcnJheVV0aWxzO1xyXG4oZnVuY3Rpb24gKEFycmF5VXRpbHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkgdGhlIGFycmF5IHRoYXQgbWF5IGNvbnRhaW4gdGhlIGl0ZW0gdG8gcmVtb3ZlXHJcbiAgICAgKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXlcclxuICAgICAqIEByZXR1cm5zIHthbnl9IHRoZSByZW1vdmVkIGl0ZW0gb3IgbnVsbCBpZiBpdCB3YXNuJ3QgcGFydCBvZiB0aGUgYXJyYXlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuc3BsaWNlKGluZGV4LCAxKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEFycmF5VXRpbHMucmVtb3ZlID0gcmVtb3ZlO1xyXG59KShBcnJheVV0aWxzID0gZXhwb3J0cy5BcnJheVV0aWxzIHx8IChleHBvcnRzLkFycmF5VXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2FycmF5dXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgUGxheWVyVXRpbHM7XHJcbihmdW5jdGlvbiAoUGxheWVyVXRpbHMpIHtcclxuICAgIHZhciBQbGF5ZXJTdGF0ZTtcclxuICAgIChmdW5jdGlvbiAoUGxheWVyU3RhdGUpIHtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIklETEVcIl0gPSAwXSA9IFwiSURMRVwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUFJFUEFSRURcIl0gPSAxXSA9IFwiUFJFUEFSRURcIjtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIlBMQVlJTkdcIl0gPSAyXSA9IFwiUExBWUlOR1wiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUEFVU0VEXCJdID0gM10gPSBcIlBBVVNFRFwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcclxuICAgIH0pKFBsYXllclN0YXRlID0gUGxheWVyVXRpbHMuUGxheWVyU3RhdGUgfHwgKFBsYXllclV0aWxzLlBsYXllclN0YXRlID0ge30pKTtcclxuICAgIGZ1bmN0aW9uIGlzVGltZVNoaWZ0QXZhaWxhYmxlKHBsYXllcikge1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICE9PSAwO1xyXG4gICAgfVxyXG4gICAgUGxheWVyVXRpbHMuaXNUaW1lU2hpZnRBdmFpbGFibGUgPSBpc1RpbWVTaGlmdEF2YWlsYWJsZTtcclxuICAgIGZ1bmN0aW9uIGdldFN0YXRlKHBsYXllcikge1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaGFzRW5kZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuRklOSVNIRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUExBWUlORztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUGF1c2VkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLlBBVVNFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUFJFUEFSRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuSURMRTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJVdGlscy5nZXRTdGF0ZSA9IGdldFN0YXRlO1xyXG4gICAgdmFyIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yKHBsYXllcikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXRlY3QoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVjdCB0aW1lc2hpZnQgYXZhaWxhYmlsaXR5IGluIE9OX1JFQURZLCB3aGljaCB3b3JrcyBmb3IgREFTSCBzdHJlYW1zXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB0aW1lU2hpZnREZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIFdpdGggSExTL05hdGl2ZVBsYXllciBzdHJlYW1zLCBnZXRNYXhUaW1lU2hpZnQgY2FuIGJlIDAgYmVmb3JlIHRoZSBidWZmZXIgZmlsbHMsIHNvIHdlIG5lZWQgdG8gYWRkaXRpb25hbGx5XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIHRpbWVzaGlmdCBhdmFpbGFiaWxpdHkgaW4gT05fVElNRV9DSEFOR0VEXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdGltZVNoaWZ0RGV0ZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lU2hpZnRBdmFpbGFibGVOb3cgPSBQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFiaWxpdHkgY2hhbmdlcywgd2UgZmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lU2hpZnRBdmFpbGFibGVOb3cgIT09IHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgdGltZVNoaWZ0QXZhaWxhYmxlOiB0aW1lU2hpZnRBdmFpbGFibGVOb3cgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB0aW1lU2hpZnRBdmFpbGFibGVOb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUsIFwib25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yO1xyXG4gICAgfSgpKTtcclxuICAgIFBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3I7XHJcbiAgICAvKipcclxuICAgICAqIERldGVjdHMgY2hhbmdlcyBvZiB0aGUgc3RyZWFtIHR5cGUsIGkuZS4gY2hhbmdlcyBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwbGF5ZXIjaXNMaXZlIG1ldGhvZC5cclxuICAgICAqIE5vcm1hbGx5LCBhIHN0cmVhbSBjYW5ub3QgY2hhbmdlIGl0cyB0eXBlIGR1cmluZyBwbGF5YmFjaywgaXQncyBlaXRoZXIgVk9EIG9yIGxpdmUuIER1ZSB0byBidWdzIG9uIHNvbWVcclxuICAgICAqIHBsYXRmb3JtcyBvciBicm93c2VycywgaXQgY2FuIHN0aWxsIGNoYW5nZS4gSXQgaXMgdGhlcmVmb3JlIHVucmVsaWFibGUgdG8ganVzdCBjaGVjayAjaXNMaXZlIGFuZCB0aGlzIGRldGVjdG9yXHJcbiAgICAgKiBzaG91bGQgYmUgdXNlZCBhcyBhIHdvcmthcm91bmQgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBLbm93biBjYXNlczpcclxuICAgICAqXHJcbiAgICAgKiAtIEhMUyBWT0Qgb24gQW5kcm9pZCA0LjNcclxuICAgICAqIFZpZGVvIGR1cmF0aW9uIGlzIGluaXRpYWxseSAnSW5maW5pdHknIGFuZCBvbmx5IGdldHMgYXZhaWxhYmxlIGFmdGVyIHBsYXliYWNrIHN0YXJ0cywgc28gc3RyZWFtcyBhcmUgd3JvbmdseVxyXG4gICAgICogcmVwb3J0ZWQgYXMgJ2xpdmUnIGJlZm9yZSBwbGF5YmFjayAodGhlIGxpdmUtY2hlY2sgaW4gdGhlIHBsYXllciBjaGVja3MgZm9yIGluZmluaXRlIGR1cmF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgdmFyIExpdmVTdHJlYW1EZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBMaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIGxpdmVEZXRlY3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRldGVjdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHdoZW4gcGxheWVyIGlzIHJlYWR5XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBSZS1ldmFsdWF0ZSB3aGVuIHBsYXliYWNrIHN0YXJ0c1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBITFMgbGl2ZSBkZXRlY3Rpb24gd29ya2Fyb3VuZCBmb3IgQW5kcm9pZDpcclxuICAgICAgICAgICAgLy8gQWxzbyByZS1ldmFsdWF0ZSBkdXJpbmcgcGxheWJhY2ssIGJlY2F1c2UgdGhhdCBpcyB3aGVuIHRoZSBsaXZlIGZsYWcgbWlnaHQgY2hhbmdlLlxyXG4gICAgICAgICAgICAvLyAoRG9pbmcgaXQgb25seSBpbiBBbmRyb2lkIENocm9tZSBzYXZlcyB1bm5lY2Vzc2FyeSBvdmVyaGVhZCBvbiBvdGhlciBwbGF0dGZvcm1zKVxyXG4gICAgICAgICAgICBpZiAoYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLmlzQW5kcm9pZCAmJiBicm93c2VydXRpbHNfMS5Ccm93c2VyVXRpbHMuaXNDaHJvbWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgbGl2ZURldGVjdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxpdmVOb3cgPSB0aGlzLnBsYXllci5pc0xpdmUoKTtcclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBjdXJyZW50IHRvIHByZXZpb3VzIGxpdmUgc3RhdGUgZmxhZyBhbmQgZmlyZSBldmVudCB3aGVuIGl0IGNoYW5nZXMuIFNpbmNlIHdlIGluaXRpYWxpemUgdGhlIGZsYWdcclxuICAgICAgICAgICAgLy8gd2l0aCB1bmRlZmluZWQsIHRoZXJlIGlzIGFsd2F5cyBhdCBsZWFzdCBhbiBpbml0aWFsIGV2ZW50IGZpcmVkIHRoYXQgdGVsbHMgbGlzdGVuZXJzIHRoZSBsaXZlIHN0YXRlLlxyXG4gICAgICAgICAgICBpZiAobGl2ZU5vdyAhPT0gdGhpcy5saXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgbGl2ZTogbGl2ZU5vdyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGl2ZSA9IGxpdmVOb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLCBcIm9uTGl2ZUNoYW5nZWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIExpdmVTdHJlYW1EZXRlY3RvcjtcclxuICAgIH0oKSk7XHJcbiAgICBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IgPSBMaXZlU3RyZWFtRGV0ZWN0b3I7XHJcbn0pKFBsYXllclV0aWxzID0gZXhwb3J0cy5QbGF5ZXJVdGlscyB8fCAoZXhwb3J0cy5QbGF5ZXJVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvcGxheWVydXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gYW5ndWxhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFuZ3VsYXJcIlxuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG4vKipcclxuICogVGhlIGJhc2UgY29udGFpbmVyIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBVSS4gVGhlIFVJQ29udGFpbmVyIGlzIHBhc3NlZCB0byB0aGUge0BsaW5rIFVJTWFuYWdlcn0gdG8gYnVpbGQgYW5kXHJcbiAqIHNldHVwIHRoZSBVSS5cclxuICovXHJcbnZhciBVSUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhVSUNvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFVJQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS11aWNvbnRhaW5lcicsXHJcbiAgICAgICAgICAgIGhpZGVEZWxheTogNTAwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZVVJU2hvd0hpZGUocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlUGxheWVyU3RhdGVzKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlVUlTaG93SGlkZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIGlmIChjb25maWcuaGlkZURlbGF5ID09PSAtMSkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db25maWd1cmVkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuZGlzcGF0Y2goX3RoaXMpOyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaXNVaVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc0ZpcnN0VG91Y2ggPSB0cnVlO1xyXG4gICAgICAgIHZhciBzaG93VWkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNVaVNob3duKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMZXQgc3Vic2NyaWJlcnMga25vdyB0aGF0IHRoZXkgc2hvdWxkIHJldmVhbCB0aGVtc2VsdmVzXHJcbiAgICAgICAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgaXNVaVNob3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIHRpbWVvdXQgd2hpbGUgc2Vla2luZyAoaXQgd2lsbCBiZSB0cmlnZ2VyZWQgb25jZSB0aGUgc2VlayBpcyBmaW5pc2hlZCkgb3IgY2FzdGluZ1xyXG4gICAgICAgICAgICBpZiAoIWlzU2Vla2luZyAmJiAhcGxheWVyLmlzQ2FzdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBoaWRlVWkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIFVJIG9ubHkgaWYgaXQgaXMgc2hvd24sIGFuZCBpZiBub3QgY2FzdGluZ1xyXG4gICAgICAgICAgICBpZiAoaXNVaVNob3duICYmICFwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElzc3VlIGEgcHJldmlldyBldmVudCB0byBjaGVjayBpZiB3ZSBhcmUgZ29vZCB0byBoaWRlIHRoZSBjb250cm9sc1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpZXdIaWRlRXZlbnRBcmdzID0ge307XHJcbiAgICAgICAgICAgICAgICB1aW1hbmFnZXIub25QcmV2aWV3Q29udHJvbHNIaWRlLmRpc3BhdGNoKF90aGlzLCBwcmV2aWV3SGlkZUV2ZW50QXJncyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZXZpZXdIaWRlRXZlbnRBcmdzLmNhbmNlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmV2aWV3IHdhc24ndCBjYW5jZWxlZCwgbGV0IHN1YnNjcmliZXJzIGtub3cgdGhhdCB0aGV5IHNob3VsZCBub3cgaGlkZSB0aGVtc2VsdmVzXHJcbiAgICAgICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoaWRlIHByZXZpZXcgd2FzIGNhbmNlbGVkLCBjb250aW51ZSB0byBzaG93IFVJXHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFRpbWVvdXQgdG8gZGVmZXIgVUkgaGlkaW5nIGJ5IHRoZSBjb25maWd1cmVkIGRlbGF5IHRpbWVcclxuICAgICAgICB0aGlzLnVpSGlkZVRpbWVvdXQgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQoY29uZmlnLmhpZGVEZWxheSwgaGlkZVVpKTtcclxuICAgICAgICAvLyBPbiB0b3VjaCBkaXNwbGF5cywgdGhlIGZpcnN0IHRvdWNoIHJldmVhbHMgdGhlIFVJXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNVaVNob3duKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGlmIHRoZSBVSSBpcyBoaWRkZW4sIHdlIHByZXZlbnQgb3RoZXIgYWN0aW9ucyAoZXhjZXB0IGZvciB0aGUgZmlyc3QgdG91Y2gpIGFuZCByZXZlYWwgdGhlIFVJIGluc3RlYWQuXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3QgdG91Y2ggaXMgbm90IHByZXZlbnRlZCB0byBsZXQgb3RoZXIgbGlzdGVuZXJzIHJlY2VpdmUgdGhlIGV2ZW50IGFuZCB0cmlnZ2VyIGFuIGluaXRpYWwgYWN0aW9uLCBlLmcuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgaHVnZSBwbGF5YmFjayBidXR0b24gY2FuIGRpcmVjdGx5IHN0YXJ0IHBsYXliYWNrIGluc3RlYWQgb2YgcmVxdWlyaW5nIGEgZG91YmxlIHRhcCB3aGljaCAxLiByZXZlYWxzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgVUkgYW5kIDIuIHN0YXJ0cyBwbGF5YmFjay5cclxuICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0VG91Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0VG91Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2hlbiB0aGUgbW91c2UgZW50ZXJzLCB3ZSBzaG93IHRoZSBVSVxyXG4gICAgICAgIGNvbnRhaW5lci5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2hlbiB0aGUgbW91c2UgbW92ZXMgd2l0aGluLCB3ZSBzaG93IHRoZSBVSVxyXG4gICAgICAgIGNvbnRhaW5lci5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBtb3VzZSBsZWF2ZXMsIHdlIGNhbiBwcmVwYXJlIHRvIGhpZGUgdGhlIFVJLCBleGNlcHQgYSBzZWVrIGlzIGdvaW5nIG9uXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgc2VlayBpcyBnb2luZyBvbiwgdGhlIHNlZWsgc2NydWIgcG9pbnRlciBtYXkgZXhpdCB0aGUgVUkgYXJlYSB3aGlsZSBzdGlsbCBzZWVraW5nLCBhbmQgd2UgZG8gbm90IGhpZGVcclxuICAgICAgICAgICAgLy8gdGhlIFVJIGluIHN1Y2ggY2FzZXNcclxuICAgICAgICAgICAgaWYgKCFpc1NlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWsuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5jbGVhcigpOyAvLyBEb24ndCBoaWRlIFVJIHdoaWxlIGEgc2VlayBpcyBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5zdGFydCgpOyAvLyBSZS1lbmFibGUgVUkgaGlkZSB0aW1lb3V0IGFmdGVyIGEgc2Vla1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93VWkoKTsgLy8gU2hvdyBVSSB3aGVuIGEgQ2FzdCBzZXNzaW9uIGhhcyBzdGFydGVkIChVSSB3aWxsIHRoZW4gc3RheSBwZXJtYW5lbnRseSBvbiBkdXJpbmcgdGhlIHNlc3Npb24pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLmNvbmZpZ3VyZVBsYXllclN0YXRlcyA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIC8vIENvbnZlcnQgcGxheWVyIHN0YXRlcyBpbnRvIENTUyBjbGFzcyBuYW1lc1xyXG4gICAgICAgIHZhciBzdGF0ZUNsYXNzTmFtZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBzdGF0ZSBpbiBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc05hTihOdW1iZXIoc3RhdGUpKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudW1OYW1lID0gcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVtwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlW3N0YXRlXV07XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVtzdGF0ZV1dID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5TVEFURV9QUkVGSVggKyBlbnVtTmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVtb3ZlU3RhdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuSURMRV0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUFJFUEFSRURdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBMQVlJTkddKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBBVVNFRF0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuRklOSVNIRURdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUFJFUEFSRURdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUExBWUlOR10pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBBVVNFRF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuRklOSVNIRURdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5JRExFXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBpbiBjdXJyZW50IHBsYXllciBzdGF0ZVxyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5nZXRTdGF0ZShwbGF5ZXIpXSk7XHJcbiAgICAgICAgLy8gRnVsbHNjcmVlbiBtYXJrZXIgY2xhc3NcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGZ1bGxzY3JlZW4gc3RhdGVcclxuICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEJ1ZmZlcmluZyBtYXJrZXIgY2xhc3NcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGJ1ZmZlcmluZyBzdGF0ZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNTdGFsbGVkKCkpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkJVRkZFUklORykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdGVDb250cm9sIG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVE9QUEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IFJlbW90ZUNvbnRyb2wgc3RhdGVcclxuICAgICAgICBpZiAocGxheWVyLmlzQ2FzdGluZygpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb250cm9scyB2aXNpYmlsaXR5IG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTikpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX1NIT1dOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfU0hPV04pKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19ISURERU4pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMYXlvdXQgc2l6ZSBjbGFzc2VzXHJcbiAgICAgICAgdmFyIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC00MDAnKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNjAwJykpO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTgwMCcpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC0xMjAwJykpO1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPD0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTQwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh3aWR0aCA8PSA2MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNjAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoIDw9IDgwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC04MDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGggPD0gMTIwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC0xMjAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHN0cmluZ3MgKHdpdGggXCJweFwiIHN1ZmZpeCkgdG8gaW50c1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKE51bWJlcihlLndpZHRoLnN1YnN0cmluZygwLCBlLndpZHRoLmxlbmd0aCAtIDIpKSk7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKE51bWJlcihlLmhlaWdodC5zdWJzdHJpbmcoMCwgZS5oZWlnaHQubGVuZ3RoIC0gMikpKTtcclxuICAgICAgICAgICAgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBsYXlvdXQgc3RhdGVcclxuICAgICAgICB1cGRhdGVMYXlvdXRTaXplQ2xhc3NlcyhuZXcgZG9tXzEuRE9NKHBsYXllci5nZXRGaWd1cmUoKSkud2lkdGgoKSwgbmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpLmhlaWdodCgpKTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLnVpSGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBfc3VwZXIucHJvdG90eXBlLnRvRG9tRWxlbWVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIERldGVjdCBmbGV4Ym94IHN1cHBvcnQgKG5vdCBzdXBwb3J0ZWQgaW4gSUU5KVxyXG4gICAgICAgIGlmIChkb2N1bWVudCAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlLmZsZXggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcygnZmxleGJveCcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcygnbm8tZmxleGJveCcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5TVEFURV9QUkVGSVggPSAncGxheWVyLXN0YXRlLSc7XHJcbiAgICBVSUNvbnRhaW5lci5GVUxMU0NSRUVOID0gJ2Z1bGxzY3JlZW4nO1xyXG4gICAgVUlDb250YWluZXIuQlVGRkVSSU5HID0gJ2J1ZmZlcmluZyc7XHJcbiAgICBVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCA9ICdyZW1vdGUtY29udHJvbCc7XHJcbiAgICBVSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTiA9ICdjb250cm9scy1zaG93bic7XHJcbiAgICBVSUNvbnRhaW5lci5DT05UUk9MU19ISURERU4gPSAnY29udHJvbHMtaGlkZGVuJztcclxuICAgIHJldHVybiBVSUNvbnRhaW5lcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5VSUNvbnRhaW5lciA9IFVJQ29udGFpbmVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdWljb250YWluZXIudHNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBCcm93c2VyVXRpbHM7XHJcbihmdW5jdGlvbiAoQnJvd3NlclV0aWxzKSB7XHJcbiAgICAvLyBpc01vYmlsZSBvbmx5IG5lZWRzIHRvIGJlIGV2YWx1YXRlZCBvbmNlIChpdCBjYW5ub3QgY2hhbmdlIGR1cmluZyBhIGJyb3dzZXIgc2Vzc2lvbilcclxuICAgIC8vIE1vYmlsZSBkZXRlY3Rpb24gYWNjb3JkaW5nIHRvIE1vemlsbGEgcmVjb21tZW5kYXRpb246IFwiSW4gc3VtbWFyeSwgd2UgcmVjb21tZW5kIGxvb2tpbmcgZm9yIHRoZSBzdHJpbmcg4oCcTW9iaeKAnVxyXG4gICAgLy8gYW55d2hlcmUgaW4gdGhlIFVzZXIgQWdlbnQgdG8gZGV0ZWN0IGEgbW9iaWxlIGRldmljZS5cIlxyXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9Ccm93c2VyX2RldGVjdGlvbl91c2luZ190aGVfdXNlcl9hZ2VudFxyXG4gICAgQnJvd3NlclV0aWxzLmlzTW9iaWxlID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL01vYmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBCcm93c2VyVXRpbHMuaXNDaHJvbWUgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgQnJvd3NlclV0aWxzLmlzQW5kcm9pZCA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9BbmRyb2lkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG59KShCcm93c2VyVXRpbHMgPSBleHBvcnRzLkJyb3dzZXJVdGlscyB8fCAoZXhwb3J0cy5Ccm93c2VyVXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2Jyb3dzZXJ1dGlscy50c1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBiZXR3ZWVuIHBsYXliYWNrIGFuZCBwYXVzZS5cclxuICovXHJcbnZhciBQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1RvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQbGF5L1BhdXNlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBsYXliYWNrVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIsIGhhbmRsZUNsaWNrRXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChoYW5kbGVDbGlja0V2ZW50ID09PSB2b2lkIDApIHsgaGFuZGxlQ2xpY2tFdmVudCA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gSGFuZGxlciB0byB1cGRhdGUgYnV0dG9uIHN0YXRlIGJhc2VkIG9uIHBsYXllciBzdGF0ZVxyXG4gICAgICAgIHZhciBwbGF5YmFja1N0YXRlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgVUkgaXMgY3VycmVudGx5IHNlZWtpbmcsIHBsYXliYWNrIGlzIHRlbXBvcmFyaWx5IHN0b3BwZWQgYnV0IHRoZSBidXR0b25zIHNob3VsZFxyXG4gICAgICAgICAgICAvLyBub3QgcmVmbGVjdCB0aGF0IGFuZCBzdGF5IGFzLWlzIChlLmcgaW5kaWNhdGUgcGxheWJhY2sgd2hpbGUgc2Vla2luZykuXHJcbiAgICAgICAgICAgIGlmIChpc1NlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIENhbGwgaGFuZGxlciB1cG9uIHRoZXNlIGV2ZW50c1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1BMQVlJTkcpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuMy4gTm90IHJlYWxseSBuZWNlc3NhcnkgYnV0IGp1c3QgaW4gY2FzZSB3ZSBldmVyIG1pc3MgdGhlIE9OX1BMQVkgZXZlbnQuXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWZ0ZXIgdW5sb2FkaW5nICsgbG9hZGluZyBhIG5ldyBzb3VyY2UsIHRoZSBwbGF5ZXIgbWlnaHQgYmUgaW4gYSBkaWZmZXJlbnQgcGxheWluZyBzdGF0ZSAoZnJvbSBwbGF5aW5nIGludG8gc3RvcHBlZClcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfTE9BREVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgLy8gd2hlbiBwbGF5YmFjayBmaW5pc2hlcywgcGxheWVyIHR1cm5zIHRvIHBhdXNlZCBtb2RlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BBVVNFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBXaGVuIGEgcGxheWJhY2sgYXR0ZW1wdCBpcyByZWplY3RlZCB3aXRoIHdhcm5pbmcgNTAwOCwgd2Ugc3dpdGNoIHRoZSBidXR0b24gc3RhdGUgYmFjayB0byBvZmZcclxuICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIGZvciBibG9ja2VkIGF1dG9wbGF5LCBiZWNhdXNlIHRoZXJlIGlzIG5vIE9OX1BBVVNFRCBldmVudCBpbiBzdWNoIGNhc2VcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9XQVJOSU5HLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IDUwMDgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGV0ZWN0IGFic2VuY2Ugb2YgdGltZXNoaWZ0aW5nIG9uIGxpdmUgc3RyZWFtcyBhbmQgYWRkIHRhZ2dpbmcgY2xhc3MgdG8gY29udmVydCBidXR0b24gaWNvbnMgdG8gcGxheS9zdG9wXHJcbiAgICAgICAgdmFyIHRpbWVTaGlmdERldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmdzLnRpbWVTaGlmdEF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhQbGF5YmFja1RvZ2dsZUJ1dHRvbi5DTEFTU19TVE9QVE9HR0xFKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLmRldGVjdCgpOyAvLyBJbml0aWFsIGRldGVjdGlvblxyXG4gICAgICAgIGlmIChoYW5kbGVDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIENvbnRyb2wgcGxheWVyIGJ5IGJ1dHRvbiBldmVudHNcclxuICAgICAgICAgICAgLy8gV2hlbiBhIGJ1dHRvbiBldmVudCB0cmlnZ2VycyBhIHBsYXllciBBUEkgY2FsbCwgZXZlbnRzIGFyZSBmaXJlZCB3aGljaCBpbiB0dXJuIGNhbGwgdGhlIGV2ZW50IGhhbmRsZXJcclxuICAgICAgICAgICAgLy8gYWJvdmUgdGhhdCB1cGRhdGVkIHRoZSBidXR0b24gc3RhdGUuXHJcbiAgICAgICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgndWknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJhY2sgVUkgc2Vla2luZyBzdGF0dXNcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIHBsYXliYWNrU3RhdGVIYW5kbGVyKG51bGwpO1xyXG4gICAgfTtcclxuICAgIFBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUgPSAnc3RvcHRvZ2dsZSc7XHJcbiAgICByZXR1cm4gUGxheWJhY2tUb2dnbGVCdXR0b247XHJcbn0odG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuUGxheWJhY2tUb2dnbGVCdXR0b24gPSBQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgYXVkaW8gbXV0aW5nLlxyXG4gKi9cclxudmFyIFZvbHVtZVRvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWb2x1bWVUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWb2x1bWVUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZXRvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWb2x1bWUvTXV0ZScsXHJcbiAgICAgICAgICAgIG9uQ2xhc3M6ICdtdXRlZCcsXHJcbiAgICAgICAgICAgIG9mZkNsYXNzOiAndW5tdXRlZCcsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIGRlZmF1bHRDb25maWcsIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVm9sdW1lVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBtdXRlU3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTXV0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHZvbHVtZSBpcyB1bm11dGVkIGFuZCB0aGUgdm9sdW1lIGxldmVsIGlzIHZlZWVlcnkgbG93LCB3ZSBpbmNyZWFzZSBpdCB0byAxMCUuIFRoaXMgZXNwZWNpYWxseSBoZWxwc1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugd2hlbiB0aGUgdm9sdW1lIGlzIGZpcnN0IHR1cm5lZCBkb3duIHRvIDAgYW5kIHRoZW4gdGhlIHBsYXllciBpcyBtdXRlZDsgd2hlbiB0aGUgcGxheWVyIGdldHNcclxuICAgICAgICAgICAgICAgIC8vIHVubXV0ZWQgaXQgd291bGQgc3dpdGNoIHRvIHZvbHVtZSBsZXZlbCAwIHdoaWNoIHdvdWxkIHNlZW0gbGlrZSB1bm11dGluZyBkaWQgbm90IHdvcmssIGFuZCBpbmNyZWFzaW5nIHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWwgYSBiaXQgaGVscHMgdG8gb3ZlcmNvbWUgdGhpcyBpc3N1ZS5cclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0Vm9sdW1lKCkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRWb2x1bWUoMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB2b2x1bWVMZXZlbEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2b2x1bWVMZXZlbFRlbnMgPSBNYXRoLmNlaWwocGxheWVyLmdldFZvbHVtZSgpIC8gMTApO1xyXG4gICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YShfdGhpcy5wcmVmaXhDc3MoJ3ZvbHVtZS1sZXZlbC10ZW5zJyksIFN0cmluZyh2b2x1bWVMZXZlbFRlbnMpKTtcclxuICAgICAgICAgICAgLy8gV2hlbiB0aGUgdm9sdW1lIGlzIHR1cm5lZCBkb3duIHRvIHplcm8sIHN3aXRjaCBpbnRvIHRoZSBtdXRlIHN0YXRlIG9mIHRoZSBidXR0b24uIFRoaXMgYXZvaWRzIHRoZSB1c2FiaWxpdHlcclxuICAgICAgICAgICAgLy8gaXNzdWUgd2hlcmUgdGhlIHZvbHVtZSBpcyB0dXJuZWQgZG93biB0byB6ZXJvLCB0aGUgYnV0dG9uIHNob3dzIHRoZSBtdXRlZCBpY29uIGJ1dCBpcyBub3QgcmVhbGx5IHVubXV0ZWQsIGFuZFxyXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBidXR0b24gcHJlc3Mgd291bGQgc3dpdGNoIGl0IGludG8gdGhlIG11dGUgc3RhdGUsIHZpc3VhbGx5IHN0YXlpbmcgdGhlIHNhbWUgd2hpY2ggd291bGQgc2VlbSBsaWtlXHJcbiAgICAgICAgICAgIC8vIGFuIGV4cGVjdGVkIHVubXV0ZSBkaWQgbm90IHdvcmsuXHJcbiAgICAgICAgICAgIGlmICh2b2x1bWVMZXZlbFRlbnMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9NVVRFRCwgbXV0ZVN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVU5NVVRFRCwgbXV0ZVN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVk9MVU1FX0NIQU5HRUQsIHZvbHVtZUxldmVsSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNNdXRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudW5tdXRlKCd1aS12b2x1bWV0b2dnbGVidXR0b24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5tdXRlKCd1aS12b2x1bWV0b2dnbGVidXR0b24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIG11dGVTdGF0ZUhhbmRsZXIoKTtcclxuICAgICAgICB2b2x1bWVMZXZlbEhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVm9sdW1lVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlZvbHVtZVRvZ2dsZUJ1dHRvbiA9IFZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG4vKipcclxuICogQSBzZWVrIGJhciB0byBzZWVrIHdpdGhpbiB0aGUgcGxheWVyJ3MgbWVkaWEuIEl0IGRpc3BsYXlzIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLCBhbW91bnQgb2YgYnVmZmVkIGRhdGEsIHNlZWtcclxuICogdGFyZ2V0LCBhbmQga2VlcHMgc3RhdHVzIGFib3V0IGFuIG9uZ29pbmcgc2Vlay5cclxuICpcclxuICogVGhlIHNlZWsgYmFyIGRpc3BsYXlzIGRpZmZlcmVudCAnYmFycyc6XHJcbiAqICAtIHRoZSBwbGF5YmFjayBwb3NpdGlvbiwgaS5lLiB0aGUgcG9zaXRpb24gaW4gdGhlIG1lZGlhIGF0IHdoaWNoIHRoZSBwbGF5ZXIgY3VycmVudCBwbGF5YmFjayBwb2ludGVyIGlzIHBvc2l0aW9uZWRcclxuICogIC0gdGhlIGJ1ZmZlciBwb3NpdGlvbiwgd2hpY2ggdXN1YWxseSBpcyB0aGUgcGxheWJhY2sgcG9zaXRpb24gcGx1cyB0aGUgdGltZSBzcGFuIHRoYXQgaXMgYWxyZWFkeSBidWZmZXJlZCBhaGVhZFxyXG4gKiAgLSB0aGUgc2VlayBwb3NpdGlvbiwgdXNlZCB0byBwcmV2aWV3IHRvIHdoZXJlIGluIHRoZSB0aW1lbGluZSBhIHNlZWsgd2lsbCBqdW1wIHRvXHJcbiAqL1xyXG52YXIgU2Vla0JhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZWVrQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2Vla0Jhcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQnVmZmVyIG9mIHRoZSB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbi4gVGhlIHBvc2l0aW9uIG11c3QgYmUgYnVmZmVyZWQgaW4gY2FzZSB0aGUgZWxlbWVudFxyXG4gICAgICAgICAqIG5lZWRzIHRvIGJlIHJlZnJlc2hlZCB3aXRoIHtAbGluayAjcmVmcmVzaFBsYXliYWNrUG9zaXRpb259LlxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3RoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSAwO1xyXG4gICAgICAgIC8vIGh0dHBzOi8vaGFja3MubW96aWxsYS5vcmcvMjAxMy8wNC9kZXRlY3RpbmctdG91Y2gtaXRzLXRoZS13aHktbm90LXRoZS1ob3cvXHJcbiAgICAgICAgX3RoaXMudG91Y2hTdXBwb3J0ZWQgPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcclxuICAgICAgICBfdGhpcy5zZWVrQmFyRXZlbnRzID0ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIG9wZXJhdGlvbiBpcyBzdGFydGVkLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgb25TZWVrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBGaXJlZCBkdXJpbmcgYSBzY3J1YmJpbmcgc2VlayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzZWVrIHByZXZpZXcgKGkuZS4gdGhlIHZpZGVvIGZyYW1lKSBzaG91bGQgYmUgdXBkYXRlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2Vla1ByZXZpZXc6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBoYXMgZmluaXNoZWQgb3Igd2hlbiBhIGRpcmVjdCBzZWVrIGlzIGlzc3VlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2Vla2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWVrYmFyJyxcclxuICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNczogNTAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICBfdGhpcy5sYWJlbCA9IF90aGlzLmNvbmZpZy5sYWJlbDtcclxuICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMgPSBbXTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBjb25maWd1cmVTZWVrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoY29uZmlndXJlU2VlayA9PT0gdm9pZCAwKSB7IGNvbmZpZ3VyZVNlZWsgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgLy8gQXBwbHkgc2NhbGluZyB0cmFuc2Zvcm0gdG8gdGhlIGJhY2tkcm9wIGJhciB0byBoYXZlIGFsbCBiYXJzIHJlbmRlcmVkIHNpbWlsYXJseVxyXG4gICAgICAgIC8vICh0aGUgY2FsbCBtdXN0IGJlIHVwIGhlcmUgdG8gYmUgZXhlY3V0ZWQgZm9yIHRoZSB2b2x1bWUgc2xpZGVyIGFzIHdlbGwpXHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCYWNrZHJvcCwgMTAwKTtcclxuICAgICAgICBpZiAoIWNvbmZpZ3VyZVNlZWspIHtcclxuICAgICAgICAgICAgLy8gVGhlIGNvbmZpZ3VyZVNlZWsgZmxhZyBjYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGRpc2FibGUgY29uZmlndXJhdGlvbiBhcyBzZWVrIGJhci4gRS5nLiB0aGUgdm9sdW1lXHJcbiAgICAgICAgICAgIC8vIHNsaWRlciBpcyByZXVzaW5nIHRoaXMgY29tcG9uZW50IGJ1dCBhZGRzIGl0cyBvd24gZnVuY3Rpb25hbGl0eSwgYW5kIGRvZXMgbm90IG5lZWQgdGhlIHNlZWsgZnVuY3Rpb25hbGl0eS5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhY3R1YWxseSBhIGhhY2ssIHRoZSBwcm9wZXIgc29sdXRpb24gd291bGQgYmUgZm9yIGJvdGggc2VlayBiYXIgYW5kIHZvbHVtZSBzbGlkZXJzIHRvIGV4dGVuZFxyXG4gICAgICAgICAgICAvLyBhIGNvbW1vbiBiYXNlIHNsaWRlciBjb21wb25lbnQgYW5kIGltcGxlbWVudCB0aGVpciBmdW5jdGlvbmFsaXR5IHRoZXJlLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gVXBkYXRlIHBsYXliYWNrIGFuZCBidWZmZXIgcG9zaXRpb25zXHJcbiAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50LCBmb3JjZVVwZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9IG51bGw7IH1cclxuICAgICAgICAgICAgaWYgKGZvcmNlVXBkYXRlID09PSB2b2lkIDApIHsgZm9yY2VVcGRhdGUgPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjYXVnaHQgYSBzZWVrIHByZXZpZXcgc2VlaywgZG8gbm90IHVwZGF0ZSB0aGUgc2Vla2JhclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhc2UgbXVzdCBiZSBleHBsaWNpdGx5IGhhbmRsZWQgdG8gYXZvaWQgZGl2aXNpb24gYnkgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAtICgxMDAgLyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgKiBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNob3cgZnVsbCBidWZmZXIgZm9yIGxpdmUgc3RyZWFtc1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0QnVmZmVyUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb0J1ZmZlckxlbmd0aCA9IHBsYXllci5nZXRBdWRpb0J1ZmZlckxlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBidWZmZXIgbGVuZ3RoIHdoaWNoIGlzIHRoZSBzbWFsbGVyIGxlbmd0aCBvZiB0aGUgYXVkaW8gYW5kIHZpZGVvIGJ1ZmZlcnMuIElmIG9uZSBvZiB0aGVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVycyBpcyBub3QgYXZhaWxhYmxlLCB3ZSBzZXQgaXQncyB2YWx1ZSB0byBNQVhfVkFMVUUgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIG90aGVyIHJlYWwgdmFsdWUgaXMgdGFrZW5cclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBidWZmZXIgbGVuZ3RoLlxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IE1hdGgubWluKHZpZGVvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyB2aWRlb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUsIGF1ZGlvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyBhdWRpb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUpO1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYm90aCBidWZmZXIgbGVuZ3RocyBhcmUgbWlzc2luZywgd2Ugc2V0IHRoZSBidWZmZXIgbGVuZ3RoIHRvIHplcm9cclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJMZW5ndGggPT09IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlclBlcmNlbnRhZ2UgPSAxMDAgLyBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIGJ1ZmZlckxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvbmx5IGluIHBhdXNlZCBzdGF0ZSBvciBpbiB0aGUgaW5pdGlhbCBzdGFydHVwIHN0YXRlIHdoZXJlIHBsYXllciBpcyBuZWl0aGVyXHJcbiAgICAgICAgICAgICAgICAvLyBwYXVzZWQgbm9yIHBsYXlpbmcuIFBsYXliYWNrIHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIFRpbWVvdXQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zID09PSBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRURcclxuICAgICAgICAgICAgICAgICAgICB8fCBmb3JjZVVwZGF0ZSB8fCBwbGF5ZXIuaXNQYXVzZWQoKSB8fCAocGxheWVyLmlzUGF1c2VkKCkgPT09IHBsYXllci5pc1BsYXlpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEJ1ZmZlclBvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlICsgYnVmZmVyUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzZWVrYmFyIHVwb24gdGhlc2UgZXZlbnRzXHJcbiAgICAgICAgLy8gaW5pdCBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGl0IGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBidWZmZXJpbmcgaXMgY29tcGxldGVcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGEgc2VlayBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHRpbWVzaGlmdCBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBhIHNlZ21lbnQgaGFzIGJlZW4gZG93bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFR01FTlRfUkVRVUVTVF9GSU5JU0hFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvZiBDYXN0IHBsYXliYWNrXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZUxpdmVQYXVzZWRUaW1lc2hpZnRVcGRhdGVyKHBsYXllciwgdWltYW5hZ2VyLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2VlayBoYW5kbGluZ1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUssIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2VlayA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci50aW1lU2hpZnQocGxheWVyLmdldE1heFRpbWVTaGlmdCgpIC0gKHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAqIChwZXJjZW50YWdlIC8gMTAwKSksICd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNlZWsocGxheWVyLmdldER1cmF0aW9uKCkgKiAocGVyY2VudGFnZSAvIDEwMCksICd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlcikge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlOyAvLyB0cmFjayBzZWVraW5nIHN0YXR1cyBzbyB3ZSBjYW4gY2F0Y2ggZXZlbnRzIGZyb20gc2VlayBwcmV2aWV3IHNlZWtzXHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHN0YXJ0ZWQgc2Vla1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrLmRpc3BhdGNoKHNlbmRlcik7XHJcbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCBwbGF5YmFjayBzdGF0ZVxyXG4gICAgICAgICAgICBpc1BsYXlpbmcgPSBwbGF5ZXIuaXNQbGF5aW5nKCk7XHJcbiAgICAgICAgICAgIC8vIFBhdXNlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmdcclxuICAgICAgICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtQcmV2aWV3LnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHNlZWsgcHJldmlld1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrUHJldmlldy5kaXNwYXRjaChzZW5kZXIsIGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIFJhdGUtbGltaXRlZCBzY3J1YmJpbmcgc2Vla1xyXG4gICAgICAgICAgICBpZiAoYXJncy5zY3J1YmJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHNlZWsoYXJncy5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgIHRoaXMub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIERvIHRoZSBzZWVrXHJcbiAgICAgICAgICAgIHNlZWsocGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHBsYXliYWNrIGFmdGVyIHNlZWsgaWYgcGxheWVyIHdhcyBwbGF5aW5nIHdoZW4gc2VlayBzdGFydGVkXHJcbiAgICAgICAgICAgIGlmIChpc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIGZpbmlzaGVkIHNlZWtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLmRpc3BhdGNoKHNlbmRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzTGFiZWwoKSkge1xyXG4gICAgICAgICAgICAvLyBDb25maWd1cmUgYSBzZWVrYmFyIGxhYmVsIHRoYXQgaXMgaW50ZXJuYWwgdG8gdGhlIHNlZWtiYXIpXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBIaWRlIHNlZWtiYXIgZm9yIGxpdmUgc291cmNlcyB3aXRob3V0IHRpbWVzaGlmdFxyXG4gICAgICAgIHZhciBpc0xpdmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGFzVGltZVNoaWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHN3aXRjaFZpc2liaWxpdHkgPSBmdW5jdGlvbiAoaXNMaXZlLCBoYXNUaW1lU2hpZnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzTGl2ZSAmJiAhaGFzVGltZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIobnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbGl2ZVN0cmVhbURldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yKHBsYXllcik7XHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLm9uTGl2ZUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaXNMaXZlID0gYXJncy5saXZlO1xyXG4gICAgICAgICAgICBzd2l0Y2hWaXNpYmlsaXR5KGlzTGl2ZSwgaGFzVGltZVNoaWZ0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLm9uVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBoYXNUaW1lU2hpZnQgPSBhcmdzLnRpbWVTaGlmdEF2YWlsYWJsZTtcclxuICAgICAgICAgICAgc3dpdGNoVmlzaWJpbGl0eShpc0xpdmUsIGhhc1RpbWVTaGlmdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdGlhbCBkZXRlY3Rpb25cclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3IuZGV0ZWN0KCk7XHJcbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgcGxheWVyIHJlc2l6ZWQgb3IgdGhlIFVJIGlzIGNvbmZpZ3VyZWQuIFRoZSBwbGF5YmFjayBwb3NpdGlvbiBtYXJrZXJcclxuICAgICAgICAvLyBpcyBwb3NpdGlvbmVkIGFic29sdXRlbHkgYW5kIG11c3QgdGhlcmVmb3JlIGJlIHVwZGF0ZWQgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgc2Vla2JhciBjaGFuZ2VzLlxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBZGRpdGlvbmFsbHksIHdoZW4gdGhpcyBjb2RlIGlzIGNhbGxlZCwgdGhlIHNlZWtiYXIgaXMgbm90IHBhcnQgb2YgdGhlIFVJIHlldCBhbmQgdGhlcmVmb3JlIGRvZXMgbm90IGhhdmUgYSBzaXplLFxyXG4gICAgICAgIC8vIHJlc3VsdGluZyBpbiBhIHdyb25nIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIG1hcmtlci4gUmVmcmVzaGluZyBpdCBvbmNlIHRoZSBVSSBpcyBjb25maWd1cmVkIHNvbHZlZCB0aGlzIGlzc3VlLlxyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJdCBjYW4gYWxzbyBoYXBwZW4gdGhhdCB0aGUgdmFsdWUgY2hhbmdlcyBvbmNlIHRoZSBwbGF5ZXIgaXMgcmVhZHksIG9yIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZCwgc28gd2UgbmVlZFxyXG4gICAgICAgIC8vIHRvIHVwZGF0ZSBvbiBPTl9SRUFEWSB0b29cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgc2Vla2JhclxyXG4gICAgICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKCk7IC8vIFNldCB0aGUgcGxheWJhY2sgcG9zaXRpb25cclxuICAgICAgICB0aGlzLnNldEJ1ZmZlclBvc2l0aW9uKDApO1xyXG4gICAgICAgIHRoaXMuc2V0U2Vla1Bvc2l0aW9uKDApO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNcyAhPT0gU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZU1hcmtlcnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHNlZWtiYXIgd2hpbGUgYSBsaXZlIHN0cmVhbSB3aXRoIERWUiB3aW5kb3cgaXMgcGF1c2VkLlxyXG4gICAgICogVGhlIHBsYXliYWNrIHBvc2l0aW9uIHN0YXlzIHN0aWxsIGFuZCB0aGUgcG9zaXRpb24gaW5kaWNhdG9yIHZpc3VhbGx5IG1vdmVzIHRvd2FyZHMgdGhlIGJhY2suXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmNvbmZpZ3VyZUxpdmVQYXVzZWRUaW1lc2hpZnRVcGRhdGVyID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcikge1xyXG4gICAgICAgIC8vIFJlZ3VsYXJseSB1cGRhdGUgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoaWxlIHRoZSB0aW1lb3V0IGlzIGFjdGl2ZVxyXG4gICAgICAgIHZhciBwYXVzZWRUaW1lc2hpZnRVcGRhdGVyID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KDEwMDAsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICAvLyBTdGFydCB1cGRhdGVyIHdoZW4gYSBsaXZlIHN0cmVhbSB3aXRoIHRpbWVzaGlmdCB3aW5kb3cgaXMgcGF1c2VkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2VkVGltZXNoaWZ0VXBkYXRlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RvcCB1cGRhdGVyIHdoZW4gcGxheWJhY2sgY29udGludWVzIChubyBtYXR0ZXIgaWYgdGhlIHVwZGF0ZXIgd2FzIHN0YXJ0ZWQgYmVmb3JlKVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIuY2xlYXIoKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogUGxheWJhY2sgcG9zaXRpb24gdXBkYXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBXZSBkbyBub3QgdXBkYXRlIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBmcm9tIHRoZSBPTl9USU1FX0NIQU5HRUQgZXZlbnQsIGJlY2F1c2UgaXQgYXJyaXZlcyB2ZXJ5IGppdHRlcnkgYW5kXHJcbiAgICAgICAgICogcmVzdWx0cyBpbiBhIGppdHRlcnkgcG9zaXRpb24gaW5kaWNhdG9yIHNpbmNlIHRoZSBDU1MgdHJhbnNpdGlvbiB0aW1lIGlzIHN0YXRpY2FsbHkgc2V0LlxyXG4gICAgICAgICAqIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIG1haW50YWluIGEgbG9jYWwgcGxheWJhY2sgcG9zaXRpb24gdGhhdCBpcyB1cGRhdGVkIGluIGEgc3RhYmxlIHJlZ3VsYXIgaW50ZXJ2YWxcclxuICAgICAgICAgKiBhbmQga2VwdCBpbiBzeW5jIHdpdGggdGhlIHBsYXllci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY3VycmVudFRpbWVTZWVrQmFyID0gMDtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWVQbGF5ZXIgPSAwO1xyXG4gICAgICAgIHZhciB1cGRhdGVJbnRlcnZhbE1zID0gNTA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzID0gdXBkYXRlSW50ZXJ2YWxNcyAvIDEwMDA7XHJcbiAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh1cGRhdGVJbnRlcnZhbE1zLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciArPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcclxuICAgICAgICAgICAgY3VycmVudFRpbWVQbGF5ZXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgLy8gU3luYyBjdXJyZW50VGltZSBvZiBzZWVrYmFyIHRvIHBsYXllclxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWVEZWx0YSA9IGN1cnJlbnRUaW1lU2Vla0JhciAtIGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsdGEgaXMgbGFyZ2VyIHRoYXQgMiBzZWNzLCBkaXJlY3RseSBqdW1wIHRoZSBzZWVrYmFyIHRvIHRoZVxyXG4gICAgICAgICAgICAvLyBwbGF5ZXIgdGltZSBpbnN0ZWFkIG9mIHNtb290aGx5IGZhc3QgZm9yd2FyZGluZy9yZXdpbmRpbmcuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50VGltZURlbHRhKSA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIGN1cnJlbnRUaW1lRGVsdGEgaXMgbmVnYXRpdmUgYW5kIGJlbG93IHRoZSBhZGp1c3RtZW50IHRocmVzaG9sZCxcclxuICAgICAgICAgICAgLy8gdGhlIHBsYXllciBpcyBhaGVhZCBvZiB0aGUgc2Vla2JhciBhbmQgd2UgJ2Zhc3QgZm9yd2FyZCcgdGhlIHNlZWtiYXJcclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA8PSAtY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3MpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciArPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiBjdXJyZW50VGltZURlbHRhIGlzIHBvc2l0aXZlIGFuZCBhYm92ZSB0aGUgYWRqdXN0bWVudCB0aHJlc2hvbGQsXHJcbiAgICAgICAgICAgIC8vIHRoZSBwbGF5ZXIgaXMgYmVoaW5kIHRoZSBzZWVrYmFyIGFuZCB3ZSAncmV3aW5kJyB0aGUgc2Vla2JhclxyXG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VGltZURlbHRhID49IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgLT0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMTAwIC8gcGxheWVyLmdldER1cmF0aW9uKCkgKiBjdXJyZW50VGltZVNlZWtCYXI7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgIHZhciBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc3RvcFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QTEFZSU5HLCBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QQVVTRUQsIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5jb25maWd1cmVNYXJrZXJzID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY2xlYXJNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFya2VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNldHVwTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJNYXJrZXJzKCk7XHJcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHBsYXllci5nZXREdXJhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBnZW5lcmF0ZSB0aW1lbGluZSBtYXJrZXJzIGlmIHdlIGRvbid0IHlldCBoYXZlIGEgZHVyYXRpb25cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBkdXJhdGlvbiBjaGVjayBpcyBmb3IgYnVnZ3kgcGxhdGZvcm1zIHdoZXJlIHRoZSBkdXJhdGlvbiBpcyBub3QgYXZhaWxhYmxlIGluc3RhbnRseSAoQ2hyb21lIG9uIEFuZHJvaWQgNC4zKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkubWV0YWRhdGEubWFya2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyUG9zaXRpb24gPSAxMDAgLyBkdXJhdGlvbiAqIG1hcmtlci50aW1lOyAvLyBjb252ZXJ0IGFic29sdXRlIHRpbWUgdG8gcGVyY2VudGFnZVxyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckR1cmF0aW9uID0gMTAwIC8gZHVyYXRpb24gKiBtYXJrZXIuZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMucHVzaCh7IG1hcmtlcjogbWFya2VyLCBwb3NpdGlvbjogbWFya2VyUG9zaXRpb24sIGR1cmF0aW9uOiBtYXJrZXJEdXJhdGlvbiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgdGltZWxpbmUgd2l0aCB0aGUgbWFya2Vyc1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVNYXJrZXJzKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgbWFya2VycyB3aGVuIGEgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBzZXR1cE1hcmtlcnMpO1xyXG4gICAgICAgIC8vIFJlbW92ZSBtYXJrZXJzIHdoZW4gdW5sb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIGNsZWFyTWFya2Vycyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1hcmtlcnMgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgc2Vla2JhciBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlTWFya2VycygpOyB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgbWFya2VycyB3aGVuIGEgbWFya2VyIGlzIGFkZGVkIG9yIHJlbW92ZWRcclxuICAgICAgICB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC5zdWJzY3JpYmUoc2V0dXBNYXJrZXJzKTtcclxuICAgICAgICB1aW1hbmFnZXIub25SZWxlYXNlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuZXZlbnRzLm9uVXBkYXRlZC51bnN1YnNjcmliZShzZXR1cE1hcmtlcnMpOyB9KTtcclxuICAgICAgICAvLyBJbml0IG1hcmtlcnMgYXQgc3RhcnR1cFxyXG4gICAgICAgIHNldHVwTWFya2VycygpO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpIHsgLy8gb2JqZWN0IG11c3Qgbm90IG5lY2Vzc2FyaWx5IGV4aXN0LCBlLmcuIGluIHZvbHVtZSBzbGlkZXIgc3ViY2xhc3NcclxuICAgICAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuY3NzQ2xhc3Nlcy5wdXNoKCd2ZXJ0aWNhbCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2Vla0JhckNvbnRhaW5lciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBzZWVrQmFyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2JhcicpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhciA9IHNlZWtCYXI7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGJ1ZmZlciBmaWxsIGxldmVsXHJcbiAgICAgICAgdmFyIHNlZWtCYXJCdWZmZXJMZXZlbCA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItYnVmZmVybGV2ZWwnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiA9IHNlZWtCYXJCdWZmZXJMZXZlbDtcclxuICAgICAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93cyB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvblxyXG4gICAgICAgIHZhciBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbiA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItcGxheWJhY2twb3NpdGlvbicpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbjtcclxuICAgICAgICAvLyBBIG1hcmtlciBvZiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgZS5nLiBhIGRvdCBvciBsaW5lXHJcbiAgICAgICAgdmFyIHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1wbGF5YmFja3Bvc2l0aW9uLW1hcmtlcicpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIgPSBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlcjtcclxuICAgICAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93IHdoZXJlIGEgc2VlayB3aWxsIGdvIHRvXHJcbiAgICAgICAgdmFyIHNlZWtCYXJTZWVrUG9zaXRpb24gPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLXNlZWtwb3NpdGlvbicpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhclNlZWtQb3NpdGlvbiA9IHNlZWtCYXJTZWVrUG9zaXRpb247XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGZ1bGwgc2Vla2JhclxyXG4gICAgICAgIHZhciBzZWVrQmFyQmFja2Ryb3AgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLWJhY2tkcm9wJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyQmFja2Ryb3AgPSBzZWVrQmFyQmFja2Ryb3A7XHJcbiAgICAgICAgdmFyIHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItbWFya2VycycpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0Jhck1hcmtlcnNDb250YWluZXIgPSBzZWVrQmFyQ2hhcHRlck1hcmtlcnNDb250YWluZXI7XHJcbiAgICAgICAgc2Vla0Jhci5hcHBlbmQodGhpcy5zZWVrQmFyQmFja2Ryb3AsIHRoaXMuc2Vla0JhckJ1ZmZlclBvc2l0aW9uLCB0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24sIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHRoaXMuc2Vla0Jhck1hcmtlcnNDb250YWluZXIsIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIpO1xyXG4gICAgICAgIHZhciBzZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gRGVmaW5lIGhhbmRsZXIgZnVuY3Rpb25zIHNvIHdlIGNhbiBhdHRhY2gvcmVtb3ZlIHRoZW0gbGF0ZXJcclxuICAgICAgICB2YXIgbW91c2VUb3VjaE1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGlvbiB0byBWUiBoYW5kbGVyXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRQZXJjZW50YWdlID0gMTAwICogX3RoaXMuZ2V0T2Zmc2V0KGUpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla1ByZXZpZXdFdmVudCh0YXJnZXRQZXJjZW50YWdlLCB0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBtb3VzZVRvdWNoVXBIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaGFuZGxlcnMsIHNlZWsgb3BlcmF0aW9uIGlzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2htb3ZlIG1vdXNlbW92ZScsIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2hlbmQgbW91c2V1cCcsIG1vdXNlVG91Y2hVcEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGVyY2VudGFnZSA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgdmFyIHNuYXBwZWRDaGFwdGVyID0gX3RoaXMuZ2V0TWFya2VyQXRQb3NpdGlvbih0YXJnZXRQZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHNlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrZWRFdmVudChzbmFwcGVkQ2hhcHRlciA/IHNuYXBwZWRDaGFwdGVyLnBvc2l0aW9uIDogdGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBIHNlZWsgYWx3YXlzIHN0YXJ0IHdpdGggYSB0b3VjaHN0YXJ0IG9yIG1vdXNlZG93biBkaXJlY3RseSBvbiB0aGUgc2Vla2Jhci5cclxuICAgICAgICAvLyBUbyB0cmFjayBhIG1vdXNlIHNlZWsgYWxzbyBvdXRzaWRlIHRoZSBzZWVrYmFyIChmb3IgdG91Y2ggZXZlbnRzIHRoaXMgd29ya3MgYXV0b21hdGljYWxseSksXHJcbiAgICAgICAgLy8gc28gdGhlIHVzZXIgZG9lcyBub3QgbmVlZCB0byB0YWtlIGNhcmUgdGhhdCB0aGUgbW91c2UgYWx3YXlzIHN0YXlzIG9uIHRoZSBzZWVrYmFyLCB3ZSBhdHRhY2ggdGhlIG1vdXNlbW92ZVxyXG4gICAgICAgIC8vIGFuZCBtb3VzZXVwIGhhbmRsZXJzIHRvIHRoZSB3aG9sZSBkb2N1bWVudC4gQSBzZWVrIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGxpZnRzIHRoZSBtb3VzZSBrZXkuXHJcbiAgICAgICAgLy8gQSBzZWVrIG1vdXNlIGdlc3R1cmUgaXMgdGh1cyBiYXNpY2FsbHkgYSBjbGljayB3aXRoIGEgbG9uZyB0aW1lIGZyYW1lIGJldHdlZW4gZG93biBhbmQgdXAgZXZlbnRzLlxyXG4gICAgICAgIHNlZWtCYXIub24oJ3RvdWNoc3RhcnQgbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIGlzVG91Y2hFdmVudCA9IF90aGlzLnRvdWNoU3VwcG9ydGVkICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50O1xyXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHNlbGVjdGlvbiBvZiBET00gZWxlbWVudHMgKGFsc28gcHJldmVudHMgbW91c2Vkb3duIGlmIGN1cnJlbnQgZXZlbnQgaXMgdG91Y2hzdGFydClcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGlvbiB0byBWUiBoYW5kbGVyXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcodHJ1ZSk7IC8vIFNldCBzZWVraW5nIGNsYXNzIG9uIERPTSBlbGVtZW50XHJcbiAgICAgICAgICAgIHNlZWtpbmcgPSB0cnVlOyAvLyBTZXQgc2VlayB0cmFja2luZyBmbGFnXHJcbiAgICAgICAgICAgIC8vIEZpcmUgc2Vla2VkIGV2ZW50XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla0V2ZW50KCk7XHJcbiAgICAgICAgICAgIC8vIEFkZCBoYW5kbGVyIHRvIHRyYWNrIHRoZSBzZWVrIG9wZXJhdGlvbiBvdmVyIHRoZSB3aG9sZSBkb2N1bWVudFxyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vbihpc1RvdWNoRXZlbnQgPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLCBtb3VzZVRvdWNoTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vbihpc1RvdWNoRXZlbnQgPyAndG91Y2hlbmQnIDogJ21vdXNldXAnLCBtb3VzZVRvdWNoVXBIYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEaXNwbGF5IHNlZWsgdGFyZ2V0IGluZGljYXRvciB3aGVuIG1vdXNlIGhvdmVycyBvciBmaW5nZXIgc2xpZGVzIG92ZXIgc2Vla2JhclxyXG4gICAgICAgIHNlZWtCYXIub24oJ3RvdWNobW92ZSBtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChzZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEdXJpbmcgYSBzZWVrICh3aGVuIG1vdXNlIGlzIGRvd24gb3IgdG91Y2ggbW92ZSBhY3RpdmUpLCB3ZSBuZWVkIHRvIHN0b3AgcHJvcGFnYXRpb24gdG8gYXZvaWRcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBWUiB2aWV3cG9ydCByZWFjdGluZyB0byB0aGUgbW92ZXMuXHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGUgc3RvcHBlZCBwcm9wYWdhdGlvbiBpbmhpYml0cyB0aGUgZXZlbnQgb24gdGhlIGRvY3VtZW50LCB3ZSBuZWVkIHRvIGNhbGwgaXQgZnJvbSBoZXJlXHJcbiAgICAgICAgICAgICAgICBtb3VzZVRvdWNoTW92ZUhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gMTAwICogX3RoaXMuZ2V0T2Zmc2V0KGUpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBfdGhpcy5vblNlZWtQcmV2aWV3RXZlbnQocG9zaXRpb24sIGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmhhc0xhYmVsKCkgJiYgX3RoaXMuZ2V0TGFiZWwoKS5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRMYWJlbCgpLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhpZGUgc2VlayB0YXJnZXQgaW5kaWNhdG9yIHdoZW4gbW91c2Ugb3IgZmluZ2VyIGxlYXZlcyBzZWVrYmFyXHJcbiAgICAgICAgc2Vla0Jhci5vbigndG91Y2hlbmQgbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla1Bvc2l0aW9uKDApO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzTGFiZWwoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0TGFiZWwoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWVrQmFyQ29udGFpbmVyLmFwcGVuZChzZWVrQmFyKTtcclxuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xyXG4gICAgICAgICAgICBzZWVrQmFyQ29udGFpbmVyLmFwcGVuZCh0aGlzLmxhYmVsLmdldERvbUVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWVrQmFyQ29udGFpbmVyO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnVwZGF0ZU1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmVtcHR5KCk7XHJcbiAgICAgICAgdmFyIHNlZWtCYXJXaWR0aFB4ID0gdGhpcy5zZWVrQmFyLndpZHRoKCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGltZWxpbmVNYXJrZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB2YXIgbWFya2VyQ2xhc3NlcyA9IFsnc2Vla2Jhci1tYXJrZXInXS5jb25jYXQobWFya2VyLm1hcmtlci5jc3NDbGFzc2VzIHx8IFtdKVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoY3NzQ2xhc3MpIHsgcmV0dXJuIF90aGlzLnByZWZpeENzcyhjc3NDbGFzcyk7IH0pO1xyXG4gICAgICAgICAgICB2YXIgY3NzUHJvcGVydGllcyA9IHtcclxuICAgICAgICAgICAgICAgICd3aWR0aCc6IG1hcmtlci5wb3NpdGlvbiArICclJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKG1hcmtlci5kdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJXaWR0aFB4ID0gTWF0aC5yb3VuZChzZWVrQmFyV2lkdGhQeCAvIDEwMCAqIG1hcmtlci5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjc3NQcm9wZXJ0aWVzWydib3JkZXItcmlnaHQtd2lkdGgnXSA9IG1hcmtlcldpZHRoUHggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgY3NzUHJvcGVydGllc1snbWFyZ2luLWxlZnQnXSA9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiBtYXJrZXJDbGFzc2VzLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgICdkYXRhLW1hcmtlci10aW1lJzogU3RyaW5nKG1hcmtlci5tYXJrZXIudGltZSksXHJcbiAgICAgICAgICAgICAgICAnZGF0YS1tYXJrZXItdGl0bGUnOiBTdHJpbmcobWFya2VyLm1hcmtlci50aXRsZSksXHJcbiAgICAgICAgICAgIH0pLmNzcyhjc3NQcm9wZXJ0aWVzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldE1hcmtlckF0UG9zaXRpb24gPSBmdW5jdGlvbiAocGVyY2VudGFnZSkge1xyXG4gICAgICAgIHZhciBzbmFwcGluZ1JhbmdlID0gMTtcclxuICAgICAgICBpZiAodGhpcy50aW1lbGluZU1hcmtlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy50aW1lbGluZU1hcmtlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGludGVydmFsIG1hcmtlcnNcclxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIuZHVyYXRpb24gPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcGVyY2VudGFnZSA+PSBtYXJrZXIucG9zaXRpb24gLSBzbmFwcGluZ1JhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcGVyY2VudGFnZSA8PSBtYXJrZXIucG9zaXRpb24gKyBtYXJrZXIuZHVyYXRpb24gKyBzbmFwcGluZ1JhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBwb3NpdGlvbiBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwZXJjZW50YWdlID49IG1hcmtlci5wb3NpdGlvbiAtIHNuYXBwaW5nUmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAmJiBwZXJjZW50YWdlIDw9IG1hcmtlci5wb3NpdGlvbiArIHNuYXBwaW5nUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya2VyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgaG9yaXpvbnRhbCBvZmZzZXQgb2YgYSBtb3VzZS90b3VjaCBldmVudCBwb2ludCBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHNlZWsgYmFyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50UGFnZVggdGhlIHBhZ2VYIGNvb3JkaW5hdGUgb2YgYW4gZXZlbnQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgZnJvbVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gYSBudW1iZXIgaW4gdGhlIHJhbmdlIG9mIFswLCAxXSwgd2hlcmUgMCBpcyB0aGUgbGVmdCBlZGdlIGFuZCAxIGlzIHRoZSByaWdodCBlZGdlXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldEhvcml6b250YWxPZmZzZXQgPSBmdW5jdGlvbiAoZXZlbnRQYWdlWCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB2YXIgd2lkdGhQeCA9IHRoaXMuc2Vla0Jhci53aWR0aCgpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQeCA9IGV2ZW50UGFnZVggLSBlbGVtZW50T2Zmc2V0UHg7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IDEgLyB3aWR0aFB4ICogb2Zmc2V0UHg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVPZmZzZXQob2Zmc2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHZlcnRpY2FsIG9mZnNldCBvZiBhIG1vdXNlL3RvdWNoIGV2ZW50IHBvaW50IGZyb20gdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBldmVudFBhZ2VZIHRoZSBwYWdlWCBjb29yZGluYXRlIG9mIGFuIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGJvdHRvbSBlZGdlIGFuZCAxIGlzIHRoZSB0b3AgZWRnZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRWZXJ0aWNhbE9mZnNldCA9IGZ1bmN0aW9uIChldmVudFBhZ2VZKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXRQeCA9IHRoaXMuc2Vla0Jhci5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgdmFyIHdpZHRoUHggPSB0aGlzLnNlZWtCYXIuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIG9mZnNldFB4ID0gZXZlbnRQYWdlWSAtIGVsZW1lbnRPZmZzZXRQeDtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gMSAvIHdpZHRoUHggKiBvZmZzZXRQeDtcclxuICAgICAgICByZXR1cm4gMSAtIHRoaXMuc2FuaXRpemVPZmZzZXQob2Zmc2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1vdXNlIG9yIHRvdWNoIGV2ZW50IG9mZnNldCBmb3IgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiAoaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCkuXHJcbiAgICAgKiBAcGFyYW0gZSB0aGUgZXZlbnQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgZnJvbVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gYSBudW1iZXIgaW4gdGhlIHJhbmdlIG9mIFswLCAxXVxyXG4gICAgICogQHNlZSAjZ2V0SG9yaXpvbnRhbE9mZnNldFxyXG4gICAgICogQHNlZSAjZ2V0VmVydGljYWxPZmZzZXRcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAodGhpcy50b3VjaFN1cHBvcnRlZCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZlcnRpY2FsT2Zmc2V0KGUudHlwZSA9PT0gJ3RvdWNoZW5kJyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9yaXpvbnRhbE9mZnNldChlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS50b3VjaGVzWzBdLnBhZ2VYKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZlcnRpY2FsT2Zmc2V0KGUucGFnZVkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9yaXpvbnRhbE9mZnNldChlLnBhZ2VYKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignaW52YWxpZCBldmVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNhbml0aXplcyB0aGUgbW91c2Ugb2Zmc2V0IHRvIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiB0cmFja2luZyB0aGUgbW91c2Ugb3V0c2lkZSB0aGUgc2VlayBiYXIsIHRoZSBvZmZzZXQgY2FuIGJlIG91dHNpZGUgdGhlIGRlc2lyZWQgcmFuZ2UgYW5kIHRoaXMgbWV0aG9kXHJcbiAgICAgKiBsaW1pdHMgaXQgdG8gdGhlIGRlc2lyZWQgcmFuZ2UuIEUuZy4gYSBtb3VzZSBldmVudCBsZWZ0IG9mIHRoZSBsZWZ0IGVkZ2Ugb2YgYSBzZWVrIGJhciB5aWVsZHMgYW4gb2Zmc2V0IGJlbG93XHJcbiAgICAgKiB6ZXJvLCBidXQgdG8gZGlzcGxheSB0aGUgc2VlayB0YXJnZXQgb24gdGhlIHNlZWsgYmFyLCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHplcm8uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldCB0aGUgb2Zmc2V0IHRvIHNhbml0aXplXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgc2FuaXRpemVkIG9mZnNldC5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2FuaXRpemVPZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgLy8gU2luY2Ugd2UgdHJhY2sgbW91c2UgbW92ZXMgb3ZlciB0aGUgd2hvbGUgZG9jdW1lbnQsIHRoZSB0YXJnZXQgY2FuIGJlIG91dHNpZGUgdGhlIHNlZWsgcmFuZ2UsXHJcbiAgICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gbGltaXQgaXQgdG8gdGhlIFswLCAxXSByYW5nZS5cclxuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvZmZzZXQgPiAxKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvZmZzZXQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGxheWJhY2sgcG9zaXRpb24gaW5kaWNhdG9yLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAgYXMgcmV0dXJuZWQgYnkgdGhlIHBsYXllclxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRQbGF5YmFja1Bvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICB0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gcGVyY2VudDtcclxuICAgICAgICAvLyBTZXQgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBtYXJrZXJcclxuICAgICAgICB2YXIgdG90YWxTaXplID0gKHRoaXMuY29uZmlnLnZlcnRpY2FsID8gKHRoaXMuc2Vla0Jhci5oZWlnaHQoKSAtIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KCkpIDogdGhpcy5zZWVrQmFyLndpZHRoKCkpO1xyXG4gICAgICAgIHZhciBweCA9ICh0b3RhbFNpemUpIC8gMTAwICogcGVyY2VudDtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgcHggPSB0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLSBweCAtIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY29uZmlnLnZlcnRpY2FsID9cclxuICAgICAgICAgICAgLy8gLW1zLXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgSUU5XHJcbiAgICAgICAgICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBBbmRyb2lkIDQuNCBXZWJWaWV3XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmNzcyhzdHlsZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uLiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIHJlZnJlc2ggdGhlIHBvc2l0aW9uIHdoZW5cclxuICAgICAqIHRoZSBzaXplIG9mIHRoZSBjb21wb25lbnQgY2hhbmdlcy5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUucmVmcmVzaFBsYXliYWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHRoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gdW50aWwgd2hpY2ggbWVkaWEgaXMgYnVmZmVyZWQuXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRCdWZmZXJQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiB3aGVyZSBhIHNlZWssIGlmIGV4ZWN1dGVkLCB3b3VsZCBqdW1wIHRvLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0U2Vla1Bvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclNlZWtQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGFjdHVhbCBwb3NpdGlvbiAod2lkdGggb3IgaGVpZ2h0KSBvZiBhIERPTSBlbGVtZW50IHRoYXQgcmVwcmVzZW50IGEgYmFyIGluIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHNldCB0aGUgcG9zaXRpb24gZm9yXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBwZXJjZW50KSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gcGVyY2VudCAvIDEwMDtcclxuICAgICAgICAvLyBXaGVuIHRoZSBzY2FsZSBpcyBleGFjdGx5IDEgb3IgdmVyeSBuZWFyIDEgKGFuZCB0aGUgYnJvd3NlciBpbnRlcm5hbGx5IHJvdW5kcyBpdCB0byAxKSwgYnJvd3NlcnMgc2VlbSB0byByZW5kZXJcclxuICAgICAgICAvLyB0aGUgZWxlbWVudHMgZGlmZmVyZW50bHkgYW5kIHRoZSBoZWlnaHQgZ2V0cyBzbGlnaHRseSBvZmYsIGxlYWRpbmcgdG8gbWlzbWF0Y2hpbmcgaGVpZ2h0cyB3aGVuIGUuZy4gdGhlIGJ1ZmZlclxyXG4gICAgICAgIC8vIGxldmVsIGJhciBoYXMgYSB3aWR0aCBvZiAxIGFuZCB0aGUgcGxheWJhY2sgcG9zaXRpb24gYmFyIGhhcyBhIHdpZHRoIDwgMS4gQSBqaXR0ZXJpbmcgYnVmZmVyIGxldmVsIGFyb3VuZCAxXHJcbiAgICAgICAgLy8gbGVhZHMgdG8gYW4gZXZlbiB3b3JzZSBmbGlja2VyaW5nIGVmZmVjdC5cclxuICAgICAgICAvLyBWYXJpb3VzIGNoYW5nZXMgaW4gQ1NTIHN0eWxpbmcgYW5kIERPTSBoaWVyYXJjaHkgZGlkIG5vdCBzb2x2ZSB0aGUgaXNzdWUgc28gdGhlIHdvcmthcm91bmQgaXMgdG8gYXZvaWQgYSBzY2FsZVxyXG4gICAgICAgIC8vIG9mIGV4YWN0bHkgMS5cclxuICAgICAgICBpZiAoc2NhbGUgPj0gMC45OTk5OSAmJiBzY2FsZSA8PSAxLjAwMDAxKSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMC45OTk5OTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWwgP1xyXG4gICAgICAgICAgICAvLyAtbXMtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBJRTlcclxuICAgICAgICAgICAgLy8gLXdlYmtpdC10cmFuc2Zvcm0gcmVxdWlyZWQgZm9yIEFuZHJvaWQgNC40IFdlYlZpZXdcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdzY2FsZVkoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdzY2FsZVkoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICB9IDpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAnc2NhbGVYKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFB1dHMgdGhlIHNlZWsgYmFyIGludG8gb3Igb3V0IG9mIHNlZWtpbmcgc3RhdGUgYnkgYWRkaW5nL3JlbW92aW5nIGEgY2xhc3MgdG8gdGhlIERPTSBlbGVtZW50LiBUaGlzIGNhbiBiZSB1c2VkXHJcbiAgICAgKiB0byBhZGp1c3QgdGhlIHN0eWxpbmcgd2hpbGUgc2Vla2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2Vla2luZyBzaG91bGQgYmUgdHJ1ZSB3aGVuIGVudGVyaW5nIHNlZWsgc3RhdGUsIGZhbHNlIHdoZW4gZXhpdGluZyB0aGUgc2VlayBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRTZWVraW5nID0gZnVuY3Rpb24gKHNlZWtpbmcpIHtcclxuICAgICAgICBpZiAoc2Vla2luZykge1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaXMgY3VycmVudGx5IGluIHRoZSBzZWVrIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgaW4gc2VlayBzdGF0ZSwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5pc1NlZWtpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmhhc0NsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzZWVrIGJhciBoYXMgYSB7QGxpbmsgU2Vla0JhckxhYmVsfS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5oYXNMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbCAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbGFiZWwgb2YgdGhpcyBzZWVrIGJhci5cclxuICAgICAqIEByZXR1cm5zIHtTZWVrQmFyTGFiZWx9IHRoZSBsYWJlbCBpZiB0aGlzIHNlZWsgYmFyIGhhcyBhIGxhYmVsLCBlbHNlIG51bGxcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0TGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWw7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TZWVrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vlay5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNlZWtQcmV2aWV3RXZlbnQgPSBmdW5jdGlvbiAocGVyY2VudGFnZSwgc2NydWJiaW5nKSB7XHJcbiAgICAgICAgdmFyIHNuYXBwZWRNYXJrZXIgPSB0aGlzLmdldE1hcmtlckF0UG9zaXRpb24ocGVyY2VudGFnZSk7XHJcbiAgICAgICAgdmFyIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlO1xyXG4gICAgICAgIGlmIChzbmFwcGVkTWFya2VyKSB7XHJcbiAgICAgICAgICAgIGlmIChzbmFwcGVkTWFya2VyLmR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPCBzbmFwcGVkTWFya2VyLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU25hcCB0aGUgcG9zaXRpb24gdG8gdGhlIHN0YXJ0IG9mIHRoZSBpbnRlcnZhbCBpZiB0aGUgc2VlayBpcyB3aXRoaW4gdGhlIGxlZnQgc25hcCBtYXJnaW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoYXQgd2UgYXJlIHdpdGhpbiBhIHNuYXAgbWFyZ2luIHdoZW4gd2UgYXJlIG91dHNpZGUgdGhlIG1hcmtlciBpbnRlcnZhbCBidXQgc3RpbGxcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGEgc25hcHBlZE1hcmtlclxyXG4gICAgICAgICAgICAgICAgICAgIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBzbmFwcGVkTWFya2VyLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudGFnZSA+IHNuYXBwZWRNYXJrZXIucG9zaXRpb24gKyBzbmFwcGVkTWFya2VyLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU25hcCB0aGUgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgaW50ZXJ2YWwgaWYgdGhlIHNlZWsgaXMgd2l0aGluIHRoZSByaWdodCBzbmFwIG1hcmdpblxyXG4gICAgICAgICAgICAgICAgICAgIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBzbmFwcGVkTWFya2VyLnBvc2l0aW9uICsgc25hcHBlZE1hcmtlci5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uIG1hcmtlcnMgYWx3YXlzIHNuYXAgdG8gdGhlaXIgbWFya2VyIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gc25hcHBlZE1hcmtlci5wb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBzZWVrUG9zaXRpb25QZXJjZW50YWdlICsgJyUnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla1ByZXZpZXcuZGlzcGF0Y2godGhpcywge1xyXG4gICAgICAgICAgICBzY3J1YmJpbmc6IHNjcnViYmluZyxcclxuICAgICAgICAgICAgcG9zaXRpb246IHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UsXHJcbiAgICAgICAgICAgIG1hcmtlcjogc25hcHBlZE1hcmtlcixcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNlZWtlZEV2ZW50ID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrZWQuZGlzcGF0Y2godGhpcywgcGVyY2VudGFnZSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZWtCYXIucHJvdG90eXBlLCBcIm9uU2Vla1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgb3BlcmF0aW9uIGlzIHN0YXJ0ZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrUHJldmlld1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCBkdXJpbmcgYSBzY3J1YmJpbmcgc2VlayAodG8gaW5kaWNhdGUgdGhhdCB0aGUgc2VlayBwcmV2aWV3LCBpLmUuIHRoZSB2aWRlbyBmcmFtZSxcclxuICAgICAgICAgKiBzaG91bGQgYmUgdXBkYXRlZCksIG9yIGR1cmluZyBhIG5vcm1hbCBzZWVrIHByZXZpZXcgd2hlbiB0aGUgc2VlayBiYXIgaXMgaG92ZXJlZCAoYW5kIHRoZSBzZWVrIHRhcmdldCxcclxuICAgICAgICAgKiBpLmUuIHRoZSBzZWVrIGJhciBsYWJlbCwgc2hvdWxkIGJlIHVwZGF0ZWQpLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBTZWVrUHJldmlld0V2ZW50QXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrUHJldmlldy5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZWtCYXIucHJvdG90eXBlLCBcIm9uU2Vla2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBoYXMgZmluaXNoZWQgb3Igd2hlbiBhIGRpcmVjdCBzZWVrIGlzIGlzc3VlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgbnVtYmVyPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vblNob3dFdmVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIHBvc2l0aW9uIG9mIHRoZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBzZWVrIGJhciBiZWNvbWVzIHZpc2libGUuIFRvIGNvcnJlY3RseSBzZXQgdGhlIHBvc2l0aW9uLFxyXG4gICAgICAgIC8vIHRoZSBET00gZWxlbWVudCBtdXN0IGJlIGZ1bGx5IGluaXRpYWxpemVkIGFuIGhhdmUgaXRzIHNpemUgY2FsY3VsYXRlZCwgYmVjYXVzZSB0aGUgcG9zaXRpb24gaXMgc2V0IGFzIGFuIGFic29sdXRlXHJcbiAgICAgICAgLy8gdmFsdWUgY2FsY3VsYXRlZCBmcm9tIHRoZSBzaXplLiBUaGlzIHJlcXVpcmVkIHNpemUgaXMgbm90IGtub3duIHdoZW4gaXQgaXMgaGlkZGVuLlxyXG4gICAgICAgIC8vIEZvciBzdWNoIGNhc2VzLCB3ZSByZWZyZXNoIHRoZSBwb3NpdGlvbiBoZXJlIGluIG9uU2hvdyBiZWNhdXNlIGhlcmUgaXQgaXMgZ3VhcmFudGVlZCB0aGF0IHRoZSBjb21wb25lbnQga25vd3NcclxuICAgICAgICAvLyBpdHMgc2l6ZSBhbmQgY2FuIHNldCB0aGUgcG9zaXRpb24gY29ycmVjdGx5LlxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRUQgPSAtMTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIENTUyBjbGFzcyB0aGF0IGlzIGFkZGVkIHRvIHRoZSBET00gZWxlbWVudCB3aGlsZSB0aGUgc2VlayBiYXIgaXMgaW4gJ3NlZWtpbmcnIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLkNMQVNTX1NFRUtJTkcgPSAnc2Vla2luZyc7XHJcbiAgICByZXR1cm4gU2Vla0JhcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5TZWVrQmFyID0gU2Vla0JhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIHVpdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91aXV0aWxzXCIpO1xyXG52YXIgc3BhY2VyXzEgPSByZXF1aXJlKFwiLi9zcGFjZXJcIik7XHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBmb3IgbWFpbiBwbGF5ZXIgY29udHJvbCBjb21wb25lbnRzLCBlLmcuIHBsYXkgdG9nZ2xlIGJ1dHRvbiwgc2VlayBiYXIsIHZvbHVtZSBjb250cm9sLCBmdWxsc2NyZWVuIHRvZ2dsZVxyXG4gKiBidXR0b24uXHJcbiAqL1xyXG52YXIgQ29udHJvbEJhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb250cm9sQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udHJvbEJhcihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY29udHJvbGJhcicsXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIENvbnRyb2xCYXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgLy8gQ291bnRzIGhvdyBtYW55IGNvbXBvbmVudHMgYXJlIGhvdmVyZWQgYW5kIGJsb2NrIGhpZGluZyBvZiB0aGUgY29udHJvbCBiYXJcclxuICAgICAgICB2YXIgaG92ZXJTdGFja0NvdW50ID0gMDtcclxuICAgICAgICAvLyBUcmFjayBob3ZlciBzdGF0dXMgb2YgY2hpbGQgY29tcG9uZW50c1xyXG4gICAgICAgIHVpdXRpbHNfMS5VSVV0aWxzLnRyYXZlcnNlVHJlZSh0aGlzLCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdCB0cmFjayBob3ZlciBzdGF0dXMgb2YgY2hpbGQgY29udGFpbmVycyBvciBzcGFjZXJzLCBvbmx5IG9mICdyZWFsJyBjb250cm9sc1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgY29udGFpbmVyXzEuQ29udGFpbmVyIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIHNwYWNlcl8xLlNwYWNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFN1YnNjcmliZSBob3ZlciBldmVudCBhbmQga2VlcCBhIGNvdW50IG9mIHRoZSBudW1iZXIgb2YgaG92ZXJlZCBjaGlsZHJlblxyXG4gICAgICAgICAgICBjb21wb25lbnQub25Ib3ZlckNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3ZlclN0YWNrQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyU3RhY2tDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblByZXZpZXdDb250cm9sc0hpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSBoaWRlIGV2ZW50IGlmIGhvdmVyZWQgY2hpbGQgY29tcG9uZW50cyBibG9jayBoaWRpbmdcclxuICAgICAgICAgICAgYXJncy5jYW5jZWwgPSAoaG92ZXJTdGFja0NvdW50ID4gMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udHJvbEJhcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5Db250cm9sQmFyID0gQ29udHJvbEJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgVUlVdGlscztcclxuKGZ1bmN0aW9uIChVSVV0aWxzKSB7XHJcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZVRyZWUoY29tcG9uZW50LCB2aXNpdCkge1xyXG4gICAgICAgIHZhciByZWN1cnNpdmVUcmVlV2Fsa2VyID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHZpc2l0KGNvbXBvbmVudCwgcGFyZW50KTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY29tcG9uZW50IGlzIGEgY29udGFpbmVyLCB2aXNpdCBpdCdzIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBjb250YWluZXJfMS5Db250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBjb21wb25lbnQuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVUcmVlV2Fsa2VyKGNoaWxkQ29tcG9uZW50LCBjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBXYWxrIGFuZCBjb25maWd1cmUgdGhlIGNvbXBvbmVudCB0cmVlXHJcbiAgICAgICAgcmVjdXJzaXZlVHJlZVdhbGtlcihjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgVUlVdGlscy50cmF2ZXJzZVRyZWUgPSB0cmF2ZXJzZVRyZWU7XHJcbn0pKFVJVXRpbHMgPSBleHBvcnRzLlVJVXRpbHMgfHwgKGV4cG9ydHMuVUlVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdWl1dGlscy50c1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG4vKipcclxuICogQSBkdW1teSBjb21wb25lbnQgdGhhdCBqdXN0IHJlc2VydmVzIHNvbWUgc3BhY2UgYW5kIGRvZXMgbm90aGluZyBlbHNlLlxyXG4gKi9cclxudmFyIFNwYWNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTcGFjZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTcGFjZXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNwYWNlcicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTcGFjZXIucHJvdG90eXBlLm9uU2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGRpc2FibGUgZXZlbnQgZmlyaW5nIGJ5IG92ZXJ3cml0aW5nIGFuZCBub3QgY2FsbGluZyBzdXBlclxyXG4gICAgfTtcclxuICAgIFNwYWNlci5wcm90b3R5cGUub25IaWRlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBldmVudCBmaXJpbmcgYnkgb3ZlcndyaXRpbmcgYW5kIG5vdCBjYWxsaW5nIHN1cGVyXHJcbiAgICB9O1xyXG4gICAgU3BhY2VyLnByb3RvdHlwZS5vbkhvdmVyQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKGhvdmVyZWQpIHtcclxuICAgICAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3BhY2VyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLlNwYWNlciA9IFNwYWNlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NwYWNlci50c1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGJveFwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vdmlkZW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9hdWRpb3F1YWxpdHlzZWxlY3Rib3hcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgcGFuZWwgY29udGFpbmluZyBhIGxpc3Qgb2Yge0BsaW5rIFNldHRpbmdzUGFuZWxJdGVtIGl0ZW1zfSB0aGF0IHJlcHJlc2VudCBsYWJlbGxlZCBzZXR0aW5ncy5cclxuICovXHJcbnZhciBTZXR0aW5nc1BhbmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNldHRpbmdzUGFuZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1BhbmVsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zZXR0aW5nc1BhbmVsRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvblNldHRpbmdzU3RhdGVDaGFuZ2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZXR0aW5ncy1wYW5lbCcsXHJcbiAgICAgICAgICAgIGhpZGVEZWxheTogMzAwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7IC8vIFRPRE8gZml4IGdlbmVyaWNzIHR5cGUgaW5mZXJlbmNlXHJcbiAgICAgICAgaWYgKGNvbmZpZy5oaWRlRGVsYXkgPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5oaWRlRGVsYXksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVIb3ZlcmVkU2VsZWN0Qm94ZXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBY3RpdmF0ZSB0aW1lb3V0IHdoZW4gc2hvd25cclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9uIG1vdXNlIGVudGVyIGNsZWFyIHRoZSB0aW1lb3V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbiBtb3VzZSBsZWF2ZSBhY3RpdmF0ZSB0aGUgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVRpbWVvdXQucmVzZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub25IaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0IHdoZW4gaGlkZGVuIGZyb20gb3V0c2lkZVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZpcmUgZXZlbnQgd2hlbiB0aGUgc3RhdGUgb2YgYSBzZXR0aW5ncy1pdGVtIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgdmFyIHNldHRpbmdzU3RhdGVDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25TZXR0aW5nc1N0YXRlQ2hhbmdlZEV2ZW50KCk7XHJcbiAgICAgICAgICAgIC8vIEF0dGFjaCBtYXJrZXIgY2xhc3MgdG8gbGFzdCB2aXNpYmxlIGl0ZW1cclxuICAgICAgICAgICAgdmFyIGxhc3RTaG93bkl0ZW0gPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0SXRlbXMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhTZXR0aW5nc1BhbmVsLkNMQVNTX0xBU1QpKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNob3duSXRlbSA9IGNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGFzdFNob3duSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdFNob3duSXRlbS5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFNldHRpbmdzUGFuZWwuQ0xBU1NfTEFTVCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRJdGVtcygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBjb21wb25lbnQub25BY3RpdmVDaGFuZ2VkLnN1YnNjcmliZShzZXR0aW5nc1N0YXRlQ2hhbmdlZEhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhhY2sgZm9yIElFICsgRmlyZWZveFxyXG4gICAgICogd2hlbiB0aGUgc2V0dGluZ3MgcGFuZWwgZmFkZXMgb3V0IHdoaWxlIGFuIGl0ZW0gb2YgYSBzZWxlY3QgYm94IGlzIHN0aWxsIGhvdmVyZWQsIHRoZSBzZWxlY3QgYm94IHdpbGwgbm90IGZhZGUgb3V0XHJcbiAgICAgKiB3aGlsZSB0aGUgc2V0dGluZ3MgcGFuZWwgZG9lcy4gVGhpcyB3b3VsZCBsZWF2ZSBhIGZsb2F0aW5nIHNlbGVjdCBib3gsIHdoaWNoIGlzIGp1c3Qgd2VpcmRcclxuICAgICAqL1xyXG4gICAgU2V0dGluZ3NQYW5lbC5wcm90b3R5cGUuaGlkZUhvdmVyZWRTZWxlY3RCb3hlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldEl0ZW1zKCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5pc0FjdGl2ZSgpICYmIGl0ZW0uc2V0dGluZyBpbnN0YW5jZW9mIHNlbGVjdGJveF8xLlNlbGVjdEJveCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdEJveF8xID0gaXRlbS5zZXR0aW5nO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZERpc3BsYXlfMSA9IHNlbGVjdEJveF8xLmdldERvbUVsZW1lbnQoKS5jc3MoJ2Rpc3BsYXknKTtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0aW5nIHRoZSBkaXNwbGF5IHRvIG5vbmUgbWFya3MgdGhlIHNlbGVjdC1ib3ggYXMgaW5hY3RpdmUsIHNvIGl0IHdpbGwgYmUgaGlkZGVuIHdpdGggdGhlIHJlc3RcclxuICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgaGF2ZSB0byBtYWtlIHN1cmUgdG8gcmVzZXQgdGhpcyBhcyBzb29uIGFzIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RCb3hfMS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgc2VsZWN0Qm94XzEuZ2V0RG9tRWxlbWVudCgpLmNzcygnZGlzcGxheScsIG9sZERpc3BsYXlfMSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSUU5IGhhcyBubyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHNldCB0aGUgdmFsdWUgZGlyZWN0bHkuIEl0IGhhcyBubyBvcHRpbWl6YXRpb24gYWJvdXQgaWdub3JpbmcgRE9NLWNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZXR3ZWVuIGFuaW1hdGlvbkZyYW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEJveF8xLmdldERvbUVsZW1lbnQoKS5jc3MoJ2Rpc3BsYXknLCBvbGREaXNwbGF5XzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2V0dGluZ3NQYW5lbC5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5oaWRlVGltZW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZXJlIGFyZSBhY3RpdmUgc2V0dGluZ3Mgd2l0aGluIHRoaXMgc2V0dGluZ3MgcGFuZWwuIEFuIGFjdGl2ZSBzZXR0aW5nIGlzIGEgc2V0dGluZyB0aGF0IGlzIHZpc2libGVcclxuICAgICAqIGFuZCBlbmFibGVkLCB3aGljaCB0aGUgdXNlciBjYW4gaW50ZXJhY3Qgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZXJlIGFyZSBhY3RpdmUgc2V0dGluZ3MsIGZhbHNlIGlmIHRoZSBwYW5lbCBpcyBmdW5jdGlvbmFsbHkgZW1wdHkgdG8gYSB1c2VyXHJcbiAgICAgKi9cclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLmhhc0FjdGl2ZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmdldEl0ZW1zKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoY29tcG9uZW50KSB7IHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBTZXR0aW5nc1BhbmVsSXRlbTsgfSk7XHJcbiAgICB9O1xyXG4gICAgU2V0dGluZ3NQYW5lbC5wcm90b3R5cGUub25TZXR0aW5nc1N0YXRlQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbEV2ZW50cy5vblNldHRpbmdzU3RhdGVDaGFuZ2VkLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXR0aW5nc1BhbmVsLnByb3RvdHlwZSwgXCJvblNldHRpbmdzU3RhdGVDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gb25lIG9yIG1vcmUge0BsaW5rIFNldHRpbmdzUGFuZWxJdGVtIGl0ZW1zfSBoYXZlIGNoYW5nZWQgc3RhdGUuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNldHRpbmdzUGFuZWwsIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzUGFuZWxFdmVudHMub25TZXR0aW5nc1N0YXRlQ2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgU2V0dGluZ3NQYW5lbC5DTEFTU19MQVNUID0gJ2xhc3QnO1xyXG4gICAgcmV0dXJuIFNldHRpbmdzUGFuZWw7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU2V0dGluZ3NQYW5lbCA9IFNldHRpbmdzUGFuZWw7XHJcbi8qKlxyXG4gKiBBbiBpdGVtIGZvciBhIHtAbGluayBTZXR0aW5nc1BhbmVsfSxcclxuICogQ29udGFpbmluZyBhbiBvcHRpb25uYWwge0BsaW5rIExhYmVsfSBhbmQgYSBjb21wb25lbnQgdGhhdCBjb25maWd1cmVzIGEgc2V0dGluZy5cclxuICogSWYgdGhlIGNvbXBvbmVudHMgaXMgYSB7QGxpbmsgU2VsZWN0Qm94fSBpdCB3aWxsIGhhbmRsZSB0aGUgbG9naWMgb2YgZGlzcGxheWluZyBpdCBvciBub3RcclxuICovXHJcbnZhciBTZXR0aW5nc1BhbmVsSXRlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXR0aW5nc1BhbmVsSXRlbSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNldHRpbmdzUGFuZWxJdGVtKGxhYmVsLCBzZXR0aW5nLCBjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbEl0ZW1FdmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uQWN0aXZlQ2hhbmdlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZyA9IHNldHRpbmc7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3MtcGFuZWwtaXRlbScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICBpZiAobGFiZWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGxhYmVsIGluc3RhbmNlb2YgY29tcG9uZW50XzEuQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IHRleHQ6IGxhYmVsIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmFkZENvbXBvbmVudChfdGhpcy5sYWJlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90aGlzLmFkZENvbXBvbmVudChfdGhpcy5zZXR0aW5nKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1BhbmVsSXRlbS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nIGluc3RhbmNlb2Ygc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVDb25maWdJdGVtQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnNldHRpbmcgaW5zdGFuY2VvZiBzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIG1pbmltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgbXVzdCBiZSBhdmFpbGFibGUgZm9yIHRoZSBzZXR0aW5nIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgYXQgbGVhc3QgdHdvIGl0ZW1zIG11c3QgYmUgYXZhaWxhYmxlLCBlbHNlIGEgc2VsZWN0aW9uIGlzIG5vdCBwb3NzaWJsZVxyXG4gICAgICAgICAgICAgICAgdmFyIG1pbkl0ZW1zVG9EaXNwbGF5ID0gMjtcclxuICAgICAgICAgICAgICAgIC8vIEF1ZGlvL3ZpZGVvIHF1YWxpdHkgc2VsZWN0IGJveGVzIGNvbnRhaW4gYW4gYWRkaXRpb25hbCAnYXV0bycgbW9kZSwgd2hpY2ggaW4gY29tYmluYXRpb24gd2l0aCBhIHNpbmdsZVxyXG4gICAgICAgICAgICAgICAgLy8gYXZhaWxhYmxlIHF1YWxpdHkgYWxzbyBkb2VzIG5vdCBtYWtlIHNlbnNlXHJcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzLnNldHRpbmcgaW5zdGFuY2VvZiB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMS5WaWRlb1F1YWxpdHlTZWxlY3RCb3ggJiYgX3RoaXMuc2V0dGluZy5oYXNBdXRvSXRlbSgpKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IF90aGlzLnNldHRpbmcgaW5zdGFuY2VvZiBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3gpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW5JdGVtc1RvRGlzcGxheSA9IDM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBzZXR0aW5nIGlmIG5vIG1lYW5pbmdmdWwgY2hvaWNlIGlzIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmcuaXRlbUNvdW50KCkgPCBtaW5JdGVtc1RvRGlzcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFZpc2liaWxpdHkgbWlnaHQgaGF2ZSBjaGFuZ2VkIGFuZCB0aGVyZWZvcmUgdGhlIGFjdGl2ZSBzdGF0ZSBtaWdodCBoYXZlIGNoYW5nZWQgc28gd2UgZmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gZmlyZSBvbmx5IHdoZW4gc3RhdGUgaGFzIHJlYWxseSBjaGFuZ2VkIChlLmcuIGNoZWNrIGlmIHZpc2liaWxpdHkgaGFzIHJlYWxseSBjaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgX3RoaXMub25BY3RpdmVDaGFuZ2VkRXZlbnQoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nLm9uSXRlbUFkZGVkLnN1YnNjcmliZShoYW5kbGVDb25maWdJdGVtQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZy5vbkl0ZW1SZW1vdmVkLnN1YnNjcmliZShoYW5kbGVDb25maWdJdGVtQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgaGlkZGVuIHN0YXRlXHJcbiAgICAgICAgICAgIGhhbmRsZUNvbmZpZ0l0ZW1DaGFuZ2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgc2V0dGluZ3MgcGFuZWwgaXRlbSBpcyBhY3RpdmUsIGkuZS4gdmlzaWJsZSBhbmQgZW5hYmxlZCBhbmQgYSB1c2VyIGNhbiBpbnRlcmFjdCB3aXRoIGl0LlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHBhbmVsIGlzIGFjdGl2ZSwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBTZXR0aW5nc1BhbmVsSXRlbS5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTaG93bigpO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWxJdGVtLnByb3RvdHlwZS5vbkFjdGl2ZUNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzLm9uQWN0aXZlQ2hhbmdlZC5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0dGluZ3NQYW5lbEl0ZW0ucHJvdG90eXBlLCBcIm9uQWN0aXZlQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSAnYWN0aXZlJyBzdGF0ZSBvZiB0aGlzIGl0ZW0gY2hhbmdlcy5cclxuICAgICAgICAgKiBAc2VlICNpc0FjdGl2ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZXR0aW5nc1BhbmVsSXRlbSwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3NQYW5lbEl0ZW1FdmVudHMub25BY3RpdmVDaGFuZ2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gU2V0dGluZ3NQYW5lbEl0ZW07XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU2V0dGluZ3NQYW5lbEl0ZW0gPSBTZXR0aW5nc1BhbmVsSXRlbTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzcGFuZWwudHNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gYmV0d2VlbiAnYXV0bycgYW5kIHRoZSBhdmFpbGFibGUgdmlkZW8gcXVhbGl0aWVzLlxyXG4gKi9cclxudmFyIFZpZGVvUXVhbGl0eVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWaWRlb1F1YWxpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWaWRlb1F1YWxpdHlTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWaWRlb1F1YWxpdHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjMuMVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwbGF5ZXIuZ2V0VmlkZW9RdWFsaXR5KCkuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIHBsYXllcnMgPD0gNy4zLjBcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBwbGF5ZXIuZ2V0RG93bmxvYWRlZFZpZGVvRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShkYXRhLmlzQXV0byA/ICdhdXRvJyA6IGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdXBkYXRlVmlkZW9RdWFsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWRlb1F1YWxpdGllcyA9IHBsYXllci5nZXRBdmFpbGFibGVWaWRlb1F1YWxpdGllcygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIFByb2dyZXNzaXZlIHN0cmVhbXMgZG8gbm90IHN1cHBvcnQgYXV0b21hdGljIHF1YWxpdHkgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLmhhc0F1dG8gPSBwbGF5ZXIuZ2V0U3RyZWFtVHlwZSgpICE9PSAncHJvZ3Jlc3NpdmUnO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzQXV0bykge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGVudHJ5IGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzd2l0Y2hpbmcgKGRlZmF1bHQgc2V0dGluZylcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oJ2F1dG8nLCAnYXV0bycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFkZCB2aWRlbyBxdWFsaXRpZXNcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB2aWRlb1F1YWxpdGllc18xID0gdmlkZW9RdWFsaXRpZXM7IF9pIDwgdmlkZW9RdWFsaXRpZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1F1YWxpdHkgPSB2aWRlb1F1YWxpdGllc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0odmlkZW9RdWFsaXR5LmlkLCB2aWRlb1F1YWxpdHkubGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBpbml0aWFsIHF1YWxpdHlcclxuICAgICAgICAgICAgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFZpZGVvUXVhbGl0eSh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0eSBzZWxlY3Rpb24gd2hlbiBxdWFsaXR5IGlzIGNoYW5nZWQgKGZyb20gb3V0c2lkZSlcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1ZJREVPX1FVQUxJVFlfQ0hBTkdFRCkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSBwbGF5ZXIgNy4zLjFcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVklERU9fUVVBTElUWV9DSEFOR0VELCBzZWxlY3RDdXJyZW50VmlkZW9RdWFsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwbGF5ZXJzIDw9IDcuMy4wXHJcbiAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WSURFT19ET1dOTE9BRF9RVUFMSVRZX0NIQU5HRSwgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZWxlY3QgYm94IGNvbnRhaW5zIGFuICdhdXRvJyBpdGVtIGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzZWxlY3Rpb24gbW9kZS5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuaGFzQXV0b0l0ZW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQXV0bztcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmlkZW9RdWFsaXR5U2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlZpZGVvUXVhbGl0eVNlbGVjdEJveCA9IFZpZGVvUXVhbGl0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBiZXR3ZWVuICdhdXRvJyBhbmQgdGhlIGF2YWlsYWJsZSBhdWRpbyBxdWFsaXRpZXMuXHJcbiAqL1xyXG52YXIgQXVkaW9RdWFsaXR5U2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEF1ZGlvUXVhbGl0eVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEF1ZGlvUXVhbGl0eVNlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQXVkaW9RdWFsaXR5U2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzZWxlY3RDdXJyZW50QXVkaW9RdWFsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmdldEF1ZGlvUXVhbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuMy4xXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHBsYXllci5nZXRBdWRpb1F1YWxpdHkoKS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcGxheWVycyA8PSA3LjMuMFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgaW4gbmV4dCBtYWpvciByZWxlYXNlXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHBsYXllci5nZXREb3dubG9hZGVkQXVkaW9EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKGRhdGEuaXNBdXRvID8gJ2F1dG8nIDogZGF0YS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVBdWRpb1F1YWxpdGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGF1ZGlvUXVhbGl0aWVzID0gcGxheWVyLmdldEF2YWlsYWJsZUF1ZGlvUXVhbGl0aWVzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGVudHJ5IGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzd2l0Y2hpbmcgKGRlZmF1bHQgc2V0dGluZylcclxuICAgICAgICAgICAgX3RoaXMuYWRkSXRlbSgnYXV0bycsICdhdXRvJyk7XHJcbiAgICAgICAgICAgIC8vIEFkZCBhdWRpbyBxdWFsaXRpZXNcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBhdWRpb1F1YWxpdGllc18xID0gYXVkaW9RdWFsaXRpZXM7IF9pIDwgYXVkaW9RdWFsaXRpZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb1F1YWxpdHkgPSBhdWRpb1F1YWxpdGllc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oYXVkaW9RdWFsaXR5LmlkLCBhdWRpb1F1YWxpdHkubGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBpbml0aWFsIHF1YWxpdHlcclxuICAgICAgICAgICAgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldEF1ZGlvUXVhbGl0eSh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIGF1ZGlvIHRyYWNrIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQVVESU9fQ0hBTkdFRCwgdXBkYXRlQXVkaW9RdWFsaXRpZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgdXBkYXRlQXVkaW9RdWFsaXRpZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiB0aGUgcGVyaW9kIHdpdGhpbiBhIHNvdXJjZSBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEVSSU9EX1NXSVRDSEVELCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdHkgc2VsZWN0aW9uIHdoZW4gcXVhbGl0eSBpcyBjaGFuZ2VkIChmcm9tIG91dHNpZGUpXHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9BVURJT19RVUFMSVRZX0NIQU5HRUQpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuMy4xXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX1FVQUxJVFlfQ0hBTkdFRCwgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcGxheWVycyA8PSA3LjMuMFxyXG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHJlbGVhc2VcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQVVESU9fRE9XTkxPQURfUVVBTElUWV9DSEFOR0UsIHNlbGVjdEN1cnJlbnRBdWRpb1F1YWxpdHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQXVkaW9RdWFsaXR5U2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCA9IEF1ZGlvUXVhbGl0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4uL2J1dHRvblwiKTtcclxudmFyIFN1YnRpdGxlU2V0dGluZ3NCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nc0J1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2V0dGluZ3NCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IGNvbmZpZy5zdWJ0aXRsZVNldHRpbmdzUGFuZWw7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbCA9IGNvbmZpZy5zZXR0aW5nc1BhbmVsO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NCdXR0b24gPSBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2Vla2Jhcl8xID0gcmVxdWlyZShcIi4vc2Vla2JhclwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIHZvbHVtZSBzbGlkZXIgY29tcG9uZW50IHRvIGFkanVzdCB0aGUgcGxheWVyJ3Mgdm9sdW1lIHNldHRpbmcuXHJcbiAqL1xyXG52YXIgVm9sdW1lU2xpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZvbHVtZVNsaWRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZVNsaWRlcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lc2xpZGVyJyxcclxuICAgICAgICAgICAgaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQ6IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlciwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIGlmIChjb25maWcuaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQgJiYgIXRoaXMuZGV0ZWN0Vm9sdW1lQ29udHJvbEF2YWlsYWJpbGl0eSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyBXZSBjYW4ganVzdCByZXR1cm4gZnJvbSBoZXJlLCBiZWNhdXNlIHRoZSB1c2VyIHdpbGwgbmV2ZXIgaW50ZXJhY3Qgd2l0aCB0aGUgY29udHJvbCBhbmQgYW55IGNvbmZpZ3VyZWRcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbGl0eSB3b3VsZCBvbmx5IGVhdCByZXNvdXJjZXMgZm9yIG5vIHJlYXNvbi5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdm9sdW1lQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXllci5nZXRWb2x1bWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WT0xVTUVfQ0hBTkdFRCwgdm9sdW1lQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1VOTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNjcnViYmluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZShhcmdzLnBvc2l0aW9uLCBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHBlcmNlbnRhZ2UsIFZvbHVtZVNsaWRlci5pc3N1ZXJOYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBzbGlkZXIgbWFya2VyIHdoZW4gdGhlIHBsYXllciByZXNpemVkLCBhIHNvdXJjZSBpcyBsb2FkZWQgYW5kIHBsYXllciBpcyByZWFkeSxcclxuICAgICAgICAvLyBvciB0aGUgVUkgaXMgY29uZmlndXJlZC4gQ2hlY2sgdGhlIHNlZWtiYXIgZm9yIGEgZGV0YWlsZWQgZGVzY3JpcHRpb24uXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgdm9sdW1lIGJhclxyXG4gICAgICAgIHZvbHVtZUNoYW5nZUhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBcIk9uIGlPUyBkZXZpY2VzLCB0aGUgYXVkaW8gbGV2ZWwgaXMgYWx3YXlzIHVuZGVyIHRoZSB1c2Vy4oCZcyBwaHlzaWNhbCBjb250cm9sLiBUaGUgdm9sdW1lIHByb3BlcnR5IGlzIG5vdFxyXG4gICAgICAgICAqIHNldHRhYmxlIGluIEphdmFTY3JpcHQuIFJlYWRpbmcgdGhlIHZvbHVtZSBwcm9wZXJ0eSBhbHdheXMgcmV0dXJucyAxLlwiXHJcbiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL0F1ZGlvVmlkZW8vQ29uY2VwdHVhbC9Vc2luZ19IVE1MNV9BdWRpb19WaWRlby9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy5odG1sXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLy8gYXMgbXV0ZWQgYXV0b3BsYXkgZ2V0cyBwYXVzZWQgYXMgc29vbiBhcyB3ZSB1bm11dGUgaXQsIHdlIG1heSBub3QgdG91Y2ggdGhlIHZvbHVtZSBvZiB0aGUgYWN0dWFsIHBsYXllciBzbyB3ZVxyXG4gICAgICAgIC8vIHByb2JlIGEgZHVtbXkgYXVkaW8gZWxlbWVudFxyXG4gICAgICAgIHZhciBkdW1teVZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICAgICAgLy8gdHJ5IHNldHRpbmcgdGhlIHZvbHVtZSB0byAwLjcgYW5kIGlmIGl0J3Mgc3RpbGwgMSB3ZSBhcmUgb24gYSB2b2x1bWUgY29udHJvbCByZXN0cmljdGVkIGRldmljZVxyXG4gICAgICAgIGR1bW15VmlkZW9FbGVtZW50LnZvbHVtZSA9IDAuNztcclxuICAgICAgICByZXR1cm4gZHVtbXlWaWRlb0VsZW1lbnQudm9sdW1lICE9PSAxO1xyXG4gICAgfTtcclxuICAgIFZvbHVtZVNsaWRlci5pc3N1ZXJOYW1lID0gJ3VpJztcclxuICAgIHJldHVybiBWb2x1bWVTbGlkZXI7XHJcbn0oc2Vla2Jhcl8xLlNlZWtCYXIpKTtcclxuZXhwb3J0cy5Wb2x1bWVTbGlkZXIgPSBWb2x1bWVTbGlkZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVzbGlkZXIudHNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbi8qKlxyXG4gKiBFbnVtZXJhdGVzIHRoZSB0eXBlcyBvZiBjb250ZW50IHRoYXQgdGhlIHtAbGluayBNZXRhZGF0YUxhYmVsfSBjYW4gZGlzcGxheS5cclxuICovXHJcbnZhciBNZXRhZGF0YUxhYmVsQ29udGVudDtcclxuKGZ1bmN0aW9uIChNZXRhZGF0YUxhYmVsQ29udGVudCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaXRsZSBvZiB0aGUgZGF0YSBzb3VyY2UuXHJcbiAgICAgKi9cclxuICAgIE1ldGFkYXRhTGFiZWxDb250ZW50W01ldGFkYXRhTGFiZWxDb250ZW50W1wiVGl0bGVcIl0gPSAwXSA9IFwiVGl0bGVcIjtcclxuICAgIC8qKlxyXG4gICAgICogRGVzY3JpcHRpb24gZm8gdGhlIGRhdGEgc291cmNlLlxyXG4gICAgICovXHJcbiAgICBNZXRhZGF0YUxhYmVsQ29udGVudFtNZXRhZGF0YUxhYmVsQ29udGVudFtcIkRlc2NyaXB0aW9uXCJdID0gMV0gPSBcIkRlc2NyaXB0aW9uXCI7XHJcbn0pKE1ldGFkYXRhTGFiZWxDb250ZW50ID0gZXhwb3J0cy5NZXRhZGF0YUxhYmVsQ29udGVudCB8fCAoZXhwb3J0cy5NZXRhZGF0YUxhYmVsQ29udGVudCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBIGxhYmVsIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gZGlzcGxheSBjZXJ0YWluIG1ldGFkYXRhLlxyXG4gKi9cclxudmFyIE1ldGFkYXRhTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTWV0YWRhdGFMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE1ldGFkYXRhTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2xhYmVsLW1ldGFkYXRhJywgJ2xhYmVsLW1ldGFkYXRhLScgKyBNZXRhZGF0YUxhYmVsQ29udGVudFtjb25maWcuY29udGVudF0udG9Mb3dlckNhc2UoKV0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBNZXRhZGF0YUxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciB1aWNvbmZpZyA9IHVpbWFuYWdlci5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjb25maWcuY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZTpcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KHVpY29uZmlnLm1ldGFkYXRhLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGFMYWJlbENvbnRlbnQuRGVzY3JpcHRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dCh1aWNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1bmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFRleHQobnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBJbml0IGxhYmVsXHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgIC8vIFJlaW5pdCBsYWJlbCB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfTE9BREVELCBpbml0KTtcclxuICAgICAgICAvLyBDbGVhciBsYWJlbHMgd2hlbiBzb3VyY2UgaXMgdW5sb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVubG9hZCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1ldGFkYXRhTGFiZWw7XHJcbn0obGFiZWxfMS5MYWJlbCkpO1xyXG5leHBvcnRzLk1ldGFkYXRhTGFiZWwgPSBNZXRhZGF0YUxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbWV0YWRhdGFsYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBjbGljayBvdmVybGF5IHRoYXQgb3BlbnMgYW4gdXJsIGluIGEgbmV3IHRhYiBpZiBjbGlja2VkLlxyXG4gKi9cclxudmFyIENsaWNrT3ZlcmxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbGlja092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbGlja092ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNsaWNrb3ZlcmxheScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRVcmwodGhpcy5jb25maWcudXJsKTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kYXRhKCd1cmwnKSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudC5kYXRhKCd1cmwnKSwgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBVUkwgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgd2hlbiB0aGUgd2F0ZXJtYXJrIGlzIGNsaWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgd2F0ZXJtYXJrIFVSTFxyXG4gICAgICovXHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YSgndXJsJyk7XHJcbiAgICB9O1xyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKCd1cmwnLCB1cmwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGlja092ZXJsYXk7XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xpY2tPdmVybGF5ID0gQ2xpY2tPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUHJlZmVycmVkVGVjaDtcclxuKGZ1bmN0aW9uIChQcmVmZXJyZWRUZWNoKSB7XHJcbiAgICBQcmVmZXJyZWRUZWNoW1wiREVGQVVMVFwiXSA9IFwiZGVmYXVsdFwiO1xyXG4gICAgUHJlZmVycmVkVGVjaFtcIkhJVkVcIl0gPSBcImhpdmVcIjtcclxufSkoUHJlZmVycmVkVGVjaCA9IGV4cG9ydHMuUHJlZmVycmVkVGVjaCB8fCAoZXhwb3J0cy5QcmVmZXJyZWRUZWNoID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9wcmVmZXJyZWQtdGVjaC50eXBlcy50c1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxyXG4gKi9cclxudmFyIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWZ1bGxzY3JlZW50b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnRnVsbHNjcmVlbicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVCwgZnVsbHNjcmVlblN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5leGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RhcnR1cCBpbml0XHJcbiAgICAgICAgZnVsbHNjcmVlblN0YXRlSGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSB2aWRlbyB2aWV3IGJldHdlZW4gbm9ybWFsL21vbm8gYW5kIFZSL3N0ZXJlby5cclxuICovXHJcbnZhciBWUlRvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWUlRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZSVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS12cnRvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWUicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWUlRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgaXNWUkNvbmZpZ3VyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFZSIGF2YWlsYWJpbGl0eSBjYW5ub3QgYmUgY2hlY2tlZCB0aHJvdWdoIGdldFZSU3RhdHVzKCkgYmVjYXVzZSBpdCBpcyBhc3luY2hyb25vdXNseSBwb3B1bGF0ZWQgYW5kIG5vdFxyXG4gICAgICAgICAgICAvLyBhdmFpbGFibGUgYXQgVUkgaW5pdGlhbGl6YXRpb24uIEFzIGFuIGFsdGVybmF0aXZlLCB3ZSBjaGVjayB0aGUgVlIgc2V0dGluZ3MgaW4gdGhlIGNvbmZpZy5cclxuICAgICAgICAgICAgLy8gVE9ETyB1c2UgZ2V0VlJTdGF0dXMoKSB0aHJvdWdoIGlzVlJTdGVyZW9BdmFpbGFibGUoKSBvbmNlIHRoZSBwbGF5ZXIgaGFzIGJlZW4gcmV3cml0dGVuIGFuZCB0aGUgc3RhdHVzIGlzXHJcbiAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBpbiBPTl9SRUFEWVxyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gcGxheWVyLmdldENvbmZpZygpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnNvdXJjZSAmJiBjb25maWcuc291cmNlLnZyICYmIGNvbmZpZy5zb3VyY2UudnIuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBpc1ZSU3RlcmVvQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxheWVyLmdldFZSU3RhdHVzKCkuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB2clN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkgJiYgaXNWUlN0ZXJlb0F2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7IC8vIHNob3cgYnV0dG9uIGluIGNhc2UgaXQgaXMgaGlkZGVuXHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldFZSU3RhdHVzKCkuaXNTdGVyZW8pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7IC8vIGhpZGUgYnV0dG9uIGlmIG5vIHN0ZXJlbyBtb2RlIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfTU9ERV9DSEFOR0VELCB2clN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfU1RFUkVPX0NIQU5HRUQsIHZyU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WUl9FUlJPUiwgdnJTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoZW4gVlIgc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2hvdyBidXR0b24gd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkIGFuZCBpdCdzIFZSXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHZyQnV0dG9uVmlzaWJpbGl0eUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVlJTdGVyZW9BdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gVlIgY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWUlN0YXR1cygpLmlzU3RlcmVvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFZSU3RlcmVvKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRWUlN0ZXJlbyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNldCBzdGFydHVwIHZpc2liaWxpdHlcclxuICAgICAgICB2ckJ1dHRvblZpc2liaWxpdHlIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZSVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlZSVG9nZ2xlQnV0dG9uID0gVlJUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHBsYXllcnV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGxheWVydXRpbHNcIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4uL3N0cmluZ3V0aWxzXCIpO1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWxNb2RlO1xyXG4oZnVuY3Rpb24gKFBsYXliYWNrVGltZUxhYmVsTW9kZSkge1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRUaW1lXCJdID0gMF0gPSBcIkN1cnJlbnRUaW1lXCI7XHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbE1vZGVbUGxheWJhY2tUaW1lTGFiZWxNb2RlW1wiVG90YWxUaW1lXCJdID0gMV0gPSBcIlRvdGFsVGltZVwiO1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRBbmRUb3RhbFRpbWVcIl0gPSAyXSA9IFwiQ3VycmVudEFuZFRvdGFsVGltZVwiO1xyXG59KShQbGF5YmFja1RpbWVMYWJlbE1vZGUgPSBleHBvcnRzLlBsYXliYWNrVGltZUxhYmVsTW9kZSB8fCAoZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbE1vZGUgPSB7fSkpO1xyXG4vKipcclxuICogQSBsYWJlbCB0aGF0IGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBhbmQgdGhlIHRvdGFsIHRpbWUgdGhyb3VnaCB7QGxpbmsgUGxheWJhY2tUaW1lTGFiZWwjc2V0VGltZSBzZXRUaW1lfVxyXG4gKiBvciBhbnkgc3RyaW5nIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRleHQgc2V0VGV4dH0uXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUaW1lTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQbGF5YmFja1RpbWVMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0aW1lbGFiZWwnLFxyXG4gICAgICAgICAgICB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudEFuZFRvdGFsVGltZSxcclxuICAgICAgICAgICAgaGlkZUluTGl2ZVBsYXliYWNrOiBmYWxzZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBsYXliYWNrVGltZUxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciBsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGxpdmVDc3NDbGFzcyA9IHRoaXMucHJlZml4Q3NzKCd1aS1wbGF5YmFja3RpbWVsYWJlbC1saXZlJyk7XHJcbiAgICAgICAgdmFyIGxpdmVFZGdlQ3NzQ2xhc3MgPSB0aGlzLnByZWZpeENzcygndWktcGxheWJhY2t0aW1lbGFiZWwtbGl2ZS1lZGdlJyk7XHJcbiAgICAgICAgdmFyIG1pbldpZHRoID0gMDtcclxuICAgICAgICB2YXIgbGl2ZUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnRpbWVTaGlmdCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVMaXZlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXllciBpcyBwbGF5aW5nIGEgbGl2ZSBzdHJlYW0gd2hlbiB0aGUgZHVyYXRpb24gaXMgaW5maW5pdGVcclxuICAgICAgICAgICAgbGl2ZSA9IHBsYXllci5pc0xpdmUoKTtcclxuICAgICAgICAgICAgLy8gQXR0YWNoL2RldGFjaCBsaXZlIG1hcmtlciBjbGFzc1xyXG4gICAgICAgICAgICBpZiAobGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGxpdmVDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KCdMaXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmhpZGVJbkxpdmVQbGF5YmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGxpdmVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhsaXZlRWRnZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2sudW5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRoZSBwbGF5ZXIgaXMgb25seSBhdCB0aGUgbGl2ZSBlZGdlIGlmZiB0aGUgc3RyZWFtIGlzIG5vdCBzaGlmdGVkIGFuZCBpdCBpcyBhY3R1YWxseSBwbGF5aW5nIG9yIHBsYXliYWNrIGhhc1xyXG4gICAgICAgICAgICAvLyBuZXZlciBiZWVuIHN0YXJ0ZWQgKG1lYW5pbmcgaXQgaXNuJ3QgcGF1c2VkKS4gQSBwbGF5ZXIgdGhhdCBpcyBwYXVzZWQgaXMgYWx3YXlzIGJlaGluZCB0aGUgbGl2ZSBlZGdlLlxyXG4gICAgICAgICAgICAvLyBBbiBleGNlcHRpb24gaXMgbWFkZSBmb3IgbGl2ZSBzdHJlYW1zIHdpdGhvdXQgYSB0aW1lc2hpZnQgd2luZG93LCBiZWNhdXNlIGhlcmUgd2UgXCJzdG9wXCIgcGxheWJhY2sgaW5zdGVhZFxyXG4gICAgICAgICAgICAvLyBvZiBwYXVzaW5nIGl0IChmcm9tIGEgVUkgcGVyc3BlY3RpdmUpLCBzbyB3ZSBrZWVwIHRoZSBsaXZlIGVkZ2UgaW5kaWNhdG9yIG9uIGJlY2F1c2UgYSBwbGF5IHdvdWxkIGFsd2F5c1xyXG4gICAgICAgICAgICAvLyByZXN1bWUgYXQgdGhlIGxpdmUgZWRnZS5cclxuICAgICAgICAgICAgdmFyIGlzVGltZXNoaWZ0ZWQgPSBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkgPCAwO1xyXG4gICAgICAgICAgICB2YXIgaXNUaW1lc2hpZnRBdmFpbGFibGUgPSBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPCAwO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZXNoaWZ0ZWQgJiYgKCFwbGF5ZXIuaXNQYXVzZWQoKSB8fCAhaXNUaW1lc2hpZnRBdmFpbGFibGUpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBsaXZlU3RyZWFtRGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBsaXZlID0gYXJncy5saXZlO1xyXG4gICAgICAgICAgICB1cGRhdGVMaXZlU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgdmFyIHBsYXliYWNrVGltZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbGl2ZSAmJiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUocGxheWVyLmdldEN1cnJlbnRUaW1lKCksIHBsYXllci5nZXREdXJhdGlvbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUbyBhdm9pZCAnanVtcGluZycgaW4gdGhlIFVJIGJ5IHZhcnlpbmcgbGFiZWwgc2l6ZXMgZHVlIHRvIG5vbi1tb25vc3BhY2VkIGZvbnRzLFxyXG4gICAgICAgICAgICAvLyB3ZSBncmFkdWFsbHkgaW5jcmVhc2UgdGhlIG1pbi13aWR0aCB3aXRoIHRoZSBjb250ZW50IHRvIHJlYWNoIGEgc3RhYmxlIHNpemUuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS53aWR0aCgpO1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPiBtaW5XaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgbWluV2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBtaW5XaWR0aCArICdweCcsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZULCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlRFRCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcclxuICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUmVzZXQgbWluLXdpZHRoIHdoZW4gYSBuZXcgc291cmNlIGlzIHJlYWR5IChlc3BlY2lhbGx5IGZvciBzd2l0Y2hpbmcgVk9EL0xpdmUgbW9kZXMgd2hlcmUgdGhlIGxhYmVsIGNvbnRlbnRcclxuICAgICAgICAgICAgLy8gY2hhbmdlcylcclxuICAgICAgICAgICAgbWluV2lkdGggPSAwO1xyXG4gICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBudWxsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gU2V0IHRpbWUgZm9ybWF0IGRlcGVuZGluZyBvbiBzb3VyY2UgZHVyYXRpb25cclxuICAgICAgICAgICAgX3RoaXMudGltZUZvcm1hdCA9IE1hdGguYWJzKHBsYXllci5pc0xpdmUoKSA/IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA6IHBsYXllci5nZXREdXJhdGlvbigpKSA+PSAzNjAwID9cclxuICAgICAgICAgICAgICAgIHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA6IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX01NU1M7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aW1lIGFmdGVyIHRoZSBmb3JtYXQgaGFzIGJlZW4gc2V0XHJcbiAgICAgICAgICAgIHBsYXliYWNrVGltZUhhbmRsZXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBpbml0KTtcclxuICAgICAgICBpbml0KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRvdGFsIGR1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtIHBsYXliYWNrU2Vjb25kcyB0aGUgY3VycmVudCBwbGF5YmFjayB0aW1lIGluIHNlY29uZHNcclxuICAgICAqIEBwYXJhbSBkdXJhdGlvblNlY29uZHMgdGhlIHRvdGFsIGR1cmF0aW9uIGluIHNlY29uZHNcclxuICAgICAqL1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLnNldFRpbWUgPSBmdW5jdGlvbiAocGxheWJhY2tTZWNvbmRzLCBkdXJhdGlvblNlY29uZHMpIHtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUocGxheWJhY2tTZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpO1xyXG4gICAgICAgIHZhciB0b3RhbFRpbWUgPSBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUoZHVyYXRpb25TZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcudGltZUxhYmVsTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChcIlwiICsgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChcIlwiICsgdG90YWxUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KGN1cnJlbnRUaW1lICsgXCIgLyBcIiArIHRvdGFsVGltZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRpbWUgZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gdGltZUZvcm1hdCB0aGUgdGltZSBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLnNldFRpbWVGb3JtYXQgPSBmdW5jdGlvbiAodGltZUZvcm1hdCkge1xyXG4gICAgICAgIHRoaXMudGltZUZvcm1hdCA9IHRpbWVGb3JtYXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXliYWNrVGltZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxuZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbCA9IFBsYXliYWNrVGltZUxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGEgc2V0dGluZ3MgcGFuZWwuXHJcbiAqL1xyXG52YXIgU2V0dGluZ3NUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2V0dGluZ3NUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1RvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKCFjb25maWcuc2V0dGluZ3NQYW5lbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIFNldHRpbmdzUGFuZWwgaXMgbWlzc2luZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZXR0aW5nc3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdTZXR0aW5ncycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IG51bGwsXHJcbiAgICAgICAgICAgIGF1dG9IaWRlV2hlbk5vQWN0aXZlU2V0dGluZ3M6IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTsgLy8gVE9ETyBmaXggZ2VuZXJpY3MgdHlwZSBpbmZlcmVuY2VcclxuICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IGNvbmZpZy5zZXR0aW5nc1BhbmVsO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLnRvZ2dsZUhpZGRlbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldHRpbmdzUGFuZWwub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0b2dnbGUgc3RhdHVzIHRvIG9uIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIHNob3dzXHJcbiAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0dGluZ3NQYW5lbC5vbkhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRvZ2dsZSBzdGF0dXMgdG8gb2ZmIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIGhpZGVzXHJcbiAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhhbmRsZSBhdXRvbWF0aWMgaGlkaW5nIG9mIHRoZSBidXR0b24gaWYgdGhlcmUgYXJlIG5vIHNldHRpbmdzIGZvciB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoXHJcbiAgICAgICAgaWYgKGNvbmZpZy5hdXRvSGlkZVdoZW5Ob0FjdGl2ZVNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIFNldHVwIGhhbmRsZXIgdG8gc2hvdy9oaWRlIGJ1dHRvbiB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2VcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWxJdGVtc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzUGFuZWwuaGFzQWN0aXZlU2V0dGluZ3MoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFdpcmUgdGhlIGhhbmRsZXIgdG8gdGhlIGV2ZW50XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwub25TZXR0aW5nc1N0YXRlQ2hhbmdlZC5zdWJzY3JpYmUoc2V0dGluZ3NQYW5lbEl0ZW1zQ2hhbmdlZEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAvLyBDYWxsIGhhbmRsZXIgZm9yIGZpcnN0IGluaXQgYXQgc3RhcnR1cFxyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsSXRlbXNDaGFuZ2VkSGFuZGxlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2V0dGluZ3NUb2dnbGVCdXR0b247XHJcbn0odG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuU2V0dGluZ3NUb2dnbGVCdXR0b24gPSBTZXR0aW5nc1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vYXJyYXl1dGlsc1wiKTtcclxudmFyIExpc3RTZWxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMaXN0U2VsZWN0b3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBMaXN0U2VsZWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxpc3RTZWxlY3RvckV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25JdGVtQWRkZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25JdGVtUmVtb3ZlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3RlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1saXN0c2VsZWN0b3InLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMuaXRlbXMgPSBfdGhpcy5jb25maWcuaXRlbXM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLml0ZW1zW2luZGV4XS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgaXRlbSBpcyBwYXJ0IG9mIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBpdGVtIGlzIHBhcnQgb2YgdGhpcyBzZWxlY3RvciwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmhhc0l0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUluZGV4KGtleSkgPiAtMTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGlzIHNlbGVjdG9yIGJ5IGFwcGVuZGluZyBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIGl0ZW1zLiBJZiBhbiBpdGVtIHdpdGggdGhlIHNwZWNpZmllZFxyXG4gICAgICoga2V5IGFscmVhZHkgZXhpc3RzLCBpdCBpcyByZXBsYWNlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqIEBwYXJhbSBsYWJlbCB0aGUgKGh1bWFuLXJlYWRhYmxlKSBsYWJlbCBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5hZGRJdGVtID0gZnVuY3Rpb24gKGtleSwgbGFiZWwpIHtcclxuICAgICAgICB2YXIgbGlzdEl0ZW0gPSB7IGtleToga2V5LCBsYWJlbDogbGFiZWwgfTtcclxuICAgICAgICAvLyBBcHBseSBmaWx0ZXIgZnVuY3Rpb25cclxuICAgICAgICBpZiAodGhpcy5jb25maWcuZmlsdGVyICYmICF0aGlzLmNvbmZpZy5maWx0ZXIobGlzdEl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwbHkgdHJhbnNsYXRvciBmdW5jdGlvblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50cmFuc2xhdG9yKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmxhYmVsID0gdGhpcy5jb25maWcudHJhbnNsYXRvcihsaXN0SXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpOyAvLyBUcnkgdG8gcmVtb3ZlIGtleSBmaXJzdCB0byBnZXQgb3ZlcndyaXRlIGJlaGF2aW9yIGFuZCBhdm9pZCBkdXBsaWNhdGUga2V5c1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChsaXN0SXRlbSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1BZGRlZEV2ZW50KGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcmVtb3ZhbCB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgdGhlIGl0ZW0gaXMgbm90IHBhcnQgb2YgdGhpcyBzZWxlY3RvclxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5pdGVtcywgdGhpcy5pdGVtc1tpbmRleF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0cyBhbiBpdGVtIGZyb20gdGhlIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyB0aGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBpZiB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBub3QgcGFydCBvZiB0aGUgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XHJcbiAgICAgICAgICAgIC8vIGl0ZW1Db25maWcgaXMgYWxyZWFkeSBzZWxlY3RlZCwgc3VwcHJlc3MgYW55IGZ1cnRoZXIgYWN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0ga2V5O1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbS5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgb2YgdGhlIHNlbGVjdGVkIGl0ZW0gb3IgbnVsbCBpZiBubyBpdGVtIGlzIHNlbGVjdGVkXHJcbiAgICAgKi9cclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGl0ZW1zIGZyb20gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGxvY2FsIGNvcHkgZm9yIGl0ZXJhdGlvbiBhZnRlciBjbGVhclxyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XHJcbiAgICAgICAgLy8gY2xlYXIgaXRlbXNcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGlvbiBhcyB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBhbHNvIHJlbW92ZWRcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XHJcbiAgICAgICAgLy8gZmlyZSBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGl0ZW1zXzEgPSBpdGVtczsgX2kgPCBpdGVtc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChpdGVtLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLml0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1BZGRlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbVJlbW92ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1BZGRlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtQWRkZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0U2VsZWN0b3IucHJvdG90eXBlLCBcIm9uSXRlbVJlbW92ZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1TZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1TZWxlY3RlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExpc3RTZWxlY3RvcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5MaXN0U2VsZWN0b3IgPSBMaXN0U2VsZWN0b3I7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9saXN0c2VsZWN0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi4vc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIGZvbnRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vZm9udGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2ZvbnRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udGZhbWlseXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vZm9udGZhbWlseXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRzaXplc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9mb250c2l6ZXNlbGVjdGJveFwiKTtcclxudmFyIGJhY2tncm91bmRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2JhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgd2luZG93Y29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3dpbmRvd2NvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgd2luZG93b3BhY2l0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vd2luZG93b3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGNoYXJhY3RlcmVkZ2VzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzbWFuYWdlcl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc21hbmFnZXJcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvblwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXCIpO1xyXG4vKipcclxuICogU3VidGl0bGVTZXR0aW5nc1BhbmVsIGlzIGEgc2V0dGluZ3MgcGFuZWwgc3BlY2lmaWMgdG8gc3VidGl0bGVzIHNldHRpbmdzXHJcbiAqKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzUGFuZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzUGFuZWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm92ZXJsYXkgPSBjb25maWcub3ZlcmxheTtcclxuICAgICAgICB2YXIgbWFuYWdlciA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzbWFuYWdlcl8xLlN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0ZvbnQgc2l6ZScsIG5ldyBmb250c2l6ZXNlbGVjdGJveF8xLkZvbnRTaXplU2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdGb250IGZhbWlseScsIG5ldyBmb250ZmFtaWx5c2VsZWN0Ym94XzEuRm9udEZhbWlseVNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnRm9udCBjb2xvcicsIG5ldyBmb250Y29sb3JzZWxlY3Rib3hfMS5Gb250Q29sb3JTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0ZvbnQgb3BhY2l0eScsIG5ldyBmb250b3BhY2l0eXNlbGVjdGJveF8xLkZvbnRPcGFjaXR5U2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdDaGFyYWN0ZXIgZWRnZScsIG5ldyBjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XzEuQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQmFja2dyb3VuZCBjb2xvcicsIG5ldyBiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hfMS5CYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0JhY2tncm91bmQgb3BhY2l0eScsIG5ldyBiYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveF8xLkJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdXaW5kb3cgY29sb3InLCBuZXcgd2luZG93Y29sb3JzZWxlY3Rib3hfMS5XaW5kb3dDb2xvclNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnV2luZG93IG9wYWNpdHknLCBuZXcgd2luZG93b3BhY2l0eXNlbGVjdGJveF8xLldpbmRvd09wYWNpdHlTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBfdGhpcywgc2V0dGluZ3NQYW5lbDogY29uZmlnLnNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICB9KSwgbmV3IHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm92ZXJsYXkuZW5hYmxlUHJldmlld1N1YnRpdGxlTGFiZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vdmVybGF5LnJlbW92ZVByZXZpZXdTdWJ0aXRsZUxhYmVsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NQYW5lbDtcclxufShzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IFN1YnRpdGxlU2V0dGluZ3NQYW5lbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGNvbG9ycy5cclxuICovXHJcbnZhciBGb250Q29sb3JTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udENvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRm9udENvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvbnRDb2xvclNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3doaXRlJywgJ3doaXRlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibGFjaycsICdibGFjaycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmVkJywgJ3JlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZ3JlZW4nLCAnZ3JlZW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCAnYmx1ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsICdjeWFuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd5ZWxsb3cnLCAneWVsbG93Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgJ21hZ2VudGEnKTtcclxuICAgICAgICB2YXIgc2V0Q29sb3JBbmRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRjb2xvci0nICsgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSArIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGFuIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkudmFsdWUgPSAnMTAwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgc2V0Q29sb3JBbmRPcGFjaXR5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRDb2xvclNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5Gb250Q29sb3JTZWxlY3RCb3ggPSBGb250Q29sb3JTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRjb2xvcnNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXHJcbiAqL1xyXG52YXIgRm9udE9wYWNpdHlTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udE9wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250T3BhY2l0eVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250T3BhY2l0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzEwMCcsICcxMDAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc3NScsICc3NSUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzUwJywgJzUwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMjUnLCAnMjUlJyk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IudmFsdWUgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZVxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRPcGFjaXR5U2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRPcGFjaXR5U2VsZWN0Qm94ID0gRm9udE9wYWNpdHlTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGZhbWlseS5cclxuICovXHJcbnZhciBGb250RmFtaWx5U2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZvbnRGYW1pbHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250RmFtaWx5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvbnRGYW1pbHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtb25vc3BhY2Vkc2VyaWYnLCAnbW9ub3NwYWNlZCBzZXJpZicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncHJvcG9ydGlvbmFsc2VyaWYnLCAncHJvcG9ydGlvbmFsIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtb25vc3BhY2Vkc2Fuc3NlcmlmJywgJ21vbm9zcGFjZWQgc2FucyBzZXJpZicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncHJvcG9ydGlvbmFsc2Fuc3NlcmlmJywgJ3Byb3BvcnRpb25hbCBzYW5zIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdjYXN1YWwnLCAnY2FzdWFsJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdjdXJzaXZlJywgJ2N1cnNpdmUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3NtYWxsY2FwaXRhbCcsICdzbWFsbCBjYXBpdGFsJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udEZhbWlseS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRmYW1pbHktJyArIHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGl0ZW0gaW4gY2FzZSB0aGUgcHJvcGVydHkgd2FzIHNldCBmcm9tIG91dHNpZGVcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRGYW1pbHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRm9udEZhbWlseVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5Gb250RmFtaWx5U2VsZWN0Qm94ID0gRm9udEZhbWlseVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udGZhbWlseXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXHJcbiAqL1xyXG52YXIgRm9udFNpemVTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udFNpemVTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250U2l6ZVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250U2l6ZVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzUwJywgJzUwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMTUwJywgJzE1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzIwMCcsICcyMDAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCczMDAnLCAnMzAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNDAwJywgJzQwMCUnKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRzaXplLScgKyBwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBpdGVtIGluIGNhc2UgdGhlIHByb3BlcnR5IHdhcyBzZXQgZnJvbSBvdXRzaWRlXHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udFNpemUudmFsdWUgPSBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRTaXplU2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRTaXplU2VsZWN0Qm94ID0gRm9udFNpemVTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRzaXplc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIGNvbG9ycy5cclxuICovXHJcbnZhciBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEJhY2tncm91bmRDb2xvclNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3doaXRlJywgJ3doaXRlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibGFjaycsICdibGFjaycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmVkJywgJ3JlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZ3JlZW4nLCAnZ3JlZW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCAnYmx1ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsICdjeWFuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd5ZWxsb3cnLCAneWVsbG93Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgJ21hZ2VudGEnKTtcclxuICAgICAgICB2YXIgc2V0Q29sb3JBbmRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2JnY29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IudmFsdWUgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlID0gJzEwMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94ID0gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgb3BhY2l0eS5cclxuICovXHJcbnZhciBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShudWxsLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMTAwJywgJzEwMCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzc1JywgJzc1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNTAnLCAnNTAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcyNScsICcyNSUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzAnLCAnMCUnKTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlID0ga2V5O1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIC4uLiBzZXQgYSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3ggPSBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzLlxyXG4gKi9cclxudmFyIFdpbmRvd0NvbG9yU2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd0NvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gV2luZG93Q29sb3JTZWxlY3RCb3goKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgV2luZG93Q29sb3JTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsICd3aGl0ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnYmxhY2snLCAnYmxhY2snKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3JlZCcsICdyZWQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgJ2dyZWVuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibHVlJywgJ2JsdWUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2N5YW4nLCAnY3lhbicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgJ3llbGxvdycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnbWFnZW50YScsICdtYWdlbnRhJyk7XHJcbiAgICAgICAgdmFyIHNldENvbG9yQW5kT3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcygnd2luZG93Y29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSArIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIC4uLiBjbGVhciB0aGUgb3BhY2l0eSB3aGVuIHRoZSBjb2xvciBpcyBub3Qgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGFuIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9ICcxMDAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gV2luZG93Q29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuV2luZG93Q29sb3JTZWxlY3RCb3ggPSBXaW5kb3dDb2xvclNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgb3BhY2l0eS5cclxuICovXHJcbnZhciBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd09wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFdpbmRvd09wYWNpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc1MCcsICc1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzI1JywgJzI1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMCcsICcwJScpO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5XaW5kb3dPcGFjaXR5U2VsZWN0Qm94ID0gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93b3BhY2l0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgY2hhcmFjdGVyIGVkZ2UuXHJcbiAqL1xyXG52YXIgQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShudWxsLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmFpc2VkJywgJ3JhaXNlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZGVwcmVzc2VkJywgJ2RlcHJlc3NlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgndW5pZm9ybScsICd1bmlmb3JtJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdkcm9wc2hhZG93ZWQnLCAnZHJvcCBzaGFkb3dlZCcpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2Uub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdjaGFyYWN0ZXJlZGdlLScgKyBwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBpdGVtIGluIGNhc2UgdGhlIHByb3BlcnR5IHdhcyBzZXQgZnJvbSBvdXRzaWRlXHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENoYXJhY3RlckVkZ2VTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCA9IENoYXJhY3RlckVkZ2VTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdG9yYWdlVXRpbHM7XHJcbihmdW5jdGlvbiAoU3RvcmFnZVV0aWxzKSB7XHJcbiAgICB2YXIgaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICBmdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XHJcbiAgICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNMb2NhbFN0b3JhZ2VDYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaGFzTG9jYWxTdG9yYWdlIGlzIHVzZWQgdG8gc2FmZWx5IGVuc3VyZSB3ZSBjYW4gdXNlIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIC8vIHRha2VuIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9TdG9yYWdlX0FQSS9Vc2luZ190aGVfV2ViX1N0b3JhZ2VfQVBJI0ZlYXR1cmUtZGV0ZWN0aW5nX2xvY2FsU3RvcmFnZVxyXG4gICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93Wydsb2NhbFN0b3JhZ2UnXTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcbiAgICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZUNhY2hlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaGFzTG9jYWxTdG9yYWdlQ2FjaGUgPSBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcclxuICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcclxuICAgICAgICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSAmJlxyXG4gICAgICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlID0gaGFzTG9jYWxTdG9yYWdlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYSBzdHJpbmcgaXRlbSBpbnRvIGxvY2FsU3RvcmFnZS5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGl0ZW0ncyBrZXlcclxuICAgICAqIEBwYXJhbSBkYXRhIHRoZSBpdGVtJ3MgZGF0YVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRJdGVtKGtleSwgZGF0YSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldEl0ZW0gPSBzZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGl0ZW0ncyBzdHJpbmcgdmFsdWUgZnJvbSB0aGUgbG9jYWxTdG9yYWdlLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IG51bGx9IFJldHVybnMgdGhlIHN0cmluZyBpZiBmb3VuZCwgbnVsbCBpZiB0aGVyZSBpcyBubyBkYXRhIHN0b3JlZCBmb3IgdGhlIGtleVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLmdldEl0ZW0gPSBnZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYW4gb2JqZWN0IGludG8gbG9jYWxTdG9yYWdlLiBUaGUgb2JqZWN0IHdpbGwgYmUgc2VyaWFsaXplZCB0byBKU09OLiBUaGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWRcclxuICAgICAqIGluIGFkZGl0aW9uIHRvIHRoZSBkZWZhdWx0IHR5cGVzOlxyXG4gICAgICogIC0gQ29sb3JVdGlscy5Db2xvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byBzdG9yZSB0aGUgZGF0YSB0b1xyXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIG9iamVjdCB0byBzdG9yZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5LCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBzZXRJdGVtKGtleSwganNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldE9iamVjdCA9IHNldE9iamVjdDtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBvYmplY3QgZm9yIHRoZSBnaXZlbiBrZXkgZnJvbSBsb2NhbFN0b3JhZ2UuIFRoZSBvYmplY3Qgd2lsbCBiZSBkZXNlcmlhbGl6ZWQgZnJvbSBKU09OLiBCZXNpZGUgdGhlXHJcbiAgICAgKiBkZWZhdWx0IHR5cGVzLCB0aGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAgICAgKiAgLSBDb2xvclV0aWxzLkNvbG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHthbnl9IFJldHVybnMgdGhlIG9iamVjdCBpZiBmb3VuZCwgbnVsbCBvdGhlcndpc2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0KGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgdmFyIGpzb24gPSBnZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBKU09OLnBhcnNlKGpzb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFN0b3JhZ2VVdGlscy5nZXRPYmplY3QgPSBnZXRPYmplY3Q7XHJcbn0pKFN0b3JhZ2VVdGlscyA9IGV4cG9ydHMuU3RvcmFnZVV0aWxzIHx8IChleHBvcnRzLlN0b3JhZ2VVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RvcmFnZXV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2J1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB0aGUgb3B0aW9uIG1lbnUgZm9yIHN1YnRpdGxlc1xyXG4gKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdCYWNrJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc3VidGl0bGVTZXR0aW5nc1BhbmVsLmhpZGUoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbC5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbjtcclxufShzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc0J1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCByZXNldHMgYWxsIHN1YnRpdGxlIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHRzLlxyXG4gKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXNldCcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zZXR0aW5nc01hbmFnZXIucmVzZXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi4vY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vLi4vZG9tXCIpO1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc0xhYmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2V0dGluZ3NMYWJlbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMub3BlbmVyID0gY29uZmlnLm9wZW5lcjtcclxuICAgICAgICBfdGhpcy50ZXh0ID0gY29uZmlnLnRleHQ7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktbGFiZWwnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuZXIsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTGFiZWwucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGFiZWxFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdzcGFuJywge30pLmh0bWwodGhpcy50ZXh0KSwgdGhpcy5vcGVuZXIuZ2V0RG9tRWxlbWVudCgpKTtcclxuICAgICAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzTGFiZWw7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc0xhYmVsID0gU3VidGl0bGVTZXR0aW5nc0xhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBvcHRpb24gbWVudSBmb3Igc3VidGl0bGVzXHJcbiAqL1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnU3VidGl0bGVzIHNldHRpbmdzJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zdWJ0aXRsZVNldHRpbmdzUGFuZWwuc2hvdygpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc1BhbmVsLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b247XHJcbn0oc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NCdXR0b24pKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBiZXR3ZWVuIGF2YWlsYWJsZSBhdWRpbyB0cmFja3MgKGUuZy4gZGlmZmVyZW50IGxhbmd1YWdlcykuXHJcbiAqL1xyXG52YXIgQXVkaW9UcmFja1NlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdWRpb1RyYWNrU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja1NlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQXVkaW9UcmFja1NlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50QXVkaW9UcmFjayA9IHBsYXllci5nZXRBdWRpbygpO1xyXG4gICAgICAgICAgICAvLyBITFMgc3RyZWFtcyBkb24ndCBhbHdheXMgcHJvdmlkZSB0aGlzLCBzbyB3ZSBoYXZlIHRvIGNoZWNrXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50QXVkaW9UcmFjaykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShjdXJyZW50QXVkaW9UcmFjay5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gcGxheWVyLmdldEF2YWlsYWJsZUF1ZGlvKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGF1ZGlvIHRyYWNrc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGF1ZGlvVHJhY2tzXzEgPSBhdWRpb1RyYWNrczsgX2kgPCBhdWRpb1RyYWNrc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oYXVkaW9UcmFjay5pZCwgYXVkaW9UcmFjay5sYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjb3JyZWN0IGF1ZGlvIHRyYWNrIGFmdGVyIHRoZSB0cmFja3MgaGF2ZSBiZWVuIGFkZGVkXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYWxzbyBpbXBvcnRhbnQgaW4gY2FzZSB3ZSBtaXNzZWQgdGhlIGBPTl9BVURJT19DSEFOR0VEYCBldmVudCwgZS5nLiB3aGVuIGBwbGF5YmFjay5hdWRpb0xhbmd1YWdlYFxyXG4gICAgICAgICAgICAvLyBpcyBjb25maWd1cmVkIGJ1dCB0aGUgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIHRoZSBVSSBpcyBjcmVhdGVkLlxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50QXVkaW9UcmFjaygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldEF1ZGlvKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uIHdoZW4gc2VsZWN0ZWQgdHJhY2sgaGFzIGNoYW5nZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19DSEFOR0VELCBzZWxlY3RDdXJyZW50QXVkaW9UcmFjayk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSB0cmFjayBpcyBhZGRlZCBvciByZW1vdmVkIChzaW5jZSBwbGF5ZXIgNy4xLjQpXHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCAmJiBwbGF5ZXIuRVZFTlQuT05fQVVESU9fUkVNT1ZFRCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCwgdXBkYXRlQXVkaW9UcmFja3MpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19SRU1PVkVELCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBvcHVsYXRlIHRyYWNrcyBhdCBzdGFydHVwXHJcbiAgICAgICAgdXBkYXRlQXVkaW9UcmFja3MoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXVkaW9UcmFja1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5BdWRpb1RyYWNrU2VsZWN0Qm94ID0gQXVkaW9UcmFja1NlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxudmFyIGltYWdlbG9hZGVyXzEgPSByZXF1aXJlKFwiLi4vaW1hZ2Vsb2FkZXJcIik7XHJcbi8qKlxyXG4gKiBBIGxhYmVsIGZvciBhIHtAbGluayBTZWVrQmFyfSB0aGF0IGNhbiBkaXNwbGF5IHRoZSBzZWVrIHRhcmdldCB0aW1lLCBhIHRodW1ibmFpbCwgYW5kIHRpdGxlIChlLmcuIGNoYXB0ZXIgdGl0bGUpLlxyXG4gKi9cclxudmFyIFNlZWtCYXJMYWJlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZWVrQmFyTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZWVrQmFyTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRpbWVMYWJlbCA9IG5ldyBsYWJlbF8xLkxhYmVsKHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLWxhYmVsLXRpbWUnXSB9KTtcclxuICAgICAgICBfdGhpcy50aXRsZUxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItbGFiZWwtdGl0bGUnXSB9KTtcclxuICAgICAgICBfdGhpcy50aHVtYm5haWwgPSBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLXRodW1ibmFpbCddIH0pO1xyXG4gICAgICAgIF90aGlzLnRodW1ibmFpbEltYWdlTG9hZGVyID0gbmV3IGltYWdlbG9hZGVyXzEuSW1hZ2VMb2FkZXIoKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWVrYmFyLWxhYmVsJyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW25ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy50aXRsZUxhYmVsLCBfdGhpcy50aW1lTGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZWVrYmFyLWxhYmVsLW1ldGFkYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1pbm5lcicsXHJcbiAgICAgICAgICAgICAgICB9KV0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgYXBwbGllZE1hcmtlckNzc0NsYXNzZXMgPSBbXTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXhUaW1lU2hpZnQgPSBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG1heFRpbWVTaGlmdCAtIG1heFRpbWVTaGlmdCAqIChhcmdzLnBvc2l0aW9uIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUodGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5tYXJrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaXRsZVRleHQoYXJncy5tYXJrZXIubWFya2VyLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRpdGxlVGV4dChudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCkgKiAoYXJncy5wb3NpdGlvbiAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaW1lKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGh1bWJuYWlsKHBsYXllci5nZXRUaHVtYih0aW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIENTUyBjbGFzc2VzIGZyb20gcHJldmlvdXMgbWFya2VyXHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVkTWFya2VyQ3NzQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoYXBwbGllZE1hcmtlckNzc0NsYXNzZXMuam9pbignICcpKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQWRkIENTUyBjbGFzc2VzIG9mIGN1cnJlbnQgbWFya2VyXHJcbiAgICAgICAgICAgIGlmIChhcmdzLm1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSAoYXJncy5tYXJrZXIubWFya2VyLmNzc0NsYXNzZXMgfHwgW10pLm1hcChmdW5jdGlvbiAoY3NzQ2xhc3MpIHsgcmV0dXJuIF90aGlzLnByZWZpeENzcyhjc3NDbGFzcyk7IH0pO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGNzc0NsYXNzZXMuam9pbignICcpKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzID0gY3NzQ2xhc3NlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aW1lIGZvcm1hdCBkZXBlbmRpbmcgb24gc291cmNlIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnRpbWVGb3JtYXQgPSBNYXRoLmFicyhwbGF5ZXIuaXNMaXZlKCkgPyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgOiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMzYwMCA/XHJcbiAgICAgICAgICAgICAgICBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGluaXQpO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYXJiaXRyYXJ5IHRleHQgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc2hvdyBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRpbWVMYWJlbC5zZXRUZXh0KHRleHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHRpbWUgdG8gYmUgZGlzcGxheWVkIG9uIHRoZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSBzZWNvbmRzIHRoZSB0aW1lIGluIHNlY29uZHMgdG8gZGlzcGxheSBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcclxuICAgICAgICB0aGlzLnNldFRleHQoc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHNlY29uZHMsIHRoaXMudGltZUZvcm1hdCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgdGV4dCBvbiB0aGUgdGl0bGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRpdGxlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZUxhYmVsLnNldFRleHQodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIG9yIHJlbW92ZXMgYSB0aHVtYm5haWwgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRodW1ibmFpbCB0aGUgdGh1bWJuYWlsIHRvIGRpc3BsYXkgb24gdGhlIGxhYmVsIG9yIG51bGwgdG8gcmVtb3ZlIGEgZGlzcGxheWVkIHRodW1ibmFpbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRodW1ibmFpbCA9IGZ1bmN0aW9uICh0aHVtYm5haWwpIHtcclxuICAgICAgICBpZiAodGh1bWJuYWlsID09PSB2b2lkIDApIHsgdGh1bWJuYWlsID0gbnVsbDsgfVxyXG4gICAgICAgIHZhciB0aHVtYm5haWxFbGVtZW50ID0gdGhpcy50aHVtYm5haWwuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGlmICh0aHVtYm5haWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHVtYm5haWxFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IG51bGwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSB0aHVtYm5haWwgaW1hZ2UgbG9hZGVyIHRvIG1ha2Ugc3VyZSB0aGUgdGh1bWJuYWlsIGlzIGxvYWRlZCBhbmQgaXQncyBzaXplIGlzIGtub3duIGJlZm9yZSBiZSBjYW5cclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBDU1MgcHJvcGVydGllcyBhbmQgc2V0IHRoZW0gb24gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgIHRoaXMudGh1bWJuYWlsSW1hZ2VMb2FkZXIubG9hZCh0aHVtYm5haWwudXJsLCBmdW5jdGlvbiAodXJsLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsQ291bnRYID0gd2lkdGggLyB0aHVtYm5haWwudztcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxDb3VudFkgPSBoZWlnaHQgLyB0aHVtYm5haWwuaDtcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxJbmRleFggPSB0aHVtYm5haWwueCAvIHRodW1ibmFpbC53O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbEluZGV4WSA9IHRodW1ibmFpbC55IC8gdGh1bWJuYWlsLmg7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVggPSAxMDAgKiB0aHVtYm5haWxDb3VudFg7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVkgPSAxMDAgKiB0aHVtYm5haWxDb3VudFk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IDEwMCAqIHRodW1ibmFpbEluZGV4WDtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gMTAwICogdGh1bWJuYWlsSW5kZXhZO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gMSAvIHRodW1ibmFpbC53ICogdGh1bWJuYWlsLmg7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGh1bWJuYWlsIHNpemUgaXMgc2V0IGJ5IHNldHRpbmcgdGhlIENTUyAnd2lkdGgnIGFuZCAncGFkZGluZy1ib3R0b20nIHByb3BlcnRpZXMuICdwYWRkaW5nLWJvdHRvbScgaXNcclxuICAgICAgICAgICAgICAgIC8vIHVzZWQgYmVjYXVzZSBpdCBpcyByZWxhdGl2ZSB0byB0aGUgd2lkdGggYW5kIGNhbiBiZSB1c2VkIHRvIHNldCB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSB0aHVtYm5haWwuXHJcbiAgICAgICAgICAgICAgICAvLyBBIGRlZmF1bHQgdmFsdWUgZm9yIHdpZHRoIGlzIHNldCBpbiB0aGUgc3R5bGVzaGVldCBhbmQgY2FuIGJlIG92ZXJ3cml0dGVuIGZyb20gdGhlcmUgb3IgYW55d2hlcmUgZWxzZS5cclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdpbmhlcml0JyxcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IFwidXJsKFwiICsgdGh1bWJuYWlsLnVybCArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nLWJvdHRvbSc6IDEwMCAqIGFzcGVjdFJhdGlvICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtc2l6ZSc6IHNpemVYICsgXCIlIFwiICsgc2l6ZVkgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1wb3NpdGlvbic6IFwiLVwiICsgb2Zmc2V0WCArIFwiJSAtXCIgKyBvZmZzZXRZICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWVrQmFyTGFiZWw7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU2Vla0JhckxhYmVsID0gU2Vla0JhckxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2Vla2JhcmxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIHN1YnRpdGxlIGFuZCBjYXB0aW9uIHRyYWNrcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudFN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFN1YnRpdGxlID0gcGxheWVyLmdldFN1YnRpdGxlKCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3VidGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0oY3VycmVudFN1YnRpdGxlLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZVN1YnRpdGxlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2xlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gcGxheWVyLmdldEF2YWlsYWJsZVN1YnRpdGxlcygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnRpdGxlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShzdWJ0aXRsZS5pZCwgc3VidGl0bGUubGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY29ycmVjdCBzdWJ0aXRsZSBhZnRlciB0aGUgc3VidGl0bGVzIGhhdmUgYmVlbiBhZGRlZFxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50U3VidGl0bGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zZXRTdWJ0aXRsZSh2YWx1ZSA9PT0gJ251bGwnID8gbnVsbCA6IHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZWFjdCB0byBBUEkgZXZlbnRzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfQURERUQsIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfQ0hBTkdFRCwgc2VsZWN0Q3VycmVudFN1YnRpdGxlKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9SRU1PVkVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHN1YnRpdGxlcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgLy8gUG9wdWxhdGUgc3VidGl0bGVzIGF0IHN0YXJ0dXBcclxuICAgICAgICB1cGRhdGVTdWJ0aXRsZXMoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZWxlY3RCb3g7XHJcbn0oc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZWxlY3RCb3ggPSBTdWJ0aXRsZVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBjb250cm9sYmFyXzEgPSByZXF1aXJlKFwiLi9jb250cm9sYmFyXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciB0byBkaXNwbGF5IHN1YnRpdGxlcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZU92ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZSA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ2V4YW1wbGUgc3VidGl0bGUnIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLW92ZXJsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzdWJ0aXRsZU1hbmFnZXIgPSBuZXcgQWN0aXZlU3VidGl0bGVNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5zdWJ0aXRsZU1hbmFnZXIgPSBzdWJ0aXRsZU1hbmFnZXI7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VOVEVSLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gU2FuaXRpemUgY3VlIGRhdGEgKG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIGN1ZSBJRCBpcyBnZW5lcmF0ZWQgaW4gc3VidGl0bGVNYW5hZ2VyLmN1ZUVudGVyKVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcG9zaXRpb25zIGFyZSB1bmRlZmluZWQsIHdlIGFzc3VtZSB0aGVtIHRvIGJlIHplcm9cclxuICAgICAgICAgICAgICAgIGV2ZW50LnBvc2l0aW9uLnJvdyA9IGV2ZW50LnBvc2l0aW9uLnJvdyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucG9zaXRpb24uY29sdW1uID0gZXZlbnQucG9zaXRpb24uY29sdW1uIHx8IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsVG9BZGQgPSBzdWJ0aXRsZU1hbmFnZXIuY3VlRW50ZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLmRpc3BhdGNoKGV2ZW50LCBsYWJlbFRvQWRkKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGxhYmVsVG9BZGQpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DVUVfRVhJVCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbFRvUmVtb3ZlID0gc3VidGl0bGVNYW5hZ2VyLmN1ZUV4aXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWxUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGxhYmVsVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHN1YnRpdGxlQ2xlYXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlTWFuYWdlci5jbGVhcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0NIQU5HRUQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9DSEFOR0VELCBzdWJ0aXRsZUNsZWFySGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudEhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBzdWJ0aXRsZUNsZWFySGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIFRoZSBjYWxjdWxhdGVkIGZvbnQgc2l6ZVxyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IDA7XHJcbiAgICAgICAgLy8gVGhlIHJlcXVpcmVkIGxldHRlciBzcGFjaW5nIHNwcmVhZCB0aGUgdGV4dCBjaGFyYWN0ZXJzIGV2ZW5seSBhY3Jvc3MgdGhlIGdyaWRcclxuICAgICAgICB2YXIgZm9udExldHRlclNwYWNpbmcgPSAwO1xyXG4gICAgICAgIC8vIEZsYWcgdGVsbGluZyBpZiBhIGZvbnQgc2l6ZSBjYWxjdWxhdGlvbiBpcyByZXF1aXJlZCBvZiBpZiB0aGUgY3VycmVudCB2YWx1ZXMgYXJlIHZhbGlkXHJcbiAgICAgICAgdmFyIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gRmxhZyB0ZWxsaW5nIGlmIHRoZSBDRUEtNjA4IG1vZGUgaXMgZW5hYmxlZFxyXG4gICAgICAgIHZhciBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUNFQTYwOEZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ1gnIH0pO1xyXG4gICAgICAgICAgICBkdW1teUxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgLy8gQnkgdXNpbmcgYSBsYXJnZSBmb250IHNpemUgd2UgZG8gbm90IG5lZWQgdG8gdXNlIG11bHRpcGxlIGxldHRlcnMgYW5kIGNhbiBnZXQgc3RpbGwgYW5cclxuICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlIG1lYXN1cmVtZW50IGV2ZW4gdGhvdWdoIHRoZSByZXR1cm5lZCBzaXplIGlzIGFuIGludGVnZXIgdmFsdWVcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMjAwcHgnLFxyXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0JzogJzIwMHB4JyxcclxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoZHVtbXlMYWJlbCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbENoYXJXaWR0aCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUxhYmVsQ2hhckhlaWdodCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemVSYXRpbyA9IGR1bW15TGFiZWxDaGFyV2lkdGggLyBkdW1teUxhYmVsQ2hhckhlaWdodDtcclxuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGR1bW15TGFiZWwpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBzdWJ0cmFjdCAxcHggaGVyZSB0byBhdm9pZCBsaW5lIGJyZWFrcyBhdCB0aGUgcmlnaHQgYm9yZGVyIG9mIHRoZSBzdWJ0aXRsZSBvdmVybGF5IHRoYXQgY2FuIGhhcHBlblxyXG4gICAgICAgICAgICAvLyB3aGVuIHRleHRzIGNvbnRhaW4gd2hpdGVzcGFjZXMuIEl0J3MgcHJvYmFibHkgc29tZSBraW5kIG9mIHBpeGVsIHJvdW5kaW5nIGlzc3VlIGluIHRoZSBicm93c2VyJ3NcclxuICAgICAgICAgICAgLy8gbGF5b3V0aW5nLCBidXQgdGhlIGFjdHVhbCByZWFzb24gY291bGQgbm90IGJlIGRldGVybWluZWQuIEFpbWluZyBmb3IgYSB0YXJnZXQgd2lkdGggLSAxcHggd291bGQgd29yayBpblxyXG4gICAgICAgICAgICAvLyBtb3N0IGJyb3dzZXJzLCBidXQgU2FmYXJpIGhhcyBhIFwicXVhbnRpemVkXCIgZm9udCBzaXplIHJlbmRlcmluZyB3aXRoIGh1Z2Ugc3RlcHMgaW4gYmV0d2VlbiBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAgIC8vIHRvIHN1YnRyYWN0IHNvbWUgbW9yZSBwaXhlbHMgdG8gYXZvaWQgbGluZSBicmVha3MgdGhlcmUgYXMgd2VsbC5cclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheVdpZHRoID0gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCkgLSAxMDtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheUhlaWdodCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgLy8gVGhlIHNpemUgcmF0aW8gb2YgdGhlIGxldHRlciBncmlkXHJcbiAgICAgICAgICAgIHZhciBmb250R3JpZFNpemVSYXRpbyA9IChkdW1teUxhYmVsQ2hhcldpZHRoICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUykgL1xyXG4gICAgICAgICAgICAgICAgKGR1bW15TGFiZWxDaGFySGVpZ2h0ICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fUk9XUyk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBzaXplIHJhdGlvIG9mIHRoZSBhdmFpbGFibGUgc3BhY2UgZm9yIHRoZSBncmlkXHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXlTaXplUmF0aW8gPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIHN1YnRpdGxlT3ZlcmxheUhlaWdodDtcclxuICAgICAgICAgICAgaWYgKHN1YnRpdGxlT3ZlcmxheVNpemVSYXRpbyA+IGZvbnRHcmlkU2l6ZVJhdGlvKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgd2lkZXIgdGhhbiB0aGUgdGV4dCBncmlkLCB0aGUgZm9udCBzaXplIGlzIHNpbXBseVxyXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lZCBieSB0aGUgaGVpZ2h0IG9mIHRoZSBhdmFpbGFibGUgc3BhY2UuXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN1YnRpdGxlT3ZlcmxheUhlaWdodCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1M7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGFkZGl0aW9uYWwgbGV0dGVyIHNwYWNpbmcgcmVxdWlyZWQgdG8gZXZlbmx5IHNwcmVhZCB0aGUgdGV4dCBhY3Jvc3MgdGhlIGdyaWQncyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgdmFyIGdyaWRTbG90V2lkdGggPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9udENoYXJXaWR0aCA9IGZvbnRTaXplICogZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gZ3JpZFNsb3RXaWR0aCAtIGZvbnRDaGFyV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgbm90IHdpZGUgZW5vdWdoLCB0ZXh0cyB3b3VsZCB2ZXJ0aWNhbGx5IG92ZXJsYXAgaWYgd2UgdGFrZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBhcyBhIGJhc2UgZm9yIHRoZSBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gbGltaXQgdGhlIGhlaWdodC4gV2UgZG8gdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gYnkgZGV0ZXJtaW5pbmcgdGhlIGZvbnQgc2l6ZSBieSB0aGUgd2lkdGggb2YgdGhlIGF2YWlsYWJsZSBzcGFjZS5cclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3VidGl0bGVPdmVybGF5V2lkdGggLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TIC8gZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgZm9udC1zaXplIG9mIGFsbCBhY3RpdmUgc3VidGl0bGUgbGFiZWxzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwgaW5zdGFuY2VvZiBTdWJ0aXRsZUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xldHRlci1zcGFjaW5nJzogZm9udExldHRlclNwYWNpbmcgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNFQTYwOEZvbnRTaXplKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQsIGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NFQTYwOCA9IGV2ZW50LnBvc2l0aW9uICE9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaXNDRUE2MDgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNraXAgYWxsIG5vbi1DRUE2MDggY3Vlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DRUFfNjA4KSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjb25kaXRpb25hbGx5IHVwZGF0ZSB0aGUgZm9udCBzaXplIGJ5IHRoaXMgZmxhZyBoZXJlIHRvIGF2b2lkIHVwZGF0aW5nIGV2ZXJ5IHRpbWUgYSBzdWJ0aXRsZVxyXG4gICAgICAgICAgICAgICAgLy8gaXMgYWRkZWQgaW50byBhbiBlbXB0eSBvdmVybGF5LiBCZWNhdXNlIHdlIHJlc2V0IHRoZSBvdmVybGF5IHdoZW4gYWxsIHN1YnRpdGxlcyBhcmUgZ29uZSwgdGhpc1xyXG4gICAgICAgICAgICAgICAgLy8gd291bGQgdHJpZ2dlciBhbiB1bm5lY2Vzc2FyeSB1cGRhdGUgZXZlcnkgdGltZSwgYnV0IGl0J3Mgb25seSByZXF1aXJlZCB1bmRlciBjZXJ0YWluIGNvbmRpdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAvLyBlLmcuIGFmdGVyIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZC5cclxuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDRUE2MDhGb250U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBldmVudC5wb3NpdGlvbi5jb2x1bW4gKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X0NPTFVNTl9PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICd0b3AnOiBldmVudC5wb3NpdGlvbi5yb3cgKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X1JPV19PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICdsZXR0ZXItc3BhY2luZyc6IGZvbnRMZXR0ZXJTcGFjaW5nICsgXCJweFwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdWJ0aXRsZU1hbmFnZXIuaGFzQ3Vlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBDRUEtNjA4IG1vZGUgd2hlbiBhbGwgc3VidGl0bGVzIGFyZSBnb25lICh0byBhbGxvdyBjb3JyZWN0IGZvcm1hdHRpbmcgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG9mIG90aGVyIHR5cGVzIG9mIHN1YnRpdGxlcywgZS5nLiB0aGUgZm9ybWF0dGluZyBwcmV2aWV3IHN1YnRpdGxlKVxyXG4gICAgICAgICAgICAgICAgcmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgcmVzZXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHJlc2V0KTtcclxuICAgIH07XHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkucHJvdG90eXBlLmVuYWJsZVByZXZpZXdTdWJ0aXRsZUxhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGhpcy5wcmV2aWV3U3VidGl0bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudCh0aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICB9O1xyXG4gICAgU3VidGl0bGVPdmVybGF5LkNMQVNTX0NPTlRST0xCQVJfVklTSUJMRSA9ICdjb250cm9sYmFyLXZpc2libGUnO1xyXG4gICAgU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDggPSAnY2VhNjA4JztcclxuICAgIC8vIFRoZSBudW1iZXIgb2Ygcm93cyBpbiBhIGNlYTYwOCBncmlkXHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTID0gMTU7XHJcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gYSBjZWE2MDggZ3JpZFxyXG4gICAgU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUyA9IDMyO1xyXG4gICAgLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgcm93ICh3aGljaCBpcyBhbHNvIHRoZSBoZWlnaHQgb2YgYSByb3cpXHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X1JPV19PRkZTRVQgPSAxMDAgLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTO1xyXG4gICAgLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgY29sdW1uICh3aGljaCBpcyBhbHNvIHRoZSB3aWR0aCBvZiBhIGNvbHVtbilcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfQ09MVU1OX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbiAgICByZXR1cm4gU3VidGl0bGVPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlN1YnRpdGxlT3ZlcmxheSA9IFN1YnRpdGxlT3ZlcmxheTtcclxudmFyIFN1YnRpdGxlTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBTdWJ0aXRsZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxudmFyIEFjdGl2ZVN1YnRpdGxlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFjdGl2ZVN1YnRpdGxlTWFuYWdlcigpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwID0ge307XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50ID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBhIHVuaXF1ZSBJRCBmb3IgYSBzdWJ0aXRsZSBjdWUsIHdoaWNoIGlzIG5lZWRlZCB0byBhc3NvY2lhdGUgYW4gT05fQ1VFX0VOVEVSIHdpdGggaXRzIE9OX0NVRV9FWElUXHJcbiAgICAgKiBldmVudCBzbyB3ZSBjYW4gcmVtb3ZlIHRoZSBjb3JyZWN0IHN1YnRpdGxlIGluIE9OX0NVRV9FWElUIHdoZW4gbXVsdGlwbGUgc3VidGl0bGVzIGFyZSBhY3RpdmUgYXQgdGhlIHNhbWUgdGltZS5cclxuICAgICAqIFRoZSBzdGFydCB0aW1lIHBsdXMgdGhlIHRleHQgc2hvdWxkIG1ha2UgYSB1bmlxdWUgaWRlbnRpZmllciwgYW5kIGluIHRoZSBvbmx5IGNhc2Ugd2hlcmUgYSBjb2xsaXNpb25cclxuICAgICAqIGNhbiBoYXBwZW4sIHR3byBzaW1pbGFyIHRleHRzIHdpbGwgYmUgZGlzcGxheWVkIGF0IGEgc2ltaWxhciB0aW1lIGFuZCBhIHNpbWlsYXIgcG9zaXRpb24gKG9yIHdpdGhvdXQgcG9zaXRpb24pLlxyXG4gICAgICogVGhlIHN0YXJ0IHRpbWUgc2hvdWxkIGFsd2F5cyBiZSBrbm93biwgYmVjYXVzZSBpdCBpcyByZXF1aXJlZCB0byBzY2hlZHVsZSB0aGUgT05fQ1VFX0VOVEVSIGV2ZW50LiBUaGUgZW5kIHRpbWVcclxuICAgICAqIG11c3Qgbm90IG5lY2Vzc2FyaWx5IGJlIGtub3duIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHVzZWQgZm9yIHRoZSBJRC5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBldmVudC5zdGFydCArICctJyArIGV2ZW50LnRleHQ7XHJcbiAgICAgICAgaWYgKGV2ZW50LnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlkICs9ICctJyArIGV2ZW50LnBvc2l0aW9uLnJvdyArICctJyArIGV2ZW50LnBvc2l0aW9uLmNvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIHN1YnRpdGxlIGN1ZSB0byB0aGUgbWFuYWdlciBhbmQgcmV0dXJucyB0aGUgbGFiZWwgdGhhdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHN1YnRpdGxlIG92ZXJsYXkuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1N1YnRpdGxlTGFiZWx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY3VlRW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHtcclxuICAgICAgICAgICAgLy8gUHJlZmVyIHRoZSBIVE1MIHN1YnRpdGxlIHRleHQgaWYgc2V0LCBlbHNlIHVzZSB0aGUgcGxhaW4gdGV4dFxyXG4gICAgICAgICAgICB0ZXh0OiBldmVudC5odG1sIHx8IGV2ZW50LnRleHQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFycmF5IGZvciBpZCBpZiBpdCBkb2VzIG5vdCBleGlzdFxyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdID0gdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcFtpZF0gfHwgW107XHJcbiAgICAgICAgLy8gQWRkIGN1ZVxyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdLnB1c2goeyBldmVudDogZXZlbnQsIGxhYmVsOiBsYWJlbCB9KTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQrKztcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsYWJlbCBhc3NvY2lhdGVkIHdpdGggYW4gYWxyZWFkeSBhZGRlZCBjdWUuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1N1YnRpdGxlTGFiZWx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuZ2V0Q3VlcyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBpZCA9IEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5jYWxjdWxhdGVJZChldmVudCk7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVN1YnRpdGxlQ3VlcyA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdO1xyXG4gICAgICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5tYXAoZnVuY3Rpb24gKGN1ZSkgeyByZXR1cm4gY3VlLmxhYmVsOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIHN1YnRpdGxlIGN1ZSBmcm9tIHRoZSBtYW5hZ2VyIGFuZCByZXR1cm5zIHRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIHN1YnRpdGxlIG92ZXJsYXksXHJcbiAgICAgKiBvciBudWxsIGlmIHRoZXJlIGlzIG5vIGFzc29jaWF0ZWQgbGFiZWwgZXhpc3RpbmcgKGUuZy4gYmVjYXVzZSBhbGwgbGFiZWxzIGhhdmUgYmVlbiB7QGxpbmsgI2NsZWFyIGNsZWFyZWR9LlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfG51bGx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY3VlRXhpdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBpZCA9IEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5jYWxjdWxhdGVJZChldmVudCk7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVN1YnRpdGxlQ3VlcyA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdO1xyXG4gICAgICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGN1ZVxyXG4gICAgICAgICAgICAvKiBXZSBhcHBseSB0aGUgRklGTyBhcHByb2FjaCBoZXJlIGFuZCByZW1vdmUgdGhlIG9sZGVzdCBjdWUgZnJvbSB0aGUgYXNzb2NpYXRlZCBpZC4gV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgY3Vlc1xyXG4gICAgICAgICAgICAgKiB3aXRoIHRoZSBzYW1lIGlkLCB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB3aGljaCBvbmUgb2YgdGhlIGN1ZXMgaXMgdG8gYmUgZGVsZXRlZCwgc28gd2UganVzdCBob3BlIHRoYXQgRklGT1xyXG4gICAgICAgICAgICAgKiB3b3JrcyBmaW5lLiBUaGVvcmV0aWNhbGx5IGl0IGNhbiBoYXBwZW4gdGhhdCB0d28gY3VlcyB3aXRoIGNvbGxpZGluZyBpZHMgYXJlIHJlbW92ZWQgYXQgZGlmZmVyZW50IHRpbWVzLCBpblxyXG4gICAgICAgICAgICAgKiB0aGUgd3Jvbmcgb3JkZXIuIFRoaXMgcmFyZSBjYXNlIGhhcyB5ZXQgdG8gYmUgb2JzZXJ2ZWQuIElmIGl0IGV2ZXIgZ2V0cyBhbiBpc3N1ZSwgd2UgY2FuIHRha2UgdGhlIHVuc3RhYmxlXHJcbiAgICAgICAgICAgICAqIGN1ZSBlbmQgdGltZSAod2hpY2ggY2FuIGNoYW5nZSBiZXR3ZWVuIE9OX0NVRV9FTlRFUiBhbmQgT05fQ1VFX0VYSVQgSU4gT05fQ1VFX1VQREFURSkgYW5kIHVzZSBpdCBhcyBhblxyXG4gICAgICAgICAgICAgKiBhZGRpdGlvbmFsIGhpbnQgdG8gdHJ5IGFuZCByZW1vdmUgdGhlIGNvcnJlY3Qgb25lIG9mIHRoZSBjb2xsaWRpbmcgY3Vlcy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZSA9IGFjdGl2ZVN1YnRpdGxlQ3Vlcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQtLTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVN1YnRpdGxlQ3VlLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLCBcImN1ZUNvdW50XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYWN0aXZlIHN1YnRpdGxlIGN1ZXMuXHJcbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXZSBleHBsaWNpdGx5IGNvdW50IHRoZSBjdWVzIHRvIHNhdmUgYW4gQXJyYXkucmVkdWNlIG9uIGV2ZXJ5IGN1ZUNvdW50IGNhbGwgKHdoaWNoIGNhbiBoYXBwZW4gZnJlcXVlbnRseSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLCBcImhhc0N1ZXNcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHN1YnRpdGxlIGN1ZXMsIGVsc2UgZmFsc2UuXHJcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VlQ291bnQgPiAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBzdWJ0aXRsZSBjdWVzIGZyb20gdGhlIG1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFjdGl2ZVN1YnRpdGxlTWFuYWdlcjtcclxufSgpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGNhc3RpbmcgdG8gYSBDYXN0IHJlY2VpdmVyLlxyXG4gKi9cclxudmFyIENhc3RUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENhc3RUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNhc3R0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnR29vZ2xlIENhc3QnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2FzdFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5jYXN0U3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmNhc3RWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FzdCB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNhc3RBdmFpbGFibGVIYW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0QXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9BVkFJTEFCTEUsIGNhc3RBdmFpbGFibGVIYW5kZXIpO1xyXG4gICAgICAgIC8vIFRvZ2dsZSBidXR0b24gJ29uJyBzdGF0ZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfV0FJVElOR19GT1JfREVWSUNFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzZXNzaW9uIGlzIHJlc3VtZWQsIHRoZXJlIGlzIG5vIE9OX0NBU1RfU1RBUlQgZXZlbnQsIHNvIHdlIGFsc28gbmVlZCB0byB0b2dnbGUgaGVyZSBmb3Igc3VjaCBjYXNlc1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBjYXN0QXZhaWxhYmxlSGFuZGVyKCk7IC8vIEhpZGUgYnV0dG9uIGlmIENhc3Qgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5DYXN0VG9nZ2xlQnV0dG9uID0gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIHRoZSBzdGF0dXMgb2YgYSBDYXN0IHNlc3Npb24uXHJcbiAqL1xyXG52YXIgQ2FzdFN0YXR1c092ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFN0YXR1c092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDYXN0U3RhdHVzT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc3RhdHVzTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzOiAndWktY2FzdC1zdGF0dXMtbGFiZWwnIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNhc3Qtc3RhdHVzLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMuc3RhdHVzTGFiZWxdLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDYXN0U3RhdHVzT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1dBSVRJTkdfRk9SX0RFVklDRSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgLy8gR2V0IGRldmljZSBuYW1lIGFuZCB1cGRhdGUgc3RhdHVzIHRleHQgd2hpbGUgY29ubmVjdGluZ1xyXG4gICAgICAgICAgICB2YXIgY2FzdERldmljZU5hbWUgPSBldmVudC5jYXN0UGF5bG9hZC5kZXZpY2VOYW1lO1xyXG4gICAgICAgICAgICBfdGhpcy5zdGF0dXNMYWJlbC5zZXRUZXh0KFwiQ29ubmVjdGluZyB0byA8c3Ryb25nPlwiICsgY2FzdERldmljZU5hbWUgKyBcIjwvc3Ryb25nPi4uLlwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBTZXNzaW9uIGlzIHN0YXJ0ZWQgb3IgcmVzdW1lZFxyXG4gICAgICAgICAgICAvLyBGb3IgY2FzZXMgd2hlbiBhIHNlc3Npb24gaXMgcmVzdW1lZCwgd2UgZG8gbm90IHJlY2VpdmUgdGhlIHByZXZpb3VzIGV2ZW50cyBhbmQgdGhlcmVmb3JlIHNob3cgdGhlIHN0YXR1cyBwYW5lbFxyXG4gICAgICAgICAgICAvLyBoZXJlIHRvb1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBjYXN0RGV2aWNlTmFtZSA9IGV2ZW50LmRldmljZU5hbWU7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXR1c0xhYmVsLnNldFRleHQoXCJQbGF5aW5nIG9uIDxzdHJvbmc+XCIgKyBjYXN0RGV2aWNlTmFtZSArIFwiPC9zdHJvbmc+XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIENhc3Qgc2Vzc2lvbiBnb25lLCBoaWRlIHRoZSBzdGF0dXMgcGFuZWxcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYXN0U3RhdHVzT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5DYXN0U3RhdHVzT3ZlcmxheSA9IENhc3RTdGF0dXNPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHR2bm9pc2VjYW52YXNfMSA9IHJlcXVpcmUoXCIuL3R2bm9pc2VjYW52YXNcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBlcnJvciBtZXNzYWdlcy5cclxuICovXHJcbnZhciBFcnJvck1lc3NhZ2VPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEVycm9yTWVzc2FnZU92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBFcnJvck1lc3NhZ2VPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5lcnJvckxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzczogJ3VpLWVycm9ybWVzc2FnZS1sYWJlbCcgfSk7XHJcbiAgICAgICAgX3RoaXMudHZOb2lzZUJhY2tncm91bmQgPSBuZXcgdHZub2lzZWNhbnZhc18xLlR2Tm9pc2VDYW52YXMoKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1lcnJvcm1lc3NhZ2Utb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy50dk5vaXNlQmFja2dyb3VuZCwgX3RoaXMuZXJyb3JMYWJlbF0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRVJST1IsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGV2ZW50Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgbWVzc2FnZSB0cmFuc2xhdGlvbnNcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tZXNzYWdlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcubWVzc2FnZXMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjb25maWcubWVzc2FnZXMoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLm1lc3NhZ2VzW2V2ZW50LmNvZGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBub3QgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiwgc28gaXQgbXVzdCBiZSBhIG1hcCBvZiBzdHJpbmdzIG9yIHRyYW5zbGF0aW9uIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21NZXNzYWdlID0gY29uZmlnLm1lc3NhZ2VzW2V2ZW50LmNvZGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VzdG9tTWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGN1c3RvbU1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWVzc2FnZSBpcyBhIHRyYW5zbGF0aW9uIGZ1bmN0aW9uLCBzbyB3ZSBjYWxsIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuZXJyb3JMYWJlbC5zZXRUZXh0KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZC5zdGFydCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc1Nob3duKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXkucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQ2FudmFzIHJlbmRlcmluZyBtdXN0IGJlIGV4cGxpY2l0bHkgc3RvcHBlZCwgZWxzZSBpdCBqdXN0IGNvbnRpbnVlcyBmb3JldmVyIGFuZCBob2dzIHJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudHZOb2lzZUJhY2tncm91bmQuc3RvcCgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFcnJvck1lc3NhZ2VPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkVycm9yTWVzc2FnZU92ZXJsYXkgPSBFcnJvck1lc3NhZ2VPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgbWV0YWRhdGFsYWJlbF8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFsYWJlbFwiKTtcclxuLyoqXHJcbiAqIERpc3BsYXlzIGEgdGl0bGUgYmFyIGNvbnRhaW5pbmcgYSBsYWJlbCB3aXRoIHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXHJcbiAqL1xyXG52YXIgVGl0bGVCYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVGl0bGVCYXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUaXRsZUJhcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdGl0bGViYXInLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZSB9KSxcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbiB9KSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAga2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YTogZmFsc2UsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBUaXRsZUJhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgc2hvdWxkQmVTaG93biA9ICF0aGlzLmlzSGlkZGVuKCk7XHJcbiAgICAgICAgdmFyIGhhc01ldGFkYXRhVGV4dCA9IHRydWU7IC8vIEZsYWcgdG8gdHJhY2sgaWYgYW55IG1ldGFkYXRhIGxhYmVsIGNvbnRhaW5zIHRleHRcclxuICAgICAgICB2YXIgY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG1ldGFkYXRhIGxhYmVscyBhbmQgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gY29udGFpbnMgdGV4dFxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBhIHZpc2libGUgdGl0bGViYXIgaWYgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dCBhbmQgdGhlIGhpZGRlbiBmbGFnIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhICYmICFoYXNNZXRhZGF0YVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkQmVTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGhpZGRlbiB0aXRsZWJhciBpZiBpdCBzaG91bGQgYWN0dWFsbHkgYmUgc2hvd25cclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRleHQgY2hhbmdlIGV2ZW50cyB0byB1cGRhdGUgdGhlIGhhc01ldGFkYXRhVGV4dCBmbGFnIHdoZW4gdGhlIG1ldGFkYXRhIGR5bmFtaWNhbGx5IGNoYW5nZXNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm9uVGV4dENoYW5nZWQuc3Vic2NyaWJlKGNoZWNrTWV0YWRhdGFUZXh0QW5kVXBkYXRlVmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIShjb25maWcua2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YSAmJiAhaGFzTWV0YWRhdGFUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGluaXRcclxuICAgICAgICBjaGVja01ldGFkYXRhVGV4dEFuZFVwZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGl0bGVCYXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVGl0bGVCYXIgPSBUaXRsZUJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RpdGxlYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vc3RyaW5ndXRpbHNcIik7XHJcbnZhciBodWdlcmVwbGF5YnV0dG9uXzEgPSByZXF1aXJlKFwiLi9odWdlcmVwbGF5YnV0dG9uXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgcmVjb21tZW5kZWQgdmlkZW9zLlxyXG4gKi9cclxudmFyIFJlY29tbWVuZGF0aW9uT3ZlcmxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZWNvbW1lbmRhdGlvbk92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJlcGxheUJ1dHRvbiA9IG5ldyBodWdlcmVwbGF5YnV0dG9uXzEuSHVnZVJlcGxheUJ1dHRvbigpO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXJlY29tbWVuZGF0aW9uLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy5yZXBsYXlCdXR0b25dLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmVjb21tZW5kYXRpb25PdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjbGVhclJlY29tbWVuZGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmdldENvbXBvbmVudHMoKS5zbGljZSgpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBSZWNvbW1lbmRhdGlvbkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ3JlY29tbWVuZGF0aW9ucycpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzZXR1cFJlY29tbWVuZGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJSZWNvbW1lbmRhdGlvbnMoKTtcclxuICAgICAgICAgICAgdmFyIHJlY29tbWVuZGF0aW9ucyA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5yZWNvbW1lbmRhdGlvbnM7XHJcbiAgICAgICAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcmVjb21tZW5kYXRpb25zXzEgPSByZWNvbW1lbmRhdGlvbnM7IF9pIDwgcmVjb21tZW5kYXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByZWNvbW1lbmRhdGlvbnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KG5ldyBSZWNvbW1lbmRhdGlvbkl0ZW0oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ29uZmlnOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3JlY29tbWVuZGF0aW9uLWl0ZW0tJyArIChpbmRleCsrKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpOyAvLyBjcmVhdGUgY29udGFpbmVyIERPTSBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygncmVjb21tZW5kYXRpb25zJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgcmVjb21tZW5kYXRpb24gd2hlbiBhIHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0dXBSZWNvbW1lbmRhdGlvbnMpO1xyXG4gICAgICAgIC8vIFJlbW92ZSByZWNvbW1lbmRhdGlvbnMgYW5kIGhpZGUgb3ZlcmxheSB3aGVuIHNvdXJjZSBpcyB1bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclJlY29tbWVuZGF0aW9ucygpO1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGlzcGxheSByZWNvbW1lbmRhdGlvbnMgd2hlbiBwbGF5YmFjayBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXNtaXNzIE9OX1BMQVlCQUNLX0ZJTklTSEVEIGV2ZW50cyBhdCB0aGUgZW5kIG9mIGFkc1xyXG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGlzIHdvcmthcm91bmQgb25jZSBpc3N1ZSAjMTI3OCBpcyBzb2x2ZWRcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSByZWNvbW1lbmRhdGlvbnMgd2hlbiBwbGF5YmFjayBzdGFydHMsIGUuZy4gYSByZXN0YXJ0XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBvbiBzdGFydHVwXHJcbiAgICAgICAgc2V0dXBSZWNvbW1lbmRhdGlvbnMoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVjb21tZW5kYXRpb25PdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlJlY29tbWVuZGF0aW9uT3ZlcmxheSA9IFJlY29tbWVuZGF0aW9uT3ZlcmxheTtcclxuLyoqXHJcbiAqIEFuIGl0ZW0gb2YgdGhlIHtAbGluayBSZWNvbW1lbmRhdGlvbk92ZXJsYXl9LiBVc2VkIG9ubHkgaW50ZXJuYWxseSBpbiB7QGxpbmsgUmVjb21tZW5kYXRpb25PdmVybGF5fS5cclxuICovXHJcbnZhciBSZWNvbW1lbmRhdGlvbkl0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVjb21tZW5kYXRpb25JdGVtLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVjb21tZW5kYXRpb25JdGVtKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1yZWNvbW1lbmRhdGlvbi1pdGVtJyxcclxuICAgICAgICAgICAgaXRlbUNvbmZpZzogbnVsbCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJlY29tbWVuZGF0aW9uSXRlbS5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZy5pdGVtQ29uZmlnOyAvLyBUT0RPIGZpeCBnZW5lcmljcyBhbmQgZ2V0IHJpZCBvZiBjYXN0XHJcbiAgICAgICAgdmFyIGl0ZW1FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnYScsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgICAgICAnaHJlZic6IGNvbmZpZy51cmwsXHJcbiAgICAgICAgfSkuY3NzKHsgJ2JhY2tncm91bmQtaW1hZ2UnOiBcInVybChcIiArIGNvbmZpZy50aHVtYm5haWwgKyBcIilcIiB9KTtcclxuICAgICAgICB2YXIgYmdFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnYmFja2dyb3VuZCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZChiZ0VsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygndGl0bGUnKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2lubmVydGl0bGUnKSxcclxuICAgICAgICB9KS5odG1sKGNvbmZpZy50aXRsZSkpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aXRsZUVsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aW1lRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW5uZXJkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmh0bWwoY29uZmlnLmR1cmF0aW9uID8gc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGNvbmZpZy5kdXJhdGlvbikgOiAnJykpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aW1lRWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbkl0ZW07XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRvIHBsYXkvcmVwbGF5IGEgdmlkZW8uXHJcbiAqL1xyXG52YXIgSHVnZVJlcGxheUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUmVwbGF5QnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVJlcGxheUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaHVnZXJlcGxheWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXBsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSHVnZVJlcGxheUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh1Z2VSZXBsYXlCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYnV0dG9uRWxlbWVudCA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQWRkIGNoaWxkIHRoYXQgY29udGFpbnMgdGhlIHBsYXkgYnV0dG9uIGltYWdlXHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaW1hZ2UgZGlyZWN0bHkgb24gdGhlIGJ1dHRvbiBkb2VzIG5vdCB3b3JrIHRvZ2V0aGVyIHdpdGggc2NhbGluZyBhbmltYXRpb25zLCBiZWNhdXNlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBjYW4gY292ZXIgdGhlIHdob2xlIHZpZGVvIHBsYXllciBhcmUgYW5kIHNjYWxpbmcgd291bGQgZXh0ZW5kIGl0IGJleW9uZC4gQnkgYWRkaW5nIGFuIGlubmVyIGVsZW1lbnQsIGNvbmZpbmVkXHJcbiAgICAgICAgLy8gdG8gdGhlIHNpemUgaWYgdGhlIGltYWdlLCBpdCBjYW4gc2NhbGUgaW5zaWRlIHRoZSBwbGF5ZXIgd2l0aG91dCBvdmVyc2hvb3RpbmcuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VSZXBsYXlCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVJlcGxheUJ1dHRvbiA9IEh1Z2VSZXBsYXlCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBwbGF5YmFjayBzcGVlZHMuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tTcGVlZFNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1NwZWVkU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tTcGVlZFNlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZGVmYXVsdFBsYXliYWNrU3BlZWRzID0gWzAuMjUsIDAuNSwgMSwgMS41LCAyXTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1NwZWVkU2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkRGVmYXVsdEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFBsYXliYWNrU3BlZWQocGFyc2VGbG9hdCh2YWx1ZSkpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGxheWJhY2tTcGVlZCA9IHBsYXllci5nZXRQbGF5YmFja1NwZWVkKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNwZWVkKHBsYXliYWNrU3BlZWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gd2hlbiB0aGUgcGxheWVyIGhpdHMgb25SZWFkeSBhZ2FpbiwgYWRqdXN0IHRoZSBwbGF5YmFjayBzcGVlZCBzZWxlY3Rpb25cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0RGVmYXVsdFZhbHVlKTtcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX1NQRUVEX0NIQU5HRUQpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuOC4wXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX1NQRUVEX0NIQU5HRUQsIHNldERlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3gucHJvdG90eXBlLnNldFNwZWVkID0gZnVuY3Rpb24gKHNwZWVkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdEl0ZW0oU3RyaW5nKHNwZWVkKSkpIHtcclxuICAgICAgICAgICAgLy8gYSBwbGF5YmFjayBzcGVlZCB3YXMgc2V0IHdoaWNoIGlzIG5vdCBpbiB0aGUgbGlzdCwgYWRkIGl0IHRvIHRoZSBsaXN0IHRvIHNob3cgaXQgdG8gdGhlIHVzZXJcclxuICAgICAgICAgICAgdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRGVmYXVsdEl0ZW1zKFtzcGVlZF0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oU3RyaW5nKHNwZWVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3gucHJvdG90eXBlLmFkZERlZmF1bHRJdGVtcyA9IGZ1bmN0aW9uIChjdXN0b21JdGVtcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGN1c3RvbUl0ZW1zID09PSB2b2lkIDApIHsgY3VzdG9tSXRlbXMgPSBbXTsgfVxyXG4gICAgICAgIHZhciBzb3J0ZWRTcGVlZHMgPSB0aGlzLmRlZmF1bHRQbGF5YmFja1NwZWVkcy5jb25jYXQoY3VzdG9tSXRlbXMpLnNvcnQoKTtcclxuICAgICAgICBzb3J0ZWRTcGVlZHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShTdHJpbmcoZWxlbWVudCksIGVsZW1lbnQgKyBcInhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKFN0cmluZyhlbGVtZW50KSwgJ05vcm1hbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUGxheWJhY2tTcGVlZFNlbGVjdEJveC5wcm90b3R5cGUuY2xlYXJJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5YmFja1NwZWVkU2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlBsYXliYWNrU3BlZWRTZWxlY3RCb3ggPSBQbGF5YmFja1NwZWVkU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGEgYnVmZmVyaW5nIGluZGljYXRvci5cclxuICovXHJcbnZhciBCdWZmZXJpbmdPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEJ1ZmZlcmluZ092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdWZmZXJpbmdPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pbmRpY2F0b3JzID0gW1xyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IF90aGlzLmluZGljYXRvcnMsXHJcbiAgICAgICAgICAgIHNob3dEZWxheU1zOiAxMDAwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQnVmZmVyaW5nT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgb3ZlcmxheVNob3dUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5zaG93RGVsYXlNcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNob3dPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvdmVybGF5U2hvd1RpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBoaWRlT3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURUQsIHNob3dPdmVybGF5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIC8vIFNob3cgb3ZlcmxheSBpZiBwbGF5ZXIgaXMgYWxyZWFkeSBzdGFsbGVkIGF0IGluaXRcclxuICAgICAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQnVmZmVyaW5nT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5CdWZmZXJpbmdPdmVybGF5ID0gQnVmZmVyaW5nT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1ZmZlcmluZ292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgZXJyb3IgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUb2dnbGVPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBsYXliYWNrVG9nZ2xlT3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVG9nZ2xlT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucGxheWJhY2tUb2dnbGVCdXR0b24gPSBuZXcgaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0b2dnbGUtb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy5wbGF5YmFja1RvZ2dsZUJ1dHRvbl0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUGxheWJhY2tUb2dnbGVPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSA9IFBsYXliYWNrVG9nZ2xlT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgb3ZlcmxheXMgdGhlIHZpZGVvIGFuZCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxyXG4gKi9cclxudmFyIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQbGF5L1BhdXNlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIHN0YXRlIHRocm91Z2ggQVBJIGV2ZW50c1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIsIGZhbHNlKTtcclxuICAgICAgICB2YXIgdG9nZ2xlUGxheWJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdG9nZ2xlRnVsbHNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmV4aXRGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZW50ZXJGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmaXJzdFBsYXkgPSB0cnVlO1xyXG4gICAgICAgIHZhciBjbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIHZhciBkb3VibGVDbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogWW91VHViZS1zdHlsZSB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGEgc2hvcnQgcGF1c2Ugb3IgcGxheWJhY2sgaW50ZXJ2YWwgYmV0d2VlbiBhIGNsaWNrLCB0aGF0IHRvZ2dsZXMgcGxheWJhY2ssIGFuZCBhXHJcbiAgICAgICAgICogZG91YmxlIGNsaWNrLCB0aGF0IHRvZ2dsZXMgZnVsbHNjcmVlbi4gSW4gdGhpcyBuYWl2ZSBhcHByb2FjaCwgdGhlIGZpcnN0IGNsaWNrIHdvdWxkIGUuZy4gc3RhcnQgcGxheWJhY2ssXHJcbiAgICAgICAgICogdGhlIHNlY29uZCBjbGljayB3b3VsZCBiZSBkZXRlY3RlZCBhcyBkb3VibGUgY2xpY2sgYW5kIHRvZ2dsZSB0byBmdWxsc2NyZWVuLCBhbmQgYXMgc2Vjb25kIG5vcm1hbCBjbGljayBzdG9wXHJcbiAgICAgICAgICogcGxheWJhY2ssIHdoaWNoIHJlc3VsdHMgaXMgYSBzaG9ydCBwbGF5YmFjayBpbnRlcnZhbCB3aXRoIG1heCBsZW5ndGggb2YgdGhlIGRvdWJsZSBjbGljayBkZXRlY3Rpb25cclxuICAgICAgICAgKiBwZXJpb2QgKHVzdWFsbHkgNTAwbXMpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVG8gc29sdmUgdGhpcyBpc3N1ZSwgd2UgZGVmZXIgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IGNsaWNrIGZvciAyMDBtcywgd2hpY2ggaXMgYWxtb3N0IHVubm90aWNlYWJsZSB0byB0aGUgdXNlcixcclxuICAgICAgICAgKiBhbmQganVzdCB0b2dnbGUgcGxheWJhY2sgaWYgbm8gc2Vjb25kIGNsaWNrIChkb3VibGUgY2xpY2spIGhhcyBiZWVuIHJlZ2lzdGVyZWQgZHVyaW5nIHRoaXMgcGVyaW9kLiBJZiBhIGRvdWJsZVxyXG4gICAgICAgICAqIGNsaWNrIGlzIHJlZ2lzdGVyZWQsIHdlIGp1c3QgdG9nZ2xlIHRoZSBmdWxsc2NyZWVuLiBJbiB0aGUgZmlyc3QgMjAwbXMsIHVuZGVzaXJlZCBwbGF5YmFjayBjaGFuZ2VzIHRodXMgY2Fubm90XHJcbiAgICAgICAgICogaGFwcGVuLiBJZiBhIGRvdWJsZSBjbGljayBpcyByZWdpc3RlcmVkIHdpdGhpbiA1MDBtcywgd2UgdW5kbyB0aGUgcGxheWJhY2sgY2hhbmdlIGFuZCBzd2l0Y2ggZnVsbHNjcmVlbiBtb2RlLlxyXG4gICAgICAgICAqIEluIHRoZSBlbmQsIHRoaXMgbWV0aG9kIGJhc2ljYWxseSBpbnRyb2R1Y2VzIGEgMjAwbXMgb2JzZXJ2aW5nIGludGVydmFsIGluIHdoaWNoIHBsYXliYWNrIGNoYW5nZXMgYXJlIHByZXZlbnRlZFxyXG4gICAgICAgICAqIGlmIGEgZG91YmxlIGNsaWNrIGhhcHBlbnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpcmVjdGx5IHN0YXJ0IHBsYXliYWNrIG9uIGZpcnN0IGNsaWNrIG9mIHRoZSBidXR0b24uXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1aXJlZCB3b3JrYXJvdW5kIGZvciBtb2JpbGUgYnJvd3NlcnMgd2hlcmUgdmlkZW8gcGxheWJhY2sgbmVlZHMgdG8gYmUgdHJpZ2dlcmVkIGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIGJ5IHRoZSB1c2VyLiBBIGRlZmVycmVkIHBsYXliYWNrIHN0YXJ0IHRocm91Z2ggdGhlIHRpbWVvdXQgYmVsb3cgaXMgbm90IGNvbnNpZGVyZWQgYXMgdXNlciBhY3Rpb24gYW5kXHJcbiAgICAgICAgICAgIC8vIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IG1vYmlsZSBicm93c2Vycy5cclxuICAgICAgICAgICAgaWYgKGZpcnN0UGxheSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHN0YXJ0IHBsYXliYWNrLiBUaGVuIHdlIHdhaXQgZm9yIE9OX1BMQVkgYW5kIG9ubHkgd2hlbiBpdCBhcnJpdmVzLCB3ZSBkaXNhYmxlIHRoZSBmaXJzdFBsYXkgZmxhZy5cclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRpc2FibGUgdGhlIGZsYWcgaGVyZSwgb25DbGljayB3YXMgdHJpZ2dlcmVkIHByb2dyYW1tYXRpY2FsbHkgaW5zdGVhZCBvZiBieSBhIHVzZXIgaW50ZXJhY3Rpb24sIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gcGxheWJhY2sgaXMgYmxvY2tlZCAoZS5nLiBvbiBtb2JpbGUgZGV2aWNlcyBkdWUgdG8gdGhlIHByb2dyYW1tYXRpYyBwbGF5KCkgY2FsbCksIHdlIGxvb3NlIHRoZSBjaGFuY2UgdG9cclxuICAgICAgICAgICAgICAgIC8vIGV2ZXIgc3RhcnQgcGxheWJhY2sgdGhyb3VnaCBhIHVzZXIgaW50ZXJhY3Rpb24gYWdhaW4gd2l0aCB0aGlzIGJ1dHRvbi5cclxuICAgICAgICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChub3cgLSBjbGlja1RpbWUgPCAyMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBkb3VibGUgY2xpY2sgaW5zaWRlIHRoZSAyMDBtcyBpbnRlcnZhbCwganVzdCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICBkb3VibGVDbGlja1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobm93IC0gY2xpY2tUaW1lIDwgNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgZG91YmxlIGNsaWNrIGluc2lkZSB0aGUgNTAwbXMgaW50ZXJ2YWwsIHVuZG8gcGxheWJhY2sgdG9nZ2xlIGFuZCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xyXG4gICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsaWNrVGltZSA9IG5vdztcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIGRvdWJsZUNsaWNrVGltZSA+IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGRvdWJsZSBjbGljayBkZXRlY3RlZCwgc28gd2UgdG9nZ2xlIHBsYXliYWNrIGFuZCB3YWl0IHdoYXQgaGFwcGVucyBuZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUGxheWJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXliYWNrIGhhcyByZWFsbHkgc3RhcnRlZCwgd2UgY2FuIGRpc2FibGUgdGhlIGZsYWcgdG8gc3dpdGNoIHRvIG5vcm1hbCB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIGZpcnN0UGxheSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1dBUk5JTkcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyA1MDA4ID09IFBsYXliYWNrIGNvdWxkIG5vdCBiZSBzdGFydGVkXHJcbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSA1MDA4KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBwbGF5YmFjayBjb3VsZCBub3QgYmUgc3RhcnRlZCwgcmVzZXQgdGhlIGZpcnN0IHBsYXkgZmxhZyBhcyB3ZSBuZWVkIHRoZSB1c2VyIGludGVyYWN0aW9uIHRvIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICBmaXJzdFBsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSBidXR0b24gd2hpbGUgaW5pdGlhbGl6aW5nIGEgQ2FzdCBzZXNzaW9uXHJcbiAgICAgICAgdmFyIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJUKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIGJ1dHRvbiB3aGVuIHNlc3Npb24gaXMgYmVpbmcgaW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFNob3cgYnV0dG9uIHdoZW4gc2Vzc2lvbiBpcyBlc3RhYmxpc2hlZCBvciBpbml0aWFsaXphdGlvbiB3YXMgYWJvcnRlZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJULCBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgdmFyIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgdGhlIGN1cnJlbnQgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnNldFRyYW5zaXRpb25BbmltYXRpb25zRW5hYmxlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIEVuYWJsZSB0aGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgbmV4dCBzdGF0ZSBjaGFuZ2VcclxuICAgICAgICAgICAgX3RoaXMub25Ub2dnbGUuc3Vic2NyaWJlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uQW5pbWF0aW9uc0VuYWJsZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgcGxheSBidXR0b24gYW5pbWF0aW9uIHdoZW4gdGhlIFVJIGlzIGxvYWRlZCAoaXQgc2hvdWxkIG9ubHkgYmUgYW5pbWF0ZWQgb24gc3RhdGUgY2hhbmdlcylcclxuICAgICAgICBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgdmFyIGlzQXV0b3BsYXlFbmFibGVkID0gcGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrICYmIEJvb2xlYW4ocGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrLmF1dG9wbGF5KTtcclxuICAgICAgICAvLyBXZSBvbmx5IGtub3cgaWYgYW4gYXV0b3BsYXkgYXR0ZW1wdCBpcyB1cGNvbWluZyBpZiB0aGUgcGxheWVyIGlzIG5vdCB5ZXQgcmVhZHkuIEl0IHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeSxcclxuICAgICAgICAvLyB0aGUgYXR0ZW1wdCBtaWdodCBiZSB1cGNvbWluZyBvciBtaWdodCBoYXZlIGFscmVhZHkgaGFwcGVuZWQsIGJ1dCB3ZSBkb24ndCBoYXZlIHRvIGhhbmRsZSB0aGF0IGJlY2F1c2Ugd2UgY2FuXHJcbiAgICAgICAgLy8gc2ltcGx5IHJlbHkgb24gaXNQbGF5aW5nIGFuZCB0aGUgcGxheSBzdGF0ZSBldmVudHMuXHJcbiAgICAgICAgdmFyIGlzQXV0b3BsYXlVcGNvbWluZyA9ICFwbGF5ZXIuaXNSZWFkeSgpICYmIGlzQXV0b3BsYXlFbmFibGVkO1xyXG4gICAgICAgIC8vIEhpZGUgdGhlIHBsYXkgYnV0dG9uIHdoZW4gdGhlIHBsYXllciBpcyBhbHJlYWR5IHBsYXlpbmcgb3IgYXV0b3BsYXkgaXMgdXBjb21pbmdcclxuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpIHx8IGlzQXV0b3BsYXlVcGNvbWluZykge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBwbGF5IGJ1dHRvbiAoc3dpdGNoIHRvIHBsYXlpbmcgc3RhdGUpXHJcbiAgICAgICAgICAgIHRoaXMub24oKTtcclxuICAgICAgICAgICAgLy8gRGlzYWJsZSB0aGUgYW5pbWF0aW9uIG9mIHRoZSBwbGF5aW5nIHN0YXRlIHN3aXRjaFxyXG4gICAgICAgICAgICBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHBsYXkgYnV0dG9uIHdpdGhvdXQgYW4gYW5pbWF0aW9uIGlmIGEgcGxheSBhdHRlbXB0IGlzIGJsb2NrZWRcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fV0FSTklORywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gNTAwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxyXG4gICAgICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcclxuICAgICAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cclxuICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdpbWFnZScpLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHBsYXkgc3RhdGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIG9mIHRoZSBwbGF5IGJ1dHRvbiBpbWFnZS4gQ2FuIGJlIHVzZWQgdG8gc3VwcHJlc3NcclxuICAgICAqIGFuaW1hdGlvbnMuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgdGhlIGFuaW1hdGlvbnMgKGRlZmF1bHQpLCBmYWxzZSB0byBkaXNhYmxlIHRoZW1cclxuICAgICAqL1xyXG4gICAgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5zZXRUcmFuc2l0aW9uQW5pbWF0aW9uc0VuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBub1RyYW5zaXRpb25BbmltYXRpb25zQ2xhc3MgPSB0aGlzLnByZWZpeENzcygnbm8tdHJhbnNpdGlvbi1hbmltYXRpb25zJyk7XHJcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuZ2V0RG9tRWxlbWVudCgpLmhhc0NsYXNzKG5vVHJhbnNpdGlvbkFuaW1hdGlvbnNDbGFzcykpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxufShwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uID0gSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IGNsb3NlcyAoaGlkZXMpIGEgY29uZmlndXJlZCBjb21wb25lbnQuXHJcbiAqL1xyXG52YXIgQ2xvc2VCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xvc2VCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbG9zZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY2xvc2VidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQ2xvc2UnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25maWcudGFyZ2V0LmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xvc2VCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xvc2VCdXR0b24gPSBDbG9zZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nsb3NlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgQXBwbGUgQWlyUGxheS5cclxuICovXHJcbnZhciBBaXJQbGF5VG9nZ2xlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFpclBsYXlUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBaXJQbGF5VG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1haXJwbGF5dG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ0FwcGxlIEFpclBsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWlyUGxheVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICBpZiAoIXBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHBsYXllciBkb2VzIG5vdCBzdXBwb3J0IEFpcnBsYXkgKHBsYXllciA3LjApLCB3ZSBqdXN0IGhpZGUgdGhpcyBjb21wb25lbnQgYW5kIHNraXAgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNob3dBaXJwbGF5VGFyZ2V0UGlja2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uc29sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBaXJQbGF5IHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgYWlyUGxheUF2YWlsYWJsZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNBaXJwbGF5QXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQUlSUExBWV9BVkFJTEFCTEUsIGFpclBsYXlBdmFpbGFibGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBhaXJQbGF5QXZhaWxhYmxlSGFuZGxlcigpOyAvLyBIaWRlIGJ1dHRvbiBpZiBBaXJQbGF5IGlzIG5vdCBhdmFpbGFibGVcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWlyUGxheVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5BaXJQbGF5VG9nZ2xlQnV0dG9uID0gQWlyUGxheVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBBcHBsZSBtYWNPUyBwaWN0dXJlLWluLXBpY3R1cmUgbW9kZS5cclxuICovXHJcbnZhciBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1waXB0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGljdHVyZS1pbi1QaWN0dXJlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBQSVAgKHBsYXllciA3LjApLCB3ZSBqdXN0IGhpZGUgdGhpcyBjb21wb25lbnQgYW5kIHNraXAgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BpY3R1cmVJblBpY3R1cmVBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc1BpY3R1cmVJblBpY3R1cmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5leGl0UGljdHVyZUluUGljdHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVudGVyUGljdHVyZUluUGljdHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUElQIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGlwQXZhaWxhYmxlSGFuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGljdHVyZUluUGljdHVyZUF2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBwaXBBdmFpbGFibGVIYW5kZXIpO1xyXG4gICAgICAgIC8vIFRvZ2dsZSBidXR0b24gJ29uJyBzdGF0ZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BJQ1RVUkVfSU5fUElDVFVSRV9FTlRFUiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BJQ1RVUkVfSU5fUElDVFVSRV9FWElULCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIHBpcEF2YWlsYWJsZUhhbmRlcigpOyAvLyBIaWRlIGJ1dHRvbiBpZiBQSVAgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5QaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uID0gUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbnZhciBiaXRtb3Zpbl9wbGF5ZXJfY29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vYml0bW92aW4tcGxheWVyLmNvbnRyb2xsZXJcIik7XHJcbnZhciBiaXRtb3Zpbl9wbGF5ZXJfZGlyZWN0aXZlXzEgPSByZXF1aXJlKFwiLi9iaXRtb3Zpbi1wbGF5ZXIuZGlyZWN0aXZlXCIpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBhbmd1bGFyLm1vZHVsZSgnbWkuQml0ZGFzaFBsYXllcicsIFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ01pQml0ZGFzaENvbnRyb2xsZXInLCBiaXRtb3Zpbl9wbGF5ZXJfY29udHJvbGxlcl8xLmRlZmF1bHQpXHJcbiAgICAuZGlyZWN0aXZlKCdtaUJpdGRhc2hQbGF5ZXInLCBiaXRtb3Zpbl9wbGF5ZXJfZGlyZWN0aXZlXzEuZGVmYXVsdCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vaW5kZXgudHNcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbnZhciBwcmVmZXJyZWRfdGVjaF90eXBlc18xID0gcmVxdWlyZShcIi4vcHJlZmVycmVkLXRlY2gudHlwZXNcIik7XHJcbnZhciB3ZWJjYXN0X3N0YXRlXzEgPSByZXF1aXJlKFwiLi93ZWJjYXN0LnN0YXRlXCIpO1xyXG52YXIgQml0bW92aW5QbGF5ZXJDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQml0bW92aW5QbGF5ZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xyXG4gICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgIHRoaXMuJGxvZyA9ICRsb2c7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb25maWcgPSB7IGtleTogbnVsbCB9O1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIEJpdG1vdmluUGxheWVyQ29udHJvbGxlci5wcm90b3R5cGUuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaGFzVmFsaWRDb25maWcgPSB0aGlzLiRzY29wZS5jb25maWcgJiYgdGhpcy4kc2NvcGUuY29uZmlnLmtleSAmJiB0aGlzLiRzY29wZS53ZWJjYXN0O1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLiRzY29wZS5zdGF0ZSA9IHt9O1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuJHNjb3BlLm9wdGlvbnMgfHwge307XHJcbiAgICAgICAgaWYgKGhhc1ZhbGlkQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyQ29uZmlnID0gdGhpcy4kc2NvcGUuY29uZmlnO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NXZWJjYXN0KHRoaXMuJHNjb3BlLndlYmNhc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKFwiYmFzaWMgY29uZmlnIGZvciBiaXRkYXNoIHBsYXllciBpcyBtaXNzaW5nIVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5QbGF5ZXJDb250cm9sbGVyLnByb3RvdHlwZS5wcm9jZXNzV2ViY2FzdCA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5vcHRpb25zLmZvcmNlZFN0YXRlIHx8IHdlYmNhc3Quc3RhdGU7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIHdlYmNhc3Rfc3RhdGVfMS5XZWJjYXN0U3RhdGUuT05ERU1BTkQ6XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFuZ3VhZ2VJbmRleF8xID0gMDtcclxuICAgICAgICAgICAgICAgIHdlYmNhc3QubGFuZ3VhZ2VzLnNvbWUoZnVuY3Rpb24gKGxhbmcsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdlYmNhc3QubGFuZ3VhZ2UgPT09IGxhbmcubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VJbmRleF8xID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhID0gd2ViY2FzdC5sYW5ndWFnZXNbbGFuZ3VhZ2VJbmRleF8xXS5vbmRlbWFuZFN0YXRlRGF0YTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhID0gd2ViY2FzdFtzdGF0ZSArICdTdGF0ZURhdGEnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb25maWcuc291cmNlID0gdGhpcy5nZXRQbGF5ZXJDb25maWdTb3VyY2Uod2ViY2FzdCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb25maWcuc3R5bGUgPSB7IHV4OiBmYWxzZSB9O1xyXG4gICAgICAgIHRoaXMuc3RhdGUuZGF0YS5oaXZlU2V0dGluZ3MgPSBudWxsO1xyXG4gICAgICAgIHZhciBzZXJ2aWNlVXJsID0gdGhpcy5nZXRIaXZlU2VydmljZVVybEJ5TGFuZyh0aGlzLiRzY29wZS53ZWJjYXN0KTtcclxuICAgICAgICBpZiAoc2VydmljZVVybCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRhdGEuaGl2ZVNldHRpbmdzID0ge1xyXG4gICAgICAgICAgICAgICAgc2VydmljZVVybDogc2VydmljZVVybCxcclxuICAgICAgICAgICAgICAgIG9yaWdIbHNVcmw6IHRoaXMucGxheWVyQ29uZmlnLnNvdXJjZS5obHMsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGUuZGF0YS5wcmVmZXJyZWRUZWNoID0gdGhpcy5nZXREZWZhdWx0UHJlZmVycmVkVGVjaCh3ZWJjYXN0KTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllckNvbmZpZ1NvdXJjZSA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIHBvc3RMaXZlRFZSUGxheWJhY2sgPSB3ZWJjYXN0LnVzZURWUlBsYXliYWNrSW5Qb3N0bGl2ZSAmJiB3ZWJjYXN0LnN0YXRlID09PSB3ZWJjYXN0X3N0YXRlXzEuV2ViY2FzdFN0YXRlLlBPU1RfTElWRTtcclxuICAgICAgICByZXR1cm4gcG9zdExpdmVEVlJQbGF5YmFjayA/IHRoaXMuZ2V0RFZSUGxheWJhY2tTb3VyY2Uod2ViY2FzdCkgOiB0aGlzLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUod2ViY2FzdCk7XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5QbGF5ZXJDb250cm9sbGVyLnByb3RvdHlwZS5nZXREVlJQbGF5YmFja1NvdXJjZSA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gd2ViY2FzdC5uYW1lO1xyXG4gICAgICAgIHZhciBobHMgPSB3ZWJjYXN0WydsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5obHNEdnJVcmw7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHdlYmNhc3RbJ3Bvc3RsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5vZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludCh3ZWJjYXN0Wydwb3N0bGl2ZVN0YXRlRGF0YSddLnBsYXlvdXQub2Zmc2V0LCAxMCk7XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSB3ZWJjYXN0WydsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5obHNEdnJVcmw7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJ3b3d6YWR2cnBsYXlsaXN0c3RhcnQ9XCIgKyBvZmZzZXQgKyBcIjAwMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGhsczogaGxzLCB0aXRsZTogdGl0bGUgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUgPSBmdW5jdGlvbiAod2ViY2FzdCkge1xyXG4gICAgICAgIHZhciBobHMgPSB0aGlzLnN0YXRlLmRhdGEucGxheW91dC5obHNVcmw7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gd2ViY2FzdC5uYW1lO1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC52aWRlb01hbmFnZXJIbHNVcmwpICYmIHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybCkge1xyXG4gICAgICAgICAgICBobHMgPSB0aGlzLnN0YXRlLmRhdGEucGxheW91dC52aWRlb01hbmFnZXJIbHNVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC5vZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC5vZmZzZXQsIDEwKTtcclxuICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSBobHM7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJzdGFydD1cIiArIG9mZnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBobHM6IGhscywgdGl0bGU6IHRpdGxlIH07XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5QbGF5ZXJDb250cm9sbGVyLnByb3RvdHlwZS5nZXRIaXZlU2VydmljZVVybEJ5TGFuZyA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIGhpdmVTZXJ2aWNlVXJsID0gbnVsbDtcclxuICAgICAgICBpZiAod2ViY2FzdC5sYW5ndWFnZXMgJiYgd2ViY2FzdC5sYW5ndWFnZSkge1xyXG4gICAgICAgICAgICB3ZWJjYXN0Lmxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlLmxhbmd1YWdlID09PSB3ZWJjYXN0Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl2ZVNlcnZpY2VVcmwgPSBsYW5ndWFnZS5oaXZlU2VydmljZVVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoaXZlU2VydmljZVVybDtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIucHJvdG90eXBlLmdldERlZmF1bHRQcmVmZXJyZWRUZWNoID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgdGVjaCA9IHByZWZlcnJlZF90ZWNoX3R5cGVzXzEuUHJlZmVycmVkVGVjaC5ERUZBVUxUO1xyXG4gICAgICAgIGlmICh3ZWJjYXN0LnN0YXRlID09PSB3ZWJjYXN0X3N0YXRlXzEuV2ViY2FzdFN0YXRlLkxJVkUgJiYgdGhpcy5zdGF0ZS5kYXRhLmhpdmVTZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0ZWNoID0gcHJlZmVycmVkX3RlY2hfdHlwZXNfMS5QcmVmZXJyZWRUZWNoLkhJVkU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZWNoO1xyXG4gICAgfTtcclxuICAgIEJpdG1vdmluUGxheWVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xyXG4gICAgcmV0dXJuIEJpdG1vdmluUGxheWVyQ29udHJvbGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQml0bW92aW5QbGF5ZXJDb250cm9sbGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2JpdG1vdmluLXBsYXllci5jb250cm9sbGVyLnRzXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgV2ViY2FzdFN0YXRlO1xyXG4oZnVuY3Rpb24gKFdlYmNhc3RTdGF0ZSkge1xyXG4gICAgV2ViY2FzdFN0YXRlW1wiTElWRVwiXSA9IFwibGl2ZVwiO1xyXG4gICAgV2ViY2FzdFN0YXRlW1wiUE9TVF9MSVZFXCJdID0gXCJwb3N0bGl2ZVwiO1xyXG4gICAgV2ViY2FzdFN0YXRlW1wiT05ERU1BTkRcIl0gPSBcIm9uZGVtYW5kXCI7XHJcbn0pKFdlYmNhc3RTdGF0ZSA9IGV4cG9ydHMuV2ViY2FzdFN0YXRlIHx8IChleHBvcnRzLldlYmNhc3RTdGF0ZSA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vd2ViY2FzdC5zdGF0ZS50c1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcclxudmFyIHByZWZlcnJlZF90ZWNoX3R5cGVzXzEgPSByZXF1aXJlKFwiLi9wcmVmZXJyZWQtdGVjaC50eXBlc1wiKTtcclxudmFyIEJpdG1vdmluUGxheWVyRGlyZWN0aXZlID0gZnVuY3Rpb24gKCR3aW5kb3csICRsb2cpIHsgcmV0dXJuICh7XHJcbiAgICBjb250cm9sbGVyOiAnTWlCaXRkYXNoQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdiaXRkYXNoVm0nLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgICBjb25maWc6ICc9JyxcclxuICAgICAgICBvcHRpb25zOiAnPT8nLFxyXG4gICAgICAgIHdlYmNhc3Q6ICc9JyxcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogXCI8ZGl2IGlkPVxcXCJtaS1iaXRkYXNoLXBsYXllclxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiYXV0b1xcXCI+PC9kaXY+XCIsXHJcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuICAgICAgICB2YXIgcGxheWVySWQgPSAnbWktYml0ZGFzaC1wbGF5ZXInO1xyXG4gICAgICAgIHZhciB3ZWJjYXN0ID0gc2NvcGUud2ViY2FzdDtcclxuICAgICAgICB2YXIgYml0bW92aW5QbGF5ZXJDb25maWcgPSBzY29wZS5jb25maWc7XHJcbiAgICAgICAgdmFyIGJpdG1vdmluVUlNYW5hZ2VyO1xyXG4gICAgICAgIHZhciBiaXRtb3ZpbkNvbnRyb2xiYXI7XHJcbiAgICAgICAgdmFyIGJpdG1vdmluUGxheWVyO1xyXG4gICAgICAgIHZhciBoaXZlUGx1Z2luRmFpbGVkID0gZmFsc2U7XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgICAgIGJpdG1vdmluUGxheWVyID0gZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgICAgIHZhciBoYXNQbGF5ZXIgPSBhbmd1bGFyLmlzRGVmaW5lZChiaXRtb3ZpblBsYXllcikgJiYgYml0bW92aW5QbGF5ZXIuaXNSZWFkeSgpID09PSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzUGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllciA9IGdldFBsYXllcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzY29wZS5zdGF0ZS5kYXRhLnByZWZlcnJlZFRlY2ggPT09IHByZWZlcnJlZF90ZWNoX3R5cGVzXzEuUHJlZmVycmVkVGVjaC5ISVZFKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0SGl2ZVBsdWdpbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNyZWF0ZVBsYXllcihiaXRtb3ZpblBsYXllckNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRIaXZlUGx1Z2luKCkge1xyXG4gICAgICAgICAgICB2YXIgaGl2ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBIaXZlSmF2YToge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhpdmVFcnJvckhhbmRsZXIoKTsgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWJ1Z0xldmVsOiAnb2ZmJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYml0bW92aW5QbGF5ZXJDb25maWcuc291cmNlLmhscyA9IG51bGw7XHJcbiAgICAgICAgICAgIGJpdG1vdmluUGxheWVyQ29uZmlnLnNvdXJjZS5obHNfdGlja2V0ID0gc2NvcGUuc3RhdGUuZGF0YS5oaXZlU2V0dGluZ3Muc2VydmljZVVybDtcclxuICAgICAgICAgICAgJHdpbmRvdy53aW5kb3cuYml0bW92aW4uaW5pdEhpdmVTRE4oYml0bW92aW5QbGF5ZXIsIGhpdmVPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGxheWVyKGNvbmYpIHtcclxuICAgICAgICAgICAgYml0bW92aW5QbGF5ZXIuc2V0dXAoY29uZilcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyID0gJHdpbmRvdy53aW5kb3cuYml0bW92aW4ucGxheWVydWkuVUlNYW5hZ2VyLkZhY3Rvcnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNBdWRpb09ubHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9Pbmx5VUkoYml0bW92aW5QbGF5ZXIsIGdldEF1ZGlvT25seVBsYXllckNvbmZpZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9WaWRlb1VJKGJpdG1vdmluUGxheWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJpdG1vdmluQ29udHJvbGJhciA9IGdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JpdG1vdmlucGxheWVyLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJpdG1vdmluQ29udHJvbGJhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluQ29udHJvbGJhci5zdHlsZS5taW5XaWR0aCA9ICcxNzVweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyLnN0eWxlLm1pbkhlaWdodCA9ICcxMDFweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpdG1vdmlucGxheWVyLXZpZGVvLW1pLWJpdGRhc2gtcGxheWVyJykuc2V0QXR0cmlidXRlKCd0aXRsZScsIHdlYmNhc3QubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICRsb2cubG9nKFwiRXJyb3I6IFwiICsgcmVhc29uLmNvZGUgKyBcIiAtIFwiICsgcmVhc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpdmVQbHVnaW5GYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXZlUGx1Z2luRmFpbGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5QbGF5ZXJDb25maWcuc291cmNlLmhscyA9IHNjb3BlLnN0YXRlLmRhdGEuaGl2ZVNldHRpbmdzLm9yaWdIbHNVcmw7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBsYXllcihiaXRtb3ZpblBsYXllckNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNjApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaGl2ZUVycm9ySGFuZGxlcigpIHtcclxuICAgICAgICAgICAgaGl2ZVBsdWdpbkZhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEF1ZGlvT25seVBsYXllckNvbmZpZygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdlYmNhc3QudGhlbWUuYXVkaW9Pbmx5RmlsZVVybCA/IHsgYXVkaW9Pbmx5T3ZlcmxheUNvbmZpZzogeyBiYWNrZ3JvdW5kSW1hZ2VVcmw6IHdlYmNhc3QudGhlbWUuYXVkaW9Pbmx5RmlsZVVybCwgaGlkZGVJbmRpY2F0b3I6IHRydWUgfSB9IDoge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzQXVkaW9Pbmx5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2ViY2FzdC5sYXlvdXQubGF5b3V0ID09PSAnYXVkaW8tb25seSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFBsYXllcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcihwbGF5ZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTsgfTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQml0bW92aW5QbGF5ZXJEaXJlY3RpdmU7XHJcbkJpdG1vdmluUGxheWVyRGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGxvZyddO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2JpdG1vdmluLXBsYXllci5kaXJlY3RpdmUudHNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9J3BsYXllci5kLnRzJyAvPlxyXG52YXIgdWltYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi91aW1hbmFnZXJcIik7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYnV0dG9uXCIpO1xyXG52YXIgY29udHJvbGJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250cm9sYmFyXCIpO1xyXG52YXIgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9mdWxsc2NyZWVudG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHBsYXliYWNrdGltZWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJcIik7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2VsZWN0Ym94XCIpO1xyXG52YXIgaXRlbXNlbGVjdGlvbmxpc3RfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaXRlbXNlbGVjdGlvbmxpc3RcIik7XHJcbnZhciBzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxcIik7XHJcbnZhciBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy90b2dnbGVidXR0b25cIik7XHJcbnZhciB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdmlkZW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgdm9sdW1ldG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZydG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZydG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgd2F0ZXJtYXJrXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3dhdGVybWFya1wiKTtcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3VpY29udGFpbmVyXCIpO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2xhYmVsXCIpO1xyXG52YXIgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIGF1ZGlvdHJhY2tzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveFwiKTtcclxudmFyIGNhc3RzdGF0dXNvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nhc3RzdGF0dXNvdmVybGF5XCIpO1xyXG52YXIgY2FzdHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jYXN0dG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbXBvbmVudFwiKTtcclxudmFyIGVycm9ybWVzc2FnZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheVwiKTtcclxudmFyIHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXlcIik7XHJcbnZhciBzZWVrYmFybGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhcmxhYmVsXCIpO1xyXG52YXIgc3VidGl0bGVvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheVwiKTtcclxudmFyIHN1YnRpdGxlc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2VsZWN0Ym94XCIpO1xyXG52YXIgdGl0bGViYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdGl0bGViYXJcIik7XHJcbnZhciB2b2x1bWVjb250cm9sYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b25cIik7XHJcbnZhciBjbGlja292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5XCIpO1xyXG52YXIgYWRza2lwYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Fkc2tpcGJ1dHRvblwiKTtcclxudmFyIGFkbWVzc2FnZWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FkbWVzc2FnZWxhYmVsXCIpO1xyXG52YXIgYWRjbGlja292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYWRjbGlja292ZXJsYXlcIik7XHJcbnZhciBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrc3BlZWRzZWxlY3Rib3hcIik7XHJcbnZhciBodWdlcmVwbGF5YnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b25cIik7XHJcbnZhciBidWZmZXJpbmdvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2J1ZmZlcmluZ292ZXJsYXlcIik7XHJcbnZhciBjYXN0dWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheVwiKTtcclxudmFyIGNsb3NlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nsb3NlYnV0dG9uXCIpO1xyXG52YXIgbWV0YWRhdGFsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsXCIpO1xyXG52YXIgYWlycGxheXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9haXJwbGF5dG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdm9sdW1lc2xpZGVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHBpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHNwYWNlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zcGFjZXJcIik7XHJcbnZhciBiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hcIik7XHJcbnZhciBiYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2JhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgY2hhcmFjdGVyZWRnZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3hcIik7XHJcbnZhciBmb250Y29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250Y29sb3JzZWxlY3Rib3hcIik7XHJcbnZhciBmb250ZmFtaWx5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udGZhbWlseXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRvcGFjaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udG9wYWNpdHlzZWxlY3Rib3hcIik7XHJcbnZhciBmb250c2l6ZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRzaXplc2VsZWN0Ym94XCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NidXR0b25cIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25cIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVsXCIpO1xyXG52YXIgd2luZG93Y29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy93aW5kb3djb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIHdpbmRvd29wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy93aW5kb3dvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgYXJyYXl1dGlsc18xID0gcmVxdWlyZShcIi4vYXJyYXl1dGlsc1wiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi9zdHJpbmd1dGlsc1wiKTtcclxudmFyIHBsYXllcnV0aWxzXzEgPSByZXF1aXJlKFwiLi9wbGF5ZXJ1dGlsc1wiKTtcclxudmFyIHVpdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3VpdXRpbHNcIik7XHJcbnZhciBicm93c2VydXRpbHNfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXJ1dGlsc1wiKTtcclxudmFyIHN0b3JhZ2V1dGlsc18xID0gcmVxdWlyZShcIi4vc3RvcmFnZXV0aWxzXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXCIpO1xyXG4vLyBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGZvciBFUzUvSUU5XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RlL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cclxuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICd1c2Ugc3RyaWN0JztcclxuICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldCA9IE9iamVjdCh0YXJnZXQpO1xyXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxufVxyXG52YXIgcGxheWVydWkgPSB7XHJcbiAgICB2ZXJzaW9uOiAne3tWRVJTSU9OfX0nLFxyXG4gICAgLy8gTWFuYWdlbWVudFxyXG4gICAgVUlNYW5hZ2VyOiB1aW1hbmFnZXJfMS5VSU1hbmFnZXIsXHJcbiAgICBVSUluc3RhbmNlTWFuYWdlcjogdWltYW5hZ2VyXzEuVUlJbnN0YW5jZU1hbmFnZXIsXHJcbiAgICAvLyBVdGlsc1xyXG4gICAgQXJyYXlVdGlsczogYXJyYXl1dGlsc18xLkFycmF5VXRpbHMsXHJcbiAgICBTdHJpbmdVdGlsczogc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscyxcclxuICAgIFBsYXllclV0aWxzOiBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLFxyXG4gICAgVUlVdGlsczogdWl1dGlsc18xLlVJVXRpbHMsXHJcbiAgICBCcm93c2VyVXRpbHM6IGJyb3dzZXJ1dGlsc18xLkJyb3dzZXJVdGlscyxcclxuICAgIFN0b3JhZ2VVdGlsczogc3RvcmFnZXV0aWxzXzEuU3RvcmFnZVV0aWxzLFxyXG4gICAgLy8gQ29tcG9uZW50c1xyXG4gICAgQWRDbGlja092ZXJsYXk6IGFkY2xpY2tvdmVybGF5XzEuQWRDbGlja092ZXJsYXksXHJcbiAgICBBZE1lc3NhZ2VMYWJlbDogYWRtZXNzYWdlbGFiZWxfMS5BZE1lc3NhZ2VMYWJlbCxcclxuICAgIEFkU2tpcEJ1dHRvbjogYWRza2lwYnV0dG9uXzEuQWRTa2lwQnV0dG9uLFxyXG4gICAgQWlyUGxheVRvZ2dsZUJ1dHRvbjogYWlycGxheXRvZ2dsZWJ1dHRvbl8xLkFpclBsYXlUb2dnbGVCdXR0b24sXHJcbiAgICBBdWRpb1F1YWxpdHlTZWxlY3RCb3g6IGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCxcclxuICAgIEF1ZGlvVHJhY2tTZWxlY3RCb3g6IGF1ZGlvdHJhY2tzZWxlY3Rib3hfMS5BdWRpb1RyYWNrU2VsZWN0Qm94LFxyXG4gICAgQnVmZmVyaW5nT3ZlcmxheTogYnVmZmVyaW5nb3ZlcmxheV8xLkJ1ZmZlcmluZ092ZXJsYXksXHJcbiAgICBCdXR0b246IGJ1dHRvbl8xLkJ1dHRvbixcclxuICAgIENhc3RTdGF0dXNPdmVybGF5OiBjYXN0c3RhdHVzb3ZlcmxheV8xLkNhc3RTdGF0dXNPdmVybGF5LFxyXG4gICAgQ2FzdFRvZ2dsZUJ1dHRvbjogY2FzdHRvZ2dsZWJ1dHRvbl8xLkNhc3RUb2dnbGVCdXR0b24sXHJcbiAgICBDYXN0VUlDb250YWluZXI6IGNhc3R1aWNvbnRhaW5lcl8xLkNhc3RVSUNvbnRhaW5lcixcclxuICAgIENsaWNrT3ZlcmxheTogY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5LFxyXG4gICAgQ2xvc2VCdXR0b246IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24sXHJcbiAgICBDb21wb25lbnQ6IGNvbXBvbmVudF8xLkNvbXBvbmVudCxcclxuICAgIENvbnRhaW5lcjogY29udGFpbmVyXzEuQ29udGFpbmVyLFxyXG4gICAgQ29udHJvbEJhcjogY29udHJvbGJhcl8xLkNvbnRyb2xCYXIsXHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5OiBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSxcclxuICAgIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b246IGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMS5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uLFxyXG4gICAgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uOiBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMS5IdWdlUGxheWJhY2tUb2dnbGVCdXR0b24sXHJcbiAgICBIdWdlUmVwbGF5QnV0dG9uOiBodWdlcmVwbGF5YnV0dG9uXzEuSHVnZVJlcGxheUJ1dHRvbixcclxuICAgIExhYmVsOiBsYWJlbF8xLkxhYmVsLFxyXG4gICAgTWV0YWRhdGFMYWJlbDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwsXHJcbiAgICBNZXRhZGF0YUxhYmVsQ29udGVudDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWxDb250ZW50LFxyXG4gICAgUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbjogcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbl8xLlBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24sXHJcbiAgICBQbGF5YmFja1NwZWVkU2VsZWN0Qm94OiBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEuUGxheWJhY2tTcGVlZFNlbGVjdEJveCxcclxuICAgIFBsYXliYWNrVGltZUxhYmVsOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsLFxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZSxcclxuICAgIFBsYXliYWNrVG9nZ2xlQnV0dG9uOiBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uLFxyXG4gICAgUGxheWJhY2tUb2dnbGVPdmVybGF5OiBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXksXHJcbiAgICBSZWNvbW1lbmRhdGlvbk92ZXJsYXk6IHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xLlJlY29tbWVuZGF0aW9uT3ZlcmxheSxcclxuICAgIFNlZWtCYXI6IHNlZWtiYXJfMS5TZWVrQmFyLFxyXG4gICAgU2Vla0JhckxhYmVsOiBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwsXHJcbiAgICBTZWxlY3RCb3g6IHNlbGVjdGJveF8xLlNlbGVjdEJveCxcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0OiBpdGVtc2VsZWN0aW9ubGlzdF8xLkl0ZW1TZWxlY3Rpb25MaXN0LFxyXG4gICAgU2V0dGluZ3NQYW5lbDogc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWwsXHJcbiAgICBTZXR0aW5nc1BhbmVsSXRlbTogc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtLFxyXG4gICAgU2V0dGluZ3NUb2dnbGVCdXR0b246IHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEuU2V0dGluZ3NUb2dnbGVCdXR0b24sXHJcbiAgICBTcGFjZXI6IHNwYWNlcl8xLlNwYWNlcixcclxuICAgIFN1YnRpdGxlT3ZlcmxheTogc3VidGl0bGVvdmVybGF5XzEuU3VidGl0bGVPdmVybGF5LFxyXG4gICAgU3VidGl0bGVTZWxlY3RCb3g6IHN1YnRpdGxlc2VsZWN0Ym94XzEuU3VidGl0bGVTZWxlY3RCb3gsXHJcbiAgICBUaXRsZUJhcjogdGl0bGViYXJfMS5UaXRsZUJhcixcclxuICAgIFRvZ2dsZUJ1dHRvbjogdG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uLFxyXG4gICAgVUlDb250YWluZXI6IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIsXHJcbiAgICBWaWRlb1F1YWxpdHlTZWxlY3RCb3g6IHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xLlZpZGVvUXVhbGl0eVNlbGVjdEJveCxcclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b246IHZvbHVtZWNvbnRyb2xidXR0b25fMS5Wb2x1bWVDb250cm9sQnV0dG9uLFxyXG4gICAgVm9sdW1lU2xpZGVyOiB2b2x1bWVzbGlkZXJfMS5Wb2x1bWVTbGlkZXIsXHJcbiAgICBWb2x1bWVUb2dnbGVCdXR0b246IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbixcclxuICAgIFZSVG9nZ2xlQnV0dG9uOiB2cnRvZ2dsZWJ1dHRvbl8xLlZSVG9nZ2xlQnV0dG9uLFxyXG4gICAgV2F0ZXJtYXJrOiB3YXRlcm1hcmtfMS5XYXRlcm1hcmssXHJcbiAgICAvLyBTdWJ0aXRsZSByZWxhdGVkIGNvbXBvbmVudHNcclxuICAgIHN1YnRpdGxlc2V0dGluZ3M6IHtcclxuICAgICAgICBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3g6IGJhY2tncm91bmRjb2xvcnNlbGVjdGJveF8xLkJhY2tncm91bmRDb2xvclNlbGVjdEJveCxcclxuICAgICAgICBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveDogYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3hfMS5CYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCxcclxuICAgICAgICBDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94OiBjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XzEuQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCxcclxuICAgICAgICBGb250Q29sb3JTZWxlY3RCb3g6IGZvbnRjb2xvcnNlbGVjdGJveF8xLkZvbnRDb2xvclNlbGVjdEJveCxcclxuICAgICAgICBGb250RmFtaWx5U2VsZWN0Qm94OiBmb250ZmFtaWx5c2VsZWN0Ym94XzEuRm9udEZhbWlseVNlbGVjdEJveCxcclxuICAgICAgICBGb250T3BhY2l0eVNlbGVjdEJveDogZm9udG9wYWNpdHlzZWxlY3Rib3hfMS5Gb250T3BhY2l0eVNlbGVjdEJveCxcclxuICAgICAgICBGb250U2l6ZVNlbGVjdEJveDogZm9udHNpemVzZWxlY3Rib3hfMS5Gb250U2l6ZVNlbGVjdEJveCxcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uOiBzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc0J1dHRvbixcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b246IHN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbixcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3g6IHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCxcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzTGFiZWw6IHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xLlN1YnRpdGxlU2V0dGluZ3NMYWJlbCxcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbjogc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbixcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzUGFuZWw6IHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICBXaW5kb3dDb2xvclNlbGVjdEJveDogd2luZG93Y29sb3JzZWxlY3Rib3hfMS5XaW5kb3dDb2xvclNlbGVjdEJveCxcclxuICAgICAgICBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94OiB3aW5kb3dvcGFjaXR5c2VsZWN0Ym94XzEuV2luZG93T3BhY2l0eVNlbGVjdEJveCxcclxuICAgICAgICBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b246IHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbixcclxuICAgIH0sXHJcbn07XHJcbndpbmRvdy5iaXRtb3Zpbi5wbGF5ZXJ1aSA9IHBsYXllcnVpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBsYXllcnVpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL21haW4udHNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3VpY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi9kb21cIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b25cIik7XHJcbnZhciB2cnRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJcIik7XHJcbnZhciBwbGF5YmFja3RpbWVsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbFwiKTtcclxudmFyIGNvbnRyb2xiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udHJvbGJhclwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgc2V0dGluZ3N0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcGFuZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXCIpO1xyXG52YXIgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxuLy8gaW1wb3J0IHtXYXRlcm1hcmt9IGZyb20gJy4vY29tcG9uZW50cy93YXRlcm1hcmsnO1xyXG52YXIgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIGF1ZGlvdHJhY2tzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveFwiKTtcclxudmFyIHNlZWtiYXJsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFybGFiZWxcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyXCIpO1xyXG52YXIgc3VidGl0bGVzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge1ZvbHVtZUNvbnRyb2xCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uJztcclxudmFyIGNhc3R0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGNhc3RzdGF0dXNvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nhc3RzdGF0dXNvdmVybGF5XCIpO1xyXG52YXIgZXJyb3JtZXNzYWdlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5XCIpO1xyXG52YXIgdGl0bGViYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdGl0bGViYXJcIik7XHJcbnZhciByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcmVjb21tZW5kYXRpb25vdmVybGF5XCIpO1xyXG52YXIgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94XCIpO1xyXG52YXIgYnVmZmVyaW5nb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge0Nhc3RVSUNvbnRhaW5lcn0gZnJvbSAnLi9jb21wb25lbnRzL2Nhc3R1aWNvbnRhaW5lcic7XHJcbnZhciBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5XCIpO1xyXG52YXIgY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2xvc2VidXR0b25cIik7XHJcbnZhciBtZXRhZGF0YWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL21ldGFkYXRhbGFiZWxcIik7XHJcbnZhciBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b25cIik7XHJcbnZhciBwaWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25cIik7XHJcbnZhciBhdWRpb29ubHlvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXlcIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3BhY2VyXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4vdWl1dGlsc1wiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuL2FycmF5dXRpbHNcIik7XHJcbnZhciBicm93c2VydXRpbHNfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXJ1dGlsc1wiKTtcclxudmFyIFVJTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVJTWFuYWdlcihwbGF5ZXIsIHBsYXllclVpT3JVaVZhcmlhbnRzLCBjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvblVpVmFyaWFudFJlc29sdmU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChwbGF5ZXJVaU9yVWlWYXJpYW50cyBpbnN0YW5jZW9mIHVpY29udGFpbmVyXzEuVUlDb250YWluZXIpIHtcclxuICAgICAgICAgICAgLy8gU2luZ2xlLVVJIGNvbnN0cnVjdG9yIGhhcyBiZWVuIGNhbGxlZCwgdHJhbnNmb3JtIGFyZ3VtZW50cyB0byBVSVZhcmlhbnRbXSBzaWduYXR1cmVcclxuICAgICAgICAgICAgdmFyIHBsYXllclVpID0gcGxheWVyVWlPclVpVmFyaWFudHM7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnRzID0gW107XHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCBwbGF5ZXIgVUlcclxuICAgICAgICAgICAgdWlWYXJpYW50cy5wdXNoKHsgdWk6IHBsYXllclVpIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVpVmFyaWFudHMgPSB1aVZhcmlhbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGVmYXVsdCBjb25zdHJ1Y3RvciAoVUlWYXJpYW50W10pIGhhcyBiZWVuIGNhbGxlZFxyXG4gICAgICAgICAgICB0aGlzLnVpVmFyaWFudHMgPSBwbGF5ZXJVaU9yVWlWYXJpYW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBfX2Fzc2lnbih7fSwgY29uZmlnLCB7IGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGVkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIH0gfSk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlciA9IG5ldyBQbGF5ZXJXcmFwcGVyKHBsYXllcik7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2F0aGVycyBjb25maWd1cmF0aW9uIGRhdGEgZnJvbSB0aGUgVUkgY29uZmlnIGFuZCBwbGF5ZXIgc291cmNlIGNvbmZpZyBhbmQgY3JlYXRlcyBhIG1lcmdlZCBVSSBjb25maWdcclxuICAgICAgICAgKiB0aGF0IGlzIHVzZWQgdGhyb3VnaG91dCB0aGUgVUkgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHVwZGF0ZUNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBsYXllclNvdXJjZUNvbmZpZyA9IHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UgfHwge307XHJcbiAgICAgICAgICAgIHZhciB1aUNvbmZpZyA9IF9fYXNzaWduKHt9LCBjb25maWcpO1xyXG4gICAgICAgICAgICB1aUNvbmZpZy5tZXRhZGF0YSA9IHVpQ29uZmlnLm1ldGFkYXRhIHx8IHt9O1xyXG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBVSS1yZWxhdGVkIGNvbmZpZyBwcm9wZXJ0aWVzIGZyb20gdGhlIHNvdXJjZSBjb25maWdcclxuICAgICAgICAgICAgdmFyIHBsYXllclNvdXJjZVVpQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIG1vdmUgbWV0YWRhdGEgaW50byBzb3VyY2UubWV0YWRhdGEgbmFtZXNwYWNlIGluIHBsYXllciB2OFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwbGF5ZXJTb3VyY2VDb25maWcudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHBsYXllclNvdXJjZUNvbmZpZy5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiBwbGF5ZXJTb3VyY2VDb25maWcubWFya2VycyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IHBsYXllclNvdXJjZUNvbmZpZy5yZWNvbW1lbmRhdGlvbnMsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFBsYXllciBzb3VyY2UgY29uZmlnIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGUgVUkgY29uZmlnLCBiZWNhdXNlIHRoZSBjb25maWcgaW4gdGhlIHNvdXJjZSBpcyBhdHRhY2hlZFxyXG4gICAgICAgICAgICAvLyB0byBhIHNvdXJjZSB3aGljaCBjaGFuZ2VzIHdpdGggZXZlcnkgcGxheWVyLmxvYWQsIHdoZXJlYXMgdGhlIFVJIGNvbmZpZyBzdGF5cyB0aGUgc2FtZSBmb3IgdGhlIHdob2xlXHJcbiAgICAgICAgICAgIC8vIGxpZmV0aW1lIG9mIHRoZSBwbGF5ZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5tZXRhZGF0YSA9IF90aGlzLmNvbmZpZy5tZXRhZGF0YSB8fCB7fTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLm1ldGFkYXRhLnRpdGxlID0gcGxheWVyU291cmNlVWlDb25maWcubWV0YWRhdGEudGl0bGUgfHwgdWlDb25maWcubWV0YWRhdGEudGl0bGU7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbiA9IHBsYXllclNvdXJjZVVpQ29uZmlnLm1ldGFkYXRhLmRlc2NyaXB0aW9uIHx8IHVpQ29uZmlnLm1ldGFkYXRhLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcubWV0YWRhdGEubWFya2VycyA9IHBsYXllclNvdXJjZVVpQ29uZmlnLm1ldGFkYXRhLm1hcmtlcnMgfHwgdWlDb25maWcubWV0YWRhdGEubWFya2VycyB8fCBbXTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLnJlY29tbWVuZGF0aW9ucyA9IHBsYXllclNvdXJjZVVpQ29uZmlnLnJlY29tbWVuZGF0aW9ucyB8fCB1aUNvbmZpZy5yZWNvbW1lbmRhdGlvbnMgfHwgW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICB1cGRhdGVDb25maWcoKTtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1cGRhdGVDb25maWcoKTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChjb25maWcuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgJ3VpQ29udGFpbmVyRWxlbWVudCA9IG5ldyBET00oY29uZmlnLmNvbnRhaW5lciknIHdpbGwgbm90IGFjY2VwdCB0aGUgY29udGFpbmVyIHdpdGhcclxuICAgICAgICAgICAgLy8gc3RyaW5nfEhUTUxFbGVtZW50IHR5cGUgZGlyZWN0bHksIGFsdGhvdWdoIGl0IGFjY2VwdHMgYm90aCB0eXBlcywgc28gd2UgbmVlZCB0byBzcGl0IHRoZXNlIHR3byBjYXNlcyB1cCBoZXJlLlxyXG4gICAgICAgICAgICAvLyBUT0RPIGNoZWNrIGluIHVwY29taW5nIFRTIHZlcnNpb25zIGlmIHRoZSBjb250YWluZXIgY2FuIGJlIHBhc3NlZCBpbiBkaXJlY3RseSwgb3IgZml4IHRoZSBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudCA9IGNvbmZpZy5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/XHJcbiAgICAgICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGNvbmZpZy5jb250YWluZXIpIDogbmV3IGRvbV8xLkRPTShjb25maWcuY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlDb250YWluZXJFbGVtZW50ID0gbmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgVUkgaW5zdGFuY2UgbWFuYWdlcnMgZm9yIHRoZSBVSSB2YXJpYW50c1xyXG4gICAgICAgIC8vIFRoZSBpbnN0YW5jZSBtYW5hZ2VycyBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgVUkgdmFyaWFudHMgYnkgdGhlaXIgYXJyYXkgaW5kZXhcclxuICAgICAgICB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VycyA9IFtdO1xyXG4gICAgICAgIHZhciB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbiA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpVmFyaWFudHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmICh1aVZhcmlhbnQuY29uZGl0aW9uID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbGxlY3QgdmFyaWFudHMgd2l0aG91dCBjb25kaXRpb25zIGZvciBlcnJvciBjaGVja2luZ1xyXG4gICAgICAgICAgICAgICAgdWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24ucHVzaCh1aVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW5zdGFuY2UgbWFuYWdlciBmb3IgYSBVSSB2YXJpYW50XHJcbiAgICAgICAgICAgIHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzLnB1c2gobmV3IEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIocGxheWVyLCB1aVZhcmlhbnQudWksIHRoaXMuY29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZXJlIGlzIG9ubHkgb25lIFVJIHZhcmlhbnQgd2l0aG91dCBhIGNvbmRpdGlvblxyXG4gICAgICAgIC8vIEl0IGRvZXMgbm90IG1ha2Ugc2Vuc2UgdG8gaGF2ZSBtdWx0aXBsZSB2YXJpYW50cyB3aXRob3V0IGNvbmRpdGlvbiwgYmVjYXVzZSBvbmx5IHRoZSBmaXJzdCBvbmUgaW4gdGhlIGxpc3RcclxuICAgICAgICAvLyAodGhlIG9uZSB3aXRoIHRoZSBsb3dlc3QgaW5kZXgpIHdpbGwgZXZlciBiZSBzZWxlY3RlZC5cclxuICAgICAgICBpZiAodWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVG9vIG1hbnkgVUlzIHdpdGhvdXQgYSBjb25kaXRpb246IFlvdSBjYW5ub3QgaGF2ZSBtb3JlIHRoYW4gb25lIGRlZmF1bHQgVUknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGRlZmF1bHQgVUkgdmFyaWFudCwgaWYgZGVmaW5lZCwgaXMgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCAobGFzdCBpbmRleClcclxuICAgICAgICAvLyBJZiBpdCBjb21lcyBlYXJsaWVyLCB0aGUgdmFyaWFudHMgd2l0aCBjb25kaXRpb25zIHRoYXQgY29tZSBhZnRlcndhcmRzIHdpbGwgbmV2ZXIgYmUgc2VsZWN0ZWQgYmVjYXVzZSB0aGVcclxuICAgICAgICAvLyBkZWZhdWx0IHZhcmlhbnQgd2l0aG91dCBhIGNvbmRpdGlvbiBhbHdheXMgZXZhbHVhdGVzIHRvICd0cnVlJ1xyXG4gICAgICAgIGlmICh1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICYmIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uWzBdICE9PSB0aGlzLnVpVmFyaWFudHNbdGhpcy51aVZhcmlhbnRzLmxlbmd0aCAtIDFdKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIFVJIHZhcmlhbnQgb3JkZXI6IHRoZSBkZWZhdWx0IFVJICh3aXRob3V0IGNvbmRpdGlvbikgbXVzdCBiZSBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN3aXRjaCBvbiBhdXRvIFVJIHJlc29sdmluZyBieSBkZWZhdWx0XHJcbiAgICAgICAgaWYgKGNvbmZpZy5hdXRvVWlWYXJpYW50UmVzb2x2ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5hdXRvVWlWYXJpYW50UmVzb2x2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhZFN0YXJ0ZWRFdmVudCA9IG51bGw7IC8vIGtlZXAgdGhlIGV2ZW50IHN0b3JlZCBoZXJlIGR1cmluZyBhZCBwbGF5YmFja1xyXG4gICAgICAgIC8vIER5bmFtaWNhbGx5IHNlbGVjdCBhIFVJIHZhcmlhbnQgdGhhdCBtYXRjaGVzIHRoZSBjdXJyZW50IFVJIGNvbmRpdGlvbi5cclxuICAgICAgICB2YXIgcmVzb2x2ZVVpVmFyaWFudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgT05fQURfU1RBUlRFRCBldmVudCBkYXRhIGlzIHBlcnNpc3RlZCB0aHJvdWdoIGFkIHBsYXliYWNrIGluIGNhc2Ugb3RoZXIgZXZlbnRzIGhhcHBlblxyXG4gICAgICAgICAgICAvLyBpbiB0aGUgbWVhbnRpbWUsIGUuZy4gcGxheWVyIHJlc2l6ZS4gV2UgbmVlZCB0byBzdG9yZSB0aGlzIGRhdGEgYmVjYXVzZSB0aGVyZSBpcyBubyBvdGhlciB3YXkgdG8gZmluZCBvdXRcclxuICAgICAgICAgICAgLy8gYWQgZGV0YWlscyAoZS5nLiB0aGUgYWQgY2xpZW50KSB3aGlsZSBhbiBhZCBpcyBwbGF5aW5nLlxyXG4gICAgICAgICAgICAvLyBFeGlzdGluZyBldmVudCBkYXRhIHNpZ25hbHMgdGhhdCBhbiBhZCBpcyBjdXJyZW50bHkgYWN0aXZlLiBXZSBjYW5ub3QgdXNlIHBsYXllci5pc0FkKCkgYmVjYXVzZSBpdCByZXR1cm5zXHJcbiAgICAgICAgICAgIC8vIHRydWUgb24gYWQgc3RhcnQgYW5kIGFsc28gb24gYWQgZW5kIGV2ZW50cywgd2hpY2ggaXMgcHJvYmxlbWF0aWMuXHJcbiAgICAgICAgICAgIGlmIChldmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhZCBzdGFydHMsIHdlIHN0b3JlIHRoZSBldmVudCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgYWQgZW5kcywgd2UgZGVsZXRlIHRoZSBldmVudCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fQURfRklOSVNIRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fQURfU0tJUFBFRDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9FUlJPUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWQgZHVyaW5nIGFkIHBsYXliYWNrLCB0aGVyZSB3aWxsIGJlIG5vIGFkIGVuZCBldmVudCBzbyB3ZSBkZXRlY3QgdGhlIGVuZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBhZCBwbGF5YmFjayBieSBjaGVja2luZyBpc0FkKCkgaW4gT05fUkVBRFksIGJlY2F1c2UgT05fUkVBRFkgYWx3YXlzIGFycml2ZXMgd2hlbiB0aGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlcy5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9SRUFEWTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkU3RhcnRlZEV2ZW50ICYmICFwbGF5ZXIuaXNBZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFN0YXJ0ZWRFdmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEZXRlY3QgaWYgYW4gYWQgaGFzIHN0YXJ0ZWRcclxuICAgICAgICAgICAgdmFyIGFkID0gYWRTdGFydGVkRXZlbnQgIT0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIGFkV2l0aFVJID0gYWQgJiYgYWRTdGFydGVkRXZlbnQuY2xpZW50VHlwZSA9PT0gJ3Zhc3QnO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlVWlWYXJpYW50KHtcclxuICAgICAgICAgICAgICAgIGlzQWQ6IGFkLFxyXG4gICAgICAgICAgICAgICAgaXNBZFdpdGhVSTogYWRXaXRoVUksXHJcbiAgICAgICAgICAgICAgICBhZENsaWVudFR5cGU6IGFkID8gYWRTdGFydGVkRXZlbnQuY2xpZW50VHlwZSA6IG51bGwsXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGFuIGFkIFVJLCB3ZSBuZWVkIHRvIHJlbGF5IHRoZSBzYXZlZCBPTl9BRF9TVEFSVEVEIGV2ZW50IGRhdGEgc28gYWQgY29tcG9uZW50cyBjYW4gY29uZmlndXJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGVtc2VsdmVzIGZvciB0aGUgY3VycmVudCBhZC5cclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmlzQWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiBSZWxheSB0aGUgT05fQURfU1RBUlRFRCBldmVudCB0byB0aGUgYWRzIFVJXHJcbiAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBhZHMgVUkgaXMgaW5pdGlhbGl6ZWQgaW4gdGhlIE9OX0FEX1NUQVJURUQgaGFuZGxlciwgaS5lLiB3aGVuIHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IGhhc1xyXG4gICAgICAgICAgICAgICAgICAgICAqIGFscmVhZHkgYmVlbiBmaXJlZCwgY29tcG9uZW50cyBpbiB0aGUgYWRzIFVJIHRoYXQgbGlzdGVuIGZvciB0aGUgT05fQURfU1RBUlRFRCBldmVudCBuZXZlciByZWNlaXZlIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgICAqIFNpbmNlIHRoaXMgY2FuIGJyZWFrIGZ1bmN0aW9uYWxpdHkgb2YgY29tcG9uZW50cyB0aGF0IHJlbHkgb24gdGhpcyBldmVudCwgd2UgcmVsYXkgdGhlIGV2ZW50IHRvIHRoZVxyXG4gICAgICAgICAgICAgICAgICAgICAqIGFkcyBVSSBjb21wb25lbnRzIHdpdGggdGhlIGZvbGxvd2luZyBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVaS5nZXRXcmFwcGVkUGxheWVyKCkuZmlyZUV2ZW50SW5VSShfdGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRCwgYWRTdGFydGVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIExpc3RlbiB0byB0aGUgZm9sbG93aW5nIGV2ZW50cyB0byB0cmlnZ2VyIFVJIHZhcmlhbnQgcmVzb2x1dGlvblxyXG4gICAgICAgIGlmIChjb25maWcuYXV0b1VpVmFyaWFudFJlc29sdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fUkVBRFksIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QTEFZLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fUEFVU0VELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfU0tJUFBFRCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBVSVxyXG4gICAgICAgIHJlc29sdmVVaVZhcmlhbnQobnVsbCk7XHJcbiAgICB9XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIFVJIHZhcmlhbnRzIGFzIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciBvZiB7QGxpbmsgVUlNYW5hZ2VyfS5cclxuICAgICAqIEByZXR1cm5zIHtVSVZhcmlhbnRbXX0gdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIFVJIHZhcmlhbnRzXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuZ2V0VWlWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51aVZhcmlhbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3dpdGNoZXMgdG8gYSBVSSB2YXJpYW50IGZyb20gdGhlIGxpc3QgcmV0dXJuZWQgYnkge0BsaW5rIGdldFVpVmFyaWFudHN9LlxyXG4gICAgICogQHBhcmFtIHtVSVZhcmlhbnR9IHVpVmFyaWFudCB0aGUgVUkgdmFyaWFudCB0byBzd2l0Y2ggdG9cclxuICAgICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gb25TaG93IGEgY2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBqdXN0IGJlZm9yZSB0aGUgbmV3IFVJIHZhcmlhbnQgaXMgc2hvd25cclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5zd2l0Y2hUb1VpVmFyaWFudCA9IGZ1bmN0aW9uICh1aVZhcmlhbnQsIG9uU2hvdykge1xyXG4gICAgICAgIHZhciB1aVZhcmlhbnRJbmRleCA9IHRoaXMudWlWYXJpYW50cy5pbmRleE9mKHVpVmFyaWFudCk7XHJcbiAgICAgICAgdmFyIG5leHRVaSA9IHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzW3VpVmFyaWFudEluZGV4XTtcclxuICAgICAgICB2YXIgdWlWYXJpYW50Q2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgVUkgdmFyaWFudCBpcyBjaGFuZ2luZ1xyXG4gICAgICAgIGlmIChuZXh0VWkgIT09IHRoaXMuY3VycmVudFVpKSB7XHJcbiAgICAgICAgICAgIHVpVmFyaWFudENoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3dpdGNoZWQgZnJvbSAnLCB0aGlzLmN1cnJlbnRVaSA/IHRoaXMuY3VycmVudFVpLmdldFVJKCkgOiAnbm9uZScsXHJcbiAgICAgICAgICAgIC8vICAgJyB0byAnLCBuZXh0VWkgPyBuZXh0VWkuZ2V0VUkoKSA6ICdub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE9ubHkgaWYgdGhlIFVJIHZhcmlhbnQgaXMgY2hhbmdpbmcsIHdlIG5lZWQgdG8gZG8gc29tZSBzdHVmZi4gRWxzZSB3ZSBqdXN0IGxlYXZlIGV2ZXJ5dGhpbmcgYXMtaXMuXHJcbiAgICAgICAgaWYgKHVpVmFyaWFudENoYW5nZWQpIHtcclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgY3VycmVudGx5IGFjdGl2ZSBVSSB2YXJpYW50XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRVaSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VWkuZ2V0VUkoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgVUkgdmFyaWFudCBhcyBjdXJyZW50IFVJXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFVpID0gbmV4dFVpO1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlIHN3aXRjaCB0byBhIGRpZmZlcmVudCBVSSBpbnN0YW5jZSwgdGhlcmUncyBzb21lIGFkZGl0aW9uYWwgc3R1ZmYgdG8gbWFuYWdlLiBJZiB3ZSBkbyBub3Qgc3dpdGNoXHJcbiAgICAgICAgICAgIC8vIHRvIGFuIGluc3RhbmNlLCB3ZSdyZSBkb25lIGhlcmUuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRVaSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIFVJIHRvIHRoZSBET00gKGFuZCBjb25maWd1cmUgaXQpIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudFVpLmlzQ29uZmlndXJlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRVaSh0aGlzLmN1cnJlbnRVaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob25TaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25TaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXJzIGEgVUkgdmFyaWFudCBzd2l0Y2ggYXMgdHJpZ2dlcmVkIGJ5IGV2ZW50cyB3aGVuIGF1dG9tYXRpYyBzd2l0Y2hpbmcgaXMgZW5hYmxlZC4gSXQgYWxsb3dzIHRvIG92ZXJ3cml0ZVxyXG4gICAgICogcHJvcGVydGllcyBvZiB0aGUge0BsaW5rIFVJQ29uZGl0aW9uQ29udGV4dH0uXHJcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWw8VUlDb25kaXRpb25Db250ZXh0Pn0gY29udGV4dCBhbiBvcHRpb25hbCBzZXQgb2YgcHJvcGVydGllcyB0aGF0IG92ZXJ3cml0ZSBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gICAgICogICBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgY29udGV4dFxyXG4gICAgICogQHBhcmFtIHsoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB2b2lkfSBvblNob3cgYSBjYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIGp1c3QgYmVmb3JlIHRoZSBuZXcgVUkgdmFyaWFudFxyXG4gICAgICogICBpcyBzaG93biAoaWYgYSBzd2l0Y2ggaXMgaGFwcGVuaW5nKVxyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLnJlc29sdmVVaVZhcmlhbnQgPSBmdW5jdGlvbiAoY29udGV4dCwgb25TaG93KSB7XHJcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0ge307IH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGN1cnJlbnQgY29udGV4dCBmb3Igd2hpY2ggdGhlIFVJIHZhcmlhbnQgd2lsbCBiZSByZXNvbHZlZFxyXG4gICAgICAgIHZhciBkZWZhdWx0Q29udGV4dCA9IHtcclxuICAgICAgICAgICAgaXNBZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzQWRXaXRoVUk6IGZhbHNlLFxyXG4gICAgICAgICAgICBhZENsaWVudFR5cGU6IG51bGwsXHJcbiAgICAgICAgICAgIGlzRnVsbHNjcmVlbjogdGhpcy5wbGF5ZXIuaXNGdWxsc2NyZWVuKCksXHJcbiAgICAgICAgICAgIGlzTW9iaWxlOiBicm93c2VydXRpbHNfMS5Ccm93c2VyVXRpbHMuaXNNb2JpbGUsXHJcbiAgICAgICAgICAgIGlzUGxheWluZzogdGhpcy5wbGF5ZXIuaXNQbGF5aW5nKCksXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnVpQ29udGFpbmVyRWxlbWVudC53aWR0aCgpLFxyXG4gICAgICAgICAgICBkb2N1bWVudFdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gT3ZlcndyaXRlIHByb3BlcnRpZXMgb2YgdGhlIGRlZmF1bHQgY29udGV4dCB3aXRoIHBhc3NlZCBpbiBjb250ZXh0IHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgc3dpdGNoaW5nQ29udGV4dCA9IF9fYXNzaWduKHt9LCBkZWZhdWx0Q29udGV4dCwgY29udGV4dCk7XHJcbiAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQgYW5kIGFsbG93IG1vZGlmaWNhdGlvbiBvZiB0aGUgY29udGV4dCBiZWZvcmUgaXQgaXMgdXNlZCB0byByZXNvbHZlIHRoZSBVSSB2YXJpYW50XHJcbiAgICAgICAgdGhpcy5ldmVudHMub25VaVZhcmlhbnRSZXNvbHZlLmRpc3BhdGNoKHRoaXMsIHN3aXRjaGluZ0NvbnRleHQpO1xyXG4gICAgICAgIHZhciBuZXh0VWlWYXJpYW50ID0gbnVsbDtcclxuICAgICAgICAvLyBTZWxlY3QgbmV3IFVJIHZhcmlhbnRcclxuICAgICAgICAvLyBJZiBubyB2YXJpYW50IGNvbmRpdGlvbiBpcyBmdWxmaWxsZWQsIHdlIHN3aXRjaCB0byAqbm8qIFVJXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudWlWYXJpYW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpVmFyaWFudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgaWYgKHVpVmFyaWFudC5jb25kaXRpb24gPT0gbnVsbCB8fCB1aVZhcmlhbnQuY29uZGl0aW9uKHN3aXRjaGluZ0NvbnRleHQpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0VWlWYXJpYW50ID0gdWlWYXJpYW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hUb1VpVmFyaWFudChuZXh0VWlWYXJpYW50LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvblNob3cpIHtcclxuICAgICAgICAgICAgICAgIG9uU2hvdyhzd2l0Y2hpbmdDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuYWRkVWkgPSBmdW5jdGlvbiAodWkpIHtcclxuICAgICAgICB2YXIgZG9tID0gdWkuZ2V0VUkoKS5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgdmFyIHBsYXllciA9IHVpLmdldFdyYXBwZWRQbGF5ZXIoKTtcclxuICAgICAgICB1aS5jb25maWd1cmVDb250cm9scygpO1xyXG4gICAgICAgIC8qIEFwcGVuZCB0aGUgVUkgRE9NIGFmdGVyIGNvbmZpZ3VyYXRpb24gdG8gYXZvaWQgQ1NTIHRyYW5zaXRpb25zIGF0IGluaXRpYWxpemF0aW9uXHJcbiAgICAgICAgICogRXhhbXBsZTogQ29tcG9uZW50cyBhcmUgaGlkZGVuIGR1cmluZyBjb25maWd1cmF0aW9uIGFuZCB0aGVzZSBoaWRlcyBtYXkgdHJpZ2dlciBDU1MgdHJhbnNpdGlvbnMgdGhhdCBhcmVcclxuICAgICAgICAgKiB1bmRlc2lyYWJsZSBhdCB0aGlzIHRpbWUuICovXHJcbiAgICAgICAgdGhpcy51aUNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGRvbSk7XHJcbiAgICAgICAgLy8gU29tZSBjb21wb25lbnRzIGluaXRpYWxpemUgdGhlaXIgc3RhdGUgb24gT05fUkVBRFkuIFdoZW4gdGhlIFVJIGlzIGxvYWRlZCBhZnRlciB0aGUgcGxheWVyIGlzIGFscmVhZHkgcmVhZHksXHJcbiAgICAgICAgLy8gdGhleSB3aWxsIG5ldmVyIHJlY2VpdmUgdGhlIGV2ZW50IHNvIHdlIGZpcmUgaXQgZnJvbSBoZXJlIGluIHN1Y2ggY2FzZXMuXHJcbiAgICAgICAgaWYgKHBsYXllci5pc1JlYWR5KCkpIHtcclxuICAgICAgICAgICAgcGxheWVyLmZpcmVFdmVudEluVUkocGxheWVyLkVWRU5ULk9OX1JFQURZLCB7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZpcmUgb25Db25maWd1cmVkIGFmdGVyIFVJIERPTSBlbGVtZW50cyBhcmUgc3VjY2Vzc2Z1bGx5IGFkZGVkLiBXaGVuIGZpcmVkIGltbWVkaWF0ZWx5LCB0aGUgRE9NIGVsZW1lbnRzXHJcbiAgICAgICAgLy8gbWlnaHQgbm90IGJlIGZ1bGx5IGNvbmZpZ3VyZWQgYW5kIGUuZy4gZG8gbm90IGhhdmUgYSBzaXplLlxyXG4gICAgICAgIC8vIGh0dHBzOi8vc3dpemVjLmNvbS9ibG9nL2hvdy10by1wcm9wZXJseS13YWl0LWZvci1kb20tZWxlbWVudHMtdG8tc2hvdy11cC1pbi1tb2Rlcm4tYnJvd3NlcnMvc3dpemVjLzY2NjNcclxuICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyB1aS5vbkNvbmZpZ3VyZWQuZGlzcGF0Y2godWkuZ2V0VUkoKSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSUU5IGZhbGxiYWNrXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB1aS5vbkNvbmZpZ3VyZWQuZGlzcGF0Y2godWkuZ2V0VUkoKSk7IH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VVaSA9IGZ1bmN0aW9uICh1aSkge1xyXG4gICAgICAgIHVpLnJlbGVhc2VDb250cm9scygpO1xyXG4gICAgICAgIHVpLmdldFVJKCkuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIHVpLmNsZWFyRXZlbnRIYW5kbGVycygpO1xyXG4gICAgfTtcclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy51aUluc3RhbmNlTWFuYWdlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1aUluc3RhbmNlTWFuYWdlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgdGhpcy5yZWxlYXNlVWkodWlJbnN0YW5jZU1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmNsZWFyRXZlbnRIYW5kbGVycygpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSU1hbmFnZXIucHJvdG90eXBlLCBcIm9uVWlWYXJpYW50UmVzb2x2ZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMganVzdCBiZWZvcmUgVUkgdmFyaWFudHMgYXJlIGFib3V0IHRvIGJlIHJlc29sdmVkIGFuZCB0aGUgVUkgdmFyaWFudCBpcyBwb3NzaWJseSBzd2l0Y2hlZC4gSXQgaXMgZmlyZWQgd2hlblxyXG4gICAgICAgICAqIHRoZSBzd2l0Y2ggaXMgdHJpZ2dlcmVkIGZyb20gYW4gYXV0b21hdGljIHN3aXRjaCBhbmQgd2hlbiBjYWxsaW5nIHtAbGluayByZXNvbHZlVWlWYXJpYW50fS5cclxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBtb2RpZnkgdGhlIHtAbGluayBVSUNvbmRpdGlvbkNvbnRleHR9IGJlZm9yZSByZXNvbHZpbmcgaXMgZG9uZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyPFVJTWFuYWdlciwgVUlDb25kaXRpb25Db250ZXh0Pn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uVWlWYXJpYW50UmVzb2x2ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBhbGwgYWRkZWQgbWFya2VycyBpbiB1bmRlZmluZWQgb3JkZXIuXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuZ2V0VGltZWxpbmVNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIG1hcmtlciB0byB0aGUgdGltZWxpbmUuIERvZXMgbm90IGNoZWNrIGZvciBkdXBsaWNhdGVzL292ZXJsYXBzIGF0IHRoZSBgdGltZWAuXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuYWRkVGltZWxpbmVNYXJrZXIgPSBmdW5jdGlvbiAodGltZWxpbmVNYXJrZXIpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzLnB1c2godGltZWxpbmVNYXJrZXIpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgbWFya2VyIGZyb20gdGhlIHRpbWVsaW5lIChieSByZWZlcmVuY2UpIGFuZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWFya2VyIGhhc1xyXG4gICAgICogYmVlbiBwYXJ0IG9mIHRoZSB0aW1lbGluZSBhbmQgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQsIG9yIGBmYWxzZWAgaWYgdGhlIG1hcmtlciBjb3VsZCBub3RcclxuICAgICAqIGJlIGZvdW5kIGFuZCB0aHVzIG5vdCByZW1vdmVkLlxyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZVRpbWVsaW5lTWFya2VyID0gZnVuY3Rpb24gKHRpbWVsaW5lTWFya2VyKSB7XHJcbiAgICAgICAgaWYgKGFycmF5dXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzLCB0aW1lbGluZU1hcmtlcikgPT09IHRpbWVsaW5lTWFya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmV2ZW50cy5vblVwZGF0ZWQuZGlzcGF0Y2godGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVJTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSU1hbmFnZXIgPSBVSU1hbmFnZXI7XHJcbihmdW5jdGlvbiAoVUlNYW5hZ2VyKSB7XHJcbiAgICB2YXIgRmFjdG9yeTtcclxuICAgIChmdW5jdGlvbiAoRmFjdG9yeSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXVkaW9WaWRlb1VJKHBsYXllciwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgICB2YXIgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aCA9IDYwMDtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlblVJKCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWk6IG1vZGVyblVJKCksXHJcbiAgICAgICAgICAgICAgICB9XSwgY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRmFjdG9yeS5idWlsZEF1ZGlvVmlkZW9VSSA9IGJ1aWxkQXVkaW9WaWRlb1VJO1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXVkaW9Pbmx5VUkocGxheWVyLCBjb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgICAgIHZhciBzbWFsbFNjcmVlblN3aXRjaFdpZHRoID0gNjAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdWk6IG1vZGVybkF1ZGlvT25seVNtYWxsU2NyZWVuVUkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmlzTW9iaWxlICYmIGNvbnRleHQuZG9jdW1lbnRXaWR0aCA8IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICB1aTogbW9kZXJuQXVkaW9Pbmx5VUkoKSxcclxuICAgICAgICAgICAgICAgIH1dLCBjb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGYWN0b3J5LmJ1aWxkQXVkaW9Pbmx5VUkgPSBidWlsZEF1ZGlvT25seVVJO1xyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZERlZmF1bHRVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBVSU1hbmFnZXIuRmFjdG9yeS5idWlsZE1vZGVyblVJKHBsYXllciwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdFNtYWxsU2NyZWVuVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gVUlNYW5hZ2VyLkZhY3RvcnkuYnVpbGRNb2Rlcm5TbWFsbFNjcmVlblVJKHBsYXllciwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdENhc3RSZWNlaXZlclVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIFVJTWFuYWdlci5GYWN0b3J5LmJ1aWxkTW9kZXJuQ2FzdFJlY2VpdmVyVUkocGxheWVyLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2Rlcm5VSSgpIHtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheSA9IG5ldyBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWwgPSBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1ZpZGVvIFF1YWxpdHknLCBuZXcgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEuVmlkZW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1NwZWVkJywgbmV3IHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMS5QbGF5YmFja1NwZWVkU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IGF1ZGlvdHJhY2tzZWxlY3Rib3hfMS5BdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBuZXcgc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEuU3VidGl0bGVTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSBuZXcgc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWw6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKG5ldyBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMS5TdWJ0aXRsZVNldHRpbmdzTGFiZWwoeyB0ZXh0OiAnU3VidGl0bGVzJywgb3BlbmVyOiBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiB9KSwgbmV3IHN1YnRpdGxlc2VsZWN0Ym94XzEuU3VidGl0bGVTZWxlY3RCb3goKSkpO1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZWVrYmFyXzEuU2Vla0Jhcih7IGxhYmVsOiBuZXcgc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSwgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10gfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWVzbGlkZXJfMS5Wb2x1bWVTbGlkZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzcGFjZXJfMS5TcGFjZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwaWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXzEuUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGFpcnBsYXl0b2dnbGVidXR0b25fMS5BaXJQbGF5VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHRvZ2dsZWJ1dHRvbl8xLkNhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2cnRvZ2dsZWJ1dHRvbl8xLlZSVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3N0b2dnbGVidXR0b25fMS5TZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLWJvdHRvbSddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHN0YXR1c292ZXJsYXlfMS5DYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFRpdGxlQmFyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xLlJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZXJyb3JtZXNzYWdlb3ZlcmxheV8xLkVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJ10sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2Rlcm5BdWRpb09ubHlVSSgpIHtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheSA9IG5ldyBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWwgPSBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1NwZWVkJywgbmV3IHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMS5QbGF5YmFja1NwZWVkU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IGF1ZGlvdHJhY2tzZWxlY3Rib3hfMS5BdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBuZXcgc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEuU3VidGl0bGVTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSBuZXcgc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWw6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKG5ldyBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMS5TdWJ0aXRsZVNldHRpbmdzTGFiZWwoeyB0ZXh0OiAnU3VidGl0bGVzJywgb3BlbmVyOiBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiB9KSwgbmV3IHN1YnRpdGxlc2VsZWN0Ym94XzEuU3VidGl0bGVTZWxlY3RCb3goKSkpO1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZWVrYmFyXzEuU2Vla0Jhcih7IGxhYmVsOiBuZXcgc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSwgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10gfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWVzbGlkZXJfMS5Wb2x1bWVTbGlkZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzcGFjZXJfMS5TcGFjZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEuQWlyUGxheVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3R0b2dnbGVidXR0b25fMS5DYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3N0b2dnbGVidXR0b25fMS5TZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLWJvdHRvbSddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGF1ZGlvb25seW92ZXJsYXlfMS5BdWRpb09ubHlPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHN0YXR1c292ZXJsYXlfMS5DYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFRpdGxlQmFyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xLlJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZXJyb3JtZXNzYWdlb3ZlcmxheV8xLkVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJ10sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBtb2Rlcm5BZHNVSSgpIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQWRDbGlja092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBBZE1lc3NhZ2VMYWJlbCh7IHRleHQ6ICdBZDoge3JlbWFpbmluZ1RpbWV9IHNlY3MnIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQWRTa2lwQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgICAgY3NzQ2xhc3M6ICd1aS1hZHMtc3RhdHVzJyxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgbmV3IFZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgbmV3IFZvbHVtZVNsaWRlcigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgbmV3IFNwYWNlcigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci1ib3R0b20nXSxcclxuICAgICAgICAvLyAgICAgICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJywgJ3VpLXNraW4tYWRzJ10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW9kZXJuU21hbGxTY3JlZW5VSSgpIHtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheSA9IG5ldyBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWwgPSBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1ZpZGVvIFF1YWxpdHknLCBuZXcgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEuVmlkZW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1NwZWVkJywgbmV3IHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMS5QbGF5YmFja1NwZWVkU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IGF1ZGlvdHJhY2tzZWxlY3Rib3hfMS5BdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVEZWxheTogLTEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc1BhbmVsID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IC0xLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbDogc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xLlN1YnRpdGxlU2V0dGluZ3NMYWJlbCh7IHRleHQ6ICdTdWJ0aXRsZXMnLCBvcGVuZXI6IHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uIH0pLCBuZXcgc3VidGl0bGVzZWxlY3Rib3hfMS5TdWJ0aXRsZVNlbGVjdEJveCgpKSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBjbG9zZWJ1dHRvbl8xLkNsb3NlQnV0dG9uKHsgdGFyZ2V0OiBzZXR0aW5nc1BhbmVsIH0pKTtcclxuICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbih7IHRhcmdldDogc3VidGl0bGVTZXR0aW5nc1BhbmVsIH0pKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xCYXIgPSBuZXcgY29udHJvbGJhcl8xLkNvbnRyb2xCYXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLCBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGJ1ZmZlcmluZ292ZXJsYXlfMS5CdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3RzdGF0dXNvdmVybGF5XzEuQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVvdmVybGF5XzEuUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgdGl0bGViYXJfMS5UaXRsZUJhcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0dG9nZ2xlYnV0dG9uXzEuQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZydG9nZ2xlYnV0dG9uXzEuVlJUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xLlNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEuRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMS5SZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYycsICd1aS1za2luLXNtYWxsc2NyZWVuJ10sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2Rlcm5BdWRpb09ubHlTbWFsbFNjcmVlblVJKCkge1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVPdmVybGF5ID0gbmV3IHN1YnRpdGxlb3ZlcmxheV8xLlN1YnRpdGxlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnU3BlZWQnLCBuZXcgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xLlBsYXliYWNrU3BlZWRTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgYXVkaW90cmFja3NlbGVjdGJveF8xLkF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGlkZURlbGF5OiAtMSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBuZXcgc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEuU3VidGl0bGVTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVEZWxheTogLTEsXHJcbiAgICAgICAgICAgICAgICBvdmVybGF5OiBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbShuZXcgc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEuU3VidGl0bGVTZXR0aW5nc0xhYmVsKHsgdGV4dDogJ1N1YnRpdGxlcycsIG9wZW5lcjogc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gfSksIG5ldyBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94KCkpKTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24oeyB0YXJnZXQ6IHNldHRpbmdzUGFuZWwgfSkpO1xyXG4gICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBjbG9zZWJ1dHRvbl8xLkNsb3NlQnV0dG9uKHsgdGFyZ2V0OiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgfSkpO1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZWVrYmFyXzEuU2Vla0Jhcih7IGxhYmVsOiBuZXcgc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSwgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10gfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBhdWRpb29ubHlvdmVybGF5XzEuQXVkaW9Pbmx5T3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYnVmZmVyaW5nb3ZlcmxheV8xLkJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHN0YXR1c292ZXJsYXlfMS5DYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyB0aXRsZWJhcl8xLlRpdGxlQmFyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsKHsgY29udGVudDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWxDb250ZW50LlRpdGxlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3R0b2dnbGVidXR0b25fMS5DYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdnJ0b2dnbGVidXR0b25fMS5WUlRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEuU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMS5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xLlJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZXJyb3JtZXNzYWdlb3ZlcmxheV8xLkVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJywgJ3VpLXNraW4tc21hbGxzY3JlZW4nXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIG1vZGVyblNtYWxsU2NyZWVuQWRzVUkoKSB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEFkQ2xpY2tPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBUaXRsZUJhcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIC8vIGR1bW15IGxhYmVsIHdpdGggbm8gY29udGVudCB0byBtb3ZlIGJ1dHRvbnMgdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBMYWJlbCh7IGNzc0NsYXNzOiAnbGFiZWwtbWV0YWRhdGEtdGl0bGUnIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEFkTWVzc2FnZUxhYmVsKHsgdGV4dDogJ0FkOiB7cmVtYWluaW5nVGltZX0gc2VjcycgfSksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBBZFNraXBCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgICBjc3NDbGFzczogJ3VpLWFkcy1zdGF0dXMnLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJywgJ3VpLXNraW4tYWRzJywgJ3VpLXNraW4tc21hbGxzY3JlZW4nXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBtb2Rlcm5DYXN0UmVjZWl2ZXJVSSgpIHtcclxuICAgICAgICAvLyAgIGxldCBjb250cm9sQmFyID0gbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgU2Vla0Jhcih7IHNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zOiAtMSB9KSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSwgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10gfSksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IENhc3RVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgIC8vICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFRpdGxlQmFyKHsga2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YTogdHJ1ZSB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJywgJ3VpLXNraW4tY2FzdC1yZWNlaXZlciddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZE1vZGVyblVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgLy8gc2hvdyBzbWFsbFNjcmVlbiBVSSBvbmx5IG9uIG1vYmlsZS9oYW5kaGVsZCBkZXZpY2VzXHJcbiAgICAgICAgLy8gICBsZXQgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aCA9IDYwMDtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgW3tcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVyblNtYWxsU2NyZWVuQWRzVUkoKSxcclxuICAgICAgICAvLyAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIGNvbnRleHQuaXNNb2JpbGUgJiYgY29udGV4dC5kb2N1bWVudFdpZHRoIDwgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aCAmJiBjb250ZXh0LmlzQWRXaXRoVUk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICB9LCB7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5BZHNVSSgpLFxyXG4gICAgICAgIC8vICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICByZXR1cm4gY29udGV4dC5pc0FkV2l0aFVJO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgfSwge1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5VSSgpLFxyXG4gICAgICAgIC8vICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICByZXR1cm4gY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgfSwge1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuVUkoKSxcclxuICAgICAgICAvLyAgIH1dLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRNb2Rlcm5TbWFsbFNjcmVlblVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBbe1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5BZHNVSSgpLFxyXG4gICAgICAgIC8vICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICByZXR1cm4gY29udGV4dC5pc0FkV2l0aFVJO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgfSwge1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5VSSgpLFxyXG4gICAgICAgIC8vICAgfV0sIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZE1vZGVybkNhc3RSZWNlaXZlclVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBtb2Rlcm5DYXN0UmVjZWl2ZXJVSSgpLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBsZWdhY3lVSSgpIHtcclxuICAgICAgICAvLyAgIGxldCBzZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdWaWRlbyBRdWFsaXR5JywgbmV3IFZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IEF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IEF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ1N1YnRpdGxlcycsIG5ldyBTdWJ0aXRsZVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNlZWtCYXIoeyBsYWJlbDogbmV3IFNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWUlRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWb2x1bWVDb250cm9sQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFN1YnRpdGxlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFRpdGxlQmFyKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWxlZ2FjeSddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIGxlZ2FjeUFkc1VJKCkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgQWRDbGlja092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQWRNZXNzYWdlTGFiZWwoKSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IFZvbHVtZUNvbnRyb2xCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEFkU2tpcEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbGVnYWN5JywgJ3VpLXNraW4tYWRzJ10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbGVnYWN5Q2FzdFJlY2VpdmVyVUkoKSB7XHJcbiAgICAgICAgLy8gICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZWVrQmFyKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFN1YnRpdGxlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgLy8gICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAvLyAgICAgICBuZXcgVGl0bGVCYXIoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbGVnYWN5JywgJ3VpLXNraW4tY2FzdC1yZWNlaXZlciddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIGxlZ2FjeVRlc3RVSSgpIHtcclxuICAgICAgICAvLyAgIGxldCBzZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdWaWRlbyBRdWFsaXR5JywgbmV3IFZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IEF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IEF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ1N1YnRpdGxlcycsIG5ldyBTdWJ0aXRsZVNlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW3NldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNlZWtCYXIoeyBsYWJlbDogbmV3IFNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWUlRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVm9sdW1lU2xpZGVyKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZvbHVtZUNvbnRyb2xCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVm9sdW1lQ29udHJvbEJ1dHRvbih7IHZlcnRpY2FsOiBmYWxzZSB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAvLyAgICAgICBuZXcgVGl0bGVCYXIoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbGVnYWN5J10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGVnYWN5VUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XHJcbiAgICAgICAgLy8gICAgIHVpOiBsZWdhY3lBZHNVSSgpLFxyXG4gICAgICAgIC8vICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICByZXR1cm4gY29udGV4dC5pc0FkV2l0aFVJO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgfSwge1xyXG4gICAgICAgIC8vICAgICB1aTogbGVnYWN5VUkoKSxcclxuICAgICAgICAvLyAgIH1dLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRMZWdhY3lDYXN0UmVjZWl2ZXJVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgbGVnYWN5Q2FzdFJlY2VpdmVyVUkoKSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGVnYWN5VGVzdFVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBsZWdhY3lUZXN0VUkoKSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9KShGYWN0b3J5ID0gVUlNYW5hZ2VyLkZhY3RvcnkgfHwgKFVJTWFuYWdlci5GYWN0b3J5ID0ge30pKTtcclxufSkoVUlNYW5hZ2VyID0gZXhwb3J0cy5VSU1hbmFnZXIgfHwgKGV4cG9ydHMuVUlNYW5hZ2VyID0ge30pKTtcclxuZXhwb3J0cy5VSU1hbmFnZXIgPSBVSU1hbmFnZXI7XHJcbi8qKlxyXG4gKiBFbmNhcHN1bGF0ZXMgZnVuY3Rpb25hbGl0eSB0byBtYW5hZ2UgYSBVSSBpbnN0YW5jZS4gVXNlZCBieSB0aGUge0BsaW5rIFVJTWFuYWdlcn0gdG8gbWFuYWdlIG11bHRpcGxlIFVJIGluc3RhbmNlcy5cclxuICovXHJcbnZhciBVSUluc3RhbmNlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVJSW5zdGFuY2VNYW5hZ2VyKHBsYXllciwgdWksIGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkNvbmZpZ3VyZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uU2Vla1ByZXZpZXc6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db21wb25lbnRTaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uQ29tcG9uZW50SGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbnRyb2xzU2hvdzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblByZXZpZXdDb250cm9sc0hpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db250cm9sc0hpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25SZWxlYXNlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBsYXllcldyYXBwZXIgPSBuZXcgUGxheWVyV3JhcHBlcihwbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudWkgPSB1aTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgIH1cclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5nZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfTtcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5nZXRVSSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51aTtcclxuICAgIH07XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuZ2V0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbmZpZ3VyZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIFVJIGlzIGZ1bGx5IGNvbmZpZ3VyZWQgYW5kIGFkZGVkIHRvIHRoZSBET00uXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29uZmlndXJlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25TZWVrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIGEgc2VlayBzdGFydHMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2VlaztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25TZWVrUHJldmlld1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgc2VlayB0aW1lbGluZSBpcyBzY3J1YmJlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrUHJldmlldztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25TZWVrZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBzZWVrIGlzIGZpbmlzaGVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWtlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25Db21wb25lbnRTaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIGEgY29tcG9uZW50IGlzIHNob3dpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29tcG9uZW50U2hvdztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25Db21wb25lbnRIaWRlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIGEgY29tcG9uZW50IGlzIGhpZGluZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db21wb25lbnRIaWRlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbnRyb2xzU2hvd1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIHNob3dpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29udHJvbHNTaG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblByZXZpZXdDb250cm9sc0hpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIGJlZm9yZSB0aGUgVUkgY29udHJvbHMgYXJlIGhpZGluZyB0byBjaGVjayBpZiB0aGV5IGFyZSBhbGxvd2VkIHRvIGhpZGUuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uUHJldmlld0NvbnRyb2xzSGlkZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25Db250cm9sc0hpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIFVJIGNvbnRyb2xzIGFyZSBoaWRpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29udHJvbHNIaWRlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblJlbGVhc2VcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIFVJIGNvbnRyb2xzIGFyZSByZWxlYXNlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25SZWxlYXNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBsYXllcldyYXBwZXIuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzOyAvLyBhdm9pZCBUUzcwMTdcclxuICAgICAgICBmb3IgKHZhciBldmVudF8xIGluIGV2ZW50cykge1xyXG4gICAgICAgICAgICB2YXIgZGlzcGF0Y2hlciA9IGV2ZW50c1tldmVudF8xXTtcclxuICAgICAgICAgICAgZGlzcGF0Y2hlci51bnN1YnNjcmliZUFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVUlJbnN0YW5jZU1hbmFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVUlJbnN0YW5jZU1hbmFnZXIgPSBVSUluc3RhbmNlTWFuYWdlcjtcclxuLyoqXHJcbiAqIEV4dGVuZHMgdGhlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0gZm9yIGludGVybmFsIHVzZSBpbiB0aGUge0BsaW5rIFVJTWFuYWdlcn0gYW5kIHByb3ZpZGVzIGFjY2VzcyB0byBmdW5jdGlvbmFsaXR5XHJcbiAqIHRoYXQgY29tcG9uZW50cyByZWNlaXZpbmcgYSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0gc2hvdWxkIG5vdCBoYXZlIGFjY2VzcyB0by5cclxuICovXHJcbnZhciBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFdyYXBwZWRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVE9ETyBmaW5kIGEgbm9uLWhhY2t5IHdheSB0byBwcm92aWRlIHRoZSBXcmFwcGVkUGxheWVyIHRvIHRoZSBVSU1hbmFnZXIgd2l0aG91dCBleHBvcnRpbmcgaXRcclxuICAgICAgICAvLyBnZXRQbGF5ZXIoKSBhY3R1YWxseSByZXR1cm5zIHRoZSBXcmFwcGVkUGxheWVyIGJ1dCBpdHMgcmV0dXJuIHR5cGUgaXMgc2V0IHRvIFBsYXllciBzbyB0aGUgV3JhcHBlZFBsYXllciBkb2VzXHJcbiAgICAgICAgLy8gbm90IG5lZWQgdG8gYmUgZXhwb3J0ZWRcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZUNvbnRyb2xzVHJlZSh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuaXNDb25maWd1cmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWQ7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlQ29udHJvbHNUcmVlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbmZpZ3VyZWRDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdWl1dGlsc18xLlVJVXRpbHMudHJhdmVyc2VUcmVlKGNvbXBvbmVudCwgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgd2UgaGF2ZSBhbHJlYWR5IGNvbmZpZ3VyZWQgYSBjb21wb25lbnQsIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB3ZSBkaWQuIE11bHRpcGxlIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgLy8gb2YgdGhlIHNhbWUgY29tcG9uZW50IGxlYWRzIHRvIHVuZXhwZWN0ZWQgVUkgYmVoYXZpb3IuIEFsc28sIGEgY29tcG9uZW50IHRoYXQgaXMgaW4gdGhlIFVJIHRyZWUgbXVsdGlwbGVcclxuICAgICAgICAgICAgLy8gdGltZXMgaGludHMgYXQgYSB3cm9uZyBVSSBzdHJ1Y3R1cmUuXHJcbiAgICAgICAgICAgIC8vIFdlIGNvdWxkIGp1c3Qgc2tpcCBjb25maWd1cmF0aW9uIGluIHN1Y2ggYSBjYXNlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uLCBidXQgZW5mb3JjaW5nIGEgY2xlYW4gVUkgdHJlZVxyXG4gICAgICAgICAgICAvLyBzZWVtcyBsaWtlIHRoZSBiZXR0ZXIgY2hvaWNlLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNvbmZpZ3VyZWRDb21wb25lbnRzXzEgPSBjb25maWd1cmVkQ29tcG9uZW50czsgX2kgPCBjb25maWd1cmVkQ29tcG9uZW50c18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZ3VyZWRDb21wb25lbnQgPSBjb25maWd1cmVkQ29tcG9uZW50c18xW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmVkQ29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSB0aGUgY29tcG9uZW50IHRvIHRoZSBjb25zb2xlIHRvIHNpbXBsaWZ5IGlkZW50aWZpY2F0aW9uIG9mIHRoZSBjdWxwcml0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgaW5zcGVjdGluZyB0aGUgY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBpbiBVSSB0cmVlJywgY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkaXRpb25hbGx5IHRocm93IGFuIGVycm9yLCBiZWNhdXNlIHRoaXMgY2FzZSBtdXN0IG5vdCBoYXBwZW4gYW5kIGxlYWRzIHRvIHVuZXhwZWN0ZWQgVUkgYmVoYXZpb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBpbiBVSSB0cmVlOiAnICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5jb25maWd1cmUoX3RoaXMuZ2V0UGxheWVyKCksIF90aGlzKTtcclxuICAgICAgICAgICAgY29uZmlndXJlZENvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEbyBub3QgY2FsbCByZWxlYXNlIG1ldGhvZHMgaWYgdGhlIGNvbXBvbmVudHMgaGF2ZSBuZXZlciBiZWVuIGNvbmZpZ3VyZWQ7IHRoaXMgY2FuIHJlc3VsdCBpbiBleGNlcHRpb25zXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZS5kaXNwYXRjaCh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUodGhpcy5nZXRVSSgpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmlzUmVsZWFzZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsZWFzZWQ7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUNvbnRyb2xzVHJlZSA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBjb21wb25lbnQucmVsZWFzZSgpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBjb250YWluZXJfMS5Db250YWluZXIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGNvbXBvbmVudC5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUoY2hpbGRDb21wb25lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycy5jYWxsKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG59KFVJSW5zdGFuY2VNYW5hZ2VyKSk7XHJcbi8qKlxyXG4gKiBXcmFwcyB0aGUgcGxheWVyIHRvIHRyYWNrIGV2ZW50IGhhbmRsZXJzIGFuZCBwcm92aWRlIGEgc2ltcGxlIG1ldGhvZCB0byByZW1vdmUgYWxsIHJlZ2lzdGVyZWQgZXZlbnRcclxuICogaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyLlxyXG4gKi9cclxudmFyIFBsYXllcldyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF5ZXJXcmFwcGVyKHBsYXllcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge307XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgbWVtYmVycyBvZiB0aGUgcGxheWVyIChwdWJsaWMgQVBJIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllcilcclxuICAgICAgICAvLyAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocGxheWVyKSBkb2VzIG5vdCB3b3JrIHdpdGggdGhlIHBsYXllciBUeXBlU2NyaXB0IGNsYXNzIHN0YXJ0aW5nIGluIDcuMilcclxuICAgICAgICB2YXIgbWVtYmVycyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIG1lbWJlciBpbiBwbGF5ZXIpIHtcclxuICAgICAgICAgICAgbWVtYmVycy5wdXNoKG1lbWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNwbGl0IHRoZSBtZW1iZXJzIGludG8gbWV0aG9kcyBhbmQgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBtZXRob2RzID0gW107XHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG1lbWJlcnNfMSA9IG1lbWJlcnM7IF9pIDwgbWVtYmVyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbWVtYmVyc18xW19pXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbGF5ZXJbbWVtYmVyXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKG1lbWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobWVtYmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgd3JhcHBlciBvYmplY3RcclxuICAgICAgICB2YXIgd3JhcHBlciA9IHt9O1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKG1ldGhvZCkge1xyXG4gICAgICAgICAgICB3cmFwcGVyW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGVkICcgKyBtZW1iZXIpOyAvLyB0cmFjayBtZXRob2QgY2FsbHMgb24gdGhlIHBsYXllclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllclttZXRob2RdLmFwcGx5KHBsYXllciwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEFkZCBmdW5jdGlvbiB3cmFwcGVycyBmb3IgYWxsIEFQSSBtZXRob2RzIHRoYXQgZG8gbm90aGluZyBidXQgY2FsbGluZyB0aGUgYmFzZSBtZXRob2Qgb24gdGhlIHBsYXllclxyXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgbWV0aG9kc18xID0gbWV0aG9kczsgX2EgPCBtZXRob2RzXzEubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBtZXRob2RzXzFbX2FdO1xyXG4gICAgICAgICAgICBfbG9vcF8xKG1ldGhvZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbiBldmVudHVhbGx5IGV4aXN0aW5nIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHBsYWluIHByb3BlcnRpZXMgYW5kIHByb3BlcnRpZXMgd2l0aFxyXG4gICAgICAgICAgICAvLyBnZXR0ZXJzL3NldHRlcnMuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBsYXllciwgcHJvcGVydHkpIHx8XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihwbGF5ZXIpLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBoYXMgZ2V0dGVycy9zZXR0ZXJzLCB3cmFwIHRoZW0gYWNjb3JkaW5nbHkuLi5cclxuICAgICAgICAgICAgaWYgKHByb3BlcnR5RGVzY3JpcHRvciAmJiAocHJvcGVydHlEZXNjcmlwdG9yLmdldCB8fCBwcm9wZXJ0eURlc2NyaXB0b3Iuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdyYXBwZXIsIHByb3BlcnR5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wZXJ0eURlc2NyaXB0b3IuZ2V0LmNhbGwocGxheWVyKTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcHJvcGVydHlEZXNjcmlwdG9yLnNldC5jYWxsKHBsYXllciwgdmFsdWUpOyB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gLi4uIGVsc2UganVzdCB0cmFuc2ZlciB0aGUgcHJvcGVydHkgdG8gdGhlIHdyYXBwZXJcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyW3Byb3BlcnR5XSA9IHBsYXllcltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEFkZCBhbGwgcHVibGljIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllciB0byB0aGUgd3JhcHBlclxyXG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgcHJvcGVydGllc18xID0gcHJvcGVydGllczsgX2IgPCBwcm9wZXJ0aWVzXzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNfMVtfYl07XHJcbiAgICAgICAgICAgIF9sb29wXzIocHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFeHBsaWNpdGx5IGFkZCBhIHdyYXBwZXIgbWV0aG9kIGZvciAnYWRkRXZlbnRIYW5kbGVyJyB0aGF0IGFkZHMgYWRkZWQgZXZlbnQgaGFuZGxlcnMgdG8gdGhlIGV2ZW50IGxpc3RcclxuICAgICAgICB3cmFwcGVyLmFkZEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIC8vIGluIHBsYXllciBWOCBhZGRFdmVudEhhbmRsZXIgd2FzIHJlcGxhY2VkIGJ5IG9uXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIub24pIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5vbihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgdmVyc2lvbnMgPDcuN1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEV4cGxpY2l0bHkgYWRkIGEgd3JhcHBlciBtZXRob2QgZm9yICdyZW1vdmVFdmVudEhhbmRsZXInIHRoYXQgcmVtb3ZlcyByZW1vdmVkIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIGV2ZW50IGxpc3RcclxuICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIub2ZmKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIub2ZmKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciB2ZXJzaW9ucyA8Ny43XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0pIHtcclxuICAgICAgICAgICAgICAgIGFycmF5dXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZShfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0sIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdyYXBwZXIuZmlyZUV2ZW50SW5VSSA9IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudF0pIHsgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGhhbmRsZXJzIGZvciB0aGlzIGV2ZW50IHJlZ2lzdGVyZWRcclxuICAgICAgICAgICAgICAgIC8vIEV4dGVuZCB0aGUgZGF0YSBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcyB0byBjb252ZXJ0IGl0IHRvIGEge0BsaW5rIFBsYXllckV2ZW50fSBvYmplY3QuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGxheWVyRXZlbnREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBldmVudCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBtYXJrZXIgcHJvcGVydHkgc28gdGhlIFVJIGNhbiBkZXRlY3QgVUktaW50ZXJuYWwgcGxheWVyIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIHVpU291cmNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0sIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja3NcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socGxheWVyRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy53cmFwcGVyID0gd3JhcHBlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHdyYXBwZWQgcGxheWVyIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIG9uIHBsYWNlIG9mIHRoZSBub3JtYWwgcGxheWVyIG9iamVjdC5cclxuICAgICAqIEByZXR1cm5zIHtXcmFwcGVkUGxheWVyfSBhIHdyYXBwZWQgcGxheWVyXHJcbiAgICAgKi9cclxuICAgIFBsYXllcldyYXBwZXIucHJvdG90eXBlLmdldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGFsbCByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIHBsYXllciB0aGF0IHdlcmUgYWRkZWQgdGhyb3VnaCB0aGUgd3JhcHBlZCBwbGF5ZXIuXHJcbiAgICAgKi9cclxuICAgIFBsYXllcldyYXBwZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBldmVudFR5cGUgaW4gdGhpcy5ldmVudEhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxheWVyV3JhcHBlcjtcclxufSgpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci91aW1hbmFnZXIudHNcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBHdWlkO1xyXG4oZnVuY3Rpb24gKEd1aWQpIHtcclxuICAgIHZhciBndWlkID0gMTtcclxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGd1aWQrKztcclxuICAgIH1cclxuICAgIEd1aWQubmV4dCA9IG5leHQ7XHJcbn0pKEd1aWQgPSBleHBvcnRzLkd1aWQgfHwgKGV4cG9ydHMuR3VpZCA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvZ3VpZC50c1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN0b3JhZ2V1dGlsc18xID0gcmVxdWlyZShcIi4uLy4uL3N0b3JhZ2V1dGlsc1wiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4uL2NvbXBvbmVudFwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uLy4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgICAgICBmb250Q29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIGZvbnRPcGFjaXR5OiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgY2hhcmFjdGVyRWRnZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kT3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgd2luZG93Q29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIHdpbmRvd09wYWNpdHk6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVzZXJTZXR0aW5ncyA9IHt9O1xyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlS2V5ID0gRHVtbXlDb21wb25lbnQuaW5zdGFuY2UoKS5wcmVmaXhDc3MoJ3N1YnRpdGxlc2V0dGluZ3MnKTtcclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgdGhpc18xLl9wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0ub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyU2V0dGluZ3NbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBwcm9wZXJ0eSBmcm9tIHRoZSBzZXR0aW5ncyBvYmplY3QgaWYgdW5zZXQgdG8gYXZvaWQgc2VyaWFsaXphdGlvbiBvZiBudWxsIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy51c2VyU2V0dGluZ3NbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIHNldHRpbmdzIG9iamVjdCB3aGVuIGEgcHJvcGVydHkgaGFzIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gdGhpcy5fcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBfbG9vcF8xKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9hZCgpO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiB0aGlzLl9wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImZvbnRDb2xvclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRDb2xvcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udE9wYWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5mb250T3BhY2l0eTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udEZhbWlseVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udFNpemU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImNoYXJhY3RlckVkZ2VcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5jaGFyYWN0ZXJFZGdlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRPcGFjaXR5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuYmFja2dyb3VuZE9wYWNpdHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcIndpbmRvd0NvbG9yXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMud2luZG93Q29sb3I7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcIndpbmRvd09wYWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy53aW5kb3dPcGFjaXR5O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlcyB0aGUgc2V0dGluZ3MgdG8gbG9jYWwgc3RvcmFnZS5cclxuICAgICAqL1xyXG4gICAgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3RvcmFnZXV0aWxzXzEuU3RvcmFnZVV0aWxzLnNldE9iamVjdCh0aGlzLmxvY2FsU3RvcmFnZUtleSwgdGhpcy51c2VyU2V0dGluZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9hZHMgdGhlIHNldHRpbmdzIGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVzZXJTZXR0aW5ncyA9IHN0b3JhZ2V1dGlsc18xLlN0b3JhZ2VVdGlscy5nZXRPYmplY3QodGhpcy5sb2NhbFN0b3JhZ2VLZXkpIHx8IHt9O1xyXG4gICAgICAgIC8vIEFwcGx5IHRoZSBsb2FkZWQgc2V0dGluZ3NcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzLnVzZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzW3Byb3BlcnR5XS52YWx1ZSA9IHRoaXMudXNlclNldHRpbmdzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyID0gU3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XHJcbi8qKlxyXG4gKiBBIGR1bW15IGNvbXBvbmVudCB3aG9zZSBzb2xlIHB1cnBvc2UgaXMgdG8gZXhwb3NlIHRoZSB7QGxpbmsgI3ByZWZpeENzc30gbWV0aG9kIHRvIHRoZVxyXG4gKiB7QGxpbmsgU3VidGl0bGVTZXR0aW5nc01hbmFnZXJ9LlxyXG4gKi9cclxudmFyIER1bW15Q29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKER1bW15Q29tcG9uZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRHVtbXlDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgRHVtbXlDb21wb25lbnQuaW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFEdW1teUNvbXBvbmVudC5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgRHVtbXlDb21wb25lbnQuX2luc3RhbmNlID0gbmV3IER1bW15Q29tcG9uZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBEdW1teUNvbXBvbmVudC5faW5zdGFuY2U7XHJcbiAgICB9O1xyXG4gICAgRHVtbXlDb21wb25lbnQucHJvdG90eXBlLnByZWZpeENzcyA9IGZ1bmN0aW9uIChjc3NDbGFzc09ySWQpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5wcmVmaXhDc3MuY2FsbCh0aGlzLCBjc3NDbGFzc09ySWQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEdW1teUNvbXBvbmVudDtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxudmFyIFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eShtYW5hZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VkID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5LnByb3RvdHlwZS5pc1NldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlZEV2ZW50KG51bGwpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgPT09ICdudWxsJykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VkRXZlbnQodmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5LnByb3RvdHlwZS5vbkNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX29uQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9tYW5hZ2VyLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5LnByb3RvdHlwZSwgXCJvbkNoYW5nZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25DaGFuZ2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5O1xyXG59KCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSA9IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc21hbmFnZXIudHNcbi8vIG1vZHVsZSBpZCA9IDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuL2RvbVwiKTtcclxuLyoqXHJcbiAqIFRyYWNrcyB0aGUgbG9hZGluZyBzdGF0ZSBvZiBpbWFnZXMuXHJcbiAqL1xyXG52YXIgSW1hZ2VMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBJbWFnZUxvYWRlcigpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIGFuIGltYWdlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBvbmNlIHRoZSBpbWFnZSBpcyBsb2FkZWQuIElmIHRoZSBpbWFnZSBpcyBhbHJlYWR5IGxvYWRlZCwgdGhlIGNhbGxiYWNrXHJcbiAgICAgKiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksIGVsc2UgaXQgaXMgY2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgZmluaXNoZWQuIENhbGxpbmcgdGhpcyBtZXRob2QgbXVsdGlwbGUgdGltZXMgZm9yIHRoZVxyXG4gICAgICogc2FtZSBpbWFnZSB3aGlsZSBpdCBpcyBsb2FkaW5nIGNhbGxzIG9ubHkgbGV0IGNhbGxiYWNrIHBhc3NlZCBpbnRvIHRoZSBsYXN0IGNhbGwuXHJcbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwgdG8gdGhlIGltYWdlIHRvIGxvYWRcclxuICAgICAqIEBwYXJhbSBsb2FkZWRDYWxsYmFjayBUaGUgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgaW1hZ2UgaXMgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIEltYWdlTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHVybCwgbG9hZGVkQ2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZVt1cmxdKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGltYWdlIHdhcyBuZXZlciBhdHRlbXB0ZWQgdG8gYmUgbG9hZGVkIGJlZm9yZSwgd2UgY3JlYXRlIGEgc3RhdGUgYW5kIHN0b3JlIGl0IGluIHRoZSBzdGF0ZSBtYXBcclxuICAgICAgICAgICAgLy8gZm9yIGxhdGVyIHVzZSB3aGVuIHRoZSBzYW1lIGltYWdlIGlzIHJlcXVlc3RlZCB0byBiZSBsb2FkZWQgYWdhaW4uXHJcbiAgICAgICAgICAgIHZhciBzdGF0ZV8xID0ge1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBpbWFnZTogbmV3IGRvbV8xLkRPTSgnaW1nJywge30pLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkQ2FsbGJhY2s6IGxvYWRlZENhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlW3VybF0gPSBzdGF0ZV8xO1xyXG4gICAgICAgICAgICAvLyBMaXN0ZW4gdG8gdGhlIGxvYWQgZXZlbnQsIHVwZGF0ZSB0aGUgc3RhdGUgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGltYWdlIGlzIGxvYWRlZFxyXG4gICAgICAgICAgICBzdGF0ZV8xLmltYWdlLm9uKCdsb2FkJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEud2lkdGggPSBzdGF0ZV8xLmltYWdlLmdldCgwKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEuaGVpZ2h0ID0gc3RhdGVfMS5pbWFnZS5nZXQoMCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2FsbExvYWRlZENhbGxiYWNrKHN0YXRlXzEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBpbWFnZSBVUkwgdG8gc3RhcnQgdGhlIGxvYWRpbmdcclxuICAgICAgICAgICAgc3RhdGVfMS5pbWFnZS5hdHRyKCdzcmMnLCBzdGF0ZV8xLnVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3RhdGUgZm9yIHRoZSByZXF1ZXN0ZWQgaW1hZ2UsIHNvIGl0IGlzIGVpdGhlciBhbHJlYWR5IGxvYWRlZCBvciBjdXJyZW50bHkgbG9hZGluZ1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlW3VybF07XHJcbiAgICAgICAgICAgIC8vIFdlIG92ZXJ3cml0ZSB0aGUgY2FsbGJhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb25seSB0aGUgY2FsbGJhY2sgb2YgdGhlIGxhdGVzdCBjYWxsIGdldHMgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAgIC8vIEVhcmxpZXIgY2FsbGJhY2tzIGJlY29tZSBpbnZhbGlkIG9uY2UgYSBuZXcgbG9hZCBjYWxsIGFycml2ZXMsIGFuZCB0aGV5IGFyZSBub3QgY2FsbGVkIGFzIGxvbmcgYXMgdGhlIGltYWdlXHJcbiAgICAgICAgICAgIC8vIGlzIG5vdCBsb2FkZWQuXHJcbiAgICAgICAgICAgIHN0YXRlLmxvYWRlZENhbGxiYWNrID0gbG9hZGVkQ2FsbGJhY2s7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCB3ZSBkaXJlY3RseSBleGVjdXRlIHRoZSBjYWxsYmFjayBpbnN0ZWFkIG9mIHdhaXRpbmcgZm9yIHRoZSBsb2FkIGV2ZW50XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbExvYWRlZENhbGxiYWNrKHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJbWFnZUxvYWRlci5wcm90b3R5cGUuY2FsbExvYWRlZENhbGxiYWNrID0gZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgc3RhdGUubG9hZGVkQ2FsbGJhY2soc3RhdGUudXJsLCBzdGF0ZS53aWR0aCwgc3RhdGUuaGVpZ2h0KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW1hZ2VMb2FkZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSW1hZ2VMb2FkZXIgPSBJbWFnZUxvYWRlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9pbWFnZWxvYWRlci50c1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG4vKipcclxuICogQW5pbWF0ZWQgYW5hbG9nIFRWIHN0YXRpYyBub2lzZS5cclxuICovXHJcbnZhciBUdk5vaXNlQ2FudmFzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFR2Tm9pc2VDYW52YXMsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUdk5vaXNlQ2FudmFzKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jYW52YXNXaWR0aCA9IDE2MDtcclxuICAgICAgICBfdGhpcy5jYW52YXNIZWlnaHQgPSA5MDtcclxuICAgICAgICBfdGhpcy5pbnRlcmZlcmVuY2VIZWlnaHQgPSA1MDtcclxuICAgICAgICBfdGhpcy5sYXN0RnJhbWVVcGRhdGUgPSAwO1xyXG4gICAgICAgIF90aGlzLmZyYW1lSW50ZXJ2YWwgPSA2MDtcclxuICAgICAgICBfdGhpcy51c2VBbmltYXRpb25GcmFtZSA9ICEhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS10dm5vaXNlY2FudmFzJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMgPSBuZXcgZG9tXzEuRE9NKCdjYW52YXMnLCB7ICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpIH0pO1xyXG4gICAgfTtcclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IHRoaXMuY2FudmFzLmdldCgwKTtcclxuICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLXRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gMDtcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDtcclxuICAgICAgICB0aGlzLnJlbmRlckZyYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIGhhcyBiZWVuIGNvcGllZCBmcm9tIHRoZSBwbGF5ZXIgY29udHJvbHMuanMgYW5kIHNpbXBsaWZpZWRcclxuICAgICAgICBpZiAodGhpcy5sYXN0RnJhbWVVcGRhdGUgKyB0aGlzLmZyYW1lSW50ZXJ2YWwgPiBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICAvLyBJdCdzIHRvbyBlYXJseSB0byByZW5kZXIgdGhlIG5leHQgZnJhbWVcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU5leHRSZW5kZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudFBpeGVsT2Zmc2V0O1xyXG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIC8vIENyZWF0ZSB0ZXh0dXJlXHJcbiAgICAgICAgdmFyIG5vaXNlSW1hZ2UgPSB0aGlzLmNhbnZhc0NvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIC8vIEZpbGwgdGV4dHVyZSB3aXRoIG5vaXNlXHJcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBjYW52YXNIZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNhbnZhc1dpZHRoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQaXhlbE9mZnNldCA9IChjYW52YXNXaWR0aCAqIHkgKiA0KSArIHggKiA0O1xyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF0gPSBNYXRoLnJhbmRvbSgpICogMjU1O1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPCB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zIHx8IHkgPiB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zICsgdGhpcy5pbnRlcmZlcmVuY2VIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSAqPSAwLjg1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDFdID0gbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF07XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMl0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAzXSA9IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFB1dCB0ZXh0dXJlIG9udG8gY2FudmFzXHJcbiAgICAgICAgdGhpcy5jYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShub2lzZUltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVVwZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgKz0gNztcclxuICAgICAgICBpZiAodGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLWNhbnZhc0hlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU5leHRSZW5kZXIoKTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zY2hlZHVsZU5leHRSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXNlQW5pbWF0aW9uRnJhbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXJGcmFtZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQgPSBzZXRUaW1lb3V0KHRoaXMucmVuZGVyRnJhbWUuYmluZCh0aGlzKSwgdGhpcy5mcmFtZUludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFR2Tm9pc2VDYW52YXM7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuVHZOb2lzZUNhbnZhcyA9IFR2Tm9pc2VDYW52YXM7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90dm5vaXNlY2FudmFzLnRzXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgYW4gYXVkaW8tb25seSBpbmRpY2F0b3IuXHJcbiAqL1xyXG52YXIgQXVkaW9Pbmx5T3ZlcmxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdWRpb09ubHlPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXVkaW9Pbmx5T3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaW5kaWNhdG9yQ29uZmlnID0gW1xyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1hdWRpb29ubHktb3ZlcmxheS1pbmRpY2F0b3InLCBoaWRkZW46IHRydWUgfSksXHJcbiAgICAgICAgXTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1hdWRpb29ubHktb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IF90aGlzLmluZGljYXRvckNvbmZpZyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEF1ZGlvT25seU92ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdWltYW5hZ2VyLmdldENvbmZpZygpLmF1ZGlvT25seU92ZXJsYXlDb25maWcgfHwge307XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIGluZGljYXRvciA9IGNvbmZpZy5jb21wb25lbnRzWzBdO1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2VVcmwgPSB0aGlzLmNvbXBvbmVudENvbmZpZy5iYWNrZ3JvdW5kSW1hZ2VVcmw7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICB2YXIgc2hvd0JhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2JhY2tncm91bmRJbWFnZScsIFwidXJsKFwiICsgYmFja2dyb3VuZEltYWdlVXJsICsgXCIpXCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnYmFja2dyb3VuZFNpemUnLCAnY29udGFpbicpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnYmFja2dyb3VuZENvbG9yJywgJyMwMDAwMDAnKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2FuaW1hdGlvbicsICdub25lJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kUG9zaXRpb24nLCAnY2VudGVyJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgb3ZlcmxheVNob3dUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpbmRpY2F0b3Iuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBzaG93T3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaGlkZU92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXlTaG93VGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbmRpY2F0b3IuaGlkZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmRJbWFnZVVybCkge1xyXG4gICAgICAgICAgICBzaG93QmFja2dyb3VuZEltYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jb21wb25lbnRDb25maWcuaGlkZGVJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgc2hvd092ZXJsYXkpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIGhpZGVPdmVybGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEF1ZGlvT25seU92ZXJsYXk7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuQXVkaW9Pbmx5T3ZlcmxheSA9IEF1ZGlvT25seU92ZXJsYXk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hdWRpb29ubHlvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGlzdHNlbGVjdG9yXzEgPSByZXF1aXJlKFwiLi9saXN0c2VsZWN0b3JcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBJdGVtU2VsZWN0aW9uTGlzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJdGVtU2VsZWN0aW9uTGlzdCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEl0ZW1TZWxlY3Rpb25MaXN0KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgdGFnOiAndWwnLFxyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWl0ZW1zZWxlY3Rpb25saXN0JyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPiAxO1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxpc3RFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgndWwnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxpc3RFbGVtZW50ID0gbGlzdEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcygpO1xyXG4gICAgICAgIHJldHVybiBsaXN0RWxlbWVudDtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUudXBkYXRlRG9tSXRlbXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgPT09IHZvaWQgMCkgeyBzZWxlY3RlZFZhbHVlID0gbnVsbDsgfVxyXG4gICAgICAgIC8vIERlbGV0ZSBhbGwgY2hpbGRyZW5cclxuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkTGlzdEl0ZW0gPSBudWxsO1xyXG4gICAgICAgIHZhciBzZWxlY3RJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhJdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRlc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoSXRlbVNlbGVjdGlvbkxpc3QuQ0xBU1NfU0VMRUNURUQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gbmV3IGRvbV8xLkRPTSgnbGknLCB7XHJcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdsaScsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiB0aGlzXzEucHJlZml4Q3NzKCd1aS1zZWxlY3Rpb25saXN0aXRlbScpLFxyXG4gICAgICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnYScsIHt9KS5odG1sKGl0ZW0ubGFiZWwpKTtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PSBudWxsKSB7IC8vIElmIHRoZXJlIGlzIG5vIHByZS1zZWxlY3RlZCB2YWx1ZSwgc2VsZWN0IHRoZSBmaXJzdCBvbmVcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChTdHJpbmcoc2VsZWN0ZWRWYWx1ZSkgPT09IGl0ZW0ua2V5KSB7IC8vIGNvbnZlcnQgc2VsZWN0ZWRWYWx1ZSB0byBzdHJpbmcgdG8gY2F0Y2ggJ251bGwnL251bGwgY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgbGlzdCBpdGVtIHNlbGVjdGlvbnNcclxuICAgICAgICAgICAgbGlzdEl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGVzZWxlY3QgdGhlIHByZXZpb3VzIGl0ZW0gKGlmIHRoZXJlIHdhcyBhIHNlbGVjdGVkIGl0ZW0pXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMaXN0SXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2VsZWN0SXRlbShzZWxlY3RlZExpc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY2xpY2tlZCBpdGVtXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtKGxpc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmUgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkl0ZW1TZWxlY3RlZEV2ZW50KGl0ZW0ua2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBTZWxlY3QgZGVmYXVsdCBpdGVtXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtKHNlbGVjdGVkTGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXNfMS5saXN0RWxlbWVudC5hcHBlbmQobGlzdEl0ZW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBfbG9vcF8xKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XHJcbiAgICB9O1xyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUsIHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zID09PSB2b2lkIDApIHsgdXBkYXRlRG9tSXRlbXMgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIGlmICh1cGRhdGVEb21JdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QuQ0xBU1NfU0VMRUNURUQgPSAnc2VsZWN0ZWQnO1xyXG4gICAgcmV0dXJuIEl0ZW1TZWxlY3Rpb25MaXN0O1xyXG59KGxpc3RzZWxlY3Rvcl8xLkxpc3RTZWxlY3RvcikpO1xyXG5leHBvcnRzLkl0ZW1TZWxlY3Rpb25MaXN0ID0gSXRlbVNlbGVjdGlvbkxpc3Q7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50c1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNsaWNrb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY2xpY2tvdmVybGF5XCIpO1xyXG4vKipcclxuICogQSB3YXRlcm1hcmsgb3ZlcmxheSB3aXRoIGEgY2xpY2thYmxlIGxvZ28uXHJcbiAqL1xyXG52YXIgV2F0ZXJtYXJrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdhdGVybWFyaywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFdhdGVybWFyayhjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktd2F0ZXJtYXJrJyxcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovL2JpdG1vdmluLmNvbScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gV2F0ZXJtYXJrO1xyXG59KGNsaWNrb3ZlcmxheV8xLkNsaWNrT3ZlcmxheSkpO1xyXG5leHBvcnRzLldhdGVybWFyayA9IFdhdGVybWFyaztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3dhdGVybWFyay50c1xuLy8gbW9kdWxlIGlkID0gODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgdm9sdW1lc2xpZGVyXzEgPSByZXF1aXJlKFwiLi92b2x1bWVzbGlkZXJcIik7XHJcbnZhciB2b2x1bWV0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3ZvbHVtZXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG4vKipcclxuICogQSBjb21wb3NpdGUgdm9sdW1lIGNvbnRyb2wgdGhhdCBjb25zaXN0cyBvZiBhbmQgaW50ZXJuYWxseSBtYW5hZ2VzIGEgdm9sdW1lIGNvbnRyb2wgYnV0dG9uIHRoYXQgY2FuIGJlIHVzZWRcclxuICogZm9yIG11dGluZywgYW5kIGEgKGRlcGVuZGluZyBvbiB0aGUgQ1NTIHN0eWxlLCBlLmcuIHNsaWRlLW91dCkgdm9sdW1lIGNvbnRyb2wgYmFyLlxyXG4gKi9cclxudmFyIFZvbHVtZUNvbnRyb2xCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lQ29udHJvbEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZUNvbnRyb2xCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA9IG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXIgPSBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKHtcclxuICAgICAgICAgICAgdmVydGljYWw6IGNvbmZpZy52ZXJ0aWNhbCAhPSBudWxsID8gY29uZmlnLnZlcnRpY2FsIDogdHJ1ZSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZWNvbnRyb2xidXR0b24nLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudm9sdW1lVG9nZ2xlQnV0dG9uLCBfdGhpcy52b2x1bWVTbGlkZXJdLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDUwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHZvbHVtZVRvZ2dsZUJ1dHRvbiA9IHRoaXMuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgdmFyIHZvbHVtZVNsaWRlciA9IHRoaXMuZ2V0Vm9sdW1lU2xpZGVyKCk7XHJcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh0aGlzLmdldENvbmZpZygpLmhpZGVEZWxheSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2b2x1bWVTbGlkZXIuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVm9sdW1lIFNsaWRlciB2aXNpYmlsaXR5IGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgdm9sdW1lIHNsaWRlciBzaGFsbCBiZSB2aXNpYmxlIHdoaWxlIHRoZSB1c2VyIGhvdmVycyB0aGUgbXV0ZSB0b2dnbGUgYnV0dG9uLCB3aGlsZSB0aGUgdXNlciBob3ZlcnMgdGhlXHJcbiAgICAgICAgICogdm9sdW1lIHNsaWRlciwgYW5kIHdoaWxlIHRoZSB1c2VyIHNsaWRlcyB0aGUgdm9sdW1lIHNsaWRlci4gSWYgbm9uZSBvZiB0aGVzZSBzaXR1YXRpb25zIGFyZSB0cnVlLCB0aGUgc2xpZGVyXHJcbiAgICAgICAgICogc2hhbGwgZGlzYXBwZWFyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciB2b2x1bWVTbGlkZXJIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2hvdyB2b2x1bWUgc2xpZGVyIHdoZW4gbW91c2UgZW50ZXJzIHRoZSBidXR0b24gYXJlYVxyXG4gICAgICAgICAgICBpZiAodm9sdW1lU2xpZGVyLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHZvbHVtZVNsaWRlci5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXZvaWQgaGlkaW5nIG9mIHRoZSBzbGlkZXIgd2hlbiBidXR0b24gaXMgaG92ZXJlZFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEhpZGUgc2xpZGVyIGRlbGF5ZWQgd2hlbiBidXR0b24gaXMgbGVmdFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNsaWRlciBpcyBlbnRlcmVkLCBjYW5jZWwgdGhlIGhpZGUgdGltZW91dCBhY3RpdmF0ZWQgYnkgbGVhdmluZyB0aGUgYnV0dG9uXHJcbiAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHZvbHVtZVNsaWRlckhvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gbW91c2UgbGVhdmVzIHRoZSBzbGlkZXIsIG9ubHkgaGlkZSBpdCBpZiB0aGVyZSBpcyBubyBzbGlkZSBvcGVyYXRpb24gaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgaWYgKHZvbHVtZVNsaWRlci5pc1NlZWtpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgc2xpZGUgb3BlcmF0aW9uIGlzIGRvbmUgYW5kIHRoZSBzbGlkZXIgbm90IGhvdmVyZWQgKG1vdXNlIG91dHNpZGUgc2xpZGVyKSwgaGlkZSBzbGlkZXIgZGVsYXllZFxyXG4gICAgICAgICAgICBpZiAoIXZvbHVtZVNsaWRlckhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSB0b2dnbGUgYnV0dG9uLlxyXG4gICAgICogQHJldHVybnMge1ZvbHVtZVRvZ2dsZUJ1dHRvbn1cclxuICAgICAqL1xyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSBzaWxkZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Vm9sdW1lU2xpZGVyfVxyXG4gICAgICovXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5nZXRWb2x1bWVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lU2xpZGVyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlZvbHVtZUNvbnRyb2xCdXR0b24gPSBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lY29udHJvbGJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gODFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgaXMgZGlzcGxheWVkIGR1cmluZyBhZHMgYW5kIGNhbiBiZSB1c2VkIHRvIHNraXAgdGhlIGFkLlxyXG4gKi9cclxudmFyIEFkU2tpcEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBZFNraXBCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBZFNraXBCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWJ1dHRvbi1hZC1za2lwJyxcclxuICAgICAgICAgICAgc2tpcE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZG93bjogJ1NraXAgYWQgaW4ge3JlbWFpbmluZ1RpbWV9JyxcclxuICAgICAgICAgICAgICAgIHNraXA6ICdTa2lwIGFkJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEFkU2tpcEJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTsgLy8gVE9ETyBnZXQgcmlkIG9mIGdlbmVyaWMgY2FzdFxyXG4gICAgICAgIHZhciBza2lwTWVzc2FnZSA9IGNvbmZpZy5za2lwTWVzc2FnZTtcclxuICAgICAgICB2YXIgYWRFdmVudCA9IG51bGw7XHJcbiAgICAgICAgdmFyIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gRGlzcGxheSB0aGlzIGJ1dHRvbiBvbmx5IGlmIGFkIGlzIHNraXBwYWJsZVxyXG4gICAgICAgICAgICBpZiAoYWRFdmVudC5za2lwT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBza2lwIG1lc3NhZ2Ugb24gdGhlIGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmdldEN1cnJlbnRUaW1lKCkgPCBhZEV2ZW50LnNraXBPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQoc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKGNvbmZpZy5za2lwTWVzc2FnZS5jb3VudGRvd24sIGFkRXZlbnQuc2tpcE9mZnNldCwgcGxheWVyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KGNvbmZpZy5za2lwTWVzc2FnZS5za2lwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFkU3RhcnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGFkRXZlbnQgPSBldmVudDtcclxuICAgICAgICAgICAgc2tpcE1lc3NhZ2UgPSBhZEV2ZW50LnNraXBNZXNzYWdlIHx8IHNraXBNZXNzYWdlO1xyXG4gICAgICAgICAgICB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZEVuZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBhZFN0YXJ0SGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfU0tJUFBFRCwgYWRFbmRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgYWRFbmRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRCwgYWRFbmRIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHNraXAgdGhlIGFkICh0aGlzIG9ubHkgd29ya3MgaWYgaXQgaXMgc2tpcHBhYmxlIHNvIHdlIGRvbid0IG5lZWQgdG8gdGFrZSBleHRyYSBjYXJlIG9mIHRoYXQgaGVyZSlcclxuICAgICAgICAgICAgcGxheWVyLnNraXBBZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBZFNraXBCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQWRTa2lwQnV0dG9uID0gQWRTa2lwQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWRza2lwYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2xhYmVsXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgbGFiZWwgdGhhdCBkaXNwbGF5cyBhIG1lc3NhZ2UgYWJvdXQgYSBydW5uaW5nIGFkLCBvcHRpb25hbGx5IHdpdGggYSBjb3VudGRvd24uXHJcbiAqL1xyXG52YXIgQWRNZXNzYWdlTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQWRNZXNzYWdlTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBZE1lc3NhZ2VMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktbGFiZWwtYWQtbWVzc2FnZScsXHJcbiAgICAgICAgICAgIHRleHQ6ICdUaGlzIGFkIHdpbGwgZW5kIGluIHtyZW1haW5pbmdUaW1lfSBzZWNvbmRzLicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBZE1lc3NhZ2VMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0Q29uZmlnKCkudGV4dDtcclxuICAgICAgICB2YXIgdXBkYXRlTWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFRleHQoc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKHRleHQsIG51bGwsIHBsYXllcikpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFkU3RhcnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBldmVudC5hZE1lc3NhZ2UgfHwgdGV4dDtcclxuICAgICAgICAgICAgdXBkYXRlTWVzc2FnZUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB1cGRhdGVNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCB1cGRhdGVNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYWRFbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIGFkU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBZE1lc3NhZ2VMYWJlbDtcclxufShsYWJlbF8xLkxhYmVsKSk7XHJcbmV4cG9ydHMuQWRNZXNzYWdlTGFiZWwgPSBBZE1lc3NhZ2VMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkbWVzc2FnZWxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY2xpY2tvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jbGlja292ZXJsYXlcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBjbGljayBjYXB0dXJlIG92ZXJsYXkgZm9yIGNsaWNrVGhyb3VnaFVybHMgb2YgYWRzLlxyXG4gKi9cclxudmFyIEFkQ2xpY2tPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFkQ2xpY2tPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWRDbGlja092ZXJsYXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQWRDbGlja092ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNsaWNrVGhyb3VnaFVybCA9IG51bGw7XHJcbiAgICAgICAgdmFyIGNsaWNrVGhyb3VnaEVuYWJsZWQgPSAhcGxheWVyLmdldENvbmZpZygpLmFkdmVydGlzaW5nXHJcbiAgICAgICAgICAgIHx8ICFwbGF5ZXIuZ2V0Q29uZmlnKCkuYWR2ZXJ0aXNpbmcuaGFzT3duUHJvcGVydHkoJ2NsaWNrVGhyb3VnaEVuYWJsZWQnKVxyXG4gICAgICAgICAgICB8fCBwbGF5ZXIuZ2V0Q29uZmlnKCkuYWR2ZXJ0aXNpbmcuY2xpY2tUaHJvdWdoRW5hYmxlZDtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY2xpY2tUaHJvdWdoVXJsID0gZXZlbnQuY2xpY2tUaHJvdWdoVXJsO1xyXG4gICAgICAgICAgICBpZiAoY2xpY2tUaHJvdWdoRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VXJsKGNsaWNrVGhyb3VnaFVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBjbGljay10aHJvdWdoIGlzIGRpc2FibGVkLCB3ZSBzZXQgdGhlIHVybCB0byBudWxsIHRvIGF2b2lkIGl0IG9wZW5cclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFVybChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENsZWFyIGNsaWNrLXRocm91Z2ggVVJMIHdoZW4gYWQgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgdmFyIGFkRmluaXNoZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRVcmwobnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRCwgYWRGaW5pc2hlZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQsIGFkRmluaXNoZWRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgYWRGaW5pc2hlZEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBQYXVzZSB0aGUgYWQgd2hlbiBvdmVybGF5IGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aS1jb250ZW50LWNsaWNrJyk7XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSB0aGUgcGxheWVyIG9mIHRoZSBjbGlja2VkIGFkXHJcbiAgICAgICAgICAgIHBsYXllci5maXJlRXZlbnQocGxheWVyLkVWRU5ULk9OX0FEX0NMSUNLRUQsIHtcclxuICAgICAgICAgICAgICAgIGNsaWNrVGhyb3VnaFVybDogY2xpY2tUaHJvdWdoVXJsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWRDbGlja092ZXJsYXk7XHJcbn0oY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5KSk7XHJcbmV4cG9ydHMuQWRDbGlja092ZXJsYXkgPSBBZENsaWNrT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL3VpY29udGFpbmVyXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBjb250YWluZXIgZm9yIENhc3QgcmVjZWl2ZXJzIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBVSSBhbmQgdGFrZXMgY2FyZSB0aGF0IHRoZSBVSSBpcyBzaG93biBvblxyXG4gKiBjZXJ0YWluIHBsYXliYWNrIGV2ZW50cy5cclxuICovXHJcbnZhciBDYXN0VUlDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFVJQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2FzdFVJQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBDYXN0VUlDb250YWluZXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBTaG93IFVJIG9uIENhc3QgZGV2aWNlcyBhdCBjZXJ0YWluIHBsYXliYWNrIGV2ZW50c1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogU2luY2UgYSBDYXN0IHJlY2VpdmVyIGRvZXMgbm90IGhhdmUgYSBkaXJlY3QgSENJLCB3ZSBzaG93IHRoZSBVSSBvbiBjZXJ0YWluIHBsYXliYWNrIGV2ZW50cyB0byBnaXZlIHRoZSB1c2VyXHJcbiAgICAgICAgICogYSBjaGFuY2UgdG8gc2VlIG9uIHRoZSBzY3JlZW4gd2hhdCdzIGdvaW5nIG9uLCBlLmcuIG9uIHBsYXkvcGF1c2Ugb3IgYSBzZWVrIHRoZSBVSSBpcyBzaG93biBhbmQgdGhlIHVzZXIgY2FuXHJcbiAgICAgICAgICogc2VlIHRoZSBjdXJyZW50IHRpbWUgYW5kIHBvc2l0aW9uIG9uIHRoZSBzZWVrIGJhci5cclxuICAgICAgICAgKiBUaGUgVUkgaXMgc2hvd24gcGVybWFuZW50bHkgd2hpbGUgcGxheWJhY2sgaXMgcGF1c2VkLCBvdGhlcndpc2UgaGlkZXMgYXV0b21hdGljYWxseSBhZnRlciB0aGUgY29uZmlndXJlZFxyXG4gICAgICAgICAqIGhpZGUgZGVsYXkgdGltZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgaXNVaVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhpZGVVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgaXNVaVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNhc3RVaUhpZGVUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5oaWRlRGVsYXksIGhpZGVVaSk7XHJcbiAgICAgICAgdmFyIHNob3dVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1VpU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpc1VpU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2hvd1VpUGVybWFuZW50bHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICBfdGhpcy5jYXN0VWlIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNob3dVaVdpdGhUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICAgICAgX3RoaXMuY2FzdFVpSGlkZVRpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzaG93VWlBZnRlclNlZWsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHNob3dVaVdpdGhUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaG93VWlQZXJtYW5lbnRseSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2hvd1VpV2l0aFRpbWVvdXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIHNob3dVaVdpdGhUaW1lb3V0KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBzaG93VWlXaXRoVGltZW91dCk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBzaG93VWlQZXJtYW5lbnRseSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgc2hvd1VpUGVybWFuZW50bHkpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgc2hvd1VpQWZ0ZXJTZWVrKTtcclxuICAgIH07XHJcbiAgICBDYXN0VUlDb250YWluZXIucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jYXN0VWlIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYXN0VUlDb250YWluZXI7XHJcbn0odWljb250YWluZXJfMS5VSUNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkNhc3RVSUNvbnRhaW5lciA9IENhc3RVSUNvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R1aWNvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gODVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohIEhpdmUgU3RhdHMgUGFjayBidWlsZCA0LjEuMCBDb3B5cmlnaHQoYykgMjAxNSBIaXZlU3RyZWFtaW5nIEFCLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQXV0aG9yczogbWlrYWVsLmhvZ3F2aXN0QGhpdmVzdHJlYW1pbmcuY29tIC0gcmljY2FyZG8ucmVhbGVAaGl2ZXN0cmVhbWluZy5jb20gLSByb2JlcnRvLnJvdmVyc29AaGl2ZXN0cmVhbWluZy5jb20gKi9cbi8qISBBdGF0dXNKcyAtIHYyLjMuMTIgLSAyMDE2LTA3LTAzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgQXRhdHVzICovXG4hZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiBjKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhfWlmKGEpe3ZhciBkPXt9LGU9YS5UcmFjZUtpdCxmPVtdLnNsaWNlLGc9XCI/XCI7ZC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuVHJhY2VLaXQ9ZSxkfSxkLndyYXA9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RyeXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goYil7dGhyb3cgZC5yZXBvcnQoYiksYn19cmV0dXJuIGJ9LGQucmVwb3J0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXtpKCksbS5wdXNoKGEpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPW0ubGVuZ3RoLTE7Yj49MDstLWIpbVtiXT09PWEmJm0uc3BsaWNlKGIsMSl9ZnVuY3Rpb24gZyhhLGMpe3ZhciBlPW51bGw7aWYoIWN8fGQuY29sbGVjdFdpbmRvd0Vycm9ycyl7Zm9yKHZhciBnIGluIG0paWYoYihtLGcpKXRyeXttW2ddLmFwcGx5KG51bGwsW2FdLmNvbmNhdChmLmNhbGwoYXJndW1lbnRzLDIpKSl9Y2F0Y2goaCl7ZT1ofWlmKGUpdGhyb3cgZX19ZnVuY3Rpb24gaChhLGIsYyxlLGYpe3ZhciBoPW51bGw7aWYoZiloPWQuY29tcHV0ZVN0YWNrVHJhY2UoZik7ZWxzZSBpZihvKWQuY29tcHV0ZVN0YWNrVHJhY2UuYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQobyxiLGMsYSksaD1vLG89bnVsbCxuPW51bGw7ZWxzZXt2YXIgaT17dXJsOmIsbGluZTpjLGNvbHVtbjplfTtpLmZ1bmM9ZC5jb21wdXRlU3RhY2tUcmFjZS5ndWVzc0Z1bmN0aW9uTmFtZShpLnVybCxpLmxpbmUpLGkuY29udGV4dD1kLmNvbXB1dGVTdGFja1RyYWNlLmdhdGhlckNvbnRleHQoaS51cmwsaS5saW5lKSxoPXttb2RlOlwib25lcnJvclwiLG1lc3NhZ2U6YSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpbaV0sdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9fXJldHVybiBnKGgsXCJmcm9tIHdpbmRvdy5vbmVycm9yXCIpLGs/ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ITF9ZnVuY3Rpb24gaSgpe2whPT0hMCYmKGs9YS5vbmVycm9yLGEub25lcnJvcj1oLGw9ITApfWZ1bmN0aW9uIGooYil7dmFyIGM9Zi5jYWxsKGFyZ3VtZW50cywxKTtpZihvKXtpZihuPT09YilyZXR1cm47dmFyIGU9bztvPW51bGwsbj1udWxsLGcuYXBwbHkobnVsbCxbZSxudWxsXS5jb25jYXQoYykpfXZhciBoPWQuY29tcHV0ZVN0YWNrVHJhY2UoYik7dGhyb3cgbz1oLG49YixhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPT09YiYmKG89bnVsbCxuPW51bGwsZy5hcHBseShudWxsLFtoLG51bGxdLmNvbmNhdChjKSkpfSxoLmluY29tcGxldGU/MmUzOjApLGJ9dmFyIGssbCxtPVtdLG49bnVsbCxvPW51bGw7cmV0dXJuIGouc3Vic2NyaWJlPWMsai51bnN1YnNjcmliZT1lLGp9KCksZC5jb21wdXRlU3RhY2tUcmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYil7aWYoIWQucmVtb3RlRmV0Y2hpbmcpcmV0dXJuXCJcIjt0cnl7dmFyIGM9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9fSxlPWMoKTtyZXR1cm4gZS5vcGVuKFwiR0VUXCIsYiwhMSksZS5zZW5kKFwiXCIpLGUucmVzcG9uc2VUZXh0fWNhdGNoKGYpe3JldHVyblwiXCJ9fWZ1bmN0aW9uIGYoYSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuW107aWYoIWIodyxhKSl7dmFyIGM9XCJcIixkPVwiXCI7dHJ5e2Q9ZG9jdW1lbnQuZG9tYWlufWNhdGNoKGYpe30tMSE9PWEuaW5kZXhPZihkKSYmKGM9ZShhKSksd1thXT1jP2Muc3BsaXQoXCJcXG5cIik6W119cmV0dXJuIHdbYV19ZnVuY3Rpb24gaChhLGIpe3ZhciBkLGU9L2Z1bmN0aW9uIChbXihdKilcXCgoW14pXSopXFwpLyxoPS9bJ1wiXT8oWzAtOUEtWmEteiRfXSspWydcIl0/XFxzKls6PV1cXHMqKGZ1bmN0aW9ufGV2YWx8bmV3IEZ1bmN0aW9uKS8saT1cIlwiLGo9MTAsaz1mKGEpO2lmKCFrLmxlbmd0aClyZXR1cm4gZztmb3IodmFyIGw9MDtqPmw7KytsKWlmKGk9a1tiLWxdK2ksIWMoaSkpe2lmKGQ9aC5leGVjKGkpKXJldHVybiBkWzFdO2lmKGQ9ZS5leGVjKGkpKXJldHVybiBkWzFdfXJldHVybiBnfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZT1mKGEpO2lmKCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1bXSxoPU1hdGguZmxvb3IoZC5saW5lc09mQ29udGV4dC8yKSxpPWgrZC5saW5lc09mQ29udGV4dCUyLGo9TWF0aC5tYXgoMCxiLWgtMSksaz1NYXRoLm1pbihlLmxlbmd0aCxiK2ktMSk7Yi09MTtmb3IodmFyIGw9ajtrPmw7KytsKWMoZVtsXSl8fGcucHVzaChlW2xdKTtyZXR1cm4gZy5sZW5ndGg+MD9nOm51bGx9ZnVuY3Rpb24gaihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I10vZyxcIlxcXFwkJlwiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpLnJlcGxhY2UoXCI8XCIsXCIoPzo8fCZsdDspXCIpLnJlcGxhY2UoXCI+XCIsXCIoPzo+fCZndDspXCIpLnJlcGxhY2UoXCImXCIsXCIoPzomfCZhbXA7KVwiKS5yZXBsYWNlKCdcIicsJyg/OlwifCZxdW90OyknKS5yZXBsYWNlKC9cXHMrL2csXCJcXFxccytcIil9ZnVuY3Rpb24gbChhLGIpe2Zvcih2YXIgYyxkLGU9MCxnPWIubGVuZ3RoO2c+ZTsrK2UpaWYoKGM9ZihiW2VdKSkubGVuZ3RoJiYoYz1jLmpvaW4oXCJcXG5cIiksZD1hLmV4ZWMoYykpKXJldHVybnt1cmw6YltlXSxsaW5lOmMuc3Vic3RyaW5nKDAsZC5pbmRleCkuc3BsaXQoXCJcXG5cIikubGVuZ3RoLGNvbHVtbjpkLmluZGV4LWMubGFzdEluZGV4T2YoXCJcXG5cIixkLmluZGV4KS0xfTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZCxlPWYoYiksZz1uZXcgUmVnRXhwKFwiXFxcXGJcIitqKGEpK1wiXFxcXGJcIik7cmV0dXJuIGMtPTEsZSYmZS5sZW5ndGg+YyYmKGQ9Zy5leGVjKGVbY10pKT9kLmluZGV4Om51bGx9ZnVuY3Rpb24gbihiKXtmb3IodmFyIGMsZCxlLGYsZz1bYS5sb2NhdGlvbi5ocmVmXSxoPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGk9XCJcIitiLG09L15mdW5jdGlvbig/OlxccysoW1xcdyRdKykpP1xccypcXCgoW1xcd1xccyxdKilcXClcXHMqXFx7XFxzKihcXFNbXFxzXFxTXSpcXFMpXFxzKlxcfVxccyokLyxuPS9eZnVuY3Rpb24gb24oW1xcdyRdKylcXHMqXFwoZXZlbnRcXClcXHMqXFx7XFxzKihcXFNbXFxzXFxTXSpcXFMpXFxzKlxcfVxccyokLyxvPTA7bzxoLmxlbmd0aDsrK28pe3ZhciBwPWhbb107cC5zcmMmJmcucHVzaChwLnNyYyl9aWYoZT1tLmV4ZWMoaSkpe3ZhciBxPWVbMV0/XCJcXFxccytcIitlWzFdOlwiXCIscj1lWzJdLnNwbGl0KFwiLFwiKS5qb2luKFwiXFxcXHMqLFxcXFxzKlwiKTtjPWooZVszXSkucmVwbGFjZSgvOyQvLFwiOz9cIiksZD1uZXcgUmVnRXhwKFwiZnVuY3Rpb25cIitxK1wiXFxcXHMqXFxcXChcXFxccypcIityK1wiXFxcXHMqXFxcXClcXFxccyp7XFxcXHMqXCIrYytcIlxcXFxzKn1cIil9ZWxzZSBkPW5ldyBSZWdFeHAoaihpKS5yZXBsYWNlKC9cXHMrL2csXCJcXFxccytcIikpO2lmKGY9bChkLGcpKXJldHVybiBmO2lmKGU9bi5leGVjKGkpKXt2YXIgcz1lWzFdO2lmKGM9ayhlWzJdKSxkPW5ldyBSZWdFeHAoXCJvblwiK3MrXCI9W1xcXFwnXFxcIl1cXFxccypcIitjK1wiXFxcXHMqW1xcXFwnXFxcIl1cIixcImlcIiksZj1sKGQsZ1swXSkpcmV0dXJuIGY7aWYoZD1uZXcgUmVnRXhwKGMpLGY9bChkLGcpKXJldHVybiBmfXJldHVybiBudWxsfWZ1bmN0aW9uIG8oYSl7aWYoIWEuc3RhY2spcmV0dXJuIG51bGw7Zm9yKHZhciBiLGQsZT0vXlxccyphdCAoLio/KSA/XFwoPygoPzpmaWxlfGh0dHBzP3xjaHJvbWUtZXh0ZW5zaW9uKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xcKT9cXHMqJC9pLGY9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/QD8oKD86ZmlsZXxodHRwcz98Y2hyb21lKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xccyokL2ksaj0vXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzptcy1hcHB4fGh0dHB8aHR0cHMpOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2ksaz1hLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGw9W10sbj0vXiguKikgaXMgdW5kZWZpbmVkJC8uZXhlYyhhLm1lc3NhZ2UpLG89MCxwPWsubGVuZ3RoO3A+bzsrK28pe2lmKGI9Zi5leGVjKGtbb10pKWQ9e3VybDpiWzNdLGZ1bmM6YlsxXXx8ZyxhcmdzOmJbMl0/YlsyXS5zcGxpdChcIixcIik6XCJcIixsaW5lOitiWzRdLGNvbHVtbjpiWzVdPytiWzVdOm51bGx9O2Vsc2UgaWYoYj1lLmV4ZWMoa1tvXSkpZD17dXJsOmJbMl0sZnVuYzpiWzFdfHxnLGxpbmU6K2JbM10sY29sdW1uOmJbNF0/K2JbNF06bnVsbH07ZWxzZXtpZighKGI9ai5leGVjKGtbb10pKSljb250aW51ZTtkPXt1cmw6YlsyXSxmdW5jOmJbMV18fGcsbGluZTorYlszXSxjb2x1bW46Yls0XT8rYls0XTpudWxsfX0hZC5mdW5jJiZkLmxpbmUmJihkLmZ1bmM9aChkLnVybCxkLmxpbmUpKSxkLmxpbmUmJihkLmNvbnRleHQ9aShkLnVybCxkLmxpbmUpKSxsLnB1c2goZCl9cmV0dXJuIGwubGVuZ3RoPyhsWzBdJiZsWzBdLmxpbmUmJiFsWzBdLmNvbHVtbiYmbj9sWzBdLmNvbHVtbj1tKG5bMV0sbFswXS51cmwsbFswXS5saW5lKTpsWzBdLmNvbHVtbnx8YyhhLmNvbHVtbk51bWJlcil8fChsWzBdLmNvbHVtbj1hLmNvbHVtbk51bWJlcisxKSx7bW9kZTpcInN0YWNrXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6bCx1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH0pOm51bGx9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGIsYz1hLnN0YWNrdHJhY2UsZD0vIGxpbmUgKFxcZCspLCBjb2x1bW4gKFxcZCspIGluICg/Ojxhbm9ueW1vdXMgZnVuY3Rpb246IChbXj5dKyk+fChbXlxcKV0rKSlcXCgoLiopXFwpIGluICguKik6XFxzKiQvaSxlPWMuc3BsaXQoXCJcXG5cIiksZj1bXSxnPTAsaj1lLmxlbmd0aDtqPmc7Zys9MilpZihiPWQuZXhlYyhlW2ddKSl7dmFyIGs9e2xpbmU6K2JbMV0sY29sdW1uOitiWzJdLGZ1bmM6YlszXXx8Yls0XSxhcmdzOmJbNV0/Yls1XS5zcGxpdChcIixcIik6W10sdXJsOmJbNl19O2lmKCFrLmZ1bmMmJmsubGluZSYmKGsuZnVuYz1oKGsudXJsLGsubGluZSkpLGsubGluZSl0cnl7ay5jb250ZXh0PWkoay51cmwsay5saW5lKX1jYXRjaChsKXt9ay5jb250ZXh0fHwoay5jb250ZXh0PVtlW2crMV1dKSxmLnB1c2goayl9cmV0dXJuIGYubGVuZ3RoP3ttb2RlOlwic3RhY2t0cmFjZVwiLG5hbWU6YS5uYW1lLG1lc3NhZ2U6YS5tZXNzYWdlLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOmYsdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9Om51bGx9ZnVuY3Rpb24gcShjKXt2YXIgZD1jLm1lc3NhZ2Uuc3BsaXQoXCJcXG5cIik7aWYoZC5sZW5ndGg8NClyZXR1cm4gbnVsbDt2YXIgZSxnLGosbSxuPS9eXFxzKkxpbmUgKFxcZCspIG9mIGxpbmtlZCBzY3JpcHQgKCg/OmZpbGV8aHR0cHM/KVxcUyspKD86OiBpbiBmdW5jdGlvbiAoXFxTKykpP1xccyokL2ksbz0vXlxccypMaW5lIChcXGQrKSBvZiBpbmxpbmUjKFxcZCspIHNjcmlwdCBpbiAoKD86ZmlsZXxodHRwcz8pXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaSxwPS9eXFxzKkxpbmUgKFxcZCspIG9mIGZ1bmN0aW9uIHNjcmlwdFxccyokL2kscT1bXSxyPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLHM9W107Zm9yKGcgaW4gciliKHIsZykmJiFyW2ddLnNyYyYmcy5wdXNoKHJbZ10pO2ZvcihnPTIsaj1kLmxlbmd0aDtqPmc7Zys9Mil7dmFyIHQ9bnVsbDtpZihlPW4uZXhlYyhkW2ddKSl0PXt1cmw6ZVsyXSxmdW5jOmVbM10sbGluZTorZVsxXX07ZWxzZSBpZihlPW8uZXhlYyhkW2ddKSl7dD17dXJsOmVbM10sZnVuYzplWzRdfTt2YXIgdT0rZVsxXSx2PXNbZVsyXS0xXTtpZih2JiYobT1mKHQudXJsKSkpe209bS5qb2luKFwiXFxuXCIpO3ZhciB3PW0uaW5kZXhPZih2LmlubmVyVGV4dCk7dz49MCYmKHQubGluZT11K20uc3Vic3RyaW5nKDAsdykuc3BsaXQoXCJcXG5cIikubGVuZ3RoKX19ZWxzZSBpZihlPXAuZXhlYyhkW2ddKSl7dmFyIHg9YS5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKiQvLFwiXCIpLHk9ZVsxXSx6PW5ldyBSZWdFeHAoayhkW2crMV0pKTttPWwoeixbeF0pLHQ9e3VybDp4LGxpbmU6bT9tLmxpbmU6eSxmdW5jOlwiXCJ9fWlmKHQpe3QuZnVuY3x8KHQuZnVuYz1oKHQudXJsLHQubGluZSkpO3ZhciBBPWkodC51cmwsdC5saW5lKSxCPUE/QVtNYXRoLmZsb29yKEEubGVuZ3RoLzIpXTpudWxsO3QuY29udGV4dD1BJiZCLnJlcGxhY2UoL15cXHMqLyxcIlwiKT09PWRbZysxXS5yZXBsYWNlKC9eXFxzKi8sXCJcIik/QTpbZFtnKzFdXSxxLnB1c2godCl9fXJldHVybiBxLmxlbmd0aD97bW9kZTpcIm11bHRpbGluZVwiLG5hbWU6Yy5uYW1lLG1lc3NhZ2U6ZFswXSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpxLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fTpudWxsfWZ1bmN0aW9uIHIoYSxiLGMsZCl7dmFyIGU9e3VybDpiLGxpbmU6Y307aWYoZS51cmwmJmUubGluZSl7YS5pbmNvbXBsZXRlPSExLGUuZnVuY3x8KGUuZnVuYz1oKGUudXJsLGUubGluZSkpLGUuY29udGV4dHx8KGUuY29udGV4dD1pKGUudXJsLGUubGluZSkpO3ZhciBmPS8gJyhbXiddKyknIC8uZXhlYyhkKTtpZihmJiYoZS5jb2x1bW49bShmWzFdLGUudXJsLGUubGluZSkpLGEuc3RhY2subGVuZ3RoPjAmJmEuc3RhY2tbMF0udXJsPT09ZS51cmwpe2lmKGEuc3RhY2tbMF0ubGluZT09PWUubGluZSlyZXR1cm4hMTtpZighYS5zdGFja1swXS5saW5lJiZhLnN0YWNrWzBdLmZ1bmM9PT1lLmZ1bmMpcmV0dXJuIGEuc3RhY2tbMF0ubGluZT1lLmxpbmUsYS5zdGFja1swXS5jb250ZXh0PWUuY29udGV4dCwhMX1yZXR1cm4gYS5zdGFjay51bnNoaWZ0KGUpLGEucGFydGlhbD0hMCwhMH1yZXR1cm4gYS5pbmNvbXBsZXRlPSEwLCExfWZ1bmN0aW9uIHMoYSxiKXtmb3IodmFyIGMsZSxmLGk9L2Z1bmN0aW9uXFxzKyhbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKik/XFxzKlxcKC9pLGo9W10saz17fSxsPSExLG89cy5jYWxsZXI7byYmIWw7bz1vLmNhbGxlcilpZihvIT09dCYmbyE9PWQucmVwb3J0KXtpZihlPXt1cmw6bnVsbCxmdW5jOmcsbGluZTpudWxsLGNvbHVtbjpudWxsfSxvLm5hbWU/ZS5mdW5jPW8ubmFtZTooYz1pLmV4ZWMoby50b1N0cmluZygpKSkmJihlLmZ1bmM9Y1sxXSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuZnVuYyl0cnl7ZS5mdW5jPWMuaW5wdXQuc3Vic3RyaW5nKDAsYy5pbnB1dC5pbmRleE9mKFwie1wiKSl9Y2F0Y2gocCl7fWlmKGY9bihvKSl7ZS51cmw9Zi51cmwsZS5saW5lPWYubGluZSxlLmZ1bmM9PT1nJiYoZS5mdW5jPWgoZS51cmwsZS5saW5lKSk7dmFyIHE9LyAnKFteJ10rKScgLy5leGVjKGEubWVzc2FnZXx8YS5kZXNjcmlwdGlvbik7cSYmKGUuY29sdW1uPW0ocVsxXSxmLnVybCxmLmxpbmUpKX1rW1wiXCIrb10/bD0hMDprW1wiXCIrb109ITAsai5wdXNoKGUpfWImJmouc3BsaWNlKDAsYik7dmFyIHU9e21vZGU6XCJjYWxsZXJzXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6aix1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH07cmV0dXJuIHIodSxhLnNvdXJjZVVSTHx8YS5maWxlTmFtZSxhLmxpbmV8fGEubGluZU51bWJlcixhLm1lc3NhZ2V8fGEuZGVzY3JpcHRpb24pLHV9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPW51bGw7Yj1udWxsPT1iPzA6K2I7dHJ5e2lmKGM9cChhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9byhhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9cShhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9cyhhLGIrMSkpcmV0dXJuIGN9Y2F0Y2goZCl7aWYodil0aHJvdyBkfXJldHVybnttb2RlOlwiZmFpbGVkXCJ9fWZ1bmN0aW9uIHUoYSl7YT0obnVsbD09YT8wOithKSsxO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goYil7cmV0dXJuIHQoYixhKzEpfX12YXIgdj0hMSx3PXt9O3JldHVybiB0LmF1Z21lbnRTdGFja1RyYWNlV2l0aEluaXRpYWxFbGVtZW50PXIsdC5ndWVzc0Z1bmN0aW9uTmFtZT1oLHQuZ2F0aGVyQ29udGV4dD1pLHQub2ZDYWxsZXI9dSx0LmdldFNvdXJjZT1mLHR9KCksZC5leHRlbmRUb0FzeW5jaHJvbm91c0NhbGxiYWNrcz1mdW5jdGlvbigpe3ZhciBiPWZ1bmN0aW9uKGIpe3ZhciBjPWFbYl07YVtiXT1mdW5jdGlvbigpe3ZhciBhPWYuY2FsbChhcmd1bWVudHMpLGI9YVswXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYVswXT1kLndyYXAoYikpLGMuYXBwbHk/Yy5hcHBseSh0aGlzLGEpOmMoYVswXSxhWzFdKX19O2IoXCJzZXRUaW1lb3V0XCIpLGIoXCJzZXRJbnRlcnZhbFwiKX0sZC5yZW1vdGVGZXRjaGluZ3x8KGQucmVtb3RlRmV0Y2hpbmc9ITApLGQuY29sbGVjdFdpbmRvd0Vycm9yc3x8KGQuY29sbGVjdFdpbmRvd0Vycm9ycz0hMCksKCFkLmxpbmVzT2ZDb250ZXh0fHxkLmxpbmVzT2ZDb250ZXh0PDEpJiYoZC5saW5lc09mQ29udGV4dD0xMSksYS5UcmFjZUtpdD1kfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsKSxmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO2lmKGEpe3ZhciBjPWEuZXZlbnQuYWRkO2EuZXZlbnQuYWRkPWZ1bmN0aW9uKGQsZSxmLGcsaCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZiYmXCJmdW5jdGlvblwiIT10eXBlb2YgZi5oYW5kbGVyKXJldHVybiBjLmNhbGwodGhpcyxkLGUsZixnLGgpO3ZhciBpO3JldHVybiBmLmhhbmRsZXI/KGk9Zi5oYW5kbGVyLGYuaGFuZGxlcj1iLndyYXAoZi5oYW5kbGVyKSk6KGk9ZixmPWIud3JhcChmKSksZi5ndWlkPWkuZ3VpZD9pLmd1aWQ6aS5ndWlkPWEuZ3VpZCsrLGMuY2FsbCh0aGlzLGQsZSxmLGcsaCl9O3ZhciBkPWEuZm4ucmVhZHk7YS5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gZC5jYWxsKHRoaXMsYi53cmFwKGEpKX07dmFyIGU9YS5hamF4O2EuYWpheD1mdW5jdGlvbihjLGQpe1wib2JqZWN0XCI9PXR5cGVvZiBjJiYoZD1jLGM9dm9pZCAwKSxkPWR8fHt9O2Zvcih2YXIgZixnPVtcImNvbXBsZXRlXCIsXCJlcnJvclwiLFwic3VjY2Vzc1wiXTtmPWcucG9wKCk7KWEuaXNGdW5jdGlvbihkW2ZdKSYmKGRbZl09Yi53cmFwKGRbZl0pKTt0cnl7cmV0dXJuIGM/ZS5jYWxsKHRoaXMsYyxkKTplLmNhbGwodGhpcyxkKX1jYXRjaChoKXt0aHJvdyBiLnJlcG9ydChoKSxofX19fSh3aW5kb3cualF1ZXJ5LHdpbmRvdy5UcmFjZUtpdCksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLGM9YS5zcGxpdChcIi8vXCIpWzFdO2lmKGMpe3ZhciBkPWMuaW5kZXhPZihcIj9cIiksZT1jLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsZCksZj1lLnNwbGl0KFwiL1wiKS5zbGljZSgwLDQpLmpvaW4oXCIvXCIpLGc9ZS5zdWJzdHJpbmcoMCw0OCk7Yj1mLmxlbmd0aDxnLmxlbmd0aD9mOmcsYiE9PWUmJihiKz1cIi4uXCIpfXJldHVybiBifWZ1bmN0aW9uIGYoYSxiLGMsZil7aWYoSyYmKEx8fGIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKXt2YXIgZz1cIkFKQVggRXJyb3I6IFwiKyhiLnN0YXR1c1RleHR8fFwidW5rbm93blwiKStcIiBcIisoYy50eXBlfHxcInVua25vd25cIikrXCIgXCIrKGUoYy51cmwpfHxcInVua25vd25cIik7Vi5zZW5kKGZ8fGEudHlwZSx7c3RhdHVzOmIuc3RhdHVzLHN0YXR1c1RleHQ6Yi5zdGF0dXNUZXh0LHR5cGU6Yy50eXBlLHVybDpjLnVybCxhamF4RXJyb3JNZXNzYWdlOmcsY29udGVudFR5cGU6Yy5jb250ZW50VHlwZSxyZXF1ZXN0RGF0YTpjLmRhdGEmJmMuZGF0YS5zbGljZT9jLmRhdGEuc2xpY2UoMCwxMDI0MCk6ZCxyZXNwb25zZURhdGE6Yi5yZXNwb25zZVRleHQmJmIucmVzcG9uc2VUZXh0LnNsaWNlP2IucmVzcG9uc2VUZXh0LnNsaWNlKDAsMTAyNDApOmQsYWN0aXZlVGFyZ2V0OmEudGFyZ2V0JiZhLnRhcmdldC5hY3RpdmVFbGVtZW50P2EudGFyZ2V0LmFjdGl2ZUVsZW1lbnQub3V0ZXJIVE1MOmR9KX19ZnVuY3Rpb24gZygpe3JldHVybiBvJiZcIlwiIT09bz8hMDooUi5sb2coXCJBdGF0dXMgQVBJIGtleSBoYXMgbm90IGJlZW4gY29uZmlndXJlZCwgbWFrZSBzdXJlIHlvdSBjYWxsIGF0YXR1cy5jb25maWcoeW91ckFwaUtleSlcIiksITEpfWZ1bmN0aW9uIGgoKXt2YXIgYz1iLmRvY3VtZW50RWxlbWVudCxkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGU9YS5pbm5lcldpZHRofHxjLmNsaWVudFdpZHRofHxkLmNsaWVudFdpZHRoLGY9YS5pbm5lckhlaWdodHx8Yy5jbGllbnRIZWlnaHR8fGQuY2xpZW50SGVpZ2h0O3JldHVybnt3aWR0aDplLGhlaWdodDpmfX1mdW5jdGlvbiBpKGEpe3ZhciBiPShuZXcgRGF0ZSkudG9KU09OKCk7dHJ5e3ZhciBjPVwiYXRhdHVzanM9XCIrYitcIj1cIitSLmdldFJhbmRvbUludCgpO1widW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2VbY10mJihsb2NhbFN0b3JhZ2VbY109YSl9Y2F0Y2goZCl7Ui5sb2coXCJBdGF0dXM6IExvY2FsU3RvcmFnZSBmdWxsLCBjYW5ub3Qgc2F2ZSBleGNlcHRpb25cIil9fWZ1bmN0aW9uIGooKXt0cnl7cmV0dXJuXCJsb2NhbFN0b3JhZ2VcImluIGEmJm51bGwhPT1hLmxvY2FsU3RvcmFnZX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaygpe2lmKGooKSYmbG9jYWxTdG9yYWdlLmxlbmd0aD4wKWZvcih2YXIgYSBpbiBsb2NhbFN0b3JhZ2UpaWYoXCJhdGF0dXNqcz1cIj09PWEuc3Vic3RyaW5nKDAsOSkpe3RyeXt2YXIgYj1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZVthXSk7XCJhcGlrZXlcImluIGImJm0oTixiKX1jYXRjaChjKXtSLmxvZyhcIkF0YXR1czogSW52YWxpZCBKU09OIG9iamVjdCBpbiBMb2NhbFN0b3JhZ2VcIil9bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYSl9fWZ1bmN0aW9uIGwoYSxjKXtpZihjPWN8fHt9LCFhLnN0YWNrfHwhYS5zdGFjay5sZW5ndGgpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IENhbmNlbGluZyBzZW5kIGR1ZSB0byBubyBzdGFja3RyYWNlLlwiKTtSLmlzRW1wdHkoYy5jdXN0b21EYXRhKSYmKGMuY3VzdG9tRGF0YT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBwP3AoKTpwKSxSLmlzRW1wdHkoYy50YWdzKSYmKGMudGFncz1FKTt2YXIgZD1jLmN1c3RvbURhdGEmJmMuY3VzdG9tRGF0YS5hamF4RXJyb3JNZXNzYWdlfHxhLm1lc3NhZ2U7aWYoZCYmMD09PWQuaW5kZXhPZihcIlVuY2F1Z2h0IFwiKSYmKGQ9YS5tZXNzYWdlLnN1YnN0cmluZyg5KSksZD1kfHxjLnN0YXR1c3x8XCJTY3JpcHQgZXJyb3IuXCIsdyYmdy50ZXN0KGQpKXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBjYW5jZWxpbmcgc2VuZCBkdWUgdG8gaWdub3JlIGVycm9yc1wiKTt2YXIgZT1bXTthLnN0YWNrJiZhLnN0YWNrLmxlbmd0aCYmUi5mb3JFYWNoKGEuc3RhY2ssZnVuY3Rpb24oYSxiKXtSLmVuZHNXaXRoKGIudXJsLFwiL2F0YXR1cy5qc1wiKXx8ZS5wdXNoKHtsbjpiLmxpbmV8fDAsY246Yi5jb2x1bW58fDAsZjpiLnVybHx8XCJhbm9ueW1vdXNcIixtOmIuZnVuY3x8XCJbYW5vbnltb3VzXVwifSl9KTt2YXIgZj1bYS5uYW1lLGQsSlNPTi5zdHJpbmdpZnkoZSldLmpvaW4oXCJ8XCIpO2lmKGY9PT14KXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBjYW5jZWxpbmcgc2VuZCBkdWUgdG8gZHVwbGljYXRlIGVycm9yc1wiKTt4PWY7dmFyIGc9Yy5jdXN0b21EYXRhO3RyeXtKU09OLnN0cmluZ2lmeShnKX1jYXRjaChoKXt2YXIgaT1cIkNhbm5vdCBhZGQgY3VzdG9tIGRhdGE7IG1heSBjb250YWluIGNpcmN1bGFyIHJlZmVyZW5jZVwiO2c9e2Vycm9yOml9LFIubG9nKFwiQXRhdHVzOiBcIitpKX12YXIgaj1VLmdldEFsbEV2ZW50cygpO1MuY2xlYXIoKTt2YXIgaz17XCJjbGFzc1wiOmEubmFtZSxuYW1lOmQsYmFja1RyYWNlczplLHVzZXJBY3Rpb25zOmosbmV0Om51bGwsY3VzdG9tRGF0YTpnfHxudWxsLHRhZ3M6Yy50YWdzLHNvdXJjZW1hcDpKLHJlcXVlc3Q6e3VybDpiLmxvY2F0aW9uLmhyZWYsdWE6bmF2aWdhdG9yLnVzZXJBZ2VudH19O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHkmJihrLmdyb3VwaW5nS2V5PXkoaykpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHope3ZhciBsPXooayk7bCYmbShOLGspfWVsc2UgbShOLGspfWZ1bmN0aW9uIG0oYyxkKXtpZihHJiZHLmxlbmd0aCYmLTE9PT1HLmluZGV4T2YobG9jYXRpb24uaG9zdCkpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBub3QgYSBhbGxvd2VkIGRvbWFpblwiKTtpZihnKCkpe2lmKCFkLnRzKXt2YXIgZT1hLnNjcmVlbnx8aCgpO2QudHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksZC5hcGlrZXk9byxkLnJlcXVlc3Q9ZC5yZXF1ZXN0fHx7fSxkLnJlcXVlc3QudXJsPWQucmVxdWVzdC51cmx8fGIubG9jYXRpb24uaHJlZixkLnJlcXVlc3QudWE9ZC5yZXF1ZXN0LnVhfHxuYXZpZ2F0b3IudXNlckFnZW50LGQucmVxdWVzdC53PWUud2lkdGgsZC5yZXF1ZXN0Lmg9ZS5oZWlnaHQsZC52PXJ8fFwiXCIsZC5fdj1CfHxcIlwifXEmJihkLmNpZD1xLnVzZXJJZHx8bnVsbCksUi5sb2coXCJTZW5kaW5nIGRhdGEgdG8gQXRhdHVzIFJlY2VpdmVyOlwiLGQpLG4oYyxKU09OLnN0cmluZ2lmeShkKSl9fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1uZXcgSW1hZ2UsZD1NK2ErXCI/ZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoYik7Yy5jcm9zc09yaWdpbj1cImFub255bW91c1wiLGMub25sb2FkPWZ1bmN0aW9uKCl7aygpfSxjLm9uZXJyb3I9Yy5vbmFib3J0PWZ1bmN0aW9uKCl7SSYmYT09PU4mJmkoYil9LGMuc3JjPWR9dmFyIG8scCxxLHIscyx0LHUsdix3LHgseSx6LEEsQj1cIjIuMy4xMlwiLEM9VHJhY2VLaXQubm9Db25mbGljdCgpLEQ9YS5hdGF0dXMsRT1bXSxGPSExLEc9W10sSD0hMSxJPSExLEo9ITEsSz0hMSxMPSExLE09XCJodHRwczovL2JyLXJ4LmF0YXR1cy5jb21cIixOPVwiL3RyYWNrL2Jyb3dzZXIvZXJyb3JzXCIsTz1cIi90cmFjay9icm93c2VyL3BlcmZcIixQPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZi9hamF4XCIsUT1cIi90cmFjay9icm93c2VyL3BlcmYvdHhuXCI7YyYmKEE9YyhiKSk7dmFyIFI9e2lzQm9vbGVhbjpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYSYmXCJib29sZWFuXCI9PXR5cGVvZiBhfSxpc1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX0saXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGVuZHNXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJmI/LTEhPT1hLmluZGV4T2YoYixhLmxlbmd0aC1iLmxlbmd0aCk6ITF9LGpvaW5SZWdFeHA6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W10sZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliPWFbZF0sUi5pc1N0cmluZyhiKT9jLnB1c2goYi5yZXBsYWNlKC8oWy4qKz9cXF49IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKSk6YiYmYi5zb3VyY2UmJmMucHVzaChiLnNvdXJjZSk7cmV0dXJuIG5ldyBSZWdFeHAoYy5qb2luKFwifFwiKSxcImlcIil9LGdldFRhcmdldFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYS5YRG9tYWluUmVxdWVzdCYmSCYmKGI9Yi5zbGljZSg2KSksYn0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHBhZDpmdW5jdGlvbihhKXtyZXR1cm4gYT1TdHJpbmcoYSksMT09PWEubGVuZ3RoJiYoYT1cIjBcIithKSxhfSxtZXJnZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9e307Zm9yKGMgaW4gYSlkW2NdPWFbY107Zm9yKGMgaW4gYilkW2NdPWJbY107cmV0dXJuIGR9LG1lcmdlQXJyYXk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9Yj9hLmNvbmNhdChiKTphfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5jYWxsKG51bGwsYyxhW2NdKX0saXNFbXB0eTpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiExO3JldHVybiEwfSxnZXRSYW5kb21JbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcig5MDA3MTk5MjU0NzQwOTkyKk1hdGgucmFuZG9tKCkpfSxsb2c6ZnVuY3Rpb24oYixjKXtGJiZhLmNvbnNvbGUmJmEuY29uc29sZS5sb2cmJihhLmNvbnNvbGUubG9nKGIpLGMmJmEuY29uc29sZS5sb2coYykpfSxiaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX19LGNhbkFsbG93SW5zZWN1cmVTdWJtaXNzaW9uczpmdW5jdGlvbigpe3ZhciBiPWEubmF2aWdhdG9yLnVzZXJBZ2VudCxjPWIubWF0Y2goL1RyaWRlbnRcXC8oW1xcZC5dKykvKSxkPWMmJlwiNy4wXCI9PT1jWzFdPzExOihiPWIubWF0Y2goL01TSUUgKFtcXGQuXSspLykpP3BhcnNlSW50KGJbMV0sMTApOiExO3JldHVybiBkJiY5Pj1kfSx1dWlkNDpmdW5jdGlvbigpe3JldHVyblwieHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oYSl7dmFyIGI9MTYqTWF0aC5yYW5kb20oKXwwLGM9XCJ4XCI9PT1hP2I6MyZifDg7cmV0dXJuIGMudG9TdHJpbmcoMTYpfSl9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYixjLGQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmF0dGFjaEV2ZW50P2EuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZCk6dm9pZCAwfSxhcnJheUZyb21PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5wdXNoKGFbY10pO3JldHVybiBifX0sUz17ZXZlbnRPYmplY3Q6e30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEV2ZW50T2JqZWN0KGEpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMucHVzaChiW2RdLnZhbHVlKTtyZXR1cm4gY30sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5ldmVudE9iamVjdCl0aGlzLmV2ZW50T2JqZWN0Lmhhc093blByb3BlcnR5KGEpJiYodGhpcy5ldmVudE9iamVjdFthXS5sZW5ndGg9MCl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSksZD1SLnV1aWQ0KCk7cmV0dXJuIGMucHVzaCh7a2V5OmQsdmFsdWU6Yn0pLHRoaXMudHJ1bmNhdGVFdmVudE9iamVjdChhLDEwKSxkfSxnZXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRFdmVudE9iamVjdChhKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXS5rZXk9PT1iKXJldHVybiBjW2RdLnZhbHVlO3JldHVybiExfSxnZXRFdmVudE9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ldmVudE9iamVjdFthXXx8KHRoaXMuZXZlbnRPYmplY3RbYV09W10pLHRoaXMuZXZlbnRPYmplY3RbYV19LHRydW5jYXRlRXZlbnRPYmplY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEV2ZW50T2JqZWN0KGEpO2MubGVuZ3RoPmImJih0aGlzLmV2ZW50T2JqZWN0W2FdPWMuc2xpY2UoYy5sZW5ndGgtYikpfX0sVD17YXR0YWNoOmZ1bmN0aW9uKGIsYyxkLGUsZil7Yj1ifHxhLmNvbnNvbGV8fHt9O2Zvcih2YXIgZz1mfHxbXCJsb2dcIixcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiXSxoPWcucG9wKCksaT1mdW5jdGlvbihhLGIsZCl7YyYmUy5hZGQoXCJ1c2VyXCIse3RzOlIubm93KCksYzpcImNvbnNvbGVcIixsOmEsbTpifSksXCJlcnJvclwiPT09YSYmZSYmVi5ub3RpZnkobmV3IEVycm9yKGIpLGQpfTtoOyl0aGlzLndyYXBDb25zb2xlTWV0aG9kKGIsaCxkLGkpLGg9Zy5wb3AoKX0sd3JhcENvbnNvbGVNZXRob2Q6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YVtiXSxmPWE7YiBpbiBhJiYoYVtiXT1mdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxnPVwiXCIrYS5qb2luKFwiIFwiKSxoPXtsZXZlbDpiLGxvZ2dlcjpcImNvbnNvbGVcIn07ZCYmZChiLGcsaCksZSYmYyYmRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSxmLGEpfSl9fSxVPXthdHRhY2g6ZnVuY3Rpb24oKXt2YXIgYT1SLmJpbmQodGhpcy5vbkRvY3VtZW50Q2xpY2tlZCx0aGlzKSxjPVIuYmluZCh0aGlzLm9uSW5wdXRDaGFuZ2VkLHRoaXMpO2IuYWRkRXZlbnRMaXN0ZW5lcj8oYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixhLCEwKSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYywhMCkpOmIuYXR0YWNoRXZlbnQmJihiLmF0dGFjaEV2ZW50KFwib25jbGlja1wiLGEpLGIuYXR0YWNoRXZlbnQoXCJvbmZvY3Vzb3V0XCIsYykpfSx3cml0ZVVzZXJFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtcInBhc3N3b3JkXCI9PT10aGlzLmdldEVsZW1lbnRUeXBlKGEpJiYoYz12b2lkIDApLFMuYWRkKFwidXNlclwiLHt0czpSLm5vdygpLGE6YixlOnRoaXMuZ2V0T3V0ZXJIVE1MKGEpLHY6dGhpcy5nZXRWYWx1ZUtpbmQoYyxkKX0pfSxvbkRvY3VtZW50Q2xpY2tlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEVsZW1lbnRGcm9tRXZlbnQoYSk7YiYmYi50YWdOYW1lJiYodGhpcy5pc1RhcmdldChiLFwiYVwiKXx8dGhpcy5pc1RhcmdldChiLFwiYnV0dG9uXCIpfHx0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiLFtcImJ1dHRvblwiLFwic3VibWl0XCJdKT90aGlzLndyaXRlVXNlckV2ZW50KGIsXCJjbGlja1wiKTp0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiLFtcImNoZWNrYm94XCIsXCJyYWRpb1wiXSkmJnRoaXMud3JpdGVVc2VyRXZlbnQoYixcImNoZWNrXCIsYi52YWx1ZSxiLmNoZWNrZWQpKX0sb25JbnB1dENoYW5nZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFbGVtZW50RnJvbUV2ZW50KGEpO2ImJmIudGFnTmFtZSYmKHRoaXMuaXNUYXJnZXQoYixcInRleHRhcmVhXCIpP3RoaXMud3JpdGVVc2VyRXZlbnQoYixcImlucHV0XCIsYi52YWx1ZSk6dGhpcy5pc1RhcmdldChiLFwic2VsZWN0XCIpJiZiLm9wdGlvbnMmJmIub3B0aW9ucy5sZW5ndGg/dGhpcy5vblNlbGVjdElucHV0Q2hhbmdlZChiKTp0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiKSYmIXRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiYnV0dG9uXCIsXCJzdWJtaXRcIixcImhpZGRlblwiLFwiY2hlY2tib3hcIixcInJhZGlvXCJdKSYmdGhpcy53cml0ZVVzZXJFdmVudChiLFwiaW5wdXRcIixiLnZhbHVlKSl9LG9uU2VsZWN0SW5wdXRDaGFuZ2VkOmZ1bmN0aW9uKGEpe2lmKGEubXVsdGlwbGUpe2Zvcih2YXIgYj0wO2I8YS5vcHRpb25zLmxlbmd0aDtiKyspaWYoYS5vcHRpb25zW2JdLnNlbGVjdGVkKXt0aGlzLndyaXRlVXNlckV2ZW50KGEsXCJzZWxlY3RcIixhLm9wdGlvbnNbYl0udmFsdWUpO2JyZWFrfX1lbHNlIDA8PWEuc2VsZWN0ZWRJbmRleCYmYS5vcHRpb25zW2Euc2VsZWN0ZWRJbmRleF0mJnRoaXMud3JpdGVVc2VyRXZlbnQoYSxcInNlbGVjdFwiLGEub3B0aW9uc1thLnNlbGVjdGVkSW5kZXhdLnZhbHVlKX0sZ2V0RWxlbWVudEZyb21FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS50YXJnZXR8fGIuZWxlbWVudEZyb21Qb2ludChhLmNsaWVudFgsYS5jbGllbnRZKX0saXNUYXJnZXQ6ZnVuY3Rpb24oYSxiLGMpe2lmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09Yi50b0xvd2VyQ2FzZSgpKXJldHVybiExO2lmKCFjKXJldHVybiEwO2Zvcih2YXIgZD10aGlzLmdldEVsZW1lbnRUeXBlKGEpLGU9MDtlPGMubGVuZ3RoO2UrKylpZihjW2VdPT09ZClyZXR1cm4hMDtyZXR1cm4hMX0sZ2V0RWxlbWVudFR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuKGEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKXx8XCJcIikudG9Mb3dlckNhc2UoKX0sZ2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cIjxcIithLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxjPWEuYXR0cmlidXRlcyxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdLm5hbWU7XCJ2YWx1ZVwiIT09Zi50b0xvd2VyQ2FzZSgpJiYoYis9XCIgXCIrZisnPVwiJytjW2RdLnZhbHVlKydcIicpfXJldHVybiBiKz1cIiA+XCJ9LGdldFZhbHVlS2luZDpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hP251bGw6e2xlbmd0aDphLmxlbmd0aCxjaGVja2VkOmIscGF0dGVybjp0aGlzLm1hdGNoSW5wdXRQYXR0ZXJuKGEpfX0sbWF0Y2hJbnB1dFBhdHRlcm46ZnVuY3Rpb24oYSl7cmV0dXJuXCJcIj09PWE/XCJlbXB0eVwiOi9eW2EtejAtOSEjJCUmJyorPT9cXF5fYHt8fX5cXC1dKyg/OlxcLlthLXowLTkhIyQlJicqKz0/XFxeX2B7fH1+XFwtXSspKkAoPzpbYS16MC05XSg/OlthLXowLTlcXC1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOVxcLV0qW2EtejAtOV0pPyQvLnRlc3QoYSk/XCJlbWFpbFwiOi9eKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKVtcXC9cXC1dKDA/WzEtOV18MVswMTJdKVtcXC9cXC1dXFxkezR9JC8udGVzdChhKXx8L14oXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0wP1sxLTldfFsxMl1bMC05XXwzWzAxXSkkLy50ZXN0KGEpP1wiZGF0ZVwiOi9eKD86KD86XFwrPzFcXHMqKD86Wy5cXC1dXFxzKik/KT8oPzpcXChcXHMqKFsyLTldMVswMi05XXxbMi05XVswMi04XTF8WzItOV1bMDItOF1bMDItOV0pXFxzKlxcKXwoWzItOV0xWzAyLTldfFsyLTldWzAyLThdMXxbMi05XVswMi04XVswMi05XSkpXFxzKig/OlsuXFwtXVxccyopPyk/KFsyLTldMVswMi05XXxbMi05XVswMi05XTF8WzItOV1bMDItOV17Mn0pXFxzKig/OlsuXFwtXVxccyopPyhbMC05XXs0fSkoPzpcXHMqKD86I3x4XFwuP3xleHRcXC4/fGV4dGVuc2lvbilcXHMqKFxcZCspKT8kLy50ZXN0KGEpP1wicGhvbmVcIjovXlxccyokLy50ZXN0KGEpP1wid2hpdGVzcGFjZVwiOi9eXFxkKiQvLnRlc3QoYSk/XCJudW1lcmljXCI6XCJjaGFyYWN0ZXJcIn0sZ2V0QWxsRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIFMuYWxsKFwidXNlclwiKX19LFY9e25vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hdGF0dXM9RCxWfSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99LGNvbmZpZzpmdW5jdGlvbihiLGMpe3JldHVybiBjPWN8fHt9LG89YixDLnJlbW90ZUZldGNoaW5nPSExLHc9W10sYyYmKHA9Yy5jdXN0b21EYXRhLEU9Yy50YWdzfHxbXSxKPSEoIWMuZW5hYmxlU291cmNlbWFwJiYhYy5zb3VyY2VtYXApLHM9ISFjLmRpc2FibGVVc2VyQWN0aW9ucyx0PSEhYy5kaXNhYmxlQWpheE1vbml0b3JpbmcsdT0hIWMuZGlzYWJsZVJVTSxGPSEhYy5kZWJ1Z01vZGUsYy5pZ25vcmVFcnJvcnMmJlIuaXNBcnJheShjLmlnbm9yZUVycm9ycykmJih3PWMuaWdub3JlRXJyb3JzKSxWLnNldEFsbG93ZWREb21haW5zKGMuYWxsb3dlZERvbWFpbnMpLFYuc2V0VmVyc2lvbihjLnZlcnNpb24pLFYuZW5hYmxlT2ZmbGluZShjLmVuYWJsZU9mZmxpbmV8fGMub2ZmbGluZSksVi5vbkJlZm9yZUVycm9yU2VuZChjLmJlZm9yZUVycm9yU2VuZCksVi5zZXRHcm91cGluZ0tleUNhbGxiYWNrKGMuZ3JvdXBpbmdLZXlDYWxsYmFjaykpLEg9Ui5jYW5BbGxvd0luc2VjdXJlU3VibWlzc2lvbnMoKSx3LnB1c2goL15TY3JpcHQgZXJyb3JcXC4/JC8pLHcucHVzaCgvXkphdmFzY3JpcHQgZXJyb3I6IFNjcmlwdCBlcnJvclxcLj8gb24gbGluZSAwJC8pLHc9Ui5qb2luUmVnRXhwKHcpLGsoKSx2PXtlbmFibGVkOiEwLHRpbWVsaW5lOiEwLGRpc3BsYXk6ITAsZXJyb3I6ITAsbGV2ZWxzOm51bGx9LFIuaXNCb29sZWFuKGMuY29uc29sZSkmJih2LmVuYWJsZWQ9Yy5jb25zb2xlKSxSLmlzQm9vbGVhbihjLmNvbnNvbGVUaW1lbGluZSkmJih2LnRpbWVsaW5lPWMuY29uc29sZVRpbWVsaW5lKSxSLmlzQm9vbGVhbihjLmNvbnNvbGVEaXNwbGF5KSYmKHYuZGlzcGxheT1jLmNvbnNvbGVEaXNwbGF5KSxSLmlzQm9vbGVhbihjLmNvbnNvbGVFcnJvck5vdGlmeSkmJih2LmVycm9yPWMuY29uc29sZUVycm9yTm90aWZ5KSxSLmlzQXJyYXkoYy5jb25zb2xlVGltZWxpbmVMZXZlbHMpJiYodi5sZXZlbHM9Yy5jb25zb2xlVGltZWxpbmVMZXZlbHMpLHYuZW5hYmxlZCYmXCJjb25zb2xlXCJpbiBhJiZhLmNvbnNvbGUubG9nJiZULmF0dGFjaChhLmNvbnNvbGUsdi50aW1lbGluZSx2LmRpc3BsYXksdi5lcnJvcix2LmxldmVscyksc3x8VS5hdHRhY2goKSx0fHx1fHxWLl9fYXR0YWNoQWpheEhvb2tzKCksVn0saW5zdGFsbDpmdW5jdGlvbigpe3JldHVybiBnKCk/KEMucmVwb3J0LnN1YnNjcmliZShsKSxDLmV4dGVuZFRvQXN5bmNocm9ub3VzQ2FsbGJhY2tzKCksQSYmSyYmQS5hamF4RXJyb3IoZiksVik6dm9pZCAwfSx1bmluc3RhbGw6ZnVuY3Rpb24oKXtyZXR1cm4gbz1udWxsLEMucmVwb3J0LnVuc3Vic2NyaWJlKGwpLEEmJksmJkEudW5iaW5kKFwiYWpheEVycm9yXCIsZiksVn0sc2V0Q3VzdG9tRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gcD1hLFZ9LHNldFRhZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIEU9YSxWfSxzZXRBbGxvd2VkRG9tYWluczpmdW5jdGlvbihhKXtyZXR1cm4gYSYmUi5pc0FycmF5KGEpJiYoRz1hKSxWfSxnZXRBbGxvd2VkRG9tYWluczpmdW5jdGlvbigpe3JldHVybiBHfSxzZXRVc2VyOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBxPXt9LGEmJihxLnVzZXJJZD1cIlwiK2EpLGImJihxLmVtYWlsPVwiXCIrYiksYyYmKHEuZmlyc3ROYW1lPVwiXCIrYyksZCYmKHEubGFzdE5hbWU9XCJcIitkKSxWfSxzZXRWZXJzaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiYocj1cIlwiK2EpLFZ9LGVuYWJsZU9mZmxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuIFIuaXNCb29sZWFuKGEpJiYoST1hKSxWfSxvbkJlZm9yZUVycm9yU2VuZDpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoej1hKSxWfSxzZXRHcm91cGluZ0tleUNhbGxiYWNrOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJih5PWEpLFZ9LHNldEFQSUVuZHBvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBNPWEsVn0saW5pdDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMmJihiPWJ8fHt9LGIuY3VzdG9tRGF0YT1jKSxWLmNvbmZpZyhhLGIpfSx3aXRoQ3VzdG9tRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gVi5zZXRDdXN0b21EYXRhKGEpfSx3aXRoVGFnczpmdW5jdGlvbihhKXtyZXR1cm4gVi5zZXRUYWdzKGEpfSxhdHRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gVi5pbnN0YWxsKCl9LGRldGFjaDpmdW5jdGlvbigpe3JldHVybiBWLnVuaW5zdGFsbCgpfSxub3RpZnk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBWLnNlbmQoYSxiLGMpfSxzZW5kUGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gdT92b2lkIFIubG9nKFwiUlVNIGlzIGRpc2FibGVkLiBQbGVhc2UgZW5hYmxlIGl0IGluIHRoZSBjb25maWcgb3B0aW9ucy5cIik6bShPLGEpfSxzZW5kQWpheFBlcmY6ZnVuY3Rpb24oYSl7cmV0dXJuIHU/dm9pZCBSLmxvZyhcIlJVTSBpcyBkaXNhYmxlZC4gUGxlYXNlIGVuYWJsZSBpdCBpbiB0aGUgY29uZmlnIG9wdGlvbnMuXCIpOm0oUCxhKX0sc2VuZFR4blBlcmY6ZnVuY3Rpb24oYSl7cmV0dXJuIG0oUSxhKX0sc2VuZDpmdW5jdGlvbihhLGIsYyl7dHJ5e2woQy5jb21wdXRlU3RhY2tUcmFjZShhKSx7Y3VzdG9tRGF0YTpSLm1lcmdlKHAsYiksdGFnczpSLm1lcmdlQXJyYXkoRSxjKX0pfWNhdGNoKGQpe2lmKGEhPT1kKXRocm93IGR9cmV0dXJuIFZ9LF9oZWxwZXI6Un07YS5hdGF0dXM9Vn0od2luZG93LGRvY3VtZW50LHdpbmRvdy5qUXVlcnkpLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2EucGw8PTB8fGF0YXR1cy5zZW5kUGVyZihhKX1mdW5jdGlvbiBlKCl7dmFyIGI9YS5wZXJmb3JtYW5jZXx8YS5tb3pQZXJmb3JtYW5jZXx8YS5tc1BlcmZvcm1hbmNlfHxhLndlYmtpdFBlcmZvcm1hbmNlLGM9Yi50aW1pbmcsZT1iLm5hdmlnYXRpb247aWYoMD09PWMubG9hZEV2ZW50RW5kKXJldHVybiExO2NsZWFySW50ZXJ2YWwoaSksaT1udWxsO3ZhciBmPWMubmF2aWdhdGlvblN0YXJ0OzA+PWYmJihmPWMuZmV0Y2hTdGFydCk7dmFyIGc9e307Zm9yKHZhciBoIGluIGopZ1tqW2hdXT0tMSxoIGluIGMmJihjW2hdPD0wfHwoZ1tqW2hdXT1jW2hdLWYpKTt2YXIgaz17bnR5OmUudHlwZSxyYzplLnJlZGlyZWN0Q291bnQsbnQ6Zy5ycHMtZy5ucyxkcDpnLmRjZS1nLnJwcyxwcjpnLmxlLWcuZGNlLGZlOmcubGUtZy5ycHMscGw6Zy5sZS1nLm5zfTtkKGspfWZ1bmN0aW9uIGYoKXtpZighaHx8IWguYkRvbmUpcmV0dXJuITE7Y2xlYXJJbnRlcnZhbChpKSxpPSExO3ZhciBhPWguZ2V0TWVhc3VyZXMoKTtpZihudWxsIT1hJiZudWxsIT1hLmJhY2tlbmQmJm51bGwhPWEuZnJvbnRlbmQmJm51bGwhPWFbXCJwYWdlIGxvYWQgdGltZVwiXSYmbnVsbCE9YVtcInRvdGFsIGxvYWQgdGltZVwiXSl7dmFyIGI9YS5iYWNrZW5kLGM9YS5iYWNrZW5kK2EuZnJvbnRlbmQsZT17bnR5OjAscmM6MCxudDpiLGRwOmMtYixwcjphW1widG90YWwgbG9hZCB0aW1lXCJdLWMsZmU6YVtcInRvdGFsIGxvYWQgdGltZVwiXS1iLHBsOmFbXCJ0b3RhbCBsb2FkIHRpbWVcIl19O2QoZSl9fXZhciBnPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGg9aHx8e307aC5xPWgucXx8W10saC52ZXJzaW9uPVwiMC4zXCIsaC50YXJnZXRPcmlnaW49Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0bmFtZSxoLmJQb3N0TWVzc2FnZT0hMSxoLmJlYWNvblVybD1oLmJlYWNvblVybHx8XCIvaW1hZ2VzL2JlYWNvbi5naWZcIixoLmF1dG9ydW49ITEsaC5pbml0PWZ1bmN0aW9uKCl7aWYoaC5iRG9uZT0hMSxoLmJVbmxvYWRlZD0hMSxoLm1hcmtzPXt9LGgubWVhc3VyZXM9e30saC5zdGFydHM9e30saC5maW5kU3RhcnRUaW1lKCksaC5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsaC5iZWZvcmVVbmxvYWQsITEpLGguYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsaC5iZWZvcmVVbmxvYWQsITEpLGguYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGguYmVmb3JlVW5sb2FkLCExKSxoLnByb2Nlc3NRKCksXCJjb21wbGV0ZVwiPT09Yi5yZWFkeVN0YXRlKXt2YXIgYz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7YyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcubG9hZEV2ZW50RW5kJiYoaC5tYXJrKFwiZmlyc3RieXRlXCIsYy50aW1pbmcucmVzcG9uc2VTdGFydCksaC5tYXJrKFwib25sb2FkXCIsYy50aW1pbmcubG9hZEV2ZW50RW5kKSksaC5kb25lKCl9ZWxzZSBoLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsaC5vbmxvYWQsITEpfSxoLnByb2Nlc3NRPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWgucS5sZW5ndGgsYj0wO2E+YjtiKyspe3ZhciBjPWgucVtiXSxkPWNbMF07XCJtYXJrXCI9PT1kP2gubWFyayhjWzFdLGNbMl0pOlwibWVhc3VyZVwiPT09ZD9oLm1lYXN1cmUoY1sxXSxjWzJdLGNbM10pOlwiZG9uZVwiPT09ZCYmaC5kb25lKGNbMV0pfX0saC5tYXJrPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGguZHByaW50KFwiUlVNX0VQSVNPREVTLm1hcms6IFwiK2IrXCIsIFwiK2MpLGI/KGgubWFya3NbYl09cGFyc2VJbnQoY3x8KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOm1hcms6XCIrYitcIjpcIitjLGgudGFyZ2V0T3JpZ2luKSx2b2lkKFwiZmlyc3RieXRlXCI9PT1iP2gubWVhc3VyZShcImJhY2tlbmRcIixcInN0YXJ0dGltZVwiLFwiZmlyc3RieXRlXCIpOlwib25sb2FkXCI9PT1iPyhoLm1lYXN1cmUoXCJmcm9udGVuZFwiLFwiZmlyc3RieXRlXCIsXCJvbmxvYWRcIiksaC5tZWFzdXJlKFwicGFnZSBsb2FkIHRpbWVcIixcInN0YXJ0dGltZVwiLFwib25sb2FkXCIpKTpcImRvbmVcIj09PWImJmgubWVhc3VyZShcInRvdGFsIGxvYWQgdGltZVwiLFwic3RhcnR0aW1lXCIsXCJkb25lXCIpKSk6dm9pZCBoLmRwcmludChcIkVycm9yOiBtYXJrTmFtZSBpcyB1bmRlZmluZWQgaW4gUlVNX0VQSVNPREVTLm1hcmsuXCIpfSxoLm1lYXN1cmU9ZnVuY3Rpb24oYixjLGQpe2lmKGguZHByaW50KFwiUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2IrXCIsIFwiK2MrXCIsIFwiK2QpLCFiKXJldHVybiB2b2lkIGguZHByaW50KFwiRXJyb3I6IGVwaXNvZGVOYW1lIGlzIHVuZGVmaW5lZCBpbiBSVU1fRVBJU09ERVMubWVhc3VyZS5cIik7dmFyIGU7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpZT1cIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tiXT9oLm1hcmtzW2JdOihuZXcgRGF0ZSkuZ2V0VGltZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGgubWFya3NbY10pZT1oLm1hcmtzW2NdO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogdW5leHBlY3RlZCBzdGFydE5hbWVPclRpbWUgaW4gUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2MpO2U9Y312YXIgZjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZClmPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGgubWFya3NbZF0pZj1oLm1hcmtzW2RdO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGQpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogdW5leHBlY3RlZCBlbmROYW1lT3JUaW1lIGluIFJVTV9FUElTT0RFUy5tZWFzdXJlOiBcIitkKTtmPWR9aC5zdGFydHNbYl09cGFyc2VJbnQoZSksaC5tZWFzdXJlc1tiXT1wYXJzZUludChmLWUpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOm1lYXN1cmU6XCIrYitcIjpcIitlK1wiOlwiK2YsaC50YXJnZXRPcmlnaW4pfSxoLmRvbmU9ZnVuY3Rpb24oYil7aC5iRG9uZT0hMCxoLm1hcmsoXCJkb25lXCIpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOmRvbmVcIixoLnRhcmdldE9yaWdpbiksXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYigpfSxoLmdldE1hcmtzPWZ1bmN0aW9uKCl7cmV0dXJuIGgubWFya3N9LGguZ2V0TWVhc3VyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaC5tZWFzdXJlc30saC5nZXRTdGFydHM9ZnVuY3Rpb24oKXtyZXR1cm4gaC5zdGFydHN9LGguZmluZFN0YXJ0VGltZT1mdW5jdGlvbigpe3ZhciBhPWguZmluZFN0YXJ0V2ViVGltaW5nKCl8fGguZmluZFN0YXJ0Q29va2llKCk7YSYmaC5tYXJrKFwic3RhcnR0aW1lXCIsYSl9LGguZmluZFN0YXJ0V2ViVGltaW5nPWZ1bmN0aW9uKCl7dmFyIGIsYz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7cmV0dXJuIGMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nLm5hdmlnYXRpb25TdGFydCYmKGI9Yy50aW1pbmcubmF2aWdhdGlvblN0YXJ0LGguZHByaW50KFwiUlVNX0VQSVNPREVTLmZpbmRTdGFydFdlYlRpbWluZzogc3RhcnRUaW1lID0gXCIrYikpLGJ9LGguZmluZFN0YXJ0Q29va2llPWZ1bmN0aW9uKCl7Zm9yKHZhciBkPWIuY29va2llLnNwbGl0KFwiIFwiKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoMD09PWRbZV0uaW5kZXhPZihcIlJVTV9FUElTT0RFUz1cIikpe2Zvcih2YXIgZixnLGk9ZFtlXS5zdWJzdHJpbmcoXCJSVU1fRVBJU09ERVM9XCIubGVuZ3RoKS5zcGxpdChcIiZcIiksaj0wO2o8aS5sZW5ndGg7aisrKWlmKDA9PT1pW2pdLmluZGV4T2YoXCJzPVwiKSlmPWlbal0uc3Vic3RyaW5nKDIpO2Vsc2UgaWYoMD09PWlbal0uaW5kZXhPZihcInI9XCIpKXt2YXIgaz1pW2pdLnN1YnN0cmluZygyKTtrPWsucmVwbGFjZSgvOyQvLFwiXCIpLGc9YS5lc2NhcGUoYi5yZWZlcnJlcik9PT1rfWlmKGcmJmYpcmV0dXJuIGguZHByaW50KFwiUlVNX0VQSVNPREVTLmZpbmRTdGFydENvb2tpZTogc3RhcnRUaW1lID0gXCIrZiksZn1yZXR1cm4gY30saC5iZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXtoLmJVbmxvYWRlZHx8KGIuY29va2llPVwiUlVNX0VQSVNPREVTPXM9XCIrTnVtYmVyKG5ldyBEYXRlKStcIiZyPVwiK2EuZXNjYXBlKGIubG9jYXRpb24pK1wiOyBwYXRoPS9cIixoLmJVbmxvYWRlZD0hMCl9LGgub25sb2FkPWZ1bmN0aW9uKCl7aC5tYXJrKFwib25sb2FkXCIpLGguZG9uZSgpfSxoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYixjLGQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmF0dGFjaEV2ZW50P2EuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZCk6dm9pZCAwfSxoLmRwcmludD1mdW5jdGlvbigpe30saC5pbml0KCk7dmFyIGk9bnVsbCxqPXtuYXZpZ2F0aW9uU3RhcnQ6XCJuc1wiLHJlZGlyZWN0U3RhcnQ6XCJyZHNcIixyZWRpcmVjdEVuZDpcInJkZVwiLHVubG9hZEV2ZW50U3RhcnQ6XCJ1c1wiLHVubG9hZEV2ZW50RW5kOlwidWVcIixmZXRjaFN0YXJ0OlwiZnNcIixkb21haW5Mb29rdXBTdGFydDpcImRsc1wiLGRvbWFpbkxvb2t1cEVuZDpcImRsZVwiLGNvbm5lY3RTdGFydDpcImNzXCIsc2VjdXJlQ29ubmVjdGlvblN0YXJ0Olwic2NzXCIsY29ubmVjdEVuZDpcImNlXCIsaGFuZHNoYWtlU3RhcnQ6XCJoc1wiLHJlcXVlc3RTdGFydDpcInJxc1wiLHJlc3BvbnNlU3RhcnQ6XCJycHNcIixyZXNwb25zZUVuZDpcInJwZVwiLGRvbUxvYWRpbmc6XCJkbFwiLGRvbUludGVyYWN0aXZlOlwiZGlcIixkb21Db250ZW50TG9hZGVkRXZlbnRTdGFydDpcImRjc1wiLGRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZDpcImRjZVwiLGRvbUNvbXBsZXRlOlwiZGNcIixsb2FkRXZlbnRTdGFydDpcImxzXCIsbG9hZEV2ZW50RW5kOlwibGVcIn0saz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7ayYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGsudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygay5uYXZpZ2F0aW9uP2k9c2V0SW50ZXJ2YWwoZSwxMDApOihoLm1hcmsoXCJmaXJzdGJ5dGVcIixnKSxpPXNldEludGVydmFsKGYsMTAwKSl9KHdpbmRvdyxkb2N1bWVudCksYXRhdHVzLl9fYXR0YWNoQWpheEhvb2tzPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGEsYil7dmFyIGM9YXRhdHVzLl9oZWxwZXIsZD17cXVldWU6W10sYmF0Y2hTaXplOjI1LHByb2Nlc3Npbmc6ITEsYlVubG9hZGVkOiExLHB1c2g6ZnVuY3Rpb24oYSl7XCJzdHJpbmdcIj09dHlwZW9mIGEudXJsJiZhLnVybC5pbmRleE9mKFwiLmh0bWxcIik+MHx8KHRoaXMucXVldWUucHVzaChhKSx0aGlzLnF1ZXVlLmxlbmd0aD49dGhpcy5iYXRjaFNpemUmJnRoaXMuX3Byb2Nlc3NRdWV1ZSgpKX0sX3Byb2Nlc3NRdWV1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb2Nlc3NpbmcmJnRoaXMucXVldWUubGVuZ3RoKXt0aGlzLnByb2Nlc3Npbmc9ITA7dHJ5e2Zvcih2YXIgYT17fSxiPXt9LGQ9MDtkPHRoaXMucXVldWUubGVuZ3RoO2QrKyl7dmFyIGUsZj10aGlzLnF1ZXVlW2RdO2lmKGYuc3RhdHVzPDQwMCl7ZT1mLm1ldGhvZCtmLnVybDt2YXIgZz1mLnJlc3BBdmFpbFRpbWUtZi5zZW5kVGltZSxoPWYucmVzcFByb2NUaW1lLWYucmVzcEF2YWlsVGltZSxpPWYucmVjZWl2ZWRTaXplLGo9Zi5zZW5kU2l6ZSxrPWFbZV07aWYoayl7ay5jKys7dmFyIGw9ay5yZTtsLnQ9bC50K2csbC5sbz1sLmxvPGc/bC5sbzpnLGwuaGk9bC5oaT5nP2wuaGk6ZyxsLnNzcT1sLnNzcStnKmc7dmFyIG09ay5jYjttLnQ9bS50K2gsbS5sbz1tLmxvPGg/bS5sbzpoLG0uaGk9bS5oaT5oP20uaGk6aCxtLnNzcT1tLnNzcStoKmg7dmFyIG49ay5ycztuLnQ9bi50K2ksbi5sbz1uLmxvPGk/bi5sbzppLG4uaGk9bi5oaT5pP24uaGk6aSxuLnNzcT1uLnNzcStpKmk7dmFyIG89ay5zcztvLnQ9by50K2osby5sbz1vLmxvPGo/by5sbzpqLG8uaGk9by5oaT5qP28uaGk6aixvLnNzcT1vLnNzcStqKmp9ZWxzZSBhW2VdPXttOmYubWV0aG9kLHVybDpmLnVybCxjOjEscmU6e3Q6ZyxsbzpnLGhpOmcsc3NxOmcqZ30sY2I6e3Q6aCxsbzpoLGhpOmgsc3NxOmgqaH0scnM6e3Q6Zi5yZWNlaXZlZFNpemUsbG86Zi5yZWNlaXZlZFNpemUsaGk6Zi5yZWNlaXZlZFNpemUsc3NxOmYucmVjZWl2ZWRTaXplKmYucmVjZWl2ZWRTaXplfSxzczp7dDpmLnNlbmRTaXplLGxvOmYuc2VuZFNpemUsaGk6Zi5zZW5kU2l6ZSxzc3E6Zi5zZW5kU2l6ZSpmLnNlbmRTaXplfX19ZWxzZSBlPWYubWV0aG9kK2Yuc3RhdHVzK2YudXJsLGJbZV0/YltlXS5jKys6YltlXT17bTpmLm1ldGhvZCx1cmw6Zi51cmwsc3Q6Zi5zdGF0dXMsYzoxfX12YXIgcD17eGhyOmMuYXJyYXlGcm9tT2JqZWN0KGEpLHhockVycm9yOmMuYXJyYXlGcm9tT2JqZWN0KGIpfTthdGF0dXMuc2VuZEFqYXhQZXJmKHApfWNhdGNoKHEpe2MubG9nKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBxdWV1ZTogXCIscSl9ZmluYWxseXt0aGlzLnF1ZXVlPVtdLHRoaXMucHJvY2Vzc2luZz0hMX19fSxiZWZvcmVVbmxvYWQ6ZnVuY3Rpb24oKXtkLmJVbmxvYWRlZHx8KGQuX3Byb2Nlc3NRdWV1ZSgpLGQuYlVubG9hZGVkPSEwKX19O2MuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGQuYmVmb3JlVW5sb2FkLCExKTt2YXIgZT17c3VwcG9ydDpmdW5jdGlvbihhKXtyZXR1cm4hYXx8XCJhcHBseVwiaW4gYX0sYXJvdW5kOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiBhPWF8fGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe3ZhciBmLGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt0cnl7YiYmKGY9Yi5hcHBseSh0aGlzLGcpKX1jYXRjaChoKXtjLmxvZyhlLGgpfXZhciBpO3RyeXtpPWEuYXBwbHkodGhpcyxmfHxnKX1maW5hbGx5e3RyeXtkJiZkLmFwcGx5KHRoaXMsZyl9Y2F0Y2goaCl7Yy5sb2coZSxoKX19cmV0dXJuIGl9fSxiZWZvcmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5hcm91bmQoYSxiKX0sYWZ0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5hcm91bmQoYSxudWxsLGIpfSx0aW1lb3V0OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sd3JhcEFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZigoXCJsb2FkXCI9PT1hfHxcImVycm9yXCI9PT1hKSYmYiYmdGhpcy5fYXRydW1YaHJEYXRhKXt2YXIgYztiLl9fYXRydW1JbnRlcmNlcHRvcj9jPWIuX19hdHJ1bUludGVyY2VwdG9yOmUuc3VwcG9ydChiKT8oYz1nLndyYXBYSFIoYix0aGlzLFwiWEhSLmludm9rZUV2ZW50TGlzdGVuZXJcIiksYi5fX2F0cnVtSW50ZXJjZXB0b3I9Yyk6Yz1udWxsO3ZhciBkO3JldHVybiBjJiYoZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGRbMV09YyksZH19fSx3cmFwUmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKHRoaXMuX2F0cnVtWGhyRGF0YSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYi5fX2F0cnVtSW50ZXJjZXB0b3ImJihjWzFdPWIuX19hdHJ1bUludGVyY2VwdG9yKSxjfX19LGFyb3VuZFdpdGhIYW5kbGVFdmVudDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZj1hO3JldHVybiBhJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmXCJ0b1N0cmluZ1wiaW4gYSYmXCJbeHBjb25uZWN0IHdyYXBwZWQgbnNJRE9NRXZlbnRMaXN0ZW5lcl1cIj09PWEudG9TdHJpbmcoKSYmXCJoYW5kbGVFdmVudFwiaW4gYSYmKGY9ZnVuY3Rpb24oKXthLmhhbmRsZUV2ZW50LmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9KSxlLmFyb3VuZChmLGIsYyxkKX0sZ2V0RnVsbHlRdWFsaWZpZWRVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gYy5ocmVmPWEsYy5ocmVmfX07aWYoYS5YTUxIdHRwUmVxdWVzdCYmYS5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUpe3ZhciBmPWEuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlO2lmKCEoXCJvcGVuXCJpbiBmJiZcInNlbmRcImluIGYpKXJldHVybjtpZighZS5zdXBwb3J0KGYub3Blbil8fCFlLnN1cHBvcnQoZi5zZW5kKSlyZXR1cm47dmFyIGc9e307Zy5jYXB0dXJlQWpheFRpbWluZ3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fYXRydW1YaHJEYXRhO2lmKGIpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpOzI9PT1hLnJlYWR5U3RhdGU/Yi5maXJzdEJ5dGVUaW1lPWIuZmlyc3RCeXRlVGltZXx8Yzo0PT09YS5yZWFkeVN0YXRlJiYoYi5yZXNwQXZhaWxUaW1lPWIucmVzcEF2YWlsVGltZXx8YyxiLmZpcnN0Qnl0ZVRpbWU9Yi5maXJzdEJ5dGVUaW1lfHxjKX19LGcuc2VuZFBheWxvYWQ9ZnVuY3Rpb24oYSxiKXtiLnJlY2VpdmVkU2l6ZT0wLGEucmVzcG9uc2VUeXBlJiZcInRleHRcIiE9PWEucmVzcG9uc2VUeXBlfHxcInN0cmluZ1wiPT10eXBlb2YgYS5yZXNwb25zZVRleHQmJihiLnJlY2VpdmVkU2l6ZT1hLnJlc3BvbnNlVGV4dC5sZW5ndGgpLGIuc3RhdHVzPWEuc3RhdHVzLGQucHVzaChiKX0sZy53cmFwWEhSPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZS5hcm91bmRXaXRoSGFuZGxlRXZlbnQoYSxmdW5jdGlvbigpe2cuY2FwdHVyZUFqYXhUaW1pbmdzKHRoaXMpfSxmdW5jdGlvbigpe3ZhciBhPWIuX2F0cnVtWGhyRGF0YTtpZihhJiY0PT09Yi5yZWFkeVN0YXRlKXt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTthLnJlc3BQcm9jVGltZT1hLnJlc3BQcm9jVGltZXx8YyxnLnNlbmRQYXlsb2FkKGIsYSksZGVsZXRlIGIuX2F0cnVtWGhyRGF0YX19LGMpfSxnLmFqYXhEb25lPWZ1bmN0aW9uKGEpe2lmKGEuX2F0cnVtWGhyRGF0YSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCkrM2U0LGM9ZnVuY3Rpb24oKXtnLmNhcHR1cmVBamF4VGltaW5ncyhhKTt2YXIgZD1hLl9hdHJ1bVhockRhdGE7aWYoZCl7dmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ND09PWEucmVhZHlTdGF0ZT8oZC5yZXNwUHJvY1RpbWU9ZC5yZXNwUHJvY1RpbWV8fGUsZy5zZW5kUGF5bG9hZChhLGQpLGRlbGV0ZSBhLl9hdHJ1bVhockRhdGEpOmI+ZT9zZXRUaW1lb3V0KGMsNTApOmRlbGV0ZSBhLl9hdHJ1bVhockRhdGF9fTtjKCl9fSxmLm9wZW49ZS5hcm91bmQoZi5vcGVuLGZ1bmN0aW9uKCl7dmFyIGE9MTw9YXJndW1lbnRzLmxlbmd0aD9TdHJpbmcoYXJndW1lbnRzWzBdKTpcIlwiLGI9Mjw9YXJndW1lbnRzLmxlbmd0aD9TdHJpbmcoYXJndW1lbnRzWzFdKTpcIlwiLGM9YXRhdHVzLmdldEFsbG93ZWREb21haW5zKCksZD0hMDtpZihiPWUuZ2V0RnVsbHlRdWFsaWZpZWRVcmwoYiksYiYmYyYmYy5sZW5ndGgpe2Q9ITE7Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZyYmYi5pbmRleE9mKGcpPi0xKXtkPSEwO2JyZWFrfX19ZCYmKGI9YiYmYi5zcGxpdChcIj9cIilbMF0sdGhpcy5fYXRydW1YaHJEYXRhPXttZXRob2Q6YSx1cmw6YixzZW5kVGltZTpudWxsLHNlbmRTaXplOm51bGwsZmlyc3RCeXRlVGltZTpudWxsLHJlc3BBdmFpbFRpbWU6bnVsbCxyZXNwUHJvY1RpbWU6bnVsbCxyZWNlaXZlZFNpemU6bnVsbCxwYXJlbnRQaGFzZTpudWxsfSl9LG51bGwsXCJYSFIub3BlblwiKSxmLnNlbmQ9ZS5hcm91bmQoZi5zZW5kLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX2F0cnVtWGhyRGF0YTtpZihiKXt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTtiLnNlbmRUaW1lPWIuc2VuZFRpbWV8fGMsYi5zZW5kU2l6ZT0xPD1hcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdLmxlbmd0aHx8MDowO3ZhciBkPTAsZj1mdW5jdGlvbigpe2lmKDQ9PT1hLnJlYWR5U3RhdGUpZy5hamF4RG9uZShhKTtlbHNle3ZhciBiPW51bGw7dHJ5e2I9YS5vbnJlYWR5c3RhdGVjaGFuZ2V9Y2F0Y2goYyl7cmV0dXJuIHZvaWQgZy5hamF4RG9uZShhKX1kKyssYj9lLnN1cHBvcnQoYik/YS5vbnJlYWR5c3RhdGVjaGFuZ2U9Zy53cmFwWEhSKGIsYSxcIlhIUi5vblJlYWR5U3RhdGVDaGFuZ2VcIik6Zy5hamF4RG9uZShhKTo1PmQ/ZS50aW1lb3V0KGYpOmcuYWpheERvbmUoYSl9fTtmKCl9fSxudWxsLFwiWEhSLnNlbmRcIiksXCJhZGRFdmVudExpc3RlbmVyXCJpbiBmJiZcInJlbW92ZUV2ZW50TGlzdGVuZXJcImluIGYmJmUuc3VwcG9ydChmLmFkZEV2ZW50TGlzdGVuZXIpJiZlLnN1cHBvcnQoZi5yZW1vdmVFdmVudExpc3RlbmVyKSYmKGYuYWRkRXZlbnRMaXN0ZW5lcj1lLmFyb3VuZChmLmFkZEV2ZW50TGlzdGVuZXIsZS53cmFwQWRkRXZlbnRMaXN0ZW5lcigpLG51bGwsXCJYSFIuYWRkRXZlbnRMaXN0ZW5lclwiKSxmLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZS5hcm91bmQoZi5yZW1vdmVFdmVudExpc3RlbmVyLGUud3JhcFJlbW92ZUV2ZW50TGlzdGVuZXIoKSxudWxsLFwiWEhSLnJlbW92ZUV2ZW50TGlzdGVuZXJcIikpfX0od2luZG93LGRvY3VtZW50KX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsYyl7aWYoISgwPj1iKSl7dmFyIGQ9e25hbWU6YSxkdXI6YixzdDpjfTthdGF0dXMuc2VuZFR4blBlcmYoZCl9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGgrXCIgXCIrYX1mdW5jdGlvbiBkKCl7dHJ5e3JldHVyblwibG9jYWxTdG9yYWdlXCJpbiBhJiZudWxsIT09YS5sb2NhbFN0b3JhZ2U7fWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBlKGEpe3ZhciBiPWkubm93KCk7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGMoYSksYil9Y2F0Y2goZCl7fX1mdW5jdGlvbiBmKGEpe3ZhciBiPW51bGwsZD1jKGEpO3RyeXtiPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGQpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGQpfWNhdGNoKGUpe312YXIgZj0wO3JldHVybiBiJiYoZj1pLm5vdygpLWIpLGZ9ZnVuY3Rpb24gZyhhKXt0cnl7dmFyIGI9YyhhKTtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKX1jYXRjaChkKXt9fXZhciBoPVwiYXRhdHVzLmNvbS9cIixpPWF0YXR1cy5faGVscGVyLGo9MSxrPTA7YXRhdHVzLmJlZ2luVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7ZCgpJiZlKGEpfSxhdGF0dXMuZW5kVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7aWYoZCgpKXt2YXIgYz1mKGEpO2IoYSxjLGopfX0sYXRhdHVzLmZhaWxUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtpZihkKCkpe3ZhciBjPWYoYSk7YihhLGMsayl9fSxhdGF0dXMuY2FuY2VsVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7ZCgpJiZnKGEpfX0od2luZG93LGRvY3VtZW50KTtcbi8qISBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICogKGMpIDIwMTQgVGltIFRhdWJlcnQgPHRpbUB0aW10YXViZXJ0LmRlPlxuICogYXJyYXlidWZmZXItc2xpY2UgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuKi9cbiFmdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHIsdCl7cmV0dXJuIHI9MHxyfHwwLHI8MD9NYXRoLm1heChyK3QsMCk6TWF0aC5taW4ocix0KX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fChBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSxuKXt2YXIgZj10aGlzLmJ5dGVMZW5ndGgsaT10KGUsZiksYT1mO2lmKG4hPT1yJiYoYT10KG4sZikpLGk+YSlyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO3ZhciB1PWEtaSx5PW5ldyBBcnJheUJ1ZmZlcih1KSxvPW5ldyBVaW50OEFycmF5KHkpLHM9bmV3IFVpbnQ4QXJyYXkodGhpcyxpLHUpO3JldHVybiBvLnNldChzKSx5fSl9KCk7XG4hZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChpKXtpZihyW2ldKXJldHVybiByW2ldLmk7dmFyIG49cltpXT17czppLG86ITEsaTp7fX07cmV0dXJuIGVbaV0uY2FsbChuLmksbixuLmksdCksbi5vPSEwLG4uaX12YXIgcj17fTt0Lmg9ZSx0LmM9cix0LmQ9ZnVuY3Rpb24oZSxyLGkpe3QudShlLHIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtsOiExLHA6ITAsZ2V0Oml9KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciByPWUmJmUuZz9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQocixcImFcIixyKSxyfSx0LnU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQudj1cIlwiLHQodC5UPTk5KX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXIoNDApLHM9cigzKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtOJiZjb25zb2xlLmxvZyhcIkZyYW1ld29yayBhbHJlYWR5IGluaXRpYWxpemVkXCIpLGUubSgpLEE9bmV3IERhdGUsdC5hcHBseShMKSxOPUwucmVzb2x2ZShDLkkpLGs9TC5yZXNvbHZlKEMuUiksRj1OLkMoKX1mdW5jdGlvbiByKCl7RD1MLnJlc29sdmUoQy5fKSxELmluaXQoKX1mdW5jdGlvbiBpKCl7cmV0dXJuIER9ZnVuY3Rpb24gbygpe3JldHVybiBMfWZ1bmN0aW9uIGEoKXtyZXR1cm4ga31mdW5jdGlvbiBoKCl7cmV0dXJuIE59ZnVuY3Rpb24gYyhlKXtyZXR1cm4gTS5nZXQoZSl9ZnVuY3Rpb24gdShlLHQpe3ZhciByPW5ldyBfKGUpO3JldHVybiByLmFwcGx5KHQpLE0uc2V0KGUscikscn1mdW5jdGlvbiBsKHQpe1A9ZS5QKHQpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIG51bGwhPVA/UC5jb250ZXh0LnJlc29sdmUoZSk6KGNvbnNvbGUud2FybihcInVuZGVmaW5lZCBjb250ZXh0XCIpLG51bGwpfWZ1bmN0aW9uIGQoKXtyZXR1cm4gUH1mdW5jdGlvbiBmKCl7cmV0dXJuIE4udGltZSgpfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gTi5zZXRUaW1lb3V0KGUsdCl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gTi5jbGVhclRpbWVvdXQoZSl9ZnVuY3Rpb24gdihlLHQpe3JldHVybiBOLnNldEludGVydmFsKGUsdCl9ZnVuY3Rpb24geShlKXtyZXR1cm4gTi5jbGVhckludGVydmFsKGUpfWZ1bmN0aW9uIFQoKXtOLkEoKX1mdW5jdGlvbiBtKCl7TiYmTi5PKCksTC5OKCksTD1uZXcgbi5ELE09bmV3IHMsUD1udWxsLEE9bnVsbCxGPSExLE89bnVsbCxOPW51bGwsRD1udWxsLGs9bnVsbH1mdW5jdGlvbiBJKGUpe089ZX1mdW5jdGlvbiBTKCl7cmV0dXJuIE98fChPPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSwoTz0oOTMwMSpPKzQ5Mjk3KSUyMzMyODApLzIzMzI4MH1mdW5jdGlvbiBSKCl7cmV0dXJuIEF9ZnVuY3Rpb24gdygpe3JldHVybiBGfXZhciBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtiLms9XCJ3czovLzEyNy4wLjAuMTo4MDAwL2hpdmVcIixlLkw9Yjt2YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Qy5JPVwiVGltZXJTY2hlZHVsZXJcIixDLk09XCJpZGVudGl0eVByb3ZpZGVyXCIsQy5fPVwiTmV0d29ya0NvbXBvbmVudFwiLEMuRj1cInJ0Y01hbmFnZXJcIixDLlU9XCJ0cmFuc3BvcnRcIixDLkI9XCJodHRwTWFuYWdlclwiLEMuSD1cImh0dHBSZXF1ZXN0XCIsQy5SPVwibG9nZ2VyXCIsQy5xPVwic2VydmVyTWFuYWdlclwiLEMuRz1cInNlcnZpY2VzQ2xpZW50XCIsZS5WPUM7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaWQ9ZSx0aGlzLmNvbnRleHQ9bmV3IG4uRH1yZXR1cm4gZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7ZS5hcHBseSh0aGlzLmNvbnRleHQpfSxlfSgpO2Uuaj1fOyFmdW5jdGlvbihlKXtlW2UuSz0wXT1cIkhUVFBcIixlW2UuWT0xXT1cIlJUQ1wiLGVbZS5XPTJdPVwiVURQXCJ9KGUuSnx8KGUuSj17fSkpOyFmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7cmV0dXJuXCJbXCIrZigpK1wiXSBbXCIrZS5YKCkuaWQrXCJdXCJ9dC5nZXRJZD1yfShlLlp8fChlLlo9e30pKTt2YXIgUCxBLE8sTixELGssTD1uZXcgbi5ELE09bmV3IHMsRj0hMTtlLiQ9dCxlLmVlPXIsZS50ZT1pLGUuc3lzdGVtPW8sZS5sb2dnZXI9YSxlLnJlPWgsZS5QPWMsZS5pZT11LGUubmU9bCxlLnJlc29sdmU9cCxlLlg9ZCxlLnRpbWU9ZixlLnNldFRpbWVvdXQ9ZyxlLmNsZWFyVGltZW91dD1FLGUuc2V0SW50ZXJ2YWw9dixlLmNsZWFySW50ZXJ2YWw9eSxlLkE9VCxlLm09bSxlLnNlPUksZS5yYW5kb209UyxlLm9lPVIsZS5DPXd9KGk9dC5GcmFtZXdvcmt8fCh0LkZyYW1ld29yaz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwuRnJhbWV3b3JrPWkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxMDYpLG49cigyMCkscz1yKDYpLG89cy5oZS5hZSxhPShzLmhlLmNlLHMuaGUudWUpLGg9cy5oZS5sZSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgcj10aGlzO2lmKHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5wZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgYXRhdHVzJiZudWxsIT1hdGF0dXMsdGhpcy5kZT17fSxlLmZlKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBJbnN0YW50aWF0aW9uIGZhaWxlZDogVXNlIEF0YXR1c0xvZ2dlci5nZXRJbnN0YW5jZSgpIGluc3RlYWQgb2YgbmV3LlwiKTt2YXIgaSxzPXZvaWQgMCE9bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5rZXk/bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5rZXk6byxjPTE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZFJVTSx1PTE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlS2V5Q29tYmluYXRpb24sbD0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWRFcnJvckZpbHRlcjtsJiYoaT10aGlzLmdlKCkpLHRoaXMudmVyc2lvbj10LHRoaXMucGUmJih2b2lkIDA9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCYmYXx8dm9pZCAwIT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWQmJjE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCkmJihhdGF0dXMuY29uZmlnKHMse2VuYWJsZVNvdXJjZW1hcDohMCxkaXNhYmxlUlVNOiFjLGNvbnNvbGU6ITEsdmVyc2lvbjp0LGJlZm9yZUVycm9yU2VuZDpmdW5jdGlvbihlKXt2YXIgdD0hMTtlJiZlLmN1c3RvbURhdGEmJnZvaWQgMCE9PWUuY3VzdG9tRGF0YS5mb3JjZVNlbmQmJih0PWUuY3VzdG9tRGF0YS5mb3JjZVNlbmQsZGVsZXRlIGUuY3VzdG9tRGF0YS5mb3JjZVNlbmQsMD09PU9iamVjdC5rZXlzKGUuY3VzdG9tRGF0YSkubGVuZ3RoJiYoZS5jdXN0b21EYXRhPW51bGwpKTtmb3IodmFyIG4gaW4gci5kZSllLmN1c3RvbURhdGFbbl09ci5kZVtuXTtpZighbHx8dClyZXR1cm4hMDtpZighaSlyZXR1cm4hMTt0cnl7dmFyIHM9ITE7aWYoZS5iYWNrVHJhY2VzKXtmb3IodmFyIG89MCxhPWUuYmFja1RyYWNlcztvPGEubGVuZ3RoO28rKyl7dmFyIGM9YVtvXTtpZihjLmYuaW5kZXhPZihpKT4tMSYmYy5sbj5oKXtzPSEwO2JyZWFrfX1zJiYoZS5uYW1lPWUubmFtZS5yZXBsYWNlKC8lcyBcXFtbMC05XXsyfTpbMC05XXsyfTpbMC05XXsyfTpbMC05XStdIC8sXCJcIiksZS5uYW1lLmluZGV4T2YoXCJTdGF0dXMgQ29kZSBFcnJvcjpcIik+PTAmJihlLnRhZ3M9W1wiUGx1Z2luIEVycm9yIENvZGVcIixlLm5hbWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKV0pKX1yZXR1cm4gc31jYXRjaChlKXtyZXR1cm4hMX19fSkuaW5zdGFsbCgpLHUmJnRoaXMuRWUoKSx0aGlzLmlzQWN0aXZlPSEwLHdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyhcIltIaXZlQ29tbV0gRXJyb3IgTW9uaXRvciBpbnN0YWxsZWQgW1JVTTpcIitjK1wiLCBLZXlIYW5kbGVyOlwiK3UrXCJdXCIpLGwmJiFpJiZ0aGlzLmxvZ0Vycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgZXJyb3IgZmlsdGVyXCIpKX1yZXR1cm4gZS52ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCIzLjAuMFwiKSx2b2lkIDA9PT10aGlzLmZlJiYodGhpcy5mZT1uZXcgZSh0KSksdGhpcy5mZX0sZS5wcm90b3R5cGUuRWU9ZnVuY3Rpb24oKXtpLlRlLnZlKCkueWUoWzE2LDE3LDg4XSxmdW5jdGlvbigpe3RyeXt0aHJvdyBuZXcgRXJyb3IoXCJVcGxvYWQgY29uc29sZSBsb2dzXCIpfWNhdGNoKGUpe2F0YXR1cy5ub3RpZnkoZSksd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiW0hpdmVDb21tXSBjb25zb2xlIGxvZyB1cGxvYWRlZCBmb3IgZGVidWdnaW5nXCIpfX0pfSxlLnByb3RvdHlwZS5nZT1mdW5jdGlvbigpe3RyeXt0aHJvdyBuZXcgRXJyb3IoXCJ0ZXN0XCIpfWNhdGNoKHQpe3ZhciBlPXQuc3RhY2subWF0Y2goLyhcXC9cXC8uKlxcLmpzKS9pKTtpZihlJiZlLmxlbmd0aD4wKXJldHVybiBlWzBdfX0sZS5wcm90b3R5cGUuc2V0VXNlcj1mdW5jdGlvbihlKXt0aGlzLnBlJiZ0aGlzLmlzQWN0aXZlJiZhdGF0dXMuc2V0VXNlcihlKX0sZS5wcm90b3R5cGUubWU9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9ZX0sZS5wcm90b3R5cGUuc2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihlKXt0aGlzLnBlJiZ0aGlzLmlzQWN0aXZlJiZhdGF0dXMuc2V0Q3VzdG9tRGF0YShlKX0sZS5wcm90b3R5cGUuSWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpdGhpcy5kZVt0XT1lW3RdfSxlLnByb3RvdHlwZS5sb2dFcnJvcj1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBzPVwiXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/cz10LnRyaW0oKTp2b2lkIDAhPT10JiYoaT10KSwoaSBpbnN0YW5jZW9mIEVycm9yfHxpJiZcIm9iamVjdFwiIT10eXBlb2YgaSkmJihpPXtlcnJvcjppLnRvU3RyaW5nKCl9KSxpfHwoaT17fSksaS5lcnJvckNvZGU9cix0aGlzLmxvZ2dlciYmKE9iamVjdC5rZXlzKGkpLmxlbmd0aD4wP3RoaXMubG9nZ2VyLndhcm4ocytcIiBcIitlLGkpOnRoaXMubG9nZ2VyLndhcm4ocytcIiBcIitlKSkscyYmKG49bj9uLmNvbmNhdChbc10pOltzXSksaS5mb3JjZVNlbmQ9ITAsdGhpcy5wZSYmdGhpcy5pc0FjdGl2ZSl0cnl7dGhyb3cgbmV3IEVycm9yKGUpfWNhdGNoKGUpe2F0YXR1cy5ub3RpZnkoZSxpLG4pfX0sZS5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbihlKXt0aGlzLnBlJiZ0aGlzLmlzQWN0aXZlJiZhdGF0dXMuc2V0VGFncyhlKX0sZS5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKGUsdCl7dGhpcy5wZSYmdGhpcy5pc0FjdGl2ZSYmKHR8fCh0PXt9KSx0LmZvcmNlU2VuZD0hMCxhdGF0dXMubm90aWZ5KGUsdCkpfSxlfSgpO3QuRXJyb3JNb25pdG9yPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2VbZS5TZT0yNjg0MzU0NTZdPVwiQkFTRV9DT0RFXCIsZVtlLlJlPTI2ODQzNTQ1N109XCJGSVJFX1NFUlZFUl9DT05ORUNURURfV0lUSF9TV0FSTVwiLGVbZS53ZT0yNjg0MzU0NThdPVwiRklSRV9TRVJWRVJfQ09OTkVDVEVEX1dJVEhPVVRfU1dBUk1cIixlW2UuYmU9MjY4NDM1NDU5XT1cIkNPTk5FQ1RJT05fTk9UX0VTVEFCTElTSEVEXCIsZVtlLkNlPTI2ODQzNTQ2MF09XCJTRU5EX01FU1NBR0VfVE9fTk9OX0VYSVNUSU5HX0NIQU5ORUxcIixlW2UuX2U9MjY4NDM1NDYxXT1cIlJFQ0VJVkVEX01FU1NBR0VfRlJPTV9OT05fRVhJU1RJTkdfQ09OTkVDVElPTlwifShlLlBlfHwoZS5QZT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NTM2ODcwOTEyXT1cIkJBU0VfQ09ERVwiLGVbZS5BZT01MzY4NzA5MTNdPVwiQ1JFQVRFX09GRkVSXCIsZVtlLk9lPTUzNjg3MDkxNF09XCJDUkVBVEVfQU5TV0VSXCIsZVtlLk5lPTUzNjg3MDkxNV09XCJTSUdOQUxJTkdfU1RBVEVfQ0xPU0VEXCIsZVtlLkRlPTUzNjg3MDkxNl09XCJTRVRfTE9DQUxfREVTQ1JJUFRJT05fRkFJTEVEXCIsZVtlLmtlPTUzNjg3MDkxN109XCJORUdPVElBVElPTl9GQUlMVVJFXCIsZVtlLkxlPTUzNjg3MDkxOF09XCJTRVRVUF9DSEFOTkVMX0VSUk9SXCIsZVtlLk1lPTUzNjg3MDkxOV09XCJJQ0VfQ09OTkVDVElPTl9GQUlMRURcIixlW2UuRmU9NTM2ODcwOTIwXT1cIlNFVF9SRU1PVEVfREVTQ1JJUFRJT05cIixlW2UuVWU9NTM2ODcwOTIxXT1cIlVQREFURV9JQ0VfQ0FORElEQVRFU1wiLGVbZS5CZT01MzY4NzA5MjJdPVwiQU5TV0VSX1JFQ0VJVkVEXCIsZVtlLkhlPTUzNjg3MDkyM109XCJPRkZFUl9SRUNFSVZFRFwiLGVbZS54ZT01MzY4NzA5MjRdPVwiU0VORF9DQU5ESURBVEVTXCIsZVtlLnFlPTUzNjg3MDkyNV09XCJDTE9TRV9DT05ORUNUSU9OXCJ9KGUuR2V8fChlLkdlPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT04MDUzMDYzNjhdPVwiQkFTRV9DT0RFXCIsZVtlLlZlPTgwNTMwNjM2OV09XCJTRU5EX01TR19XSVRIT1VUX0NIQU5ORUxcIixlW2UuamU9ODA1MzA2MzcwXT1cIk1TR19UUklHR0VSX0VSUk9SXCIsZVtlLlFlPTgwNTMwNjM3MV09XCJDT05ORUNUSU9OX1RJTUVPVVRcIn0oZS5LZXx8KGUuS2U9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTEwNzM3NDE4MjRdPVwiQkFTRV9DT0RFXCIsZVtlLnFlPTEwNzM3NDE4MjVdPVwiQ0xPU0VfQ09OTkVDVElPTlwiLGVbZS5ZZT0xMDczNzQxODI2XT1cIlAyUF9ESVNQQVRDSEVSX0VSUk9SXCJ9KGUuV2V8fChlLldlPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xMzQyMTc3MjgwXT1cIkJBU0VfQ09ERVwiLGVbZS56ZT0xMzQyMTc3MjgxXT1cIkNPTlNUUlVDVF9NRVNTQUdFXCIsZVtlLkplPTEzNDIxNzcyODJdPVwiRFJPUFBFRF9NRVNTQUdFXCIsZVtlLlhlPTEzNDIxNzcyODNdPVwiU0VORF9NRVNTQUdFXCIsZVtlLlplPTEzNDIxNzcyODRdPVwiUkVDRUlWRV9NRVNTQUdFXCJ9KGUuJGV8fChlLiRlPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xNjEwNjEyNzM2XT1cIkJBU0VfQ09ERVwiLGVbZS5ldD0xNjEwNjEyNzM3XT1cIk5FV19ESVNQQVRDSEVSXCJ9KGUudHR8fChlLnR0PXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xODc5MDQ4MTkyXT1cIkJBU0VfQ09ERVwiLGVbZS5ydD0xODc5MDQ4MTkzXT1cIklOSVRfQ0FDSEVcIixlW2UuaXQ9MTg3OTA0ODE5NF09XCJQVVRfT1BFUkFUSU9OXCIsZVtlLm50PTE4NzkwNDgxOTVdPVwiR0VUX09QRVJBVElPTlwiLGVbZS5zdD0xODc5MDQ4MTk2XT1cIkNPTlRBSU5TX09QRVJBVElPTlwiLGVbZS5vdD0xODc5MDQ4MTk3XT1cIkdFVF9LRVlTX09QRVJBVElPTlwiLGVbZS5hdD0xODc5MDQ4MTk4XT1cIkdFVF9FTEVNRU5UU19PUEVSQVRJT05cIn0oZS5odHx8KGUuaHQ9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTIxNDc0ODM2NDhdPVwiQkFTRV9DT0RFXCIsZVtlLml0PTIxNDc0ODM2NDldPVwiUFVUX09QRVJBVElPTlwiLGVbZS5udD0yMTQ3NDgzNjUwXT1cIkdFVF9PUEVSQVRJT05cIixlW2Uuc3Q9MjE0NzQ4MzY1MV09XCJDT05UQUlOU19PUEVSQVRJT05cIixlW2Uub3Q9MjE0NzQ4MzY1Ml09XCJHRVRfS0VZU19PUEVSQVRJT05cIixlW2UuYXQ9MjE0NzQ4MzY1M109XCJHRVRfRUxFTUVOVFNfT1BFUkFUSU9OXCIsZVtlLmN0PTIxNDc0ODM2NTRdPVwiUFVSR0VfQ0FDSEVfT1BFUkFUSU9OXCJ9KGUudXR8fChlLnV0PXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0yNDE1OTE5MTA0XT1cIkJBU0VfQ09ERVwifShlLmx0fHwoZS5sdD17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MjY4NDM1NDU2MF09XCJCQVNFX0NPREVcIixlW2UucHQ9MjY4NDM1NDU2MV09XCJESVNDT1ZFUkVEX1BFRVJTXCIsZVtlLmR0PTI2ODQzNTQ1NjJdPVwiTEVBREVSX0VMRUNUSU9OXCIsZVtlLmZ0PTI2ODQzNTQ1NjNdPVwiR0NfTUVNQkVSU1wiLGVbZS5ndD0yNjg0MzU0NTY0XT1cIkFERF9MQU5fTUVNQkVSXCIsZVtlLkV0PTI2ODQzNTQ1NjVdPVwiQUREX1JBTkRPTV9NRU1CRVJcIixlW2UudnQ9MjY4NDM1NDU2Nl09XCJTQU1QTEVfTUVNQkVSU0hJUFwifShlLnl0fHwoZS55dD17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9Mjk1Mjc5MDAxNl09XCJCQVNFX0NPREVcIixlW2UuVHQ9Mjk1Mjc5MDAxN109XCJTRU5EX0FMTF9IQVZFU1wiLGVbZS5JdD0yOTUyNzkwMDE4XT1cIlNFTkRfSEFWRVwiLGVbZS5TdD0yOTUyNzkwMDE5XT1cIlVOS05PV05fSEFWRVwiLGVbZS5SdD0yOTUyNzkwMDIwXT1cIlVOS05PV05fSEFWRVNcIixlW2Uud3Q9Mjk1Mjc5MDAyMV09XCJSRUNFSVZFRF9IQVZFXCIsZVtlLmJ0PTI5NTI3OTAwMjJdPVwiUkVDRUlWRURfSEFWRVNcIixlW2UuQ3Q9Mjk1Mjc5MDAyM109XCJOT19PVVRfUEFSVE5FUlwiLGVbZS5fdD0yOTUyNzkwMDI0XT1cIkNSRUFURV9SQU5ET01fQlVGRkVSXCIsZVtlLlB0PTI5NTI3OTAwMjVdPVwiUkVRVUVTVF9QSU5HXCIsZVtlLkF0PTI5NTI3OTAwMjZdPVwiUkVDRUlWRURfUElOR1wiLGVbZS5PdD0yOTUyNzkwMDI3XT1cIlVOS05PV05fUElOR1wiLGVbZS5OdD0yOTUyNzkwMDI4XT1cIlNFTkRfUE9OR1wiLGVbZS5EdD0yOTUyNzkwMDI5XT1cIlVOS09XTl9QT05HXCIsZVtlLmt0PTI5NTI3OTAwMzBdPVwiV1JPTkdfUE9OR19TSVpFXCIsZVtlLkx0PTI5NTI3OTAwMzFdPVwiV1JPTkdfVElNRVNUQU1QXCIsZVtlLk10PTI5NTI3OTAwMzJdPVwiUkVDRUlWRURfUE9OR1wiLGVbZS5GdD0yOTUyNzkwMDMzXT1cIkNPTExFQ1RfUEFSVE5FUl9TTkFQU0hPVFNcIn0oZS5VdHx8KGUuVXQ9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTMyMjEyMjU0NzJdPVwiQkFTRV9DT0RFXCIsZVtlLkJ0PTMyMjEyMjU0NzNdPVwiU1RBUlRfUEFSVE5FUlNISVBcIixlW2UuSHQ9MzIyMTIyNTQ3NF09XCJORVdfTEFOX01FTUJFUlwiLGVbZS54dD0zMjIxMjI1NDc1XT1cIklOX1BBUlRORVJfQ0hPSUNFXCIsZVtlLnF0PTMyMjEyMjU0NzZdPVwiSU5fUEFSVE5FUl9BRERfUFJPQ0VTU1wiLGVbZS5HdD0zMjIxMjI1NDc3XT1cIklOX1BBUlRORVJfQ09OTkVDVFwiLGVbZS5WdD0zMjIxMjI1NDc4XT1cIklOX1BBUlRORVJTSElQX1JFUVVFU1RcIixlW2UuanQ9MzIyMTIyNTQ3OV09XCJPVVRfUEFSTlRFUlNISVBfUkVRVUVTVF9QUk9DRVNTXCIsZVtlLlF0PTMyMjEyMjU0ODBdPVwiQ09OU1RSVUNUX0RJU0NPVkVSX1BFRVJfSU5GT1wiLGVbZS5LdD0zMjIxMjI1NDgxXT1cIlNFTkRfUEFSVE5fUkVTUFwiLGVbZS5ZdD0zMjIxMjI1NDgyXT1cIk5FV19JTl9QQVJUTkVSX1RPX0xJU1RcIixlW2UuV3Q9MzIyMTIyNTQ4M109XCJSRU1PVkVfRElTQ09OTkVDVEVEX1BFRVJcIixlW2UuenQ9MzIyMTIyNTQ4NF09XCJSRU1PVkVfSU5fUEFSVE5FUlwiLGVbZS5KdD0zMjIxMjI1NDg1XT1cIkNMT1NFX1JFQ0VJVkVEXCIsZVtlLlh0PTMyMjEyMjU0ODZdPVwiU0VORF9QQVJUX1JFUVVFU1RcIixlW2UuWnQ9MzIyMTIyNTQ4N109XCJQQVJUX1JFUVVFU1RfRVhQSVJFRFwiLGVbZS4kdD0zMjIxMjI1NDg4XT1cIlVOS05PV05fUEFSVE5FUlNISVBfUkVRVUVTVF9FWFBJUkVEXCIsZVtlLmVyPTMyMjEyMjU0ODldPVwiVU5LTk9XTl9PVVRfUEFSVF9SRVNQXCIsZVtlLnRyPTMyMjEyMjU0OTBdPVwiQ0xPU0VfUEFSVE5FUlNISVBcIixlW2UucnI9MzIyMTIyNTQ5MV09XCJBTk5PVU5DRV9CSVRSQVRFXCIsZVtlLmlyPTMyMjEyMjU0OTJdPVwiQ09OU1RSVUNUX0FOTk9VTkNFX0JJVFJBVEVfTVNHXCIsZVtlLm5yPTMyMjEyMjU0OTNdPVwiUkVDRUlWRV9CSVRSQVRFX0lORk9cIixlW2Uuc3I9MzIyMTIyNTQ5NF09XCJQRUVSX0lORk9fUkVDRUlWRURcIixlW2UuYXI9MzIyMTIyNTQ5NV09XCJQRUVSX0lORk9fQU5OT1VOQ0VEXCIsZVtlLmhyPTMyMjEyMjU0OTZdPVwiQ09MTEVDVF9BTExfUEFSVE5FUlNcIn0oZS5jcnx8KGUuY3I9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTM0ODk2NjA5MjhdPVwiQkFTRV9DT0RFXCIsZVtlLnVyPTM0ODk2NjA5MjldPVwiVVBEQVRFX0lOX1BBUlRORVJTXCJ9KGUubHJ8fChlLmxyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0zNzU4MDk2Mzg0XT1cIkJBU0VfQ09ERVwiLGVbZS5wcj0zNzU4MDk2Mzg1XT1cIlNFTEVDVF9QQVJUTkVSU19UT19SRU1PVkVcIixlW2UuZHI9Mzc1ODA5NjM4Nl09XCJTRUxFQ1RfUEFSVE5FUlNfVE9fQUREXCIsZVtlLmdyPTM3NTgwOTYzODddPVwiU0VMRUNUX1VQREFURV9PVVRcIn0oZS5Fcnx8KGUuRXI9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTQwMjY1MzE4NDBdPVwiQkFTRV9DT0RFXCIsZVtlLnByPTQwMjY1MzE4NDFdPVwiU0VMRUNUX1BBUlRORVJTX1RPX1JFTU9WRVwiLGVbZS5kcj00MDI2NTMxODQyXT1cIlNFTEVDVF9QQVJUTkVSU19UT19BRERcIixlW2UuZ3I9NDAyNjUzMTg0M109XCJTRUxFQ1RfVVBEQVRFX09VVFwifShlLnZyfHwoZS52cj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NDI5NDk2NzI5Nl09XCJCQVNFX0NPREVcIixlW2UudXI9NDI5NDk2NzI5N109XCJVUERBVEVfSU5fUEFSVE5FUlNcIixlW2UucHI9NDI5NDk2NzI5OF09XCJTRUxFQ1RfUEFSVE5FUlNfVE9fUkVNT1ZFXCIsZVtlLmRyPTQyOTQ5NjcyOTldPVwiU0VMRUNUX1BBUlRORVJTX1RPX0FERFwiLGVbZS5ncj00Mjk0OTY3MzAwXT1cIlNFTEVDVF9VUERBVEVfT1VUXCIsZVtlLnlyPTQyOTQ5NjczMDFdPVwiR1JPVVBfUEFSVE5FUlNcIixlW2UuVHI9NDI5NDk2NzMwMl09XCJJREVOVElGWV9NRU1CRVJfQVNfTEVBREVSX09SX1NBTUVfU0lURVwiLGVbZS5tcj00Mjk0OTY3MzAzXT1cIkFIRUFEX0JVVF9CRUhJTkRfREVMVEFcIixlW2UuSXI9NDI5NDk2NzMwNF09XCJCRUhJTkRfT1JfTk9UX1JFVFJJRVZJTkdfQklUUkFURVwiLGVbZS5Tcj00Mjk0OTY3MzA1XT1cIkdFVF9ERUxUQV9GT1JfQklUUkFURVwifShlLlJyfHwoZS5Scj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NDU2MzQwMjc1Ml09XCJCQVNFX0NPREVcIixlW2Uud3I9NDU2MzQwMjc1M109XCJVUERBVEVfT1VUX1BBUlRORVJTXCJ9KGUuYnJ8fChlLmJyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT00ODMxODM4MjA4XT1cIkJBU0VfQ09ERVwiLGVbZS5Dcj00ODMxODM4MjA5XT1cIkFERF9GUkFHTUVOVF9UT19NQVBcIixlW2UuUHI9NDgzMTgzODIxMF09XCJXUkFQX0NIVU5LXCIsZVtlLkFyPTQ4MzE4MzgyMTFdPVwiR0VORVJBVEVfSEFTSE1BUFNcIn0oZS5Pcnx8KGUuT3I9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTUxMDAyNzM2NjRdPVwiQkFTRV9DT0RFXCIsZVtlLk5yPTUxMDAyNzM2NjVdPVwiSU5JVF9BRVNfTUFOQUdFUlwiLGVbZS5Ecj01MTAwMjczNjY2XT1cIklOSVRfS0VZXCIsZVtlLmtyPTUxMDAyNzM2NjddPVwiSU5JVF9JVlwiLGVbZS5Mcj01MTAwMjczNjY4XT1cIkRFQ1JZUFRfQlVGRkVSXCIsZVtlLk1yPTUxMDAyNzM2NjldPVwiRE9XTkxPQURfS0VZX09OTE9BRFwiLGVbZS5Gcj01MTAwMjczNjcwXT1cIkRPV05MT0FEX0tFWVwifShlLlVyfHwoZS5Vcj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NTM2ODcwOTEyMF09XCJCQVNFX0NPREVcIixlW2UuQnI9NTM2ODcwOTEyMV09XCJHRVRfRU5USVRZX1RZUEVcIixlW2UuSHI9NTM2ODcwOTEyMl09XCJHRVRfRU5USVRZX0NIQVJBQ1RFUklTVElDU1wiLGVbZS54cj01MzY4NzA5MTIzXT1cIkdFVF9ORVhUX0VOVElUWVwiLGVbZS5xcj01MzY4NzA5MTI0XT1cIklTX0NVUlJFTlRfQ09OVEVYVFwiLGVbZS5Hcj01MzY4NzA5MTI1XT1cIlBBUlNFRF9NRVRBREFUQVwiLGVbZS5Wcj01MzY4NzA5MTI2XT1cIlBSRUZFVENIX01FVEFEQVRBX1JFQ0VJVkVEXCIsZVtlLmpyPTUzNjg3MDkxMjddPVwiRlJBR01FTlRfUkVDRUlWRURcIixlW2UuUXI9NTM2ODcwOTEyOF09XCJFVkFMVUFURV9QUk9URUNUSU9OXCIsZVtlLktyPTUzNjg3MDkxMjldPVwiR0VUX0RJU1RBTkNFX0RVUkFUSU9OXCJ9KGUuWXJ8fChlLllyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT01NjM3MTQ0NTc2XT1cIkJBU0VfQ09ERVwiLGVbZS5Xcj01NjM3MTQ0NTc3XT1cIlBBUlNFX01FVEFEQVRBXCIsZVtlLnpyPTU2MzcxNDQ1NzhdPVwiRVhUUkFDVF9TRUdNRU5UX01BUFNcIixlW2UuSnI9NTYzNzE0NDU3OV09XCJJTklUX1BST1RFQ1RJT05cIixlW2UuWHI9NTYzNzE0NDU4MF09XCJHRVRfU0VHTUVOVF9JTkZPXCIsZVtlLlpyPTU2MzcxNDQ1ODFdPVwiR0VUX1NFR01FTlRfRElTVEFOQ0VcIixlW2UuJHI9NTYzNzE0NDU4Ml09XCJFWFRSQUNUX0RVUkFUSU9OXCIsZVtlLmVpPTU2MzcxNDQ1ODNdPVwiRVhUUkFDVF9EVVJBVElPTl9PUl9ERUNSWVBUXCIsZVtlLnRpPTU2MzcxNDQ1ODRdPVwiRVhUUkFDVF9EVVJBVElPTl9DQU5OT1RfREVDUllQVFwiLGVbZS5yaT01NjM3MTQ0NTg1XT1cIkVYVFJBQ1RfRFVSQVRJT05fTk9OX0VOQ1JZUFRFRFwiLGVbZS5paT01NjM3MTQ0NTg2XT1cIkdFTkVSQVRFX01JU1NJTkdfU0VHTUVOVFNcIixlW2Uubmk9NTYzNzE0NDU4N109XCJSRUdFTkVSQVRFX01BTklGRVNUXCIsZVtlLnNpPTU2MzcxNDQ1ODhdPVwiVFJJTV9NQU5JRkVTVFwiLGVbZS5vaT01NjM3MTQ0NTg5XT1cIlBBUlNFX0JJVFJBVEVTX1RPX0ZJTFRFUlwiLGVbZS5haT01NjM3MTQ0NTkwXT1cIkZJTFRFUl9CSVRSQVRFU1wiLGVbZS5oaT01NjM3MTQ0NTkxXT1cIkdFVF9ESVNUQU5DRV9EVVJBVElPTl9CRVRXRUVOX1NFR01FTlRTXCIsZVtlLmNpPTU2MzcxNDQ1OTJdPVwiR0VUX1NFR01FTlRcIn0oZS51aXx8KGUudWk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTU5MDU1ODAwMzJdPVwiQkFTRV9DT0RFXCIsZVtlLnFyPTU5MDU1ODAwMzNdPVwiSVNfQ1VSUkVOVF9DT05URVhUXCIsZVtlLkJyPTU5MDU1ODAwMzRdPVwiR0VUX0VOVElUWV9UWVBFXCIsZVtlLkhyPTU5MDU1ODAwMzVdPVwiR0VUX0VOVElUWV9DSEFSQUNURVJJU1RJQ1NcIixlW2UubGk9NTkwNTU4MDAzNl09XCJNRVRBREFUQV9SRUNFSVZFRFwiLGVbZS5waT01OTA1NTgwMDM3XT1cIlNDSEVEVUxFX01FVEFEQVRBX1BSRUZFVENIXCIsZVtlLnhyPTU5MDU1ODAwMzhdPVwiR0VUX05FWFRfRU5USVRZXCIsZVtlLktyPTU5MDU1ODAwMzldPVwiR0VUX0RJU1RBTkNFX0RVUkFUSU9OXCJ9KGUuZGl8fChlLmRpPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT02MTc0MDE1NDg4XT1cIkJBU0VfQ09ERVwiLGVbZS5maT02MTc0MDE1NDg5XT1cIlBMQVlMSVNUX01JU01BVENIXCIsZVtlLmdpPTYxNzQwMTU0OTBdPVwiRkxPQVRfQklUUkFURVwiLGVbZS5Xcj02MTc0MDE1NDkxXT1cIlBBUlNFX01FVEFEQVRBXCIsZVtlLlhyPTYxNzQwMTU0OTJdPVwiR0VUX1NFR01FTlRfSU5GT1wiLGVbZS5FaT02MTc0MDE1NDkzXT1cIlVQREFURV9QTEFZTElTVFwiLGVbZS52aT02MTc0MDE1NDk0XT1cIlRSSU1fUExBWUxJU1RcIn0oZS55aXx8KGUueWk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTY0NDI0NTA5NDRdPVwiQkFTRV9DT0RFXCIsZVtlLlRpPTY0NDI0NTA5NDVdPVwiR0VUX1AyUF9USU1FT1VUXCIsZVtlLm1pPTY0NDI0NTA5NDZdPVwiREVMSVZFUl9ERUxBWVwifShlLklpfHwoZS5JaT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NjcxMDg4NjQwMF09XCJCQVNFX0NPREVcIixlW2UuU2k9NjcxMDg4NjQwMV09XCJJU19QTEFZRVJfQlVGRkVSSU5HX0JBU0VcIixlW2UuUmk9NjcxMDg4NjQwMl09XCJDT05GSUdVUkVfUkVRVUVTVF9ESVJFQ1RJVkVcIixlW2Uud2k9NjcxMDg4NjQwM109XCJBVFRFTVBUX1RPX1VQR1JBREVfUFJFRkVUQ0hcIn0oZS5iaXx8KGUuYmk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTY5NzkzMjE4NTZdPVwiQkFTRV9DT0RFXCIsZVtlLkNpPTY5NzkzMjE4NTddPVwiUFJFUEFSRV9SRVFVRVNUXCIsZVtlLl9pPTY5NzkzMjE4NThdPVwiR0VUX0NPTk5FQ1RJVklUWV9JTkZPXCIsZVtlLlBpPTY5NzkzMjE4NTldPVwiQ09MTEVDVF9UUkFDS0VSX1JFUVVFU1RfSU5GT1wiLGVbZS5BaT02OTc5MzIxODYwXT1cIlBSRVBBUkVfUVVFUllcIixlW2UuT2k9Njk3OTMyMTg2MV09XCJQUkVQQVJFX0JJVFJBVEVfUVVFUllcIixlW2UuTmk9Njk3OTMyMTg2Ml09XCJQUkVQQVJFX1RSQUNLRVJfSU5GT1wiLGVbZS5EaT02OTc5MzIxODYzXT1cIlNFTkRfUkVRVUVTVFwiLGVbZS5raT02OTc5MzIxODY0XT1cIkhBTkRMRV9SRVNQT05TRVwifShlLkxpfHwoZS5MaT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NzI0Nzc1NzMxMl09XCJCQVNFX0NPREVcIixlW2UuTWk9NzI0Nzc1NzMxM109XCJORVdfVFJBQ0tFUl9DTElFTlRcIixlW2UuRmk9NzI0Nzc1NzMxNF09XCJTRVJJQUxJWkVfUkVRVUVTVFwiLGVbZS5VaT03MjQ3NzU3MzE1XT1cIkRFU0VSSUFMSVpFX1JFU1BPTlNFXCIsZVtlLkJpPTcyNDc3NTczMTZdPVwiU0VSVklDRV9DT05ORUNUSU9OX0RPV05cIixlW2UuRGk9NzI0Nzc1NzMxN109XCJTRU5EX1JFUVVFU1RcIixlW2UuSGk9NzI0Nzc1NzMxOF09XCJUUkFDS0VSX01BTkFHRVJfSU5JVFwifShlLnhpfHwoZS54aT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NzUxNjE5Mjc2OF09XCJCQVNFX0NPREVcIixlW2UucWk9NzUxNjE5Mjc2OV09XCJTT1JUX1BBUlRORVJTXCJ9KGUuR2l8fChlLkdpPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT03Nzg0NjI4MjI0XT1cIkJBU0VfQ09ERVwiLGVbZS5WaT03Nzg0NjI4MjI1XT1cIkNIT09TRV9QQVJUTkVSXCJ9KGUuaml8fChlLmppPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT04MDUzMDYzNjgwXT1cIkJBU0VfQ09ERVwiLGVbZS5RaT04MDUzMDYzNjgxXT1cIkNPTlNUUlVDVF9GUkFHTUVOVF9SRVFVRVNUX01FU1NBR0VcIixlW2UuS2k9ODA1MzA2MzY4Ml09XCJTRU5EX0ZSQUdNRU5UX1JFUVVFU1RcIixlW2UuWWk9ODA1MzA2MzY4M109XCJSRUNFSVZFX0NIVU5LXCIsZVtlLldpPTgwNTMwNjM2ODRdPVwiU0VORF9BQ0tcIixlW2Uuemk9ODA1MzA2MzY4NV09XCJDTEVBTl9VUF9OT1RfUEVORElOR1wiLGVbZS5KaT04MDUzMDYzNjg2XT1cIlNUT1BfVFJBTlNGRVJcIixlW2UuWGk9ODA1MzA2MzY4N109XCJSRUNFSVZFX0VYUElSRURfQ0hVTktcIn0oZS5aaXx8KGUuWmk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTgzMjE0OTkxMzZdPVwiQkFTRV9DT0RFXCIsZVtlLiRpPTgzMjE0OTkxMzddPVwiQ09OU1RSVUNUX0NIVU5LX1JFU1BPTlNFXCIsZVtlLmVuPTgzMjE0OTkxMzhdPVwiU1RBUlRfU0VORElOR19DSFVOS1wiLGVbZS50bj04MzIxNDk5MTM5XT1cIlNFTkRfQ0hVTktcIixlW2Uucm49ODMyMTQ5OTE0MF09XCJVTktOT1dOX0FDS1wifShlLmlufHwoZS5pbj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9ODU4OTkzNDU5Ml09XCJCQVNFX0NPREVcIixlW2Uubm49ODU4OTkzNDU5M109XCJOT19QQVJUTkVSX0ZPVU5EXCIsZVtlLnNuPTg1ODk5MzQ1OTRdPVwiRklMVEVSX0lOX1BBUlRORVJTXCIsZVtlLmFuPTg1ODk5MzQ1OTVdPVwiU0VUX1JFUVVFU1RfVElNRU9VVFwiLGVbZS5obj04NTg5OTM0NTk2XT1cIlJFTU9WRV9SRVFVRVNUXCIsZVtlLmNuPTg1ODk5MzQ1OTddPVwiQ0FOQ0VMX09OX05PTl9FWElTVElOR19TRVNTSU9OXCIsZVtlLnVuPTg1ODk5MzQ1OThdPVwiRE9fTk9UX0hBVkVcIixlW2UucG49ODU4OTkzNDU5OV09XCJSRVFVRVNURURfVE9fTk9OX1BBUlRORVJcIn0oZS5kbnx8KGUuZG49e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTg4NTgzNzAwNDhdPVwiQkFTRV9DT0RFXCIsZVtlLmZuPTg4NTgzNzAwNDldPVwiUkVTUE9ORF9UT19QRUVSXCIsZVtlLmduPTg4NTgzNzAwNTBdPVwiUkVRVUVTVF9TQVRJU0ZJRURcIixlW2UuRW49ODg1ODM3MDA1MV09XCJSRVFVRVNUX1BBUlRJQUxMWV9TQVRJU0ZJRURcIixlW2Uudm49ODg1ODM3MDA1Ml09XCJSRVFVRVNUX05PVF9TQVRJU0ZJRURcIixlW2UueW49ODg1ODM3MDA1M109XCJTRU5EX0RPX05PVF9IQVZFXCIsZVtlLlRuPTg4NTgzNzAwNTRdPVwiU0VORF9OT19QQVJUTkVSU1wifShlLm1ufHwoZS5tbj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9OTEyNjgwNTUwNF09XCJCQVNFX0NPREVcIixlW2UuSW49OTEyNjgwNTUwNV09XCJWSU9MQVRFX1NQT09GSU5HX0hBTkRMRVJcIixlW2UuU249OTEyNjgwNTUwNl09XCJWSU9MQVRFX1NQT09GSU5HX1JVTEVTXCIsZVtlLlJuPTkxMjY4MDU1MDddPVwiQUREX09SX1VQREFURV9TUE9PRklOR19NQVBTXCIsZVtlLnduPTkxMjY4MDU1MDhdPVwiUEVSSU9ESUNfQ0hFQ0tfSVBfU1BPT0ZJTkdcIn0oZS5ibnx8KGUuYm49e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTkzOTUyNDA5NjBdPVwiQkFTRV9DT0RFXCIsZVtlLkNuPTkzOTUyNDA5NjFdPVwiUkVRVUVTVF9DT01QTEVURURcIixlW2UuX249OTM5NTI0MDk2Ml09XCJSRVFVRVNUX05PVF9FWElTVElOR19DT01QTEVURURcIixlW2UuUG49OTM5NTI0MDk2M109XCJSRVFVRVNUX1BBUlRJQUxMWV9GQUlMRURcIixlW2UuQW49OTM5NTI0MDk2NF09XCJSRVFVRVNUX05PVF9FWElTVElOR19QQVJUSUFMTFlfRkFJTEVEXCIsZVtlLk9uPTkzOTUyNDA5NjVdPVwiUkVRVUVTVF9GQUlMRURcIixlW2UuTm49OTM5NTI0MDk2Nl09XCJSRVFVRVNUX05PVF9FWElTVElOR19GQUlMRURcIn0oZS5Ebnx8KGUuRG49e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTk2NjM2NzY0MTZdPVwiQkFTRV9DT0RFXCIsZVtlLmtuPTk2NjM2NzY0MTddPVwiVVBEQVRFX1dBTlRFRF9TRVNTSU9OU1wiLGVbZS5Mbj05NjYzNjc2NDE4XT1cIkNPTkZJR1VSRV9QUkVGRVRDSElOR1wiLGVbZS5Nbj05NjYzNjc2NDE5XT1cIlNUQVJUX1BSRUZFVENISU5HXCIsZVtlLkZuPTk2NjM2NzY0MjBdPVwiRlJBR01FTlRfUkVUUklFVkVEX1NFU1NJT05fTk9UX0VYSVNUSU5HXCIsZVtlLlVuPTk2NjM2NzY0MjFdPVwiQVRURU1QVF9QUkVGRVRDSF9CRUZPUkVfUExBWUVSX1JFUVVFU1RcIixlW2UuQm49OTY2MzY3NjQyMl09XCJGT1JXQVJEX0lGX05FQ0VTU0FSWVwiLGVbZS5Ibj05NjYzNjc2NDIzXT1cIklTX0FMTE9XRURfVE9fUFJFRkVUQ0hcIixlW2UueG49OTY2MzY3NjQyNF09XCJQUkVGRVRDSF9QUk9DRVNTXCIsZVtlLnFuPTk2NjM2NzY0MjVdPVwiQ0hFQ0tfUExBWUVSX0RJU1RBTkNFXCIsZVtlLkduPTk2NjM2NzY0MjZdPVwiT0ZGTE9BRF9MRUFERVJcIixlW2UuVm49OTY2MzY3NjQyN109XCJVUEdSQURFX1BSRUZFVENIXCJ9KGUuam58fChlLmpuPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT05OTMyMTExODcyXT1cIkJBU0VfQ09ERVwiLGVbZS5Rbj05OTMyMTExODczXT1cIlJFUVVFU1RfVElNRU9VVFwifShlLktufHwoZS5Lbj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MTAyMDA1NDczMjhdPVwiQkFTRV9DT0RFXCIsZVtlLlluPTEwMjAwNTQ3MzI5XT1cIlBMQVlFUl9SRVFVRVNUX0VSUk9SXCJ9KGUuV258fChlLlduPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xMDQ2ODk4Mjc4NF09XCJCQVNFX0NPREVcIixlW2Uuem49MTA0Njg5ODI3ODVdPVwiQUREX0hBVkVcIixlW2UuSm49MTA0Njg5ODI3ODZdPVwiUkVNT1ZFX1BFRVJcIn0oZS5Ybnx8KGUuWG49e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTEwNzM3NDE4MjQwXT1cIkJBU0VfQ09ERVwiLGVbZS5abj0xMDczNzQxODI0MV09XCJDT05TVFJVQ1RfU1dBUk1cIixlW2UuJG49MTA3Mzc0MTgyNDJdPVwiSU5JVF9TV0FSTVwiLGVbZS5lcz0xMDczNzQxODI0M109XCJTV0lUQ0hfU1RBVEVcIixlW2UuUW49MTA3Mzc0MTgyNDRdPVwiUkVRVUVTVF9USU1FT1VUXCJ9KGUucnN8fChlLnJzPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xMTAwNTg1MzY5Nl09XCJCQVNFX0NPREVcIixlW2UubnM9MTEwMDU4NTM2OTddPVwiU0VSSUFMSVpFX01FU1NBR0VcIixlW2Uuc3M9MTEwMDU4NTM2OThdPVwiRVhUUkFDVF9NRVNTQUdFXCJ9KGUuYXN8fChlLmFzPXt9KSl9KHQuaHN8fCh0LmhzPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixzKTt0PXR8fE9iamVjdC5jcyxyPXJ8fE9iamVjdC5oYXNoLHM9c3x8RnVuY3Rpb24udXMsdGhpcy5scz10LHRoaXMucHM9cix0aGlzLmRzPXMsdGhpcy5mcz1uZXcgbih2b2lkIDAsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLmtleSxyLmtleSl9LGZ1bmN0aW9uKGUpe3JldHVybiByKGUua2V5KX0pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDExKSxyKDY4KSkscz1yKDEyKSxvPXIoNTIpLGE9cigxMyk7ZS5pPWksaS5NYXA9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxzLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJzaXplXCIscy5ncyksaS5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5scyx0aGlzLnBzLHRoaXMuZHMpfSxpLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSx0LHIsaSl7dD10fHx0aGlzLnZzLHRoaXMuZnMubG9nKGUsZnVuY3Rpb24oZSxyLGkpe3QoZS52YWx1ZS52YWx1ZSxyLGkpfSxyLGkpfSxpLnByb3RvdHlwZS52cz1mdW5jdGlvbihlLHQpe3QoXCIga2V5OiBcIitlLmtleSksdChcIiB2YWx1ZTogXCIrZS52YWx1ZSl9fSxmdW5jdGlvbihlLHQscil7LyohXG4gKlxuICogQ29weXJpZ2h0IDIwMDktMjAxNiBLcmlzIEtvd2FsIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUXG4gKiBsaWNlbnNlIGZvdW5kIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL3YxL0xJQ0VOU0VcbiAqXG4gKiBXaXRoIHBhcnRzIGJ5IFR5bGVyIENsb3NlXG4gKiBDb3B5cmlnaHQgMjAwNy0yMDA5IFR5bGVyIENsb3NlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIFggbGljZW5zZSBmb3VuZFxuICogYXQgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sXG4gKiBGb3JrZWQgYXQgcmVmX3NlbmQuanMgdmVyc2lvbjogMjAwOS0wNS0xMVxuICpcbiAqIFdpdGggcGFydHMgYnkgTWFyayBNaWxsZXJcbiAqIENvcHlyaWdodCAoQykgMjAxMSBHb29nbGUgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGJvb3RzdHJhcClib290c3RyYXAoXCJwcm9taXNlXCIsdCk7ZWxzZXtlLmk9dCgpfX0oZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBLLmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT09PU9iamVjdChlKX1mdW5jdGlvbiByKGUpe3JldHVyblwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiPT09ZWUoZSl8fGUgaW5zdGFuY2VvZiBHfWZ1bmN0aW9uIGkoZSx0KXtpZih4JiZ0LnN0YWNrJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuc3RhY2smJi0xPT09ZS5zdGFjay5pbmRleE9mKHRlKSl7Zm9yKHZhciByPVtdLGk9dDtpO2k9aS5zb3VyY2UpaS5zdGFjayYmci51bnNoaWZ0KGkuc3RhY2spO3IudW5zaGlmdChlLnN0YWNrKTt2YXIgcz1yLmpvaW4oXCJcXG5cIit0ZStcIlxcblwiKTtlLnN0YWNrPW4ocyl9fWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PWUuc3BsaXQoXCJcXG5cIikscj1bXSxpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBuPXRbaV07YShuKXx8cyhuKXx8IW58fHIucHVzaChuKX1yZXR1cm4gci5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKXx8LTEhPT1lLmluZGV4T2YoXCIobm9kZS5qczpcIil9ZnVuY3Rpb24gbyhlKXt2YXIgdD0vYXQgLisgXFwoKC4rKTooXFxkKyk6KD86XFxkKylcXCkkLy5leGVjKGUpO2lmKHQpcmV0dXJuW3RbMV0sTnVtYmVyKHRbMl0pXTt2YXIgcj0vYXQgKFteIF0rKTooXFxkKyk6KD86XFxkKykkLy5leGVjKGUpO2lmKHIpcmV0dXJuW3JbMV0sTnVtYmVyKHJbMl0pXTt2YXIgaT0vLipAKC4rKTooXFxkKykkLy5leGVjKGUpO3JldHVybiBpP1tpWzFdLE51bWJlcihpWzJdKV06dm9pZCAwfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9byhlKTtpZighdClyZXR1cm4hMTt2YXIgcj10WzBdLGk9dFsxXTtyZXR1cm4gcj09PXEmJmk+PVYmJmk8PW9lfWZ1bmN0aW9uIGgoKXtpZih4KXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goaSl7dmFyIGU9aS5zdGFjay5zcGxpdChcIlxcblwiKSx0PWVbMF0uaW5kZXhPZihcIkBcIik+MD9lWzFdOmVbMl0scj1vKHQpO2lmKCFyKXJldHVybjtyZXR1cm4gcT1yWzBdLHJbMV19fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBkP2U6dihlKT9DKGUpOmIoZSl9ZnVuY3Rpb24gdSgpe2Z1bmN0aW9uIGUoZSl7dD1lLGMueXMmJngmJihzLnNvdXJjZT1lKSxXKHIsZnVuY3Rpb24odCxyKXtjLlRzKGZ1bmN0aW9uKCl7ZS5tcy5hcHBseShlLHIpfSl9LHZvaWQgMCkscj12b2lkIDAsaT12b2lkIDB9dmFyIHQscj1bXSxpPVtdLG49WCh1LnByb3RvdHlwZSkscz1YKGQucHJvdG90eXBlKTtpZihzLm1zPWZ1bmN0aW9uKGUsbixzKXt2YXIgbz1ZKGFyZ3VtZW50cyk7cj8oci5wdXNoKG8pLFwid2hlblwiPT09biYmc1sxXSYmaS5wdXNoKHNbMV0pKTpjLlRzKGZ1bmN0aW9uKCl7dC5tcy5hcHBseSh0LG8pfSl9LHMudmFsdWVPZj1mdW5jdGlvbigpe2lmKHIpcmV0dXJuIHM7dmFyIGU9Zyh0KTtyZXR1cm4gRShlKSYmKHQ9ZSksZX0scy5Jcz1mdW5jdGlvbigpe3JldHVybiB0P3QuSXMoKTp7c3RhdGU6XCJwZW5kaW5nXCJ9fSxjLnlzJiZ4KXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZSl7cy5zdGFjaz1lLnN0YWNrLnN1YnN0cmluZyhlLnN0YWNrLmluZGV4T2YoXCJcXG5cIikrMSl9cmV0dXJuIG4uU3M9cyxuLnJlc29sdmU9ZnVuY3Rpb24ocil7dHx8ZShjKHIpKX0sbi5Scz1mdW5jdGlvbihyKXt0fHxlKGIocikpfSxuLnJlamVjdD1mdW5jdGlvbihyKXt0fHxlKHcocikpfSxuLm5vdGlmeT1mdW5jdGlvbihlKXt0fHxXKGksZnVuY3Rpb24odCxyKXtjLlRzKGZ1bmN0aW9uKCl7cihlKX0pfSx2b2lkIDApfSxufWZ1bmN0aW9uIGwoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgdD11KCk7dHJ5e2UodC5yZXNvbHZlLHQucmVqZWN0LHQubm90aWZ5KX1jYXRjaChlKXt0LnJlamVjdChlKX1yZXR1cm4gdC5Tc31mdW5jdGlvbiBwKGUpe3JldHVybiBsKGZ1bmN0aW9uKHQscil7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aDtpPG47aSsrKWMoZVtpXSkudGhlbih0LHIpfSl9ZnVuY3Rpb24gZChlLHQscil7dm9pZCAwPT09dCYmKHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcobmV3IEVycm9yKFwiUHJvbWlzZSBkb2VzIG5vdCBzdXBwb3J0IG9wZXJhdGlvbjogXCIrZSkpfSksdm9pZCAwPT09ciYmKHI9ZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJ1bmtub3duXCJ9fSk7dmFyIGk9WChkLnByb3RvdHlwZSk7aWYoaS5tcz1mdW5jdGlvbihyLG4scyl7dmFyIG87dHJ5e289ZVtuXT9lW25dLmFwcGx5KGkscyk6dC5jYWxsKGksbixzKX1jYXRjaChlKXtvPXcoZSl9ciYmcihvKX0saS5Jcz1yLHIpe3ZhciBuPXIoKTtcInJlamVjdGVkXCI9PT1uLnN0YXRlJiYoaS5leGNlcHRpb249bi5yZWFzb24pLGkudmFsdWVPZj1mdW5jdGlvbigpe3ZhciBlPXIoKTtyZXR1cm5cInBlbmRpbmdcIj09PWUuc3RhdGV8fFwicmVqZWN0ZWRcIj09PWUuc3RhdGU/aTplLnZhbHVlfX1yZXR1cm4gaX1mdW5jdGlvbiBmKGUsdCxyLGkpe3JldHVybiBjKGUpLnRoZW4odCxyLGkpfWZ1bmN0aW9uIGcoZSl7aWYoRShlKSl7dmFyIHQ9ZS5JcygpO2lmKFwiZnVsZmlsbGVkXCI9PT10LnN0YXRlKXJldHVybiB0LnZhbHVlfXJldHVybiBlfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBkfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIHQoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbn1mdW5jdGlvbiB5KGUpe3JldHVybiBFKGUpJiZcInBlbmRpbmdcIj09PWUuSXMoKS5zdGF0ZX1mdW5jdGlvbiBUKGUpe3JldHVybiFFKGUpfHxcImZ1bGZpbGxlZFwiPT09ZS5JcygpLnN0YXRlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIEUoZSkmJlwicmVqZWN0ZWRcIj09PWUuSXMoKS5zdGF0ZX1mdW5jdGlvbiBJKCl7cmUubGVuZ3RoPTAsaWUubGVuZ3RoPTAsc2V8fChzZT0hMCl9ZnVuY3Rpb24gUyhlLHQpe3NlJiYoXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3Mud3MmJmMuVHMuYnMoZnVuY3Rpb24oKXstMSE9PXooaWUsZSkmJihwcm9jZXNzLndzKFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsdCxlKSxuZS5wdXNoKGUpKX0pLGllLnB1c2goZSksdCYmdm9pZCAwIT09dC5zdGFjaz9yZS5wdXNoKHQuc3RhY2spOnJlLnB1c2goXCIobm8gc3RhY2spIFwiK3QpKX1mdW5jdGlvbiBSKGUpe2lmKHNlKXt2YXIgdD16KGllLGUpOy0xIT09dCYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLndzJiZjLlRzLmJzKGZ1bmN0aW9uKCl7dmFyIHI9eihuZSxlKTstMSE9PXImJihwcm9jZXNzLndzKFwicmVqZWN0aW9uSGFuZGxlZFwiLHJlW3RdLGUpLG5lLnNwbGljZShyLDEpKX0pLGllLnNwbGljZSh0LDEpLHJlLnNwbGljZSh0LDEpKX19ZnVuY3Rpb24gdyhlKXt2YXIgdD1kKHt3aGVuOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZSKHRoaXMpLHQ/dChlKTp0aGlzfX0sZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJyZWplY3RlZFwiLHJlYXNvbjplfX0pO3JldHVybiBTKHQsZSksdH1mdW5jdGlvbiBiKGUpe3JldHVybiBkKHt3aGVuOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0sc2V0OmZ1bmN0aW9uKHQscil7ZVt0XT1yfSxkZWxldGU6ZnVuY3Rpb24odCl7ZGVsZXRlIGVbdF19LENzOmZ1bmN0aW9uKHQscil7cmV0dXJuIG51bGw9PT10fHx2b2lkIDA9PT10P2UuYXBwbHkodm9pZCAwLHIpOmVbdF0uYXBwbHkoZSxyKX0sYXBwbHk6ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5hcHBseSh0LHIpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuICQoZSl9fSx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJmdWxmaWxsZWRcIix2YWx1ZTplfX0pfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9dSgpO3JldHVybiBjLlRzKGZ1bmN0aW9uKCl7dHJ5e2UudGhlbih0LnJlc29sdmUsdC5yZWplY3QsdC5ub3RpZnkpfWNhdGNoKGUpe3QucmVqZWN0KGUpfX0pLHQuU3N9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZCh7X3M6ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbih0LHIpe3JldHVybiBrKGUsdCxyKX0sZnVuY3Rpb24oKXtyZXR1cm4gYyhlKS5JcygpfSl9ZnVuY3Rpb24gUChlLHQscil7cmV0dXJuIGMoZSkuUHModCxyKX1mdW5jdGlvbiBBKGUpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgbztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3RvcEl0ZXJhdGlvbil7dHJ5e289aVtlXSh0KX1jYXRjaChlKXtyZXR1cm4gdyhlKX1yZXR1cm4gby5kb25lP2Moby52YWx1ZSk6ZihvLnZhbHVlLG4scyl9dHJ5e289aVtlXSh0KX1jYXRjaChlKXtyZXR1cm4gcihlKT9jKGUudmFsdWUpOncoZSl9cmV0dXJuIGYobyxuLHMpfXZhciBpPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLG49dC5iaW5kKHQsXCJuZXh0XCIpLHM9dC5iaW5kKHQsXCJ0aHJvd1wiKTtyZXR1cm4gbigpfX1mdW5jdGlvbiBPKGUpe2MuZG9uZShjLmFzeW5jKGUpKCkpfWZ1bmN0aW9uIE4oZSl7dGhyb3cgbmV3IEcoZSl9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gUChbdGhpcyxMKGFyZ3VtZW50cyldLGZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodCxyKX0pfX1mdW5jdGlvbiBrKGUsdCxyKXtyZXR1cm4gYyhlKS5Bcyh0LHIpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIGYoZSxmdW5jdGlvbihlKXt2YXIgdD0wLHI9dSgpO3JldHVybiBXKGUsZnVuY3Rpb24oaSxuLHMpe3ZhciBvO0UobikmJlwiZnVsZmlsbGVkXCI9PT0obz1uLklzKCkpLnN0YXRlP2Vbc109by52YWx1ZTooKyt0LGYobixmdW5jdGlvbihpKXtlW3NdPWksMD09LS10JiZyLnJlc29sdmUoZSl9LHIucmVqZWN0LGZ1bmN0aW9uKGUpe3Iubm90aWZ5KHtpbmRleDpzLHZhbHVlOmV9KX0pKX0sdm9pZCAwKSwwPT09dCYmci5yZXNvbHZlKGUpLHIuU3N9KX1mdW5jdGlvbiBNKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYy5yZXNvbHZlKCk7dmFyIHQ9Yy5kZWZlcigpLHI9MDtyZXR1cm4gVyhlLGZ1bmN0aW9uKGksbixzKXtmdW5jdGlvbiBvKGUpe3QucmVzb2x2ZShlKX1mdW5jdGlvbiBhKGUpezA9PT0tLXImJihlLm1lc3NhZ2U9XCJRIGNhbid0IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBmcm9tIGFueSBwcm9taXNlLCBhbGwgcHJvbWlzZXMgd2VyZSByZWplY3RlZC4gTGFzdCBlcnJvciBtZXNzYWdlOiBcIitlLm1lc3NhZ2UsdC5yZWplY3QoZSkpfWZ1bmN0aW9uIGgoZSl7dC5ub3RpZnkoe2luZGV4OnMsdmFsdWU6ZX0pfXZhciBjPWVbc107cisrLGYoYyxvLGEsaCl9LHZvaWQgMCksdC5Tc31mdW5jdGlvbiBGKGUpe3JldHVybiBmKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9SihlLGMpLGYoTChKKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGYoZSxqLGopfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0pfWZ1bmN0aW9uIFUoZSl7cmV0dXJuIGMoZSkuT3MoKX1mdW5jdGlvbiBCKGUsdCl7cmV0dXJuIGMoZSkudGhlbih2b2lkIDAsdm9pZCAwLHQpfWZ1bmN0aW9uIEgoZSx0KXtyZXR1cm4gYyhlKS5Ocyh0KX12YXIgeD0hMTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3g9ISFlLnN0YWNrfXZhciBxLEcsVj1oKCksaj1mdW5jdGlvbigpe30sUT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGUsaTtyLm5leHQ7KXI9ci5uZXh0LGU9ci5EcyxyLkRzPXZvaWQgMCxpPXIuZG9tYWluLGkmJihyLmRvbWFpbj12b2lkIDAsaS5rcygpKSx0KGUsaSk7Zm9yKDtoLmxlbmd0aDspZT1oLnBvcCgpLHQoZSk7bj0hMX1mdW5jdGlvbiB0KHQscil7dHJ5e3QoKX1jYXRjaCh0KXtpZihvKXRocm93IHImJnIuTHMoKSxzZXRUaW1lb3V0KGUsMCksciYmci5rcygpLHQ7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfXImJnIuTHMoKX12YXIgcj17RHM6dm9pZCAwLG5leHQ6bnVsbH0saT1yLG49ITEscz12b2lkIDAsbz0hMSxhPSExO3RyeXthPW5hdmlnYXRvciYmKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZXx8bnVsbCE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goLyh0cmlkZW50KS4rcnZbOlxcc10oW1xcd1xcLl0rKS4rbGlrZVxcc2dlY2tvL2kpKX1jYXRjaChlKXt9dmFyIGg9W107aWYoUT1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgRnJhbWV3b3JrJiZGcmFtZXdvcmsuQygpP0ZyYW1ld29yay5zZXRUaW1lb3V0KGUsMCk6KGk9aS5uZXh0PXtEczplLGRvbWFpbjpvJiZwcm9jZXNzLmRvbWFpbixuZXh0Om51bGx9LG58fChuPSEwLHMoKSkpfSxcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1wcm9jZXNzLnRvU3RyaW5nKCkmJnByb2Nlc3MuVHMpbz0hMCxzPWZ1bmN0aW9uKCl7cHJvY2Vzcy5UcyhlKX07ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzZXRJbW1lZGlhdGV8fGEpaWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIE1lc3NhZ2VDaGFubmVsfHxhKXM9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGUsMCl9O2Vsc2V7dmFyIGM9bmV3IE1lc3NhZ2VDaGFubmVsO2MucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7cz11LGMucG9ydDEub25tZXNzYWdlPWUsZSgpfTt2YXIgdT1mdW5jdGlvbigpe2MucG9ydDIucG9zdE1lc3NhZ2UoMCl9O3M9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGUsMCksdSgpfX1lbHNlIHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9zZXRJbW1lZGlhdGUuYmluZCh3aW5kb3csZSk6ZnVuY3Rpb24oKXtzZXRJbW1lZGlhdGUoZSl9O3JldHVybiBRLmJzPWZ1bmN0aW9uKGUpe2gucHVzaChlKSxufHwobj0hMCxzKCkpfSxRfSgpLEs9RnVuY3Rpb24uY2FsbCxZPWUoQXJyYXkucHJvdG90eXBlLnNsaWNlKSxXPWUoQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj0wLGk9dGhpcy5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDs7KXtpZihyIGluIHRoaXMpe3Q9dGhpc1tyKytdO2JyZWFrfWlmKCsrcj49aSl0aHJvdyBuZXcgVHlwZUVycm9yfWZvcig7cjxpO3IrKylyIGluIHRoaXMmJih0PWUodCx0aGlzW3JdLHIpKTtyZXR1cm4gdH0pLHo9ZShBcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0KyspaWYodGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9KSxKPWUoQXJyYXkucHJvdG90eXBlLm1hcHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9W107cmV0dXJuIFcocixmdW5jdGlvbihuLHMsbyl7aS5wdXNoKGUuY2FsbCh0LHMsbyxyKSl9LHZvaWQgMCksaX0pLFg9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGU9ZSxuZXcgdH0sWj1lKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpLCQ9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKVooZSxyKSYmdC5wdXNoKHIpO3JldHVybiB0fSxlZT1lKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO0c9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJldHVyblZhbHVlP1JldHVyblZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZX07dmFyIHRlPVwiRnJvbSBwcmV2aW91cyBldmVudDpcIjtjLnJlc29sdmU9YyxjLlRzPVEsYy55cz0hMSxcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmcHJvY2Vzcy5NcyYmcHJvY2Vzcy5Ncy5GcyYmKGMueXM9ITApLGMuZGVmZXI9dSx1LnByb3RvdHlwZS5Vcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7dD9lLnJlamVjdCh0KTphcmd1bWVudHMubGVuZ3RoPjI/ZS5yZXNvbHZlKFkoYXJndW1lbnRzLDEpKTplLnJlc29sdmUocil9fSxjLlByb21pc2U9bCxjLlNzPWwsbC5yYWNlPXAsbC5hbGw9TCxsLnJlamVjdD13LGwucmVzb2x2ZT1jLGMuQnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGQucHJvdG90eXBlLkJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGMuam9pbj1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLmpvaW4odCl9LGQucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24oZSl7cmV0dXJuIGMoW3RoaXMsZV0pLlBzKGZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBqb2luOiBub3QgdGhlIHNhbWU6IFwiK2UrXCIgXCIrdCl9KX0sYy5yYWNlPXAsZC5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRoZW4oYy5yYWNlKX0sYy5Icz1kLGQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCJ9LGQucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4odCl7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTp0fWNhdGNoKGUpe3JldHVybiB3KGUpfX1mdW5jdGlvbiBzKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe2koZSxhKTt0cnl7cmV0dXJuIHQoZSl9Y2F0Y2goZSl7cmV0dXJuIHcoZSl9fXJldHVybiB3KGUpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yKGUpOmV9dmFyIGE9dGhpcyxoPXUoKSxsPSExO3JldHVybiBjLlRzKGZ1bmN0aW9uKCl7YS5tcyhmdW5jdGlvbihlKXtsfHwobD0hMCxoLnJlc29sdmUobihlKSkpfSxcIndoZW5cIixbZnVuY3Rpb24oZSl7bHx8KGw9ITAsaC5yZXNvbHZlKHMoZSkpKX1dKX0pLGEubXModm9pZCAwLFwid2hlblwiLFt2b2lkIDAsZnVuY3Rpb24oZSl7dmFyIHQscj0hMTt0cnl7dD1vKGUpfWNhdGNoKGUpe2lmKHI9ITAsIWMub25lcnJvcil0aHJvdyBlO2Mub25lcnJvcihlKX1yfHxoLm5vdGlmeSh0KX1dKSxoLlNzfSxjLnhzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkueHModCl9LGQucHJvdG90eXBlLnhzPWZ1bmN0aW9uKGUpe3JldHVybiBlPWMoZSksdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLkdzKHQpLnFzKHQpfSl9LGMud2hlbj1mLGQucHJvdG90eXBlLnFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSxjLnFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkucXModCl9LGQucHJvdG90eXBlLlZzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBlfSl9LGMuVnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5Wcyh0KX0sYy5qcz1nLGMuUXM9RSxjLktzPXYsYy5Zcz15LGQucHJvdG90eXBlLllzPWZ1bmN0aW9uKCl7cmV0dXJuXCJwZW5kaW5nXCI9PT10aGlzLklzKCkuc3RhdGV9LGMuV3M9VCxkLnByb3RvdHlwZS5Xcz1mdW5jdGlvbigpe3JldHVyblwiZnVsZmlsbGVkXCI9PT10aGlzLklzKCkuc3RhdGV9LGMuenM9bSxkLnByb3RvdHlwZS56cz1mdW5jdGlvbigpe3JldHVyblwicmVqZWN0ZWRcIj09PXRoaXMuSXMoKS5zdGF0ZX07dmFyIHJlPVtdLGllPVtdLG5lPVtdLHNlPSEwO2MuSnM9SSxjLlhzPWZ1bmN0aW9uKCl7cmV0dXJuIHJlLnNsaWNlKCl9LGMuWnM9ZnVuY3Rpb24oKXtJKCksc2U9ITF9LEkoKSxjLnJlamVjdD13LGMuUnM9YixjLiRzPV8sYy5Qcz1QLGQucHJvdG90eXBlLlBzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWxsKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh2b2lkIDAsdCl9LHQpfSxjLmFzeW5jPUEsYy5lbz1PLGMudG89TixjLnJvPUQsYy5Bcz1rLGQucHJvdG90eXBlLkFzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXUoKTtyZXR1cm4gYy5UcyhmdW5jdGlvbigpe3IubXMoaS5yZXNvbHZlLGUsdCl9KSxpLlNzfSxjLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLkFzKFwiZ2V0XCIsW3RdKX0sZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkFzKFwiZ2V0XCIsW2VdKX0sYy5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKGUpLkFzKFwic2V0XCIsW3Qscl0pfSxkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5BcyhcInNldFwiLFtlLHRdKX0sYy5pbz1jLmRlbGV0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLkFzKFwiZGVsZXRlXCIsW3RdKX0sZC5wcm90b3R5cGUuaW89ZC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkFzKFwiZGVsZXRlXCIsW2VdKX0sYy5ubz1jLkNzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYyhlKS5BcyhcInBvc3RcIixbdCxyXSl9LGQucHJvdG90eXBlLm5vPWQucHJvdG90eXBlLkNzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuQXMoXCJwb3N0XCIsW2UsdF0pfSxjLnNlbmQ9Yy5zbz1jLm9vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuQXMoXCJwb3N0XCIsW3QsWShhcmd1bWVudHMsMildKX0sZC5wcm90b3R5cGUuc2VuZD1kLnByb3RvdHlwZS5zbz1kLnByb3RvdHlwZS5vbz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5BcyhcInBvc3RcIixbZSxZKGFyZ3VtZW50cywxKV0pfSxjLmFvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuQXMoXCJhcHBseVwiLFt2b2lkIDAsdF0pfSxkLnByb3RvdHlwZS5hbz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5BcyhcImFwcGx5XCIsW3ZvaWQgMCxlXSl9LGMuaG89Yy5Hcz1mdW5jdGlvbihlKXtyZXR1cm4gYyhlKS5BcyhcImFwcGx5XCIsW3ZvaWQgMCxZKGFyZ3VtZW50cywxKV0pfSxkLnByb3RvdHlwZS5Hcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFzKFwiYXBwbHlcIixbdm9pZCAwLFkoYXJndW1lbnRzKV0pfSxjLmNvPWZ1bmN0aW9uKGUpe3ZhciB0PWMoZSkscj1ZKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5BcyhcImFwcGx5XCIsW3RoaXMsci5jb25jYXQoWShhcmd1bWVudHMpKV0pfX0sZC5wcm90b3R5cGUuY289ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9WShhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLkFzKFwiYXBwbHlcIixbdGhpcyx0LmNvbmNhdChZKGFyZ3VtZW50cykpXSl9fSxjLmtleXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSkuQXMoXCJrZXlzXCIsW10pfSxkLnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQXMoXCJrZXlzXCIsW10pfSxjLmFsbD1MLGQucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiBMKHRoaXMpfSxjLnVvPU0sZC5wcm90b3R5cGUudW89ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzKX0sYy5sbz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHQrXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwiK3IrXCIgaW5zdGVhZC5cIixuZXcgRXJyb3IoXCJcIikuc3RhY2spLGUuYXBwbHkoZSxhcmd1bWVudHMpfX0oRixcImFsbFJlc29sdmVkXCIsXCJhbGxTZXR0bGVkXCIpLGQucHJvdG90eXBlLmxvPWZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyl9LGMuT3M9VSxkLnByb3RvdHlwZS5Pcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIEwoSihlLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5JcygpfXJldHVybiBlPWMoZSksZS50aGVuKHQsdCl9KSl9KX0sYy5mYWlsPWMuY2F0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS50aGVuKHZvaWQgMCx0KX0sZC5wcm90b3R5cGUuZmFpbD1kLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX0sYy5wcm9ncmVzcz1CLGQucHJvdG90eXBlLnByb2dyZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHZvaWQgMCxlKX0sYy5wbz1jLmZpbmFsbHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5maW5hbGx5KHQpfSxkLnByb3RvdHlwZS5wbz1kLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKGUpe2lmKCFlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFwcGx5KXRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3QgYXBwbHkgZmluYWxseSBjYWxsYmFja1wiKTtyZXR1cm4gZT1jKGUpLHRoaXMudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5HcygpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxmdW5jdGlvbih0KXtyZXR1cm4gZS5HcygpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9KX0sYy5kb25lPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBjKGUpLmRvbmUodCxyLGkpfSxkLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbihlKXtjLlRzKGZ1bmN0aW9uKCl7aWYoaShlLHMpLCFjLm9uZXJyb3IpdGhyb3cgZTtjLm9uZXJyb3IoZSl9KX0scz1lfHx0fHxyP3RoaXMudGhlbihlLHQscik6dGhpcztcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmcHJvY2Vzcy5kb21haW4mJihuPXByb2Nlc3MuZG9tYWluLmJpbmQobikpLHMudGhlbih2b2lkIDAsbil9LGMudGltZW91dD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGMoZSkudGltZW91dCh0LHIpfSxkLnByb3RvdHlwZS50aW1lb3V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dSgpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3QmJlwic3RyaW5nXCIhPXR5cGVvZiB0fHwodD1uZXcgRXJyb3IodHx8XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrZStcIiBtc1wiKSx0LmNvZGU9XCJFVElNRURPVVRcIiksci5yZWplY3QodCl9LGUpO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGkpLHIucmVzb2x2ZShlKX0sZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGkpLHIucmVqZWN0KGUpfSxyLm5vdGlmeSksci5Tc30sYy5kZWxheT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1lLGU9dm9pZCAwKSxjKGUpLmRlbGF5KHQpfSxkLnByb3RvdHlwZS5kZWxheT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXUoKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3IucmVzb2x2ZSh0KX0sZSksci5Tc30pfSxjLmRvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuZG8odCl9LGQucHJvdG90eXBlLmRvPWZ1bmN0aW9uKGUpe3ZhciB0PXUoKSxyPVkoZSk7cmV0dXJuIHIucHVzaCh0LlVzKCkpLHRoaXMuYW8ocikuZmFpbCh0LnJlamVjdCksdC5Tc30sYy5mbz1mdW5jdGlvbihlKXt2YXIgdD1ZKGFyZ3VtZW50cywxKTtyZXR1cm4gYyhlKS5kbyh0KX0sZC5wcm90b3R5cGUuZm89ZnVuY3Rpb24oKXt2YXIgZT1ZKGFyZ3VtZW50cyksdD11KCk7cmV0dXJuIGUucHVzaCh0LlVzKCkpLHRoaXMuYW8oZSkuZmFpbCh0LnJlamVjdCksdC5Tc30sYy5Fbz1jLnZvPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCB3cmFwIGFuIHVuZGVmaW5lZCBmdW5jdGlvblwiKTt2YXIgdD1ZKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj10LmNvbmNhdChZKGFyZ3VtZW50cykpLGk9dSgpO3JldHVybiByLnB1c2goaS5VcygpKSxjKGUpLmFvKHIpLmZhaWwoaS5yZWplY3QpLGkuU3N9fSxkLnByb3RvdHlwZS5Fbz1kLnByb3RvdHlwZS52bz1mdW5jdGlvbigpe3ZhciBlPVkoYXJndW1lbnRzKTtyZXR1cm4gZS51bnNoaWZ0KHRoaXMpLGMudm8uYXBwbHkodm9pZCAwLGUpfSxjLnlvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9WShhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX12YXIgbj1yLmNvbmNhdChZKGFyZ3VtZW50cykpLHM9dSgpO3JldHVybiBuLnB1c2gocy5VcygpKSxjKGkpLmFvKG4pLmZhaWwocy5yZWplY3QpLHMuU3N9fSxkLnByb3RvdHlwZS55bz1mdW5jdGlvbigpe3ZhciBlPVkoYXJndW1lbnRzLDApO3JldHVybiBlLnVuc2hpZnQodGhpcyksYy55by5hcHBseSh2b2lkIDAsZSl9LGMuVG89Yy5tbz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGMoZSkubW8odCxyKX0sZC5wcm90b3R5cGUuVG89ZC5wcm90b3R5cGUubW89ZnVuY3Rpb24oZSx0KXt2YXIgcj1ZKHR8fFtdKSxpPXUoKTtyZXR1cm4gci5wdXNoKGkuVXMoKSksdGhpcy5BcyhcInBvc3RcIixbZSxyXSkuZmFpbChpLnJlamVjdCksaS5Tc30sYy5Jbz1jLlNvPWMuUm89ZnVuY3Rpb24oZSx0KXt2YXIgcj1ZKGFyZ3VtZW50cywyKSxpPXUoKTtyZXR1cm4gci5wdXNoKGkuVXMoKSksYyhlKS5BcyhcInBvc3RcIixbdCxyXSkuZmFpbChpLnJlamVjdCksaS5Tc30sZC5wcm90b3R5cGUuSW89ZC5wcm90b3R5cGUuU289ZC5wcm90b3R5cGUuUm89ZnVuY3Rpb24oZSl7dmFyIHQ9WShhcmd1bWVudHMsMSkscj11KCk7cmV0dXJuIHQucHVzaChyLlVzKCkpLHRoaXMuQXMoXCJwb3N0XCIsW2UsdF0pLmZhaWwoci5yZWplY3QpLHIuU3N9LGMuTnM9SCxkLnByb3RvdHlwZS5Ocz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpczt0aGlzLnRoZW4oZnVuY3Rpb24odCl7Yy5UcyhmdW5jdGlvbigpe2UobnVsbCx0KX0pfSxmdW5jdGlvbih0KXtjLlRzKGZ1bmN0aW9uKCl7ZSh0KX0pfSl9LGMud289ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJRLm5vQ29uZmxpY3Qgb25seSB3b3JrcyB3aGVuIFEgaXMgdXNlZCBhcyBhIGdsb2JhbFwiKX07dmFyIG9lPWgoKTtyZXR1cm4gY30pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2KSxuPWkuaGUuYm87IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LkNvPTVlMyx0Ll9vPTYsdC5Qbz0xZTQsdC5Bbz0uMix0Lk9vPTEwLGUuTm89dDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ci5Ebz1cIjAuMC4xXCIsci5rbz0zZTQsci5Mbz00ZTcsci5Nbz0xLHIuRm89Ljgsci5Vbz0hMSxyLkJvPTJlNCxlLkhvPXI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kueG89ITAsaS5xbz0zLGkuR289MWU0LGUuVm89aTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7cy5qbz0xLjEsZS5Rbz1zO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtvLktvPW4sby5Zbz0yZTQsby5Xbz01ZTMsZS56bz1vO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTthLkpvPVs0MTJdLGUuWG89YTt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aC5abz0yZTMsaC4kbz0hMCxoLmVhPSExLGgudGE9MSxoLnJhPS4wMixoLmlhPSEwLGgubmE9ITEsaC5zYT0hMSxoLm9hPTFlNCxoLmFhPTRlNCxoLmhhPTM3MDAsaC5jYT0yZTQsaC51YT0xLGgubGE9NSxoLnBhPS40LGguZGE9MSxlLmZhPWg7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2MuZ2E9MzAsYy5FYT0yZTQsYy52YT0zZTQsZS55YT1jO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt1LlRhPTNlNyx1Lm1hPTNlNCx1LklhPSExLHUuU2E9MTAsZS5SYT11O3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtsLndhPTMsbC5iYT0hMSxsLkNhPTNlNCxsLl9hPS4yLGwuUGE9LjIsbC5BYT0xZTQsZS5PYT1sO3ZhciBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtwLk5hPSExLGUuSz1wO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtkLkRhPTY0ZTMsZC5rYT01ZTMsZC5MYT0xLGQuTWE9MSxlLkZhPWQ7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2YuVWE9NGUzLGYuQmE9M2U0LGYuSGE9NDA5NixmLnhhPSEwLGYucWE9NWUzLGYuR2E9MWU0LGUuVURQQnJvYWRjYXN0PWY7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2cuVmE9MTAwLGcuamE9MWUzLGUuUWE9Zzt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7RS5LYT0yMCxFLllhPTIwLEUuV2E9MjAsRS56YT01LGUuSmE9RTt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7di5YYT1cInNpdGVcIix2LlphPVwiZXh0ZXJuYWxBc1wiLHYuJGE9XCJhdmFpbGFibGVTZW5kUmF0ZVwiLHYuZWg9XCJyZW1vdGVBZGRyZXNzXCIsdi50aD1cImxvY2FsQWRkcmVzc1wiLHYucmg9MmU0LGUuaWg9djt2YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7eS5uaD0zZTQsZS5zaD15O3ZhciBUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtULm9oPTMwMCxlLmFoPVR9KHQuaGh8fCh0LmhoPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS51aD0hMSxpLmxoPSEwLGkucGg9ITEsaS5kaD1cIjQuMS4wXCIsaS5maD1cInVuZGVmaW5lZFwiIT10eXBlb2YgY29yZT9jb3JlOlwidW5kZWZpbmVkXCIsaS5naD0hMSxpLkVoPSEwLGkudmg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVk9EX0NBQ0hFJiZJTkNMVURFX1ZPRF9DQUNIRSxpLnloPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX1VEUF9CUk9BRENBU1QmJklOQ0xVREVfVURQX0JST0FEQ0FTVCxpLlRoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX1VEUF9MRUFERVJfRUxFQ1RJT04mJklOQ0xVREVfVURQX0xFQURFUl9FTEVDVElPTixpLm1oPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBMRUFERVJfU0NPUkVfRVFVQUxJVFkmJkxFQURFUl9TQ09SRV9FUVVBTElUWSxpLkloPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX0RFRkFVTFRfTkVUV09SSyYmSU5DTFVERV9ERUZBVUxUX05FVFdPUkssaS5TaD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9SRVNUUklDVEVEX0NPTk5JTkZPJiZISVZFX1JFU1RSSUNURURfQ09OTklORk8saS5ibz1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9ESVNDT1ZFUlk/SElWRV9ESVNDT1ZFUlk6XCJ3czovLzEyNy4wLjAuMTo4MDAwL2hpdmVcIixpLlJoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBQMlBEaXNwYXRjaGVyRGV0YWlsZWRMb2cmJlAyUERpc3BhdGNoZXJEZXRhaWxlZExvZyxpLndoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBOZXR3b3JrTWFuYWdlckRldGFpbGVkTG9nJiZOZXR3b3JrTWFuYWdlckRldGFpbGVkTG9nLGkuYWU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFUQVRVU19LRVk/QVRBVFVTX0tFWTpcIjU5MjgzNWE2YjQyMDRkZDE5N2MwMDQ4ODYxMDAwM2UwXCIsaS5jZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQVRBVFVTX1ZFUlNJT04/QVRBVFVTX1ZFUlNJT046XCIwLjhcIixpLnVlPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBBVEFUVVNfREVGQVVMVF9FTkFCTEVEfHxBVEFUVVNfREVGQVVMVF9FTkFCTEVELGkubGU9NSxpLmJoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX1BMVUdJTl9USU1FT1VUP0hJVkVfUExVR0lOX1RJTUVPVVQ6LTEsaS5DaD1cInVuZGVmaW5lZFwiPT10eXBlb2YgSElWRV9ERVRFQ1RfUFJJVkFURUlQfHxISVZFX0RFVEVDVF9QUklWQVRFSVAsaS5faD0hMCx0LmhlPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig0Mykscz1yKDMwKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiB0P2UrXCItXCIrdDplfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcj1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrdC5ieXRlTGVuZ3RoKTtyZXR1cm4gci5zZXQobmV3IFVpbnQ4QXJyYXkoZSksMCksci5zZXQobmV3IFVpbnQ4QXJyYXkodCksZS5ieXRlTGVuZ3RoKSxyLmJ1ZmZlcn1mdW5jdGlvbiBvKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCk7cmV0dXJuIHQuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApLHQuYnVmZmVyfWZ1bmN0aW9uIGEoZSx0LHIpe3ZvaWQgMD09PXImJihyPSEwKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOylpZihlW2ldPT09dCl7aWYoZS5zcGxpY2UoaSwxKSxyKWJyZWFrfWVsc2UgaSsrfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDE2QXJyYXkoZSkpfWZ1bmN0aW9uIGMoZSl7ZT1lLnJlcGxhY2UoL1tcXFtdLyxcIlxcXFxbXCIpLnJlcGxhY2UoL1tcXF1dLyxcIlxcXFxdXCIpO3ZhciB0PW5ldyBSZWdFeHAoXCJbXFxcXD8mXVwiK2UrXCI9KFteJiNdKilcIikscj10LmV4ZWMobG9jYXRpb24uc2VhcmNoKTtyZXR1cm4gbnVsbD09cj9cIlwiOmRlY29kZVVSSUNvbXBvbmVudChyWzFdLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9ZS5sZW5ndGgtMTt0PjA7dC0tKXt2YXIgcj1NYXRoLmZsb29yKGkuRnJhbWV3b3JrLnJhbmRvbSgpKih0KzEpKSxuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1yZXR1cm4gZX1mdW5jdGlvbiBsKGUpe3ZhciB0PW5ldyBBcnJheTtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYhL15cXGQrJC8udGVzdChyKSYmdC5wdXNoKHIpO3JldHVybiB0fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKGUpfSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBlW3RdP2VbdF06bnVsbH1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIG5ldyBzKHQpLlBoKGUpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gMD09ZS5sZW5ndGg/MDplLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KS9lLmxlbmd0aH1mdW5jdGlvbiBFKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5sZW5ndGgpLHI9bmV3IFVpbnQ4QXJyYXkodCksaT0wLG49ZS5sZW5ndGg7aTxuO2krKylyW2ldPWUuY2hhckNvZGVBdChpKTtyZXR1cm4gdH1mdW5jdGlvbiB2KGUsdCxyLGkpe3ZhciBuPW5ldyBlKHQscikscz1pfHxyLmN1cnJlbnRUYXJnZXQ7cmV0dXJuIHMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2N1cnJlbnRUYXJnZXQ6e3ZhbHVlOnMscDohMCxBaDohMX0sdGFyZ2V0Ont2YWx1ZTpzLHA6ITAsQWg6ITF9fSksbn1lLk9oPW5ldyBuLkNvdW50ZXI7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5BTFBIQT0uMjUsdGhpcy5OaD0xZTgsdGhpcy5EaD0xZTR9cmV0dXJuIGUucHJvdG90eXBlLmtoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuTGh9LGUucHJvdG90eXBlLk1oPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuTGg9TWF0aC5taW4odGhpcy5OaCx0L2UqOGUzKSx0aGlzfSxlLnByb3RvdHlwZS5GaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5MaD1NYXRoLm1heCh0aGlzLk5oLGUpLHRoaXN9LGUucHJvdG90eXBlLlVoPWZ1bmN0aW9uKGUpe2Uua2goKSYmKHRoaXMua2goKT90aGlzLkxoPXRoaXMuTGgqKDEtdGhpcy5BTFBIQSkrZS5MaCp0aGlzLkFMUEhBOnRoaXMuTGg9ZS5MaCl9LGUucHJvdG90eXBlLkJoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtoKCk/TWF0aC5yb3VuZCg4ZTMqZS90aGlzLkxoKTpOYU59LGUucHJvdG90eXBlLkhoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2goKT90aGlzLkxoOk5hTn0sZS5wcm90b3R5cGUueGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5raCgpP3RoaXMuTGgvMWUzOk5hTn0sZS5wcm90b3R5cGUucWg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5raCgpP3RoaXMuTGgvMWU2Ok5hTn0sZS5wcm90b3R5cGUuR2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5raCgpP3RoaXMuTGg+MWU2Pyh0aGlzLkxoLzFlNikudG9GaXhlZCgyKStcIk1iL3NcIjp0aGlzLkxoPjFlMz8odGhpcy5MaC8xZTMpLnRvRml4ZWQoMikrXCJLYi9zXCI6dGhpcy5MaCtcImIvc1wiOlwiTmFOXCJ9LGV9KCk7ZS5WaD15LGUuamg9dCxlLmFwcGVuZEJ1ZmZlcj1yLGUuUWg9byxlLktoPWEsZS5ZaD1oLGUuV2g9YyxlLnpoPXUsZS5KaD1sLGUuWGg9cCxlLlpoPWQsZS4kaD1mLGUuZWM9ZyxlLnRjPUUsZS5jcmVhdGVFdmVudD12fSh0LnJjfHwodC5yYz17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUpe2UuaWM9XCJzdGF0c0NsaWVudFwiLGUuRz1cInNlcnZpY2VzQ2xpZW50XCIsZS5uYz1cInRpY2tldFJlc29sdmVyXCIsZS5NPVwiaWRlbnRpdHlQcm92aWRlclwiLGUuc2M9XCJjb25uSW5mb1Byb3ZpZGVyXCIsZS5vYz1cInBlZXJJbmZvXCIsZS5hYz1cInN0cmVhbUluZm9Qcm92aWRlclwiLGUuaGM9XCJyZXBvcnRpbmdcIixlLmNjPVwic3RhdHNTdG9yZVwiLGUudWM9XCJ0cmFja01hbmFnZXJcIixlLmxjPVwidHJhY2tDbGllbnRcIn0odC5wY3x8KHQucGM9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXtlW2UuZGM9MF09XCJBVURJT1wiLGVbZS5mYz0xXT1cIlZJREVPXCIsZVtlLmdjPTJdPVwiTUVUQURBVEFcIixlW2UuRWM9M109XCJPVEhFUlwifSh0LnZjfHwodC52Yz17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7cig2MCk7IWZ1bmN0aW9uKGUpe2VbZS55Yz0wXT1cIlRSQUNLRVJcIixlW2UuVz0xXT1cIlVEUFwifSh0LlRjfHwodC5UYz17fSkpOyFmdW5jdGlvbihlKXtlW2UubWM9MV09XCJQTEFZRVJcIixlW2UuSWM9Ml09XCJQMlBfQUdFTlRcIixlW2UuU2M9M109XCJQUkVGRVRDSEVSX0ZJUlNUX1RJRVJcIixlW2UuUmM9NF09XCJQUkVGRVRDSEVSX1NFQ09ORF9USUVSXCJ9KHQud2N8fCh0LndjPXt9KSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuVHJhY2tlclBlZXJTdHJlYW1JbmZvPWk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmlzTGVhZGVyPXIsdGhpcy5pbnRlcm5hbEFzPTAsdGhpcy5leHRlcm5hbEFzPTAsdGhpcy50eXBlPWUscnx8KHRoaXMuaXNMZWFkZXI9ITEpLHQmJih0aGlzLmd1aWQ9dC5ndWlkLHRoaXMuaW50ZXJuYWxBcz10LmludGVybmFsQXMsdGhpcy5leHRlcm5hbEFzPXQuZXh0ZXJuYWxBcyx0aGlzLm5hdD10Lm5hdCx0aGlzLmJhbmR3aWR0aD10LmJhbmR3aWR0aCx0aGlzLndhdGNoaW5nQml0cmF0ZT10LndhdGNoaW5nQml0cmF0ZSx0aGlzLnN0cmVhbXM9dC5zdHJlYW1zLHRoaXMucmFua1ZhbHVlPXQucmFua1ZhbHVlLHRoaXMudGltZXN0YW1wPXQudGltZXN0YW1wLHRoaXMucHJpdmF0ZUlwU3RyaW5nPXQucHJpdmF0ZUlwU3RyaW5nLHRoaXMucHVibGljSXBTdHJpbmc9dC5wdWJsaWNJcFN0cmluZyl9cmV0dXJuIGV9KCk7dC5iYz1ufSxmdW5jdGlvbihlLHQscil7cig2NSkscigzNikscig2NikscigxMDApfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY0NvbGxlY3Rpb24gaXMgYSBtaXhpbi5cIil9ZS5pPWksaS5DYz1PYmplY3QuZnJlZXplKFtdKSxpLnByb3RvdHlwZS5hZGRFYWNoPWZ1bmN0aW9uKGUpe2lmKGUmJk9iamVjdChlKT09PWUpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5mb3JFYWNoKWUuZm9yRWFjaCh0aGlzLmFkZCx0aGlzKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmFkZChlW3RdLHQpO2Vsc2UgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmFkZChlW3RdLHQpfSx0aGlzKTtlbHNlIGlmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmFkZChlW3RdLHQpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5fYz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5kZWxldGUoZSx0KX0sdGhpcyksdGhpc30saS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSxuLHMsbyl7ZS5jYWxsKHQsaSxuLHMsbyl9LHZvaWQgMCl9LGkucHJvdG90eXBlLm1hcD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV0scj1bXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oaSxuLHMsbyxhKXtyLnB1c2goZS5jYWxsKHQsbixzLG8sYSkpfSx2b2lkIDApLHJ9LGkucHJvdG90eXBlLmVudW1lcmF0ZT1mdW5jdGlvbihlKXtudWxsPT1lJiYoZT0wKTt2YXIgdD1bXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpKXt0LnB1c2goW2UrKyxpXSl9LHZvaWQgMCksdH0saS5wcm90b3R5cGUuZ3JvdXA9ZnVuY3Rpb24oZSx0LHIpe3I9cnx8T2JqZWN0LmNzO3ZhciBpPVtdLG49W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihzLG8sYSl7dmFyIGgsbz1lLmNhbGwodCxzLG8sYSksYz1uLmluZGV4T2YobyxyKTstMT09PWM/KGg9W10saS5wdXNoKFtvLGhdKSxuLnB1c2gobykpOmg9aVtjXVsxXSxoLnB1c2gocyl9KSxpfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKEZ1bmN0aW9uLmlkZW50aXR5KX0saS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24odCxyLGkpe2VbaV09cn0sdm9pZCAwKSxlfSxpLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdLHI9dGhpcy5FcygpO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihpLG4scyxvLGEpe2UuY2FsbCh0LG4scyxvLGEpJiZyLmFkZChuLHMpfSx2b2lkIDApLHJ9LGkucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpLG4scyxvKXtyZXR1cm4gciYmZS5jYWxsKHQsaSxuLHMsbyl9LCEwKX0saS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSxuLHMsbyl7cmV0dXJuIHJ8fGUuY2FsbCh0LGksbixzLG8pfSwhMSl9LGkucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV2ZXJ5KEJvb2xlYW4pfSxpLnByb3RvdHlwZS51bz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvbWUoQm9vbGVhbil9LGkucHJvdG90eXBlLm1pbj1mdW5jdGlvbihlKXtlPWV8fHRoaXMuQWN8fE9iamVjdC5PYzt2YXIgdD0hMDtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpKXtyZXR1cm4gdD8odD0hMSxpKTplKGkscik8MD9pOnJ9LHZvaWQgMCl9LGkucHJvdG90eXBlLm1heD1mdW5jdGlvbihlKXtlPWV8fHRoaXMuQWN8fE9iamVjdC5PYzt2YXIgdD0hMDtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpKXtyZXR1cm4gdD8odD0hMSxpKTplKGkscik+MD9pOnJ9LHZvaWQgMCl9LGkucHJvdG90eXBlLk5jPWZ1bmN0aW9uKGUpe3JldHVybiBlPXZvaWQgMD09PWU/MDplLHRoaXMucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sZSl9LGkucHJvdG90eXBlLkRjPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU/MDplLHI9dm9pZCAwPT09ZT8wOmU7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKGUsaSl7dCs9aSxyKz0xfSx2b2lkIDApLHQvcn0saS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuRXModGhpcyksdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZS5hZGRFYWNoKGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9LGkucHJvdG90eXBlLmtjPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMucHVzaChlKX0sdCxlKSx0fSxbXSl9LGkucHJvdG90eXBlLkxjPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZS51bnNoaWZ0KHRoaXMpLEFycmF5Lk1jKGUpfSxpLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT10P3I6dCtlK3J9LHZvaWQgMCl9LGkucHJvdG90eXBlLkZjPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT1lfHx0aGlzLkFjfHxPYmplY3QuT2MsZS5VYz8odD1lLlVjLGU9ZS5PY3x8dGhpcy5BY3x8T2JqZWN0Lk9jKTp0PXR8fEZ1bmN0aW9uLmlkZW50aXR5LHZvaWQgMD09PXImJihyPTEpLHRoaXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybntVYzp0KGUpLHZhbHVlOmV9fSkuc29ydChmdW5jdGlvbih0LGkpe3JldHVybiBlKHQuVWMsaS5VYykqcn0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0pfSxpLnByb3RvdHlwZS5yZXZlcnNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVzKHRoaXMpLnJldmVyc2UoKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lKWU9MS8wO2Vsc2UgaWYoMD09PWUpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5FcygpO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oaSxuKXtyLmFkZChPYmplY3QuY2xvbmUoaSxlLTEsdCksbil9LHRoaXMpLHJ9LGkucHJvdG90eXBlLm9ubHk9ZnVuY3Rpb24oKXtpZigxPT09dGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuQmMoKX0saS5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ3M9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0scDohMSxsOiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJzaXplXCIsaS5ncykscig2NSl9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBpcyBhbiBhYnN0cmFjdCBpbnRlcmZhY2UuIE1peCBpdC4gRG9uJ3QgY29uc3RydWN0IGl0XCIpfWZ1bmN0aW9uIG4oZSx0LHIsaSl7dmFyIG4scyxvLGE9ZS5hY3RpdmUsaD1lLnhjLGM9aC5sZW5ndGgsdT1jO2ZvcihhLmxlbmd0aD5jJiYoYS5sZW5ndGg9Yyk7Yy0tOylhW2NdPWhbY107Zm9yKHM9MDtzPHU7cysrKWlmKG89YVtzXSwhc3x8aC5pbmRleE9mKG8pPj0wKXtpZihuPW9bZS5xY118fG9bZS5HY118fG8sIW4uY2FsbCl0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudCBsaXN0ZW5lciBmb3IgXCIrZS5WYytcIiBvciBcIitlLmpjK1wiIG9yIGNhbGwgb24gXCIrbik7bi5jYWxsKG8scix0LGkpfX1yKDExKTt2YXIgcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2UuaT1pLGkuZGVidWc9ITAsaS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oZSl7dGhpcy5LY3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX3Byb3BlcnR5Q2hhbmdlTGlzdGVuZXJzX19cIix7dmFsdWU6e30scDohMSxsOiEwLEFoOiEwfSk7dmFyIHQ9dGhpcy5LYztpZighcy5jYWxsKHQsZSkpe3ZhciByPVN0cmluZyhlKTtyPXImJnJbMF0udG9VcHBlckNhc2UoKStyLnNsaWNlKDEpLHRbZV09e1ljOnt4YzpbXSxhY3RpdmU6W10scWM6XCJoYW5kbGVcIityK1wiV2lsbENoYW5nZVwiLEdjOlwiaGFuZGxlUHJvcGVydHlXaWxsQ2hhbmdlXCJ9LFdjOnt4YzpbXSxhY3RpdmU6W10scWM6XCJoYW5kbGVcIityK1wiQ2hhbmdlXCIsR2M6XCJoYW5kbGVQcm9wZXJ0eUNoYW5nZVwifX19cmV0dXJuIHRbZV19LGkucHJvdG90eXBlLnpjPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLktjKXJldHVybiExO2lmKCFlKXJldHVybiEwO3ZhciB0PXRoaXMuS2M7cmV0dXJuISFzLmNhbGwodCxlKX0saS5wcm90b3R5cGUuSmM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuWGMmJiF0aGlzLlpjJiZ0aGlzLlhjKCk7dmFyIG4scz1pLlFjKHRoaXMsZSk7bj1yP3MuWWM6cy5XYyxpLiRjKHRoaXMsZSksbi54Yy5wdXNoKHQpO3ZhciBvPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7aS5ldShvLGUsdCxyKSxvPW51bGx9fSxpLnByb3RvdHlwZS50dT1mdW5jdGlvbihlLHQpe3JldHVybiBpLkpjKHRoaXMsZSx0LCEwKX0saS5wcm90b3R5cGUuZXU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLHM9aS5RYyh0aGlzLGUpO249cj9zLlljOnMuV2M7dmFyIG89bi54Yy5sYXN0SW5kZXhPZih0KTtpZigtMT09PW8pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIHByb3BlcnR5IGNoYW5nZSBsaXN0ZW5lcjogZG9lcyBub3QgZXhpc3Q6IHByb3BlcnR5IG5hbWVcIitKU09OLnN0cmluZ2lmeShlKSk7bi54Yy5zcGxpY2UobywxKX0saS5wcm90b3R5cGUucnU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5ldSh0aGlzLGUsdCwhMCl9LGkucHJvdG90eXBlLml1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgcyxvPWkuUWModGhpcyxlKTtpZighby5pc0FjdGl2ZSl7by5pc0FjdGl2ZT0hMCxzPXI/by5ZYzpvLldjO3RyeXtuKHMsZSx0LHRoaXMpfWZpbmFsbHl7by5pc0FjdGl2ZT0hMX19fSxpLnByb3RvdHlwZS5udT1mdW5jdGlvbihlLHQpe3JldHVybiBpLml1KHRoaXMsZSx0LCEwKX0saS5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdTtpZih0KXtpZihzLmNhbGwodCxlKSlyZXR1cm59ZWxzZXtpZihBcnJheS5pc0FycmF5KHRoaXMpKXJldHVybjtpZighT2JqZWN0LmlzRXh0ZW5zaWJsZSh0aGlzKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBtYWtlIHByb3BlcnR5IFwiK0pTT04uc3RyaW5naWZ5KGUpK1wiIG9ic2VydmFibGUgb24gXCIrdGhpcytcIiBiZWNhdXNlIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTt0PXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX19vdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9yc19fXCIse3ZhbHVlOnQscDohMSxBaDohMCxsOiEwfSl9dmFyIHI7XCJvYmplY3RcIj09dHlwZW9mIHRoaXMub3U/cj10aGlzLm91OihyPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX19zdGF0ZV9fXCIse3ZhbHVlOnIsQWg6ITAscDohMX0pKSxyW2VdPXRoaXNbZV07dmFyIGksbz10aGlzO2Rve2lmKGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLGUpKWJyZWFrO289T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pfXdoaWxlKG8pO2lmKGkpe2lmKCFpLmwpcmV0dXJuO2lmKCFpLkFoJiYhaS5zZXQpcmV0dXJufWVsc2UgaT17dmFsdWU6dm9pZCAwLHA6ITAsQWg6ITAsbDohMH07dFtlXT1pO3ZhciBhO2E9XCJ2YWx1ZVwiaW4gaT97Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkudmFsdWV9LHNldDpmdW5jdGlvbih0KXt2YXIgcyxvO2lmKHQhPT1pLnZhbHVlKXtpZihzPXRoaXMuS2NbZV0sIShvPXMuaXNBY3RpdmUpKXtzLmlzQWN0aXZlPSEwO3RyeXtuKHMuWWMsZSxpLnZhbHVlLHRoaXMpfWZpbmFsbHl7fX1pZihpLnZhbHVlPXQscltlXT10LCFvKXRyeXtuKHMuV2MsZSx0LHRoaXMpfWZpbmFsbHl7cy5pc0FjdGl2ZT0hMX19fSxwOmkucCxsOiEwfTp7Z2V0OmkuZ2V0LHNldDpmdW5jdGlvbih0KXt2YXIgcyxvLGE9dGhpc1tlXTtpZihpLnNldC5jYWxsKHRoaXMsdCksKHQ9dGhpc1tlXSkhPT1hKXtpZihzPXRoaXMuS2NbZV0sIShvPXMuaXNBY3RpdmUpKXtzLmlzQWN0aXZlPSEwO3RyeXtuKHMuWWMsZSxhLHRoaXMpfWZpbmFsbHl7fX1pZihyW2VdPXQsIW8pdHJ5e24ocy5XYyxlLHQsdGhpcyl9ZmluYWxseXtzLmlzQWN0aXZlPSExfX19LHA6aS5wLGw6ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUsYSl9LGkuUWM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5RYz9lLlFjKHQpOmkucHJvdG90eXBlLlFjLmNhbGwoZSx0KX0saS56Yz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnpjP2UuemModCk6aS5wcm90b3R5cGUuemMuY2FsbChlLHQpfSxpLkpjPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKE9iamVjdC5hdShlKSlyZXR1cm4gZS5KYz9lLkpjKHQscixuKTppLnByb3RvdHlwZS5KYy5jYWxsKGUsdCxyLG4pfSxpLmV1PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKE9iamVjdC5hdShlKSlyZXR1cm4gZS5ldT9lLmV1KHQscixuKTppLnByb3RvdHlwZS5ldS5jYWxsKGUsdCxyLG4pfSxpLml1PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKE9iamVjdC5hdShlKSlyZXR1cm4gZS5pdT9lLml1KHQscixuKTppLnByb3RvdHlwZS5pdS5jYWxsKGUsdCxyLG4pfSxpLnR1PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5KYyhlLHQsciwhMCl9LGkucnU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLmV1KGUsdCxyLCEwKX0saS5udT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuaXUoZSx0LHIsITApfSxpLiRjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuJGM/ZS4kYyh0KTppLnByb3RvdHlwZS4kYy5jYWxsKGUsdCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbj10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxzPXIoNDEpLG89cig2KSxhPW8uaGUuU2gsaD1vLmhlLkNoOyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5EYXNoRmlsdGVyQml0cmF0ZXM9bnVsbCx0LkRhc2hSZW1vdmVCaXRyYXRlU2l6ZT0hMSxlLkRhc2g9dDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ci5BdWRpb0FjY291bnRpbmc9ITAsZS5TdGF0cz1yO3ZhciBpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKHQsZSksdH0ocy5IaXZlQ29uZmlnLkRlYnVnTG9ncyk7aS5UcmFja2VyTG9ncz0wLGUuRGVidWdMb2dzPWk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO28udXNpej1udWxsLGUuVURQQnJvYWRjYXN0PW87dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2MucmVzdHJpY3RlZENvbm5lY3Rpdml0eUluZm89YSxjLmhpZGRlbkhvc3RuYW1lVmFsdWU9XCJbSGlkZGVuXVwiLGUuU2Vuc2l0aXZlSW5mbz1jO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt1LmN1PW51bGwsdS51dT1udWxsLGUuQ2xpZW50SW5mbz11O3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtsLmRldGVjdFByaXZhdGVJUD1oLGUuQ29ubkluZm89bH0oaT10LkhpdmVDb25maWd8fCh0LkhpdmVDb25maWc9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYodm9pZCAwPT09d2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRGFzaD1pLkRhc2gsd2luZG93LkhpdmVDb25maWcuU3RhdHM9aS5TdGF0cyx3aW5kb3cuSGl2ZUNvbmZpZy5VRFBCcm9hZGNhc3Q9aS5VRFBCcm9hZGNhc3Qsd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPWkuRGVidWdMb2dzLHdpbmRvdy5IaXZlQ29uZmlnLlNlbnNpdGl2ZUluZm89aS5TZW5zaXRpdmVJbmZvLHdpbmRvdy5IaXZlQ29uZmlnLkNsaWVudEluZm89aS5DbGllbnRJbmZvLHdpbmRvdy5IaXZlQ29uZmlnLkNvbm5JbmZvPWkuQ29ubkluZm8pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUpe2UubHU9XCJzbmFwQWNjb3VudGluZ01hbmFnZXJcIixlLnB1PVwibWVtYmVyc2hpcFwiLGUuZHU9XCJwYXJ0bmVyc2hpcFwiLGUuZnU9XCJpblBhcnRuZXJzaGlwXCIsZS5ndT1cIm91dFBhcnRuZXJzaGlwXCIsZS5FdT1cImluUHJlZmV0Y2hlclBhcnRuZXJzaGlwXCIsZS52dT1cIm91dFByZWZldGNoZXJQYXJ0bmVyc2hpcFwiLGUueXU9XCJjYWNoZVwiLGUuVHU9XCJsaXZlY2FjaGVcIixlLm11PVwidm9kY2FjaGVcIixlLkl1PVwib2JqSW5kZXhcIixlLlN1PVwiY2VudHJGcmFnbWVudFwiLGUuUnU9XCJoY2FjaGVcIixlLnd1PVwicmVzcG9uZGVyXCIsZS5idT1cInJlcXVlc3RlclwiLGUuQ3U9XCJwMnBSZXF1ZXN0ZXJcIixlLl91PVwicGVlclwiLGUuUHU9XCJjb250ZXh0UmVzb2x2ZXJcIixlLkF1PVwidmlkZW9QcmVmZXRjaGVyXCIsZS5PdT1cInByZWZldGNoTWFuYWdlclwiLGUuTnU9XCJwaWNrZXJcIixlLkR1PVwidHJhY2tlckNsaWVudFwiLGUua3U9XCJzY29yZVVwZGF0ZXJcIixlLnE9XCJzZXJ2ZXJNYW5hZ2VyXCIsZS5MdT1cInJlcXVlc3RUcmFja2VyXCIsZS5NdT1cInRyYWNrZXJNYW5hZ2VyXCIsZS5GdT1cInJlbmRlclN0YXRzXCIsZS5VdT1cInVkcEJyb2FkY2FzdGVyXCIsZS5CdT1cInVkcERpc2NvdmVyeVwiLGUuVGg9XCJ1ZHBMZWFkZXJFbGVjdGlvblwiLGUuSHU9XCJub2RlSW5mb1wiLGUueHU9XCJpcHNwb29maW5nXCJ9KHQucXV8fCh0LnF1PXt9KSl9LGZ1bmN0aW9uKGUsdCl7ZS5pPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdW5jdGlvbn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT0hMCxuPXtHdTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGU/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdHlwZW9mIGUrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKTooaT1lLGU/XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWRcIjpcImFkYXB0ZXIuanMgbG9nZ2luZyBlbmFibGVkXCIpfSxsb2c6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93KXtpZihpKXJldHVybjtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX19LFZ1OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLm1hdGNoKHQpO3JldHVybiBpJiZpLmxlbmd0aD49ciYmcGFyc2VJbnQoaVtyXSwxMCl9LGp1OmZ1bmN0aW9uKCl7dmFyIGU9e307aWYoZS5RdT1udWxsLGUudmVyc2lvbj1udWxsLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cubmF2aWdhdG9yKXJldHVybiBlLlF1PVwiTm90IGEgYnJvd3Nlci5cIixlO2lmKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpZS5RdT1cImZpcmVmb3hcIixlLnZlcnNpb249dGhpcy5WdShuYXZpZ2F0b3IudXNlckFnZW50LC9GaXJlZm94XFwvKFxcZCspXFwuLywxKTtlbHNlIGlmKG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEpaWYod2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKWUuUXU9XCJjaHJvbWVcIixlLnZlcnNpb249dGhpcy5WdShuYXZpZ2F0b3IudXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLDIpO2Vsc2V7aWYoIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oXFxkKykuKFxcZCspLykpcmV0dXJuIGUuUXU9XCJVbnN1cHBvcnRlZCB3ZWJraXQtYmFzZWQgYnJvd3NlciB3aXRoIEdVTSBzdXBwb3J0IGJ1dCBubyBXZWJSVEMgc3VwcG9ydC5cIixlO2UuUXU9XCJzYWZhcmlcIixlLnZlcnNpb249dGhpcy5WdShuYXZpZ2F0b3IudXNlckFnZW50LC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8sMSl9ZWxzZSBpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKSQvKSllLlF1PVwiZWRnZVwiLGUudmVyc2lvbj10aGlzLlZ1KG5hdmlnYXRvci51c2VyQWdlbnQsL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8sMik7ZWxzZXtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpcmV0dXJuIGUuUXU9XCJOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci5cIixlO2UuUXU9XCJzYWZhcmlcIixlLnZlcnNpb249dGhpcy5WdShuYXZpZ2F0b3IudXNlckFnZW50LC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8sMSl9cmV0dXJuIGV9LEt1OmZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LkhUTUxNZWRpYUVsZW1lbnQmJlwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUpe3ZhciBlPVVSTC5jcmVhdGVPYmplY3RVUkwuYmluZChVUkwpLHQ9VVJMLnJldm9rZU9iamVjdFVSTC5iaW5kKFVSTCkscj1uZXcgTWFwLGk9MDtVUkwuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKHQpe2lmKFwiZ2V0VHJhY2tzXCJpbiB0KXt2YXIgbj1cInBvbHlibG9iOlwiKyArK2k7cmV0dXJuIHIuc2V0KG4sdCksY29uc29sZS5sb2coXCJVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSkgaXMgZGVwcmVjYXRlZCEgVXNlIGVsZW0uc3JjT2JqZWN0ID0gc3RyZWFtIGluc3RlYWQhXCIpLG59cmV0dXJuIGUodCl9LFVSTC5yZXZva2VPYmplY3RVUkw9ZnVuY3Rpb24oZSl7dChlKSxyLmRlbGV0ZShlKX07dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXQuYXBwbHkodGhpcyl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ZdT1yLmdldChlKXx8bnVsbCxuLnNldC5hcHBseSh0aGlzLFtlXSl9fSk7dmFyIHM9SFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlO0hUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZT1mdW5jdGlvbigpe3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJzcmNcIj09PShcIlwiK2FyZ3VtZW50c1swXSkudG9Mb3dlckNhc2UoKSYmKHRoaXMuWXU9ci5nZXQoYXJndW1lbnRzWzFdKXx8bnVsbCkscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX19O2UuaT17bG9nOm4ubG9nLEd1Om4uR3UsV3U6bi5qdSgpLFZ1Om4uVnUsS3U6bi5LdSxqdTpuLmp1LmJpbmQobil9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMD09PXImJihyPVtdKSxuKGUsdCxyLCEwKX1mdW5jdGlvbiBuKGUsdCxyLGkpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMD09PXImJihyPVtdKSx2b2lkIDA9PT1pJiYoaT0hMSk7Zm9yKHZhciBzIGluIGUpIWZ1bmN0aW9uKHMpe2lmKGUuaGFzT3duUHJvcGVydHkocykpe3ZhciBvPWVbc107QXJyYXkuaXNBcnJheShvKT9vLmZvckVhY2goZnVuY3Rpb24oZSxvKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmbihlLHQrXCIuXCIrcytcIltcIitvK1wiXVwiLHIsaSl9KTpcIm9iamVjdFwiPT10eXBlb2Ygbz9uKG8sdCtcIi5cIitzLHIsaSk6XCJudW1iZXJcIj09dHlwZW9mIG8mJmlzTmFOKG8pJiYoci5wdXNoKHQrXCIuXCIrcyksaXx8KGVbc109bnVsbCkpfX0ocyk7cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlLHQscil7dmFyIGk9bmV3IGM7cmV0dXJuIGkudGlja2V0VXJsPWUsaS5jb2RlPXQsaS5tZXNzYWdlPXUodCksaS5kZXRhaWxlZE1lc3NhZ2U9cixpfXZhciBvPXIoMyksYT1yKDQpLGg9cigyNiksYz1oLkhpdmVDb21tLkhpdmVTZXNzaW9uRXJyb3IsdT1oLkhpdmVDb21tLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlLGw9aC5IaXZlQ29tbS5IaXZlU2Vzc2lvbixwPXIoNTMpLGQ9cig3MiksZj1yKDE0KSxnPXIoNiksRT1yKDEpLHY9Zy5oZS51aDtpZih2KXZhciB5PXIoMzEpLkhpdmVSZXF1ZXN0LFQ9cig1NCkuenU7dmFyIG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2lmKCF0KXtpZigwPT1PYmplY3Qua2V5cyhlLm1hcHBpbmcpLmxlbmd0aCYmIWUuSnUpcmV0dXJuIEUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJObyByZWdpc3RlcmVkIGRlZmF1bHQgSGl2ZVJlcXVlc3RGYWN0b3J5IHRlY2hcIixlLmxvZ2dlcklkKSxlLkp1PSEwLGUuZ2V0T3JpZ2luYWxYaHIoKTt0PU9iamVjdC5rZXlzKGUubWFwcGluZylbMF19aWYoISh0IGluIGUubWFwcGluZykpcmV0dXJuIGUuSnV8fChFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwibm8gcmVnaXN0ZXJlZCBIaXZlUmVxdWVzdEZhY3RvcnkgdGVjaCBmb3Igc2Vzc2lvblwiLHtzZXNzaW9uSWQ6dH0pLGUuSnU9ITApLGUuZ2V0T3JpZ2luYWxYaHIoKTt2YXIgcj1lLm1hcHBpbmdbdF07c3dpdGNoKHIudGVjaCl7Y2FzZVwiSGl2ZUpTXCI6cmV0dXJuIHY/ci5YdT9uZXcgeSh0KTooci5YdT0hMCxuZXcgVCh0KSk6ZS5nZXRPcmlnaW5hbFhocigpO2Nhc2VcIkhpdmVKc1Byb3h5XCI6cmV0dXJuIHIuWHU/bmV3IHAuWnUodCk6KHIuWHU9ITAsbmV3IGQuJHUodCkpO2Nhc2VcIkhpdmVKYXZhXCI6Y2FzZVwiU3RhdHNKU1wiOnJldHVybiBlLmdldE9yaWdpbmFsWGhyKCl9fXJldHVybiBlLmdldE9yaWdpbmFsWGhyPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE9yaWdpbmFsWE1MSHR0cFJlcXVlc3Q/bmV3IE9yaWdpbmFsWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fSxlLmNsZWFyPWZ1bmN0aW9uKCl7ZS5tYXBwaW5nPXt9fSxlLmNsZWFyU2Vzc2lvblN0YXRlPWZ1bmN0aW9uKHQpe2lmKHQgaW4gZS5tYXBwaW5nKXt2YXIgcj1lLm1hcHBpbmdbdF07Zm9yKHZhciBpIGluIHIpXCJ0ZWNoXCIhPT1pJiZkZWxldGUgcltpXX19LGUuY2xlYXJTZXNzaW9uPWZ1bmN0aW9uKHQpe3QgaW4gZS5tYXBwaW5nJiZkZWxldGUgZS5tYXBwaW5nW3RdfSxlLnJlZ2lzdGVyVGVjaD1mdW5jdGlvbih0LHIpe3QgaW4gZS5tYXBwaW5nfHwoZS5tYXBwaW5nW3RdPXt9KSxlLm1hcHBpbmdbdF0udGVjaD1yfSxlfSgpO20ubWFwcGluZz17fSxtLkp1PSExLG0ubG9nZ2VySWQ9XCJbSGl2ZVJlcXVlc3RGYWN0b3J5XVwiLHQuSGl2ZVJlcXVlc3RGYWN0b3J5PW07dmFyIEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMuZWw9ITEsdGhpcy50aWNrZXRVcmw9ZSx0aGlzLnRpY2tldD10LHRoaXMubWFuaWZlc3Q9cix0aGlzLnRsPWEuZGVmZXIoKSx0aGlzLnJsPWksdGhpcy5ybCYmdGhpcy50bC5yZXNvbHZlKHRoaXMucmwpfXJldHVybiBlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMudGVjaCYmdGhpcy50ZWNoLmlzQWN0aXZlKGUsdGhpcyl9LGUucHJvdG90eXBlLmlsPWZ1bmN0aW9uKGUpe3RoaXMuZWwhPWUmJih0aGlzLmVsPWUsdGhpcy50ZWNoJiZ0aGlzLnRlY2gubmwodGhpcyxlKSl9LGUucHJvdG90eXBlLmdldFRlY2hOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVjaCYmdGhpcy50ZWNoLmdldE5hbWUoKXx8dm9pZCAwfSxlLnByb3RvdHlwZS5zbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSx0aGlzLmVsPSEwLG51bGwhPXRoaXMudGVjaClyZXR1cm4gdGhpcy50ZWNoLm9sKHRoaXMsZSx0KX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWNrZXQudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUudG9IaXZlU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPW5ldyBsO3JldHVybiBlLmlkPXRoaXMuaWQsZS50aWNrZXRVcmw9dGhpcy50aWNrZXRVcmwsZS5tYW5pZmVzdD10aGlzLm1hbmlmZXN0LGUudGVjaD10aGlzLnRlY2guZ2V0TmFtZSgpLGV9LGUucHJvdG90eXBlLmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGwuU3N9LGUucHJvdG90eXBlLmhsPWZ1bmN0aW9uKGUpe3RoaXMucmw9ZSx0aGlzLnRsLnJlc29sdmUodGhpcy5ybCl9LGV9KCk7dC5jbD1JO3ZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LnVsPVM7dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zdWNjZXNzPTAsdGhpcy5sbD0wLHRoaXMuYnl0ZXM9MH1yZXR1cm4gZX0oKTt0LnBsPVI7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5kbD0wLHRoaXMuZmw9MCx0aGlzLmdsPW5ldyBvLHRoaXMuRWw9bmV3IG99cmV0dXJuIGUucHJvdG90eXBlLmFjY291bnRDb21wbGV0ZWQ9ZnVuY3Rpb24oZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBuPWU/dGhpcy5nbDp0aGlzLkVsO24uaGFzKHQpfHxuLnNldCh0LG5ldyBSKTt2YXIgcz1uLmdldCh0KTtzLmJ5dGVzKz1yLGkmJnMuc3VjY2VzcysrfSxlLnByb3RvdHlwZS5hY2NvdW50RmFpbGVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZT90aGlzLmdsOnRoaXMuRWw7ci5oYXModCl8fHIuc2V0KHQsbmV3IFIpLHIuZ2V0KHQpLmxsKyt9LGUucHJvdG90eXBlLnVwZGF0ZUJhbmR3aWR0aD1mdW5jdGlvbihlKXt0aGlzLmJhbmR3aWR0aD1lfSxlLnByb3RvdHlwZS5iaXRyYXRlU3dpdGNoVXA9ZnVuY3Rpb24oKXt0aGlzLmRsKyt9LGUucHJvdG90eXBlLmJpdHJhdGVTd2l0Y2hEb3duPWZ1bmN0aW9uKCl7dGhpcy5mbCsrfSxlLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYW5kd2lkdGh9LGUucHJvdG90eXBlLmdldFZpZGVvQml0cmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbH0sZS5wcm90b3R5cGUuZ2V0QXVkaW9CaXRyYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVsfSxlLnByb3RvdHlwZS5nZXRCaXRyYXRlU3dpdGNoVXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kbH0sZS5wcm90b3R5cGUuZ2V0Qml0cmF0ZVN3aXRjaERvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbH0sZX0oKTt0LkhpdmVQbGF5ZXJFeHRlbmRlZFN0YXRzPXc7dmFyIGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcztpZihlLmZlKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBJbnN0YW50aWF0aW9uIGZhaWxlZDogVXNlIFZpc2liaWxpdHlDaGFuZ2VMaXN0ZW5lci5nZXRJbnN0YW5jZSgpIGluc3RlYWQgb2YgbmV3LlwiKTt2YXIgcixpO3ZvaWQgMCE9PWRvY3VtZW50LmhpZGRlbj8ocj1cImhpZGRlblwiLGk9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIpOnZvaWQgMCE9PWRvY3VtZW50Lm1zSGlkZGVuPyhyPVwibXNIaWRkZW5cIixpPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIpOnZvaWQgMCE9PWRvY3VtZW50LndlYmtpdEhpZGRlbiYmKHI9XCJ3ZWJraXRIaWRkZW5cIixpPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiKSx2b2lkIDAhPT1kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiZ2b2lkIDAhPT1kb2N1bWVudFtyXT9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGksZnVuY3Rpb24oKXt2YXIgZT0hZG9jdW1lbnRbcl07dC52bC5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuY2FsbCh0LGUpfSl9LCExKTplLmxvZ2dlciYmZS5sb2dnZXIuZGVidWcoXCJ3YXJuIC0gdmlzaWJpbGl0eUNoYW5nZSBsaXN0ZW5lciBub3Qgc3VwcG9ydGVkXCIpLHRoaXMudmw9bmV3IEFycmF5fXJldHVybiBlLnZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5sb2dnZXI9dCksdm9pZCAwPT09dGhpcy5mZSYmKHRoaXMuZmU9bmV3IGUpLHRoaXMuZmV9LGUucHJvdG90eXBlLnlsPWZ1bmN0aW9uKGUpe3RoaXMudmwucHVzaChlKX0sZX0oKTt0LlRsPWIsdC5tbD1pLHQuSWw9bix0LlNsPXM7dmFyIEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldEl0ZW09ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U/d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19LGUuc2V0SXRlbT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4hIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSYmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsdCksITApfWNhdGNoKGUpe3JldHVybiExfX0sZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UmJndpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe3JldHVybiBudWxsfX0sZX0oKTt0LlJsPUM7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMud2w9ZX1yZXR1cm4gZS5wcm90b3R5cGUuYmw9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5pc0VxdWFsKHRoaXMuQ2wsZSl8fCh0aGlzLl9sPXQpLHRoaXMuQ2w9ZSx0LXRoaXMuX2w+PXRoaXMud2x9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSx0KXtpZihlJiZ0KXtyZXR1cm5bdC5QbC1lLlBsLHQuQWwtZS5BbCx0Lk9sLWUuT2xdLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlJiZNYXRoLmFicyh0KTwxMH0sITApfXJldHVybiExfSxlfSgpO3QuTmw9Xzt2YXIgUD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0UHJpdmF0ZUlwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UHJpdmF0ZUlwKCk7cmV0dXJuIGYuSGl2ZUNvbmZpZy5TZW5zaXRpdmVJbmZvLnJlc3RyaWN0ZWRDb25uZWN0aXZpdHlJbmZvJiZ0JiYodD10LnJlcGxhY2UoL1swLTldKiQvLFwiMFwiKSksdH0sZS5EbD1mdW5jdGlvbihlKXtyZXR1cm4gZi5IaXZlQ29uZmlnLlNlbnNpdGl2ZUluZm8ucmVzdHJpY3RlZENvbm5lY3Rpdml0eUluZm8/Zi5IaXZlQ29uZmlnLlNlbnNpdGl2ZUluZm8uaGlkZGVuSG9zdG5hbWVWYWx1ZTplLmdldEhvc3ROYW1lKCl9LGV9KCk7dC5rbD1QfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNCkscz1yKDApLG89cigyMiksYT1yKDgpLGg9cigzMik7IWZ1bmN0aW9uKGUpe2VbZS5TVE9QPTBdPVwiU1RPUFwiLGVbZS5JRExFPTFdPVwiSURMRVwiLGVbZS5MbD0yXT1cIlBMQVlcIn0odC5NbHx8KHQuTWw9e30pKTt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy50aWNrZXQ9ZSx0aGlzLkZsPXQsdGhpcy5hcHA9cix0aGlzLmlkZW50aXR5PWksdGhpcy5VbD1zLkZyYW1ld29yay5yZXNvbHZlKGEucGMuY2MpLHRoaXMuQmw9cy5GcmFtZXdvcmsucmVzb2x2ZShhLnBjLmljKSx0aGlzLkhsPXMuRnJhbWV3b3JrLnJlc29sdmUoYS5wYy51YyksdGhpcy54bD1uZXcgby5HbC5xbCh0aGlzLkhsKX1yZXR1cm4gZS5wcm90b3R5cGUuVmw9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYXBwPW5ldyB1KGUsdCksdGhpcy5VbC5WbCh0aGlzLmFwcCksdGhpcy5IbC5WbCh0aGlzLmFwcCxyKX0sZS5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSl7dGhpcy5CbC5ubChlKX0sZS5wcm90b3R5cGUuamw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJTdGF0c0NhbGxiYWNrfSxlLnByb3RvdHlwZS5RbD1mdW5jdGlvbihlKXt0aGlzLnJlbmRlclN0YXRzQ2FsbGJhY2s9ZX0sZX0oKTt0LktsPWM7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5hcHA9ZSx0aGlzLnZlcnNpb249dH1yZXR1cm4gZX0oKTt0LllsPXU7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5wMnBJZD1udWxsLHRoaXMuV2w9bnVsbCx0aGlzLnpsPW5ldyBpLHRoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIklOSVQgUkVQT1JUSU5HXCIpLHRoaXMuRmw9cy5GcmFtZXdvcmsucmVzb2x2ZShhLnBjLkcpLHRoaXMuSmw9cy5GcmFtZXdvcmsucmVzb2x2ZShhLnBjLk0pLHRoaXMuWGw9cy5GcmFtZXdvcmsucmVzb2x2ZShhLnBjLm5jKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdFNlc3Npb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMscz1uLmRlZmVyKCksbz10aGlzLkpsLlpsKCksYT10aGlzLlhsLiRsKGUpO3JldHVybiBudWxsIT1yJiYoYS50ZXN0SWQ9ciksbnVsbCE9YT9vLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkuZXAoZSxhLHMsdCl9KS5mYWlsKHMucmVqZWN0KTpzLnJlamVjdChcIlRpY2tldCBVUkwgbm90IHZhbGlkXCIpLHMuU3N9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe2U/KHRoaXMuemwuZGVsZXRlKGUpLDA9PXRoaXMuemwubGVuZ3RoJiZ0aGlzLkZsLmNsb3NlKCkpOih0aGlzLnpsLmNsZWFyKCksdGhpcy5GbC5jbG9zZSgpKX0sZS5wcm90b3R5cGUuZXA9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpczt0aGlzLnAycElkPWUudHAoKSx0aGlzLldsPWUucnAoKTt2YXIgcz10aGlzLkZsLmluaXQodGhpcy5wMnBJZCx0KSxvPXRoaXMuWGwucmVzb2x2ZShzLm5wLHQsaSk7cy5Tcy50aGVuKGZ1bmN0aW9uKHQpe28udGhlbihmdW5jdGlvbih0KXt2YXIgaT10LnNlc3Npb25JZDtpZihuLnpsLmhhcyhpKSl7dmFyIHM9bi56bC5nZXQoaSk7bi5sb2dnZXIud2FybihcIlNFU1NJT04gQUxSRUFEWSBFWElTVElORyBcIitzLlVsLnRpY2tldCl9ZWxzZXt2YXIgbz1uZXcgdShoLkhpdmUuc3AoKSxoLkhpdmUuZ2V0VmVyc2lvbigpKSxhPW5ldyBjKHQsbi5GbCxvLGUpO2EuVWwuaW5pdChuLldsLHQsbyxpKSxhLkhsLmluaXQobi5XbCxvKSxhLkhsLm9wKHQpLG4uemwuc2V0KGksYSksbi5sb2dnZXIuZGVidWcoXCJTRVNTSU9OIFNFVCBcIixpKSxyLnJlc29sdmUoYSl9fSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gci5yZWplY3QoZXx8XCJFcnJvciByZXNvbHZpbmcgdGhlIHRpY2tldFwiKX0pLHQub25lcnJvcihmdW5jdGlvbihlKXtyLnJlamVjdChcIkVycm9yIGVzdGFibGlzaGluZyBjb25uZWN0aW9uIHRvIEhpdmUgU2VydmljZXNcIil9KX0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVqZWN0KGUpfSksdGhpcy5GbC5jb25uZWN0KCl9LGUucHJvdG90eXBlLmFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaHAoKT09PXQuaHAoKSYmZS5jcCgpPT09dC5jcCgpJiZlLnVwKCk9PT10LnVwKCl9LGV9KCk7dC5scD1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0MSksbj1yKDI5KSxzPXIoNDIpLG89cig2KTtvLmhlLmxoLG8uaGUudWgsby5oZS5waDtpZih2b2lkIDA9PT1hKXZhciBhPTNlNDshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubW9uaXRvclBvcnQ9bi5MLnBwP3MuZnAuZHA6cy5mcC5ncCx0aGlzLnBsYXllclBvcnQ9bi5MLnBwP3MuZnAuRXA6cy5mcC52cCx0aGlzLmZlZWRiYWNrUGVyaW9kPTJlMyx0aGlzLmlkbGVUaW1lUGVyaW9kPTZlNCx0aGlzLnVzZVNlc3Npb25DaGVjaz1uLkwueXAsdGhpcy5kZWJ1Z0xldmVsPVwibm90aWNlXCIsdGhpcy5oaXZlVGVjaE9yZGVyPVtdLHRoaXMudGVsZW1ldHJ5SWQ9bnVsbCx0aGlzLnNpbGVudD0hMSx0aGlzLmxvZ2dlclRpbWVzdGFtcD1pLkhpdmVDb25maWcuRnJhbWV3b3JrLkxvZ2dlclRpbWVzdGFtcCx0aGlzLnRlc3RJZD1udWxsLHRoaXMucGx1Z2luVGltZW91dD1hLHRoaXMub25Tb3VyY2VTZXRDb21wbGV0ZWQ9ZnVuY3Rpb24oZSl7fSx0aGlzLm9uTG9hZGluZ0NvbXBsZXRlZD1mdW5jdGlvbihlKXt9LHRoaXMuZGV0ZWN0UHJpdmF0ZUlQPW8uaGUuQ2gsdGhpcy5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7fX1yZXR1cm4gZX0oKTtlLk9wdGlvbnM9dDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmluaXRUaW1lb3V0PTNlNCx0aGlzLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LHRoaXMub25BY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKGUpe319cmV0dXJuIGV9KCk7ZS5UcD1yO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaGl2ZVBsYXllclBvcnQ9XCJwbGF5ZXJQb3J0XCIsdGhpcy5oaXZlTW9uaXRvclBvcnQ9XCJtb25pdG9yUG9ydFwiLHRoaXMuaGl2ZVNpbGVudD1cInNpbGVudFwiLHRoaXMuaGl2ZURlYnVnTGV2ZWw9XCJkZWJ1Z0xldmVsXCIsdGhpcy5oaXZlRGVidWdUaW1lc3RhbXA9XCJsb2dnZXJUaW1lc3RhbXBcIix0aGlzLmhpdmVTZXR1cFRpbWVvdXQ9XCJzZXR1cFRpbWVvdXRcIix0aGlzLmhpdmVKYXZhVGltZW91dD1cImluaXRUaW1lb3V0XCIsdGhpcy5oaXZlV2FybkphdmFUaW1lb3V0PVwid2FyblNsb3dSZXNwVGltZW91dFwiLHRoaXMuaGl2ZVRlc3RJZD1cInRlc3RJZFwiLHRoaXMuaGl2ZURldGVjdFByaXZhdGVJUD1cImRldGVjdFByaXZhdGVJUFwifXJldHVybiBlfSgpO2UubXA9aH0oZS5PcHRpb25zfHwoZS5PcHRpb25zPXt9KSl9KHQuSGl2ZUNvbW18fCh0LkhpdmVDb21tPXt9KSk7dmFyIGg7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LmVuYWJsZWRSVU09ITEsdC5lbmFibGVLZXlDb21iaW5hdGlvbj0hMCx0LmVuYWJsZWRFcnJvckZpbHRlcj0hMCxlLkVycm9yTW9uaXRvcj10fShoPXQuSGl2ZUNvbmZpZ3x8KHQuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5FcnJvck1vbml0b3I9aC5FcnJvck1vbml0b3IpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtmb3IodmFyIHI9ZVswXSxpPTE7aTxlLmxlbmd0aDtpKyspe3ZhciBuPW5ldyBSZWdFeHAoXCJcXFxce1wiKyhpLTEpK1wiXFxcXH1cIixcImdtXCIpO3I9ci5yZXBsYWNlKG4sZVtpXSl9cmV0dXJuIHJ9ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJnQuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pfWZ1bmN0aW9uIHMoZSx0LHIpe3ZhciBpPW5ldyBkKGUpLnF1ZXJ5KCEwKTtmb3IodmFyIG4gaW4gaSl0cnl7aWYoaS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5oYXNPd25Qcm9wZXJ0eShuKSYmci5oYXNPd25Qcm9wZXJ0eSh0W25dKSl7dmFyIHM9dFtuXSxhPWlbbl07cltzXT1vKGEscltzXSl9fWNhdGNoKGUpe319ZnVuY3Rpb24gbyhlLHQpe3ZhciByO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwibnVtYmVyXCI6cj1wYXJzZUludChlKTticmVhaztjYXNlXCJib29sZWFuXCI6cj1cInRydWVcIj09PWU7YnJlYWs7ZGVmYXVsdDpyPWV9cmV0dXJuIHJ9ZnVuY3Rpb24gYShlLHQpe2Z1bmN0aW9uIHIoKXtpZighZSgpKXJldHVybiBpLnJlc29sdmUoITApO3Aud2hlbih0KCkscixpLnJlamVjdCl9dmFyIGk9cC5kZWZlcigpO3JldHVybiBwLlRzKHIpLGkuU3N9ZnVuY3Rpb24gaChlLHQscixpKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITApLHZvaWQgMD09PWkmJihpPXt9KSxjKFwiR0VUXCIsZSx0LHIsaSl9ZnVuY3Rpb24gYyhlLHQscixpLG4pe3ZvaWQgMD09PWkmJihpPSEwKSx2b2lkIDA9PT1uJiYobj17fSk7dmFyIHM9cC5kZWZlcigpO3RyeXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoby5vcGVuKGUsdCxpKSx2b2lkIDAhPXImJm51bGwhPXImJm8uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLHIpLG4pZm9yKHZhciBhIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShhKSYmbnVsbCE9PW5bYV0mJm8uc2V0UmVxdWVzdEhlYWRlcihhLG5bYV0pO28ub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT1vLnN0YXR1cz9zLnJlc29sdmUoby5yZXNwb25zZSk6cy5yZWplY3Qoe3N0YXR1czpvLnN0YXR1cyxyZWFzb246by5zdGF0dXNUZXh0LGJvZHk6by5yZXNwb25zZVRleHR9KX0sby5vbmVycm9yPWZ1bmN0aW9uKGUpe3MucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOlwiTmV0d29yayBFcnJvclwifSl9LG8uc2VuZCgpfWNhdGNoKGUpe3MucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOmV9KX1yZXR1cm4gcy5Tc31mdW5jdGlvbiB1KGUsdCxyLGksbil7dm9pZCAwPT09biYmKG49ITApO3ZhciBzPXAuZGVmZXIoKTt0cnl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKG8ub3BlbihcIlBPU1RcIixlLG4pLHZvaWQgMCE9ciYmbnVsbCE9ciYmby5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsciksdm9pZCAwIT1pJiZudWxsIT1pKWZvcih2YXIgYSBpbiBpKWkuaGFzT3duUHJvcGVydHkoYSkmJm51bGwhPT1pW2FdJiZvLnNldFJlcXVlc3RIZWFkZXIoYSxpW2FdKTtvLm9ubG9hZD1mdW5jdGlvbigpezIwMD09by5zdGF0dXM/cy5yZXNvbHZlKG8ucmVzcG9uc2UpOnMucmVqZWN0KHtzdGF0dXM6by5zdGF0dXMscmVhc29uOm8uc3RhdHVzVGV4dH0pfSxvLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cy5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246XCJOZXR3b3JrIEVycm9yXCJ9KX0sby5zZW5kKHQpfWNhdGNoKGUpe3MucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOmV9KX1yZXR1cm4gcy5Tc31mdW5jdGlvbiBsKGUsdCl7dmFyIHIsaSxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpLHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImhlYWRcIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxhPW47cmV0dXJuIG4/cj1uLmhyZWY6YT1zLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpKSxhLmhyZWY9ZSxvLmhyZWY9dCxpPW8uaHJlZixuP24uaHJlZj1yOnMucmVtb3ZlQ2hpbGQoYSksaX12YXIgcD1yKDQpLGQ9cigzMCk7dC5JcD1pLHQuU3A9bix0LlJwPXMsdC53cD1hLHQuYnA9aCx0LkNwPWMsdC5fcD11LHQuJGg9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxOCkscz1yKDQ0KS5QcCxvPXIoNCksYT1yKDApLGg9cig4KSxjPXIoMjcpLHU9cigyMyksbD1yKDE0KTshZnVuY3Rpb24oZSl7ZS5BcD1cImhpdmUtY2xpZW50LXRyYWNrXCIsZS5PcD1cInRyYWNrZXZlbnRcIixlLk5wPVwiTlVMTElEXCIsZS5EcD1cIlwiO3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LmtwPTAsdC5McD0xLHQuTXA9Mix0LkZwPTEwMCx0LlVwPTIwMCxlLkJwPXQ7IWZ1bmN0aW9uKGUpe2VbZS5IcD0wXT1cIlBMQVlJTkdcIixlW2UueHA9MV09XCJCVUZGRVJJTkdcIixlW2UucXA9Ml09XCJQQVVTRURcIixlW2UuR3A9M109XCJTS0lQXCIsZVtlLlZwPTRdPVwiU1RPUFBFRFwiLGVbZS5FUlJPUj01XT1cIkVSUk9SXCIsZVtlLmpwPTZdPVwiV0lORE9XX1NJWkVcIixlW2UuUXA9N109XCJGVUxMU0NSRUVOXCIsZVtlLktwPThdPVwiVklTSUJMRVwiLGVbZS5ISURERU49OV09XCJISURERU5cIn0oZS5ZcHx8KGUuWXA9e30pKTshZnVuY3Rpb24oZSl7ZVtlLldwPTBdPVwiSkFWQV9OT1RfUkVBQ0hBQkxFXCIsZVtlLnpwPTFdPVwiSkFWQV9OT1RfUkVBRFlcIixlW2UuSnA9Ml09XCJKQVZBX1dST05HX1ZFUlNJT05cIixlW2UuWHA9M109XCJKQVZBX1NFU1NJT05fQlVTWVwiLGVbZS5acD00XT1cIkpBVkFfU0VTU0lPTl9FUlJPUlwiLGVbZS4kcD01XT1cIkpBVkFfVElDS0VUX1RJTUVPVVRcIn0oZS50ZHx8KGUudGQ9e30pKTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ZS5yZD1yO3ZhciBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLm5kPXA7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2Uuc2Q9ZDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnR5cGU9dC5NcH1yZXR1cm4gZX0oKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuc2Vzc2lvbnM9bmV3IEFycmF5fXJldHVybiBlLnByb3RvdHlwZS5vZD1mdW5jdGlvbihlLHQpe3ZhciByO3RoaXMuc2Vzc2lvbnMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnNlc3Npb25JZD09ZSYmKHI9dCl9KSxyfHwocj1uZXcgRSxyLnNlc3Npb25JZD1lLHRoaXMuc2Vzc2lvbnMucHVzaChyKSksci5ldmVudHMucHVzaCh0KX0sZX0oKTtlLmFkPWc7dmFyIEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5ldmVudHM9bmV3IEFycmF5fXJldHVybiBlfSgpO2UuaGQ9RTt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy51ZD1hLkZyYW1ld29yay5yZXNvbHZlKGgucGMuc2MpLHRoaXMubGQ9bmV3IEFycmF5LHRoaXMucGQ9bmV3IEFycmF5LHRoaXMuZGQ9bmV3IEFycmF5fXJldHVybiB0LnByb3RvdHlwZS5mZD1mdW5jdGlvbihlKXt0aGlzLmNsaWVudD1lfSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5nZD1lLHRoaXMuVmwodCksdGhpcy5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdIElOSVQgSUQ6IFwiK2UpfSx0LnByb3RvdHlwZS5WbD1mdW5jdGlvbihlLHQpe3RoaXMuYXBwPWUsdCYmKHRoaXMuRWQ9dCl9LHQucHJvdG90eXBlLnVwZGF0ZVBsYXllckluZm89ZnVuY3Rpb24oZSl7dGhpcy52ZD1lfSx0LnByb3RvdHlwZS5vcD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVChlLHRoaXMpO3RoaXMubGQucHVzaCh0KSx0aGlzLnlkPW51bGwsdGhpcy5jbGllbnQuVGQoITApfSx0LnByb3RvdHlwZS5YdT1mdW5jdGlvbihlLHQscil7aWYoIXRoaXMueWQpZm9yKHZhciBpPTA7aTx0aGlzLmxkLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMubGRbaV07aWYobi50aWNrZXQuc2Vzc2lvbklkPT09ZSl7dGhpcy5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdIEFjdGl2YXRpbmcgVHJhY2sgZm9yIHNlc3Npb24gXCIrZSksdGhpcy55ZD1uO2JyZWFrfX1pZih0aGlzLnlkKXtpZih0aGlzLnlkLnRpY2tldC5zZXNzaW9uSWQhPWUpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybihcIltUUkFDS10gaWdub3JpbmcgbWFuaWZlc3Qgbm90IG1hdGNoaW5nIGV2ZW50IFwiK3RoaXMueWQudGlja2V0LnNlc3Npb25JZCtcIiAhPSBcIitlKTtpZighdGhpcy55ZC5tZCl7dmFyIHM9bmV3IG0oZSx0LHIpO3RoaXMueWQuSWQocyksdGhpcy5jbGllbnQuVGQoKX19fSx0LnByb3RvdHlwZS5TZD1mdW5jdGlvbihlLHQscil7bnVsbCE9dGhpcy55ZCYmKHRoaXMueWQubWR8fHRoaXMueWQuUmQucHVzaChuZXcgdyhlLHQscikpKX0sdC5wcm90b3R5cGUud2Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMucGQucHVzaChuZXcgUyhlLHQscikpLHRoaXMuY2xpZW50LlRkKCl9LHQucHJvdG90eXBlLmJkPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmRkLnB1c2gobmV3IFIoZSx0LHIpKSx0aGlzLmNsaWVudC5UZCgpfSx0LnByb3RvdHlwZS5DZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UmJmUuZm9yRWFjaChmdW5jdGlvbihlKXt0LmRkLnB1c2goZSl9KX0sdC5wcm90b3R5cGUuUGQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgcDt0aGlzLkVkPyhlLnBhcnRuZXJJZD10aGlzLkVkLnBhcnRuZXJJZCxlLmN1c3RvbWVySWQ9dGhpcy5FZC5jdXN0b21lcklkKTpsLkhpdmVDb25maWcuQ2xpZW50SW5mby5jdSYmbC5IaXZlQ29uZmlnLkNsaWVudEluZm8udXU/KGUucGFydG5lcklkPWwuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLmN1LGUuY3VzdG9tZXJJZD1sLkhpdmVDb25maWcuQ2xpZW50SW5mby51dSk6dGhpcy55ZCYmKGUucGFydG5lcklkPXRoaXMueWQudGlja2V0LnVwKCksZS5jdXN0b21lcklkPXRoaXMueWQudGlja2V0LmNwKCkpLGUudmVyc2lvbj10aGlzLmFwcC5hcHArXCJfXCIrKHRoaXMuRWQ/dGhpcy5FZC52ZXJzaW9uOnRoaXMuYXBwLnZlcnNpb24pLHRoaXMuRWQmJihlLmluc3RhbGxWZXJzaW9uPXRoaXMuRWQuaW5zdGFsbFZlcnNpb24sZS5pbnN0YWxsVHM9dGhpcy5FZC5pbnN0YWxsVHMpO3ZhciB0PW5ldyBzO3JldHVybiB0LkFkKG5hdmlnYXRvci51c2VyQWdlbnQpLGUub3M9dC5PZCgpLm5hbWUrXCIgXCIrdC5PZCgpLnZlcnNpb24sdGhpcy52ZCYmKGUuY29tbVZlcnNpb249dGhpcy52ZC5jb21tVmVyc2lvbixlLnBsdWdpbk5hbWU9dGhpcy52ZC5wbHVnaW5OYW1lLGUucGx1Z2luVmVyc2lvbj10aGlzLnZkLnBsdWdpblZlcnNpb24sZS5wbGF5ZXJUZWNoPXRoaXMudmQucGxheWVyVGVjaCxlLnBsYXllclZlcnNpb249dGhpcy52ZC5wbGF5ZXJWZXJzaW9uLHRoaXMudmQudGVsZW1ldHJ5SWQmJihlLnRlbGVtZXRyeUlkPXRoaXMudmQudGVsZW1ldHJ5SWQpKSxlfSx0LnByb3RvdHlwZS5OZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlkP3RoaXMueWQ6dGhpcy5sZCYmdGhpcy5sZC5sZW5ndGg+MD90aGlzLmxkW3RoaXMubGQubGVuZ3RoLTFdOnZvaWQgMH0sdC5wcm90b3R5cGUuRGQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztpZih2b2lkIDA9PT10JiYodD0hMCksMD09dGhpcy5sZC5sZW5ndGgmJjA9PXRoaXMucGQubGVuZ3RoKXJldHVybiB0P28ucmVqZWN0KFwibm90aGluZyB0byBzZW5kXCIpOih0aGlzLmxvZ2dlci5kZWJ1ZyhcIltUUkFDS10gIE5PVEhJTkcgVE8gU0VORFwiKSxudWxsKTt2YXIgbj1uZXcgcjtuLmFwcD1lLkFwLG4uY3JlYXRlZEF0PWEuRnJhbWV3b3JrLnRpbWUoKSxuLmd1aWQ9dGhpcy5nZCxuLm5hbWU9ZS5PcDt2YXIgcz10aGlzLk5kKCk7aWYocyl7dmFyIGg9cy50aWNrZXQua2QoKS5yZXBsYWNlKC9bXFxbXFxdXS9nLFwiXCIpO24udGFncz1baF0sbi50YWdzLnB1c2gocy50aWNrZXQudXAoKSksbi50YWdzLnB1c2gocy50aWNrZXQuY3AoKSl9ZWxzZSBuLnRhZ3M9bmV3IEFycmF5O3ZhciBjPW5ldyBnO2lmKGMucGVlcj10aGlzLlBkKCksdGhpcy5sZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UubWR8fGMub2QoZS50aWNrZXQuc2Vzc2lvbklkLGUpfSksdGhpcy5wZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Mub2QoZS5zZXNzaW9uSWQsZSl9KSx0aGlzLmRkLmZvckVhY2goZnVuY3Rpb24oZSl7Yy5vZChlLnNlc3Npb25JZCxlKX0pLG4uZGF0YT1jLHQpcmV0dXJuIHRoaXMudWQuZ2V0Q29ubmVjdGl2aXR5SW5mbygpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9aS5MZChlKTtyZXR1cm4gYy5vZChcIm51bGxcIix0KSxufSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gbn0pO3ZhciB1PXRoaXMuTGQodGhpcy51ZC5NZCgpKTtyZXR1cm4gYy5vZChcIm51bGxcIix1KSxufSx0LnByb3RvdHlwZS5MZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZjt0LnRzPWEuRnJhbWV3b3JrLnRpbWUoKTt2YXIgcj1lLmdldE5ldHdvcmtDaGFuZ2VkKCk7cmV0dXJuIHIuZ2V0UHVibGljSXAoKSYmKHQucHViSXA9ci5nZXRQdWJsaWNJcCgpKSxyLmdldFByaXZhdGVJcCgpJiYodC5wcml2SXA9bi5rbC5nZXRQcml2YXRlSXAocikpLGUuZ2V0SG9zdE5hbWUoKSYmKHQuaG9zdG5hbWU9bi5rbC5EbChlKSksci5nZXRDaWRyKCkmJih0Lm5ldG1hc2s9ci5nZXRDaWRyKCkpLHIuZ2V0TmljKCkmJih0Lm5pYz1yLmdldE5pYygpKSxyLmdldE5pY05hbWUoKSYmKHQubmljTmFtZT1yLmdldE5pY05hbWUoKSksci5nZXRNYWNBZGRyZXNzKCkmJih0Lm1hYz1yLmdldE1hY0FkZHJlc3MoKSksdH0sdC5wcm90b3R5cGUuRmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FZD90aGlzLkVkLnVzZXJBZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubGQ9bmV3IEFycmF5LHRoaXMucGQ9bmV3IEFycmF5LHRoaXMuZGQ9bmV3IEFycmF5fSx0LnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt9LHR9KCk7ZS5CZD12O3ZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLkhkPWlzTmFOKGwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3MpPzA6bC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncyx0aGlzLkhsPWUsdGhpcy5sb2dnZXI9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMuY2xpZW50PWEuRnJhbWV3b3JrLnJlc29sdmUoaC5wYy5HKSx0aGlzLkhsLmZkKHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5UZD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHQ9ZT9jLkdkLnFkLnhkOmMuR2QucWQuVmQ7aWYodGhpcy5qZCl7dGhpcy5RZC0obmV3IERhdGUpLmdldFRpbWUoKT50JiYoYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuamQpLHRoaXMuUWQ9bnVsbCx0aGlzLktkKHQpKX1lbHNlIHRoaXMuS2QodCl9LGUucHJvdG90eXBlLllkPWZ1bmN0aW9uKCl7dGhpcy5qZCYmKGEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLmpkKSx0aGlzLlFkPXRoaXMuamQ9bnVsbCl9LGUucHJvdG90eXBlLktkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5qZD1hLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5XZCgpfSxlKSx0aGlzLlFkPShuZXcgRGF0ZSkuZ2V0VGltZSgpK2V9LGUucHJvdG90eXBlLldkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuamQ9bnVsbCx0aGlzLlFkPW51bGw7dmFyIHI9dGhpcy5IbC5EZChlKTtlPyh0aGlzLmxvZ2dlci5kZWJ1ZyhcIltUUkFDS10gVEFLSU5HIEEgVFJBQ0sgU05BUFNIT1RcIiksci50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvcndhcmQoZSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmRlYnVnKFwiW1RSQUNLXSAgRVJST1IgR0VORVJBVElORy9TRU5ESU5HIFRIRSBUUkFDSyBTTkFQU0hPVDogXCIsZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7cmV0dXJuIHQuSGwucmVzZXQoKX0pLmRvbmUoKSk6KHRoaXMubG9nZ2VyLmRlYnVnKFwiW1RSQUNLXSBGTFVTSElORyBUUkFDSyBTTkFQU0hPVFwiKSx0aGlzLmZvcndhcmQociksdGhpcy5IbC5yZXNldCgpKX0sZS5wcm90b3R5cGUuZm9yd2FyZD1mdW5jdGlvbihlKXtpZih0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKSYmZSl7dmFyIHQ9SlNPTi5zdHJpbmdpZnkoZSk7c3dpdGNoKHRoaXMuSGQpe2Nhc2UgMDpkZWZhdWx0OnRoaXMubG9nZ2VyLmRlYnVnKFwiW1RSQUNLXSBUUkFDSyBFVkVOVFwiKTticmVhaztjYXNlIDE6dGhpcy5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdIFRSQUNLIEVWRU5UOlwiK3QpfXZhciByPW5ldyB1LkpkKFNlcnZpY2VzLlhkLDIsdCk7dGhpcy5jbGllbnQuemQoKS5zZW5kKHIpfX0sZS5wcm90b3R5cGUuWmQ9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApLGU/KHRoaXMuWWQoKSx0aGlzLktkKGMuR2QucWQuJGQpKTp0aGlzLldkKCExKX0sZX0oKTtlLnFsPXk7dmFyIFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jcmVhdGVkQXQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5tZD0hMSx0aGlzLnRpY2tldD1lLHRoaXMubWFuaWZlc3RzPW5ldyBBcnJheSx0aGlzLlJkPW5ldyBBcnJheSx0aGlzLkhsPXR9cmV0dXJuIGUucHJvdG90eXBlLklkPWZ1bmN0aW9uKGUpe3RoaXMubWFuaWZlc3RzLnB1c2goZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O2UudHlwZT10LmtwLGUudGlja2V0PXt9LGUudGlja2V0LnVybD10aGlzLnRpY2tldC50aWNrZXRVcmwsZS50aWNrZXQucmVxVHM9dGhpcy50aWNrZXQuZWYsZS50aWNrZXQucmVzcFRzPXRoaXMudGlja2V0LnJmLGUudGlja2V0LnVzZXJBZ2VudD10aGlzLkhsLkZkKCksbnVsbCE9dGhpcy50aWNrZXQudGVzdElkJiYoZS50aWNrZXQudGVzdElkPXRoaXMudGlja2V0LnRlc3RJZCksZS5tYW5pZmVzdHM9W10sdGhpcy5tYW5pZmVzdHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj17fTtyLnVybD10LnVybCxyLnJlc3BUcz10LnJmLHIucmVzcENvZGU9dC5yZXNwQ29kZSxlLm1hbmlmZXN0cy5wdXNoKHIpfSk7dmFyIHI9LTEsaT0tMSxuPS0xO3JldHVybiB0aGlzLlJkLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pZj4wJiYoLTE9PXImJihyPWUudHMsaT1lLmlmKSxuPWUuaWYpfSksLTEhPXImJihlLnBsYXlUcz1yKSwtMSE9biYmKGUuYnVmZlRpbWU9biksLTEhPWkmJihlLmluaXRCdWZmVGltZT1pKSxlfSxlfSgpO2UubmY9VDt2YXIgbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuZXZlbnRJZD1lLHRoaXMudXJsPXQsdGhpcy5yZj0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnJlc3BDb2RlPXJ9cmV0dXJuIGV9KCk7ZS5zZj1tO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuc2Vzc2lvbklkPWUsdGhpcy5zZXNzaW9uSWR8fCh0aGlzLnNlc3Npb25JZD1cIm51bGxcIiksdGhpcy5ldmVudD10LHRoaXMuYWY9cixpJiYodGhpcy50cz1pKX1yZXR1cm4gZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUudHlwZT10aGlzLmhmK3RoaXMuZXZlbnQsZS50cz10aGlzLnRzLHRoaXMuYWYmJihlLnBhcmFtZXRlcnM9dGhpcy5hZiksZX0sZX0oKTtlLmNmPUk7dmFyIFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihyLGksbixzKXt2YXIgbz1lLmNhbGwodGhpcyxyLGksbixzKXx8dGhpcztyZXR1cm4gby5oZj10LkZwLG99cmV0dXJuIGkocixlKSxyfShJKTtlLnVmPVM7dmFyIFI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihyLGksbixzKXt2YXIgbz1lLmNhbGwodGhpcyxyLGksbixzKXx8dGhpcztyZXR1cm4gby5oZj10LlVwLG99cmV0dXJuIGkocixlKSxyfShJKTtlLmxmPVI7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuUGw9ZSx0aGlzLnBmPXQsdGhpcy5pZj1yfXJldHVybiBlfSgpO2UuZGY9d30odC5HbHx8KHQuR2w9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXtpZih0aGlzLmZmKXJldHVybiB0aGlzLmZmO3ZhciBlPXdpbmRvdyYmd2luZG93LndpbmRvdz93aW5kb3cud2luZG93LmdmOnZvaWQgMDtpZih2b2lkIDAhPT1lJiZlLmxvZyYmZS5kZWJ1ZyYmZS5pbmZvJiZlLndhcm4mJmUuZXJyb3ImJih0aGlzLmZmPWUpLCF0aGlzLmZmKXt2YXIgdD0hKHZvaWQgMD09PXdpbmRvdy5jb25zb2xlKSxyPXQ/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTpmdW5jdGlvbigpe307dGhpcy5mZj17bG9nOnIsZGVidWc6dCYmd2luZG93LmNvbnNvbGUuZGVidWc/d2luZG93LmNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlKTpyLGluZm86dCYmd2luZG93LmNvbnNvbGUuaW5mbz93aW5kb3cuY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSk6cix3YXJuOnQmJndpbmRvdy5jb25zb2xlLndhcm4/d2luZG93LmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpOnIsZXJyb3I6dCYmd2luZG93LmNvbnNvbGUuZXJyb3I/d2luZG93LmNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTpyfX1yZXR1cm4gdGhpcy5mZn12YXIgbj1yKDEpLHM9cigyKTt0LmxvZ2dlcklkPVwiW0hpdmVTZXJ2aWNlc10gXCI7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO28uRWY9MjUwLHQuTD1vO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5tc2dJZD10LHRoaXMuc2VydmljZT1lLHRoaXMubXNnPXJ9cmV0dXJuIGUucHJvdG90eXBlLnZmPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBVaW50OEFycmF5KFt0aGlzLnNlcnZpY2U+PjgsMjU1JnRoaXMuc2VydmljZV0pLHI9bmV3IFVpbnQ4QXJyYXkoW3RoaXMubXNnSWRdKSxpPVt0LHIsdGhpcy5tc2ddO3JldHVybiBuZXcgQmxvYihpLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5XCJ9KX1jYXRjaCh0KXt0aHJvdyBuLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VyaWFsaXppbmcgbWVzc2FnZSB0byBzZW5kIHRvIHRoZSBzZXJ2aWNlc1wiLGUubG9nZ2VySWQscy5ocy5hcy5ucyx0KSxuZXcgRXJyb3IodCl9fSxlLnlmPWZ1bmN0aW9uKHQpe3RyeXt2YXIgcj0oU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQpKSxTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodC5zbGljZSgzKSkpKSxpPW5ldyBVaW50OEFycmF5KHQuc2xpY2UoMCwyKSksbz1uZXcgVWludDhBcnJheSh0LnNsaWNlKDIsMykpO3JldHVybiBuZXcgZSgoaVswXTw8OCkraVsxXSxvWzBdLHIpfWNhdGNoKGUpe3Rocm93IG4uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBleHRyYWN0aW5nIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmljZXNcIix0aGlzLmxvZ2dlcklkLHMuaHMuYXMuc3MsZSksbmV3IEVycm9yKGUpfX0sZX0oKTthLmxvZ2dlcklkPVwiW01lc3NhZ2VdIFwiLHQuSmQ9YSx0LmxvZ2dlcj1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigwKSxuPXIoNyk7IWZ1bmN0aW9uKGUpe2VbZS5UZj0wXT1cIlVQUEVSX0xBWUVSXCIsZVtlLm1mPTFdPVwiQ0ROXCIsZVtlLklmPTJdPVwiQ0ROX1BSRUZFVENIXCIsZVtlLlNmPTNdPVwiQ0ROX0NPTVBFTlNBVElPTlwiLGVbZS5SZj00XT1cIlAyUFwiLGVbZS53Zj01XT1cIlAyUF9QUkVGRVRDSFwifSh0LmJmfHwodC5iZj17fSkpO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuQ2Y9ITEsdGhpcy5fZj0hMSx0aGlzLlBmPTAsdGhpcy5BZj0wLHRoaXMuT2Y9MCx0aGlzLk5mPTAsdGhpcy5EZj0wLHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9MCx0aGlzLmtmPTAsdGhpcy5zcmNPdGhlclJlc3BRdD0wLHRoaXMuTGY9MCx0aGlzLk1mPTAsdGhpcy5GZj0wLHRoaXMuVWY9MCx0aGlzLkJmPTB9cmV0dXJuIGV9KCk7dC5IZj1zO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuLG8pe3RoaXMueGY9ITEsdGhpcy50eXBlPXZvaWQgMCx0aGlzLnFmPW5ldyBzLHRoaXMuR2Y9ITEsdGhpcy5WZj0hMSx0aGlzLnJlc3BvbnNlSGVhZGVycz1cIlwiLHRoaXMuamY9bmV3IEFycmF5QnVmZmVyKDApLHRoaXMuUWY9MCx0aGlzLnR5cGU9cix0aGlzLktmPWUsdGhpcy5ZZj10LHRoaXMuV2Y9byx0aGlzLnpmPW4sdGhpcy5xZi5MZj1pLkZyYW1ld29yay50aW1lKCl9cmV0dXJuIGUucHJvdG90eXBlLkpmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZX0sZS5wcm90b3R5cGUuWGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56Zi5YZigpfSxlLnByb3RvdHlwZS5aZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnpmLlpmKCl9LGUucHJvdG90eXBlLiRmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWmYoKStcIi1cIit0aGlzLllmfSxlLnByb3RvdHlwZS5lZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnpmLnRnKCl9LGUucHJvdG90eXBlLnJnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemYuaWcoKX0sZS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7dGhpcy5uZz1pLkZyYW1ld29yay50aW1lKCl9LGUucHJvdG90eXBlLnNnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmc/TWF0aC5tYXgoMSx0aGlzLm5nLXRoaXMucWYuRmYpOk1hdGgubWF4KDEsdGhpcy5xZi5VZi10aGlzLnFmLkZmKX0sZS5wcm90b3R5cGUub2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZz9NYXRoLm1heCgxLHRoaXMubmctdGhpcy5xZi5NZik6TWF0aC5tYXgoMSx0aGlzLnFmLlVmLXRoaXMucWYuTWYpfSxlLnByb3RvdHlwZS5hZz1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLnFmLkRmPyhuZXcgbi5yYy5WaCkuTWgodGhpcy5zZygpLHRoaXMucWYuRGYpOihuZXcgbi5yYy5WaCkuTWgodGhpcy5vZygpLHRoaXMucWYuQWYpfSxlfSgpO3QuaGc9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTYxKSxuPXIoMzUpLHM9cigyOCksbz1zLmNnLGE9cig0KSxoPXIoMCksYz1yKDE2MyksdT1yKDE2OSksbD1yKDUpLHA9cig3KSxkPXIoMyksZj1yKDE1KSxnPXIoMSksRT1yKDIpOyFmdW5jdGlvbihlKXtlLnVnPSExO3ZhciB0OyFmdW5jdGlvbihlKXtlW2UuSGF2ZT0xXT1cIkhhdmVcIixlW2UuQ2h1bms9Ml09XCJDaHVua1wiLGVbZS5SZXF1ZXN0PTNdPVwiUmVxdWVzdFwiLGVbZS5DYW5jZWw9NF09XCJDYW5jZWxcIixlW2UuQWNrPTVdPVwiQWNrXCIsZVtlLkNsb3NlPTZdPVwiQ2xvc2VcIixlW2UuRG9Ob3RIYXZlPTddPVwiRG9Ob3RIYXZlXCIsZVtlLmxnPThdPVwiT3V0UGFydFJlcXVlc3RcIixlW2UucGc9OV09XCJPdXRQYXJ0UmVzcFwiLGVbZS5kZz0xMF09XCJVRFBIYW5kc2hha2VSZXFcIixlW2UuVURQSGFuZHNoYWtlUmVzcG9uc2U9MTFdPVwiVURQSGFuZHNoYWtlUmVzcG9uc2VcIixlW2UuVURQU3dpdGNoTGVhZGVyc2hpcFJlcXVlc3Q9MTJdPVwiVURQU3dpdGNoTGVhZGVyc2hpcFJlcXVlc3RcIixlW2UuZmc9MTNdPVwiVURQU3dpdGNoQWNrXCIsZVtlLkJpdHJhdGU9MTRdPVwiQml0cmF0ZVwiLGVbZS5IYXZlcz0xNV09XCJIYXZlc1wiLGVbZS5uZD0xNl09XCJQZWVySW5mb1wiLGVbZS5QaW5nPTE3XT1cIlBpbmdcIixlW2UuUG9uZz0xOF09XCJQb25nXCIsZVtlLmdnPTE5XT1cIk5vUGFydG5lclJlc3BcIn0odD1lLkVnfHwoZS5FZz17fSkpO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxvZ2dlcklkPVwiW0Rpc3BhdGNoZXJNYW5hZ2VyXSBcIix0aGlzLnZnPW5ldyBkLHRoaXMubG9nZ2VyPWguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5SKS5sb2coKSx0aGlzLnlnPWV9cmV0dXJuIGUucHJvdG90eXBlLlRnPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1udWxsLHI9aC5GcmFtZXdvcmsucmVzb2x2ZShmLnF1Ll91KSxpPXIubWcoZSk7cmV0dXJuIG51bGw9PWk/KHRoaXMubG9nZ2VyLndhcm4oXCJNU0cgUkVDRUlWRUQgRlJPTSBVTktOT1dOIFNXQVJNXCIpLG51bGwpOih0PW5ldyBjLklnKGksdGhpcy55Zy5TZyx0aGlzLnlnLm90aGVyR3VpZCx0aGlzLnlnKSx0aGlzLnZnLmhhcyhlKXx8dGhpcy52Zy5zZXQoZSx0KSx0aGlzLnZnLmdldChlKSl9Y2F0Y2goZSl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldyBkaXNwYXRjaGVyXCIsdGhpcy5sb2dnZXJJZCxFLmhzLnR0LmV0LGUpfX0sZS5wcm90b3R5cGUuUmc9ZnVuY3Rpb24oZSl7dGhpcy52Zy5kZWxldGUoZSl9LGUucHJvdG90eXBlLndnPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZnLmdldChlKX0sZX0oKTtlLmJnPXM7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7dGhpcy5sb2dnZXJJZD1cIltUcmFuc3BvcnRdIFwiLHRoaXMuQ2c9bnVsbCx0aGlzLl9nPWguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5SKSx0aGlzLlBnPW5ldyBzKHRoaXMpLHRoaXMuZmU9ci5BZysrLHRoaXMuT2c9aC5GcmFtZXdvcmsudGltZSgpfXJldHVybiByLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5TZz1lLHRoaXMub3RoZXJHdWlkPXQsdGhpcy5OZz1oLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLlYuRil9LHIucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIHRoaXMuUGcudmcuZm9yRWFjaChmdW5jdGlvbih0LHIpeyh0LnNlbmRlci5EZygpfHx0LnJlY2VpdmVyLkRnKCkpJiYoZT0hMCl9KSxlfSxyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUGcudmcuZm9yRWFjaChmdW5jdGlvbihlLHQpe2Uuc2VuZGVyLmtnKCl9KX0sci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUGcuUmcoZSksMD09dGhpcy5QZy52Zy5sZW5ndGgmJnRoaXMuTmcuZGlzY29ubmVjdCh0aGlzLm90aGVyR3VpZCksYShcIm9rXCIpfSxyLnByb3RvdHlwZS5MZz1mdW5jdGlvbihyLGkscyl7dHJ5e3RoaXMuT2c9aC5GcmFtZXdvcmsudGltZSgpO3ZhciBhPXMudGMoKSxjPWEuYnl0ZUxlbmd0aCx1PW8uRmcuTWcuY3JlYXRlKGEpLHA9by5VZyh1KSxkPW5ldyBuO2QuQmcociksZC5IZyhpKSxkLkJnKGMpLGQuSGcocC50b1N0cmluZygpKSxkLmFwcGVuZChhKSxkLnhnKCk7dmFyIGY9ZC50YygpLHY9cj09PXQuQ2h1bmsmJmguRnJhbWV3b3JrLkMoKT9mLmJ5dGVMZW5ndGgrbC5oaC5GYS5EYTpmLmJ5dGVMZW5ndGg7ZS51ZyYmdGhpcy5fZy5sb2coaSkuZGVidWcodGhpcy5mZStcIiBTRU5EIE1TRyBJRCBcIityK1wiLFwiK3YrXCIgSEFTSCBcIitwLnRvU3RyaW5nKCkrXCIgVE8gXCIrdGhpcy5vdGhlckd1aWQpfWNhdGNoKHQpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgbWVzc2FnZVwiLHRoaXMubG9nZ2VySWQsRS5ocy4kZS56ZSx7cWc6ZS5FZ1tyXX0pfXRyeXt0aGlzLk5nLnNlbmQodGhpcy5vdGhlckd1aWQsZix2KXx8Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIG1lc3NhZ2UgZHJvcHBlZFwiLHRoaXMubG9nZ2VySWQsRS5ocy4kZS5KZSx7cWc6ZS5FZ1tyXSxvdGhlckd1aWQ6dGhpcy5vdGhlckd1aWR9KX1jYXRjaCh0KXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBtZXNzYWdlXCIsdGhpcy5sb2dnZXJJZCxFLmhzLiRlLlhlLHtxZzplLkVnW3JdLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pLHRoaXMuX2cubG9nKGkpLndhcm4oXCJFUlJPUiBTRU5ESU5HIE1FU1NBR0UgVE8gXCIrdGhpcy5vdGhlckd1aWQrXCIgXCIrdC5zdGFjayl9fSxyLnByb3RvdHlwZS5HZz1mdW5jdGlvbihpKXt2YXIgcz10aGlzO2UudWcmJnRoaXMuX2cubG9nKCkuZGVidWcodGhpcy5mZStcIiBHT1QgTVNHIFwiK2kuYnl0ZUxlbmd0aCk7dHJ5e3ZhciBhPWguRnJhbWV3b3JrLnRpbWUoKTt0aGlzLk9nPWEsdGhpcy5WZyhpKS50aGVuKGZ1bmN0aW9uKGMpe2lmKGUudWcmJnMuX2cubG9nKCkuZGVidWcocy5mZStcIiBSRUNFSVZJTkcgXCIrYy5ieXRlTGVuZ3RoK1wiIGFmdGVyIFwiKyhoLkZyYW1ld29yay50aW1lKCktYSkpLGMuYnl0ZUxlbmd0aD5yLmpnKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUDJQIE1lc3NhZ2UgdG9vIGJpZyB0byBiZSBwcm9jZXNzZWRcIik7dmFyIGw9cy5DZztpZihudWxsPT09bCl7dmFyIGQ9bi53cmFwKGMpLGY9ZC5RZygpO2lmKGUudWcmJnMuX2cubG9nKCkuZGVidWcoXCJNU0cgSUQgXCIrZiksZj5PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHMuX2cubG9nKCkud2FybihcIk1TRyBPRiBXUk9ORyBJRCBSRUNFSVZFRDogXCIrZiksdm9pZChzLkNnPW51bGwpO2lmKGw9cy5DZz1uZXcgdS5LZyxsLm1zZ0lkPWYsbC5zd2FybUlkPWQuWWcoKSxsLmxlbmd0aD1kLlFnKCksbC5oYXNoPWQuWWcoKSxsLldnPWQudGMoKSxsLmxlbmd0aD5yLmpnKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUDJQIE1lc3NhZ2UgdG9vIGJpZyB0byBiZSBwcm9jZXNzZWRcIik7ZS51ZyYmcy5fZy5sb2cobC5zd2FybUlkKS5kZWJ1ZyhcIk1TRyBJRCBcIitsLm1zZ0lkK1wiIEwgXCIrbC5sZW5ndGgrXCIgU1dJRCBcIitsLnN3YXJtSWQrXCIgSCBcIitsLmhhc2grXCIgVFIgXCIrbC5XZy5ieXRlTGVuZ3RoKX1lbHNle2lmKGUudWcmJnMuX2cubG9nKCkuZGVidWcoXCJBUFBFTkRJTkcgVE8gUDJQIE1FU1NBR0UgXCIrbC5tc2dJZCksbnVsbCE9bC5XZy5ieXRlTGVuZ3RoJiZsLldnLmJ5dGVMZW5ndGg+ci5qZyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlAyUCBNZXNzYWdlIHRvbyBiaWcgdG8gYmUgcHJvY2Vzc2VkXCIpO2wuV2c9cC5yYy5hcHBlbmRCdWZmZXIobC5XZyxpKX1pZihsLldnLmJ5dGVMZW5ndGg9PT1sLmxlbmd0aCl7dmFyIGc9by5GZy5NZy5jcmVhdGUobC5XZyk7aWYoby5VZyhnKS50b1N0cmluZygpIT09bC5oYXNoKXtyZXR1cm4gdm9pZCBzLl9nLmxvZyhsLnN3YXJtSWQpLndhcm4oXCIgSU5URUdSSVRZIENIRUNLIEZBSUxFRCBcIil9dmFyIEU9cy5QZy53ZyhsLnN3YXJtSWQpO0V8fChFPXMuUGcuVGcobC5zd2FybUlkKSxzLl9nLmxvZyhsLnN3YXJtSWQpLmRlYnVnKFwiQ1JFQVRFRCBORVcgRElTUEFUQ0hFUiBGT1IgXCIrcy5vdGhlckd1aWQpKSxFJiZFLkFzKGwpLGwuV2c9bnVsbCxzLkNnPW51bGx9fSl9Y2F0Y2goZSl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBtZXNzYWdlXCIsdGhpcy5sb2dnZXJJZCxFLmhzLiRlLlplLGUpLHRoaXMuQ2c9bnVsbH19LHIucHJvdG90eXBlLlZnPWZ1bmN0aW9uKGUpe3ZhciB0PSFoLkZyYW1ld29yay5DKCkmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZmlyZWZveFwiKT4tMSxyPWEuZGVmZXIoKTtpZih0KXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1mdW5jdGlvbih0KXtlPXRoaXMucmVzdWx0LHIucmVzb2x2ZShlKX0saS5vbmVycm9yPXIucmVqZWN0LGkucmVhZEFzQXJyYXlCdWZmZXIoZSl9ZWxzZSByLnJlc29sdmUoZSk7cmV0dXJuIHIuU3N9LHIucHJvdG90eXBlLnpnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2d9LHJ9KCk7di5KZz1pLlpnKHIoMTcwKSkuWGcoXCJIaXZlTXNnc1wiKSx2LkFnPTAsdi5qZz0xMzYrTWF0aC5jZWlsKDEuMipsLmhoLkZhLkRhKSxlLkZhPXZ9KHQuUmZ8fCh0LlJmPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gb1tlXX1mdW5jdGlvbiByKGUscixpKXt2YXIgbj1uZXcgYTtyZXR1cm4gbi50aWNrZXRVcmw9ZSxuLmNvZGU9cixuLm1lc3NhZ2U9dChyKSxuLmRldGFpbGVkTWVzc2FnZT1pLG59dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zYXZpbmdzPTAsdGhpcy5jZG5SZXF1ZXN0cz0wLHRoaXMuY2RuUmVzcG9uc2VzPTAsdGhpcy5jZG5SZXNwb25zZUVycm9ycz0wLHRoaXMuY2RuUmVzcG9uc2VCeXRlcz0wLHRoaXMucDJwUmVxdWVzdHM9MCx0aGlzLnAycFJlc3BvbnNlcz0wLHRoaXMucDJwUmVzcG9uc2VFcnJvcnM9MCx0aGlzLnAycFJlc3BvbnNlQnl0ZXM9MCx0aGlzLnBhcnRuZXJzPXt9fXJldHVybiBlfSgpO2UuJGc9aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnV1aWQ9XCJcIix0aGlzLnNlbnRCeXRlcz0wLHRoaXMucmVjZWl2ZWRCeXRlcz0wLHRoaXMuc3VjY2Vzc1RyYW5zZmVycz0wLHRoaXMuZmFpbGVkVHJhbnNmZXJzPTB9cmV0dXJuIGV9KCk7ZS5lRT1uO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLkhpdmVTZXNzaW9uPXM7IWZ1bmN0aW9uKGUpe2VbZS50RT0wXT1cIkdFTkVSSUNfRVJST1JcIixlW2UuckU9MV09XCJOT19URUNIX0FWQUlMQUJMRVwiLGVbZS5pRT0yXT1cIk5PX1RFQ0hfUkVTT0xWRURcIixlW2UubkU9M109XCJURUNIX0VSUk9SXCIsZVtlLnNFPTRdPVwiVElDS0VUX0VSUk9SXCJ9KGUub0V8fChlLm9FPXt9KSk7dmFyIG87IWZ1bmN0aW9uKGUpe2VbZVtcImFFXCJdPTBdPVwiR2VuZXJpYyBVbmRlZmluZWQgRXJyb3JcIixlW2VbXCJoRVwiXT0xXT1cIk5vIFRlY2ggYXZhaWxhYmxlIHRvIHJlc29sdmUgdGhlIHRpY2tldFwiLGVbZVtcImNFXCJdPTJdPVwiTm8gYXZhaWxhYmxlIFRlY2ggY291bGQgcmVzb2x2ZWQgdGhlIHRpY2tldFwiLGVbZVtcInVFXCJdPTNdPVwiU3RvcHBlZCByZXNvbHZpbmcgc2Vzc2lvbiBvbiBsYXN0IHRlY2ggb25FcnJvclwiLGVbZVtcImxFXCJdPTRdPVwiVGhlIHRpY2tldCBjb3VsZCBub3QgYmUgcmVzb2x2ZWRcIn0ob3x8KG89e30pKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ZS5IaXZlU2Vzc2lvbkVycm9yPWE7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jb2RlPWUsdGhpcy5tZXNzYWdlPXR9cmV0dXJuIGV9KCk7ZS5IaXZlVGVjaEVycm9yPWg7IWZ1bmN0aW9uKGUpe2VbZS5wRT0wXT1cIk5PVF9SRUFEWVwiLGVbZS5kRT0xXT1cIlBMVUdJTl9FUlJPUlwiLGVbZS5mRT0yXT1cIlNFU1NJT05fRVJST1JcIixlW2Uuc0U9M109XCJUSUNLRVRfRVJST1JcIixlW2UuZ0U9NF09XCJWRVJTSU9OX0VSUk9SXCIsZVtlLkVFPTVdPVwiVElNRU9VVF9FUlJPUlwifShlLnZFfHwoZS52RT17fSkpOyFmdW5jdGlvbihlKXtlW2UueUU9MF09XCJPS1wiLGVbZS5URT0xXT1cIkhJVkVfTk9UX0FMTE9XRURcIixlW2UubUU9Ml09XCJUSUNLRVRfTk9UX1JFU09MVkVEXCIsZVtlLklFPTNdPVwiVElNRU9VVF9SRVNPTFZJTkdfVElDS0VUXCJ9KGUuU0V8fChlLlNFPXt9KSksZS5nZXRIaXZlU2Vzc2lvbkVycm9yTWVzc2FnZT10LGUuU2w9cjt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5SRT1lfXJldHVybiBlLnByb3RvdHlwZS5nZXRQbHVnaW5TdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUkUuZ2V0U3RhdHVzQ29kZSgpfSxlfSgpO2Uud0U9Y30oaT10LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbW0mJih3aW5kb3cuSGl2ZUNvbW09e30pLHdpbmRvdy5IaXZlQ29tbS5nZXRIaXZlU2Vzc2lvbkVycm9yTWVzc2FnZT1pLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNik7IWZ1bmN0aW9uKGUpe2UuRWg9aS5oZS5FaCxlLl9oPWkuaGUuX2g7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuYkU9XCJ3c3M6Ly9iZWUuaGl2ZXN0cmVhbWluZy5jb206NDQzL3YxL2hpdmVqc1wiLHQuQ0U9XCJ3c3M6Ly9iZWUtdGVzdC5oaXZlc3RyZWFtaW5nLmNvbTo0NDMvdjEvaGl2ZWpzXCIsdC5fRT17aWNlU2VydmVyczpbe3VybDpcInN0dW46c3R1bi5oaXZlc3RyZWFtaW5nLmNvbTozNDc4XCJ9XX0sdC5QRT0zZTQsdC5WZD0zZTUsdC54ZD04ZTQsdC4kZD0xZTMsdC5BRT0zZTQsdC5PRT0xMDAsdC5ORT0xZTQsZS5xZD10fSh0LkdkfHwodC5HZD17fSkpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0LHIpe251bGwhPWUmJihcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLkRFKGUsdCxyKTpudWxsPT10JiZcInN0cmluZ1wiIT10eXBlb2YgZT90aGlzLmtFKGUsMjU2KTp0aGlzLmtFKGUsdCkpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHIobnVsbCl9ZnVuY3Rpb24gbihlLHQscixpLG4scyl7Zm9yKDstLXM+PTA7KXt2YXIgbz10KnRoaXNbZSsrXStyW2ldK247bj1NYXRoLmZsb29yKG8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZvfXJldHVybiBufWZ1bmN0aW9uIHMoZSx0LHIsaSxuLHMpe2Zvcih2YXIgbz0zMjc2NyZ0LGE9dD4+MTU7LS1zPj0wOyl7dmFyIGg9MzI3NjcmdGhpc1tlXSxjPXRoaXNbZSsrXT4+MTUsdT1hKmgrYypvO2g9bypoKygoMzI3NjcmdSk8PDE1KStyW2ldKygxMDczNzQxODIzJm4pLG49KGg+Pj4zMCkrKHU+Pj4xNSkrYSpjKyhuPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJmh9cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQscixpLG4scyl7Zm9yKHZhciBvPTE2MzgzJnQsYT10Pj4xNDstLXM+PTA7KXt2YXIgaD0xNjM4MyZ0aGlzW2VdLGM9dGhpc1tlKytdPj4xNCx1PWEqaCtjKm87aD1vKmgrKCgxNjM4MyZ1KTw8MTQpK3JbaV0rbixuPShoPj4yOCkrKHU+PjE0KSthKmMscltpKytdPTI2ODQzNTQ1NSZofXJldHVybiBufWZ1bmN0aW9uIGEoZSl7cmV0dXJuIENlLmNoYXJBdChlKX1mdW5jdGlvbiBoKGUsdCl7dmFyIHI9X2VbZS5jaGFyQ29kZUF0KHQpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PXRoaXMudC0xO3Q+PTA7LS10KWVbdF09dGhpc1t0XTtlLnQ9dGhpcy50LGUuVD10aGlzLlR9ZnVuY3Rpb24gdShlKXt0aGlzLnQ9MSx0aGlzLlQ9ZTwwPy0xOjAsZT4wP3RoaXNbMF09ZTplPC0xP3RoaXNbMF09ZSt0aGlzLkxFOnRoaXMudD0wfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9aSgpO3JldHVybiB0Lk1FKGUpLHR9ZnVuY3Rpb24gcChlLHQpe3ZhciBpO2lmKDE2PT10KWk9NDtlbHNlIGlmKDg9PXQpaT0zO2Vsc2UgaWYoMjU2PT10KWk9ODtlbHNlIGlmKDI9PXQpaT0xO2Vsc2UgaWYoMzI9PXQpaT01O2Vsc2V7aWYoNCE9dClyZXR1cm4gdm9pZCB0aGlzLkZFKGUsdCk7aT0yfXRoaXMudD0wLHRoaXMuVD0wO2Zvcih2YXIgbj1lLmxlbmd0aCxzPSExLG89MDstLW4+PTA7KXt2YXIgYT04PT1pPzI1NSZlW25dOmgoZSxuKTthPDA/XCItXCI9PWUuY2hhckF0KG4pJiYocz0hMCk6KHM9ITEsMD09bz90aGlzW3RoaXMudCsrXT1hOm8raT50aGlzLlVFPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuVUUtbyktMSk8PG8sdGhpc1t0aGlzLnQrK109YT4+dGhpcy5VRS1vKTp0aGlzW3RoaXMudC0xXXw9YTw8bywobys9aSk+PXRoaXMuVUUmJihvLT10aGlzLlVFKSl9OD09aSYmMCE9KDEyOCZlWzBdKSYmKHRoaXMuVD0tMSxvPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuVUUtbyktMTw8bykpLHRoaXMuQkUoKSxzJiZyLlpFUk8uSEUodGhpcyx0aGlzKX1mdW5jdGlvbiBkKCl7Zm9yKHZhciBlPXRoaXMuVCZ0aGlzLnhFO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09ZTspLS10aGlzLnR9ZnVuY3Rpb24gZihlKXtpZih0aGlzLlQ8MClyZXR1cm5cIi1cIit0aGlzLnFFKCkudG9TdHJpbmcoZSk7dmFyIHQ7aWYoMTY9PWUpdD00O2Vsc2UgaWYoOD09ZSl0PTM7ZWxzZSBpZigyPT1lKXQ9MTtlbHNlIGlmKDMyPT1lKXQ9NTtlbHNle2lmKDQhPWUpcmV0dXJuIHRoaXMuR0UoZSk7dD0yfXZhciByLGk9KDE8PHQpLTEsbj0hMSxzPVwiXCIsbz10aGlzLnQsaD10aGlzLlVFLW8qdGhpcy5VRSV0O2lmKG8tLSA+MClmb3IoaDx0aGlzLlVFJiYocj10aGlzW29dPj5oKT4wJiYobj0hMCxzPWEocikpO28+PTA7KWg8dD8ocj0odGhpc1tvXSYoMTw8aCktMSk8PHQtaCxyfD10aGlzWy0tb10+PihoKz10aGlzLlVFLXQpKToocj10aGlzW29dPj4oaC09dCkmaSxoPD0wJiYoaCs9dGhpcy5VRSwtLW8pKSxyPjAmJihuPSEwKSxuJiYocys9YShyKSk7cmV0dXJuIG4/czpcIjBcIn1mdW5jdGlvbiBnKCl7dmFyIGU9aSgpO3JldHVybiByLlpFUk8uSEUodGhpcyxlKSxlfWZ1bmN0aW9uIEUoKXtyZXR1cm4gdGhpcy5UPDA/dGhpcy5xRSgpOnRoaXN9ZnVuY3Rpb24gdihlKXt2YXIgdD10aGlzLlQtZS5UO2lmKDAhPXQpcmV0dXJuIHQ7dmFyIHI9dGhpcy50O2lmKDAhPSh0PXItZS50KSlyZXR1cm4gdGhpcy5UPDA/LXQ6dDtmb3IoOy0tcj49MDspaWYoMCE9KHQ9dGhpc1tyXS1lW3JdKSlyZXR1cm4gdDtyZXR1cm4gMH1mdW5jdGlvbiB5KGUpe3ZhciB0LHI9MTtyZXR1cm4gMCE9KHQ9ZT4+PjE2KSYmKGU9dCxyKz0xNiksMCE9KHQ9ZT4+OCkmJihlPXQscis9OCksMCE9KHQ9ZT4+NCkmJihlPXQscis9NCksMCE9KHQ9ZT4+MikmJihlPXQscis9MiksMCE9KHQ9ZT4+MSkmJihlPXQscis9MSkscn1mdW5jdGlvbiBUKCl7cmV0dXJuIHRoaXMudDw9MD8wOnRoaXMuVUUqKHRoaXMudC0xKSt5KHRoaXNbdGhpcy50LTFdXnRoaXMuVCZ0aGlzLnhFKX1mdW5jdGlvbiBtKGUsdCl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpdFtyK2VdPXRoaXNbcl07Zm9yKHI9ZS0xO3I+PTA7LS1yKXRbcl09MDt0LnQ9dGhpcy50K2UsdC5UPXRoaXMuVH1mdW5jdGlvbiBJKGUsdCl7Zm9yKHZhciByPWU7cjx0aGlzLnQ7KytyKXRbci1lXT10aGlzW3JdO3QudD1NYXRoLm1heCh0aGlzLnQtZSwwKSx0LlQ9dGhpcy5UfWZ1bmN0aW9uIFMoZSx0KXt2YXIgcixpPWUldGhpcy5VRSxuPXRoaXMuVUUtaSxzPSgxPDxuKS0xLG89TWF0aC5mbG9vcihlL3RoaXMuVUUpLGE9dGhpcy5UPDxpJnRoaXMueEU7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpdFtyK28rMV09dGhpc1tyXT4+bnxhLGE9KHRoaXNbcl0mcyk8PGk7Zm9yKHI9by0xO3I+PTA7LS1yKXRbcl09MDt0W29dPWEsdC50PXRoaXMudCtvKzEsdC5UPXRoaXMuVCx0LkJFKCl9ZnVuY3Rpb24gUihlLHQpe3QuVD10aGlzLlQ7dmFyIHI9TWF0aC5mbG9vcihlL3RoaXMuVUUpO2lmKHI+PXRoaXMudClyZXR1cm4gdm9pZCh0LnQ9MCk7dmFyIGk9ZSV0aGlzLlVFLG49dGhpcy5VRS1pLHM9KDE8PGkpLTE7dFswXT10aGlzW3JdPj5pO2Zvcih2YXIgbz1yKzE7bzx0aGlzLnQ7KytvKXRbby1yLTFdfD0odGhpc1tvXSZzKTw8bix0W28tcl09dGhpc1tvXT4+aTtpPjAmJih0W3RoaXMudC1yLTFdfD0odGhpcy5UJnMpPDxuKSx0LnQ9dGhpcy50LXIsdC5CRSgpfWZ1bmN0aW9uIHcoZSx0KXtmb3IodmFyIHI9MCxpPTAsbj1NYXRoLm1pbihlLnQsdGhpcy50KTtyPG47KWkrPXRoaXNbcl0tZVtyXSx0W3IrK109aSZ0aGlzLnhFLGk+Pj10aGlzLlVFO2lmKGUudDx0aGlzLnQpe2ZvcihpLT1lLlQ7cjx0aGlzLnQ7KWkrPXRoaXNbcl0sdFtyKytdPWkmdGhpcy54RSxpPj49dGhpcy5VRTtpKz10aGlzLlR9ZWxzZXtmb3IoaSs9dGhpcy5UO3I8ZS50OylpLT1lW3JdLHRbcisrXT1pJnRoaXMueEUsaT4+PXRoaXMuVUU7aS09ZS5UfXQuVD1pPDA/LTE6MCxpPC0xP3RbcisrXT10aGlzLkxFK2k6aT4wJiYodFtyKytdPWkpLHQudD1yLHQuQkUoKX1mdW5jdGlvbiBiKGUsdCl7dmFyIGk9dGhpcy5hYnMoKSxuPWUuYWJzKCkscz1pLnQ7Zm9yKHQudD1zK24udDstLXM+PTA7KXRbc109MDtmb3Iocz0wO3M8bi50Oysrcyl0W3MraS50XT1pLlZFKDAsbltzXSx0LHMsMCxpLnQpO3QuVD0wLHQuQkUoKSx0aGlzLlQhPWUuVCYmci5aRVJPLkhFKHQsdCl9ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9dGhpcy5hYnMoKSxyPWUudD0yKnQudDstLXI+PTA7KWVbcl09MDtmb3Iocj0wO3I8dC50LTE7KytyKXt2YXIgaT10LlZFKHIsdFtyXSxlLDIqciwwLDEpOyhlW3IrdC50XSs9dC5WRShyKzEsMip0W3JdLGUsMipyKzEsaSx0LnQtci0xKSk+PXQuTEUmJihlW3IrdC50XS09dC5MRSxlW3IrdC50KzFdPTEpfWUudD4wJiYoZVtlLnQtMV0rPXQuVkUocix0W3JdLGUsMipyLDAsMSkpLGUuVD0wLGUuQkUoKX1mdW5jdGlvbiBfKGUsdCxuKXt2YXIgcz1lLmFicygpO2lmKCEocy50PD0wKSl7dmFyIG89dGhpcy5hYnMoKTtpZihvLnQ8cy50KXJldHVybiBudWxsIT10JiZ0Lk1FKDApLHZvaWQobnVsbCE9biYmdGhpcy5qRShuKSk7bnVsbD09biYmKG49aSgpKTt2YXIgYT1pKCksaD10aGlzLlQsYz1lLlQsdT10aGlzLlVFLXkoc1tzLnQtMV0pO3U+MD8ocy5RRSh1LGEpLG8uUUUodSxuKSk6KHMuakUoYSksby5qRShuKSk7dmFyIGw9YS50LHA9YVtsLTFdO2lmKDAhPXApe3ZhciBkPXAqKDE8PHRoaXMuS0UpKyhsPjE/YVtsLTJdPj50aGlzLllFOjApLGY9dGhpcy5XRS9kLGc9KDE8PHRoaXMuS0UpL2QsRT0xPDx0aGlzLllFLHY9bi50LFQ9di1sLG09bnVsbD09dD9pKCk6dDtmb3IoYS56RShULG0pLG4uSkUobSk+PTAmJihuW24udCsrXT0xLG4uSEUobSxuKSksci5PTkUuekUobCxtKSxtLkhFKGEsYSk7YS50PGw7KWFbYS50KytdPTA7Zm9yKDstLVQ+PTA7KXt2YXIgST1uWy0tdl09PXA/dGhpcy54RTpNYXRoLmZsb29yKG5bdl0qZisoblt2LTFdK0UpKmcpO2lmKChuW3ZdKz1hLlZFKDAsSSxuLFQsMCxsKSk8SSlmb3IoYS56RShULG0pLG4uSEUobSxuKTtuW3ZdPC0tSTspbi5IRShtLG4pfW51bGwhPXQmJihuLlhFKGwsdCksaCE9YyYmci5aRVJPLkhFKHQsdCkpLG4udD1sLG4uQkUoKSx1PjAmJm4uWkUodSxuKSxoPDAmJnIuWkVSTy5IRShuLG4pfX19ZnVuY3Rpb24gUChlKXt2YXIgdD1pKCk7cmV0dXJuIHRoaXMuYWJzKCkuJEUoZSxudWxsLHQpLHRoaXMuVDwwJiZ0LkpFKHIuWkVSTyk+MCYmZS5IRSh0LHQpLHR9ZnVuY3Rpb24gQShlKXt0aGlzLmg9ZX1mdW5jdGlvbiBPKGUpe3JldHVybiBlLlQ8MHx8ZS5KRSh0aGlzLmgpPj0wP2UuZXYodGhpcy5oKTplfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gRChlKXtlLiRFKHRoaXMuaCxudWxsLGUpfWZ1bmN0aW9uIGsoZSx0LHIpe2UudHYodCxyKSx0aGlzLnJlZHVjZShyKX1mdW5jdGlvbiBMKGUsdCl7ZS5ydih0KSx0aGlzLnJlZHVjZSh0KX1mdW5jdGlvbiBNKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIGU9dGhpc1swXTtpZigwPT0oMSZlKSlyZXR1cm4gMDt2YXIgdD0zJmU7cmV0dXJuIHQ9dCooMi0oMTUmZSkqdCkmMTUsdD10KigyLSgyNTUmZSkqdCkmMjU1LHQ9dCooMi0oKDY1NTM1JmUpKnQmNjU1MzUpKSY2NTUzNSx0PXQqKDItZSp0JXRoaXMuTEUpJXRoaXMuTEUsdD4wP3RoaXMuTEUtdDotdH1mdW5jdGlvbiBGKGUpe3RoaXMuaD1lLHRoaXMubnY9ZS5zdigpLHRoaXMub3Y9MzI3NjcmdGhpcy5udix0aGlzLmF2PXRoaXMubnY+PjE1LHRoaXMuaHY9KDE8PGUuVUUtMTUpLTEsdGhpcy5jdj0yKmUudH1mdW5jdGlvbiBVKGUpe3ZhciB0PWkoKTtyZXR1cm4gZS5hYnMoKS56RSh0aGlzLmgudCx0KSx0LiRFKHRoaXMuaCxudWxsLHQpLGUuVDwwJiZ0LkpFKHIuWkVSTyk+MCYmdGhpcy5oLkhFKHQsdCksdH1mdW5jdGlvbiBCKGUpe3ZhciB0PWkoKTtyZXR1cm4gZS5qRSh0KSx0aGlzLnJlZHVjZSh0KSx0fWZ1bmN0aW9uIEgoZSl7Zm9yKDtlLnQ8PXRoaXMuY3Y7KWVbZS50KytdPTA7Zm9yKHZhciB0PTA7dDx0aGlzLmgudDsrK3Qpe3ZhciByPTMyNzY3JmVbdF0saT1yKnRoaXMub3YrKChyKnRoaXMuYXYrKGVbdF0+PjE1KSp0aGlzLm92JnRoaXMuaHYpPDwxNSkmZS54RTtmb3Iocj10K3RoaXMuaC50LGVbcl0rPXRoaXMuaC5WRSgwLGksZSx0LDAsdGhpcy5oLnQpO2Vbcl0+PWUuTEU7KWVbcl0tPWUuTEUsZVsrK3JdKyt9ZS5CRSgpLGUuWEUodGhpcy5oLnQsZSksZS5KRSh0aGlzLmgpPj0wJiZlLkhFKHRoaXMuaCxlKX1mdW5jdGlvbiB4KGUsdCl7ZS5ydih0KSx0aGlzLnJlZHVjZSh0KX1mdW5jdGlvbiBxKGUsdCxyKXtlLnR2KHQsciksdGhpcy5yZWR1Y2Uocil9ZnVuY3Rpb24gRygpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMuVCl9ZnVuY3Rpb24gVihlLHQpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiByLk9ORTt2YXIgbj1pKCkscz1pKCksbz10LnV2KHRoaXMpLGE9eShlKS0xO2ZvcihvLmpFKG4pOy0tYT49MDspaWYodC5sdihuLHMpLChlJjE8PGEpPjApdC5wdihzLG8sbik7ZWxzZXt2YXIgaD1uO249cyxzPWh9cmV0dXJuIHQuZHYobil9ZnVuY3Rpb24gaihlLHQpe3ZhciByO3JldHVybiByPWU8MjU2fHx0LmZ2KCk/bmV3IEEodCk6bmV3IEYodCksdGhpcy5leHAoZSxyKX1mdW5jdGlvbiBRKGUpe3ZhciB0LHIsaSxuPVwiXCIscz0wO2Zvcih0PTA7dDxlLmxlbmd0aCYmZS5jaGFyQXQodCkhPUFlOysrdCkoaT1QZS5pbmRleE9mKGUuY2hhckF0KHQpKSk8MHx8KDA9PXM/KG4rPWEoaT4+Mikscj0zJmkscz0xKToxPT1zPyhuKz1hKHI8PDJ8aT4+NCkscj0xNSZpLHM9Mik6Mj09cz8obis9YShyKSxuKz1hKGk+PjIpLHI9MyZpLHM9Myk6KG4rPWEocjw8MnxpPj40KSxuKz1hKDE1JmkpLHM9MCkpO3JldHVybiAxPT1zJiYobis9YShyPDwyKSksbn1mdW5jdGlvbiBLKGUpe3ZhciB0LHI9UShlKSxpPW5ldyBBcnJheTtmb3IodD0wOzIqdDxyLmxlbmd0aDsrK3QpaVt0XT1wYXJzZUludChyLnN1YnN0cmluZygyKnQsMip0KzIpLDE2KTtyZXR1cm4gaX0vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gWShlLHQpe3JldHVybiBuZXcgcihlLHQpfWZ1bmN0aW9uIFcoZSx0KXtpZih0PGUubGVuZ3RoKzExKXJldHVybiBhbGVydChcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKSxudWxsO2Zvcih2YXIgaT1uZXcgQXJyYXksbj1lLmxlbmd0aC0xO24+PTAmJnQ+MDspe3ZhciBzPWUuY2hhckNvZGVBdChuLS0pO3M8MTI4P2lbLS10XT1zOnM+MTI3JiZzPDIwNDg/KGlbLS10XT02MyZzfDEyOCxpWy0tdF09cz4+NnwxOTIpOihpWy0tdF09NjMmc3wxMjgsaVstLXRdPXM+PjYmNjN8MTI4LGlbLS10XT1zPj4xMnwyMjQpfWlbLS10XT0wO2Zvcih2YXIgbz1uZXcgU2VjdXJlUmFuZG9tLGE9bmV3IEFycmF5O3Q+Mjspe2ZvcihhWzBdPTA7MD09YVswXTspby5ndihhKTtpWy0tdF09YVswXX1yZXR1cm4gaVstLXRdPTIsaVstLXRdPTAsbmV3IHIoaSl9ZnVuY3Rpb24geihlLHQscil7Zm9yKHZhciBpPVwiXCIsbj0wO2kubGVuZ3RoPHQ7KWkrPXIoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5jb25jYXQoWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSksbis9MTtyZXR1cm4gaX1mdW5jdGlvbiBKKGUsdCxpKXtpZihlLmxlbmd0aCsyKk9lKzI+dCl0aHJvd1wiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCI7dmFyIG4scz1cIlwiO2ZvcihuPTA7bjx0LWUubGVuZ3RoLTIqT2UtMjtuKz0xKXMrPVwiXFwwXCI7dmFyIG89cnN0cl9zaGExKFwiXCIpK3MrXCJcdTAwMDFcIitlLGE9bmV3IEFycmF5KE9lKTsobmV3IFNlY3VyZVJhbmRvbSkuZ3YoYSk7dmFyIGg9eihhLG8ubGVuZ3RoLGl8fHJzdHJfc2hhMSksYz1bXTtmb3Iobj0wO248by5sZW5ndGg7bis9MSljW25dPW8uY2hhckNvZGVBdChuKV5oLmNoYXJDb2RlQXQobik7dmFyIHU9eihjLGEubGVuZ3RoLHJzdHJfc2hhMSksbD1bMF07Zm9yKG49MDtuPGEubGVuZ3RoO24rPTEpbFtuKzFdPWFbbl1edS5jaGFyQ29kZUF0KG4pO3JldHVybiBuZXcgcihsLmNvbmNhdChjKSl9ZnVuY3Rpb24gWCgpe3RoaXMubj1udWxsLHRoaXMuZT0wLHRoaXMuZD1udWxsLHRoaXMudj1udWxsLHRoaXMuRXY9bnVsbCx0aGlzLnZ2PW51bGwsdGhpcy55dj1udWxsLHRoaXMuVHY9bnVsbH1mdW5jdGlvbiBaKGUsdCl7dGhpcy5tdj0hMCxcInN0cmluZ1wiIT10eXBlb2YgZT8odGhpcy5uPWUsdGhpcy5lPXQpOm51bGwhPWUmJm51bGwhPXQmJmUubGVuZ3RoPjAmJnQubGVuZ3RoPjA/KHRoaXMubj1ZKGUsMTYpLHRoaXMuZT1wYXJzZUludCh0LDE2KSk6YWxlcnQoXCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5XCIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIGUuSXYodGhpcy5lLHRoaXMubil9ZnVuY3Rpb24gZWUoZSl7dmFyIHQ9VyhlLHRoaXMubi5TdigpKzc+PjMpO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5Sdih0KTtpZihudWxsPT1yKXJldHVybiBudWxsO3ZhciBpPXIudG9TdHJpbmcoMTYpO3JldHVybiAwPT0oMSZpLmxlbmd0aCk/aTpcIjBcIitpfWZ1bmN0aW9uIHRlKGUsdCl7dmFyIHI9SihlLHRoaXMubi5TdigpKzc+PjMsdCk7aWYobnVsbD09cilyZXR1cm4gbnVsbDt2YXIgaT10aGlzLlJ2KHIpO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIG49aS50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJm4ubGVuZ3RoKT9uOlwiMFwiK259ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIHI9XCJcIixpPXQvNC1lLmxlbmd0aCxuPTA7bjxpO24rKylyKz1cIjBcIjtyZXR1cm4gcitlfWZ1bmN0aW9uIGllKGUsdCl7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2Lnd2KGUsdCl9KGUpO3JldHVybiB0aGlzLkN2KHIsdCl9ZnVuY3Rpb24gbmUoZSx0KXt2YXIgcj1LSlVSLmNyeXB0by5idi5fdihlLHQsdGhpcy5uLlN2KCkpLGk9WShyLDE2KTtyZXR1cm4gcmUodGhpcy5QdihpKS50b1N0cmluZygxNiksdGhpcy5uLlN2KCkpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBpZS5jYWxsKHRoaXMsZSxcInNoYTFcIil9ZnVuY3Rpb24gb2UoZSl7cmV0dXJuIGllLmNhbGwodGhpcyxlLFwic2hhMjU2XCIpfWZ1bmN0aW9uIGFlKGUsdCxyKXtmb3IodmFyIGk9XCJcIixuPTA7aS5sZW5ndGg8dDspaSs9aGV4dG9yc3RyKHIocnN0cnRvaGV4KGUrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSkpLG4rPTE7cmV0dXJuIGl9ZnVuY3Rpb24gaGUoZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5idi5BdihlLHQpfShyc3RydG9oZXgoZSkpO3JldHVybiB2b2lkIDA9PT1yJiYocj0tMSksdGhpcy5PdihpLHQscil9ZnVuY3Rpb24gY2UoZSx0LGkpe3ZhciBuLHM9aGV4dG9yc3RyKGUpLG89cy5sZW5ndGgsYT10aGlzLm4uU3YoKS0xLGg9TWF0aC5jZWlsKGEvOCksYz1mdW5jdGlvbihlKXtyZXR1cm4gS0pVUi5jcnlwdG8uYnYuQXYoZSx0KX07aWYoLTE9PT1pfHx2b2lkIDA9PT1pKWk9bztlbHNlIGlmKC0yPT09aSlpPWgtby0yO2Vsc2UgaWYoaTwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKGg8bytpKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgdT1cIlwiO2k+MCYmKHU9bmV3IEFycmF5KGkpLChuZXcgU2VjdXJlUmFuZG9tKS5ndih1KSx1PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHUpKTt2YXIgbD1oZXh0b3JzdHIoYyhyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitzK3UpKSkscD1bXTtmb3Iobj0wO248aC1pLW8tMjtuKz0xKXBbbl09MDt2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwKStcIlx1MDAwMVwiK3UsZj1hZShsLGQubGVuZ3RoLGMpLGc9W107Zm9yKG49MDtuPGQubGVuZ3RoO24rPTEpZ1tuXT1kLmNoYXJDb2RlQXQobileZi5jaGFyQ29kZUF0KG4pO3ZhciBFPTY1MjgwPj44KmgtYSYyNTU7Zm9yKGdbMF0mPX5FLG49MDtuPG87bisrKWcucHVzaChsLmNoYXJDb2RlQXQobikpO3JldHVybiBnLnB1c2goMTg4KSxyZSh0aGlzLlB2KG5ldyByKGcpKS50b1N0cmluZygxNiksdGhpcy5uLlN2KCkpfWZ1bmN0aW9uIHVlKGUsdCxyKXt2YXIgaT1uZXcgWDtyZXR1cm4gaS5Odih0LHIpLGkuUnYoZSl9ZnVuY3Rpb24gbGUoZSx0LHIpe3JldHVybiB1ZShlLHQscikudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIil9ZnVuY3Rpb24gcGUoZSl7Zm9yKHZhciB0IGluIEtKVVIuY3J5cHRvLmJ2LkR2KXt2YXIgcj1LSlVSLmNyeXB0by5idi5Edlt0XSxpPXIubGVuZ3RoO2lmKGUuc3Vic3RyaW5nKDAsaSk9PXIpe3JldHVyblt0LGUuc3Vic3RyaW5nKGkpXX19cmV0dXJuW119ZnVuY3Rpb24gZGUoZSx0LHIsaSl7dmFyIG49bGUodCxyLGkpLHM9cGUobik7aWYoMD09cy5sZW5ndGgpcmV0dXJuITE7dmFyIG89c1swXSxhPXNbMV07cmV0dXJuIGE9PWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5idi53dihlLG8pfShlKX1mdW5jdGlvbiBmZShlLHQpe3JldHVybiBkZSh0LFkoZSwxNiksdGhpcy5uLnRvU3RyaW5nKDE2KSx0aGlzLmUudG9TdHJpbmcoMTYpKX1mdW5jdGlvbiBnZShlLHQpe3Q9dC5yZXBsYWNlKE5lLFwiXCIpLHQ9dC5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIik7dmFyIHI9WSh0LDE2KTtpZihyLlN2KCk+dGhpcy5uLlN2KCkpcmV0dXJuIDA7dmFyIGk9dGhpcy5SdihyKSxuPWkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikscz1wZShuKTtpZigwPT1zLmxlbmd0aClyZXR1cm4hMTt2YXIgbz1zWzBdLGE9c1sxXTtyZXR1cm4gYT09ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2Lnd2KGUsbyl9KGUpfWZ1bmN0aW9uIEVlKGUsdCl7dD10LnJlcGxhY2UoTmUsXCJcIiksdD10LnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKTt2YXIgcj1ZKHQsMTYpO2lmKHIuU3YoKT50aGlzLm4uU3YoKSlyZXR1cm4gMDt2YXIgaT10aGlzLlJ2KHIpLG49aS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSxzPXBlKG4pO2lmKDA9PXMubGVuZ3RoKXJldHVybiExO3NbMF07cmV0dXJuIHNbMV09PWV9ZnVuY3Rpb24gdmUoZSx0LHIsaSl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2LkF2KGUscil9KHJzdHJ0b2hleChlKSk7cmV0dXJuIHZvaWQgMD09PWkmJihpPS0xKSx0aGlzLmt2KG4sdCxyLGkpfWZ1bmN0aW9uIHllKGUsdCxpLG4pe3ZhciBzPW5ldyByKHQsMTYpO2lmKHMuU3YoKT50aGlzLm4uU3YoKSlyZXR1cm4hMTt2YXIgbyxhPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5idi5BdihlLGkpfSxoPWhleHRvcnN0cihlKSxjPWgubGVuZ3RoLHU9dGhpcy5uLlN2KCktMSxsPU1hdGguY2VpbCh1LzgpO2lmKC0xPT09bnx8dm9pZCAwPT09biluPWM7ZWxzZSBpZigtMj09PW4pbj1sLWMtMjtlbHNlIGlmKG48LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihsPGMrbisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIHA9dGhpcy5SdihzKS5MdigpO2ZvcihvPTA7bzxwLmxlbmd0aDtvKz0xKXBbb10mPTI1NTtmb3IoO3AubGVuZ3RoPGw7KXAudW5zaGlmdCgwKTtpZigxODghPT1wW2wtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO3A9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscCk7dmFyIGQ9cC5zdWJzdHIoMCxsLWMtMSksZj1wLnN1YnN0cihkLmxlbmd0aCxjKSxnPTY1MjgwPj44KmwtdSYyNTU7aWYoMCE9KGQuY2hhckNvZGVBdCgwKSZnKSl0aHJvd1wiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiO3ZhciBFPWFlKGYsZC5sZW5ndGgsYSksdj1bXTtmb3Iobz0wO288ZC5sZW5ndGg7bys9MSl2W29dPWQuY2hhckNvZGVBdChvKV5FLmNoYXJDb2RlQXQobyk7dlswXSY9fmc7dmFyIHk9bC1jLW4tMjtmb3Iobz0wO288eTtvKz0xKWlmKDAhPT12W29dKXRocm93XCJsZWZ0bW9zdCBvY3RldHMgbm90IHplcm9cIjtpZigxIT09dlt5XSl0aHJvd1wiMHgwMSBtYXJrZXIgbm90IGZvdW5kXCI7cmV0dXJuIGY9PT1oZXh0b3JzdHIoYShyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitoK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHYuc2xpY2UoLW4pKSkpKX12YXIgVGU9e307VGUudXNlckFnZW50PSExO3ZhciBtZT17fTtpZih2b2lkIDA9PT1JZXx8IUllKXZhciBJZT17fTtJZS5Ndj1mdW5jdGlvbigpe3ZhciBlLHQscixpPWFyZ3VtZW50cyxuPW51bGw7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrPTEpZm9yKHI9KFwiXCIraVtlXSkuc3BsaXQoXCIuXCIpLG49SWUsdD1cIllBSE9PXCI9PXJbMF0/MTowO3Q8ci5sZW5ndGg7dCs9MSluW3JbdF1dPW5bclt0XV18fHt9LG49bltyW3RdXTtyZXR1cm4gbn0sSWUubG9nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1JZS5Vdi5GdjtyZXR1cm4hKCFpfHwhaS5sb2cpJiZpLmxvZyhlLHQscil9LEllLnJlZ2lzdGVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHMsbyxhLGg9SWUuTXMuQnY7Zm9yKGhbZV18fChoW2VdPXtIdjpbXSx4djpbXX0pLGk9aFtlXSxuPXIudmVyc2lvbixzPXIuWGcsbz1JZS5Ncy52bCxpLm5hbWU9ZSxpLnZlcnNpb249bixpLlhnPXMsaS5Idi5wdXNoKG4pLGkueHYucHVzaChzKSxpLnF2PXQsYT0wO2E8by5sZW5ndGg7YSs9MSlvW2FdKGkpO3Q/KHQuVkVSU0lPTj1uLHQuR3Y9cyk6SWUubG9nKFwibWFpbkNsYXNzIGlzIHVuZGVmaW5lZCBmb3IgbW9kdWxlIFwiK2UsXCJ3YXJuXCIpfSxJZS5Ncz1JZS5Nc3x8e0J2OltdLHZsOltdfSxJZS5Ncy5nZXRWZXJzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBJZS5Ncy5CdltlXXx8bnVsbH0sSWUuTXMuVnY9ZnVuY3Rpb24oZSl7dmFyIHQscj1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybiBwYXJzZUZsb2F0KGUucmVwbGFjZSgvXFwuL2csZnVuY3Rpb24oKXtyZXR1cm4gMT09dCsrP1wiXCI6XCIuXCJ9KSl9LGk9VGUsbj17anY6MCxvcGVyYTowLFF2OjAsS3Y6MCxjaHJvbWU6MCxZdjpudWxsLFd2OjAsenY6MCxKdjowLFh2OjAsWnY6bnVsbCwkdjowLGV5OjAsdHk6aSYmaS5peSxueTohMSxvczpudWxsfSxzPWV8fFRlJiZUZS51c2VyQWdlbnQsbz1tZSYmbWUubG9jYXRpb24sYT1vJiZvLmhyZWY7cmV0dXJuIG4ubnk9YSYmMD09PWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cHNcIikscyYmKC93aW5kb3dzfHdpbjMyL2kudGVzdChzKT9uLm9zPVwid2luZG93c1wiOi9tYWNpbnRvc2gvaS50ZXN0KHMpP24ub3M9XCJtYWNpbnRvc2hcIjovcmhpbm8vaS50ZXN0KHMpJiYobi5vcz1cInJoaW5vXCIpLC9LSFRNTC8udGVzdChzKSYmKG4uS3Y9MSksdD1zLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbXlxcc10qKS8pLHQmJnRbMV0mJihuLkt2PXIodFsxXSksLyBNb2JpbGVcXC8vLnRlc3Qocyk/KG4uWXY9XCJBcHBsZVwiLHQ9cy5tYXRjaCgvT1MgKFteXFxzXSopLyksdCYmdFsxXSYmKHQ9cih0WzFdLnJlcGxhY2UoXCJfXCIsXCIuXCIpKSksbi5adj10LG4uenY9bi5Ydj1uLkp2PTAsKHQ9cy5tYXRjaCgvaVBhZHxpUG9kfGlQaG9uZS8pKSYmdFswXSYmKG5bdFswXS50b0xvd2VyQ2FzZSgpXT1uLlp2KSk6KHQ9cy5tYXRjaCgvTm9raWFOW15cXC9dKnxBbmRyb2lkIFxcZFxcLlxcZHx3ZWJPU1xcL1xcZFxcLlxcZC8pLHQmJihuLll2PXRbMF0pLC93ZWJPUy8udGVzdChzKSYmKG4uWXY9XCJXZWJPU1wiLCh0PXMubWF0Y2goL3dlYk9TXFwvKFteXFxzXSopOy8pKSYmdFsxXSYmKG4uZXk9cih0WzFdKSkpLC8gQW5kcm9pZC8udGVzdChzKSYmKG4uWXY9XCJBbmRyb2lkXCIsKHQ9cy5tYXRjaCgvQW5kcm9pZCAoW15cXHNdKik7LykpJiZ0WzFdJiYobi4kdj1yKHRbMV0pKSkpLHQ9cy5tYXRjaCgvQ2hyb21lXFwvKFteXFxzXSopLyksdCYmdFsxXT9uLmNocm9tZT1yKHRbMV0pOih0PXMubWF0Y2goL0Fkb2JlQUlSXFwvKFteXFxzXSopLykpJiYobi5Xdj10WzBdKSksbi5Ldnx8KHQ9cy5tYXRjaCgvT3BlcmFbXFxzXFwvXShbXlxcc10qKS8pLHQmJnRbMV0/KG4ub3BlcmE9cih0WzFdKSx0PXMubWF0Y2goL1ZlcnNpb25cXC8oW15cXHNdKikvKSx0JiZ0WzFdJiYobi5vcGVyYT1yKHRbMV0pKSwodD1zLm1hdGNoKC9PcGVyYSBNaW5pW147XSovKSkmJihuLll2PXRbMF0pKToodD1zLm1hdGNoKC9NU0lFXFxzKFteO10qKS8pLHQmJnRbMV0/bi5qdj1yKHRbMV0pOih0PXMubWF0Y2goL0dlY2tvXFwvKFteXFxzXSopLykpJiYobi5Rdj0xLCh0PXMubWF0Y2goL3J2OihbXlxcc1xcKV0qKS8pKSYmdFsxXSYmKG4uUXY9cih0WzFdKSkpKSkpLG59LEllLk1zLnN5PUllLk1zLlZ2KCksZnVuY3Rpb24oKXtpZihJZS5NdihcInV0aWxcIixcIndpZGdldFwiLFwiZXhhbXBsZVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgWUFIT09fY29uZmlnKXt2YXIgZSx0PVlBSE9PX2NvbmZpZy5saXN0ZW5lcixyPUllLk1zLnZsLGk9ITA7aWYodCl7Zm9yKGU9MDtlPHIubGVuZ3RoO2UrKylpZihyW2VdPT10KXtpPSExO2JyZWFrfWkmJnIucHVzaCh0KX19fSgpLEllLmxhbmc9SWUubGFuZ3x8e30sZnVuY3Rpb24oKXt2YXIgZT1JZS5sYW5nLHQ9T2JqZWN0LnByb3RvdHlwZSxyPVtdLGk9e295OlwiJmFtcDtcIixheTpcIiZsdDtcIixoeTpcIiZndDtcIix1eTpcIiZxdW90O1wiLGx5OlwiJiN4Mjc7XCIscHk6XCImI3gyRjtcIixneTpcIiYjeDYwO1wifSxuPVtcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLHM9e2lzQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09dC50b1N0cmluZy5hcHBseShlKX0sRXk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfSx2eTpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcIltvYmplY3QgRnVuY3Rpb25dXCI9PT10LnRvU3RyaW5nLmFwcGx5KGUpfSx5eTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV9LFR5OmZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKX0sYXU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJihcIm9iamVjdFwiPT10eXBlb2YgdHx8ZS52eSh0KSl8fCExfSxteTpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0sSXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9LFN5OkllLk1zLnN5Lmp2P2Z1bmN0aW9uKHIsaSl7dmFyIHMsbyxhO2ZvcihzPTA7czxuLmxlbmd0aDtzKz0xKW89bltzXSxhPWlbb10sZS52eShhKSYmYSE9dFtvXSYmKHJbb109YSl9OmZ1bmN0aW9uKCl7fSxSeTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bJjw+XCInXFwvYF0vZyxmdW5jdGlvbihlKXtyZXR1cm4gaVtlXX0pfSxleHRlbmQ6ZnVuY3Rpb24ocixpLG4pe2lmKCFpfHwhcil0aHJvdyBuZXcgRXJyb3IoXCJleHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC5cIik7dmFyIHMsbz1mdW5jdGlvbigpe307aWYoby5wcm90b3R5cGU9aS5wcm90b3R5cGUsci5wcm90b3R5cGU9bmV3IG8sci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLnd5PWkucHJvdG90eXBlLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPT10LmNvbnN0cnVjdG9yJiYoaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSksbil7Zm9yKHMgaW4gbillLmhhc093blByb3BlcnR5KG4scykmJihyLnByb3RvdHlwZVtzXT1uW3NdKTtlLlN5KHIucHJvdG90eXBlLG4pfX0sYnk6ZnVuY3Rpb24odCxyKXtpZighcnx8IXQpdGhyb3cgbmV3IEVycm9yKFwiQWJzb3JiIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIGksbixzPWFyZ3VtZW50cyxvPXNbMl07aWYobyYmITAhPT1vKWZvcihpPTI7aTxzLmxlbmd0aDtpKz0xKXRbc1tpXV09cltzW2ldXTtlbHNle2ZvcihuIGluIHIpIW8mJm4gaW4gdHx8KHRbbl09cltuXSk7ZS5TeSh0LHIpfXJldHVybiB0fSxDeTpmdW5jdGlvbih0LHIpe2lmKCFyfHwhdCl0aHJvdyBuZXcgRXJyb3IoXCJBdWdtZW50IGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIGksbj1bdC5wcm90b3R5cGUsci5wcm90b3R5cGVdO2ZvcihpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krPTEpbi5wdXNoKGFyZ3VtZW50c1tpXSk7cmV0dXJuIGUuYnkuYXBwbHkodGhpcyxuKSx0fSxkdW1wOmZ1bmN0aW9uKHQscil7dmFyIGksbixzPVtdLG89XCJ7Li4ufVwiO2lmKCFlLmF1KHQpKXJldHVybiB0K1wiXCI7aWYodCBpbnN0YW5jZW9mIERhdGV8fFwibm9kZVR5cGVcImluIHQmJlwidGFnTmFtZVwiaW4gdClyZXR1cm4gdDtpZihlLnZ5KHQpKXJldHVyblwiZigpey4uLn1cIjtpZihyPWUuVHkocik/cjozLGUuaXNBcnJheSh0KSl7Zm9yKHMucHVzaChcIltcIiksaT0wLG49dC5sZW5ndGg7aTxuO2krPTEpZS5hdSh0W2ldKT9zLnB1c2gocj4wP2UuZHVtcCh0W2ldLHItMSk6byk6cy5wdXNoKHRbaV0pLHMucHVzaChcIiwgXCIpO3MubGVuZ3RoPjEmJnMucG9wKCkscy5wdXNoKFwiXVwiKX1lbHNle3MucHVzaChcIntcIik7Zm9yKGkgaW4gdCllLmhhc093blByb3BlcnR5KHQsaSkmJihzLnB1c2goaStcIiA9PiBcIiksZS5hdSh0W2ldKT9zLnB1c2gocj4wP2UuZHVtcCh0W2ldLHItMSk6byk6cy5wdXNoKHRbaV0pLHMucHVzaChcIiwgXCIpKTtzLmxlbmd0aD4xJiZzLnBvcCgpLHMucHVzaChcIn1cIil9cmV0dXJuIHMuam9pbihcIlwiKX0sX3k6ZnVuY3Rpb24odCxyLGksbil7Zm9yKHZhciBzLG8sYSxoLGMsdSxsLHAsZCxmPVtdLGc9dC5sZW5ndGg7ISgocz10Lmxhc3RJbmRleE9mKFwie1wiLGcpKTwwKSYmKG89dC5pbmRleE9mKFwifVwiLHMpLCEocysxPm8pKTspbD10LnN1YnN0cmluZyhzKzEsbyksaD1sLHU9bnVsbCxhPWguaW5kZXhPZihcIiBcIiksYT4tMSYmKHU9aC5zdWJzdHJpbmcoYSsxKSxoPWguc3Vic3RyaW5nKDAsYSkpLGM9cltoXSxpJiYoYz1pKGgsYyx1KSksZS5hdShjKT9lLmlzQXJyYXkoYyk/Yz1lLmR1bXAoYyxwYXJzZUludCh1LDEwKSk6KHU9dXx8XCJcIixwPXUuaW5kZXhPZihcImR1bXBcIikscD4tMSYmKHU9dS5zdWJzdHJpbmcoNCkpLGQ9Yy50b1N0cmluZygpLGM9XCJbb2JqZWN0IE9iamVjdF1cIj09PWR8fHA+LTE/ZS5kdW1wKGMscGFyc2VJbnQodSwxMCkpOmQpOmUubXkoYyl8fGUuVHkoYyl8fChjPVwifi1cIitmLmxlbmd0aCtcIi1+XCIsZltmLmxlbmd0aF09bCksdD10LnN1YnN0cmluZygwLHMpK2MrdC5zdWJzdHJpbmcobysxKSwhMT09PW4mJihnPXMtMSk7Zm9yKHM9Zi5sZW5ndGgtMTtzPj0wO3MtPTEpdD10LnJlcGxhY2UobmV3IFJlZ0V4cChcIn4tXCIrcytcIi1+XCIpLFwie1wiK2Zbc10rXCJ9XCIsXCJnXCIpO3JldHVybiB0fSx0cmltOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfWNhdGNoKHQpe3JldHVybiBlfX0sUHk6ZnVuY3Rpb24oKXt2YXIgdCxyPXt9LGk9YXJndW1lbnRzLG49aS5sZW5ndGg7Zm9yKHQ9MDt0PG47dCs9MSllLmJ5KHIsaVt0XSwhMCk7cmV0dXJuIHJ9LEF5OmZ1bmN0aW9uKHQsaSxuLHMsbyl7dD10fHwwLGk9aXx8e307dmFyIGEsaCxjPW4sdT1zO2lmKGUubXkobikmJihjPWlbbl0pLCFjKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtZXRob2QgdW5kZWZpbmVkXCIpO3JldHVybiBlLkl5KHMpfHxlLmlzQXJyYXkodSl8fCh1PVtzXSksYT1mdW5jdGlvbigpe2MuYXBwbHkoaSx1fHxyKX0saD1vP3NldEludGVydmFsKGEsdCk6c2V0VGltZW91dChhLHQpLHtpbnRlcnZhbDpvLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaW50ZXJ2YWw/Y2xlYXJJbnRlcnZhbChoKTpjbGVhclRpbWVvdXQoaCl9fX0sT3k6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXUodCl8fGUubXkodCl8fGUuVHkodCl8fGUuRXkodCl9fTtlLmhhc093blByb3BlcnR5PXQuaGFzT3duUHJvcGVydHk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5oYXNPd25Qcm9wZXJ0eSYmZS5oYXNPd25Qcm9wZXJ0eSh0KX06ZnVuY3Rpb24odCxyKXtyZXR1cm4hZS5JeSh0W3JdKSYmdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbcl0hPT10W3JdfSxzLmJ5KGUscywhMCksSWUudXRpbC5MYW5nPWUsZS5OeT1lLkN5LEllLk55PWUuQ3ksSWUuZXh0ZW5kPWUuZXh0ZW5kfSgpLEllLnJlZ2lzdGVyKFwieWFob29cIixJZSx7dmVyc2lvbjpcIjIuOS4wXCIsWGc6XCIyODAwXCJ9KTsvKiEgQ3J5cHRvSlMgdjMuMS4yIGNvcmUtZml4LmpzXG4gKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanNcbiAqIChjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL3dpa2kvTGljZW5zZVxuICogVEhJUyBJUyBGSVggb2YgJ2NvcmUuanMnIHRvIGZpeCBIbWFjIGlzc3VlLlxuICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvaXNzdWVzL2RldGFpbD9pZD04NFxuICogaHR0cHM6Ly9jcnlwdG8tanMuZ29vZ2xlY29kZS5jb20vc3ZuLWhpc3RvcnkvcjY2Ny9icmFuY2hlcy8zLngvc3JjL2NvcmUuanNcbiAqL1xudmFyIFNlPVNlfHxmdW5jdGlvbihlLHQpe3ZhciByPXt9LGk9ci5GZz17fSxuPWkuRHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybntleHRlbmQ6ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGU9dGhpczt2YXIgcj1uZXcgZTtyZXR1cm4gdCYmci5reSh0KSxyLmhhc093blByb3BlcnR5KFwiaW5pdFwiKXx8KHIuaW5pdD1mdW5jdGlvbigpe3IuTHkuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxyLmluaXQucHJvdG90eXBlPXIsci5MeT10aGlzLHJ9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZXh0ZW5kKCk7cmV0dXJuIGUuaW5pdC5hcHBseShlLGFyZ3VtZW50cyksZX0saW5pdDpmdW5jdGlvbigpe30sa3k6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXNbdF09ZVt0XSk7ZS5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz1lLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fX0oKSxzPWkuTWc9bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXtlPXRoaXMuTXk9ZXx8W10sdGhpcy5GeT12b2lkIDAhPXQ/dDo0KmUubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4oZXx8YSkuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5NeSxyPWUuTXksaT10aGlzLkZ5LG49ZS5GeTtpZih0aGlzLkJFKCksaSU0KWZvcih2YXIgcz0wO3M8bjtzKyspe3ZhciBvPXJbcz4+PjJdPj4+MjQtcyU0KjgmMjU1O3RbaStzPj4+Ml18PW88PDI0LShpK3MpJTQqOH1lbHNlIGZvcih2YXIgcz0wO3M8bjtzKz00KXRbaStzPj4+Ml09cltzPj4+Ml07cmV0dXJuIHRoaXMuRnkrPW4sdGhpc30sQkU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLk15LHI9dGhpcy5GeTt0W3I+Pj4yXSY9NDI5NDk2NzI5NTw8MzItciU0KjgsdC5sZW5ndGg9ZS5jZWlsKHIvNCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLk15PXRoaXMuTXkuc2xpY2UoMCksZX0scmFuZG9tOmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPTA7aTx0O2krPTQpci5wdXNoKDQyOTQ5NjcyOTYqZS5yYW5kb20oKXwwKTtyZXR1cm4gbmV3IHMuaW5pdChyLHQpfX0pLG89ci5VeT17fSxhPW8uQnk9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5NeSxyPWUuRnksaT1bXSxuPTA7bjxyO24rKyl7dmFyIHM9dFtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7aS5wdXNoKChzPj4+NCkudG9TdHJpbmcoMTYpKSxpLnB1c2goKDE1JnMpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIGkuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9W10saT0wO2k8dDtpKz0yKXJbaT4+PjNdfD1wYXJzZUludChlLnN1YnN0cihpLDIpLDE2KTw8MjQtaSU4KjQ7cmV0dXJuIG5ldyBzLmluaXQocix0LzIpfX0saD1vLkh5PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuTXkscj1lLkZ5LGk9W10sbj0wO248cjtuKyspe3ZhciBzPXRbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O2kucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHMpKX1yZXR1cm4gaS5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1bXSxpPTA7aTx0O2krKylyW2k+Pj4yXXw9KDI1NSZlLmNoYXJDb2RlQXQoaSkpPDwyNC1pJTQqODtyZXR1cm4gbmV3IHMuaW5pdChyLHQpfX0sYz1vLnh5PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGguc3RyaW5naWZ5KGUpKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIil9fSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpKX19LHU9aS5xeT1uLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLkd5PW5ldyBzLmluaXQsdGhpcy5WeT0wfSxqeTpmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9Yy5wYXJzZShlKSksdGhpcy5HeS5jb25jYXQoZSksdGhpcy5WeSs9ZS5GeX0sUXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5HeSxpPXIuTXksbj1yLkZ5LG89dGhpcy5LeSxhPTQqbyxoPW4vYTtoPXQ/ZS5jZWlsKGgpOmUubWF4KCgwfGgpLXRoaXMuWXksMCk7dmFyIGM9aCpvLHU9ZS5taW4oNCpjLG4pO2lmKGMpe2Zvcih2YXIgbD0wO2w8YztsKz1vKXRoaXMuV3koaSxsKTt2YXIgcD1pLnNwbGljZSgwLGMpO3IuRnktPXV9cmV0dXJuIG5ldyBzLmluaXQocCx1KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUuR3k9dGhpcy5HeS5jbG9uZSgpLGV9LFl5OjB9KSxsPShpLnp5PXUuZXh0ZW5kKHtKeTpuLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5KeT10aGlzLkp5LmV4dGVuZChlKSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7dS5yZXNldC5jYWxsKHRoaXMpLHRoaXMuWHkoKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmp5KGUpLHRoaXMuUXkoKSx0aGlzfSxaeTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5qeShlKSx0aGlzLiR5KCl9LEt5OjE2LGVUOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZS5pbml0KHIpLlp5KHQpfX0sdFQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBsLnJULmluaXQoZSxyKS5aeSh0KX19fSksci5pVD17fSk7cmV0dXJuIHJ9KE1hdGgpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyLGksbixzLG8pe3JldHVybigoZT1lKyh0JnJ8fnQmaSkrbitvKTw8c3xlPj4+MzItcykrdH1mdW5jdGlvbiByKGUsdCxyLGksbixzLG8pe3JldHVybigoZT1lKyh0Jml8ciZ+aSkrbitvKTw8c3xlPj4+MzItcykrdH1mdW5jdGlvbiBpKGUsdCxyLGksbixzLG8pe3JldHVybigoZT1lKyh0XnJeaSkrbitvKTw8c3xlPj4+MzItcykrdH1mdW5jdGlvbiBuKGUsdCxyLGksbixzLG8pe3JldHVybigoZT1lKyhyXih0fH5pKSkrbitvKTw8c3xlPj4+MzItcykrdH1mb3IodmFyIHM9U2Usbz1zLkZnLGE9by5NZyxoPW8uenksbz1zLmlULGM9W10sdT0wOzY0PnU7dSsrKWNbdV09NDI5NDk2NzI5NiplLmFicyhlLnNpbih1KzEpKXwwO289by5VZz1oLmV4dGVuZCh7WHk6ZnVuY3Rpb24oKXt0aGlzLm5UPW5ldyBhLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0pfSxXeTpmdW5jdGlvbihlLHMpe2Zvcih2YXIgbz0wOzE2Pm87bysrKXt2YXIgYT1zK28saD1lW2FdO2VbYV09MTY3MTE5MzUmKGg8PDh8aD4+PjI0KXw0Mjc4MjU1MzYwJihoPDwyNHxoPj4+OCl9dmFyIG89dGhpcy5uVC5NeSxhPWVbcyswXSxoPWVbcysxXSx1PWVbcysyXSxsPWVbcyszXSxwPWVbcys0XSxkPWVbcys1XSxmPWVbcys2XSxnPWVbcys3XSxFPWVbcys4XSx2PWVbcys5XSx5PWVbcysxMF0sVD1lW3MrMTFdLG09ZVtzKzEyXSxJPWVbcysxM10sUz1lW3MrMTRdLFI9ZVtzKzE1XSx3PW9bMF0sYj1vWzFdLEM9b1syXSxfPW9bM10sdz10KHcsYixDLF8sYSw3LGNbMF0pLF89dChfLHcsYixDLGgsMTIsY1sxXSksQz10KEMsXyx3LGIsdSwxNyxjWzJdKSxiPXQoYixDLF8sdyxsLDIyLGNbM10pLHc9dCh3LGIsQyxfLHAsNyxjWzRdKSxfPXQoXyx3LGIsQyxkLDEyLGNbNV0pLEM9dChDLF8sdyxiLGYsMTcsY1s2XSksYj10KGIsQyxfLHcsZywyMixjWzddKSx3PXQodyxiLEMsXyxFLDcsY1s4XSksXz10KF8sdyxiLEMsdiwxMixjWzldKSxDPXQoQyxfLHcsYix5LDE3LGNbMTBdKSxiPXQoYixDLF8sdyxULDIyLGNbMTFdKSx3PXQodyxiLEMsXyxtLDcsY1sxMl0pLF89dChfLHcsYixDLEksMTIsY1sxM10pLEM9dChDLF8sdyxiLFMsMTcsY1sxNF0pLGI9dChiLEMsXyx3LFIsMjIsY1sxNV0pLHc9cih3LGIsQyxfLGgsNSxjWzE2XSksXz1yKF8sdyxiLEMsZiw5LGNbMTddKSxDPXIoQyxfLHcsYixULDE0LGNbMThdKSxiPXIoYixDLF8sdyxhLDIwLGNbMTldKSx3PXIodyxiLEMsXyxkLDUsY1syMF0pLF89cihfLHcsYixDLHksOSxjWzIxXSksQz1yKEMsXyx3LGIsUiwxNCxjWzIyXSksYj1yKGIsQyxfLHcscCwyMCxjWzIzXSksdz1yKHcsYixDLF8sdiw1LGNbMjRdKSxfPXIoXyx3LGIsQyxTLDksY1syNV0pLEM9cihDLF8sdyxiLGwsMTQsY1syNl0pLGI9cihiLEMsXyx3LEUsMjAsY1syN10pLHc9cih3LGIsQyxfLEksNSxjWzI4XSksXz1yKF8sdyxiLEMsdSw5LGNbMjldKSxDPXIoQyxfLHcsYixnLDE0LGNbMzBdKSxiPXIoYixDLF8sdyxtLDIwLGNbMzFdKSx3PWkodyxiLEMsXyxkLDQsY1szMl0pLF89aShfLHcsYixDLEUsMTEsY1szM10pLEM9aShDLF8sdyxiLFQsMTYsY1szNF0pLGI9aShiLEMsXyx3LFMsMjMsY1szNV0pLHc9aSh3LGIsQyxfLGgsNCxjWzM2XSksXz1pKF8sdyxiLEMscCwxMSxjWzM3XSksQz1pKEMsXyx3LGIsZywxNixjWzM4XSksYj1pKGIsQyxfLHcseSwyMyxjWzM5XSksdz1pKHcsYixDLF8sSSw0LGNbNDBdKSxfPWkoXyx3LGIsQyxhLDExLGNbNDFdKSxDPWkoQyxfLHcsYixsLDE2LGNbNDJdKSxiPWkoYixDLF8sdyxmLDIzLGNbNDNdKSx3PWkodyxiLEMsXyx2LDQsY1s0NF0pLF89aShfLHcsYixDLG0sMTEsY1s0NV0pLEM9aShDLF8sdyxiLFIsMTYsY1s0Nl0pLGI9aShiLEMsXyx3LHUsMjMsY1s0N10pLHc9bih3LGIsQyxfLGEsNixjWzQ4XSksXz1uKF8sdyxiLEMsZywxMCxjWzQ5XSksQz1uKEMsXyx3LGIsUywxNSxjWzUwXSksYj1uKGIsQyxfLHcsZCwyMSxjWzUxXSksdz1uKHcsYixDLF8sbSw2LGNbNTJdKSxfPW4oXyx3LGIsQyxsLDEwLGNbNTNdKSxDPW4oQyxfLHcsYix5LDE1LGNbNTRdKSxiPW4oYixDLF8sdyxoLDIxLGNbNTVdKSx3PW4odyxiLEMsXyxFLDYsY1s1Nl0pLF89bihfLHcsYixDLFIsMTAsY1s1N10pLEM9bihDLF8sdyxiLGYsMTUsY1s1OF0pLGI9bihiLEMsXyx3LEksMjEsY1s1OV0pLHc9bih3LGIsQyxfLHAsNixjWzYwXSksXz1uKF8sdyxiLEMsVCwxMCxjWzYxXSksQz1uKEMsXyx3LGIsdSwxNSxjWzYyXSksYj1uKGIsQyxfLHcsdiwyMSxjWzYzXSk7b1swXT1vWzBdK3d8MCxvWzFdPW9bMV0rYnwwLG9bMl09b1syXStDfDAsb1szXT1vWzNdK198MH0sJHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkd5LHI9dC5NeSxpPTgqdGhpcy5WeSxuPTgqdC5GeTtyW24+Pj41XXw9MTI4PDwyNC1uJTMyO3ZhciBzPWUuZmxvb3IoaS80Mjk0OTY3Mjk2KTtmb3IoclsxNSsobis2ND4+Pjk8PDQpXT0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KSxyWzE0KyhuKzY0Pj4+OTw8NCldPTE2NzExOTM1JihpPDw4fGk+Pj4yNCl8NDI3ODI1NTM2MCYoaTw8MjR8aT4+PjgpLHQuRnk9NCooci5sZW5ndGgrMSksdGhpcy5ReSgpLHQ9dGhpcy5uVCxyPXQuTXksaT0wOzQ+aTtpKyspbj1yW2ldLHJbaV09MTY3MTE5MzUmKG48PDh8bj4+PjI0KXw0Mjc4MjU1MzYwJihuPDwyNHxuPj4+OCk7cmV0dXJuIHR9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9aC5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLm5UPXRoaXMublQuY2xvbmUoKSxlfX0pLHMuVWc9aC5lVChvKSxzLnNUPWgudFQobyl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIGU9U2UsdD1lLkZnLHI9dC5NZyxpPXQuenksbj1bXSx0PWUuaVQub1Q9aS5leHRlbmQoe1h5OmZ1bmN0aW9uKCl7dGhpcy5uVD1uZXcgci5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxXeTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLm5ULk15LGk9clswXSxzPXJbMV0sbz1yWzJdLGE9clszXSxoPXJbNF0sYz0wOzgwPmM7YysrKXtpZigxNj5jKW5bY109MHxlW3QrY107ZWxzZXt2YXIgdT1uW2MtM11ebltjLThdXm5bYy0xNF1ebltjLTE2XTtuW2NdPXU8PDF8dT4+PjMxfXU9KGk8PDV8aT4+PjI3KStoK25bY10sdT0yMD5jP3UrKDE1MTg1MDAyNDkrKHMmb3x+cyZhKSk6NDA+Yz91KygxODU5Nzc1MzkzKyhzXm9eYSkpOjYwPmM/dSsoKHMmb3xzJmF8byZhKS0xODk0MDA3NTg4KTp1Kygoc15vXmEpLTg5OTQ5NzUxNCksaD1hLGE9byxvPXM8PDMwfHM+Pj4yLHM9aSxpPXV9clswXT1yWzBdK2l8MCxyWzFdPXJbMV0rc3wwLHJbMl09clsyXStvfDAsclszXT1yWzNdK2F8MCxyWzRdPXJbNF0raHwwfSwkeTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuR3ksdD1lLk15LHI9OCp0aGlzLlZ5LGk9OCplLkZ5O3JldHVybiB0W2k+Pj41XXw9MTI4PDwyNC1pJTMyLHRbMTQrKGkrNjQ+Pj45PDw0KV09TWF0aC5mbG9vcihyLzQyOTQ5NjcyOTYpLHRbMTUrKGkrNjQ+Pj45PDw0KV09cixlLkZ5PTQqdC5sZW5ndGgsdGhpcy5ReSgpLHRoaXMublR9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9aS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLm5UPXRoaXMublQuY2xvbmUoKSxlfX0pO2Uub1Q9aS5lVCh0KSxlLmFUPWkudFQodCl9KCk7LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vICovXG52YXIgUmU7XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09VGUuYXBwTmFtZT8oci5wcm90b3R5cGUuVkU9cyxSZT0zMCk6XCJOZXRzY2FwZVwiIT1UZS5hcHBOYW1lPyhyLnByb3RvdHlwZS5WRT1uLFJlPTI2KTooci5wcm90b3R5cGUuVkU9byxSZT0yOCksci5wcm90b3R5cGUuVUU9UmUsci5wcm90b3R5cGUueEU9KDE8PFJlKS0xLHIucHJvdG90eXBlLkxFPTE8PFJlO3IucHJvdG90eXBlLldFPU1hdGgucG93KDIsNTIpLHIucHJvdG90eXBlLktFPTUyLVJlLHIucHJvdG90eXBlLllFPTIqUmUtNTI7dmFyIHdlLGJlLENlPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsX2U9bmV3IEFycmF5O2Zvcih3ZT1cIjBcIi5jaGFyQ29kZUF0KDApLGJlPTA7YmU8PTk7KytiZSlfZVt3ZSsrXT1iZTtmb3Iod2U9XCJhXCIuY2hhckNvZGVBdCgwKSxiZT0xMDtiZTwzNjsrK2JlKV9lW3dlKytdPWJlO2Zvcih3ZT1cIkFcIi5jaGFyQ29kZUF0KDApLGJlPTEwO2JlPDM2OysrYmUpX2Vbd2UrK109YmU7QS5wcm90b3R5cGUudXY9TyxBLnByb3RvdHlwZS5kdj1OLEEucHJvdG90eXBlLnJlZHVjZT1ELEEucHJvdG90eXBlLnB2PWssQS5wcm90b3R5cGUubHY9TCxGLnByb3RvdHlwZS51dj1VLEYucHJvdG90eXBlLmR2PUIsRi5wcm90b3R5cGUucmVkdWNlPUgsRi5wcm90b3R5cGUucHY9cSxGLnByb3RvdHlwZS5sdj14LHIucHJvdG90eXBlLmpFPWMsci5wcm90b3R5cGUuTUU9dSxyLnByb3RvdHlwZS5rRT1wLHIucHJvdG90eXBlLkJFPWQsci5wcm90b3R5cGUuekU9bSxyLnByb3RvdHlwZS5YRT1JLHIucHJvdG90eXBlLlFFPVMsci5wcm90b3R5cGUuWkU9UixyLnByb3RvdHlwZS5IRT13LHIucHJvdG90eXBlLnR2PWIsci5wcm90b3R5cGUucnY9QyxyLnByb3RvdHlwZS4kRT1fLHIucHJvdG90eXBlLnN2PU0sci5wcm90b3R5cGUuZnY9RyxyLnByb3RvdHlwZS5leHA9VixyLnByb3RvdHlwZS50b1N0cmluZz1mLHIucHJvdG90eXBlLnFFPWcsci5wcm90b3R5cGUuYWJzPUUsci5wcm90b3R5cGUuSkU9dixyLnByb3RvdHlwZS5Tdj1ULHIucHJvdG90eXBlLmV2PVAsci5wcm90b3R5cGUuSXY9aixyLlpFUk89bCgwKSxyLk9ORT1sKDEpLC8qISBhc24xLTEuMC45LmpzIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcbiAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEtKVVImJktKVVJ8fChLSlVSPXt9KSx2b2lkIDAhPT1LSlVSLmhUJiZLSlVSLmhUfHwoS0pVUi5oVD17fSksS0pVUi5oVC5jVD1uZXcgZnVuY3Rpb24oKXt0aGlzLnVUPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aCUyPT0xJiYodD1cIjBcIit0KSx0fSx0aGlzLmxUPWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO2lmKFwiLVwiIT10LnN1YnN0cigwLDEpKXQubGVuZ3RoJTI9PTE/dD1cIjBcIit0OnQubWF0Y2goL15bMC03XS8pfHwodD1cIjAwXCIrdCk7ZWxzZXt2YXIgaT10LnN1YnN0cigxKSxuPWkubGVuZ3RoO24lMj09MT9uKz0xOnQubWF0Y2goL15bMC03XS8pfHwobis9Mik7Zm9yKHZhciBzPVwiXCIsbz0wO288bjtvKyspcys9XCJmXCI7dD1uZXcgcihzLDE2KS5wVChlKS5hZGQoci5PTkUpLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eLS8sXCJcIil9cmV0dXJuIHR9LHRoaXMuZFQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oS0pVUi5oVCxTZS5VeS5CeS5wYXJzZShlKSksaT1TZS5VeS5mVC5zdHJpbmdpZnkociksbj1pLnJlcGxhY2UoLyguezY0fSkvZyxcIiQxXFxyXFxuXCIpO3JldHVybiBuPW4ucmVwbGFjZSgvXFxyXFxuJC8sXCJcIiksXCItLS0tLUJFR0lOIFwiK3QrXCItLS0tLVxcclxcblwiK24rXCJcXHJcXG4tLS0tLUVORCBcIit0K1wiLS0tLS1cXHJcXG5cIn0sdGhpcy5nVD1mdW5jdGlvbihlKXt2YXIgdD1LSlVSLmhULHI9T2JqZWN0LmtleXMoZSk7aWYoMSE9ci5sZW5ndGgpdGhyb3dcImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS5cIjt2YXIgaT1yWzBdO2lmKC0xPT1cIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIraStcIjpcIikpdGhyb3dcInVuZGVmaW5lZCBrZXk6IFwiK2k7aWYoXCJib29sXCI9PWkpcmV0dXJuIG5ldyB0LkVUKGVbaV0pO2lmKFwiaW50XCI9PWkpcmV0dXJuIG5ldyB0LnZUKGVbaV0pO2lmKFwiYml0c3RyXCI9PWkpcmV0dXJuIG5ldyB0LnlUKGVbaV0pO2lmKFwib2N0c3RyXCI9PWkpcmV0dXJuIG5ldyB0LlRUKGVbaV0pO2lmKFwibnVsbFwiPT1pKXJldHVybiBuZXcgdC5tVChlW2ldKTtpZihcIm9pZFwiPT1pKXJldHVybiBuZXcgdC5JVChlW2ldKTtpZihcImVudW1cIj09aSlyZXR1cm4gbmV3IHQuU1QoZVtpXSk7aWYoXCJ1dGY4c3RyXCI9PWkpcmV0dXJuIG5ldyB0LlJUKGVbaV0pO2lmKFwibnVtc3RyXCI9PWkpcmV0dXJuIG5ldyB0LndUKGVbaV0pO2lmKFwicHJuc3RyXCI9PWkpcmV0dXJuIG5ldyB0LmJUKGVbaV0pO2lmKFwidGVsc3RyXCI9PWkpcmV0dXJuIG5ldyB0LkNUKGVbaV0pO2lmKFwiaWE1c3RyXCI9PWkpcmV0dXJuIG5ldyB0Ll9UKGVbaV0pO2lmKFwidXRjdGltZVwiPT1pKXJldHVybiBuZXcgdC5QVChlW2ldKTtpZihcImdlbnRpbWVcIj09aSlyZXR1cm4gbmV3IHQuQVQoZVtpXSk7aWYoXCJzZXFcIj09aSl7Zm9yKHZhciBuPWVbaV0scz1bXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPXQuY1QuZ1QobltvXSk7cy5wdXNoKGEpfXJldHVybiBuZXcgdC5PVCh7TlQ6c30pfWlmKFwic2V0XCI9PWkpe2Zvcih2YXIgbj1lW2ldLHM9W10sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT10LmNULmdUKG5bb10pO3MucHVzaChhKX1yZXR1cm4gbmV3IHQuRFQoe05UOnN9KX1pZihcInRhZ1wiPT1pKXt2YXIgaD1lW2ldO2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChoKSYmMz09aC5sZW5ndGgpe3ZhciBjPXQuY1QuZ1QoaFsyXSk7cmV0dXJuIG5ldyB0LmtUKHt0YWc6aFswXSxMVDpoWzFdLE1UOmN9KX12YXIgdT17fTtpZih2b2lkIDAhPT1oLkxUJiYodS5MVD1oLkxUKSx2b2lkIDAhPT1oLnRhZyYmKHUudGFnPWgudGFnKSx2b2lkIDA9PT1oLk1UKXRocm93XCJvYmogc2hhbGwgYmUgc3BlY2lmaWVkIGZvciAndGFnJy5cIjtyZXR1cm4gdS5NVD10LmNULmdUKGguTVQpLG5ldyB0LmtUKHUpfX0sdGhpcy5GVD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nVChlKS5VVCgpfX0sS0pVUi5oVC5jVC5CVD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixpPXBhcnNlSW50KGUuc3Vic3RyKDAsMiksMTYpLG49TWF0aC5mbG9vcihpLzQwKSxzPWklNDAsdD1uK1wiLlwiK3Msbz1cIlwiLGE9MjthPGUubGVuZ3RoO2ErPTIpe3ZhciBoPXBhcnNlSW50KGUuc3Vic3RyKGEsMiksMTYpLGM9KFwiMDAwMDAwMDBcIitoLnRvU3RyaW5nKDIpKS5zbGljZSgtOCk7aWYobys9Yy5zdWJzdHIoMSw3KSxcIjBcIj09Yy5zdWJzdHIoMCwxKSl7dD10K1wiLlwiK25ldyByKG8sMikudG9TdHJpbmcoMTApLG89XCJcIn19cmV0dXJuIHR9LEtKVVIuaFQuY1QuSFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIDE9PXQubGVuZ3RoJiYodD1cIjBcIit0KSx0fTtpZighZS5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIitlO3ZhciBpPVwiXCIsbj1lLnNwbGl0KFwiLlwiKSxzPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO2krPXQocyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpKz1mdW5jdGlvbihlKXt2YXIgaT1cIlwiLG49bmV3IHIoZSwxMCkscz1uLnRvU3RyaW5nKDIpLG89Ny1zLmxlbmd0aCU3Ozc9PW8mJihvPTApO2Zvcih2YXIgYT1cIlwiLGg9MDtoPG87aCsrKWErPVwiMFwiO3M9YStzO2Zvcih2YXIgaD0wO2g8cy5sZW5ndGgtMTtoKz03KXt2YXIgYz1zLnN1YnN0cihoLDcpO2ghPXMubGVuZ3RoLTcmJihjPVwiMVwiK2MpLGkrPXQocGFyc2VJbnQoYywyKSl9cmV0dXJuIGl9KG5bb10pO3JldHVybiBpfSxLSlVSLmhULnhUPWZ1bmN0aW9uKCl7dGhpcy5xVD1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuR1R8fG51bGw9PXRoaXMuR1QpdGhyb3dcInRoaXMuaFYgaXMgbnVsbCBvciB1bmRlZmluZWQuXCI7aWYodGhpcy5HVC5sZW5ndGglMj09MSl0aHJvd1widmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIrXCJcIi5sZW5ndGgrXCIsdj1cIit0aGlzLkdUO3ZhciBlPXRoaXMuR1QubGVuZ3RoLzIsdD1lLnRvU3RyaW5nKDE2KTtpZih0Lmxlbmd0aCUyPT0xJiYodD1cIjBcIit0KSxlPDEyOClyZXR1cm4gdDt2YXIgcj10Lmxlbmd0aC8yO2lmKHI+MTUpdGhyb3dcIkFTTi4xIGxlbmd0aCB0b28gbG9uZyB0byByZXByZXNlbnQgYnkgOHg6IG4gPSBcIitlLnRvU3RyaW5nKDE2KTtyZXR1cm4oMTI4K3IpLnRvU3RyaW5nKDE2KSt0fSx0aGlzLlVUPWZ1bmN0aW9uKCl7cmV0dXJuKG51bGw9PXRoaXMuVlR8fHRoaXMualQpJiYodGhpcy5HVD10aGlzLlFUKCksdGhpcy5LVD10aGlzLnFUKCksdGhpcy5WVD10aGlzLllUK3RoaXMuS1QrdGhpcy5HVCx0aGlzLmpUPSExKSx0aGlzLlZUfSx0aGlzLldUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVVQoKSx0aGlzLkdUfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LEtKVVIuaFQuelQ9ZnVuY3Rpb24oZSl7S0pVUi5oVC56VC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuSlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5UfSx0aGlzLlhUPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuVD1lLHRoaXMuR1Q9c3RvaGV4KHRoaXMuVCl9LHRoaXMuWlQ9ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5UPW51bGwsdGhpcy5HVD1lfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9LHZvaWQgMCE9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLlhUKGUpOnZvaWQgMCE9PWUuc3RyP3RoaXMuWFQoZS5zdHIpOnZvaWQgMCE9PWUuJFQmJnRoaXMuWlQoZS4kVCkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULnpULEtKVVIuaFQueFQpLEtKVVIuaFQuZW09ZnVuY3Rpb24oZSl7S0pVUi5oVC5lbS53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMudG09ZnVuY3Rpb24oZSl7cmV0dXJuIHV0Yz1lLmdldFRpbWUoKSs2ZTQqZS5nZXRUaW1lem9uZU9mZnNldCgpLG5ldyBEYXRlKHV0Yyl9LHRoaXMucm09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuaW0sbj10aGlzLnRtKGUpLHM9U3RyaW5nKG4uZ2V0RnVsbFllYXIoKSk7XCJ1dGNcIj09dCYmKHM9cy5zdWJzdHIoMiwyKSk7dmFyIG89aShTdHJpbmcobi5nZXRNb250aCgpKzEpLDIpLGE9aShTdHJpbmcobi5nZXREYXRlKCkpLDIpLGg9aShTdHJpbmcobi5nZXRIb3VycygpKSwyKSxjPWkoU3RyaW5nKG4uZ2V0TWludXRlcygpKSwyKSx1PWkoU3RyaW5nKG4uZ2V0U2Vjb25kcygpKSwyKSxsPXMrbythK2grYyt1O2lmKCEwPT09cil7dmFyIHA9bi5nZXRNaWxsaXNlY29uZHMoKTtpZigwIT1wKXt2YXIgZD1pKFN0cmluZyhwKSwzKTtkPWQucmVwbGFjZSgvWzBdKyQvLFwiXCIpLGw9bCtcIi5cIitkfX1yZXR1cm4gbCtcIlpcIn0sdGhpcy5pbT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD49dD9lOm5ldyBBcnJheSh0LWUubGVuZ3RoKzEpLmpvaW4oXCIwXCIpK2V9LHRoaXMuSlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5UfSx0aGlzLlhUPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuVD1lLHRoaXMuR1Q9c3RvaGV4KGUpfSx0aGlzLm5tPWZ1bmN0aW9uKGUsdCxyLGksbixzKXt2YXIgbz1uZXcgRGF0ZShEYXRlLlVUQyhlLHQtMSxyLGksbixzLDApKTt0aGlzLnNtKG8pfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9fSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULmVtLEtKVVIuaFQueFQpLEtKVVIuaFQub209ZnVuY3Rpb24oZSl7S0pVUi5oVC56VC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuYW09ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5obT1lfSx0aGlzLmNtPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuaG0ucHVzaChlKX0sdGhpcy5obT1uZXcgQXJyYXksdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5OVCYmKHRoaXMuaG09ZS5OVCl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQub20sS0pVUi5oVC54VCksS0pVUi5oVC5FVD1mdW5jdGlvbigpe0tKVVIuaFQuRVQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLllUPVwiMDFcIix0aGlzLlZUPVwiMDEwMWZmXCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuRVQsS0pVUi5oVC54VCksS0pVUi5oVC52VD1mdW5jdGlvbihlKXtLSlVSLmhULnZULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5ZVD1cIjAyXCIsdGhpcy51bT1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLkdUPUtKVVIuaFQuY1QubFQoZSl9LHRoaXMubG09ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHIoU3RyaW5nKGUpLDEwKTt0aGlzLnVtKHQpfSx0aGlzLnBtPWZ1bmN0aW9uKGUpe3RoaXMuR1Q9ZX0sdGhpcy5RVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdUfSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS5kbT90aGlzLnVtKGUuZG0pOnZvaWQgMCE9PWUuZm0/dGhpcy5sbShlLmZtKTpcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLmxtKGUpOnZvaWQgMCE9PWUuJFQmJnRoaXMucG0oZS4kVCkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULnZULEtKVVIuaFQueFQpLEtKVVIuaFQueVQ9ZnVuY3Rpb24oZSl7S0pVUi5oVC55VC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuWVQ9XCIwM1wiLHRoaXMuZ209ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5HVD1lfSx0aGlzLkVtPWZ1bmN0aW9uKGUsdCl7aWYoZTwwfHw3PGUpdGhyb3dcInVudXNlZCBiaXRzIHNoYWxsIGJlIGZyb20gMCB0byA3OiB1ID0gXCIrZTt2YXIgcj1cIjBcIitlO3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuR1Q9cit0fSx0aGlzLnZtPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKC8wKyQvLFwiXCIpO3ZhciB0PTgtZS5sZW5ndGglODs4PT10JiYodD0wKTtmb3IodmFyIHI9MDtyPD10O3IrKyllKz1cIjBcIjtmb3IodmFyIGk9XCJcIixyPTA7cjxlLmxlbmd0aC0xO3IrPTgpe3ZhciBuPWUuc3Vic3RyKHIsOCkscz1wYXJzZUludChuLDIpLnRvU3RyaW5nKDE2KTsxPT1zLmxlbmd0aCYmKHM9XCIwXCIrcyksaSs9c310aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLkdUPVwiMFwiK3QraX0sdGhpcy55bT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlLmxlbmd0aDtyKyspMT09ZVtyXT90Kz1cIjFcIjp0Kz1cIjBcIjt0aGlzLnZtKHQpfSx0aGlzLlRtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT0hMTtyZXR1cm4gdH0sdGhpcy5RVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdUfSx2b2lkIDAhPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUudG9Mb3dlckNhc2UoKS5tYXRjaCgvXlswLTlhLWZdKyQvKT90aGlzLmdtKGUpOnZvaWQgMCE9PWUuJFQ/dGhpcy5nbShlLiRUKTp2b2lkIDAhPT1lLm1tP3RoaXMudm0oZS5tbSk6dm9pZCAwIT09ZS5OVCYmdGhpcy55bShlLk5UKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQueVQsS0pVUi5oVC54VCksS0pVUi5oVC5UVD1mdW5jdGlvbihlKXtLSlVSLmhULlRULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMDRcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5UVCxLSlVSLmhULnpUKSxLSlVSLmhULm1UPWZ1bmN0aW9uKCl7S0pVUi5oVC5tVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuWVQ9XCIwNVwiLHRoaXMuVlQ9XCIwNTAwXCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQubVQsS0pVUi5oVC54VCksS0pVUi5oVC5JVD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09dC5sZW5ndGgmJih0PVwiMFwiK3QpLHR9LGk9ZnVuY3Rpb24oZSl7dmFyIGk9XCJcIixuPW5ldyByKGUsMTApLHM9bi50b1N0cmluZygyKSxvPTctcy5sZW5ndGglNzs3PT1vJiYobz0wKTtmb3IodmFyIGE9XCJcIixoPTA7aDxvO2grKylhKz1cIjBcIjtzPWErcztmb3IodmFyIGg9MDtoPHMubGVuZ3RoLTE7aCs9Nyl7dmFyIGM9cy5zdWJzdHIoaCw3KTtoIT1zLmxlbmd0aC03JiYoYz1cIjFcIitjKSxpKz10KHBhcnNlSW50KGMsMikpfXJldHVybiBpfTtLSlVSLmhULklULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5ZVD1cIjA2XCIsdGhpcy5wbT1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLlQ9bnVsbCx0aGlzLkdUPWV9LHRoaXMuSW09ZnVuY3Rpb24oZSl7aWYoIWUubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrZTt2YXIgcj1cIlwiLG49ZS5zcGxpdChcIi5cIikscz00MCpwYXJzZUludChuWzBdKStwYXJzZUludChuWzFdKTtyKz10KHMpLG4uc3BsaWNlKDAsMik7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspcis9aShuW29dKTt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLlQ9bnVsbCx0aGlzLkdUPXJ9LHRoaXMuU209ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09S0pVUi5oVC5ibS53bS5SbVtlXSl0aHJvd1wiREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogXCIrZTt2YXIgdD1LSlVSLmhULmJtLndtLlJtW2VdO3RoaXMuSW0odCl9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HVH0sdm9pZCAwIT09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLm1hdGNoKC9eWzAtMl0uWzAtOS5dKyQvKT90aGlzLkltKGUpOnZvaWQgMCE9PUtKVVIuaFQuYm0ud20uUm1bZV0/dGhpcy5JbShLSlVSLmhULmJtLndtLlJtW2VdKTp2b2lkIDAhPT1lLkNtP3RoaXMuSW0oZS5DbSk6dm9pZCAwIT09ZS4kVD90aGlzLnBtKGUuJFQpOnZvaWQgMCE9PWUubmFtZSYmdGhpcy5TbShlLm5hbWUpKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5JVCxLSlVSLmhULnhUKSxLSlVSLmhULlNUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuU1Qud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLllUPVwiMGFcIix0aGlzLnVtPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuR1Q9S0pVUi5oVC5jVC5sVChlKX0sdGhpcy5sbT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgcihTdHJpbmcoZSksMTApO3RoaXMudW0odCl9LHRoaXMucG09ZnVuY3Rpb24oZSl7dGhpcy5HVD1lfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmZtP3RoaXMubG0oZS5mbSk6XCJudW1iZXJcIj09dHlwZW9mIGU/dGhpcy5sbShlKTp2b2lkIDAhPT1lLiRUJiZ0aGlzLnBtKGUuJFQpKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5TVCxLSlVSLmhULnhUKSxLSlVSLmhULlJUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuUlQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIwY1wifSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULlJULEtKVVIuaFQuelQpLEtKVVIuaFQud1Q9ZnVuY3Rpb24oZSl7S0pVUi5oVC53VC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5ZVD1cIjEyXCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQud1QsS0pVUi5oVC56VCksS0pVUi5oVC5iVD1mdW5jdGlvbihlKXtLSlVSLmhULmJULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMTNcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5iVCxLSlVSLmhULnpUKSxLSlVSLmhULkNUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuQ1Qud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIxNFwifSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULkNULEtKVVIuaFQuelQpLEtKVVIuaFQuX1Q9ZnVuY3Rpb24oZSl7S0pVUi5oVC5fVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5ZVD1cIjE2XCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuX1QsS0pVUi5oVC56VCksS0pVUi5oVC5QVD1mdW5jdGlvbihlKXtLSlVSLmhULlBULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMTdcIix0aGlzLnNtPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuX209ZSx0aGlzLlQ9dGhpcy5ybSh0aGlzLl9tLFwidXRjXCIpLHRoaXMuR1Q9c3RvaGV4KHRoaXMuVCl9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fbSYmdm9pZCAwPT09dGhpcy5UJiYodGhpcy5fbT1uZXcgRGF0ZSx0aGlzLlQ9dGhpcy5ybSh0aGlzLl9tLFwidXRjXCIpLHRoaXMuR1Q9c3RvaGV4KHRoaXMuVCkpLHRoaXMuR1R9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnN0cj90aGlzLlhUKGUuc3RyKTpcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5YVChlKTp2b2lkIDAhPT1lLiRUP3RoaXMuWlQoZS4kVCk6dm9pZCAwIT09ZS5fbSYmdGhpcy5zbShlLl9tKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuUFQsS0pVUi5oVC5lbSksS0pVUi5oVC5BVD1mdW5jdGlvbihlKXtLSlVSLmhULkFULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMThcIix0aGlzLlBtPSExLHRoaXMuc209ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5fbT1lLHRoaXMuVD10aGlzLnJtKHRoaXMuX20sXCJnZW5cIix0aGlzLlBtKSx0aGlzLkdUPXN0b2hleCh0aGlzLlQpfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX20mJnZvaWQgMD09PXRoaXMuVCYmKHRoaXMuX209bmV3IERhdGUsdGhpcy5UPXRoaXMucm0odGhpcy5fbSxcImdlblwiLHRoaXMuUG0pLHRoaXMuR1Q9c3RvaGV4KHRoaXMuVCkpLHRoaXMuR1R9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnN0cj90aGlzLlhUKGUuc3RyKTpcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5tYXRjaCgvXlswLTldezE0fVokLyk/dGhpcy5YVChlKTp2b2lkIDAhPT1lLiRUP3RoaXMuWlQoZS4kVCk6dm9pZCAwIT09ZS5fbSYmdGhpcy5zbShlLl9tKSwhMD09PWUuQW0mJih0aGlzLlBtPSEwKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuQVQsS0pVUi5oVC5lbSksS0pVUi5oVC5PVD1mdW5jdGlvbihlKXtLSlVSLmhULk9ULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMzBcIix0aGlzLlFUPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsdD0wO3Q8dGhpcy5obS5sZW5ndGg7dCsrKXtlKz10aGlzLmhtW3RdLlVUKCl9cmV0dXJuIHRoaXMuR1Q9ZSx0aGlzLkdUfX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5PVCxLSlVSLmhULm9tKSxLSlVSLmhULkRUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuRFQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIzMVwiLHRoaXMuT209ITAsdGhpcy5RVD1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgQXJyYXksdD0wO3Q8dGhpcy5obS5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmhtW3RdO2UucHVzaChyLlVUKCkpfXJldHVybiAxPT10aGlzLk9tJiZlLnNvcnQoKSx0aGlzLkdUPWUuam9pbihcIlwiKSx0aGlzLkdUfSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLk5tJiYwPT1lLk5tJiYodGhpcy5PbT0hMSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuRFQsS0pVUi5oVC5vbSksS0pVUi5oVC5rVD1mdW5jdGlvbihlKXtLSlVSLmhULmtULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5ZVD1cImEwXCIsdGhpcy5HVD1cIlwiLHRoaXMuRG09ITAsdGhpcy5rbT1udWxsLHRoaXMuTG09ZnVuY3Rpb24oZSx0LHIpe3RoaXMuWVQ9dCx0aGlzLkRtPWUsdGhpcy5rbT1yLHRoaXMuRG0/KHRoaXMuR1Q9dGhpcy5rbS5VVCgpLHRoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwKToodGhpcy5HVD1udWxsLHRoaXMuVlQ9ci5VVCgpLHRoaXMuVlQ9dGhpcy5WVC5yZXBsYWNlKC9eLi4vLHQpLHRoaXMualQ9ITEpfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLnRhZyYmKHRoaXMuWVQ9ZS50YWcpLHZvaWQgMCE9PWUuTFQmJih0aGlzLkRtPWUuTFQpLHZvaWQgMCE9PWUuTVQmJih0aGlzLmttPWUuTVQsdGhpcy5MbSh0aGlzLkRtLHRoaXMuWVQsdGhpcy5rbSkpKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5rVCxLSlVSLmhULnhUKTsvKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi8gKi9cbnZhciBQZT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixBZT1cIj1cIjsvKiEgY3J5cHRvLTEuMS44LmpzIChjKSAyMDEzLTIwMTYgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcbiAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEtKVVImJktKVVJ8fChLSlVSPXt9KSx2b2lkIDAhPT1LSlVSLmNyeXB0byYmS0pVUi5jcnlwdG98fChLSlVSLmNyeXB0bz17fSksS0pVUi5jcnlwdG8uYnY9bmV3IGZ1bmN0aW9uKCl7dGhpcy5Edj17c2hhMTpcIjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNFwiLE1tOlwiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWNcIixzaGEyNTY6XCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMFwiLEZtOlwiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzBcIixVbTpcIjMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwXCIsQm06XCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTBcIixIbTpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMFwiLHhtOlwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJ9LHRoaXMucW09e0htOlwiY3J5cHRvanNcIixzaGExOlwiY3J5cHRvanNcIixNbTpcImNyeXB0b2pzXCIsc2hhMjU2OlwiY3J5cHRvanNcIixGbTpcImNyeXB0b2pzXCIsVW06XCJjcnlwdG9qc1wiLHhtOlwiY3J5cHRvanNcIixHbTpcImNyeXB0b2pzXCIsVm06XCJjcnlwdG9qc1wiLGptOlwiY3J5cHRvanNcIixRbTpcImNyeXB0b2pzXCIsS206XCJjcnlwdG9qc1wiLFltOlwiY3J5cHRvanNcIixXbTpcImNyeXB0b2pzXCIsem06XCJjcnlwdG9qcy9qc3JzYVwiLEptOlwiY3J5cHRvanMvanNyc2FcIixYbTpcImNyeXB0b2pzL2pzcnNhXCIsWm06XCJjcnlwdG9qcy9qc3JzYVwiLCRtOlwiY3J5cHRvanMvanNyc2FcIixlSTpcImNyeXB0b2pzL2pzcnNhXCIsdEk6XCJjcnlwdG9qcy9qc3JzYVwiLHJJOlwiY3J5cHRvanMvanNyc2FcIixpSTpcImNyeXB0b2pzL2pzcnNhXCIsbkk6XCJjcnlwdG9qcy9qc3JzYVwiLHNJOlwiY3J5cHRvanMvanNyc2FcIixvSTpcImNyeXB0b2pzL2pzcnNhXCIsYUk6XCJjcnlwdG9qcy9qc3JzYVwiLGhJOlwiY3J5cHRvanMvanNyc2FcIixjSTpcImNyeXB0b2pzL2pzcnNhXCIsdUk6XCJjcnlwdG9qcy9qc3JzYVwiLGxJOlwiY3J5cHRvanMvanNyc2FcIixwSTpcImNyeXB0b2pzL2pzcnNhXCIsZEk6XCJjcnlwdG9qcy9qc3JzYVwiLGZJOlwiY3J5cHRvanMvanNyc2FcIixnSTpcImNyeXB0b2pzL2pzcnNhXCIsRUk6XCJjcnlwdG9qcy9qc3JzYVwiLHZJOlwiY3J5cHRvanMvanNyc2FcIix5STpcImNyeXB0b2pzL2pzcnNhXCJ9LHRoaXMuVEk9e0htOlNlLmlULlVnLHNoYTE6U2UuaVQub1QsTW06U2UuaVQubUksc2hhMjU2OlNlLmlULklJLEZtOlNlLmlULlNJLFVtOlNlLmlULlJJLHhtOlNlLmlULndJfSx0aGlzLmJJPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dGhpcy5Edlt0XSl0aHJvd1wiYWxnIG5vdCBzdXBwb3J0ZWQgaW4gVXRpbC5ESUdFU1RJTkZPSEVBRDogXCIrdDtyZXR1cm4gdGhpcy5Edlt0XStlfSx0aGlzLl92PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmJJKGUsdCksbj1yLzQ7aWYoaS5sZW5ndGgrMjI+bil0aHJvd1wia2V5IGlzIHRvbyBzaG9ydCBmb3IgU2lnQWxnOiBrZXlsZW49XCIrcitcIixcIit0O2Zvcih2YXIgcz1cIjAwMDFcIixvPVwiMDBcIitpLGE9XCJcIixoPW4tcy5sZW5ndGgtby5sZW5ndGgsYz0wO2M8aDtjKz0yKWErPVwiZmZcIjtyZXR1cm4gcythK299LHRoaXMud3Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTp0fSkuQ0koZSl9LHRoaXMuQXY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTp0fSkuT0koZSl9LHRoaXMuc2hhMT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTpcInNoYTFcIixOSTpcImNyeXB0b2pzXCJ9KS5DSShlKX0sdGhpcy5zaGEyNTY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5fSSh7QUk6XCJzaGEyNTZcIixOSTpcImNyeXB0b2pzXCJ9KS5DSShlKX0sdGhpcy5EST1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTpcInNoYTI1NlwiLE5JOlwiY3J5cHRvanNcIn0pLk9JKGUpfSx0aGlzLlVtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOlwic2hhNTEyXCIsTkk6XCJjcnlwdG9qc1wifSkuQ0koZSl9LHRoaXMua0k9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5fSSh7QUk6XCJzaGE1MTJcIixOSTpcImNyeXB0b2pzXCJ9KS5PSShlKX0sdGhpcy5IbT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTpcIm1kNVwiLE5JOlwiY3J5cHRvanNcIn0pLkNJKGUpfSx0aGlzLnhtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOlwicmlwZW1kMTYwXCIsTkk6XCJjcnlwdG9qc1wifSkuQ0koZSl9LHRoaXMuTEk9ZnVuY3Rpb24oZSl7fX0sS0pVUi5jcnlwdG8uX0k9ZnVuY3Rpb24oZSl7dGhpcy5NST1mdW5jdGlvbihlLHQpe2lmKG51bGwhPWUmJnZvaWQgMD09PXQmJih0PUtKVVIuY3J5cHRvLmJ2LnFtW2VdKSwtMSE9XCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKGUpJiZcImNyeXB0b2pzXCI9PXQpe3RyeXt0aGlzLkZJPUtKVVIuY3J5cHRvLmJ2LlRJW2VdLmNyZWF0ZSgpfWNhdGNoKHQpe3Rocm93XCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIrZStcIi9cIit0fXRoaXMuVUk9ZnVuY3Rpb24oZSl7dGhpcy5GSS51cGRhdGUoZSl9LHRoaXMuQkk9ZnVuY3Rpb24oZSl7dmFyIHQ9U2UuVXkuQnkucGFyc2UoZSk7dGhpcy5GSS51cGRhdGUodCl9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRkkuWnkoKS50b1N0cmluZyhTZS5VeS5CeSl9LHRoaXMuQ0k9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVUkoZSksdGhpcy5kaWdlc3QoKX0sdGhpcy5PST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5CSShlKSx0aGlzLmRpZ2VzdCgpfX1pZigtMSE9XCI6c2hhMjU2OlwiLmluZGV4T2YoZSkmJlwic2pjbFwiPT10KXt0cnl7dGhpcy5GST1uZXcgc2pjbC5oYXNoLnNoYTI1Nn1jYXRjaCh0KXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK2UrXCIvXCIrdH10aGlzLlVJPWZ1bmN0aW9uKGUpe3RoaXMuRkkudXBkYXRlKGUpfSx0aGlzLkJJPWZ1bmN0aW9uKGUpe3ZhciB0PXNqY2wueEkuJFQuSEkoZSk7dGhpcy5GSS51cGRhdGUodCl9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5GSS5aeSgpO3JldHVybiBzamNsLnhJLiRULnFJKGUpfSx0aGlzLkNJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVJKGUpLHRoaXMuZGlnZXN0KCl9LHRoaXMuT0k9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQkkoZSksdGhpcy5kaWdlc3QoKX19fSx0aGlzLlVJPWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkdJK1wiL1wiK3RoaXMuVkl9LHRoaXMuQkk9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuR0krXCIvXCIrdGhpcy5WSX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt0aHJvd1wiZGlnZXN0KCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5HSStcIi9cIit0aGlzLlZJfSx0aGlzLkNJPWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkdJK1wiL1wiK3RoaXMuVkl9LHRoaXMuT0k9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuR0krXCIvXCIrdGhpcy5WSX0sdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5BSSYmKHRoaXMuR0k9ZS5BSSx2b2lkIDA9PT1lLk5JJiYodGhpcy5WST1LSlVSLmNyeXB0by5idi5xbVt0aGlzLkdJXSksdGhpcy5NSSh0aGlzLkdJLHRoaXMuVkkpKX0sS0pVUi5jcnlwdG8uakk9ZnVuY3Rpb24oZSl7dGhpcy5NST1mdW5jdGlvbihlLHQpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLG51bGw9PWUmJihlPVwiaG1hY3NoYTFcIiksZT1lLnRvTG93ZXJDYXNlKCksXCJobWFjXCIhPWUuc3Vic3RyKDAsNCkpdGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIHVuc3VwcG9ydGVkIEhNQUMgYWxnOiBcIitlO3ZvaWQgMD09PXQmJih0PUtKVVIuY3J5cHRvLmJ2LnFtW2VdKSx0aGlzLlFJPWUrXCIvXCIrdDt2YXIgcj1lLnN1YnN0cig0KTtpZigtMSE9XCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHIpJiZcImNyeXB0b2pzXCI9PXQpe3RyeXt2YXIgaT1LSlVSLmNyeXB0by5idi5USVtyXTt0aGlzLm1hYz1TZS5pVC5yVC5jcmVhdGUoaSx0aGlzLktJKX1jYXRjaChlKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgaGFzaEFsZz1cIityK1wiL1wiK2V9dGhpcy5VST1mdW5jdGlvbihlKXt0aGlzLm1hYy51cGRhdGUoZSl9LHRoaXMuQkk9ZnVuY3Rpb24oZSl7dmFyIHQ9U2UuVXkuQnkucGFyc2UoZSk7dGhpcy5tYWMudXBkYXRlKHQpfSx0aGlzLllJPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFjLlp5KCkudG9TdHJpbmcoU2UuVXkuQnkpfSx0aGlzLldJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVJKGUpLHRoaXMuWUkoKX0sdGhpcy56ST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5CSShlKSx0aGlzLllJKCl9fX0sdGhpcy5VST1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5RSX0sdGhpcy5CST1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5RSX0sdGhpcy5ZST1mdW5jdGlvbigpe3Rocm93XCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLlFJfSx0aGlzLldJPWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLlFJfSx0aGlzLnpJPWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLlFJfSx0aGlzLkpJPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgdD1lO3JldHVybiBlLmxlbmd0aCUyIT0xJiZlLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pfHwodD1yc3RydG9oZXgoZSkpLHZvaWQodGhpcy5LST1TZS5VeS5CeS5wYXJzZSh0KSl9aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIitlO3ZhciB0PW51bGw7aWYodm9pZCAwIT09ZS4kVCl7aWYoZS4kVC5sZW5ndGglMiE9MHx8IWUuJFQubWF0Y2goL15bMC05QS1GYS1mXSskLykpdGhyb3dcIk1hYzogd3JvbmcgaGV4IHBhc3N3b3JkOiBcIitlLiRUO3Q9ZS4kVH1pZih2b2lkIDAhPT1lLlhJJiYodD11dGY4dG9oZXgoZS5YSSkpLHZvaWQgMCE9PWUuWkkmJih0PXJzdHJ0b2hleChlLlpJKSksdm9pZCAwIT09ZS4kSSYmKHQ9UShlLiRJKSksdm9pZCAwIT09ZS5lUyYmKHQ9YjY0dXRvaGV4KGUuZVMpKSxudWxsPT10KXRocm93XCJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogXCIrZTt0aGlzLktJPVNlLlV5LkJ5LnBhcnNlKHQpfSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS5LSSYmdGhpcy5KSShlLktJKSx2b2lkIDAhPT1lLkFJJiYodGhpcy5HST1lLkFJLHZvaWQgMD09PWUuTkkmJih0aGlzLlZJPUtKVVIuY3J5cHRvLmJ2LnFtW3RoaXMuR0ldKSx0aGlzLk1JKHRoaXMuR0ksdGhpcy5WSSkpKX0sS0pVUi5jcnlwdG8uU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYodGhpcy50Uz1mdW5jdGlvbigpe3RoaXMuR0kubWF0Y2goL14oLispd2l0aCguKykkLykmJih0aGlzLnJTPVJlZ0V4cC4kMS50b0xvd2VyQ2FzZSgpLHRoaXMuaVM9UmVnRXhwLiQyLnRvTG93ZXJDYXNlKCkpfSx0aGlzLm5TPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVwiXCIsaT10LzQtZS5sZW5ndGgsbj0wO248aTtuKyspcis9XCIwXCI7cmV0dXJuIHIrZX0sdGhpcy5NST1mdW5jdGlvbihlLHQpe2lmKHRoaXMudFMoKSxcImNyeXB0b2pzL2pzcnNhXCIhPXQpdGhyb3dcInByb3ZpZGVyIG5vdCBzdXBwb3J0ZWQ6IFwiK3Q7aWYoLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0aGlzLnJTKSl7dHJ5e3RoaXMuRkk9bmV3IEtKVVIuY3J5cHRvLl9JKHtBSTp0aGlzLnJTfSl9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0aGlzLnJTK1wiL1wiK2V9dGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDt0cnl7cj12b2lkIDA9PT10P0tFWVVUSUwuZ2V0S2V5KGUpOktFWVVUSUwuZ2V0S2V5KGUsdCl9Y2F0Y2goZSl7dGhyb3dcImluaXQgZmFpbGVkOlwiK2V9aWYoITA9PT1yLnNTKXRoaXMub1M9cix0aGlzLnN0YXRlPVwiU0lHTlwiO2Vsc2V7aWYoITAhPT1yLm12KXRocm93XCJpbml0IGZhaWxlZC46XCIrcjt0aGlzLmFTPXIsdGhpcy5zdGF0ZT1cIlZFUklGWVwifX0sdGhpcy5oUz1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZS5jUyYmXCJzdHJpbmdcIj09dHlwZW9mIGUudVM/KHRoaXMuY1M9ZS5jUyx0aGlzLnVTPWUudVMpOnRoaXMub1M9ZSx0aGlzLnN0YXRlPVwiU0lHTlwifSx0aGlzLmxTPWZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlLnBTJiZcInN0cmluZ1wiPT10eXBlb2YgZS51Uz8odGhpcy5wUz1lLnBTLHRoaXMudVM9ZS51Uyk6ZSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLmRTP3RoaXMuYVM9ZTplIGluc3RhbmNlb2YgWCYmKHRoaXMuYVM9ZSksdGhpcy5zdGF0ZT1cIlZFUklGWVwifSx0aGlzLmZTPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYNTA5O3QuZ1MoZSksdGhpcy5hUz10LkVTLHRoaXMuc3RhdGU9XCJWRVJJRllcIn0sdGhpcy5VST1mdW5jdGlvbihlKXt0aGlzLkZJLlVJKGUpfSx0aGlzLkJJPWZ1bmN0aW9uKGUpe3RoaXMuRkkuQkkoZSl9LHRoaXMuc2lnbj1mdW5jdGlvbigpe2lmKHRoaXMudlM9dGhpcy5GSS5kaWdlc3QoKSx2b2lkIDAhPT10aGlzLmNTJiZ2b2lkIDAhPT10aGlzLnVTKXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uZFMoe2N1cnZlOnRoaXMudVN9KTt0aGlzLnlTPWUuVFModGhpcy52Uyx0aGlzLmNTKX1lbHNlIGlmKHRoaXMub1MgaW5zdGFuY2VvZiBYJiZcInJzYWFuZG1nZjFcIj09dGhpcy5pUyl0aGlzLnlTPXRoaXMub1MuT3YodGhpcy52Uyx0aGlzLnJTLHRoaXMubVMpO2Vsc2UgaWYodGhpcy5vUyBpbnN0YW5jZW9mIFgmJlwicnNhXCI9PXRoaXMuaVMpdGhpcy55Uz10aGlzLm9TLkN2KHRoaXMudlMsdGhpcy5yUyk7ZWxzZSBpZih0aGlzLm9TIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uZFMpdGhpcy55Uz10aGlzLm9TLkN2KHRoaXMudlMpO2Vsc2V7aWYoISh0aGlzLm9TIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uSVMpKXRocm93XCJTaWduYXR1cmU6IHVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnOiBcIit0aGlzLmlTO3RoaXMueVM9dGhpcy5vUy5Ddih0aGlzLnZTKX1yZXR1cm4gdGhpcy55U30sdGhpcy5TUz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5VSShlKSx0aGlzLnNpZ24oKX0sdGhpcy5UUz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5CSShlKSx0aGlzLnNpZ24oKX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodGhpcy52Uz10aGlzLkZJLmRpZ2VzdCgpLHZvaWQgMCE9PXRoaXMucFMmJnZvaWQgMCE9PXRoaXMudVMpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uZFMoe2N1cnZlOnRoaXMudVN9KS5SUyh0aGlzLnZTLGUsdGhpcy5wUyl9aWYodGhpcy5hUyBpbnN0YW5jZW9mIFgmJlwicnNhYW5kbWdmMVwiPT10aGlzLmlTKXJldHVybiB0aGlzLmFTLmt2KHRoaXMudlMsZSx0aGlzLnJTLHRoaXMubVMpO2lmKHRoaXMuYVMgaW5zdGFuY2VvZiBYJiZcInJzYVwiPT10aGlzLmlTKXJldHVybiB0aGlzLmFTLndTKHRoaXMudlMsZSk7aWYodGhpcy5hUyBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLmRTKXJldHVybiB0aGlzLmFTLndTKHRoaXMudlMsZSk7aWYodGhpcy5hUyBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLklTKXJldHVybiB0aGlzLmFTLndTKHRoaXMudlMsZSk7dGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMuaVN9fX0sdGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dGhyb3dcImluaXQoa2V5LCBwYXNzKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMubFM9ZnVuY3Rpb24oZSl7dGhyb3dcImluaXRWZXJpZnlCeVB1YmxpY0tleShyc2FQdWJLZXl5KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMuZlM9ZnVuY3Rpb24oZSl7dGhyb3dcImluaXRWZXJpZnlCeUNlcnRpZmljYXRlUEVNKGNlcnRQRU0pIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5oUz1mdW5jdGlvbihlKXt0aHJvd1wiaW5pdFNpZ24ocHJ2S2V5KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMuVUk9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5CST1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLnNpZ249ZnVuY3Rpb24oKXt0aHJvd1wic2lnbigpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5TUz1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLlRTPWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKGUpe3Rocm93XCJ2ZXJpZnkoaFNpZ1ZhbCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLkNTPWUsdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuQUkmJih0aGlzLkdJPWUuQUksdm9pZCAwPT09ZS5OST90aGlzLlZJPUtKVVIuY3J5cHRvLmJ2LnFtW3RoaXMuR0ldOnRoaXMuVkk9ZS5OSSx0aGlzLmJTPXRoaXMuR0krXCI6XCIrdGhpcy5WSSx0aGlzLk1JKHRoaXMuR0ksdGhpcy5WSSksdGhpcy50UygpKSx2b2lkIDAhPT1lLl9TJiYodGhpcy5tUz1lLl9TKSx2b2lkIDAhPT1lLlBTKSl7aWYodm9pZCAwIT09ZS5PUyl0aHJvd1wiYm90aCBwcnZrZXlwZW0gYW5kIHBydmtleXBhcyBwYXJhbWV0ZXJzIG5vdCBzdXBwb3J0ZWRcIjt0cnl7dmFyIHQ9bmV3IFg7dC5OUyhlLlBTKSx0aGlzLmhTKHQpfWNhdGNoKGUpe3Rocm93XCJmYXRhbCBlcnJvciB0byBsb2FkIHBlbSBwcml2YXRlIGtleTogXCIrZX19fSxLSlVSLmNyeXB0by53bT1uZXcgZnVuY3Rpb24oKXt0aGlzLkRTPXtrUzpcInJzYUVuY3J5cHRpb25cIixMUzpcImVjUHVibGljS2V5XCIsTVM6XCJkc2FcIixGUzpcInNlY3AyNTZyMVwiLFVTOlwic2VjcDE5MmsxXCIsQlM6XCJzZWNwMjI0cjFcIixIUzpcInNlY3AyNTZrMVwiLHhTOlwic2VjcDUyMXIxXCIscVM6XCJzZWNwMzg0cjFcIixHUzpcIlNIQTF3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDFcIjpcIlNIQTIyNHdpdGhEU0FcIixcIjYwODY0ODAxNjUwMzA0MDMwMlwiOlwiU0hBMjU2d2l0aERTQVwifX07dmFyIE9lPTIwO1gucHJvdG90eXBlLlJ2PSQsWC5wcm90b3R5cGUuTnY9WixYLnByb3RvdHlwZS5lbmNyeXB0PWVlLFgucHJvdG90eXBlLlZTPXRlLFgucHJvdG90eXBlLnR5cGU9XCJSU0FcIjsvKiEgcnNhc2lnbi0xLjIuNy5qcyAoYykgMjAxMiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG52YXIgTmU9bmV3IFJlZ0V4cChcIlwiKTtOZS5jb21waWxlKFwiW14wLTlhLWZdXCIsXCJnaVwiKSxYLnByb3RvdHlwZS5Ddj1uZSxYLnByb3RvdHlwZS5TUz1pZSxYLnByb3RvdHlwZS5qUz1zZSxYLnByb3RvdHlwZS5RUz1vZSxYLnByb3RvdHlwZS5zaWduPWllLFgucHJvdG90eXBlLktTPXNlLFgucHJvdG90eXBlLllTPW9lLFgucHJvdG90eXBlLk92PWNlLFgucHJvdG90eXBlLldTPWhlLFgucHJvdG90eXBlLnpTPWhlLFguSlM9LTEsWC5YUz0tMixYLnByb3RvdHlwZS53Uz1FZSxYLnByb3RvdHlwZS5aUz1nZSxYLnByb3RvdHlwZS4kUz1mZSxYLnByb3RvdHlwZS52ZXJpZnk9Z2UsWC5wcm90b3R5cGUuZVI9ZmUsWC5wcm90b3R5cGUua3Y9eWUsWC5wcm90b3R5cGUudFI9dmUsWC5wcm90b3R5cGUuclI9dmUsWC5pUj0tMix0Lm5SPXIsdC5zUj1YLHQuU2lnbmF0dXJlPUtKVVIuY3J5cHRvLlNpZ25hdHVyZSx0Ll9JPUtKVVIuY3J5cHRvLl9JLHQuY2c9U2UsdC5vUj1RLHQuYVI9S30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLnBwPVwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxpLnlwPSEwLGkuaFI9MWU0LGkubmg9NmU0LGkuY1I9XCJYLUhpdmUtVGVzdElkXCIsdC5MPWl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHM7LyohXG4gKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzXG4gKlxuICogVmVyc2lvbjogMS4xOC4xMFxuICpcbiAqIEF1dGhvcjogUm9kbmV5IFJlaG1cbiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzL1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyXG4gKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqXG4gKi9cbiFmdW5jdGlvbihvLGEpe1widXNlIHN0cmljdFwiO1wib2JqZWN0XCI9PXR5cGVvZiBlJiZlLmk/ZS5pPWEocigxNikscigxNikscigxNikpOihuPVtyKDE2KSxyKDE2KSxyKDE2KV0saT1hLHZvaWQgMCE9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseSh0LG4pOmkpJiYoZS5pPXMpKX0oMCxmdW5jdGlvbihlLHQscixpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD49MSxpPWFyZ3VtZW50cy5sZW5ndGg+PTI7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIHI/aT9uZXcgbihlLHQpOm5ldyBuKGUpOm5ldyBuO2lmKHZvaWQgMD09PWUpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInVuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJXCIpO2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uP2xvY2F0aW9uLmhyZWYrXCJcIjpcIlwifWlmKG51bGw9PT1lJiZyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJudWxsIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUklcIik7cmV0dXJuIHRoaXMuaHJlZihlKSx2b2lkIDAhPT10P3RoaXMuUGgodCk6dGhpc31mdW5jdGlvbiBzKGUpe3JldHVybiBlLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csXCJcXFxcJDFcIil9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlVuZGVmaW5lZFwiOlN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJBcnJheVwiPT09byhlKX1mdW5jdGlvbiBoKGUsdCl7dmFyIHIsaSxuPXt9O2lmKFwiUmVnRXhwXCI9PT1vKHQpKW49bnVsbDtlbHNlIGlmKGEodCkpZm9yKHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspblt0W3JdXT0hMDtlbHNlIG5bdF09ITA7Zm9yKHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspeyhuJiZ2b2lkIDAhPT1uW2Vbcl1dfHwhbiYmdC50ZXN0KGVbcl0pKSYmKGUuc3BsaWNlKHIsMSksaS0tLHItLSl9cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLHQpe3ZhciByLGk7aWYoYSh0KSl7Zm9yKHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspaWYoIWMoZSx0W3JdKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgbj1vKHQpO2ZvcihyPTAsaT1lLmxlbmd0aDtyPGk7cisrKWlmKFwiUmVnRXhwXCI9PT1uKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZVtyXSYmZVtyXS5tYXRjaCh0KSlyZXR1cm4hMH1lbHNlIGlmKGVbcl09PT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHUoZSx0KXtpZighYShlKXx8IWEodCkpcmV0dXJuITE7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtlLnNvcnQoKSx0LnNvcnQoKTtmb3IodmFyIHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbChlKXt2YXIgdD0vXlxcLyt8XFwvKyQvZztyZXR1cm4gZS5yZXBsYWNlKHQsXCJcIil9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZXNjYXBlKGUpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC9bIScoKSpdL2cscCkucmVwbGFjZSgvXFwqL2csXCIlMkFcIil9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnVSW2VdfHxcIlwiOih0aGlzLnVSW2VdPXR8fG51bGwsdGhpcy5YZyghciksdGhpcyl9fWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXtyZXR1cm4gdm9pZCAwPT09cj90aGlzLnVSW2VdfHxcIlwiOihudWxsIT09ciYmKHIrPVwiXCIsci5jaGFyQXQoMCk9PT10JiYocj1yLnN1YnN0cmluZygxKSkpLHRoaXMudVJbZV09cix0aGlzLlhnKCFpKSx0aGlzKX19dmFyIEU9aSYmaS5sUjtuLnZlcnNpb249XCIxLjE4LjEwXCI7dmFyIHY9bi5wcm90b3R5cGUseT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24udVI9ZnVuY3Rpb24oKXtyZXR1cm57cHJvdG9jb2w6bnVsbCx1c2VybmFtZTpudWxsLHBhc3N3b3JkOm51bGwsaG9zdG5hbWU6bnVsbCx1cm46bnVsbCxwb3J0Om51bGwscGF0aDpudWxsLHF1ZXJ5Om51bGwscFI6bnVsbCxkUjpuLmRSLGZSOm4uZlJ9fSxuLmRSPSExLG4uZlI9ITAsbi5nUj0vXlthLXpdW2EtejAtOS4rLV0qJC9pLG4uRVI9L1teYS16MC05XFwuLV0vaSxuLnZSPS8oeG4tLSkvaSxuLnlSPS9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLyxuLlRSPS9eXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxuLm1SPS9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2dpLG4uSVI9e3N0YXJ0Oi9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLGVuZDovW1xcc1xcclxcbl18JC8sdHJpbTovW2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskLyxTUjovKFxcKFteXFwpXSpcXCl8XFxbW15cXF1dKlxcXXxcXHtbXn1dKlxcfXw8W14+XSo+KS9nfSxuLlJSPXt3UjpcIjgwXCIsYlI6XCI0NDNcIixDUjpcIjIxXCIsX1I6XCI3MFwiLFBSOlwiODBcIixBUjpcIjQ0M1wifSxuLk9SPS9bXmEtekEtWjAtOVxcLi1dLyxuLk5SPXthOlwiaHJlZlwiLERSOlwiY2l0ZVwiLGxpbms6XCJocmVmXCIsa1I6XCJocmVmXCIsTFI6XCJzcmNcIixmb3JtOlwiYWN0aW9uXCIsTVI6XCJzcmNcIixGUjpcImhyZWZcIixVUjpcInNyY1wiLEJSOlwic3JjXCIsc291cmNlOlwic3JjXCIsdHJhY2s6XCJzcmNcIixpbnB1dDpcInNyY1wiLEhSOlwic3JjXCIsdmlkZW86XCJzcmNcIn0sbi54Uj1mdW5jdGlvbihlKXtpZihlJiZlLm5vZGVOYW1lKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJpbnB1dFwiIT09dHx8XCJpbWFnZVwiPT09ZS50eXBlKXJldHVybiBuLk5SW3RdfX0sbi5lbmNvZGU9ZCxuLmRlY29kZT1kZWNvZGVVUklDb21wb25lbnQsbi5xUj1mdW5jdGlvbigpe24uZW5jb2RlPWVzY2FwZSxuLmRlY29kZT11bmVzY2FwZX0sbi5HUj1mdW5jdGlvbigpe24uZW5jb2RlPWQsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50fSxuLlZSPXtwYXRobmFtZTp7ZW5jb2RlOntqUjovJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvZ2ksbWFwOntcIiUyNFwiOlwiJFwiLFwiJTI2XCI6XCImXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIixcIiUzQVwiOlwiOlwiLFwiJTQwXCI6XCJAXCJ9fSxkZWNvZGU6e2pSOi9bXFwvXFw/I10vZyxtYXA6e3B5OlwiJTJGXCIsUVI6XCIlM0ZcIixLUjpcIiUyM1wifX19LFlSOntlbmNvZGU6e2pSOi8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9naSxtYXA6e1wiJTNBXCI6XCI6XCIsV1I6XCIvXCIselI6XCI/XCIsSlI6XCIjXCIsWFI6XCJbXCIsWlI6XCJdXCIsXCIlNDBcIjpcIkBcIiwkUjpcIiFcIixcIiUyNFwiOlwiJFwiLFwiJTI2XCI6XCImXCIsZXc6XCInXCIsdHc6XCIoXCIscnc6XCIpXCIsaXc6XCIqXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIn19fSxudzp7ZW5jb2RlOntqUjovJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvZ2ksbWFwOnskUjpcIiFcIixcIiUyNFwiOlwiJFwiLGV3OlwiJ1wiLHR3OlwiKFwiLHJ3OlwiKVwiLGl3OlwiKlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCIsXCIlNDBcIjpcIkBcIn19LGRlY29kZTp7alI6L1tcXC9cXD8jOl0vZyxtYXA6e3B5OlwiJTJGXCIsUVI6XCIlM0ZcIixLUjpcIiUyM1wiLHN3OlwiJTNBXCJ9fX19LG4ub3c9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uLmVuY29kZShlK1wiXCIpO3JldHVybiB2b2lkIDA9PT10JiYodD1uLmZSKSx0P3IucmVwbGFjZSgvJTIwL2csXCIrXCIpOnJ9LG4uYXc9ZnVuY3Rpb24oZSx0KXtlKz1cIlwiLHZvaWQgMD09PXQmJih0PW4uZlIpO3RyeXtyZXR1cm4gbi5kZWNvZGUodD9lLnJlcGxhY2UoL1xcKy9nLFwiJTIwXCIpOmUpfWNhdGNoKHQpe3JldHVybiBlfX07dmFyIFQsbT17ZW5jb2RlOlwiZW5jb2RlXCIsZGVjb2RlOlwiZGVjb2RlXCJ9LEk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocil7dHJ5e3JldHVybiBuW3RdKHIrXCJcIikucmVwbGFjZShuLlZSW2VdW3RdLmpSLGZ1bmN0aW9uKHIpe3JldHVybiBuLlZSW2VdW3RdLm1hcFtyXX0pfWNhdGNoKGUpe3JldHVybiByfX19O2ZvcihUIGluIG0pbltUK1wiUGF0aFNlZ21lbnRcIl09SShcInBhdGhuYW1lXCIsbVtUXSksbltUK1wiVXJuUGF0aFNlZ21lbnRcIl09SShcInVybnBhdGhcIixtW1RdKTt2YXIgUz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBzO3M9cj9mdW5jdGlvbihlKXtyZXR1cm4gblt0XShuW3JdKGUpKX06blt0XTtmb3IodmFyIG89KGkrXCJcIikuc3BsaXQoZSksYT0wLGg9by5sZW5ndGg7YTxoO2ErKylvW2FdPXMob1thXSk7cmV0dXJuIG8uam9pbihlKX19O24uaHc9UyhcIi9cIixcImRlY29kZVBhdGhTZWdtZW50XCIpLG4uY3c9UyhcIjpcIixcImRlY29kZVVyblBhdGhTZWdtZW50XCIpLG4udXc9UyhcIi9cIixcImVuY29kZVBhdGhTZWdtZW50XCIsXCJkZWNvZGVcIiksbi5sdz1TKFwiOlwiLFwiZW5jb2RlVXJuUGF0aFNlZ21lbnRcIixcImRlY29kZVwiKSxuLnB3PUkoXCJyZXNlcnZlZFwiLFwiZW5jb2RlXCIpLG4ucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdHx8KHQ9e30pLHI9ZS5pbmRleE9mKFwiI1wiKSxyPi0xJiYodC5wUj1lLnN1YnN0cmluZyhyKzEpfHxudWxsLGU9ZS5zdWJzdHJpbmcoMCxyKSkscj1lLmluZGV4T2YoXCI/XCIpLHI+LTEmJih0LnF1ZXJ5PWUuc3Vic3RyaW5nKHIrMSl8fG51bGwsZT1lLnN1YnN0cmluZygwLHIpKSxcIi8vXCI9PT1lLnN1YnN0cmluZygwLDIpPyh0LnByb3RvY29sPW51bGwsZT1lLnN1YnN0cmluZygyKSxlPW4uZHcoZSx0KSk6KHI9ZS5pbmRleE9mKFwiOlwiKSk+LTEmJih0LnByb3RvY29sPWUuc3Vic3RyaW5nKDAscil8fG51bGwsdC5wcm90b2NvbCYmIXQucHJvdG9jb2wubWF0Y2gobi5nUik/dC5wcm90b2NvbD12b2lkIDA6XCIvL1wiPT09ZS5zdWJzdHJpbmcocisxLHIrMyk/KGU9ZS5zdWJzdHJpbmcociszKSxlPW4uZHcoZSx0KSk6KGU9ZS5zdWJzdHJpbmcocisxKSx0LnVybj0hMCkpLHQucGF0aD1lLHR9LG4uZnc9ZnVuY3Rpb24oZSx0KXtlPWUucmVwbGFjZSgvXFxcXC9nLFwiL1wiKTt2YXIgcixpLG49ZS5pbmRleE9mKFwiL1wiKTtpZigtMT09PW4mJihuPWUubGVuZ3RoKSxcIltcIj09PWUuY2hhckF0KDApKXI9ZS5pbmRleE9mKFwiXVwiKSx0Lmhvc3RuYW1lPWUuc3Vic3RyaW5nKDEscil8fG51bGwsdC5wb3J0PWUuc3Vic3RyaW5nKHIrMixuKXx8bnVsbCxcIi9cIj09PXQucG9ydCYmKHQucG9ydD1udWxsKTtlbHNle3ZhciBzPWUuaW5kZXhPZihcIjpcIiksbz1lLmluZGV4T2YoXCIvXCIpLGE9ZS5pbmRleE9mKFwiOlwiLHMrMSk7LTEhPT1hJiYoLTE9PT1vfHxhPG8pPyh0Lmhvc3RuYW1lPWUuc3Vic3RyaW5nKDAsbil8fG51bGwsdC5wb3J0PW51bGwpOihpPWUuc3Vic3RyaW5nKDAsbikuc3BsaXQoXCI6XCIpLHQuaG9zdG5hbWU9aVswXXx8bnVsbCx0LnBvcnQ9aVsxXXx8bnVsbCl9cmV0dXJuIHQuaG9zdG5hbWUmJlwiL1wiIT09ZS5zdWJzdHJpbmcobikuY2hhckF0KDApJiYobisrLGU9XCIvXCIrZSksZS5zdWJzdHJpbmcobil8fFwiL1wifSxuLmR3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bi5ndyhlLHQpLG4uZncoZSx0KX0sbi5ndz1mdW5jdGlvbihlLHQpe3ZhciByLGk9ZS5pbmRleE9mKFwiL1wiKSxzPWUubGFzdEluZGV4T2YoXCJAXCIsaT4tMT9pOmUubGVuZ3RoLTEpO3JldHVybiBzPi0xJiYoLTE9PT1pfHxzPGkpPyhyPWUuc3Vic3RyaW5nKDAscykuc3BsaXQoXCI6XCIpLHQudXNlcm5hbWU9clswXT9uLmRlY29kZShyWzBdKTpudWxsLHIuc2hpZnQoKSx0LnBhc3N3b3JkPXJbMF0/bi5kZWNvZGUoci5qb2luKFwiOlwiKSk6bnVsbCxlPWUuc3Vic3RyaW5nKHMrMSkpOih0LnVzZXJuYW1lPW51bGwsdC5wYXNzd29yZD1udWxsKSxlfSxuLkV3PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJue307aWYoIShlPWUucmVwbGFjZSgvJisvZyxcIiZcIikucmVwbGFjZSgvXlxcPyomKnwmKyQvZyxcIlwiKSkpcmV0dXJue307Zm9yKHZhciByLGkscyxvPXt9LGE9ZS5zcGxpdChcIiZcIiksaD1hLmxlbmd0aCxjPTA7YzxoO2MrKylyPWFbY10uc3BsaXQoXCI9XCIpLGk9bi5hdyhyLnNoaWZ0KCksdCkscz1yLmxlbmd0aD9uLmF3KHIuam9pbihcIj1cIiksdCk6bnVsbCx5LmNhbGwobyxpKT8oXCJzdHJpbmdcIiE9dHlwZW9mIG9baV0mJm51bGwhPT1vW2ldfHwob1tpXT1bb1tpXV0pLG9baV0ucHVzaChzKSk6b1tpXT1zO3JldHVybiBvfSxuLlhnPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUucHJvdG9jb2wmJih0Kz1lLnByb3RvY29sK1wiOlwiKSxlLnVybnx8IXQmJiFlLmhvc3RuYW1lfHwodCs9XCIvL1wiKSx0Kz1uLnZ3KGUpfHxcIlwiLFwic3RyaW5nXCI9PXR5cGVvZiBlLnBhdGgmJihcIi9cIiE9PWUucGF0aC5jaGFyQXQoMCkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmhvc3RuYW1lJiYodCs9XCIvXCIpLHQrPWUucGF0aCksXCJzdHJpbmdcIj09dHlwZW9mIGUucXVlcnkmJmUucXVlcnkmJih0Kz1cIj9cIitlLnF1ZXJ5KSxcInN0cmluZ1wiPT10eXBlb2YgZS5wUiYmZS5wUiYmKHQrPVwiI1wiK2UucFIpLHR9LG4ueXc9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZS5ob3N0bmFtZT8obi5UUi50ZXN0KGUuaG9zdG5hbWUpP3QrPVwiW1wiK2UuaG9zdG5hbWUrXCJdXCI6dCs9ZS5ob3N0bmFtZSxlLnBvcnQmJih0Kz1cIjpcIitlLnBvcnQpLHQpOlwiXCJ9LG4udnc9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uVHcoZSkrbi55dyhlKX0sbi5Udz1mdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybiBlLnVzZXJuYW1lJiYodCs9bi5lbmNvZGUoZS51c2VybmFtZSkpLGUucGFzc3dvcmQmJih0Kz1cIjpcIituLmVuY29kZShlLnBhc3N3b3JkKSksdCYmKHQrPVwiQFwiKSx0fSxuLm13PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxzLG8saCxjPVwiXCI7Zm9yKHMgaW4gZSlpZih5LmNhbGwoZSxzKSYmcylpZihhKGVbc10pKWZvcihpPXt9LG89MCxoPWVbc10ubGVuZ3RoO288aDtvKyspdm9pZCAwIT09ZVtzXVtvXSYmdm9pZCAwPT09aVtlW3NdW29dK1wiXCJdJiYoYys9XCImXCIrbi5JdyhzLGVbc11bb10sciksITAhPT10JiYoaVtlW3NdW29dK1wiXCJdPSEwKSk7ZWxzZSB2b2lkIDAhPT1lW3NdJiYoYys9XCImXCIrbi5JdyhzLGVbc10scikpO3JldHVybiBjLnN1YnN0cmluZygxKX0sbi5Jdz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4ub3coZSxyKSsobnVsbCE9PXQ/XCI9XCIrbi5vdyh0LHIpOlwiXCIpfSxuLlN3PWZ1bmN0aW9uKGUsdCxyKXtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCl5LmNhbGwodCxpKSYmbi5TdyhlLGksdFtpXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7aWYodm9pZCAwPT09ZVt0XSlyZXR1cm4gdm9pZChlW3RdPXIpO1wic3RyaW5nXCI9PXR5cGVvZiBlW3RdJiYoZVt0XT1bZVt0XV0pLGEocil8fChyPVtyXSksZVt0XT0oZVt0XXx8W10pLmNvbmNhdChyKX19LG4uUnc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHMsYztpZihhKHQpKWZvcihpPTAscz10Lmxlbmd0aDtpPHM7aSsrKWVbdFtpXV09dm9pZCAwO2Vsc2UgaWYoXCJSZWdFeHBcIj09PW8odCkpZm9yKGMgaW4gZSl0LnRlc3QoYykmJihlW2NdPXZvaWQgMCk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IoYyBpbiB0KXkuY2FsbCh0LGMpJiZuLlJ3KGUsYyx0W2NdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclwiKTt2b2lkIDAhPT1yP1wiUmVnRXhwXCI9PT1vKHIpPyFhKGVbdF0pJiZyLnRlc3QoZVt0XSk/ZVt0XT12b2lkIDA6ZVt0XT1oKGVbdF0scik6ZVt0XSE9PVN0cmluZyhyKXx8YShyKSYmMSE9PXIubGVuZ3RoP2EoZVt0XSkmJihlW3RdPWgoZVt0XSxyKSk6ZVt0XT12b2lkIDA6ZVt0XT12b2lkIDB9fSxuLnd3PWZ1bmN0aW9uKGUsdCxyLGkpe3N3aXRjaChvKHQpKXtjYXNlXCJTdHJpbmdcIjpicmVhaztjYXNlXCJSZWdFeHBcIjpmb3IodmFyIHMgaW4gZSlpZih5LmNhbGwoZSxzKSYmdC50ZXN0KHMpJiYodm9pZCAwPT09cnx8bi53dyhlLHMscikpKXJldHVybiEwO3JldHVybiExO2Nhc2VcIk9iamVjdFwiOmZvcih2YXIgaCBpbiB0KWlmKHkuY2FsbCh0LGgpJiYhbi53dyhlLGgsdFtoXSkpcmV0dXJuITE7cmV0dXJuITA7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhIHN0cmluZywgcmVndWxhciBleHByZXNzaW9uIG9yIG9iamVjdCBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIil9c3dpdGNoKG8ocikpe2Nhc2VcIlVuZGVmaW5lZFwiOnJldHVybiB0IGluIGU7Y2FzZVwiQm9vbGVhblwiOnJldHVybiByPT09Qm9vbGVhbihhKGVbdF0pP2VbdF0ubGVuZ3RoOmVbdF0pO2Nhc2VcIkZ1bmN0aW9uXCI6cmV0dXJuISFyKGVbdF0sdCxlKTtjYXNlXCJBcnJheVwiOmlmKCFhKGVbdF0pKXJldHVybiExO3JldHVybihpP2M6dSkoZVt0XSxyKTtjYXNlXCJSZWdFeHBcIjpyZXR1cm4gYShlW3RdKT8hIWkmJmMoZVt0XSxyKTpCb29sZWFuKGVbdF0mJmVbdF0ubWF0Y2gocikpO2Nhc2VcIk51bWJlclwiOnI9U3RyaW5nKHIpO2Nhc2VcIlN0cmluZ1wiOnJldHVybiBhKGVbdF0pPyEhaSYmYyhlW3RdLHIpOmVbdF09PT1yO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyXCIpfX0sbi5idz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PVtdLHI9MCxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHM9bmV3IG4oYXJndW1lbnRzW2ldKTtlLnB1c2gocyk7Zm9yKHZhciBvPXMuQ3coKSxhPTA7YTxvLmxlbmd0aDthKyspXCJzdHJpbmdcIj09dHlwZW9mIG9bYV0mJnQucHVzaChvW2FdKSxvW2FdJiZyKyt9aWYoIXQubGVuZ3RofHwhcilyZXR1cm4gbmV3IG4oXCJcIik7dmFyIGg9bmV3IG4oXCJcIikuQ3codCk7cmV0dXJuXCJcIiE9PWVbMF0ucGF0aCgpJiZcIi9cIiE9PWVbMF0ucGF0aCgpLnNsaWNlKDAsMSl8fGgucGF0aChcIi9cIitoLnBhdGgoKSksaC5ub3JtYWxpemUoKX0sbi5fdz1mdW5jdGlvbihlLHQpe3ZhciByLGk9TWF0aC5taW4oZS5sZW5ndGgsdC5sZW5ndGgpO2ZvcihyPTA7cjxpO3IrKylpZihlLmNoYXJBdChyKSE9PXQuY2hhckF0KHIpKXtyLS07YnJlYWt9cmV0dXJuIHI8MT9lLmNoYXJBdCgwKT09PXQuY2hhckF0KDApJiZcIi9cIj09PWUuY2hhckF0KDApP1wiL1wiOlwiXCI6KFwiL1wiPT09ZS5jaGFyQXQocikmJlwiL1wiPT09dC5jaGFyQXQocil8fChyPWUuc3Vic3RyaW5nKDAscikubGFzdEluZGV4T2YoXCIvXCIpKSxlLnN1YnN0cmluZygwLHIrMSkpfSxuLlB3PWZ1bmN0aW9uKGUsdCxyKXtyfHwocj17fSk7dmFyIGk9ci5zdGFydHx8bi5JUi5zdGFydCxzPXIuZW5kfHxuLklSLmVuZCxvPXIudHJpbXx8bi5JUi50cmltLGE9ci5TUnx8bi5JUi5TUixoPS9bYS16MC05LV09W1wiJ10/JC9pO2ZvcihpLmxhc3RJbmRleD0wOzspe3ZhciBjPWkuZXhlYyhlKTtpZighYylicmVhazt2YXIgdT1jLmluZGV4O2lmKHIuQXcpe3ZhciBsPWUuc2xpY2UoTWF0aC5tYXgodS0zLDApLHUpO2lmKGwmJmgudGVzdChsKSljb250aW51ZX1mb3IodmFyIHA9dStlLnNsaWNlKHUpLnNlYXJjaChzKSxkPWUuc2xpY2UodSxwKSxmPS0xOzspe3ZhciBnPWEuZXhlYyhkKTtpZighZylicmVhazt2YXIgRT1nLmluZGV4K2dbMF0ubGVuZ3RoO2Y9TWF0aC5tYXgoZixFKX1pZihkPWY+LTE/ZC5zbGljZSgwLGYpK2Quc2xpY2UoZikucmVwbGFjZShvLFwiXCIpOmQucmVwbGFjZShvLFwiXCIpLCEoZC5sZW5ndGg8PWNbMF0ubGVuZ3RofHxyLk93JiZyLk93LnRlc3QoZCkpKXtwPXUrZC5sZW5ndGg7dmFyIHY9dChkLHUscCxlKTt2b2lkIDAhPT12Pyh2PVN0cmluZyh2KSxlPWUuc2xpY2UoMCx1KSt2K2Uuc2xpY2UocCksaS5sYXN0SW5kZXg9dSt2Lmxlbmd0aCk6aS5sYXN0SW5kZXg9cH19cmV0dXJuIGkubGFzdEluZGV4PTAsZX0sbi5Odz1mdW5jdGlvbih0KXtpZih0Lm1hdGNoKG4uT1IpKXtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTtpZihlLkR3KHQpLm1hdGNoKG4uT1IpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyt0KydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpfX0sbi53bz1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD17bFI6dGhpcy53bygpfTtyZXR1cm4gaS5rdyYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5rdy53byYmKHQua3c9aS5rdy53bygpKSxpLkx3JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLkx3LndvJiYodC5Mdz1pLkx3LndvKCkpLGkuTXcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkuTXcud28mJih0Lk13PWkuTXcud28oKSksdH1yZXR1cm4gaS5sUj09PXRoaXMmJihpLmxSPUUpLHRoaXN9LHYuWGc9ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lP3RoaXMuRnc9ITA6KHZvaWQgMD09PWV8fHRoaXMuRncpJiYodGhpcy5Vdz1uLlhnKHRoaXMudVIpLHRoaXMuRnc9ITEpLHRoaXN9LHYuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9LHYudmFsdWVPZj12LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGcoITEpLlV3fSx2LnByb3RvY29sPWYoXCJwcm90b2NvbFwiKSx2LnVzZXJuYW1lPWYoXCJ1c2VybmFtZVwiKSx2LnBhc3N3b3JkPWYoXCJwYXNzd29yZFwiKSx2Lmhvc3RuYW1lPWYoXCJob3N0bmFtZVwiKSx2LnBvcnQ9ZihcInBvcnRcIiksdi5xdWVyeT1nKFwicXVlcnlcIixcIj9cIiksdi5wUj1nKFwiZnJhZ21lbnRcIixcIiNcIiksdi5zZWFyY2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnF1ZXJ5KGUsdCk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHImJnIubGVuZ3RoP1wiP1wiK3I6cn0sdi5oYXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5wUihlLHQpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByJiZyLmxlbmd0aD9cIiNcIityOnJ9LHYucGF0aG5hbWU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lfHwhMD09PWUpe3ZhciByPXRoaXMudVIucGF0aHx8KHRoaXMudVIuaG9zdG5hbWU/XCIvXCI6XCJcIik7cmV0dXJuIGU/KHRoaXMudVIudXJuP24uY3c6bi5odykocik6cn1yZXR1cm4gdGhpcy51Ui51cm4/dGhpcy51Ui5wYXRoPWU/bi5sdyhlKTpcIlwiOnRoaXMudVIucGF0aD1lP24udXcoZSk6XCIvXCIsdGhpcy5YZyghdCksdGhpc30sdi5wYXRoPXYucGF0aG5hbWUsdi5ocmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy50b1N0cmluZygpO3RoaXMuVXc9XCJcIix0aGlzLnVSPW4udVIoKTt2YXIgaT1lIGluc3RhbmNlb2YgbixzPVwib2JqZWN0XCI9PXR5cGVvZiBlJiYoZS5ob3N0bmFtZXx8ZS5wYXRofHxlLnBhdGhuYW1lKTtpZihlLm5vZGVOYW1lKXtlPWVbbi54UihlKV18fFwiXCIscz0hMX1pZighaSYmcyYmdm9pZCAwIT09ZS5wYXRobmFtZSYmKGU9ZS50b1N0cmluZygpKSxcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZyl0aGlzLnVSPW4ucGFyc2UoU3RyaW5nKGUpLHRoaXMudVIpO2Vsc2V7aWYoIWkmJiFzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIGlucHV0XCIpO3ZhciBvPWk/ZS51UjplO2ZvcihyIGluIG8peS5jYWxsKHRoaXMudVIscikmJih0aGlzLnVSW3JdPW9bcl0pfXJldHVybiB0aGlzLlhnKCF0KSx0aGlzfSx2LmlzPWZ1bmN0aW9uKGUpe3ZhciB0PSExLGk9ITEscz0hMSxvPSExLGE9ITEsaD0hMSxjPSExLHU9IXRoaXMudVIudXJuO3N3aXRjaCh0aGlzLnVSLmhvc3RuYW1lJiYodT0hMSxpPW4ueVIudGVzdCh0aGlzLnVSLmhvc3RuYW1lKSxzPW4uVFIudGVzdCh0aGlzLnVSLmhvc3RuYW1lKSx0PWl8fHMsbz0hdCxhPW8mJnImJnIuaGFzKHRoaXMudVIuaG9zdG5hbWUpLGg9byYmbi5FUi50ZXN0KHRoaXMudVIuaG9zdG5hbWUpLGM9byYmbi52Ui50ZXN0KHRoaXMudVIuaG9zdG5hbWUpKSxlLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInJlbGF0aXZlXCI6cmV0dXJuIHU7Y2FzZVwiYWJzb2x1dGVcIjpyZXR1cm4hdTtjYXNlXCJkb21haW5cIjpjYXNlXCJuYW1lXCI6cmV0dXJuIG87Y2FzZVwic2xkXCI6cmV0dXJuIGE7Y2FzZVwiaXBcIjpyZXR1cm4gdDtjYXNlXCJpcDRcIjpjYXNlXCJpcHY0XCI6Y2FzZVwiaW5ldDRcIjpyZXR1cm4gaTtjYXNlXCJpcDZcIjpjYXNlXCJpcHY2XCI6Y2FzZVwiaW5ldDZcIjpyZXR1cm4gcztjYXNlXCJpZG5cIjpyZXR1cm4gaDtjYXNlXCJ1cmxcIjpyZXR1cm4hdGhpcy51Ui51cm47Y2FzZVwidXJuXCI6cmV0dXJuISF0aGlzLnVSLnVybjtjYXNlXCJwdW55Y29kZVwiOnJldHVybiBjfXJldHVybiBudWxsfTt2YXIgUj12LnByb3RvY29sLHc9di5wb3J0LGI9di5ob3N0bmFtZTt2LnByb3RvY29sPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09ZSYmZSYmKGU9ZS5yZXBsYWNlKC86KFxcL1xcLyk/JC8sXCJcIiksIWUubWF0Y2gobi5nUikpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sIFwiJytlK1wiXFxcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc24ndCBzdGFydCB3aXRoIFtBLVpdXCIpO3JldHVybiBSLmNhbGwodGhpcyxlLHQpfSx2LnNjaGVtZT12LnByb3RvY29sLHYucG9ydD1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDAhPT1lJiYoMD09PWUmJihlPW51bGwpLGUmJihlKz1cIlwiLFwiOlwiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKSxlLm1hdGNoKC9bXjAtOV0vKSkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1BvcnQgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpO3JldHVybiB3LmNhbGwodGhpcyxlLHQpfSx2Lmhvc3RuYW1lPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMCE9PWUpe3ZhciByPXt9O2lmKFwiL1wiIT09bi5mdyhlLHIpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO2U9ci5ob3N0bmFtZX1yZXR1cm4gYi5jYWxsKHRoaXMsZSx0KX0sdi5vcmlnaW49ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZSl7dmFyIHI9dGhpcy5wcm90b2NvbCgpO3JldHVybiB0aGlzLkJ3KCk/KHI/citcIjovL1wiOlwiXCIpK3RoaXMuQncoKTpcIlwifXZhciBpPW4oZSk7cmV0dXJuIHRoaXMucHJvdG9jb2woaS5wcm90b2NvbCgpKS5CdyhpLkJ3KCkpLlhnKCF0KSx0aGlzfSx2Lmhvc3Q9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy51Ui5ob3N0bmFtZT9uLnl3KHRoaXMudVIpOlwiXCI7aWYoXCIvXCIhPT1uLmZ3KGUsdGhpcy51UikpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7cmV0dXJuIHRoaXMuWGcoIXQpLHRoaXN9LHYuQnc9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy51Ui5ob3N0bmFtZT9uLnZ3KHRoaXMudVIpOlwiXCI7aWYoXCIvXCIhPT1uLmR3KGUsdGhpcy51UikpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7cmV0dXJuIHRoaXMuWGcoIXQpLHRoaXN9LHYuSHc9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZSl7dmFyIHI9bi5Udyh0aGlzLnVSKTtyZXR1cm4gcj9yLnN1YnN0cmluZygwLHIubGVuZ3RoLTEpOnJ9cmV0dXJuXCJAXCIhPT1lW2UubGVuZ3RoLTFdJiYoZSs9XCJAXCIpLG4uZ3coZSx0aGlzLnVSKSx0aGlzLlhnKCF0KSx0aGlzfSx2Lnh3PWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5wYXRoKCkrdGhpcy5zZWFyY2goKSt0aGlzLmhhc2goKToocj1uLnBhcnNlKGUpLHRoaXMudVIucGF0aD1yLnBhdGgsdGhpcy51Ui5xdWVyeT1yLnF1ZXJ5LHRoaXMudVIucFI9ci5wUix0aGlzLlhnKCF0KSx0aGlzKX0sdi5xdz1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lKXtpZighdGhpcy51Ui5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIHI9dGhpcy51Ui5ob3N0bmFtZS5sZW5ndGgtdGhpcy5kb21haW4oKS5sZW5ndGgtMTtyZXR1cm4gdGhpcy51Ui5ob3N0bmFtZS5zdWJzdHJpbmcoMCxyKXx8XCJcIn12YXIgaT10aGlzLnVSLmhvc3RuYW1lLmxlbmd0aC10aGlzLmRvbWFpbigpLmxlbmd0aCxvPXRoaXMudVIuaG9zdG5hbWUuc3Vic3RyaW5nKDAsaSksYT1uZXcgUmVnRXhwKFwiXlwiK3MobykpO3JldHVybiBlJiZcIi5cIiE9PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYoZSs9XCIuXCIpLGUmJm4uTncoZSksdGhpcy51Ui5ob3N0bmFtZT10aGlzLnVSLmhvc3RuYW1lLnJlcGxhY2UoYSxlKSx0aGlzLlhnKCF0KSx0aGlzfSx2LmRvbWFpbj1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZihcImJvb2xlYW5cIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHZvaWQgMD09PWUpe2lmKCF0aGlzLnVSLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgcj10aGlzLnVSLmhvc3RuYW1lLm1hdGNoKC9cXC4vZyk7aWYociYmci5sZW5ndGg8MilyZXR1cm4gdGhpcy51Ui5ob3N0bmFtZTt2YXIgaT10aGlzLnVSLmhvc3RuYW1lLmxlbmd0aC10aGlzLkd3KHQpLmxlbmd0aC0xO3JldHVybiBpPXRoaXMudVIuaG9zdG5hbWUubGFzdEluZGV4T2YoXCIuXCIsaS0xKSsxLHRoaXMudVIuaG9zdG5hbWUuc3Vic3RyaW5nKGkpfHxcIlwifWlmKCFlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eVwiKTtpZihuLk53KGUpLCF0aGlzLnVSLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhpcy51Ui5ob3N0bmFtZT1lO2Vsc2V7dmFyIG89bmV3IFJlZ0V4cChzKHRoaXMuZG9tYWluKCkpK1wiJFwiKTt0aGlzLnVSLmhvc3RuYW1lPXRoaXMudVIuaG9zdG5hbWUucmVwbGFjZShvLGUpfXJldHVybiB0aGlzLlhnKCF0KSx0aGlzfSx2Lkd3PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksdm9pZCAwPT09ZSl7aWYoIXRoaXMudVIuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciBpPXRoaXMudVIuaG9zdG5hbWUubGFzdEluZGV4T2YoXCIuXCIpLG49dGhpcy51Ui5ob3N0bmFtZS5zdWJzdHJpbmcoaSsxKTtyZXR1cm4hMCE9PXQmJnImJnIubGlzdFtuLnRvTG93ZXJDYXNlKCldP3IuZ2V0KHRoaXMudVIuaG9zdG5hbWUpfHxuOm59dmFyIG87aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgVExEIGVtcHR5XCIpO2lmKGUubWF0Y2goL1teYS16QS1aMC05LV0vKSl7aWYoIXJ8fCFyLmlzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7bz1uZXcgUmVnRXhwKHModGhpcy5HdygpKStcIiRcIiksdGhpcy51Ui5ob3N0bmFtZT10aGlzLnVSLmhvc3RuYW1lLnJlcGxhY2UobyxlKX1lbHNle2lmKCF0aGlzLnVSLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0XCIpO289bmV3IFJlZ0V4cChzKHRoaXMuR3coKSkrXCIkXCIpLHRoaXMudVIuaG9zdG5hbWU9dGhpcy51Ui5ob3N0bmFtZS5yZXBsYWNlKG8sZSl9cmV0dXJuIHRoaXMuWGcoIXQpLHRoaXN9LHYuVnc9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZXx8ITA9PT1lKXtpZighdGhpcy51Ui5wYXRoJiYhdGhpcy51Ui5ob3N0bmFtZSlyZXR1cm5cIlwiO2lmKFwiL1wiPT09dGhpcy51Ui5wYXRoKXJldHVyblwiL1wiO3ZhciByPXRoaXMudVIucGF0aC5sZW5ndGgtdGhpcy5maWxlbmFtZSgpLmxlbmd0aC0xLGk9dGhpcy51Ui5wYXRoLnN1YnN0cmluZygwLHIpfHwodGhpcy51Ui5ob3N0bmFtZT9cIi9cIjpcIlwiKTtyZXR1cm4gZT9uLmh3KGkpOml9dmFyIG89dGhpcy51Ui5wYXRoLmxlbmd0aC10aGlzLmZpbGVuYW1lKCkubGVuZ3RoLGE9dGhpcy51Ui5wYXRoLnN1YnN0cmluZygwLG8pLGg9bmV3IFJlZ0V4cChcIl5cIitzKGEpKTtyZXR1cm4gdGhpcy5pcyhcInJlbGF0aXZlXCIpfHwoZXx8KGU9XCIvXCIpLFwiL1wiIT09ZS5jaGFyQXQoMCkmJihlPVwiL1wiK2UpKSxlJiZcIi9cIiE9PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYoZSs9XCIvXCIpLGU9bi51dyhlKSx0aGlzLnVSLnBhdGg9dGhpcy51Ui5wYXRoLnJlcGxhY2UoaCxlKSx0aGlzLlhnKCF0KSx0aGlzfSx2LmZpbGVuYW1lPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXtpZighdGhpcy51Ui5wYXRofHxcIi9cIj09PXRoaXMudVIucGF0aClyZXR1cm5cIlwiO3ZhciByPXRoaXMudVIucGF0aC5sYXN0SW5kZXhPZihcIi9cIiksaT10aGlzLnVSLnBhdGguc3Vic3RyaW5nKHIrMSk7cmV0dXJuIGU/bi5qdyhpKTppfXZhciBvPSExO1wiL1wiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKSxlLm1hdGNoKC9cXC4/XFwvLykmJihvPSEwKTt2YXIgYT1uZXcgUmVnRXhwKHModGhpcy5maWxlbmFtZSgpKStcIiRcIik7cmV0dXJuIGU9bi51dyhlKSx0aGlzLnVSLnBhdGg9dGhpcy51Ui5wYXRoLnJlcGxhY2UoYSxlKSxvP3RoaXMuUXcodCk6dGhpcy5YZyghdCksdGhpc30sdi5zdWZmaXg9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZXx8ITA9PT1lKXtpZighdGhpcy51Ui5wYXRofHxcIi9cIj09PXRoaXMudVIucGF0aClyZXR1cm5cIlwiO3ZhciByLGksbz10aGlzLmZpbGVuYW1lKCksYT1vLmxhc3RJbmRleE9mKFwiLlwiKTtyZXR1cm4tMT09PWE/XCJcIjoocj1vLnN1YnN0cmluZyhhKzEpLGk9L15bYS16MC05JV0rJC9pLnRlc3Qocik/cjpcIlwiLGU/bi5qdyhpKTppKX1cIi5cIj09PWUuY2hhckF0KDApJiYoZT1lLnN1YnN0cmluZygxKSk7dmFyIGgsYz10aGlzLnN1ZmZpeCgpO2lmKGMpaD1lP25ldyBSZWdFeHAocyhjKStcIiRcIik6bmV3IFJlZ0V4cChzKFwiLlwiK2MpK1wiJFwiKTtlbHNle2lmKCFlKXJldHVybiB0aGlzO3RoaXMudVIucGF0aCs9XCIuXCIrbi51dyhlKX1yZXR1cm4gaCYmKGU9bi51dyhlKSx0aGlzLnVSLnBhdGg9dGhpcy51Ui5wYXRoLnJlcGxhY2UoaCxlKSksdGhpcy5YZyghdCksdGhpc30sdi5Ddz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy51Ui51cm4/XCI6XCI6XCIvXCIsbj10aGlzLnBhdGgoKSxzPVwiL1wiPT09bi5zdWJzdHJpbmcoMCwxKSxvPW4uc3BsaXQoaSk7aWYodm9pZCAwIT09ZSYmXCJudW1iZXJcIiE9dHlwZW9mIGUmJihyPXQsdD1lLGU9dm9pZCAwKSx2b2lkIDAhPT1lJiZcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWdtZW50IFwiJytlKydcIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTtpZihzJiZvLnNoaWZ0KCksZTwwJiYoZT1NYXRoLm1heChvLmxlbmd0aCtlLDApKSx2b2lkIDA9PT10KXJldHVybiB2b2lkIDA9PT1lP286b1tlXTtpZihudWxsPT09ZXx8dm9pZCAwPT09b1tlXSlpZihhKHQpKXtvPVtdO2Zvcih2YXIgaD0wLGM9dC5sZW5ndGg7aDxjO2grKykodFtoXS5sZW5ndGh8fG8ubGVuZ3RoJiZvW28ubGVuZ3RoLTFdLmxlbmd0aCkmJihvLmxlbmd0aCYmIW9bby5sZW5ndGgtMV0ubGVuZ3RoJiZvLnBvcCgpLG8ucHVzaChsKHRbaF0pKSl9ZWxzZSh0fHxcInN0cmluZ1wiPT10eXBlb2YgdCkmJih0PWwodCksXCJcIj09PW9bby5sZW5ndGgtMV0/b1tvLmxlbmd0aC0xXT10Om8ucHVzaCh0KSk7ZWxzZSB0P29bZV09bCh0KTpvLnNwbGljZShlLDEpO3JldHVybiBzJiZvLnVuc2hpZnQoXCJcIiksdGhpcy5wYXRoKG8uam9pbihpKSxyKX0sdi5Ldz1mdW5jdGlvbihlLHQscil7dmFyIGkscyxvO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlJiYocj10LHQ9ZSxlPXZvaWQgMCksdm9pZCAwPT09dCl7aWYoaT10aGlzLkN3KGUsdCxyKSxhKGkpKWZvcihzPTAsbz1pLmxlbmd0aDtzPG87cysrKWlbc109bi5kZWNvZGUoaVtzXSk7ZWxzZSBpPXZvaWQgMCE9PWk/bi5kZWNvZGUoaSk6dm9pZCAwO3JldHVybiBpfWlmKGEodCkpZm9yKHM9MCxvPXQubGVuZ3RoO3M8bztzKyspdFtzXT1uLmVuY29kZSh0W3NdKTtlbHNlIHQ9XCJzdHJpbmdcIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBTdHJpbmc/bi5lbmNvZGUodCk6dDtyZXR1cm4gdGhpcy5DdyhlLHQscil9O3ZhciBDPXYucXVlcnk7cmV0dXJuIHYucXVlcnk9ZnVuY3Rpb24oZSx0KXtpZighMD09PWUpcmV0dXJuIG4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXt2YXIgcj1uLkV3KHRoaXMudVIucXVlcnksdGhpcy51Ui5mUiksaT1lLmNhbGwodGhpcyxyKTtyZXR1cm4gdGhpcy51Ui5xdWVyeT1uLm13KGl8fHIsdGhpcy51Ui5kUix0aGlzLnVSLmZSKSx0aGlzLlhnKCF0KSx0aGlzfXJldHVybiB2b2lkIDAhPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgZT8odGhpcy51Ui5xdWVyeT1uLm13KGUsdGhpcy51Ui5kUix0aGlzLnVSLmZSKSx0aGlzLlhnKCF0KSx0aGlzKTpDLmNhbGwodGhpcyxlLHQpfSx2Lll3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uLkV3KHRoaXMudVIucXVlcnksdGhpcy51Ui5mUik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmcpaVtlXT12b2lkIDAhPT10P3Q6bnVsbDtlbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKTtmb3IodmFyIHMgaW4gZSl5LmNhbGwoZSxzKSYmKGlbc109ZVtzXSl9cmV0dXJuIHRoaXMudVIucXVlcnk9bi5tdyhpLHRoaXMudVIuZFIsdGhpcy51Ui5mUiksXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihyPXQpLHRoaXMuWGcoIXIpLHRoaXN9LHYuU3c9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKTtyZXR1cm4gbi5TdyhpLGUsdm9pZCAwPT09dD9udWxsOnQpLHRoaXMudVIucXVlcnk9bi5tdyhpLHRoaXMudVIuZFIsdGhpcy51Ui5mUiksXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihyPXQpLHRoaXMuWGcoIXIpLHRoaXN9LHYuUnc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKTtyZXR1cm4gbi5SdyhpLGUsdCksdGhpcy51Ui5xdWVyeT1uLm13KGksdGhpcy51Ui5kUix0aGlzLnVSLmZSKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmKHI9dCksdGhpcy5YZyghciksdGhpc30sdi53dz1mdW5jdGlvbihlLHQscil7dmFyIGk9bi5Fdyh0aGlzLnVSLnF1ZXJ5LHRoaXMudVIuZlIpO3JldHVybiBuLnd3KGksZSx0LHIpfSx2Lld3PXYuWXcsdi56dz12LlN3LHYuSnc9di5Sdyx2Llh3PXYud3csdi5ub3JtYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51Ui51cm4/dGhpcy5lYighMSkuUXcoITEpLiR3KCExKS5adyghMSkuWGcoKTp0aGlzLmViKCExKS5yYighMSkudGIoITEpLlF3KCExKS4kdyghMSkuWncoITEpLlhnKCl9LHYuZWI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudVIucHJvdG9jb2wmJih0aGlzLnVSLnByb3RvY29sPXRoaXMudVIucHJvdG9jb2wudG9Mb3dlckNhc2UoKSx0aGlzLlhnKCFlKSksdGhpc30sdi5yYj1mdW5jdGlvbihyKXtyZXR1cm4gdGhpcy51Ui5ob3N0bmFtZSYmKHRoaXMuaXMoXCJJRE5cIikmJmU/dGhpcy51Ui5ob3N0bmFtZT1lLkR3KHRoaXMudVIuaG9zdG5hbWUpOnRoaXMuaXMoXCJJUHY2XCIpJiZ0JiYodGhpcy51Ui5ob3N0bmFtZT10LmliKHRoaXMudVIuaG9zdG5hbWUpKSx0aGlzLnVSLmhvc3RuYW1lPXRoaXMudVIuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSx0aGlzLlhnKCFyKSksdGhpc30sdi50Yj1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy51Ui5wcm90b2NvbCYmdGhpcy51Ui5wb3J0PT09bi5SUlt0aGlzLnVSLnByb3RvY29sXSYmKHRoaXMudVIucG9ydD1udWxsLHRoaXMuWGcoIWUpKSx0aGlzfSx2LlF3PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudVIucGF0aDtpZighdClyZXR1cm4gdGhpcztpZih0aGlzLnVSLnVybilyZXR1cm4gdGhpcy51Ui5wYXRoPW4ubHcodGhpcy51Ui5wYXRoKSx0aGlzLlhnKCFlKSx0aGlzO2lmKFwiL1wiPT09dGhpcy51Ui5wYXRoKXJldHVybiB0aGlzO3Q9bi51dyh0KTt2YXIgcixpLHMsbz1cIlwiO2ZvcihcIi9cIiE9PXQuY2hhckF0KDApJiYocj0hMCx0PVwiL1wiK3QpLFwiLy4uXCIhPT10LnNsaWNlKC0zKSYmXCIvLlwiIT09dC5zbGljZSgtMil8fCh0Kz1cIi9cIiksdD10LnJlcGxhY2UoLyhcXC8oXFwuXFwvKSspfChcXC9cXC4kKS9nLFwiL1wiKS5yZXBsYWNlKC9cXC97Mix9L2csXCIvXCIpLHImJihvPXQuc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFxcLlxcLlxcLykrLyl8fFwiXCIpJiYobz1vWzBdKTs7KXtpZigtMT09PShpPXQuc2VhcmNoKC9cXC9cXC5cXC4oXFwvfCQpLykpKWJyZWFrOzAhPT1pPyhzPXQuc3Vic3RyaW5nKDAsaSkubGFzdEluZGV4T2YoXCIvXCIpLC0xPT09cyYmKHM9aSksdD10LnN1YnN0cmluZygwLHMpK3Quc3Vic3RyaW5nKGkrMykpOnQ9dC5zdWJzdHJpbmcoMyl9cmV0dXJuIHImJnRoaXMuaXMoXCJyZWxhdGl2ZVwiKSYmKHQ9byt0LnN1YnN0cmluZygxKSksdGhpcy51Ui5wYXRoPXQsdGhpcy5YZyghZSksdGhpc30sdi5uYj12LlF3LHYuJHc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudVIucXVlcnkmJih0aGlzLnVSLnF1ZXJ5Lmxlbmd0aD90aGlzLnF1ZXJ5KG4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKSk6dGhpcy51Ui5xdWVyeT1udWxsLHRoaXMuWGcoIWUpKSx0aGlzfSx2Llp3PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVSLnBSfHwodGhpcy51Ui5wUj1udWxsLHRoaXMuWGcoIWUpKSx0aGlzfSx2LnNiPXYuJHcsdi5vYj12Llp3LHYucVI9ZnVuY3Rpb24oKXt2YXIgZT1uLmVuY29kZSx0PW4uZGVjb2RlO24uZW5jb2RlPWVzY2FwZSxuLmRlY29kZT1kZWNvZGVVUklDb21wb25lbnQ7dHJ5e3RoaXMubm9ybWFsaXplKCl9ZmluYWxseXtuLmVuY29kZT1lLG4uZGVjb2RlPXR9cmV0dXJuIHRoaXN9LHYuR1I9ZnVuY3Rpb24oKXt2YXIgZT1uLmVuY29kZSx0PW4uZGVjb2RlO24uZW5jb2RlPWQsbi5kZWNvZGU9dW5lc2NhcGU7dHJ5e3RoaXMubm9ybWFsaXplKCl9ZmluYWxseXtuLmVuY29kZT1lLG4uZGVjb2RlPXR9cmV0dXJuIHRoaXN9LHYuYWI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNsb25lKCk7dC51c2VybmFtZShcIlwiKS5wYXNzd29yZChcIlwiKS5ub3JtYWxpemUoKTt2YXIgcj1cIlwiO2lmKHQudVIucHJvdG9jb2wmJihyKz10LnVSLnByb3RvY29sK1wiOi8vXCIpLHQudVIuaG9zdG5hbWUmJih0LmlzKFwicHVueWNvZGVcIikmJmU/KHIrPWUuaGIodC51Ui5ob3N0bmFtZSksdC51Ui5wb3J0JiYocis9XCI6XCIrdC51Ui5wb3J0KSk6cis9dC5ob3N0KCkpLHQudVIuaG9zdG5hbWUmJnQudVIucGF0aCYmXCIvXCIhPT10LnVSLnBhdGguY2hhckF0KDApJiYocis9XCIvXCIpLHIrPXQucGF0aCghMCksdC51Ui5xdWVyeSl7Zm9yKHZhciBpPVwiXCIscz0wLG89dC51Ui5xdWVyeS5zcGxpdChcIiZcIiksYT1vLmxlbmd0aDtzPGE7cysrKXt2YXIgaD0ob1tzXXx8XCJcIikuc3BsaXQoXCI9XCIpO2krPVwiJlwiK24uYXcoaFswXSx0aGlzLnVSLmZSKS5yZXBsYWNlKC8mL2csXCIlMjZcIiksdm9pZCAwIT09aFsxXSYmKGkrPVwiPVwiK24uYXcoaFsxXSx0aGlzLnVSLmZSKS5yZXBsYWNlKC8mL2csXCIlMjZcIikpfXIrPVwiP1wiK2kuc3Vic3RyaW5nKDEpfXJldHVybiByKz1uLmF3KHQuaGFzaCgpLCEwKX0sdi5QaD1mdW5jdGlvbihlKXt2YXIgdCxyLGkscz10aGlzLmNsb25lKCksbz1bXCJwcm90b2NvbFwiLFwidXNlcm5hbWVcIixcInBhc3N3b3JkXCIsXCJob3N0bmFtZVwiLFwicG9ydFwiXTtpZih0aGlzLnVSLnVybil0aHJvdyBuZXcgRXJyb3IoXCJVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50c1wiKTtpZihlIGluc3RhbmNlb2Ygbnx8KGU9bmV3IG4oZSkpLHMudVIucHJvdG9jb2wpcmV0dXJuIHM7aWYocy51Ui5wcm90b2NvbD1lLnVSLnByb3RvY29sLHRoaXMudVIuaG9zdG5hbWUpcmV0dXJuIHM7Zm9yKHI9MDtpPW9bcl07cisrKXMudVJbaV09ZS51UltpXTtyZXR1cm4gcy51Ui5wYXRoPyhcIi4uXCI9PT1zLnVSLnBhdGguc3Vic3RyaW5nKC0yKSYmKHMudVIucGF0aCs9XCIvXCIpLFwiL1wiIT09cy5wYXRoKCkuY2hhckF0KDApJiYodD1lLlZ3KCksdD10fHwoMD09PWUucGF0aCgpLmluZGV4T2YoXCIvXCIpP1wiL1wiOlwiXCIpLHMudVIucGF0aD0odD90K1wiL1wiOlwiXCIpK3MudVIucGF0aCxzLlF3KCkpKToocy51Ui5wYXRoPWUudVIucGF0aCxzLnVSLnF1ZXJ5fHwocy51Ui5xdWVyeT1lLnVSLnF1ZXJ5KSkscy5YZygpLHN9LHYuY2I9ZnVuY3Rpb24oZSl7dmFyIHQscixpLHMsbyxhPXRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtpZihhLnVSLnVybil0aHJvdyBuZXcgRXJyb3IoXCJVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50c1wiKTtpZihlPW5ldyBuKGUpLm5vcm1hbGl6ZSgpLHQ9YS51UixyPWUudVIscz1hLnBhdGgoKSxvPWUucGF0aCgpLFwiL1wiIT09cy5jaGFyQXQoMCkpdGhyb3cgbmV3IEVycm9yKFwiVVJJIGlzIGFscmVhZHkgcmVsYXRpdmVcIik7aWYoXCIvXCIhPT1vLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJXCIpO2lmKHQucHJvdG9jb2w9PT1yLnByb3RvY29sJiYodC5wcm90b2NvbD1udWxsKSx0LnVzZXJuYW1lIT09ci51c2VybmFtZXx8dC5wYXNzd29yZCE9PXIucGFzc3dvcmQpcmV0dXJuIGEuWGcoKTtpZihudWxsIT09dC5wcm90b2NvbHx8bnVsbCE9PXQudXNlcm5hbWV8fG51bGwhPT10LnBhc3N3b3JkKXJldHVybiBhLlhnKCk7aWYodC5ob3N0bmFtZSE9PXIuaG9zdG5hbWV8fHQucG9ydCE9PXIucG9ydClyZXR1cm4gYS5YZygpO2lmKHQuaG9zdG5hbWU9bnVsbCx0LnBvcnQ9bnVsbCxzPT09bylyZXR1cm4gdC5wYXRoPVwiXCIsYS5YZygpO2lmKCEoaT1uLl93KHMsbykpKXJldHVybiBhLlhnKCk7dmFyIGg9ci5wYXRoLnN1YnN0cmluZyhpLmxlbmd0aCkucmVwbGFjZSgvW15cXC9dKiQvLFwiXCIpLnJlcGxhY2UoLy4qP1xcLy9nLFwiLi4vXCIpO3JldHVybiB0LnBhdGg9aCt0LnBhdGguc3Vic3RyaW5nKGkubGVuZ3RoKXx8XCIuL1wiLGEuWGcoKX0sdi5jcz1mdW5jdGlvbihlKXt2YXIgdCxyLGkscz10aGlzLmNsb25lKCksbz1uZXcgbihlKSxoPXt9LGM9e30sbD17fTtpZihzLm5vcm1hbGl6ZSgpLG8ubm9ybWFsaXplKCkscy50b1N0cmluZygpPT09by50b1N0cmluZygpKXJldHVybiEwO2lmKHQ9cy5xdWVyeSgpLHI9by5xdWVyeSgpLHMucXVlcnkoXCJcIiksby5xdWVyeShcIlwiKSxzLnRvU3RyaW5nKCkhPT1vLnRvU3RyaW5nKCkpcmV0dXJuITE7aWYodC5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtoPW4uRXcodCx0aGlzLnVSLmZSKSxjPW4uRXcocix0aGlzLnVSLmZSKTtmb3IoaSBpbiBoKWlmKHkuY2FsbChoLGkpKXtpZihhKGhbaV0pKXtpZighdShoW2ldLGNbaV0pKXJldHVybiExfWVsc2UgaWYoaFtpXSE9PWNbaV0pcmV0dXJuITE7bFtpXT0hMH1mb3IoaSBpbiBjKWlmKHkuY2FsbChjLGkpJiYhbFtpXSlyZXR1cm4hMTtyZXR1cm4hMH0sdi5kUj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51Ui5kUj0hIWUsdGhpc30sdi5mUj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51Ui5mUj0hIWUsdGhpc30sbn0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDczKSxzPXIoNzEpLG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyKXt2YXIgaT1lLmNhbGwodGhpcyxyKXx8dGhpcztyZXR1cm4gaS5ET05FPTQsaS5MT0FESU5HPTMsaS5IRUFERVJTX1JFQ0VJVkVEPTIsaS5PUEVORUQ9MSxpLlVOU0VOVD0wLGkuaW50ZXJuYWw9ITEsaS5pZD10LkFnKyssaX1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYWR5U3RhdGUhPT10aGlzLk9QRU5FRCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgb2JqZWN0J3Mgc3RhdGUgbXVzdCBiZSBPUEVORUQuXCIpO2lmKCF0aGlzLnNlc3Npb25JZCl7dmFyIGU9T2JqZWN0LmtleXModC51Yik7ZS5sZW5ndGg+MCYmKHRoaXMuc2Vzc2lvbklkPXQudWJbZVswXV0pfW4ubGIuQXBpKCkucmVxdWVzdCh0aGlzLHRoaXMuc2Vzc2lvbklkKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtuLmxiLkFwaSgpLmFib3J0KHRoaXMsdGhpcy5zZXNzaW9uSWQpfSx0fShzLnBiKTtvLnViPXt9LG8uQWc9MCx0LkhpdmVSZXF1ZXN0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig4KSxzPXIoNiksbz1zLmhlLmRoLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLlJlcG9ydGluZz1mdW5jdGlvbigpe3JldHVybiBlLmFwcD1cIlNUQVRTXCIsaS5GcmFtZXdvcmsucmVzb2x2ZShuLnBjLmhjKX0sZS5zcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcH0sZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sZX0oKTthLnZlcnNpb249byx0LkhpdmU9YX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRocmlmdD17ZmI6XCIwLjkuMlwiLFR5cGU6e1NUT1A6MCxWT0lEOjEsQk9PTDoyLEJZVEU6MyxJMDg6MyxET1VCTEU6NCxJMTY6NixJMzI6OCxJNjQ6MTAsU1RSSU5HOjExLFVURjc6MTEsU1RSVUNUOjEyLE1BUDoxMyxTRVQ6MTQsTElTVDoxNSxVVEY4OjE2LFVURjE2OjE3fSxnYjp7Q0FMTDoxLFJFUExZOjIsRVhDRVBUSU9OOjMsT05FV0FZOjR9LEViOmZ1bmN0aW9uKGUpe3ZhciB0PTA7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmdCsrO3JldHVybiB0fSx2YjpmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaSgpe31pLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgaSxlLnByb3RvdHlwZS5uYW1lPXJ8fFwiXCJ9fTtUaHJpZnQueWI9ZnVuY3Rpb24oZSl7dGhpcy5tZXNzYWdlPWV9LFRocmlmdC52YihUaHJpZnQueWIsRXJyb3IsXCJURXhjZXB0aW9uXCIpLFRocmlmdC55Yi5wcm90b3R5cGUuVGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfSxUaHJpZnQubWI9e0liOjAsU2I6MSxSYjoyLHdiOjMsYmI6NCxDYjo1LF9iOjYsUGI6NyxBYjo4LE9iOjksTmI6MTB9LFRocmlmdC5EYj1mdW5jdGlvbihlLHQpe3RoaXMubWVzc2FnZT1lLHRoaXMuY29kZT1cIm51bWJlclwiPT10eXBlb2YgdD90OjB9LFRocmlmdC52YihUaHJpZnQuRGIsVGhyaWZ0LnliLFwiVEFwcGxpY2F0aW9uRXhjZXB0aW9uXCIpLFRocmlmdC5EYi5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoOzspe3ZhciB0PWUua2IoKTtpZih0LmZ0eXBlPT1UaHJpZnQuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaCh0LmZpZCl7Y2FzZSAxOnQuZnR5cGU9PVRocmlmdC5UeXBlLlNUUklORz8odD1lLkxiKCksdGhpcy5tZXNzYWdlPXQudmFsdWUpOnQ9ZS5NYih0LmZ0eXBlKTticmVhaztjYXNlIDI6dC5mdHlwZT09VGhyaWZ0LlR5cGUuSTMyPyh0PWUuRmIoKSx0aGlzLmNvZGU9dC52YWx1ZSk6dD1lLk1iKHQuZnR5cGUpO2JyZWFrO2RlZmF1bHQ6dD1lLk1iKHQuZnR5cGUpfWUuVWIoKX1lLkJiKCl9LFRocmlmdC5EYi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRBcHBsaWNhdGlvbkV4Y2VwdGlvblwiKSx0aGlzLm1lc3NhZ2UmJihlLnhiKFwibWVzc2FnZVwiLFRocmlmdC5UeXBlLlNUUklORywxKSxlLnFiKHRoaXMuVGIoKSksZS5HYigpKSx0aGlzLmNvZGUmJihlLnhiKFwidHlwZVwiLFRocmlmdC5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuY29kZSksZS5HYigpKSxlLmpiKCksZS5RYigpfSxUaHJpZnQuRGIucHJvdG90eXBlLktiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29kZX0sVGhyaWZ0LkZhPVRocmlmdC5ZYj1mdW5jdGlvbihlLHQpe3RoaXMudXJsPWUsdGhpcy5XYj0wLHRoaXMuemI9MCx0aGlzLkpiPXQmJnQuSmIsdGhpcy5YYj1cIlwiLHRoaXMuWmI9XCJcIn0sVGhyaWZ0LlliLnByb3RvdHlwZT17JGI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKGUpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goZSl7fXRocm93XCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFhIUi5cIn0sZmx1c2g6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKGUmJiF0fHx2b2lkIDA9PT10aGlzLnVybHx8XCJcIj09PXRoaXMudXJsKXJldHVybiB0aGlzLlhiO3ZhciBpPXRoaXMuJGIoKTtpZihpLm92ZXJyaWRlTWltZVR5cGUmJmkub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIiksdCYmKGkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24oKXs0PT10aGlzLnJlYWR5U3RhdGUmJjIwMD09dGhpcy5zdGF0dXMmJihyLmVDKHRoaXMucmVzcG9uc2VUZXh0KSxlKCkpfX0oKSksaS5vcGVuKFwiUE9TVFwiLHRoaXMudXJsLCEhZSksaS5zZW5kKHRoaXMuWGIpLCFlfHwhdCl7aWYoNCE9aS5yZWFkeVN0YXRlKXRocm93XCJlbmNvdW50ZXJlZCBhbiB1bmtub3duIGFqYXggcmVhZHkgc3RhdGU6IFwiK2kucmVhZHlTdGF0ZTtpZigyMDAhPWkuc3RhdHVzKXRocm93XCJlbmNvdW50ZXJlZCBhIHVua25vd24gcmVxdWVzdCBzdGF0dXM6IFwiK2kuc3RhdHVzO3RoaXMuWmI9aS5yZXNwb25zZVRleHQsdGhpcy50Qz10aGlzLlpiLmxlbmd0aCx0aGlzLldiPXRoaXMuWmIubGVuZ3RoLHRoaXMuemI9MH19LHJDOmZ1bmN0aW9uKGUsdCxyLGkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnl8fHZvaWQgMD09PWpRdWVyeS5pQyl0aHJvd1wiVGhyaWZ0LmpzIHJlcXVpcmVzIGpRdWVyeSAxLjUrIHRvIHVzZSBhc3luY2hyb25vdXMgcmVxdWVzdHNcIjt2YXIgbj10aGlzO3JldHVybiBqUXVlcnkubkMoe3VybDp0aGlzLnVybCxkYXRhOnQsdHlwZTpcIlBPU1RcIixzQzohMSxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIixvQzpcInRleHQgdGhyaWZ0XCIsYUM6e2hDOmZ1bmN0aW9uKHQpe3JldHVybiBuLmVDKHQpLGkuY2FsbChlKX19LGNvbnRleHQ6ZSxzdWNjZXNzOmpRdWVyeS5jQyhyKS5wb3AoKX0pfSxlQzpmdW5jdGlvbihlKXt0aGlzLlpiPWUsdGhpcy50Qz10aGlzLlpiLmxlbmd0aCx0aGlzLldiPXRoaXMuWmIubGVuZ3RoLHRoaXMuemI9MH0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG9wZW46ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuV2ItdGhpcy56YjtpZigwPT09dClyZXR1cm5cIlwiO3ZhciByPWU7dDxlJiYocj10KTt2YXIgaT10aGlzLnVDLnN1YnN0cih0aGlzLnpiLHIpO3JldHVybiB0aGlzLnpiKz1yLGl9LGxDOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWmJ9LHdyaXRlOmZ1bmN0aW9uKGUpe3RoaXMuWGI9ZX0scEM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YYn19LFRocmlmdC5kQz1mdW5jdGlvbihlKXt0aGlzLmZDKGUpfSxUaHJpZnQuZEMucHJvdG90eXBlPXtmQzpmdW5jdGlvbihlKXt0aGlzLnVybD1lLHRoaXMuZ0M9bnVsbCx0aGlzLmNhbGxiYWNrcz1bXSx0aGlzLkVDPVtdLHRoaXMuWGI9XCJcIix0aGlzLlpiPVwiXCIsdGhpcy52Qz0wLHRoaXMueUM9MH0sZmx1c2g6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuaXNPcGVuKCk/KHRoaXMuZ0Muc2VuZCh0aGlzLlhiKSx0aGlzLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24odCl7ci5lQyh0KSxlKCl9fSgpKSk6dGhpcy5FQy5wdXNoKHtUQzp0aGlzLlhiLG1DOnR9KX0sSUM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuRUMubGVuZ3RoPjAmJih0aGlzLkVDLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5nQy5zZW5kKHQuVEMpLHRoaXMuY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24oKXt2YXIgcj10Lm1DO3JldHVybiBmdW5jdGlvbih0KXtlLmVDKHQpLHIoKX19KCkpfSksdGhpcy5FQz1bXSl9LFNDOmZ1bmN0aW9uKGUpe3RoaXMuZkModGhpcy51cmwpfSxSQzpmdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrcy5sZW5ndGgmJnRoaXMuY2FsbGJhY2tzLnNoaWZ0KCkoZS5kYXRhKX0sd0M6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJUaHJpZnQgV2ViU29ja2V0IEVycm9yOiBcIitlLnRvU3RyaW5nKCkpLHRoaXMuZ0MuY2xvc2UoKX0sZUM6ZnVuY3Rpb24oZSl7dGhpcy5aYj1lLHRoaXMudEM9dGhpcy5aYi5sZW5ndGgsdGhpcy5XYj10aGlzLlpiLmxlbmd0aCx0aGlzLnpiPTB9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdDJiZ0aGlzLmdDLnJlYWR5U3RhdGU9PXRoaXMuZ0MuT1BFTn0sb3BlbjpmdW5jdGlvbigpe3RoaXMuZ0MmJnRoaXMuZ0MucmVhZHlTdGF0ZSE9dGhpcy5nQy5DTE9TRUR8fCh0aGlzLmdDPW5ldyBXZWJTb2NrZXQodGhpcy51cmwpLHRoaXMuZ0Mub25vcGVuPXRoaXMuSUMuYmluZCh0aGlzKSx0aGlzLmdDLm9ubWVzc2FnZT10aGlzLlJDLmJpbmQodGhpcyksdGhpcy5nQy5vbmVycm9yPXRoaXMud0MuYmluZCh0aGlzKSx0aGlzLmdDLm9uY2xvc2U9dGhpcy5TQy5iaW5kKHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmdDLmNsb3NlKCl9LHJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5XYi10aGlzLnpiO2lmKDA9PT10KXJldHVyblwiXCI7dmFyIHI9ZTt0PGUmJihyPXQpO3ZhciBpPXRoaXMudUMuc3Vic3RyKHRoaXMuemIscik7cmV0dXJuIHRoaXMuemIrPXIsaX0sbEM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aYn0sd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5YYj1lfSxwQzpmdW5jdGlvbigpe3JldHVybiB0aGlzLlhifX0sVGhyaWZ0LmJDPVRocmlmdC5DQz1mdW5jdGlvbihlKXt0aGlzLnlnPWV9LFRocmlmdC5DQy5UeXBlPXt9LFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkJPT0xdPSdcInRmXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkJZVEVdPSdcImk4XCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkkxNl09J1wiaTE2XCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkkzMl09J1wiaTMyXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkk2NF09J1wiaTY0XCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkRPVUJMRV09J1wiZGJsXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLlNUUlVDVF09J1wicmVjXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLlNUUklOR109J1wic3RyXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLk1BUF09J1wibWFwXCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLkxJU1RdPSdcImxzdFwiJyxUaHJpZnQuQ0MuVHlwZVtUaHJpZnQuVHlwZS5TRVRdPSdcInNldFwiJyxUaHJpZnQuQ0MuX0M9e30sVGhyaWZ0LkNDLl9DLnRmPVRocmlmdC5UeXBlLkJPT0wsVGhyaWZ0LkNDLl9DLmk4PVRocmlmdC5UeXBlLkJZVEUsVGhyaWZ0LkNDLl9DLmkxNj1UaHJpZnQuVHlwZS5JMTYsVGhyaWZ0LkNDLl9DLmkzMj1UaHJpZnQuVHlwZS5JMzIsVGhyaWZ0LkNDLl9DLmk2ND1UaHJpZnQuVHlwZS5JNjQsVGhyaWZ0LkNDLl9DLmRibD1UaHJpZnQuVHlwZS5ET1VCTEUsVGhyaWZ0LkNDLl9DLnJlYz1UaHJpZnQuVHlwZS5TVFJVQ1QsVGhyaWZ0LkNDLl9DLnN0cj1UaHJpZnQuVHlwZS5TVFJJTkcsVGhyaWZ0LkNDLl9DLm1hcD1UaHJpZnQuVHlwZS5NQVAsVGhyaWZ0LkNDLl9DLmxzdD1UaHJpZnQuVHlwZS5MSVNULFRocmlmdC5DQy5fQy5zZXQ9VGhyaWZ0LlR5cGUuU0VULFRocmlmdC5DQy5mYj0xLFRocmlmdC5DQy5wcm90b3R5cGU9e1BDOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWd9LEFDOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLk9DPVtdLHRoaXMuTkM9W10sdGhpcy5PQy5wdXNoKFtUaHJpZnQuQ0MuZmIsJ1wiJytlKydcIicsdCxyXSl9LERDOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5PQy5wb3AoKTt0aGlzLmtDPXRoaXMuT0MucG9wKCksdGhpcy5rQy5wdXNoKGUpLHRoaXMuTEM9XCJbXCIrdGhpcy5rQy5qb2luKFwiLFwiKStcIl1cIix0aGlzLnlnLndyaXRlKHRoaXMuTEMpfSxIYjpmdW5jdGlvbihlKXt0aGlzLk5DLnB1c2godGhpcy5PQy5sZW5ndGgpLHRoaXMuT0MucHVzaCh7fSl9LFFiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5OQy5wb3AoKSx0PXRoaXMuT0NbZV0scj1cIntcIixpPSEwO2Zvcih2YXIgbiBpbiB0KWk/aT0hMTpyKz1cIixcIixyKz1uK1wiOlwiK3Rbbl07cis9XCJ9XCIsdGhpcy5PQ1tlXT1yfSx4YjpmdW5jdGlvbihlLHQscil7dGhpcy5OQy5wdXNoKHRoaXMuT0MubGVuZ3RoKSx0aGlzLk9DLnB1c2goe01DOidcIicrcisnXCInLEZDOlRocmlmdC5DQy5UeXBlW3RdfSl9LEdiOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5PQy5wb3AoKSx0PXRoaXMuT0MucG9wKCk7dGhpcy5PQ1t0aGlzLk9DLmxlbmd0aC0xXVt0Lk1DXT1cIntcIit0LkZDK1wiOlwiK2UrXCJ9XCIsdGhpcy5OQy5wb3AoKX0samI6ZnVuY3Rpb24oKXt9LFVDOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLk5DLnB1c2godGhpcy5PQy5sZW5ndGgpLHRoaXMuT0MucHVzaChbVGhyaWZ0LkNDLlR5cGVbZV0sVGhyaWZ0LkNDLlR5cGVbdF0sMF0pfSxCQzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuTkMucG9wKCk7aWYoZSE9dGhpcy5PQy5sZW5ndGgpeyh0aGlzLk9DLmxlbmd0aC1lLTEpJTIhPTAmJnRoaXMuT0MucHVzaChcIlwiKTt2YXIgdD0odGhpcy5PQy5sZW5ndGgtZS0xKS8yO3RoaXMuT0NbZV1bdGhpcy5PQ1tlXS5sZW5ndGgtMV09dDtmb3IodmFyIHI9XCJ9XCIsaT0hMDt0aGlzLk9DLmxlbmd0aD5lKzE7KXt2YXIgbj10aGlzLk9DLnBvcCgpLHM9dGhpcy5PQy5wb3AoKTtpP2k9ITE6cj1cIixcIityLGlzTmFOKHMpfHwocz0nXCInK3MrJ1wiJykscj1zK1wiOlwiK24rcn1yPVwie1wiK3IsdGhpcy5PQ1tlXS5wdXNoKHIpLHRoaXMuT0NbZV09XCJbXCIrdGhpcy5PQ1tlXS5qb2luKFwiLFwiKStcIl1cIn19LEhDOmZ1bmN0aW9uKGUsdCl7dGhpcy5OQy5wdXNoKHRoaXMuT0MubGVuZ3RoKSx0aGlzLk9DLnB1c2goW1RocmlmdC5DQy5UeXBlW2VdLHRdKX0seEM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5OQy5wb3AoKTt0aGlzLk9DLmxlbmd0aD5lKzE7KXt2YXIgdD10aGlzLk9DW2UrMV07dGhpcy5PQy5zcGxpY2UoZSsxLDEpLHRoaXMuT0NbZV0ucHVzaCh0KX10aGlzLk9DW2VdPVwiW1wiK3RoaXMuT0NbZV0uam9pbihcIixcIikrXCJdXCJ9LHFDOmZ1bmN0aW9uKGUsdCl7dGhpcy5OQy5wdXNoKHRoaXMuT0MubGVuZ3RoKSx0aGlzLk9DLnB1c2goW1RocmlmdC5DQy5UeXBlW2VdLHRdKX0sR0M6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5OQy5wb3AoKTt0aGlzLk9DLmxlbmd0aD5lKzE7KXt2YXIgdD10aGlzLk9DW2UrMV07dGhpcy5PQy5zcGxpY2UoZSsxLDEpLHRoaXMuT0NbZV0ucHVzaCh0KX10aGlzLk9DW2VdPVwiW1wiK3RoaXMuT0NbZV0uam9pbihcIixcIikrXCJdXCJ9LFZDOmZ1bmN0aW9uKGUpe3RoaXMuT0MucHVzaChlPzE6MCl9LGpDOmZ1bmN0aW9uKGUpe3RoaXMuT0MucHVzaChlKX0sUUM6ZnVuY3Rpb24oZSl7dGhpcy5PQy5wdXNoKGUpfSxWYjpmdW5jdGlvbihlKXt0aGlzLk9DLnB1c2goZSl9LEtDOmZ1bmN0aW9uKGUpe3RoaXMuT0MucHVzaChlKX0sWUM6ZnVuY3Rpb24oZSl7dGhpcy5PQy5wdXNoKGUpfSxxYjpmdW5jdGlvbihlKXtpZihudWxsPT09ZSl0aGlzLk9DLnB1c2gobnVsbCk7ZWxzZXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWUuY2hhckF0KHIpO3QrPSdcIic9PT1pPydcXFxcXCInOlwiXFxcXFwiPT09aT9cIlxcXFxcXFxcXCI6XCJcXGJcIj09PWk/XCJcXFxcYlwiOlwiXFxmXCI9PT1pP1wiXFxcXGZcIjpcIlxcblwiPT09aT9cIlxcXFxuXCI6XCJcXHJcIj09PWk/XCJcXFxcclwiOlwiXFx0XCI9PT1pP1wiXFxcXHRcIjppfXRoaXMuT0MucHVzaCgnXCInK3QrJ1wiJyl9fSxXQzpmdW5jdGlvbihlKXt0aGlzLnFiKGUpfSx6QzpmdW5jdGlvbigpe3RoaXMuSkM9W10sdGhpcy56Yj1bXSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgSlNPTi5wYXJzZT90aGlzLlhDPUpTT04ucGFyc2UodGhpcy55Zy5sQygpKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgalF1ZXJ5P3RoaXMuWEM9alF1ZXJ5LlpDKHRoaXMueWcubEMoKSk6dGhpcy5YQz1ldmFsKHRoaXMueWcubEMoKSk7dmFyIHI9e30sdmVyc2lvbj10aGlzLlhDLnNoaWZ0KCk7aWYodmVyc2lvbiE9VGhyaWZ0LkNDLmZiKXRocm93XCJXcm9uZyB0aHJpZnQgcHJvdG9jb2wgdmVyc2lvbjogXCIrdmVyc2lvbjtyZXR1cm4gci5mbmFtZT10aGlzLlhDLnNoaWZ0KCksci4kQz10aGlzLlhDLnNoaWZ0KCksci5lXz10aGlzLlhDLnNoaWZ0KCksdGhpcy5KQy5wdXNoKHRoaXMuWEMuc2hpZnQoKSkscn0sdF86ZnVuY3Rpb24oKXt9LHJfOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LmZuYW1lPVwiXCIsdGhpcy5KQ1t0aGlzLkpDLmxlbmd0aC0xXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuSkMucHVzaCh0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdLnNoaWZ0KCkpLHR9LEJiOmZ1bmN0aW9uKCl7dGhpcy5KQ1t0aGlzLkpDLmxlbmd0aC0yXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuSkMucG9wKCl9LGtiOmZ1bmN0aW9uKCl7dmFyIGU9e30sdD0tMSxyPVRocmlmdC5UeXBlLlNUT1A7Zm9yKHZhciBpIGluIHRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV0paWYobnVsbCE9PWkpe3Q9cGFyc2VJbnQoaSwxMCksdGhpcy56Yi5wdXNoKHRoaXMuSkMubGVuZ3RoKTt2YXIgbj10aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdW3RdO2RlbGV0ZSB0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdW3RdLHRoaXMuSkMucHVzaChuKTticmVha31pZigtMSE9dClmb3IodmFyIHMgaW4gdGhpcy5KQ1t0aGlzLkpDLmxlbmd0aC0xXSludWxsIT09VGhyaWZ0LkNDLl9DW3NdJiYocj1UaHJpZnQuQ0MuX0Nbc10sdGhpcy5KQ1t0aGlzLkpDLmxlbmd0aC0xXT10aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdW3NdKTtyZXR1cm4gZS5mbmFtZT1cIlwiLGUuZnR5cGU9cixlLmZpZD10LGV9LFViOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuemIucG9wKCk7dGhpcy5KQy5sZW5ndGg+ZTspdGhpcy5KQy5wb3AoKX0saV86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkpDLnBvcCgpLHQ9ZS5zaGlmdCgpO3QgaW5zdGFuY2VvZiBBcnJheSYmKHRoaXMuSkMucHVzaChlKSxlPXQsdD1lLnNoaWZ0KCkpO3ZhciByPXt9O3JldHVybiByLm5fPVRocmlmdC5DQy5fQ1t0XSxyLnNfPVRocmlmdC5DQy5fQ1tlLnNoaWZ0KCldLHIuc2l6ZT1lLnNoaWZ0KCksdGhpcy56Yi5wdXNoKHRoaXMuSkMubGVuZ3RoKSx0aGlzLkpDLnB1c2goZS5zaGlmdCgpKSxyfSxvXzpmdW5jdGlvbigpe3RoaXMuVWIoKX0sYV86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdLHQ9e307cmV0dXJuIHQuaF89VGhyaWZ0LkNDLl9DW2Uuc2hpZnQoKV0sdC5zaXplPWUuc2hpZnQoKSx0aGlzLnpiLnB1c2godGhpcy5KQy5sZW5ndGgpLHRoaXMuSkMucHVzaChlKSx0fSxjXzpmdW5jdGlvbigpe3RoaXMuVWIoKX0sdV86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hXyhlLHQpfSxsXzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNfKCl9LHBfOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5GYigpO3JldHVybiBudWxsIT09ZSYmXCIxXCI9PWUudmFsdWU/ZS52YWx1ZT0hMDplLnZhbHVlPSExLGV9LGRfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRmIoKX0sZl86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GYigpfSxGYjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdKTt2YXIgdD17fTtpZihlIGluc3RhbmNlb2YgQXJyYXkpMD09PWUubGVuZ3RoP3QudmFsdWU9dm9pZCAwOnQudmFsdWU9ZS5zaGlmdCgpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7Zm9yKHZhciByIGluIGUpaWYobnVsbCE9PXIpe3RoaXMuSkMucHVzaChlW3JdKSxkZWxldGUgZVtyXSx0LnZhbHVlPXI7YnJlYWt9fWVsc2UgdC52YWx1ZT1lLHRoaXMuSkMucG9wKCk7cmV0dXJuIHR9LGdfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRmIoKX0sRV86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GYigpfSxMYjpmdW5jdGlvbigpe3JldHVybiB0aGlzLkZiKCl9LHZfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTGIoKX0sTWI6ZnVuY3Rpb24oZSl7dmFyIHQscjtzd2l0Y2goZSl7Y2FzZSBUaHJpZnQuVHlwZS5TVE9QOnJldHVybiBudWxsO2Nhc2UgVGhyaWZ0LlR5cGUuQk9PTDpyZXR1cm4gdGhpcy5wXygpO2Nhc2UgVGhyaWZ0LlR5cGUuQllURTpyZXR1cm4gdGhpcy5kXygpO2Nhc2UgVGhyaWZ0LlR5cGUuSTE2OnJldHVybiB0aGlzLmZfKCk7Y2FzZSBUaHJpZnQuVHlwZS5JMzI6cmV0dXJuIHRoaXMuRmIoKTtjYXNlIFRocmlmdC5UeXBlLkk2NDpyZXR1cm4gdGhpcy5nXygpO2Nhc2UgVGhyaWZ0LlR5cGUuRE9VQkxFOnJldHVybiB0aGlzLkVfKCk7Y2FzZSBUaHJpZnQuVHlwZS5TVFJJTkc6cmV0dXJuIHRoaXMuTGIoKTtjYXNlIFRocmlmdC5UeXBlLlNUUlVDVDpmb3IodGhpcy5yXygpOzspe2lmKHQ9dGhpcy5rYigpLHQuZnR5cGU9PVRocmlmdC5UeXBlLlNUT1ApYnJlYWs7dGhpcy5NYih0LmZ0eXBlKSx0aGlzLlViKCl9cmV0dXJuIHRoaXMuQmIoKSxudWxsO2Nhc2UgVGhyaWZ0LlR5cGUuTUFQOmZvcih0PXRoaXMuaV8oKSxyPTA7cjx0LnNpemU7cisrKXI+MCYmdGhpcy5KQy5sZW5ndGg+dGhpcy56Ylt0aGlzLnpiLmxlbmd0aC0xXSsxJiZ0aGlzLkpDLnBvcCgpLHRoaXMuTWIodC5uXyksdGhpcy5NYih0LnNfKTtyZXR1cm4gdGhpcy5vXygpLG51bGw7Y2FzZSBUaHJpZnQuVHlwZS5TRVQ6Zm9yKHQ9dGhpcy51XygpLHI9MDtyPHQuc2l6ZTtyKyspdGhpcy5NYih0LmhfKTtyZXR1cm4gdGhpcy5sXygpLG51bGw7Y2FzZSBUaHJpZnQuVHlwZS5MSVNUOmZvcih0PXRoaXMuYV8oKSxyPTA7cjx0LnNpemU7cisrKXRoaXMuTWIodC5oXyk7cmV0dXJuIHRoaXMuY18oKSxudWxsfX19LFRocmlmdC55Xz1mdW5jdGlvbihlLHQscixpKXtUaHJpZnQuQ0MuY2FsbCh0aGlzLHQscixpKSx0aGlzLlRfPWV9LFRocmlmdC52YihUaHJpZnQueV8sVGhyaWZ0LkNDLFwibXVsdGlwbGV4UHJvdG9jb2xcIiksVGhyaWZ0LnlfLnByb3RvdHlwZS5BQz1mdW5jdGlvbihlLHQscil7dD09PVRocmlmdC5nYi5DQUxMfHx0PT09VGhyaWZ0LmdiLk9ORVdBWT9UaHJpZnQuQ0MucHJvdG90eXBlLkFDLmNhbGwodGhpcyx0aGlzLlRfK1wiOlwiK2UsdCxyKTpUaHJpZnQuQ0MucHJvdG90eXBlLkFDLmNhbGwodGhpcyxlLHQscil9LFRocmlmdC5tXz1mdW5jdGlvbigpe3RoaXMuSV89MH0sVGhyaWZ0Lm1fLnByb3RvdHlwZS5TXz1mdW5jdGlvbihlLHQscil7dC5xbCYmKHQ9dC5xbCk7dmFyIGk9dGhpcztyZXR1cm4gdC5wcm90b3R5cGUuUl89ZnVuY3Rpb24oKXtyZXR1cm4gaS5JXys9MSxpLklffSxuZXcgdChuZXcgVGhyaWZ0LnlfKGUscikpfSxtb2R1bGUuaT1UaHJpZnR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDkpLG49cigyOCkscz1uLmNnLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvLGEsaCl7dGhpcy5jb250ZXh0SWQ9aCx0aGlzLnVybD1lLHRoaXMud189cix0aGlzLmJfPXQsdGhpcy5DXz1pLHRoaXMuZHVyYXRpb249bix0aGlzLmJpdHJhdGU9byx0aGlzLl9fPWE7dmFyIGM9KHRoaXMuY29udGV4dElkP3RoaXMuY29udGV4dElkOnRoaXMudXJsKS5yZXBsYWNlKC9odHRwKHMpPzpcXC9cXC8vLFwiXCIpLHU9cy5vVChjKS50b1N0cmluZyhzLlV5LkJ5KTt0aGlzLlBfPXUrXCItXCIrdGhpcy5DXytcIi1cIit0aGlzLmJpdHJhdGV9cmV0dXJuIGUucHJvdG90eXBlLlhmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYl99LGUucHJvdG90eXBlLkFfPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ199LGUucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb259LGUucHJvdG90eXBlLmdldEJpdHJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaXRyYXRlfSxlLnByb3RvdHlwZS5pZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ffSxlLnByb3RvdHlwZS5PXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLndffSxlLnByb3RvdHlwZS5aZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBffSxlLnByb3RvdHlwZS50Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gaS52Y1t0aGlzLlhmKCldK1wiLVwiK3RoaXMuWmYoKX0sZX0oKTt0Lk5fPW99LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7dmFyIG4sczsvKipcbiAqIEBsaWNlbnNlIEJ5dGVCdWZmZXIuanMgKGMpIDIwMTMtMjAxNCBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPlxuICogVGhpcyB2ZXJzaW9uIG9mIEJ5dGVCdWZmZXIuanMgdXNlcyBhbiBBcnJheUJ1ZmZlciBhcyBpdHMgYmFja2luZyBidWZmZXIgd2hpY2ggaXMgYWNjZXNzZWQgdGhyb3VnaCBhIERhdGFWaWV3IGFuZCBpc1xuICogY29tcGF0aWJsZSB3aXRoIG1vZGVybiBicm93c2Vycy5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vQnl0ZUJ1ZmZlci5qcyBmb3IgZGV0YWlsc1xuICovXG4hZnVuY3Rpb24obyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ8ZS5sZW5ndGg/ZS5jaGFyQ29kZUF0KHQrKyk6bnVsbH19ZnVuY3Rpb24gcigpe3ZhciBlPVtdLHQ9W107cmV0dXJuIGZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQuam9pbihcIlwiKSthLmFwcGx5KFN0cmluZyxlKTtlLmxlbmd0aCthcmd1bWVudHMubGVuZ3RoPjEwMjQmJih0LnB1c2goYS5hcHBseShTdHJpbmcsZSkpLGUubGVuZ3RoPTApLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKX19dmFyIG49ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUmJihlPW4uRF8pLHZvaWQgMD09PXQmJih0PW4ua18pLHZvaWQgMD09PXImJihyPW4uTF8pLCFyKXtpZigoZXw9MCk8MCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eVwiKTt0PSEhdCxyPSEhcn10aGlzLmJ1ZmZlcj0wPT09ZT9vOm5ldyBBcnJheUJ1ZmZlcihlKSx0aGlzLnZpZXc9MD09PWU/bnVsbDpuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMub2Zmc2V0PTAsdGhpcy5NXz0tMSx0aGlzLkZfPWUsdGhpcy5VXz12b2lkIDAhPT10JiYhIXQsdGhpcy5CXz0hIXJ9O24uVkVSU0lPTj1cIjMuNS41XCIsbi5IXz0hMCxuLnhfPSExLG4uRF89MTYsbi5rXz1uLnhfLG4uTF89ITEsbi5xXz1lfHxudWxsO3ZhciBzPW4ucHJvdG90eXBlLG89bmV3IEFycmF5QnVmZmVyKDApLGE9U3RyaW5nLmZyb21DaGFyQ29kZTtuLkdfPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IG4oZSx0LHIpfSxuLmNvbmNhdD1mdW5jdGlvbihlLHQscixpKXtcImJvb2xlYW5cIiE9dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0fHwoaT1yLHI9dCx0PXZvaWQgMCk7Zm9yKHZhciBzLG89MCxhPTAsaD1lLmxlbmd0aDthPGg7KythKW4uVl8oZVthXSl8fChlW2FdPW4ud3JhcChlW2FdLHQpKSwocz1lW2FdLkZfLWVbYV0ub2Zmc2V0KT4wJiYobys9cyk7aWYoMD09PW8pcmV0dXJuIG5ldyBuKDAscixpKTt2YXIgYyx1PW5ldyBuKG8scixpKSxsPW5ldyBVaW50OEFycmF5KHUuYnVmZmVyKTtmb3IoYT0wO2E8aDspYz1lW2ErK10sKHM9Yy5GXy1jLm9mZnNldCk8PTB8fChsLnNldChuZXcgVWludDhBcnJheShjLmJ1ZmZlcikuc3ViYXJyYXkoYy5vZmZzZXQsYy5GXyksdS5vZmZzZXQpLHUub2Zmc2V0Kz1zKTtyZXR1cm4gdS5GXz11Lm9mZnNldCx1Lm9mZnNldD0wLHV9LG4uVl89ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT0oZSYmZSBpbnN0YW5jZW9mIG4pfSxuLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXlCdWZmZXJ9LG4ud3JhcD1mdW5jdGlvbihlLHQscixvKXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmKG89cixyPXQsdD12b2lkIDApLFwic3RyaW5nXCI9PXR5cGVvZiBlKXN3aXRjaCh2b2lkIDA9PT10JiYodD1cInV0ZjhcIiksdCl7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIG4ual8oZSxyKTtjYXNlXCJoZXhcIjpyZXR1cm4gbi5RXyhlLHIpO2Nhc2VcImJpbmFyeVwiOnJldHVybiBuLktfKGUscik7Y2FzZVwidXRmOFwiOnJldHVybiBuLllfKGUscik7Y2FzZVwiZGVidWdcIjpyZXR1cm4gbi5XXyhlLHIpO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBlbmNvZGluZzogXCIrdCl9aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYnVmZmVyXCIpO3ZhciBhO2lmKG4uVl8oZSkpcmV0dXJuIGE9cy5jbG9uZS5jYWxsKGUpLGEuTV89LTEsYTtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSlhPW5ldyBuKDAscixvKSxlLmxlbmd0aD4wJiYoYS5idWZmZXI9ZS5idWZmZXIsYS5vZmZzZXQ9ZS5ieXRlT2Zmc2V0LGEuRl89ZS5ieXRlT2Zmc2V0K2UubGVuZ3RoLGEudmlldz1lLmxlbmd0aD4wP25ldyBEYXRhVmlldyhlLmJ1ZmZlcik6bnVsbCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpYT1uZXcgbigwLHIsbyksZS5ieXRlTGVuZ3RoPjAmJihhLmJ1ZmZlcj1lLGEub2Zmc2V0PTAsYS5GXz1lLmJ5dGVMZW5ndGgsYS52aWV3PWUuYnl0ZUxlbmd0aD4wP25ldyBEYXRhVmlldyhlKTpudWxsKTtlbHNle2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJ1ZmZlclwiKTtmb3IoYT1uZXcgbihlLmxlbmd0aCxyLG8pLGEuRl89ZS5sZW5ndGgsaT0wO2k8ZS5sZW5ndGg7KytpKWEudmlldy5zZXRVaW50OChpLGVbaV0pfXJldHVybiBhfSxzLnpfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9MTt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09MSx0aGlzLnZpZXcuc2V0SW50OCh0LGUpLHImJih0aGlzLm9mZnNldCs9MSksdGhpc30scy5qQz1zLnpfLHMuSl89ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQ4KGUpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTEpLHJ9LHMuZF89cy5KXyxzLlhfPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0xO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0xLHRoaXMudmlldy5zZXRVaW50OCh0LGUpLHImJih0aGlzLm9mZnNldCs9MSksdGhpc30scy5aXz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQ4KGUpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTEpLHJ9LHMuZVA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0yO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0yLHRoaXMudmlldy5zZXRJbnQxNih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz0yKSx0aGlzfSxzLnRQPXMuZVAscy5yUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMikgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDE2KGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9Mikscn0scy5pUD1zLnJQLHMublA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTI7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTIsdGhpcy52aWV3LnNldFVpbnQxNih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz0yKSx0aGlzfSxzLnNQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDE2KGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9Mikscn0scy5vUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTQ7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTQsdGhpcy52aWV3LnNldEludDMyKHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LHMuQmc9cy5vUCxzLmFQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50MzIoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz00KSxyfSxzLlFnPXMuYVAscy5oUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0VWludDMyKHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LHMuY1A9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50MzIoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz00KSxyfSxlJiYocy51UD1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuREUodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUua0UodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUua0UodCkpLHIrPTg7dmFyIG49dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5uJiZ0aGlzLnJlc2l6ZSgobio9Mik+cj9uOnIpLHItPTgsdGhpcy5VXz8odGhpcy52aWV3LnNldEludDMyKHIsdC5sb3csITApLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5oaWdoLCEwKSk6KHRoaXMudmlldy5zZXRJbnQzMihyLHQuaGlnaCwhMSksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmxvdywhMSkpLGkmJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5sUD1zLnVQLHMucFA9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0Kzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXRoaXMuVV8/bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQsITApLHRoaXMudmlldy5nZXRJbnQzMih0KzQsITApLCExKTpuZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCExKSx0aGlzLnZpZXcuZ2V0SW50MzIodCwhMSksITEpO3JldHVybiByJiYodGhpcy5vZmZzZXQrPTgpLGl9LHMuZFA9cy5wUCxzLmZQPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5ERSh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5rRSh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5rRSh0KSkscis9ODt2YXIgbj10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm4mJnRoaXMucmVzaXplKChuKj0yKT5yP246ciksci09OCx0aGlzLlVfPyh0aGlzLnZpZXcuc2V0SW50MzIocix0LmxvdywhMCksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmhpZ2gsITApKToodGhpcy52aWV3LnNldEludDMyKHIsdC5oaWdoLCExKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQubG93LCExKSksaSYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLmdQPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCs4PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCs4KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10aGlzLlVfP25ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0LCEwKSx0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCEwKSwhMCk6bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQrNCwhMSksdGhpcy52aWV3LmdldEludDMyKHQsITEpLCEwKTtyZXR1cm4gciYmKHRoaXMub2Zmc2V0Kz04KSxpfSkscy5FUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYSBudW1iZXIpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTQ7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTQsdGhpcy52aWV3LnNldEZsb2F0MzIodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy52UD1zLkVQLHMueVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRGbG9hdDMyKGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9NCkscn0scy5UUD1zLnlQLHMubVA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGEgbnVtYmVyKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz04O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT04LHRoaXMudmlldy5zZXRGbG9hdDY0KHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMuWUM9cy5tUCxzLklQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs4PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs4KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0RmxvYXQ2NChlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTgpLHJ9LHMuRV89cy5JUCxuLlNQPTUsbi5SUD1mdW5jdGlvbihlKXtyZXR1cm4gZT4+Pj0wLGU8MTI4PzE6ZTwxNjM4ND8yOmU8MTw8MjE/MzplPDE8PDI4PzQ6NX0sbi53UD1mdW5jdGlvbihlKXtyZXR1cm4oKGV8PTApPDwxXmU+PjMxKT4+PjB9LG4uYlA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+Pj4xXi0oMSZlKXwwfSxzLkNQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGkscz1uLlJQKGUpO3QrPXM7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+dD9vOnQpLHQtPXMsdGhpcy52aWV3LnNldFVpbnQ4KHQsaT0xMjh8ZSksZT4+Pj0wLGU+PTEyOD8oaT1lPj43fDEyOCx0aGlzLnZpZXcuc2V0VWludDgodCsxLGkpLGU+PTE2Mzg0PyhpPWU+PjE0fDEyOCx0aGlzLnZpZXcuc2V0VWludDgodCsyLGkpLGU+PTE8PDIxPyhpPWU+PjIxfDEyOCx0aGlzLnZpZXcuc2V0VWludDgodCszLGkpLGU+PTE8PDI4Pyh0aGlzLnZpZXcuc2V0VWludDgodCs0LGU+PjI4JjE1KSxzPTUpOih0aGlzLnZpZXcuc2V0VWludDgodCszLDEyNyZpKSxzPTQpKToodGhpcy52aWV3LnNldFVpbnQ4KHQrMiwxMjcmaSkscz0zKSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzEsMTI3JmkpLHM9MikpOih0aGlzLnZpZXcuc2V0VWludDgodCwxMjcmaSkscz0xKSxyPyh0aGlzLm9mZnNldCs9cyx0aGlzKTpzfSxzLl9QPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuQ1Aobi53UChlKSx0KX0scy5QUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHIsaSxuPTAscz0wO2Rve2lmKGk9ZStuLCF0aGlzLkJfJiZpPnRoaXMuRl8pe3ZhciBvPUVycm9yKFwiVHJ1bmNhdGVkXCIpO3Rocm93IG8uQVA9ITAsb31yPXRoaXMudmlldy5nZXRVaW50OChpKSxuPDUmJihzfD0oMTI3JnIpPDw3Km4+Pj4wKSwrK259d2hpbGUoMTI4PT0oMTI4JnIpKTtyZXR1cm4gc3w9MCx0Pyh0aGlzLm9mZnNldCs9bixzKTp7dmFsdWU6cyxsZW5ndGg6bn19LHMuT1A9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5QUChlKTtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD90LnZhbHVlPW4uYlAodC52YWx1ZSk6dD1uLmJQKHQpLHR9LGUmJihuLk5QPTEwLG4uRFA9ZnVuY3Rpb24odCl7XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmtFKHQpKTt2YXIgcj10LmtQKCk+Pj4wLGk9dC5MUCgyOCkua1AoKT4+PjAsbj10LkxQKDU2KS5rUCgpPj4+MDtyZXR1cm4gMD09bj8wPT1pP3I8MTYzODQ/cjwxMjg/MToyOnI8MTw8MjE/Mzo0Omk8MTYzODQ/aTwxMjg/NTo2Omk8MTw8MjE/Nzo4Om48MTI4Pzk6MTB9LG4uTVA9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQsITEpOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9ZS5rRSh0LCExKTohMSE9PXQuRlAmJih0PXQuVVAoKSksdC5zaGlmdExlZnQoMSkucFQodC5IUCg2MykpLkJQKCl9LG4ueFA9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQsITEpOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9ZS5rRSh0LCExKTohMSE9PXQuRlAmJih0PXQuVVAoKSksdC5MUCgxKS5wVCh0LnFQKGUuT05FKS5VUCgpLnFFKCkpLlVQKCl9LHMuR1A9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLkRFKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmtFKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQsITEpOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9ZS5rRSh0LCExKTohMSE9PXQuRlAmJih0PXQuVVAoKSk7dmFyIHM9bi5EUCh0KSxvPXQua1AoKT4+PjAsYT10LkxQKDI4KS5rUCgpPj4+MCxoPXQuTFAoNTYpLmtQKCk+Pj4wO3IrPXM7dmFyIGM9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtzd2l0Y2gocj5jJiZ0aGlzLnJlc2l6ZSgoYyo9Mik+cj9jOnIpLHItPXMscyl7Y2FzZSAxMDp0aGlzLnZpZXcuc2V0VWludDgocis5LGg+Pj43JjEpO2Nhc2UgOTp0aGlzLnZpZXcuc2V0VWludDgocis4LDkhPT1zPzEyOHxoOjEyNyZoKTtjYXNlIDg6dGhpcy52aWV3LnNldFVpbnQ4KHIrNyw4IT09cz9hPj4+MjF8MTI4OmE+Pj4yMSYxMjcpO2Nhc2UgNzp0aGlzLnZpZXcuc2V0VWludDgocis2LDchPT1zP2E+Pj4xNHwxMjg6YT4+PjE0JjEyNyk7Y2FzZSA2OnRoaXMudmlldy5zZXRVaW50OChyKzUsNiE9PXM/YT4+Pjd8MTI4OmE+Pj43JjEyNyk7Y2FzZSA1OnRoaXMudmlldy5zZXRVaW50OChyKzQsNSE9PXM/MTI4fGE6MTI3JmEpO2Nhc2UgNDp0aGlzLnZpZXcuc2V0VWludDgociszLDQhPT1zP28+Pj4yMXwxMjg6bz4+PjIxJjEyNyk7Y2FzZSAzOnRoaXMudmlldy5zZXRVaW50OChyKzIsMyE9PXM/bz4+PjE0fDEyODpvPj4+MTQmMTI3KTtjYXNlIDI6dGhpcy52aWV3LnNldFVpbnQ4KHIrMSwyIT09cz9vPj4+N3wxMjg6bz4+PjcmMTI3KTtjYXNlIDE6dGhpcy52aWV3LnNldFVpbnQ4KHIsMSE9PXM/MTI4fG86MTI3Jm8pfXJldHVybiBpPyh0aGlzLm9mZnNldCs9cyx0aGlzKTpzfSxzLlZQPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuR1Aobi5NUChlKSx0KX0scy5qUD1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dCxuPTAscz0wLG89MCxhPTA7aWYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxuPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxufD0oMTI3JmEpPDw3LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxufD0oMTI3JmEpPDwxNCwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbnw9KDEyNyZhKTw8MjEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHM9MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHN8PSgxMjcmYSk8PDcsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHN8PSgxMjcmYSk8PDE0LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzfD0oMTI3JmEpPDwyMSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbz0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksb3w9KDEyNyZhKTw8NywxMjgmYSkpKSkpKSkpKSl0aHJvdyBFcnJvcihcIkJ1ZmZlciBvdmVycnVuXCIpO3ZhciBoPWUucUkobnxzPDwyOCxzPj4+NHxvPDwyNCwhMSk7cmV0dXJuIHI/KHRoaXMub2Zmc2V0PXQsaCk6e3ZhbHVlOmgsbGVuZ3RoOnQtaX19LHMuUVA9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5qUCh0KTtyZXR1cm4gciYmci52YWx1ZSBpbnN0YW5jZW9mIGU/ci52YWx1ZT1uLnhQKHIudmFsdWUpOnI9bi54UChyKSxyfSkscy5IZz1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aSYmKHI9dGhpcy5vZmZzZXQpO3ZhciBuLHM9ZS5sZW5ndGg7aWYoIXRoaXMuQl8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7Zm9yKG49MDtuPHM7KytuKWlmKDA9PT1lLmNoYXJDb2RlQXQobikpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc3RyOiBDb250YWlucyBOVUxMLWNoYXJhY3RlcnNcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cz1jLktQKHQoZSkpWzFdLHIrPXMrMTt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm8mJnRoaXMucmVzaXplKChvKj0yKT5yP286ciksci09cysxLGMuWVAodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSx0aGlzLnZpZXcuc2V0VWludDgocisrLDApLGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6c30scy5ZZz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbj1lLHM9LTE7cmV0dXJuIGMuV1AoZnVuY3Rpb24oKXtpZigwPT09cylyZXR1cm4gbnVsbDtpZihlPj10aGlzLkZfKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrZStcIiA8IFwiK3RoaXMuRl8pO3JldHVybiAwPT09KHM9dGhpcy52aWV3LmdldFVpbnQ4KGUrKykpP251bGw6c30uYmluZCh0aGlzKSxpPXIoKSwhMCksdD8odGhpcy5vZmZzZXQ9ZSxpKCkpOntzdHJpbmc6aSgpLGxlbmd0aDplLW59fSxzLnpQPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG4scz1yO249Yy5LUCh0KGUpLHRoaXMuQl8pWzFdLHIrPTQrbjt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT00K24sdGhpcy52aWV3LnNldFVpbnQzMihyLG4sdGhpcy5VXykscis9NCxjLllQKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksciE9PXMrNCtuKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrcitcIiA9PSBcIisocis0K24pKTtyZXR1cm4gaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpyLXN9LHMuSlA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49MCxzPWU7bj10aGlzLnZpZXcuZ2V0VWludDMyKGUsdGhpcy5VXyksZSs9NDt2YXIgbyxhPWUrbjtyZXR1cm4gYy5XUChmdW5jdGlvbigpe3JldHVybiBlPGE/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxvPXIoKSx0aGlzLkJfKSxpPW8oKSx0Pyh0aGlzLm9mZnNldD1lLGkpOntzdHJpbmc6aSxsZW5ndGg6ZS1zfX0sbi5YUD1cImNcIixuLlpQPVwiYlwiLHMuJFA9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG4scz1yO249Yy5LUCh0KGUpKVsxXSxyKz1uO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1uLGMuWVAodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItc30scy5xYj1zLiRQLG4uZUE9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuS1AodChlKSlbMF19LG4udEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuS1AodChlKSlbMV19LHMuckE9ZnVuY3Rpb24oZSx0LGkpe1wibnVtYmVyXCI9PXR5cGVvZiB0JiYoaT10LHQ9dm9pZCAwKTt2YXIgcz12b2lkIDA9PT1pO2lmKHMmJihpPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD1uLlhQKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIGl8fGklMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIraStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChpPj4+PTApPDB8fGkrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitpK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG8sYT0wLGg9aTtpZih0PT09bi5YUCl7aWYobz1yKCksYy5pQShmdW5jdGlvbigpe3JldHVybiBhPGUmJmk8dGhpcy5GXz90aGlzLnZpZXcuZ2V0VWludDgoaSsrKTpudWxsfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGUpeysrYSxjLm5BKGUsbyl9LmJpbmQodGhpcykpLGEhPT1lKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrYStcIiA9PSBcIitlKTtyZXR1cm4gcz8odGhpcy5vZmZzZXQ9aSxvKCkpOntzdHJpbmc6bygpLGxlbmd0aDppLWh9fWlmKHQ9PT1uLlpQKXtpZighdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGl8fGklMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIraStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChpPj4+PTApPDB8fGkrZT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitpK1wiICgrXCIrZStcIikgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHU9aStlO2lmKGMuV1AoZnVuY3Rpb24oKXtyZXR1cm4gaTx1P3RoaXMudmlldy5nZXRVaW50OChpKyspOm51bGx9LmJpbmQodGhpcyksbz1yKCksdGhpcy5CXyksaSE9PXUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitpK1wiID09IFwiK3UpO3JldHVybiBzPyh0aGlzLm9mZnNldD1pLG8oKSk6e3N0cmluZzpvKCksbGVuZ3RoOmktaH19dGhyb3cgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgbWV0cmljczogXCIrdCl9LHMuTGI9cy5yQSxzLnNBPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHMsbyxhPXI7cz1jLktQKHQoZSksdGhpcy5CXylbMV0sbz1uLlJQKHMpLHIrPW8rczt2YXIgaD10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHI+aCYmdGhpcy5yZXNpemUoKGgqPTIpPnI/aDpyKSxyLT1vK3Mscis9dGhpcy5DUChzLHIpLGMuWVAodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxyIT09YStzK28pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIityK1wiID09IFwiKyhyK3MrbykpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItYX0scy5vQT1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbj10aGlzLlBQKGUpLHM9ZTtlKz1uLmxlbmd0aCxuPW4udmFsdWU7dmFyIG89ZStuLGE9cigpO3JldHVybiBjLldQKGZ1bmN0aW9uKCl7cmV0dXJuIGU8bz90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGEsdGhpcy5CXyksaT1hKCksdD8odGhpcy5vZmZzZXQ9ZSxpKTp7c3RyaW5nOmksbGVuZ3RoOmUtc319LHMuYXBwZW5kPWZ1bmN0aW9uKGUsdCxyKXtcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChyPXQsdD12b2lkIDApO3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lIGluc3RhbmNlb2Ygbnx8KGU9bi53cmFwKGUsdCkpO3ZhciBzPWUuRl8tZS5vZmZzZXQ7aWYoczw9MClyZXR1cm4gdGhpcztyKz1zO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1zLG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLHIpLnNldChuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc3ViYXJyYXkoZS5vZmZzZXQsZS5GXykpLGUub2Zmc2V0Kz1zLGkmJih0aGlzLm9mZnNldCs9cyksdGhpc30scy5hQT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGVuZCh0aGlzLHQpLHRoaXN9LHMuYXNzZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkJfPSFlLHRoaXN9LHMuaEE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aH0scy5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldD0wLHRoaXMuRl89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCx0aGlzLk1fPS0xLHRoaXN9LHMuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG4oMCx0aGlzLlVfLHRoaXMuQl8pO2lmKGUpe3ZhciByPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTtuZXcgVWludDhBcnJheShyKS5zZXQodGhpcy5idWZmZXIpLHQuYnVmZmVyPXIsdC52aWV3PW5ldyBEYXRhVmlldyhyKX1lbHNlIHQuYnVmZmVyPXRoaXMuYnVmZmVyLHQudmlldz10aGlzLnZpZXc7cmV0dXJuIHQub2Zmc2V0PXRoaXMub2Zmc2V0LHQuTV89dGhpcy5NXyx0LkZfPXRoaXMuRl8sdH0scy5jb21wYWN0PWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoMD09PWUmJnQ9PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB0aGlzO3ZhciByPXQtZTtpZigwPT09cilyZXR1cm4gdGhpcy5idWZmZXI9byx0aGlzLnZpZXc9bnVsbCx0aGlzLk1fPj0wJiYodGhpcy5NXy09ZSksdGhpcy5vZmZzZXQ9MCx0aGlzLkZfPTAsdGhpczt2YXIgaT1uZXcgQXJyYXlCdWZmZXIocik7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkoZSx0KSksdGhpcy5idWZmZXI9aSx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KGkpLHRoaXMuTV8+PTAmJih0aGlzLk1fLT1lKSx0aGlzLm9mZnNldD0wLHRoaXMuRl89cix0aGlzfSxzLmNBPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoZT09PXQpcmV0dXJuIG5ldyBuKDAsdGhpcy5VXyx0aGlzLkJfKTt2YXIgcj10LWUsaT1uZXcgbihyLHRoaXMuVV8sdGhpcy5CXyk7cmV0dXJuIGkub2Zmc2V0PTAsaS5GXz1yLGkuTV8+PTAmJihpLk1fLT1lKSx0aGlzLmpFKGksMCxlLHQpLGl9LHMuakU9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIHMsbztpZighdGhpcy5CXyYmIW4uVl8oZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB0YXJnZXQ6IE5vdCBhIEJ5dGVCdWZmZXJcIik7aWYodD0obz12b2lkIDA9PT10KT9lLm9mZnNldDowfHQscj0ocz12b2lkIDA9PT1yKT90aGlzLm9mZnNldDowfHIsaT12b2lkIDA9PT1pP3RoaXMuRl86MHxpLHQ8MHx8dD5lLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHRhcmdldCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK2UuYnVmZmVyLmJ5dGVMZW5ndGgpO2lmKHI8MHx8aT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHNvdXJjZSByYW5nZTogMCA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO3ZhciBhPWktcjtyZXR1cm4gMD09PWE/ZTooZS51QSh0K2EpLG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KHIsaSksdCkscyYmKHRoaXMub2Zmc2V0Kz1hKSxvJiYoZS5vZmZzZXQrPWEpLHRoaXMpfSxzLnVBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ8ZT90aGlzLnJlc2l6ZSgodCo9Mik+ZT90OmUpOnRoaXN9LHMuZmlsbD1mdW5jdGlvbihlLHQscil7dmFyIGk9dm9pZCAwPT09dDtpZihpJiYodD10aGlzLm9mZnNldCksXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoPjAmJihlPWUuY2hhckNvZGVBdCgwKSksdm9pZCAwPT09dCYmKHQ9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXImJihyPXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHI+Pj49MCx0PDB8fHQ+cnx8cj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZih0Pj1yKXJldHVybiB0aGlzO2Zvcig7dDxyOyl0aGlzLnZpZXcuc2V0VWludDgodCsrLGUpO3JldHVybiBpJiYodGhpcy5vZmZzZXQ9dCksdGhpc30scy54Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZfPXRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0PTAsdGhpc30scy5tYXJrPWZ1bmN0aW9uKGUpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1yZXR1cm4gdGhpcy5NXz1lLHRoaXN9LHMub3JkZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuQl8mJlwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxpdHRsZUVuZGlhbjogTm90IGEgYm9vbGVhblwiKTtyZXR1cm4gdGhpcy5VXz0hIWUsdGhpc30scy5sQT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5VXz12b2lkIDA9PT1lfHwhIWUsdGhpc30scy5wQT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5VXz12b2lkIDAhPT1lJiYhZSx0aGlzfSxzLmRBPWZ1bmN0aW9uKGUsdCxyKXtcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChyPXQsdD12b2lkIDApO3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lIGluc3RhbmNlb2Ygbnx8KGU9bi53cmFwKGUsdCkpO3ZhciBzPWUuRl8tZS5vZmZzZXQ7aWYoczw9MClyZXR1cm4gdGhpczt2YXIgbyxhPXMtcjtpZihhPjApe3ZhciBoPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoK2EpO289bmV3IFVpbnQ4QXJyYXkoaCksby5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KHIsdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkscyksdGhpcy5idWZmZXI9aCx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KGgpLHRoaXMub2Zmc2V0Kz1hLHRoaXMuTV8+PTAmJih0aGlzLk1fKz1hKSx0aGlzLkZfKz1hLHIrPWF9ZWxzZSBvPW5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtyZXR1cm4gby5zZXQobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnN1YmFycmF5KGUub2Zmc2V0LGUuRl8pLHItcyksZS5vZmZzZXQ9ZS5GXyxpJiYodGhpcy5vZmZzZXQtPXMpLHRoaXN9LHMuZkE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kQSh0aGlzLHQpLHRoaXN9LHMuZ0E9ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGU9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSksZSh0aGlzLnRvU3RyaW5nKCkrXCJcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIrdGhpcy5FQSghMCkpfSxzLnZBPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRl8tdGhpcy5vZmZzZXR9LHMucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NXz49MD8odGhpcy5vZmZzZXQ9dGhpcy5NXyx0aGlzLk1fPS0xKTp0aGlzLm9mZnNldD0wLHRoaXN9LHMucmVzaXplPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgY2FwYWNpdHk6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZXw9MCk8MCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eTogMCA8PSBcIitlKX1pZih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoPGUpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcihlKTtuZXcgVWludDhBcnJheSh0KS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpKSx0aGlzLmJ1ZmZlcj10LHRoaXMudmlldz1uZXcgRGF0YVZpZXcodCl9cmV0dXJuIHRoaXN9LHMucmV2ZXJzZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiBlPT09dD90aGlzOihBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShlLHQpKSx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyKSx0aGlzKX0scy5NYj1mdW5jdGlvbihlKXtpZighdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2V8PTB9dmFyIHQ9dGhpcy5vZmZzZXQrZTtpZighdGhpcy5CXyYmKHQ8MHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBsZW5ndGg6IDAgPD0gXCIrdGhpcy5vZmZzZXQrXCIgKyBcIitlK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO3JldHVybiB0aGlzLm9mZnNldD10LHRoaXN9LHMuc2xpY2U9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLmNsb25lKCk7cmV0dXJuIHIub2Zmc2V0PWUsci5GXz10LHJ9LHMueUE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQscj10aGlzLkZfO2lmKHQ+cil7dmFyIGk9dDt0PXIscj1pfWlmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxpbWl0OiBOb3QgYW4gaW50ZWdlclwiKTtpZihyPj4+PTAsdDwwfHx0PnJ8fHI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoIWUmJjA9PT10JiZyPT09dGhpcy5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5idWZmZXI7aWYodD09PXIpcmV0dXJuIG87dmFyIG49bmV3IEFycmF5QnVmZmVyKHItdCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4pLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkodCxyKSwwKSxufSxzLnRjPXMueUEscy50b1N0cmluZz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSlyZXR1cm5cIkJ5dGVCdWZmZXJBQihvZmZzZXQ9XCIrdGhpcy5vZmZzZXQrXCIsbWFya2VkT2Zmc2V0PVwiK3RoaXMuTV8rXCIsbGltaXQ9XCIrdGhpcy5GXytcIixjYXBhY2l0eT1cIit0aGlzLmhBKCkrXCIpXCI7c3dpdGNoKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1cInV0ZjhcIix0PWUscj10KSxlKXtjYXNlXCJ1dGY4XCI6cmV0dXJuIHRoaXMuVEEodCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdGhpcy5tQSh0LHIpO2Nhc2VcImhleFwiOnJldHVybiB0aGlzLklBKHQscik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHRoaXMuU0EodCxyKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiB0aGlzLkVBKCk7Y2FzZVwiY29sdW1uc1wiOnJldHVybiB0aGlzLlJBKCk7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIitlKX19O3ZhciBoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9WzY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNDMsNDddLHI9W10saT0wLG49dC5sZW5ndGg7aTxuOysraSlyW3RbaV1dPWk7cmV0dXJuIGUuZW5jb2RlPWZ1bmN0aW9uKGUscil7Zm9yKHZhciBpLG47bnVsbCE9PShpPWUoKSk7KXIodFtpPj4yJjYzXSksbj0oMyZpKTw8NCxudWxsIT09KGk9ZSgpKT8obnw9aT4+NCYxNSxyKHRbNjMmKG58aT4+NCYxNSldKSxuPSgxNSZpKTw8MixudWxsIT09KGk9ZSgpKT8ocih0WzYzJihufGk+PjYmMyldKSxyKHRbNjMmaV0pKToocih0WzYzJm5dKSxyKDYxKSkpOihyKHRbNjMmbl0pLHIoNjEpLHIoNjEpKX0sZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe3Rocm93IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgY29kZTogXCIrZSl9Zm9yKHZhciBuLHMsbztudWxsIT09KG49ZSgpKTspaWYocz1yW25dLHZvaWQgMD09PXMmJmkobiksbnVsbCE9PShuPWUoKSkmJihvPXJbbl0sdm9pZCAwPT09byYmaShuKSx0KHM8PDI+Pj4wfCg0OCZvKT4+NCksbnVsbCE9PShuPWUoKSkpKXtpZih2b2lkIDA9PT0ocz1yW25dKSl7aWYoNjE9PT1uKWJyZWFrO2kobil9aWYodCgoMTUmbyk8PDQ+Pj4wfCg2MCZzKT4+MiksbnVsbCE9PShuPWUoKSkpe2lmKHZvaWQgMD09PShvPXJbbl0pKXtpZig2MT09PW4pYnJlYWs7aShuKX10KCgzJnMpPDw2Pj4+MHxvKX19fSxlLnRlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuL14oPzpbQS1aYS16MC05K1xcL117NH0pKig/OltBLVphLXowLTkrXFwvXXsyfT09fFtBLVphLXowLTkrXFwvXXszfT0pPyQvLnRlc3QoZSl9LGV9KCk7cy5tQT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpO3JldHVybiBoLmVuY29kZShmdW5jdGlvbigpe3JldHVybiBlPHQ/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxpPXIoKSksaSgpfSxuLmpfPWZ1bmN0aW9uKGUscixpKXtpZighaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihlLmxlbmd0aCU0IT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBMZW5ndGggbm90IGEgbXVsdGlwbGUgb2YgNFwiKX12YXIgcz1uZXcgbihlLmxlbmd0aC80KjMscixpKSxvPTA7cmV0dXJuIGguZGVjb2RlKHQoZSksZnVuY3Rpb24oZSl7cy52aWV3LnNldFVpbnQ4KG8rKyxlKX0pLHMuRl89byxzfSxuLmJ0b2E9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uS18oZSkubUEoKX0sbi5hdG9iPWZ1bmN0aW9uKGUpe3JldHVybiBuLmpfKGUpLlNBKCl9LHMuU0E9ZnVuY3Rpb24oZSx0KXtpZihlPXZvaWQgMD09PWU/dGhpcy5vZmZzZXQ6ZSx0PXZvaWQgMD09PXQ/dGhpcy5GXzp0LCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoZT09PXQpcmV0dXJuXCJcIjtmb3IodmFyIHI9W10saT1bXTtlPHQ7KXIucHVzaCh0aGlzLnZpZXcuZ2V0VWludDgoZSsrKSksci5sZW5ndGg+PTEwMjQmJihpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscikpLHI9W10pO3JldHVybiBpLmpvaW4oXCJcIikrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscil9LG4uS189ZnVuY3Rpb24oZSx0LHIpe2lmKCFyJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2Zvcih2YXIgaSxzPTAsbz1lLmxlbmd0aCxhPW5ldyBuKG8sdCxyKTtzPG87KXtpZihpPWUuY2hhckNvZGVBdChzKSwhciYmaT4yNTUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2hhckNvZGUgYXQgXCIrcytcIjogMCA8PSBcIitpK1wiIDw9IDI1NVwiKTthLnZpZXcuc2V0VWludDgocysrLGkpfXJldHVybiBhLkZfPW8sYX0scy5FQT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj0tMSxpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgsbj1cIlwiLHM9XCJcIixvPVwiXCI7cjxpOyl7aWYoLTEhPT1yJiYodD10aGlzLnZpZXcuZ2V0VWludDgociksbis9dDwxNj9cIjBcIit0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOnQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCksZSYmKHMrPXQ+MzImJnQ8MTI3P1N0cmluZy5mcm9tQ2hhckNvZGUodCk6XCIuXCIpKSwrK3IsZSYmcj4wJiZyJTE2PT0wJiZyIT09aSl7Zm9yKDtuLmxlbmd0aDw1MTspbis9XCIgXCI7bys9bitzK1wiXFxuXCIsbj1zPVwiXCJ9cj09PXRoaXMub2Zmc2V0JiZyPT09dGhpcy5GXz9uKz1yPT09dGhpcy5NXz9cIiFcIjpcInxcIjpyPT09dGhpcy5vZmZzZXQ/bis9cj09PXRoaXMuTV8/XCJbXCI6XCI8XCI6cj09PXRoaXMuRl8/bis9cj09PXRoaXMuTV8/XCJdXCI6XCI+XCI6bis9cj09PXRoaXMuTV8/XCInXCI6ZXx8MCE9PXImJnIhPT1pP1wiIFwiOlwiXCJ9aWYoZSYmXCIgXCIhPT1uKXtmb3IoO24ubGVuZ3RoPDUxOyluKz1cIiBcIjtvKz1uK3MrXCJcXG5cIn1yZXR1cm4gZT9vOm59LG4uV189ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxzLG89ZS5sZW5ndGgsYT1uZXcgbigobysxKS8zfDAsdCxyKSxoPTAsYz0wLHU9ITEsbD0hMSxwPSExLGQ9ITEsZj0hMTtoPG87KXtzd2l0Y2goaT1lLmNoYXJBdChoKyspKXtjYXNlXCIhXCI6aWYoIXIpe2lmKGx8fHB8fGQpe2Y9ITA7YnJlYWt9bD1wPWQ9ITB9YS5vZmZzZXQ9YS5NXz1hLkZfPWMsdT0hMTticmVhaztjYXNlXCJ8XCI6aWYoIXIpe2lmKGx8fGQpe2Y9ITA7YnJlYWt9bD1kPSEwfWEub2Zmc2V0PWEuRl89Yyx1PSExO2JyZWFrO2Nhc2VcIltcIjppZighcil7aWYobHx8cCl7Zj0hMDticmVha31sPXA9ITB9YS5vZmZzZXQ9YS5NXz1jLHU9ITE7YnJlYWs7Y2FzZVwiPFwiOmlmKCFyKXtpZihsKXtmPSEwO2JyZWFrfWw9ITB9YS5vZmZzZXQ9Yyx1PSExO2JyZWFrO2Nhc2VcIl1cIjppZighcil7aWYoZHx8cCl7Zj0hMDticmVha31kPXA9ITB9YS5GXz1hLk1fPWMsdT0hMTticmVhaztjYXNlXCI+XCI6aWYoIXIpe2lmKGQpe2Y9ITA7YnJlYWt9ZD0hMH1hLkZfPWMsdT0hMTticmVhaztjYXNlXCInXCI6aWYoIXIpe2lmKHApe2Y9ITA7YnJlYWt9cD0hMH1hLk1fPWMsdT0hMTticmVhaztjYXNlXCIgXCI6dT0hMTticmVhaztkZWZhdWx0OmlmKCFyJiZ1KXtmPSEwO2JyZWFrfWlmKHM9cGFyc2VJbnQoaStlLmNoYXJBdChoKyspLDE2KSwhciYmKGlzTmFOKHMpfHxzPDB8fHM+MjU1KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmdcIik7YS52aWV3LnNldFVpbnQ4KGMrKyxzKSx1PSEwfWlmKGYpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IEludmFsaWQgc3ltYm9sIGF0IFwiK2gpfWlmKCFyKXtpZighbHx8IWQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE1pc3Npbmcgb2Zmc2V0IG9yIGxpbWl0XCIpO2lmKGM8YS5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmcgKGlzIGl0IGhleD8pIFwiK2MrXCIgPCBcIitvKX1yZXR1cm4gYX0scy5JQT1mdW5jdGlvbihlLHQpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLHQ9dm9pZCAwPT09dD90aGlzLkZfOnQsIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1mb3IodmFyIHIsaT1uZXcgQXJyYXkodC1lKTtlPHQ7KXI9dGhpcy52aWV3LmdldFVpbnQ4KGUrKykscjwxNj9pLnB1c2goXCIwXCIsci50b1N0cmluZygxNikpOmkucHVzaChyLnRvU3RyaW5nKDE2KSk7cmV0dXJuIGkuam9pbihcIlwiKX0sbi5RXz1mdW5jdGlvbihlLHQscil7aWYoIXIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoZS5sZW5ndGglMiE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTGVuZ3RoIG5vdCBhIG11bHRpcGxlIG9mIDJcIil9Zm9yKHZhciBpLHM9ZS5sZW5ndGgsbz1uZXcgbihzLzJ8MCx0KSxhPTAsaD0wO2E8czthKz0yKXtpZihpPXBhcnNlSW50KGUuc3Vic3RyaW5nKGEsYSsyKSwxNiksIXImJighaXNGaW5pdGUoaSl8fGk8MHx8aT4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBDb250YWlucyBub24taGV4IGNoYXJhY3RlcnNcIik7by52aWV3LnNldFVpbnQ4KGgrKyxpKX1yZXR1cm4gby5GXz1oLG99O3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUud0E9MTExNDExMSxlLmJBPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtmb3IoXCJudW1iZXJcIj09dHlwZW9mIGUmJihyPWUsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSk7bnVsbCE9PXJ8fG51bGwhPT0ocj1lKCkpOylyPDEyOD90KDEyNyZyKTpyPDIwNDg/KHQocj4+NiYzMXwxOTIpLHQoNjMmcnwxMjgpKTpyPDY1NTM2Pyh0KHI+PjEyJjE1fDIyNCksdChyPj42JjYzfDEyOCksdCg2MyZyfDEyOCkpOih0KHI+PjE4Jjd8MjQwKSx0KHI+PjEyJjYzfDEyOCksdChyPj42JjYzfDEyOCksdCg2MyZyfDEyOCkpLHI9bnVsbH0sZS5pQT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpLG4scyxvPWZ1bmN0aW9uKGUpe2U9ZS5zbGljZSgwLGUuaW5kZXhPZihudWxsKSk7dmFyIHQ9RXJyb3IoZS50b1N0cmluZygpKTt0aHJvdyB0Lm5hbWU9XCJUcnVuY2F0ZWRFcnJvclwiLHQuYnl0ZXM9ZSx0fTtudWxsIT09KHI9ZSgpKTspaWYoMD09KDEyOCZyKSl0KHIpO2Vsc2UgaWYoMTkyPT0oMjI0JnIpKW51bGw9PT0oaT1lKCkpJiZvKFtyLGldKSx0KCgzMSZyKTw8Nnw2MyZpKTtlbHNlIGlmKDIyND09KDI0MCZyKSkobnVsbD09PShpPWUoKSl8fG51bGw9PT0obj1lKCkpKSYmbyhbcixpLG5dKSx0KCgxNSZyKTw8MTJ8KDYzJmkpPDw2fDYzJm4pO2Vsc2V7aWYoMjQwIT0oMjQ4JnIpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0aW5nIGJ5dGU6IFwiK3IpOyhudWxsPT09KGk9ZSgpKXx8bnVsbD09PShuPWUoKSl8fG51bGw9PT0ocz1lKCkpKSYmbyhbcixpLG4sc10pLHQoKDcmcik8PDE4fCg2MyZpKTw8MTJ8KDYzJm4pPDw2fDYzJnMpfX0sZS5DQT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW51bGw7Oyl7aWYobnVsbD09PShyPW51bGwhPT1pP2k6ZSgpKSlicmVhaztyPj01NTI5NiYmcjw9NTczNDMmJm51bGwhPT0oaT1lKCkpJiZpPj01NjMyMCYmaTw9NTczNDM/KHQoMTAyNCooci01NTI5NikraS01NjMyMCs2NTUzNiksaT1udWxsKTp0KHIpfW51bGwhPT1pJiZ0KGkpfSxlLm5BPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtmb3IoXCJudW1iZXJcIj09dHlwZW9mIGUmJihyPWUsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSk7bnVsbCE9PXJ8fG51bGwhPT0ocj1lKCkpOylyPD02NTUzNT90KHIpOihyLT02NTUzNix0KDU1Mjk2KyhyPj4xMCkpLHQociUxMDI0KzU2MzIwKSkscj1udWxsfSxlLllQPWZ1bmN0aW9uKHQscil7ZS5DQSh0LGZ1bmN0aW9uKHQpe2UuYkEodCxyKX0pfSxlLldQPWZ1bmN0aW9uKHQscil7ZS5pQSh0LGZ1bmN0aW9uKHQpe2UubkEodCxyKX0pfSxlLl9BPWZ1bmN0aW9uKGUpe3JldHVybiBlPDEyOD8xOmU8MjA0OD8yOmU8NjU1MzY/Mzo0fSxlLlBBPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcixpPTA7bnVsbCE9PShyPXQoKSk7KWkrPWUuX0Eocik7cmV0dXJuIGl9LGUuS1A9ZnVuY3Rpb24odCl7dmFyIHI9MCxpPTA7cmV0dXJuIGUuQ0EodCxmdW5jdGlvbih0KXsrK3IsaSs9ZS5fQSh0KX0pLFtyLGldfSxlfSgpO3JldHVybiBzLlRBPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk7dHJ5e2MuV1AoZnVuY3Rpb24oKXtyZXR1cm4gZTx0P3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksaT1yKCkpfWNhdGNoKHIpe2lmKGUhPT10KXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrZStcIiAhPSBcIit0KX1yZXR1cm4gaSgpfSxuLllfPWZ1bmN0aW9uKGUscixpKXtpZighaSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTt2YXIgcz1uZXcgbihjLktQKHQoZSksITApWzFdLHIsaSksbz0wO3JldHVybiBjLllQKHQoZSksZnVuY3Rpb24oZSl7cy52aWV3LnNldFVpbnQ4KG8rKyxlKX0pLHMuRl89byxzfSxufVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdD9lLmk9ZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT1yKDkzKX1jYXRjaChlKXt9cmV0dXJuIGEoZSl9KCk6KG49W3IoOTQpXSx2b2lkIDAhPT0ocz1mdW5jdGlvbihlKXtyZXR1cm4gYShlKX0uYXBwbHkodCxuKSkmJihlLmk9cykpfSgpfSkuY2FsbCh0LHIoNjMpKGUpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMzcpO2UuaT1PYmplY3QsT2JqZWN0LmVtcHR5PU9iamVjdC5mcmVlemUoT2JqZWN0LmNyZWF0ZShudWxsKSksT2JqZWN0LmF1PWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZSk9PT1lfSxPYmplY3QuQUE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZiYmKGU9ZS52YWx1ZU9mKCkpLGV9O3ZhciBuPW5ldyBpO09iamVjdC5oYXNoPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmhhc2g/XCJcIitlLmhhc2goKTpPYmplY3QoZSk9PT1lPyhuLmhhcyhlKXx8bi5zZXQoZSxNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSksbi5nZXQoZSkpOlwiXCIrZX07dmFyIHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtPYmplY3QuT0E9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcy5jYWxsKGUsdCl9LE9iamVjdC5oYXM9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QuaGFzIGNhbid0IGFjY2VwdCBub24tb2JqZWN0OiBcIit0eXBlb2YgZSk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5oYXMpcmV0dXJuIGUuaGFzKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0IGluIGUmJmVbdF0hPT1PYmplY3QucHJvdG90eXBlW3RdO3Rocm93IG5ldyBFcnJvcihcIktleSBtdXN0IGJlIGEgc3RyaW5nIGZvciBPYmplY3QuaGFzIG9uIHBsYWluIG9iamVjdHNcIil9LE9iamVjdC5nZXQ9ZnVuY3Rpb24oZSx0LHIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIk9iamVjdC5nZXQgY2FuJ3QgYWNjZXB0IG5vbi1vYmplY3Q6IFwiK3R5cGVvZiBlKTtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXQ/ZS5nZXQodCxyKTpPYmplY3QuaGFzKGUsdCk/ZVt0XTpyfSxPYmplY3Quc2V0PWZ1bmN0aW9uKGUsdCxyKXtlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNldD9lLnNldCh0LHIpOmVbdF09cn0sT2JqZWN0LmFkZEVhY2g9ZnVuY3Rpb24oZSx0KXtpZih0KWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZm9yRWFjaHx8dC5oYXNPd25Qcm9wZXJ0eShcImZvckVhY2hcIikpaWYoXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWVbcl09dFtyXTtlbHNlIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7ZVtyXT10W3JdfSk7ZWxzZSEwPT09dC5pc01hcD90LmZvckVhY2goZnVuY3Rpb24odCxyKXtlW3JdPXR9KTp0LmZvckVhY2goZnVuY3Rpb24odCl7ZVt0WzBdXT10WzFdfSk7ZWxzZTtyZXR1cm4gZX0sT2JqZWN0LmZvckVhY2g9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxuPU9iamVjdC5rZXlzKGUpLHM9MDtpPW5bc107cysrKXQuY2FsbChyLGVbaV0saSxlKX0sT2JqZWN0Lm1hcD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG49T2JqZWN0LmtleXMoZSkscz0wLG89W107aT1uW3NdO3MrKylvLnB1c2godC5jYWxsKHIsZVtpXSxpLGUpKTtyZXR1cm4gb30sT2JqZWN0LnZhbHVlcz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0Lm1hcChlLEZ1bmN0aW9uLmlkZW50aXR5KX0sT2JqZWN0LmNvbmNhdD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylPYmplY3QuYWRkRWFjaChlLGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9LE9iamVjdC5mcm9tPU9iamVjdC5jb25jYXQsT2JqZWN0LmlzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT09ZSYmdCE9PXR9LE9iamVjdC5jcz1mdW5jdGlvbihlLHQscixuKXtpZihyPXJ8fE9iamVjdC5jcyxlPU9iamVjdC5BQShlKSx0PU9iamVjdC5BQSh0KSxlPT09dClyZXR1cm4hMDtpZihPYmplY3QuYXUoZSkpe2lmKG49bnx8bmV3IGksbi5oYXMoZSkpcmV0dXJuITA7bi5zZXQoZSwhMCl9aWYoT2JqZWN0LmF1KGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNzKXJldHVybiBlLmNzKHQscixuKTtpZihPYmplY3QuYXUodCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3MpcmV0dXJuIHQuY3MoZSxyLG4pO2lmKE9iamVjdC5hdShlKSYmT2JqZWN0LmF1KHQpJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1PYmplY3QucHJvdG90eXBlJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1PYmplY3QucHJvdG90eXBlKXtmb3IodmFyIHMgaW4gZSlpZighcihlW3NdLHRbc10scixuKSlyZXR1cm4hMTtmb3IodmFyIHMgaW4gdClpZighKHMgaW4gZSYmcih0W3NdLGVbc10scixuKSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGUhPT1lJiZ0IT09dHx8KCFlfHwhdCkmJmU9PT10fSxPYmplY3QuT2M9ZnVuY3Rpb24oZSx0KXtpZihlPU9iamVjdC5BQShlKSx0PU9iamVjdC5BQSh0KSxlPT09dClyZXR1cm4gMDt2YXIgcj10eXBlb2YgZSxpPXR5cGVvZiB0O3JldHVyblwibnVtYmVyXCI9PT1yJiZcIm51bWJlclwiPT09aT9lLXQ6XCJzdHJpbmdcIj09PXImJlwic3RyaW5nXCI9PT1pP2U8dD8tMS8wOjEvMDplJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLk9jP2UuT2ModCk6dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5PYz8tdC5PYyhlKTowfSxPYmplY3QuY2xvbmU9ZnVuY3Rpb24oZSx0LHIpe2lmKGU9T2JqZWN0LkFBKGUpLHI9cnx8bmV3IGksdm9pZCAwPT09dCl0PTEvMDtlbHNlIGlmKDA9PT10KXJldHVybiBlO2lmKE9iamVjdC5hdShlKSl7aWYoIXIuaGFzKGUpKWlmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2xvbmUpci5zZXQoZSxlLmNsb25lKHQscikpO2Vsc2V7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKG51bGwhPT1uJiZuIT09T2JqZWN0LnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjbG9uZSBcIitlKTt2YXIgcz1PYmplY3QuY3JlYXRlKG4pO3Iuc2V0KGUscyk7Zm9yKHZhciBvIGluIGUpc1tvXT1PYmplY3QuY2xvbmUoZVtvXSx0LTEscil9cmV0dXJuIHIuZ2V0KGUpfXJldHVybiBlfSxPYmplY3QuY2xlYXI9ZnVuY3Rpb24oZSl7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jbGVhcillLmNsZWFyKCk7ZWxzZSBmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj10Lmxlbmd0aDtyOylyLS0sZGVsZXRlIGVbdFtyXV07cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7ZS5OQSYmZS5OQSh0KX1mdW5jdGlvbiByKGUpe3JldHVybiEoZS5zdWJzdHIoMCxkLmxlbmd0aCk9PWQmJlwiX19fXCI9PT1lLnN1YnN0cihlLmxlbmd0aC0zKSl9ZnVuY3Rpb24gaShlKXtpZihlIT09T2JqZWN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgYW4gb2JqZWN0OiBcIitlKTt2YXIgdD1lW2ZdO2lmKHQmJnQua2V5PT09ZSlyZXR1cm4gdDtpZihwKGUpKXt0PXtrZXk6ZX07dHJ5e3JldHVybiBsKGUsZix7dmFsdWU6dCxBaDohMSxwOiExLGw6ITF9KSx0fWNhdGNoKGUpe3JldHVybn19fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUucHJvdG90eXBlPW51bGwsT2JqZWN0LmZyZWV6ZShlKX1mdW5jdGlvbiBzKCl7eXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGV8fCh5PSEwLGNvbnNvbGUud2FybihcIldlYWtNYXAgc2hvdWxkIGJlIGludm9rZWQgYXMgbmV3IFdlYWtNYXAoKSwgbm90IFdlYWtNYXAoKS4gVGhpcyB3aWxsIGJlIGFuIGVycm9yIGluIHRoZSBmdXR1cmUuXCIpKX1pZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VzfHwhc2VzLm9rfHxzZXMub2soKSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlcyYmKHNlcy5EQT10KTt2YXIgbz0hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwKXt2YXIgYT1XZWFrTWFwO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtlbHNle3ZhciBoPW5ldyBhLGM9T2JqZWN0LmZyZWV6ZSh7fSk7aWYoaC5zZXQoYywxKSwxPT09aC5nZXQoYykpcmV0dXJuIHZvaWQoZS5pPVdlYWtNYXApO289ITB9fXZhciB1PShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSxsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxwPU9iamVjdC5pc0V4dGVuc2libGUsZD1cIndlYWttYXA6XCIsZj1kK1wiaWRlbnQ6XCIrTWF0aC5yYW5kb20oKStcIl9fX1wiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5KXt2YXIgZz1uZXcgQXJyYXlCdWZmZXIoMjUpLEU9bmV3IFVpbnQ4QXJyYXkoZyk7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhFKSxmPWQrXCJyYW5kOlwiK0FycmF5LnByb3RvdHlwZS5tYXAuY2FsbChFLGZ1bmN0aW9uKGUpe3JldHVybihlJTM2KS50b1N0cmluZygzNil9KS5qb2luKFwiXCIpK1wiX19fXCJ9aWYobChPYmplY3QsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB1KGUpLmZpbHRlcihyKX19KSxcImdldFByb3BlcnR5TmFtZXNcImluIE9iamVjdCl7dmFyIHY9T2JqZWN0LmtBO2woT2JqZWN0LFwiZ2V0UHJvcGVydHlOYW1lc1wiLHt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdihlKS5maWx0ZXIocil9fSl9IWZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LmZyZWV6ZTtsKE9iamVjdCxcImZyZWV6ZVwiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaSh0KSxlKHQpfX0pO3ZhciB0PU9iamVjdC5zZWFsO2woT2JqZWN0LFwic2VhbFwiLHt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaShlKSx0KGUpfX0pO3ZhciByPU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucztsKE9iamVjdCxcInByZXZlbnRFeHRlbnNpb25zXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLHIoZSl9fSl9KCk7dmFyIHk9ITEsVD0wLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIHIsbj1pKGUpO3JldHVybiBuP2MgaW4gbj9uW2NdOnQ6KHI9YS5pbmRleE9mKGUpLHI+PTA/aFtyXTp0KX1mdW5jdGlvbiB0KGUpe3ZhciB0PWkoZSk7cmV0dXJuIHQ/YyBpbiB0OmEuaW5kZXhPZihlKT49MH1mdW5jdGlvbiByKGUsdCl7dmFyIHIsbj1pKGUpO3JldHVybiBuP25bY109dDoocj1hLmluZGV4T2YoZSkscj49MD9oW3JdPXQ6KHI9YS5sZW5ndGgsaFtyXT10LGFbcl09ZSkpLHRoaXN9ZnVuY3Rpb24gbyhlKXt2YXIgdCxyLG49aShlKTtyZXR1cm4gbj9jIGluIG4mJmRlbGV0ZSBuW2NdOiEoKHQ9YS5pbmRleE9mKGUpKTwwKSYmKHI9YS5sZW5ndGgtMSxhW3RdPXZvaWQgMCxoW3RdPWhbcl0sYVt0XT1hW3JdLGEubGVuZ3RoPXIsaC5sZW5ndGg9ciwhMCl9dGhpcyBpbnN0YW5jZW9mIG18fHMoKTt2YXIgYT1bXSxoPVtdLGM9VCsrO3JldHVybiBPYmplY3QuY3JlYXRlKG0ucHJvdG90eXBlLHtMQTp7dmFsdWU6bihlKX0sTUE6e3ZhbHVlOm4odCl9LEZBOnt2YWx1ZTpuKHIpfSxVQTp7dmFsdWU6bihvKX19KX07bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPYmplY3QucHJvdG90eXBlLHtnZXQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuTEEoZSx0KX0sQWg6ITAsbDohMH0saGFzOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5NQShlKX0sQWg6ITAsbDohMH0sc2V0Ont2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkZBKGUsdCl9LEFoOiEwLGw6ITB9LGRlbGV0ZTp7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVUEoZSl9LEFoOiEwLGw6ITB9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgYT9mdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIHU/Yy5oYXMoZSk/Yy5nZXQoZSk6dS5MQShlLHQpOmMuZ2V0KGUsdCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gYy5oYXMoZSl8fCEhdSYmdS5NQShlKX1mdW5jdGlvbiBpKGUpe3ZhciB0PSEhYy5kZWxldGUoZSk7cmV0dXJuIHU/dS5VQShlKXx8dDp0fXRoaXMgaW5zdGFuY2VvZiBtfHxzKCk7dmFyIGgsYz1uZXcgYSx1PXZvaWQgMCxsPSExO3JldHVybiBoPW8/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5zZXQoZSx0KSxjLmhhcyhlKXx8KHV8fCh1PW5ldyBtKSx1LnNldChlLHQpKSx0aGlzfTpmdW5jdGlvbihlLHQpe2lmKGwpdHJ5e2Muc2V0KGUsdCl9Y2F0Y2gocil7dXx8KHU9bmV3IG0pLHUuRkEoZSx0KX1lbHNlIGMuc2V0KGUsdCk7cmV0dXJuIHRoaXN9LE9iamVjdC5jcmVhdGUobS5wcm90b3R5cGUse0xBOnt2YWx1ZTpuKGUpfSxNQTp7dmFsdWU6bihyKX0sRkE6e3ZhbHVlOm4oaCl9LFVBOnt2YWx1ZTpuKGkpfSxOQTp7dmFsdWU6bihmdW5jdGlvbihlKXtpZihlIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJib2d1cyBjYWxsIHRvIHBlcm1pdEhvc3RPYmplY3RzX19fXCIpO2w9ITB9KX19KX1vJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJihQcm94eT12b2lkIDApLHIucHJvdG90eXBlPW0ucHJvdG90eXBlLGUuaT1yLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOldlYWtNYXAscDohMSxsOiEwLEFoOiEwfSl9KCk6KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm94eSYmKFByb3h5PXZvaWQgMCksZS5pPW0pfX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIFJhbmdlQ2hhbmdlcyBpcyBhIG1peGluLlwiKX12YXIgbj1yKDM3KSxzPXIoNTEpLG89bmV3IG47ZS5pPWksaS5wcm90b3R5cGUuQkE9ZnVuY3Rpb24oKXtyZXR1cm4gby5oYXModGhpcyl8fG8uc2V0KHRoaXMscygpKSxvLmdldCh0aGlzKX0saS5wcm90b3R5cGUuSEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5CQSgpO3JldHVybiBlPWV8fFwiXCIsdC5oYXMoZSl8fHQuc2V0KGUse2lzQWN0aXZlOiExLFdjOltdLFljOltdfSksdC5nZXQoZSl9LGkucHJvdG90eXBlLnhBPWZ1bmN0aW9uKGUsdCxyKXshdGhpcy5aYyYmdGhpcy5YYyYmdGhpcy5YYygpO3ZhciBpLG49dGhpcy5IQSh0KTtpPXI/bi5ZYzpuLldjLGkucHVzaChlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRpc3BhdGNoZXNSYW5nZUNoYW5nZXNcIix7dmFsdWU6ITAsQWg6ITAsbDohMCxwOiExfSk7dmFyIHM9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtzJiYocy5xQShlLHQscikscz1udWxsKX19LGkucHJvdG90eXBlLnFBPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMuSEEodCk7aT1yP24uWWM6bi5XYzt2YXIgcz1pLmxhc3RJbmRleE9mKGUpO2lmKC0xPT09cyl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZW1vdmUgcmFuZ2UgY2hhbmdlIGxpc3RlbmVyOiBkb2VzIG5vdCBleGlzdDogdG9rZW4gXCIrSlNPTi5zdHJpbmdpZnkodCkpO2kuc3BsaWNlKHMsMSl9LGkucHJvdG90eXBlLkdBPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPVwiUmFuZ2VcIisoaT9cIldpbGxDaGFuZ2VcIjpcIkNoYW5nZVwiKTt0aGlzLkJBKCkuZm9yRWFjaChmdW5jdGlvbihzLG8pe2lmKCFzLmlzQWN0aXZlKXtzLmlzQWN0aXZlPSEwO3ZhciBhO2E9aT9zLlljOnMuV2M7dmFyIGg9XCJoYW5kbGVcIisoby5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCkrby5zbGljZSgxKSkrbjt0cnl7YS5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24obil7aWYoIShhLmluZGV4T2Yobik8MCkpaWYobltoXSluW2hdKGUsdCxyLHRoaXMsaSk7ZWxzZXtpZighbi5jYWxsKXRocm93IG5ldyBFcnJvcihcIkhhbmRsZXIgXCIrbitcIiBoYXMgbm8gbWV0aG9kIFwiK2grXCIgYW5kIGlzIG5vdCBjYWxsYWJsZVwiKTtuLmNhbGwodGhpcyxlLHQscix0aGlzLGkpfX0sdGhpcyl9ZmluYWxseXtzLmlzQWN0aXZlPSExfX19LHRoaXMpfSxpLnByb3RvdHlwZS5WQT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnhBKGUsdCwhMCl9LGkucHJvdG90eXBlLmpBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucUEoZSx0LCEwKX0saS5wcm90b3R5cGUuUUE9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLkdBKGUsdCxyLCEwKX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY1NldCBpcyBhIG1peGluLlwiKX1lLmk9cixyLnByb3RvdHlwZS5LQT0hMCxyLnByb3RvdHlwZS5ZQT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLkVzKHRoaXMpO3JldHVybiB0LmFkZEVhY2goZSksdH0sci5wcm90b3R5cGUuV0E9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuRXModGhpcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGUuaGFzKHQpfSkpfSxyLnByb3RvdHlwZS56QT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLkVzKHRoaXMpO3JldHVybiB0Ll9jKGUpLHR9LHIucHJvdG90eXBlLkpBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuWUEoZSkscj10aGlzLldBKGUpO3JldHVybiB0LnpBKHIpfSxyLnByb3RvdHlwZS5YQT1mdW5jdGlvbihlKXtyZXR1cm4rdGhpcy5kZWxldGUoZSl9LHIucHJvdG90eXBlLmNzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZWR1Y2UmJnRoaXMubGVuZ3RoPT09ZS5sZW5ndGgmJmUucmVkdWNlKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUmJnIuaGFzKGksdCl9LCEwKX0sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpfSxyLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXMoZSl9LHIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kZWxldGUoZSl9LHIucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt0aGlzLmhhcyhlKT90aGlzLmRlbGV0ZShlKTp0aGlzLmFkZChlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxpOyFmdW5jdGlvbih0KXtlLmk9dCgpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBzKGEsaCl7aWYoIXJbYV0pe2lmKCF0W2FdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZpO2lmKCFoJiZjKXJldHVybiBpKGEsITApO2lmKG8pcmV0dXJuIG8oYSwhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgbD1yW2FdPXtpOnt9fTt0W2FdWzBdLmNhbGwobC5pLGZ1bmN0aW9uKGUpe3ZhciByPXRbYV1bMV1bZV07cmV0dXJuIHMocnx8ZSl9LGwsbC5pLGUsdCxyLG4pfXJldHVybiByW2FdLml9Zm9yKHZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmksYT0wO2E8bi5sZW5ndGg7YSsrKXMoblthXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbihlLHQscil7dmFyIGk9ZShcIi4va2VybmVsXCIpO3IuRD1pLkQ7dmFyIG49ZShcIi4vdHlwZV9iaW5kaW5nXCIpO3IuWkE9bi5aQTt2YXIgcz1lKFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIik7ci4kQT1zLiRBfSx7XCIuL2tlcm5lbFwiOjIsXCIuL3R5cGVfYmluZGluZ1wiOjQsXCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSwyOltmdW5jdGlvbihlLHQscil7dmFyIGk9ZShcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCIpLG49ZShcIi4vbG9va3VwXCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5lTz1uZXcgbi50T31yZXR1cm4gZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt0aGlzLmVPLmFkZChlLnJPLGUpfSxlLnByb3RvdHlwZS5pTz1mdW5jdGlvbihlKXt0cnl7dGhpcy5lTy5yZW1vdmUoZSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgc2VydmljZSBcIitlKX19LGUucHJvdG90eXBlLk49ZnVuY3Rpb24oKXt0aGlzLmVPPW5ldyBuLnRPfSxlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCF0aGlzLmVPLm5PKGUpKXJldHVybiBudWxsO3Q9dGhpcy5lTy5nZXQoZSk7dmFyIHI9dFswXTtpZihyLnNjb3BlPT09aS4kQS5zTyYmbnVsbCE9PXIuc0MpcmV0dXJuIHIuc0M7dmFyIG49dGhpcy5vTyhyLmFPKTtyZXR1cm4gci5zQz1uLG59LGUucHJvdG90eXBlLmhPPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuLHMsbztyZXR1cm4gcz0vKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvZ20sbz0vKFteXFxzLF0rKS9nLHQ9ZS50b1N0cmluZygpLnJlcGxhY2UocyxcIlwiKSxyPXQuaW5kZXhPZihcIihcIikrMSxpPXQuaW5kZXhPZihcIilcIiksbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXAmJi0xIT09dC5pbmRleE9mKFwiY2xhc3NcIikmJi0xPT09dC5pbmRleE9mKFwiY29uc3RydWN0b3JcIik/bnVsbDp0LnNsaWNlKHIsaSkubWF0Y2gobyksbnVsbD09PW4mJihuPVtdKSxufSxlLnByb3RvdHlwZS5vTz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmhPKGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gbmV3IGU7Zm9yKHZhciByPVtdLGk9bnVsbCxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBzPXRbbl07aT10aGlzLnJlc29sdmUocyksci5wdXNoKGkpfXJldHVybiB0aGlzLmNPKGUscil9LGUucHJvdG90eXBlLmNPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyhGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShlLFtudWxsXS5jb25jYXQodCkpKX0sZX0oKTtyLkQ9c30se1wiLi9sb29rdXBcIjozLFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMua2V5PWUsdGhpcy52YWx1ZT1uZXcgQXJyYXksdGhpcy52YWx1ZS5wdXNoKHQpfXJldHVybiBlfSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy51Tz1uZXcgQXJyYXl9cmV0dXJuIGUucHJvdG90eXBlLmxPPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxyPTA7cjx0aGlzLnVPLmxlbmd0aDtyKyspe3RoaXMudU9bcl0ua2V5PT09ZSYmKHQ9cil9cmV0dXJuIHR9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTt2YXIgcj10aGlzLmxPKGUpO2lmKC0xIT09cil7dmFyIG49dGhpcy51T1tyXTtuLmtleT09PWUmJm4udmFsdWUucHVzaCh0KX1lbHNlIHRoaXMudU8ucHVzaChuZXcgaShlLHQpKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIHQ9dGhpcy5sTyhlKTtpZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiS2V5IE5vdCBGb3VuZFwiKTt2YXIgcj10aGlzLnVPW3RdO3JldHVybiByLmtleT09PWU/ci52YWx1ZTp2b2lkIDB9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciB0PXRoaXMubE8oZSk7aWYoLTE9PT10KXRocm93IG5ldyBFcnJvcihcIktleSBOb3QgRm91bmRcIik7dGhpcy51Ty5zcGxpY2UodCwxKX0sZS5wcm90b3R5cGUubk89ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTtyZXR1cm4tMSE9PXRoaXMubE8oZSl9LGV9KCk7ci50Tz1ufSx7fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWUoXCIuL3R5cGVfYmluZGluZ19zY29wZVwiKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7aWYodGhpcy5yTz1lLHRoaXMuYU89dCx0aGlzLnNDPW51bGwsdm9pZCAwPT09cil0aGlzLnNjb3BlPWkuJEEucE87ZWxzZXtpZighaS4kQVtyXSl7dmFyIG49XCJJbnZhbGlkIHNjb3BlIHR5cGUgXCIrcjt0aHJvdyBuZXcgRXJyb3Iobil9dGhpcy5zY29wZT1yfX1yZXR1cm4gZX0oKTtyLlpBPW59LHtcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCI6NX1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgaTshZnVuY3Rpb24oZSl7ZVtlLnBPPTBdPVwiVHJhbnNpZW50XCIsZVtlLnNPPTFdPVwiU2luZ2xldG9uXCJ9KGl8fChpPXt9KSksci4kQT1pfSx7fV19LHt9LFsxXSkoMSl9KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpOyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5Mb2dnZXJUaW1lc3RhbXA9ITAsZS5GcmFtZXdvcms9dDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ci5NZXRyaWNTbmFwc2hvdExvZ3M9MCxyLlRyYWNrU25hcHNob3RMb2dzPTAsZS5EZWJ1Z0xvZ3M9cn0oaT10LkhpdmVDb25maWd8fCh0LkhpdmVDb25maWc9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYodm9pZCAwPT09d2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRnJhbWV3b3JrPWkuRnJhbWV3b3JrLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncz1pLkRlYnVnTG9ncyl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS5kTz1cIjEyNy4wLjAuMVwiLGkudnA9ODk5OSxpLkVwPTg5OTgsaS5ncD04ODk5LGkuZHA9ODg5OCxpLmZPPVwiLy97MH06ezF9Lz9jYWxsYmFjaz17Mn17M31oaXZlUGx1Z2luSWQ9ezR9XCIsaS5nTz1cIi8vezB9OnsxfS8/Y2FsbGJhY2s9ezJ9XCIsaS55cD0hMCxpLkVPPS8oKGh0dHB8aHR0cHMpOlxcL1xcLyguKik6KFswLTldKilcXC8oWzAtOWEtei1dKikuaXNtXFwvKSguKikvLGkudk89XCIyMDEzLjEuMVwiLGkueU89XCIyMDE4LjFcIix0LmZwPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmNvdW50PTB9cmV0dXJuIGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4rK3RoaXMuY291bnR9LGV9KCk7dC5Db3VudGVyPWk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5yZXNldCgpfXJldHVybiBlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7ZTw9MHx8KHRoaXMuVE8rPWUsdGhpcy5tTysrLGU+dGhpcy5JTyYmKHRoaXMuSU89ZSksZTx0aGlzLlNPJiYodGhpcy5TTz1lKSl9LGUucHJvdG90eXBlLm1pbj1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHQ9dGhpcy5TTz09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPzA6dGhpcy5TTztyZXR1cm4gZSYmdGhpcy5yZXNldCgpLHR9LGUucHJvdG90eXBlLm1heD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHQ9dGhpcy5JTz09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZPzA6dGhpcy5JTztyZXR1cm4gZSYmdGhpcy5yZXNldCgpLHR9LGUucHJvdG90eXBlLk5jPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgdD10aGlzLlRPO3JldHVybiBlJiZ0aGlzLnJlc2V0KCksdH0sZS5wcm90b3R5cGUuZWM9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciB0PXRoaXMubU8+MD90aGlzLlRPL3RoaXMubU86MDtyZXR1cm4gZSYmdGhpcy5yZXNldCgpLHR9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5TTz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdGhpcy5JTz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksdGhpcy5UTz0wLHRoaXMubU89MH0sZX0oKTt0LlJPPW59LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaTshZnVuY3Rpb24obixzKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1cIm1vZGVsXCIsYT1cIm5hbWVcIixoPVwidHlwZVwiLGM9XCJ2ZW5kb3JcIix1PVwidmVyc2lvblwiLGw9XCJtb2JpbGVcIixwPVwidGFibGV0XCIsZD17ZXh0ZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307Zm9yKHZhciBpIGluIGUpdFtpXSYmdFtpXS5sZW5ndGglMj09MD9yW2ldPXRbaV0uY29uY2F0KGVbaV0pOnJbaV09ZVtpXTtyZXR1cm4gcn0saGFzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT09dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKX0sd086ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX0sYk86ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5yZXBsYWNlKC9bXlxcZFxcLl0vZyxcIlwiKS5zcGxpdChcIi5cIilbMF06dm9pZCAwfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpfX0sZj17Q086ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxyLGksbixzLG8sYT0wLGg9YXJndW1lbnRzO2E8aC5sZW5ndGgmJiFzOyl7dmFyIGM9aFthXSx1PWhbYSsxXTtpZih2b2lkIDA9PT1lKXtlPXt9O2ZvcihpIGluIHUpdS5oYXNPd25Qcm9wZXJ0eShpKSYmKG49dVtpXSxcIm9iamVjdFwiPT10eXBlb2Ygbj9lW25bMF1dPXZvaWQgMDplW25dPXZvaWQgMCl9Zm9yKHQ9cj0wO3Q8Yy5sZW5ndGgmJiFzOylpZihzPWNbdCsrXS5leGVjKHRoaXMuX08oKSkpZm9yKGk9MDtpPHUubGVuZ3RoO2krKylvPXNbKytyXSxuPXVbaV0sXCJvYmplY3RcIj09dHlwZW9mIG4mJm4ubGVuZ3RoPjA/Mj09bi5sZW5ndGg/XCJmdW5jdGlvblwiPT10eXBlb2YgblsxXT9lW25bMF1dPW5bMV0uY2FsbCh0aGlzLG8pOmVbblswXV09blsxXTozPT1uLmxlbmd0aD9cImZ1bmN0aW9uXCIhPXR5cGVvZiBuWzFdfHxuWzFdLmV4ZWMmJm5bMV0udGVzdD9lW25bMF1dPW8/by5yZXBsYWNlKG5bMV0sblsyXSk6dm9pZCAwOmVbblswXV09bz9uWzFdLmNhbGwodGhpcyxvLG5bMl0pOnZvaWQgMDo0PT1uLmxlbmd0aCYmKGVbblswXV09bz9uWzNdLmNhbGwodGhpcyxvLnJlcGxhY2UoblsxXSxuWzJdKSk6dm9pZCAwKTplW25dPW98fHZvaWQgMDthKz0yfXJldHVybiBlfSxzdHI6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClpZihcIm9iamVjdFwiPT10eXBlb2YgdFtyXSYmdFtyXS5sZW5ndGg+MCl7Zm9yKHZhciBpPTA7aTx0W3JdLmxlbmd0aDtpKyspaWYoZC5oYXModFtyXVtpXSxlKSlyZXR1cm5cIj9cIj09PXI/dm9pZCAwOnJ9ZWxzZSBpZihkLmhhcyh0W3JdLGUpKXJldHVyblwiP1wiPT09cj92b2lkIDA6cjtyZXR1cm4gZX19LGc9e1F1OntQTzp7dmVyc2lvbjp7XCIxLjBcIjpcIi84XCIsMS4yOlwiLzFcIiwxLjM6XCIvM1wiLFwiMi4wXCI6XCIvNDEyXCIsXCIyLjAuMlwiOlwiLzQxNlwiLFwiMi4wLjNcIjpcIi80MTdcIixcIjIuMC40XCI6XCIvNDE5XCIsUVI6XCIvXCJ9fX0sQU86e09POntOTzp7RE86W1wiU0RcIixcIktGXCJdfX0sa086e05POntMTzpcIjczNzNLVFwifSx2ZW5kb3I6e01POlwiQVBBXCIsRk86XCJTcHJpbnRcIn19fSxvczp7VU86e3ZlcnNpb246e0JPOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMjAwMDpcIk5UIDUuMFwiLEhPOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLHhPOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0scU86XCJBUk1cIn19fX0sRT17UXU6W1svKG9wZXJhXFxzbWluaSlcXC8oW1xcd1xcLi1dKykvaSwvKG9wZXJhXFxzW21vYmlsZXRhYl0rKS4rdmVyc2lvblxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmEpLit2ZXJzaW9uXFwvKFtcXHdcXC5dKykvaSwvKG9wZXJhKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKG9waW9zKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFtbYSxcIk9wZXJhIE1pbmlcIl0sdV0sWy9cXHMob3ByKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIk9wZXJhXCJdLHVdLFsvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcL1xcc10/KFtcXHdcXC5dKykqL2ksLyhhdmFudFxcc3xpZW1vYmlsZXxzbGltfGJhaWR1KSg/OmJyb3dzZXIpP1tcXC9cXHNdPyhbXFx3XFwuXSopL2ksLyg/Om1zfFxcKCkoaWUpXFxzKFtcXHdcXC5dKykvaSwvKHJla29ucSlcXC8oW1xcd1xcLl0rKSovaSwvKGNocm9taXVtfGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qcylcXC8oW1xcd1xcLi1dKykvaV0sW2EsdV0sWy8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pXSxbW2EsXCJJRVwiXSx1XSxbLyhlZGdlKVxcLygoXFxkKyk/W1xcd1xcLl0rKS9pXSxbYSx1XSxbLyh5YWJyb3dzZXIpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiWWFuZGV4XCJdLHVdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1thLC9fL2csXCIgXCJdLHVdLFsvKG1pY3JvbWVzc2VuZ2VyKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIldlQ2hhdFwiXSx1XSxbL3hpYW9taVxcL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3UsW2EsXCJNSVVJIEJyb3dzZXJcIl1dLFsvXFxzd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1thLC8oLispLyxcIiQxIFdlYlZpZXdcIl0sdV0sWy9hbmRyb2lkLitzYW1zdW5nYnJvd3NlclxcLyhbXFx3XFwuXSspL2ksL2FuZHJvaWQuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKVxccysoPzptb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkqL2ldLFt1LFthLFwiQW5kcm9pZCBCcm93c2VyXCJdXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9XFxzP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pLC8ocXFicm93c2VyKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKHVjXFxzP2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvdWN3ZWIuKyh1Y2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvanVjLisodWN3ZWIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW1thLFwiVUNCcm93c2VyXCJdLHVdLFsvKGRvbGZpbilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsXCJEb2xwaGluXCJdLHVdLFsvKCg/OmFuZHJvaWQuKyljcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIkNocm9tZVwiXSx1XSxbLztmYmF2XFwvKFtcXHdcXC5dKyk7L2ldLFt1LFthLFwiRmFjZWJvb2tcIl1dLFsvZnhpb3NcXC8oW1xcd1xcLi1dKykvaV0sW3UsW2EsXCJGaXJlZm94XCJdXSxbL3ZlcnNpb25cXC8oW1xcd1xcLl0rKS4rP21vYmlsZVxcL1xcdytcXHMoc2FmYXJpKS9pXSxbdSxbYSxcIk1vYmlsZSBTYWZhcmlcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKS9pXSxbdSxhXSxbL3dlYmtpdC4rPyhtb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbYSxbdSxmLnN0cixnLlF1LlBPLnZlcnNpb25dXSxbLyhrb25xdWVyb3IpXFwvKFtcXHdcXC5dKykvaSwvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXSxbYSx1XSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGUpXFwvKFtcXHdcXC4tXSspL2ldLFtbYSxcIk5ldHNjYXBlXCJdLHVdLFsvKHN3aWZ0Zm94KS9pLC8oaWNlZHJhZ29ufGljZXdlYXNlbHxjYW1pbm98Y2hpbWVyYXxmZW5uZWN8bWFlbW9cXHNicm93c2VyfG1pbmltb3xjb25rZXJvcilbXFwvXFxzXT8oW1xcd1xcLlxcK10rKS9pLC8oZmlyZWZveHxzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4KVxcLyhbXFx3XFwuLV0rKS9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKS4rcnZcXDouK2dlY2tvXFwvXFxkKy9pLC8ocG9sYXJpc3xseW54fGRpbGxvfGljYWJ8ZG9yaXN8YW1heWF8dzNtfG5ldHN1cmZ8c2xlaXBuaXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvKGxpbmtzKVxcc1xcKChbXFx3XFwuXSspL2ksLyhnb2Jyb3dzZXIpXFwvPyhbXFx3XFwuXSspKi9pLC8oaWNlXFxzP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl9dKykvaSwvKG1vc2FpYylbXFwvXFxzXShbXFx3XFwuXSspL2ldLFthLHVdXSxHTzpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbXy1dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1tcImFyY2hpdGVjdHVyZVwiLGQud09dXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwiaWEzMlwiXV0sWy93aW5kb3dzXFxzKGNlfG1vYmlsZSk7XFxzcHBjOy9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86XFxzbWFjfDt8XFwpKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsL293ZXIvLFwiXCIsZC53T11dLFsvKHN1bjRcXHcpWztcXCldL2ldLFtbXCJhcmNoaXRlY3R1cmVcIixcInNwYXJjXCJdXSxbLygoPzphdnIzMnxpYTY0KD89OykpfDY4ayg/PVxcKSl8YXJtKD86NjR8KD89dlxcZCs7KSl8KD89YXRtZWxcXHMpYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/KD89Oyl8cGEtcmlzYykvaV0sW1tcImFyY2hpdGVjdHVyZVwiLGQud09dXV0sQU86W1svXFwoKGlwYWR8cGxheWJvb2spO1tcXHdcXHNcXCk7LV0rKHJpbXxhcHBsZSkvaV0sW28sYyxbaCxwXV0sWy9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvXSxbbyxbYyxcIkFwcGxlXCJdLFtoLHBdXSxbLyhhcHBsZVxcc3swLDF9dHYpL2ldLFtbbyxcIkFwcGxlIFRWXCJdLFtjLFwiQXBwbGVcIl1dLFsvKGFyY2hvcylcXHMoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQpL2ksLyhocCkuKyh0YWJsZXQpL2ksLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwvXFxzKG5vb2spW1xcd1xcc10rYnVpbGRcXC8oXFx3KykvaSwvKGRlbGwpXFxzKHN0cmVhW2twclxcc1xcZF0qW1xcZGtvXSkvaV0sW2MsbyxbaCxwXV0sWy8oa2ZbQS16XSspXFxzYnVpbGRcXC9bXFx3XFwuXSsuKnNpbGtcXC8vaV0sW28sW2MsXCJBbWF6b25cIl0sW2gscF1dLFsvKHNkfGtmKVswMzQ5aGlqb3JzdHV3XStcXHNidWlsZFxcL1tcXHdcXC5dKy4qc2lsa1xcLy9pXSxbW28sZi5zdHIsZy5BTy5PTy5OT10sW2MsXCJBbWF6b25cIl0sW2gsbF1dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7LisoYXBwbGUpL2ldLFtvLGMsW2gsbF1dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7L2ldLFtvLFtjLFwiQXBwbGVcIl0sW2gsbF1dLFsvKGJsYWNrYmVycnkpW1xccy1dPyhcXHcrKS9pLC8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXN8ZGVsbHxodWF3ZWl8bWVpenV8bW90b3JvbGF8cG9seXRyb24pW1xcc18tXT8oW1xcdy1dKykqL2ksLyhocClcXHMoW1xcd1xcc10rXFx3KS9pLC8oYXN1cyktPyhcXHcrKS9pXSxbYyxvLFtoLGxdXSxbL1xcKGJiMTA7XFxzKFxcdyspL2ldLFtvLFtjLFwiQmxhY2tCZXJyeVwiXSxbaCxsXV0sWy9hbmRyb2lkLisodHJhbnNmb1twcmltZVxcc117NCwxMH1cXHNcXHcrfGVlZXBjfHNsaWRlclxcc1xcdyt8bmV4dXMgN3xwYWRmb25lKS9pXSxbbyxbYyxcIkFzdXNcIl0sW2gscF1dLFsvKHNvbnkpXFxzKHRhYmxldFxcc1twc10pXFxzYnVpbGRcXC8vaSwvKHNvbnkpPyg/OnNncC4rKVxcc2J1aWxkXFwvL2ldLFtbYyxcIlNvbnlcIl0sW28sXCJYcGVyaWEgVGFibGV0XCJdLFtoLHBdXSxbLyg/OnNvbnkpPyg/Oig/Oig/OmN8ZClcXGR7NH0pfCg/OnNvWy1sXS4rKSlcXHNidWlsZFxcLy9pXSxbW2MsXCJTb255XCJdLFtvLFwiWHBlcmlhIFBob25lXCJdLFtoLGxdXSxbL1xccyhvdXlhKVxccy9pLC8obmludGVuZG8pXFxzKFt3aWRzM3VdKykvaV0sW2MsbyxbaCxcImNvbnNvbGVcIl1dLFsvYW5kcm9pZC4rO1xccyhzaGllbGQpXFxzYnVpbGQvaV0sW28sW2MsXCJOdmlkaWFcIl0sW2gsXCJjb25zb2xlXCJdXSxbLyhwbGF5c3RhdGlvblxcc1szNHBvcnRhYmxldmldKykvaV0sW28sW2MsXCJTb255XCJdLFtoLFwiY29uc29sZVwiXV0sWy8oc3ByaW50XFxzKFxcdyspKS9pXSxbW2MsZi5zdHIsZy5BTy5rTy52ZW5kb3JdLFtvLGYuc3RyLGcuQU8ua08uTk9dLFtoLGxdXSxbLyhsZW5vdm8pXFxzPyhTKD86NTAwMHw2MDAwKSsoPzpbLV1bXFx3K10pKS9pXSxbYyxvLFtoLHBdXSxbLyhodGMpWztfXFxzLV0rKFtcXHdcXHNdKyg/PVxcKSl8XFx3KykqL2ksLyh6dGUpLShcXHcrKSovaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxodWF3ZWl8bGVub3ZvfG5leGlhbnxwYW5hc29uaWN8KD89O1xccylzb255KVtfXFxzLV0/KFtcXHctXSspKi9pXSxbYyxbbywvXy9nLFwiIFwiXSxbaCxsXV0sWy8obmV4dXNcXHM5KS9pXSxbbyxbYyxcIkhUQ1wiXSxbaCxwXV0sWy8obmV4dXNcXHM2cCkvaV0sW28sW2MsXCJIdWF3ZWlcIl0sW2gsbF1dLFsvKG1pY3Jvc29mdCk7XFxzKGx1bWlhW1xcc1xcd10rKS9pXSxbYyxvLFtoLGxdXSxbL1tcXHNcXCg7XSh4Ym94KD86XFxzb25lKT8pW1xcc1xcKTtdL2ldLFtvLFtjLFwiTWljcm9zb2Z0XCJdLFtoLFwiY29uc29sZVwiXV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1tvLC9cXC4vZyxcIiBcIl0sW2MsXCJNaWNyb3NvZnRcIl0sW2gsbF1dLFsvXFxzKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXxcXHMoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT8oOj9cXHM0Zyk/KVtcXHdcXHNdK2J1aWxkXFwvL2ksL21vdFtcXHMtXT8oXFx3KykqL2ksLyhYVFxcZHszLDR9KSBidWlsZFxcLy9pLC8obmV4dXNcXHM2KS9pXSxbbyxbYyxcIk1vdG9yb2xhXCJdLFtoLGxdXSxbL2FuZHJvaWQuK1xccyhtejYwXFxkfHhvb21bXFxzMl17MCwyfSlcXHNidWlsZFxcLy9pXSxbbyxbYyxcIk1vdG9yb2xhXCJdLFtoLHBdXSxbL2hiYnR2XFwvXFxkK1xcLlxcZCtcXC5cXGQrXFxzK1xcKFtcXHdcXHNdKjtcXHMqKFxcd1teO10qKTsoW147XSopL2ldLFtbYyxkLnRyaW1dLFtvLGQudHJpbV0sW2gsXCJzbWFydHR2XCJdXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1tvLC9eLyxcIlNtYXJ0VFZcIl0sW2MsXCJTYW1zdW5nXCJdLFtoLFwic21hcnR0dlwiXV0sWy9cXChkdHZbXFwpO10uKyhhcXVvcykvaV0sW28sW2MsXCJTaGFycFwiXSxbaCxcInNtYXJ0dHZcIl1dLFsvYW5kcm9pZC4rKChzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xndC1wXFxkezR9fGd0LW5cXGQrfHNnaC10OFs1Nl05fG5leHVzIDEwKSkvaSwvKChTTS1UXFx3KykpL2ldLFtbYyxcIlNhbXN1bmdcIl0sbyxbaCxwXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFtjLFtoLFwic21hcnR0dlwiXSxvXSxbLygoc1tjZ3BdaC1cXHcrfGd0LVxcdyt8Z2FsYXh5XFxzbmV4dXN8c20tXFx3W1xcd1xcZF0rKSkvaSwvKHNhbVtzdW5nXSopW1xccy1dKihcXHcrLT9bXFx3LV0qKSovaSwvc2VjLSgoc2doXFx3KykpL2ldLFtbYyxcIlNhbXN1bmdcIl0sbyxbaCxsXV0sWy9zaWUtKFxcdyspKi9pXSxbbyxbYyxcIlNpZW1lbnNcIl0sW2gsbF1dLFsvKG1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWFcXHNcXGQrKS9pLC8obm9raWEpW1xcc18tXT8oW1xcdy1dKykqL2ldLFtbYyxcIk5va2lhXCJdLG8sW2gsbF1dLFsvYW5kcm9pZFxcczNcXC5bXFxzXFx3Oy1dezEwfShhXFxkezN9KS9pXSxbbyxbYyxcIkFjZXJcIl0sW2gscF1dLFsvYW5kcm9pZFxcczNcXC5bXFxzXFx3Oy1dezEwfShsZz8pLShbMDZjdjldezMsNH0pL2ldLFtbYyxcIkxHXCJdLG8sW2gscF1dLFsvKGxnKSBuZXRjYXN0XFwudHYvaV0sW2MsbyxbaCxcInNtYXJ0dHZcIl1dLFsvKG5leHVzXFxzWzQ1XSkvaSwvbGdbZTtcXHNcXC8tXSsoXFx3KykqL2ldLFtvLFtjLFwiTEdcIl0sW2gsbF1dLFsvYW5kcm9pZC4rKGlkZWF0YWJbYS16MC05XFwtXFxzXSspL2ldLFtvLFtjLFwiTGVub3ZvXCJdLFtoLHBdXSxbL2xpbnV4Oy4rKChqb2xsYSkpOy9pXSxbYyxvLFtoLGxdXSxbLygocGViYmxlKSlhcHBcXC9bXFxkXFwuXStcXHMvaV0sW2MsbyxbaCxcIndlYXJhYmxlXCJdXSxbL2FuZHJvaWQuKztcXHMoZ2xhc3MpXFxzXFxkL2ldLFtvLFtjLFwiR29vZ2xlXCJdLFtoLFwid2VhcmFibGVcIl1dLFsvYW5kcm9pZC4rKFxcdyspXFxzK2J1aWxkXFwvaG1cXDEvaSwvYW5kcm9pZC4rKGhtW1xcc1xcLV9dKm5vdGU/W1xcc19dKig/OlxcZFxcdyk/KVxccytidWlsZC9pLC9hbmRyb2lkLisobWlbXFxzXFwtX10qKD86b25lfG9uZVtcXHNfXXBsdXN8bm90ZSBsdGUpP1tcXHNfXSooPzpcXGRcXHcpPylcXHMrYnVpbGQvaV0sW1tvLC9fL2csXCIgXCJdLFtjLFwiWGlhb21pXCJdLFtoLGxdXSxbL2FuZHJvaWQuK2EwMDAoMSlcXHMrYnVpbGQvaV0sW28sW2MsXCJPbmVQbHVzXCJdLFtoLGxdXSxbL1xccyh0YWJsZXQpWztcXC9dL2ksL1xccyhtb2JpbGUpKD86WztcXC9dfFxcc3NhZmFyaSkvaV0sW1toLGQud09dLGMsb11dLGVuZ2luZTpbWy93aW5kb3dzLitcXHNlZGdlXFwvKFtcXHdcXC5dKykvaV0sW3UsW2EsXCJFZGdlSFRNTFwiXV0sWy8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtKVxcLyhbXFx3XFwuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1xcL1xcc11cXCg/KFtcXHdcXC5dKykvaSwvKGljYWIpW1xcL1xcc10oWzIzXVxcLltcXGRcXC5dKykvaV0sW2EsdV0sWy9ydlxcOihbXFx3XFwuXSspLiooZ2Vja28pL2ldLFt1LGFdXSxvczpbWy9taWNyb3NvZnRcXHMod2luZG93cylcXHModmlzdGF8eHApL2ldLFthLHVdLFsvKHdpbmRvd3MpXFxzbnRcXHM2XFwuMjtcXHMoYXJtKS9pLC8od2luZG93c1xcc3Bob25lKD86XFxzb3MpKilbXFxzXFwvXT8oW1xcZFxcLlxcc10rXFx3KSovaSwvKHdpbmRvd3NcXHNtb2JpbGV8d2luZG93cylbXFxzXFwvXT8oW250Y2VcXGRcXC5cXHNdK1xcdykvaV0sW2EsW3UsZi5zdHIsZy5vcy5VTy52ZXJzaW9uXV0sWy8od2luKD89M3w5fG4pfHdpblxcczl4XFxzKShbbnRcXGRcXC5dKykvaV0sW1thLFwiV2luZG93c1wiXSxbdSxmLnN0cixnLm9zLlVPLnZlcnNpb25dXSxbL1xcKChiYikoMTApOy9pXSxbW2EsXCJCbGFja0JlcnJ5XCJdLHVdLFsvKGJsYWNrYmVycnkpXFx3KlxcLz8oW1xcd1xcLl0rKSovaSwvKHRpemVuKVtcXC9cXHNdKFtcXHdcXC5dKykvaSwvKGFuZHJvaWR8d2Vib3N8cGFsbVxcc29zfHFueHxiYWRhfHJpbVxcc3RhYmxldFxcc29zfG1lZWdvfGNvbnRpa2kpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pLC9saW51eDsuKyhzYWlsZmlzaCk7L2ldLFthLHVdLFsvKHN5bWJpYW5cXHM/b3N8c3ltYm9zfHM2MCg/PTspKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaV0sW1thLFwiU3ltYmlhblwiXSx1XSxbL1xcKChzZXJpZXM0MCk7L2ldLFthXSxbL21vemlsbGEuK1xcKG1vYmlsZTsuK2dlY2tvLitmaXJlZm94L2ldLFtbYSxcIkZpcmVmb3ggT1NcIl0sdV0sWy8obmludGVuZG98cGxheXN0YXRpb24pXFxzKFt3aWRzMzRwb3J0YWJsZXZ1XSspL2ksLyhtaW50KVtcXC9cXHNcXChdPyhcXHcrKSovaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbO1xcc10vaSwvKGpvbGl8W2t4bG5dP3VidW50dXxkZWJpYW58W29wZW5dKnN1c2V8Z2VudG9vfCg/PVxccylhcmNofHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWRoYXR8emVud2Fsa3xsaW5wdXMpW1xcL1xccy1dPyg/IWNocm9tKShbXFx3XFwuLV0rKSovaSwvKGh1cmR8bGludXgpXFxzPyhbXFx3XFwuXSspKi9pLC8oZ251KVxccz8oW1xcd1xcLl0rKSovaV0sW2EsdV0sWy8oY3JvcylcXHNbXFx3XStcXHMoW1xcd1xcLl0rXFx3KS9pXSxbW2EsXCJDaHJvbWl1bSBPU1wiXSx1XSxbLyhzdW5vcylcXHM/KFtcXHdcXC5dK1xcZCkqL2ldLFtbYSxcIlNvbGFyaXNcIl0sdV0sWy9cXHMoW2ZyZW50b3BjLV17MCw0fWJzZHxkcmFnb25mbHkpXFxzPyhbXFx3XFwuXSspKi9pXSxbYSx1XSxbLyhoYWlrdSlcXHMoXFx3KykvaV0sW2EsdV0sWy8oaXBbaG9uZWFkXSspKD86Lipvc1xccyhbXFx3XSspKlxcc2xpa2VcXHNtYWN8O1xcc29wZXJhKS9pXSxbW2EsXCJpT1NcIl0sW3UsL18vZyxcIi5cIl1dLFsvKG1hY1xcc29zXFxzeClcXHM/KFtcXHdcXHNcXC5dK1xcdykqL2ksLyhtYWNpbnRvc2h8bWFjKD89X3Bvd2VycGMpXFxzKS9pXSxbW2EsXCJNYWMgT1NcIl0sW3UsL18vZyxcIi5cIl1dLFsvKCg/Om9wZW4pP3NvbGFyaXMpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pLC8oYWl4KVxccygoXFxkKSg/PVxcLnxcXCl8XFxzKVtcXHdcXC5dKikqL2ksLyhwbGFuXFxzOXxtaW5peHxiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8cmlzY1xcc29zfG9wZW52bXMpL2ksLyh1bml4KVxccz8oW1xcd1xcLl0rKSovaV0sW2EsdV1dfSx2PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgdikpcmV0dXJuIG5ldyB2KGUsdCkuVk8oKTt2YXIgcj1lfHwobiYmbi5uYXZpZ2F0b3ImJm4ubmF2aWdhdG9yLnVzZXJBZ2VudD9uLm5hdmlnYXRvci51c2VyQWdlbnQ6XCJcIiksaT10P2QuZXh0ZW5kKEUsdCk6RTtyZXR1cm4gdGhpcy5qTz1mdW5jdGlvbigpe3ZhciBlPWYuQ08uYXBwbHkodGhpcyxpLlF1KTtyZXR1cm4gZS5iTz1kLmJPKGUudmVyc2lvbiksZX0sdGhpcy5RTz1mdW5jdGlvbigpe3JldHVybiBmLkNPLmFwcGx5KHRoaXMsaS5HTyl9LHRoaXMuS089ZnVuY3Rpb24oKXtyZXR1cm4gZi5DTy5hcHBseSh0aGlzLGkuQU8pfSx0aGlzLllPPWZ1bmN0aW9uKCl7cmV0dXJuIGYuQ08uYXBwbHkodGhpcyxpLmVuZ2luZSl9LHRoaXMuT2Q9ZnVuY3Rpb24oKXtyZXR1cm4gZi5DTy5hcHBseSh0aGlzLGkub3MpfSx0aGlzLlZPPWZ1bmN0aW9uKCl7cmV0dXJue3N5OnRoaXMuX08oKSxRdTp0aGlzLmpPKCksZW5naW5lOnRoaXMuWU8oKSxvczp0aGlzLk9kKCksQU86dGhpcy5LTygpLEdPOnRoaXMuUU8oKX19LHRoaXMuX089ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5BZD1mdW5jdGlvbihlKXtyZXR1cm4gcj1lLHRoaXN9LHRoaXN9O3YuVkVSU0lPTj1cIjAuNy4xMlwiLHYuV089e3pPOmEsSk86XCJtYWpvclwiLFZFUlNJT046dX0sdi5YTz17Wk86XCJhcmNoaXRlY3R1cmVcIn0sdi4kTz17ZU46byxWRU5ET1I6Yyx0TjpoLHJOOlwiY29uc29sZVwiLGlOOmwsbk46XCJzbWFydHR2XCIsc046cCxvTjpcIndlYXJhYmxlXCIsYU46XCJlbWJlZGRlZFwifSx2LmhOPXt6TzphLFZFUlNJT046dX0sdi5jTj17ek86YSxWRVJTSU9OOnV9LHZvaWQgMCE9PXQ/KHZvaWQgMCE9PWUmJmUuaSYmKHQ9ZS5pPXYpLHQuUHA9dik6cigxMTApP3ZvaWQgMCE9PShpPWZ1bmN0aW9uKCl7cmV0dXJuIHZ9LmNhbGwodCxyLHQsZSkpJiYoZS5pPWkpOm4uUHA9djt2YXIgeT1uLnVOfHxuLmxOO2lmKHZvaWQgMCE9PXkpe3ZhciBUPW5ldyB2O3kuc3k9VC5WTygpLHkuc3kuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFQuX08oKX0seS5zeS5zZXQ9ZnVuY3Rpb24oZSl7VC5BZChlKTt2YXIgdD1ULlZPKCk7Zm9yKHZhciByIGluIHQpeS5zeVtyXT10W3JdfX19KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0MSksbj1yKDMpOyFmdW5jdGlvbihlKXt2YXIgdDshZnVuY3Rpb24oZSl7ZVtlLm9mZj0wXT1cIm9mZlwiLGVbZS5lcnJvcj0xXT1cImVycm9yXCIsZVtlLndhcm49Ml09XCJ3YXJuXCIsZVtlLm5vdGljZT0zXT1cIm5vdGljZVwiLGVbZS5pbmZvPTRdPVwiaW5mb1wiLGVbZS5kZWJ1Zz01XT1cImRlYnVnXCIsZVtlLnRyYWNlPTZdPVwidHJhY2VcIn0odD1lLnBOfHwoZS5wTj17fSkpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGltZXN0YW1wPWZ1bmN0aW9uKCl7fSx0aGlzLmROPW5ldyBuLHRoaXMubGV2ZWw9dC5kZWJ1Zyx0aGlzLnRpbWVzdGFtcC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXRlO3JldHVyblwiW1wiKyhcIjBcIitlLmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrZS5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrZS5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwMFwiK2UuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnNsaWNlKC0zKStcIl1cIn0sdGhpcy5sb2dnZXI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGU/e2xvZzpmdW5jdGlvbigpe319OmNvbnNvbGUsdGhpcy5sb2dnZXIudHJhY2V8fCh0aGlzLmxvZ2dlci50cmFjZT10aGlzLmxvZ2dlci5sb2cpLHRoaXMubG9nZ2VyLmRlYnVnfHwodGhpcy5sb2dnZXIuZGVidWc9dGhpcy5sb2dnZXIubG9nKSx0aGlzLmxvZ2dlci5pbmZvfHwodGhpcy5sb2dnZXIuaW5mbz10aGlzLmxvZ2dlci5sb2cpLHRoaXMubG9nZ2VyLndhcm58fCh0aGlzLmxvZ2dlci53YXJuPXRoaXMubG9nZ2VyLmxvZyksdGhpcy5sb2dnZXIuZXJyb3J8fCh0aGlzLmxvZ2dlci5lcnJvcj10aGlzLmxvZ2dlci5sb2cpLHRoaXMuZk4odFt0aGlzLmxldmVsXSl9cmV0dXJuIGUucHJvdG90eXBlLmZOPWZ1bmN0aW9uKGUscil7aS5IaXZlQ29uZmlnLkZyYW1ld29yay5IaXZlRGVidWdMZXZlbCYmdm9pZCAwIT10W2kuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuSGl2ZURlYnVnTGV2ZWxdP3RoaXMubGV2ZWw9dFtpLkhpdmVDb25maWcuRnJhbWV3b3JrLkhpdmVEZWJ1Z0xldmVsXTp2b2lkIDAhPXRbZV0/dGhpcy5sZXZlbD10W2VdOmNvbnNvbGUubG9nKFwiV3JvbmcgbG9nZ2luZyBsZXZlbDogXCIrZSx0KSx0aGlzLmdOKHIpfSxlLnByb3RvdHlwZS5nTj1mdW5jdGlvbihlKXt2YXIgcj17bG9nOnRoaXMuRU4odGhpcy5sb2dnZXIubG9nLHQuZXJyb3IsZSksZXJyb3I6dGhpcy5FTih0aGlzLmxvZ2dlci5lcnJvcix0LmVycm9yLGUpLHdhcm46dGhpcy5FTih0aGlzLmxvZ2dlci53YXJuLHQud2FybixlKSxub3RpY2U6dGhpcy5FTih0aGlzLmxvZ2dlci5pbmZvLHQubm90aWNlLGUpLGluZm86dGhpcy5FTih0aGlzLmxvZ2dlci5pbmZvLHQuaW5mbyxlKSxkZWJ1Zzp0aGlzLkVOKHRoaXMubG9nZ2VyLmRlYnVnLHQuZGVidWcsZSksdHJhY2U6dGhpcy5FTih0aGlzLmxvZ2dlci50cmFjZSx0LnRyYWNlLGUpfTtlP3RoaXMuZE4uc2V0KGUscik6dGhpcy52Tj1yfSxlLnByb3RvdHlwZS5FTj1mdW5jdGlvbihlLHQscil7aWYoISh0aGlzLmxldmVsPj10KSlyZXR1cm4gZnVuY3Rpb24oKXt9O3RyeXtyZXR1cm4gaS5IaXZlQ29uZmlnLkZyYW1ld29yay5Mb2dnZXJUaW1lc3RhbXA/cj9GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGUsY29uc29sZSxcIlNbXCIrcitcIl0gJXNcIix0aGlzLnRpbWVzdGFtcCk6RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChlLGNvbnNvbGUsXCIlc1wiLHRoaXMudGltZXN0YW1wKTpyP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoZSxjb25zb2xlLFwiU1tcIityK1wiXVwiKTpGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGUsY29uc29sZSl9Y2F0Y2goZSl7fX0sZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUpe3JldHVybiBlPyh0aGlzLmROLmhhcyhlKXx8dGhpcy5mTih0W3RoaXMubGV2ZWxdLGUpLHRoaXMuZE4uZ2V0KGUpKTp0aGlzLnZOfSxlfSgpO2UueU49cn0odC5UTnx8KHQuVE49e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMzApLG49cigyOCkscz1uLnNSLG89bi5vUixhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuU291cmNlVVJMUGFyYW1zPXt9LHRoaXMudGVzdElkPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLm1OPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKFwiU291cmNlVVJMUGFyYW1zXCI9PT10KWZvcih2YXIgciBpbiBlW3RdKXRoaXNbdF1bcl09ZVt0XVtyXTtlbHNlIHRoaXNbdF09ZVt0XTt0aGlzLklOKCl9LGUucHJvdG90eXBlLlNOPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5Db250ZW50SWQrdGhpcy5TaXRlSWQrdGhpcy5DUk9JZCt0aGlzLlNvdXJjZVVSTCx0PW5ldyBzO3QuTnYoXCJiNjYxNGMzZTRjZDFkMTRlZWQ2YjM5ZWYyYmY2YjlhM2UzZDZkZmNkMjY2OTlkNzI3MGQ4ODc5MjNiY2JmODNlZmIzZGFkYjcxN2MwYmFmYjFkNDhkY2UzNjFlYjM2OWI3Y2M0NmU1NzQwNWViZmJkZDg2YzMxNzU1MzJmZTU2Y2M3N2Y0NzNkMzQ1YjJjYjZmZWFmYjVhYjBlMjRmMzY0YTNkMjU5ZjI3ZTRhMmZkOTc0NjgyNjViZGRmZDNkZGQzYWM2NDI1MWRiNjUwY2EwMjgwYWYyYjJjNDVlOGIxYzhmMDQwZjJjNDMzYWMwYTE1N2QyYjNmZDkxNTE3MjUzXCIsXCIwMTAwMDFcIik7dmFyIHI9byh0aGlzLlNpZ25hdHVyZSk7cmV0dXJuIHQuWlMoZSxyKX0sZS5wcm90b3R5cGUuUk49ZnVuY3Rpb24oZSl7dGhpcy50aWNrZXRVcmw9ZTt2YXIgdD1pLnBhcnNlKGUpLHI9dC5wYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgzKTtpZih0aGlzLlNpdGVJZD1yWzBdLHRoaXMuQ1JPSWQ9clsxXSx0aGlzLkNvbnRlbnRJZD1yWzJdLHRoaXMud049clszXSx0LnF1ZXJ5KXRyeXt2YXIgbj10LnF1ZXJ5LnNwbGl0KFwiJlwiKTtmb3IodmFyIHMgaW4gbil7dmFyIG89bltzXS5zcGxpdCgvPSguKykvKTt0aGlzLlNvdXJjZVVSTFBhcmFtc1tvWzBdXT1vWzFdfX1jYXRjaChlKXt9dGhpcy5iTj1lLmluZGV4T2YoXCJhcGktdGVzdFwiKT4tMX0sZS5wcm90b3R5cGUudXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TaXRlSWR9LGUucHJvdG90eXBlLmNwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ1JPSWR9LGUucHJvdG90eXBlLmhwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ29udGVudElkfSxlLnByb3RvdHlwZS5DTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLndOfSxlLnByb3RvdHlwZS5fTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNvdXJjZVVSTH0sZS5wcm90b3R5cGUuUE49ZnVuY3Rpb24oKXtpZih0aGlzLkFOPXRoaXMuU291cmNlVVJMLHZvaWQgMCE9dGhpcy5Tb3VyY2VVUkxQYXJhbXMpe3ZhciBlPW5ldyBBcnJheTtmb3IodmFyIHQgaW4gdGhpcy5Tb3VyY2VVUkxQYXJhbXMpZS5wdXNoKHQrXCI9XCIrdGhpcy5Tb3VyY2VVUkxQYXJhbXNbdF0pO2UubGVuZ3RoPjAmJnRoaXMuQU4mJih0aGlzLkFOKz0odGhpcy5BTi5pbmRleE9mKFwiP1wiKT4wP1wiJlwiOlwiP1wiKStlLmpvaW4oXCImXCIpKX19LGUucHJvdG90eXBlLklOPWZ1bmN0aW9uKCl7dmFyIGU9cig3OCk7dGhpcy5zZXNzaW9uSWQ9ZS5PTigpfSxlLnByb3RvdHlwZS5OTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFOfHx0aGlzLlBOKCksdGhpcy5BTn0sZS5wcm90b3R5cGUua2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLlNpdGVJZCtcIi9cIit0aGlzLkNST0lkK1wiL1wiK3RoaXMuQ29udGVudElkK1wiXVwifSxlLnByb3RvdHlwZS5ETj1mdW5jdGlvbigpe3JldHVyblt0aGlzLlNpdGVJZCx0aGlzLkNST0lkLHRoaXMuQ29udGVudElkXX0sZS5wcm90b3R5cGUua049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Tb3VyY2VVUkwrXCItW1wiK3RoaXMuU2l0ZUlkK1wiL1wiK3RoaXMuQ1JPSWQrXCIvXCIrdGhpcy5Db250ZW50SWQrXCJdXCJ9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2QoKX0sZX0oKTthLkxOPVwiXmh0dHBzPzovL2FwaSg/Oi10ZXN0KT8uaGl2ZXN0cmVhbWluZy5jb20vdjEvZXZlbnRzLyg/OndpbGRjYXJkLyk/XCIsYS5NTj1cIkNST0lkXCIsYS5GTj1cIlNpdGVJZFwiLGEuVU49XCJDb250ZW50SWRcIix0LkJOPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS5ITj01NSxpLnhOPTZlNSxpLnFOPTUsaS5HTj01LGkuVk49NSxpLmpOPTEwLGkuUU49XCJkaXN0XCIsaS5LTj1cIi4vc2NlbmFyaW9zL0Jyb2tlblVkcFwiLGkuWU49bnVsbCxpLldOPW51bGwsaS56Tj1udWxsLGkuSk49ITAsaS5YTj0hMCxpLlpOPTZlNCx0LiROPWk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO24uZUQ9XCJCd0VtdWxhdGlvblwiLHQudEQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIscyl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLHMpO3Q9dHx8T2JqZWN0LmNzLHI9cnx8T2JqZWN0Lk9jLHM9c3x8RnVuY3Rpb24udXMsdGhpcy5scz10LHRoaXMuQWM9cix0aGlzLmRzPXMsdGhpcy5mcz1uZXcgbihudWxsLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZS5rZXksci5rZXkpfSxmdW5jdGlvbihlLHQpe3JldHVybiByKGUua2V5LHQua2V5KX0pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDExKSxyKDEzOSkpLHM9cigxMiksbz1yKDUyKSxhPXIoMTMpO2UuaT1pLGkuckQ9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxzLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMuQWMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmxvZz1mdW5jdGlvbihlLHQscixpKXt0PXR8fHRoaXMudnMsdGhpcy5mcy5sb2coZSxmdW5jdGlvbihlLHIsaSl7dChlLnZhbHVlLHIsaSl9LHIsaSl9LGkucHJvdG90eXBlLnZzPWZ1bmN0aW9uKGUsdCl7dChcIiBrZXk6IFwiK2Uua2V5KSx0KFwiIHZhbHVlOiBcIitlLnZhbHVlKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXIoNTkpLHM9cigzKSxvPXIoMjQpLGE9cigwKSxoPXIoNSksYz1yKDkpLHU9cigzMSksbD1yKDEwKSxwPXIoMSksZD1yKDIpOyFmdW5jdGlvbihlKXtlW2UubWM9MF09XCJQTEFZRVJcIixlW2UuaUQ9MV09XCJMQU5cIixlW2UubkQ9Ml09XCJTSVRFXCJ9KGk9dC5zRHx8KHQuc0Q9e30pKTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLm9EPSExLHRoaXMuYl89bnVsbCx0aGlzLmFEPS0xLHRoaXMuaEQ9MH1yZXR1cm4gZX0oKTt0LmNEPWY7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltQcmVmZXRjaGVyXSBcIix0aGlzLnVEPSEwLHRoaXMubEQ9MCx0aGlzLmlzQWN0aXZlPSEwLHRoaXMucEQ9bmV3IHMsdGhpcy5kRD1uZXcgc31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLmZEPWUuZ0QsdGhpcy5FRD1lLkVELHRoaXMudkQ9ZS52RCx0aGlzLnNDPWUuc0MsdGhpcy55RD1lLnlELHRoaXMuVEQ9ZS5URCx0aGlzLm1EPWUubUQsdGhpcy5JRD1lLklEfSxlLnByb3RvdHlwZS5TRD1mdW5jdGlvbigpe3RoaXMuaXNBY3RpdmU9ITB9LGUucHJvdG90eXBlLlJEPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250ZXh0PWUsdGhpcy53RD10LHRoaXMubUQuUkQodCl9LGUucHJvdG90eXBlLmJEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRELmhhcyhlKX0sZS5wcm90b3R5cGUuQ0Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53RH0sZS5wcm90b3R5cGUuX0Q9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7dHJ5e3ZhciBhPW5ldyBuO3RoaXMuZEQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2EuYWRkKHQpfSk7dmFyIGg9bmV3IG47aWYoaC5hZGRFYWNoKGUua2V5cygpKSx0aGlzLndELlBEKCkpe3ZhciBjPXRoaXMud0QuUEQoKS5iaXRyYXRlO2lmKGguYWRkKGMpLGguZm9yRWFjaChmdW5jdGlvbihlKXthLmRlbGV0ZShlKX0pLHIpe3ZhciB1PVtdO2EuZm9yRWFjaChmdW5jdGlvbihlKXtvLmRELmhhcyhlKSYmby5kRC5nZXQoZSkuQUQ9PWkubkQmJih1LnB1c2goZSksaC5hZGQoZSkpfSksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuZGVsZXRlKGUpfSl9dmFyIGw9bmV3IHM7aC5mb3JFYWNoKGZ1bmN0aW9uKHQpe28uZEQuaGFzKHQpJiZvLmRELmdldCh0KS5BRD09aS5uRD9sLnNldCh0LGkubkQpOmwuc2V0KHQsZS5nZXQodCkpfSksdGhpcy5PRChhKSx0aGlzLk5EKGwsdCl9fWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB1cGRhdGluZyB0aGUgcHJlZmV0Y2ggc2Vzc2lvbnNcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4ua24sZSl9fSxlLnByb3RvdHlwZS5ORD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7MCE9aSYmci5ERChpLGUsdCl9KX0sZS5wcm90b3R5cGUuT0Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7dC55RC5rRChlKSx0LmxvZ2dlci5kZWJ1Zyh0LmxvZ2dlcklkK1wiUmVtb3ZlIHVud2FudGVkIGJpdHJhdGUgXCIrZSksdC5kRC5kZWxldGUoZSl9KX0sZS5wcm90b3R5cGUuREQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZEQuaGFzKGUpP3RoaXMuTEQoZSxyKTp0aGlzLmRELmhhcyhlKXx8dGhpcy5NRChlLHQscil9LGUucHJvdG90eXBlLkxEPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPXRoaXMuZEQuZ2V0KGUpO3IudHlwZT10LHIudHlwZSE9aS5uRCYmKHIuYUQ9LTEpLHRoaXMueUQuRkQoZSxyKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uZmlndXJpbmcgYWxyZWFkeSBleGlzdGluZyBwcmVmZXRjaCBzZXNzaW9uc1wiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5MbixlKX19LGUucHJvdG90eXBlLk1EPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3RyeXt2YXIgcz1uZXcgZjtzLmJfPW51bGwscy50eXBlPXIscy5iaXRyYXRlPWUscy5BRD10LHRoaXMuZEQuc2V0KGUscyksdGhpcy5kRC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7bi5sb2dnZXIuZGVidWcobi5sb2dnZXJJZCtcIkFCVCBcIit0K1wiIFMgXCIraVtlLnR5cGVdK1wiIFBSRUYgUkVBU09OIFwiK2lbZS5BRF0pfSksdGhpcy55RC5GRChlLHMpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgYSBuZXcgcHJlZmV0Y2ggc2Vzc2lvblwiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5NbixlKX19LGUucHJvdG90eXBlLlVEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5kRC5oYXMoZS5nZXRCaXRyYXRlKCkpKXt2YXIgcj10aGlzLmRELmdldChlLmdldEJpdHJhdGUoKSk7ci5hRD4wJiZyLkJEJiYoci5hRD1lLmR1cmF0aW9uLShhLkZyYW1ld29yay50aW1lKCktci5CRCktci5oRCxyLmhEPTUwKSxyLmJfPWUsdGhpcy5IRChlLmdldEJpdHJhdGUoKSksdGhpcy5kRC5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7ciYmci50eXBlIT1pLm1jJiZuIT1lLmdldEJpdHJhdGUoKSYmdC54RChyLG4pfSl9ZWxzZSBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmV0cmlldmluZyBhIGZyYWdtZW50IHdpdGhvdXQgaGF2aW5nIGEgcHJlZmV0Y2ggc2Vzc2lvblwiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5Gbil9LGUucHJvdG90eXBlLnFEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZEQua2V5cygpLHI9dC5pbmRleE9mKGUpO3JldHVybi0xIT1yJiZ0LnNwbGljZShyLDEpLHR9LGUucHJvdG90eXBlLkdEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuZEQuZ2V0KGUpO3ImJnIudHlwZSE9aS5tYyYmdC54RChyLHIuYml0cmF0ZSl9KX0sZS5wcm90b3R5cGUueEQ9ZnVuY3Rpb24oZSx0KXtpZihlLnR5cGUhPWkubWMpe3ZhciByPXRoaXMud0QuUEQoKTtpZihudWxsIT1yKXt2YXIgbj10aGlzLndELlZEKHIuQ18sdCxjLnZjLmZjKTtudWxsPT1uPyh0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUFJFRkVUQ0hJTkcgXCIrdCtcIiBNSVNTSU5HIE1FVEFEQVRBIFwiKSx0aGlzLm9EKHQpKTooZS5iXz1uLHRoaXMuSEQobi5nZXRCaXRyYXRlKCkpKX1lbHNlIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJQTEFZRVIgTk9UIFBMQVlJTkcgXCIpLHRoaXMub0QodCl9fSxlLnByb3RvdHlwZS5qRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRELmdldChlKTt0JiZ0Lm9EJiYobnVsbCE9dC5iXz8odGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlJFU1RBUlQgUFJFRkVUQ0hJTkcgT04gQVZBSUxBQkxFIE1FVEFEQVRBXCIpLHQub0Q9ITEsdGhpcy5IRCh0LmJpdHJhdGUpKToodC5vRD0hMSx0aGlzLnhEKHQsZSkpKX0sZS5wcm90b3R5cGUuUUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlP3RoaXMuakQoZSk6dGhpcy5kRC5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dC5qRChyKX0pfSxlLnByb3RvdHlwZS5IRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLndELlBEKCk7aWYodCl7dmFyIHI9dGhpcy5kRC5nZXQoZSk7aWYocil7aWYoci5iXyYmdC5nZXRCaXRyYXRlKCk9PWUpe3ZhciBpPXRoaXMuS0Qoci5iXy5BXygpLGUpO3RoaXMueUQuc2V0RGVsdGEoaSl9dGhpcy5ZRChyKX19ZWxzZSBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYXR0ZW1wdGluZyBwcmVmZXRjaCBiZWZvcmUgaGF2aW5nIGEgcGxheWVyIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4uVW4pfSxlLnByb3RvdHlwZS5ZRD1mdW5jdGlvbihlKXtpZihlLmJfKXt2YXIgdD10aGlzLldEKGUuYl8pO2lmKG51bGwhPXQpdGhpcy56RCh0LGUpO2Vsc2V7dmFyIHI9ZS5iaXRyYXRlO3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJQUkVGRVRDSElORyBcIityK1wiIFNUT1BQRUQgQkVDQVVTRSBPRiBNSVNTSU5HIE1FVEFEQVRBIFwiKSx0aGlzLmRELmdldChyKS5vRD0hMCx0aGlzLm9EKHIpfX1lbHNlIGUub0Q9ITAsdGhpcy5vRChlLmJpdHJhdGUpfSxlLnByb3RvdHlwZS56RD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzLkpEKGUuWmYoKSxlLmdldEJpdHJhdGUoKSxlLkFfKCksdC50eXBlKTtpZihuLlhEKXRyeXt0aGlzLnBELmhhcyhlLlpmKCkpJiZhLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5wRC5nZXQoZS5aZigpKSk7dmFyIHM9bi50eXBlPT1vLmJmLklmLGM9MTtpZihzKXt2YXIgbD1NYXRoLm1heCgwLHQuYUQpO2M9dGhpcy5tRC5aRCh0LnR5cGUsZS5nZXRCaXRyYXRlKCksZS5BXygpLGwpfXRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJQUkVGRVRDSElORyBcIitlLnVybCtcIiBDRE4gUFJFRkVUQ0ggXCIrcytcIiBJTiBcIitjK1wiIE1TRUNTXCIpO3ZhciBmPXRoaXMuZEQuZ2V0KGUuZ2V0Qml0cmF0ZSgpKTtmLmJfPWU7dmFyIGc9YS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IucEQuZGVsZXRlKGUuWmYoKSk7dmFyIHM9bmV3IHUuSGl2ZVJlcXVlc3Qoci5FRC5zZXNzaW9uSWQpO3MudXJsPWUudXJsLGYuQkQ9YS5GcmFtZXdvcmsudGltZSgpLHIubEQ9MDt2YXIgYz1yLkVELiREKHMsZSxyLmNvbnRleHQsbi50eXBlKTtjJiYoYy5HZj10LnR5cGU9PWkubkR8fHQudHlwZT09aS5pRCxzLm9uZXJyb3I9cy5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihjLkpmKCk9PW8uYmYuSWYmJighcy5zdGF0dXN8fHMuc3RhdHVzPDIwMHx8cy5zdGF0dXM+Mjk5KSl7dmFyIHQ9ci5kRC5nZXQoZS5nZXRCaXRyYXRlKCkpO3M9bnVsbDt2YXIgaT10LmJfLmR1cmF0aW9uLG49dC5iXy5kdXJhdGlvbitoLmhoLmZhLlpvLHU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihuLWkpKStpO3QuYUQ9dS0oYS5GcmFtZXdvcmsudGltZSgpLXQuQkQpLHQuaEQ9MCxyLkhEKHQuYl8uYml0cmF0ZSl9fSl9LGMpO3RoaXMucEQuc2V0KGUuWmYoKSxnKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVxdWVzdGluZyBmb3IgcHJlZmV0Y2hcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4ueG4sZSl9fSxlLnByb3RvdHlwZS5laz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wRC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5sb2dnZXIuZGVidWcoZS5sb2dnZXJJZCtcIkNsZWFyaW5nIGRlbGF5ZWQgcHJlZmV0Y2ggdGltZXIgaWQgXCIrdCksYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHQpLGUucEQuZGVsZXRlKHIpfSksdGhpcy5pc0FjdGl2ZT0hMX0sZS5wcm90b3R5cGUub0Q9ZnVuY3Rpb24oZSl7dGhpcy5kRC5oYXMoZSkmJih0aGlzLmRELmdldChlKS5vRD0hMCx0aGlzLndELnRrKGUpKX0sZS5wcm90b3R5cGUuV0Q9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXRoaXMuZEQuZ2V0KGUuZ2V0Qml0cmF0ZSgpKSxyPWUsaT10aGlzLnJrKHIpO3JldHVybiBpJiZpLlpmKCkhPWUuWmYoKT9pOmkmJmkuWmYoKT09dC5iXy5aZigpP2U6bnVsbH1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGZvcndhcmRpbmcgdG8gbmV4dCBzZWdtZW50XCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLkJuLGUpLG51bGx9fSxlLnByb3RvdHlwZS5yaz1mdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiBudWxsO3ZhciB0PXRoaXMuc0MuaWsoITApLHI9ZTtpZih0KWZvcig7bnVsbCE9ciYmLTEhPXQuaW5kZXhPZihyLlpmKCkpOylpZighKHI9dGhpcy53RC5uayhyKSkpcmV0dXJuIHI7cmV0dXJuIHJ9LGUucHJvdG90eXBlLkpEPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgcz10aGlzLnNrKGUpLGE9cz9vLmJmLndmOm8uYmYuSWYsaD0hMTtoPW4hPWkubWM/IXRoaXMucEQuaGFzKGUpfHxhIT1vLmJmLklmOmE9PW8uYmYud2Y7dmFyIGM9dGhpcy53RC5haygpLHU9dGhpcy5oayhyLHQsYSksbD1uPT1pLm5EO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUFJFRkVUQ0hJTkcgXCIrby5iZlthXStcIiAoTEFOIExFQURFUjogXCIrdGhpcy55RC5jaygpK1wiIFNJVEUgTEVBREVSOiBcIitsK1wiKSBDSEVDS1MgRk9SIFwiK2UrXCIgW0hBVkVTOlwiK3MrXCIgTk9UQlVGRkVSSU5HOlwiK2MrXCIgRElTVEFOQ0U6XCIrdS52YWxpZCtcIihcIit1LnVrK1wiKV1cIikse1hEOmgmJmMmJnUudmFsaWQmJnRoaXMuaXNBY3RpdmUsdHlwZTphfX1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNoZWNraW5nIGlmIGFsbG93ZWQgdG8gcHJlZmV0Y2hcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4uSG4sZSkse1hEOiExLHR5cGU6by5iZi5JZn19fSxlLnByb3RvdHlwZS5oaz1mdW5jdGlvbihlLHQscil7dHJ5e3ZhciBpPXRoaXMud0QubGsoZSx0KTtyZXR1cm4gaTw9dGhpcy53RC5waygpP3t1azppLHZhbGlkOiEwfTp7dWs6aSx2YWxpZDohMX19Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjaGVja2luZyB0aGUgcGxheWVyIGRpc3RhbmNlXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLnFuLGUpLHt1azowLHZhbGlkOiExfX19LGUucHJvdG90eXBlLktEPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy53RC5QRCgpO2lmKG51bGwhPXIpe3ZhciBpPXIuQV8oKTtyZXR1cm4gdGhpcy53RC5kayhpLHQsZSx0KX1yZXR1cm4tMX0sZS5wcm90b3R5cGUuc2s9ZnVuY3Rpb24oZSl7aWYodGhpcy5mRC5jb250YWlucyhlKSl7dmFyIHQ9dGhpcy5mRC5mayhlKTtpZih0Lmxlbmd0aD49aC5oaC5mYS50YSl7aWYoaC5oaC5mYS5pYSl7dmFyIHI9W10saT1bXSxuPVtdLHM9dGhpcy55RC5naygpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5Fay5wZWVySW5mby50eXBlPT1sLlRjLlcmJnIucHVzaChlKTt2YXIgdD1lLkVrLnBlZXJJbmZvLmludGVybmFsQXM7MCE9cyYmdCYmcz09dCYmaS5wdXNoKGUpLGUuRWsucGVlckluZm8udHlwZT09bC5UYy55YyYmbi5wdXNoKGUpfSksci5sZW5ndGg+MD8hdGhpcy51RHx8IXRoaXMudmsocixlKTohKCF0aGlzLnlELmNrKCkmJnRoaXMueUQueWsoKXx8IShpLmxlbmd0aD4wKSl8fCEoIShuLmxlbmd0aD4wKXx8IXRoaXMueUQuVGsoKSYmdGhpcy55RC5taygpKX1yZXR1cm4hMH19cmV0dXJuITF9LGUucHJvdG90eXBlLnZrPWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKHRoaXMueUQuSWsoKS5sZW5ndGg+aC5oaC5mYS5sYSl7dGhpcy55RC5TaygpO3JldHVybiBlLmxlbmd0aD09aC5oaC5mYS51YSYmZVswXS5ndWlkPT10aGlzLnlELlJrKCkudXVpZCYmKGEuRnJhbWV3b3JrLnJhbmRvbSgpPmguaGguZmEucGEmJnRoaXMubEQ8aC5oaC5mYS5kYSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwiU0tJUCBQUkVGRVRDSCBDWUNMRSBcIit0aGlzLmxEK1wiIFRPIE9GRkxPQUQgTEVBREVSXCIpLHRoaXMubEQrKywhMCkpfXJldHVybiExfWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZGVjaWRpbmcgdG8gb2ZmbG9hZCB0aGUgbGVhZGVyXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLkduLGUpLCExfX0sZS5wcm90b3R5cGUud2s9ZnVuY3Rpb24oZSx0KXt0cnl7ZS5iaz1lLktmLmlkLGUuS2Y9dCx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiVVBHUkFERSBcIitvLmJmW2UuSmYoKV0rXCIgUkVRIFwiK2UuWWYrXCIgRk9SIFwiK2UuemYuWmYoKSksZS5KZigpPT1vLmJmLndmPyhlLnFmLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUuUWYsZS5WZj8oZS50eXBlPW8uYmYuUmYsdGhpcy52RC5DayhlKXx8KHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTRVQgUkVRVUVTVCBUSU1FRC1PVVQgV0FTIDAuIENETiBDT01QRU5TQVRJT05cIiksdGhpcy52RC5fayhlLlBrLFwiVElNRUQtT1VUXCIpKSk6KGUudHlwZT1vLmJmLlRmLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJUSEUgSElWRSBSRVEgXCIrZS5aZigpK1wiIEFSUklWRUQgQkVGT1JFIFRIRSBQMlBfUFJFRkVUQ0ggSU5JVElBTElaRUQuIENIQU5HRSBSRVFVRVNUIFRZUEUgVE8gXCIrby5iZltlLkpmKCldKSkpOmUuSmYoKT09by5iZi5JZiYmKGUudHlwZT1vLmJmLlRmKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdXBncmFkaW5nIHByZWZldGNoXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLlZuLGUpfX0sZX0oKTt0LkFrPWd9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIpO3ZhciBuPXRoaXMuaGVhZD1uZXcgdGhpcy5Ob2RlO24ubmV4dD1uLG4uT2s9bix0aGlzLmxzPXR8fE9iamVjdC5jcyx0aGlzLmRzPXJ8fEZ1bmN0aW9uLnVzLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfWZ1bmN0aW9uIG4oZSl7dGhpcy5oZWFkPWUsdGhpcy5Oaz1lLm5leHR9ZnVuY3Rpb24gcyhlKXt0aGlzLnZhbHVlPWUsdGhpcy5Paz1udWxsLHRoaXMubmV4dD1udWxsfWUuaT1pO3ZhciBvPShyKDExKSxyKDEyKSksYT1yKDY3KSxoPXIoMTMpLGM9cigzOCk7aS5Eaz1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxhLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsaC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGMucHJvdG90eXBlKSxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMuZHMpfSxpLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUsdCxyKXt0PXR8fHRoaXMubHM7Zm9yKHZhciBpPXRoaXMuaGVhZCxuPXRoaXMua2socixpLm5leHQpO24hPT1pOyl7aWYodChuLnZhbHVlLGUpKXJldHVybiBuO249bi5uZXh0fX0saS5wcm90b3R5cGUuTGs9ZnVuY3Rpb24oZSx0LHIpe3Q9dHx8dGhpcy5scztmb3IodmFyIGk9dGhpcy5oZWFkLG49dGhpcy5rayhyLGkuT2spO24hPT1pOyl7aWYodChuLnZhbHVlLGUpKXJldHVybiBuO249bi5Pa319LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlLHQpe3JldHVybiEhdGhpcy5maW5kKGUsdCl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZmluZChlLHQpO3JldHVybiByP3IudmFsdWU6dGhpcy5kcyhlKX0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5MayhlLHQpO2lmKHIpe2lmKHRoaXMuTWspe3ZhciBpPVtdLG49W2VdO3RoaXMuUUEoaSxuLHIuaW5kZXgpfXJldHVybiByLmRlbGV0ZSgpLHRoaXMubGVuZ3RoLS0sdGhpcy5NayYmKHRoaXMuRmsoci5uZXh0LHIuaW5kZXgpLHRoaXMuR0EoaSxuLHIuaW5kZXgpKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuWEE9ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMubHM7Zm9yKHZhciByPXRoaXMuaGVhZCxpPXIubmV4dCxuPTA7aSE9PXI7KXQoZSxpLnZhbHVlKSYmKGkuZGVsZXRlKCksbisrKSxpPWkubmV4dDtyZXR1cm4gdGhpcy5sZW5ndGgtPW4sbn0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZSx0O3RoaXMuTWsmJih0PXRoaXMudG9BcnJheSgpLGU9W10sdGhpcy5RQShlLHQsMCkpLHRoaXMuaGVhZC5uZXh0PXRoaXMuaGVhZC5Paz10aGlzLmhlYWQsdGhpcy5sZW5ndGg9MCx0aGlzLk1rJiZ0aGlzLkdBKGUsdCwwKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzLk5vZGUoZSk7cmV0dXJuIHRoaXMuTWsmJih0LmluZGV4PXRoaXMubGVuZ3RoLHRoaXMuUUEoW2VdLFtdLHQuaW5kZXgpKSx0aGlzLmhlYWQuVWsodCksdGhpcy5sZW5ndGgrKyx0aGlzLk1rJiZ0aGlzLkdBKFtlXSxbXSx0LmluZGV4KSwhMH0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGVhZDtpZih0aGlzLk1rKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHI9W10saT10aGlzLmxlbmd0aDt0aGlzLlFBKHQscixpKTt2YXIgbj10aGlzLmhlYWQuT2t9Zm9yKHZhciBzPTA7czxhcmd1bWVudHMubGVuZ3RoO3MrKyl7dmFyIG89YXJndW1lbnRzW3NdLGE9bmV3IHRoaXMuTm9kZShvKTtlLlVrKGEpfXRoaXMubGVuZ3RoKz1hcmd1bWVudHMubGVuZ3RoLHRoaXMuTWsmJih0aGlzLkZrKG4ubmV4dCx2b2lkIDA9PT1uLmluZGV4PzA6bi5pbmRleCsxKSx0aGlzLkdBKHQscixpKSl9LGkucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLk1rKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHQ9W107dGhpcy5RQShlLHQsMCl9Zm9yKHZhciByPXRoaXMuaGVhZCxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIG49YXJndW1lbnRzW2ldLHM9bmV3IHRoaXMuTm9kZShuKTtyLkJrKHMpLHI9c310aGlzLmxlbmd0aCs9YXJndW1lbnRzLmxlbmd0aCx0aGlzLk1rJiYodGhpcy5Gayh0aGlzLmhlYWQubmV4dCwwKSx0aGlzLkdBKGUsdCwwKSl9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5oZWFkO2lmKHQuT2shPT10KXtpZihlPXQuT2sudmFsdWUsdGhpcy5Nayl7dmFyIHI9W10saT1bZV0sbj10aGlzLmxlbmd0aC0xO3RoaXMuUUEocixpLG4pfXQuT2suZGVsZXRlKCksdGhpcy5sZW5ndGgtLSx0aGlzLk1rJiZ0aGlzLkdBKHIsaSxuKX1yZXR1cm4gZX0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuaGVhZDtpZih0Lk9rIT09dCl7aWYoZT10Lm5leHQudmFsdWUsdGhpcy5Nayl7dmFyIHI9W10saT1bZV07dGhpcy5RQShyLGksMCl9dC5uZXh0LmRlbGV0ZSgpLHRoaXMubGVuZ3RoLS0sdGhpcy5NayYmKHRoaXMuRmsodGhpcy5oZWFkLm5leHQsMCksdGhpcy5HQShyLGksMCkpfXJldHVybiBlfSxpLnByb3RvdHlwZS5Iaz1mdW5jdGlvbigpe2lmKHRoaXMuaGVhZCE9PXRoaXMuaGVhZC5uZXh0KXJldHVybiB0aGlzLmhlYWQubmV4dC52YWx1ZX0saS5wcm90b3R5cGUueGs9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkIT09dGhpcy5oZWFkLm5leHQ/dGhpcy5oZWFkLm5leHQudmFsdWU9ZTp0aGlzLnB1c2goZSl9LGkucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGsoKX0saS5wcm90b3R5cGUua2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmhlYWQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe3ZhciBpPWU7aWYoaT49MClmb3IoZT1yLm5leHQ7aSYmKGktLSwoZT1lLm5leHQpIT1yKTspO2Vsc2UgZm9yKGU9cjtpPDAmJihpKyssKGU9ZS5PaykhPXIpOyk7cmV0dXJuIGV9cmV0dXJuIGV8fHR9LGkucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W10saT10aGlzLmhlYWQ7Zm9yKGU9dGhpcy5rayhlLGkubmV4dCksdD10aGlzLmtrKHQsaSk7ZSE9PXQmJmUhPT1pOylyLnB1c2goZS52YWx1ZSksZT1lLm5leHQ7cmV0dXJuIHJ9LGkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnFrKGUsdCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxpLnByb3RvdHlwZS5xaz1mdW5jdGlvbihlLHQscil7dmFyIGk9ZTtlPXRoaXMua2soZSx0aGlzLmhlYWQpLG51bGw9PXQmJih0PTEvMCkscj1BcnJheS5mcm9tKHIpO2Zvcih2YXIgbj1bXSxzPWU7dC0tJiZ0Pj0wJiZzIT09dGhpcy5oZWFkOyluLnB1c2gocy52YWx1ZSkscz1zLm5leHQ7dmFyIG8sYTt0aGlzLk1rJiYobz1lPT09dGhpcy5oZWFkP3RoaXMubGVuZ3RoOmUuT2s9PT10aGlzLmhlYWQ/MDplLmluZGV4LGE9ZS5Payx0aGlzLlFBKHIsbixvKSk7Zm9yKHZhciBzPWUsaD0wLHM9ZTtoPG4ubGVuZ3RoO2grKyxzPXMubmV4dClzLmRlbGV0ZSgpO251bGw9PWkmJnM9PT10aGlzLmhlYWQmJihzPXRoaXMuaGVhZC5uZXh0KTtmb3IodmFyIGg9MDtoPHIubGVuZ3RoO2grKyl7dmFyIGM9bmV3IHRoaXMuTm9kZShyW2hdKTtzLlVrKGMpfXJldHVybiB0aGlzLmxlbmd0aCs9ci5sZW5ndGgtbi5sZW5ndGgsdGhpcy5NayYmKGU9PT10aGlzLmhlYWQ/dGhpcy5Gayh0aGlzLmhlYWQubmV4dCwwKTp0aGlzLkZrKGEubmV4dCxhLmluZGV4KzEpLHRoaXMuR0EocixuLG8pKSxufSxpLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7aWYodGhpcy5Nayl7dmFyIGU9dGhpcy50b0FycmF5KCksdD1lLnJldmVyc2VkKCk7dGhpcy5RQSh0LGUsMCl9dmFyIHI9dGhpcy5oZWFkO2Rve3ZhciBpPXIubmV4dDtyLm5leHQ9ci5PayxyLk9rPWkscj1yLm5leHR9d2hpbGUociE9PXRoaXMuaGVhZCk7cmV0dXJuIHRoaXMuTWsmJnRoaXMuR0EodCxlLDApLHRoaXN9LGkucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24oKXt0aGlzLnFrKDAsdGhpcy5sZW5ndGgsdGhpcy5GYygpKX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWFyZ3VtZW50c1syXSxpPXRoaXMuaGVhZCxuPWkubmV4dDtuIT09aTspdD1lLmNhbGwocix0LG4udmFsdWUsbix0aGlzKSxuPW4ubmV4dDtyZXR1cm4gdH0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YXJndW1lbnRzWzJdLGk9dGhpcy5oZWFkLG49aS5PaztuIT09aTspdD1lLmNhbGwocix0LG4udmFsdWUsbix0aGlzKSxuPW4uT2s7cmV0dXJuIHR9LGkucHJvdG90eXBlLkZrPWZ1bmN0aW9uKGUsdCl7Zm9yKDtlIT09dGhpcy5oZWFkOyllLmluZGV4PXQrKyxlPWUubmV4dH0saS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLmhlYWQuaW5kZXg9LTEsdGhpcy5Gayh0aGlzLmhlYWQubmV4dCwwKSx0aGlzLk1rPSEwfSxpLnByb3RvdHlwZS5IYz1mdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLmhlYWQpfSxuLnByb3RvdHlwZS5Haz1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2t8fCh0aGlzLkdrPXtkb25lOiExLHZhbHVlOm51bGx9KX19KSxuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5Oaz09PXRoaXMuaGVhZCl0aGlzLlZrLmRvbmU9ITAsdGhpcy5Way52YWx1ZT12b2lkIDA7ZWxzZXt2YXIgZT10aGlzLk5rLnZhbHVlO3RoaXMuTms9dGhpcy5Oay5uZXh0LHRoaXMuVmsudmFsdWU9ZX1yZXR1cm4gdGhpcy5Wa30saS5wcm90b3R5cGUuTm9kZT1zLHMucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3RoaXMuT2submV4dD10aGlzLm5leHQsdGhpcy5uZXh0Lk9rPXRoaXMuT2t9LHMucHJvdG90eXBlLlVrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuT2s7dGhpcy5Paz1lLGUuT2s9dCx0Lm5leHQ9ZSxlLm5leHQ9dGhpc30scy5wcm90b3R5cGUuQms9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5uZXh0O3RoaXMubmV4dD1lLGUubmV4dD10LHQuT2s9ZSxlLk9rPXRoaXN9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQpO3Q9dHx8RnVuY3Rpb24udXMsdGhpcy5kcz10LHRoaXMuZnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmxlbmd0aD0wLHRoaXMuYWRkRWFjaChlKX12YXIgbj0ocigxMSkscigxMikpLHM9cig1Miksbz1yKDEzKTtlLmk9aSxpLmprPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsbi5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksaS5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5kcyl9LGkucHJvdG90eXBlLlFrPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJrZXkgbXVzdCBiZSBhIHN0cmluZyBidXQgR290IFwiK2UpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCIkX19wcm90b19fXCIse0FoOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiX2hhc1Byb3RvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KFwiJF9fcHJvdG9fX1wiKSYmdm9pZCAwIT09dGhpcy5La319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJfcHJvdG9WYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Za30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuWWs9ZX19KSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5RayhlKSxcIl9fcHJvdG9fX1wiPT09ZT90aGlzLldrP3RoaXMuS2s6YXJndW1lbnRzLmxlbmd0aD4xP3Q6dGhpcy5kcyhlKTplIGluIHRoaXMuZnM/dGhpcy5mc1tlXTphcmd1bWVudHMubGVuZ3RoPjE/dDp0aGlzLmRzKGUpfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLlFrKGUpO3ZhciByPVwiX19wcm90b19fXCI9PT1lO3JldHVybihyP3RoaXMuV2s6ZSBpbiB0aGlzLmZzKT8odGhpcy56ayYmdGhpcy5KayhlLHI/dGhpcy5Lazp0aGlzLmZzW2VdKSxyP3RoaXMuS2s9dDp0aGlzLmZzW2VdPXQsdGhpcy56ayYmdGhpcy5YayhlLHQpLCExKToodGhpcy56ayYmdGhpcy5KayhlLHZvaWQgMCksdGhpcy5sZW5ndGgrKyxyP3RoaXMuS2s9dDp0aGlzLmZzW2VdPXQsdGhpcy56ayYmdGhpcy5YayhlLHQpLCEwKX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlFrKGUpLFwiX19wcm90b19fXCI9PT1lP3RoaXMuV2s6ZSBpbiB0aGlzLmZzfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUWsoZSksXCJfX3Byb3RvX19cIj09PWU/ISF0aGlzLldrJiYodGhpcy56ayYmdGhpcy5KayhlLHRoaXMuS2spLHRoaXMuS2s9dm9pZCAwLHRoaXMubGVuZ3RoLS0sdGhpcy56ayYmdGhpcy5YayhlLHZvaWQgMCksITApOmUgaW4gdGhpcy5mcyYmKHRoaXMuemsmJnRoaXMuSmsoZSx0aGlzLmZzW2VdKSxkZWxldGUgdGhpcy5mc1tlXSx0aGlzLmxlbmd0aC0tLHRoaXMuemsmJnRoaXMuWGsoZSx2b2lkIDApLCEwKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLldrJiYodGhpcy56ayYmdGhpcy5KayhcIl9fcHJvdG9fX1wiLHRoaXMuS2spLHRoaXMuS2s9dm9pZCAwLHRoaXMuemsmJnRoaXMuWGsoXCJfX3Byb3RvX19cIix2b2lkIDApKTtmb3IoZSBpbiB0aGlzLmZzKXRoaXMuemsmJnRoaXMuSmsoZSx0aGlzLmZzW2VdKSxkZWxldGUgdGhpcy5mc1tlXSx0aGlzLnprJiZ0aGlzLlhrKGUsdm9pZCAwKTt0aGlzLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuV2smJih0PWUuY2FsbChyLHQsXCIkX19wcm90b19fXCIsXCJfX3Byb3RvX19cIix0aGlzKSk7dmFyIGk9dGhpcy5mcztmb3IodmFyIG4gaW4gdGhpcy5mcyl0PWUuY2FsbChyLHQsaVtuXSxuLHRoaXMpO3JldHVybiB0fSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxuPXRoaXMuZnM7cmV0dXJuIHQ9T2JqZWN0LmtleXModGhpcy5mcykucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxzKXtyZXR1cm4gZS5jYWxsKHIsdCxuW3NdLHMsaSl9LHQpLHRoaXMuV2s/ZS5jYWxsKHIsdCx0aGlzLktrLFwiX19wcm90b19fXCIsaSk6dH0saS5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXt2YXIgZTtmb3IoZSBpbiB0aGlzLmZzKXJldHVybiB0aGlzLmZzW2VdO3JldHVybiB0aGlzLktrfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QYygpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNNYXAgaXMgYSBtaXhpbi5cIil9ZnVuY3Rpb24gbihlLHQpe3RoaXMua2V5PWUsdGhpcy52YWx1ZT10fXZhciBzPXIoMzYpLG89cigxMDEpLGE9cigxMyk7ZS5pPWkscy5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxzLmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmlzTWFwPSEwLGkucHJvdG90eXBlLmFkZEVhY2g9ZnVuY3Rpb24oZSl7aWYoZSYmcyhlKT09PWUpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5mb3JFYWNoKSEwPT09ZS5pc01hcD9lLmZvckVhY2goZnVuY3Rpb24oZSx0KXt0aGlzLnNldCh0LGUpfSx0aGlzKTplLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5zZXQoZVswXSxlWzFdKX0sdGhpcyk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5hZGQoZVt0XSx0KTtlbHNlIHMua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuc2V0KHQsZVt0XSl9LHRoaXMpO2Vsc2UgaWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuYWRkKGVbdF0sdCk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZnMuZ2V0KG5ldyB0aGlzLlprKGUpKTtyZXR1cm4gcj9yLnZhbHVlOmFyZ3VtZW50cy5sZW5ndGg+MT90OnRoaXMuZHMoZSl9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyB0aGlzLlprKGUsdCksaT10aGlzLmZzLmdldChyKSxuPSExO3JldHVybiBpPyh0aGlzLnprJiZ0aGlzLkprKGUsaS52YWx1ZSksaS52YWx1ZT10LHRoaXMuemsmJnRoaXMuWGsoZSx0KSk6KHRoaXMuemsmJnRoaXMuSmsoZSx2b2lkIDApLHRoaXMuZnMuYWRkKHIpJiYodGhpcy5sZW5ndGgrKyxuPSEwKSx0aGlzLnprJiZ0aGlzLlhrKGUsdCkpLG59LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldCh0LGUpfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnMuaGFzKG5ldyB0aGlzLlprKGUpKX0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzLlprKGUpO2lmKHRoaXMuZnMuaGFzKHQpKXt2YXIgcj10aGlzLmZzLmdldCh0KS52YWx1ZTtyZXR1cm4gdGhpcy56ayYmdGhpcy5KayhlLHIpLHRoaXMuZnMuZGVsZXRlKHQpLHRoaXMubGVuZ3RoLS0sdGhpcy56ayYmdGhpcy5YayhlLHZvaWQgMCksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy56ayYmKHRoaXMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3RoaXMuSmsodCxlKX0sdGhpcyksZT10aGlzLmtleXMoKSksdGhpcy5mcy5jbGVhcigpLHRoaXMubGVuZ3RoPTAsdGhpcy56ayYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuWGsoZSl9LHRoaXMpfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmZzLnJlZHVjZShmdW5jdGlvbih0LGkpe3JldHVybiBlLmNhbGwocix0LGkudmFsdWUsaS5rZXksdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5mcy5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGkpe3JldHVybiBlLmNhbGwocix0LGkudmFsdWUsaS5rZXksdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pfSxpLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoRnVuY3Rpb24uaWRlbnRpdHkpfSxpLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QsZV19KX0saS5wcm90b3R5cGUuJGs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LGkucHJvdG90eXBlLmNzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8cy5jcyx0aGlzPT09ZXx8KGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZXZlcnk/ZS5sZW5ndGg9PT10aGlzLmxlbmd0aCYmZS5ldmVyeShmdW5jdGlvbihlLHIpe3JldHVybiB0KHRoaXMuZ2V0KHIpLGUpfSx0aGlzKTpzLmtleXMoZSkubGVuZ3RoPT09dGhpcy5sZW5ndGgmJnMua2V5cyhlKS5ldmVyeShmdW5jdGlvbihyKXtyZXR1cm4gdCh0aGlzLmdldChyKSxlW3JdKX0sdGhpcykpfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LGkucHJvdG90eXBlLlprPW4sbi5wcm90b3R5cGUuY3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuY3ModGhpcy5rZXksZS5rZXkpJiZzLmNzKHRoaXMudmFsdWUsZS52YWx1ZSl9LG4ucHJvdG90eXBlLk9jPWZ1bmN0aW9uKGUpe3JldHVybiBzLk9jKHRoaXMua2V5LGUua2V5KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNzApLHM9cigyMSksbz1yKDcxKSxhPXIoNyksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQubWU9ZnVuY3Rpb24oZSl7dC5sb2dnZXI9ZX0sdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe2lmKHQubG9nZ2VyJiZ0LmxvZ2dlci5kZWJ1Zyh0aGlzLm1ldGhvZCtcIiBcIit0aGlzLnVybCksIXRoaXMuc2Vzc2lvbklkKXt2YXIgZT1PYmplY3Qua2V5cyh0LnViKTtlLmxlbmd0aD4wJiYodGhpcy5zZXNzaW9uSWQ9dC51YltlWzBdXSl9dmFyIHI9dGhpcyxpPW5ldyBYTUxIdHRwUmVxdWVzdDswPT09dGhpcy51cmwuaW5kZXhPZihcIi8vXCIpJiYodGhpcy51cmw9bG9jYXRpb24ucHJvdG9jb2wrdGhpcy51cmwpO3ZhciBvPXMuSXAobi50TC5lTCxuLnRMLmRPLG4udEwuckwsdGhpcy5zZXNzaW9uSWQsZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMudXJsKSk7aS5vcGVuKFwiR0VUXCIsbyksdGhpcy5yZXNwb25zZVR5cGUmJihpLnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVHlwZSksaS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt9LGkub25sb2FkPWZ1bmN0aW9uKCl7aWYoND09PWkucmVhZHlTdGF0ZSl0cnl7ci5yZXNwb25zZUhlYWRlcnM9aS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxyLnJlc3BvbnNlPWkucmVzcG9uc2U7dmFyIGU9aS5yZXNwb25zZS5ieXRlTGVuZ3RoO1wiYXJyYXlidWZmZXJcIiE9PWkucmVzcG9uc2VUeXBlJiYoci5yZXNwb25zZVRleHQ9aS5yZXNwb25zZSksci5yZWFkeVN0YXRlPTQsci5zdGF0dXM9aS5zdGF0dXMsci5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInByb2dyZXNzXCIse2xlbmd0aENvbXB1dGFibGU6ITAsbG9hZGVkOmUsdG90YWw6ZSxjdXJyZW50VGFyZ2V0OnJ9KSksci5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIse2N1cnJlbnRUYXJnZXQ6cixidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KSksci5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRcIix7Y3VycmVudFRhcmdldDpyLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLGxvYWRlZDplLHRvdGFsOjB9KSksci5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRlbmRcIix7Y3VycmVudFRhcmdldDpyLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLGxvYWRlZDplLHRvdGFsOjB9KSl9Y2F0Y2goZSl7dC5sb2dnZXImJnQubG9nZ2VyLndhcm4oZSl9fSxpLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5sb2dnZXImJnQubG9nZ2VyLndhcm4oXCJvbkVycm9yOiBcIitKU09OLnN0cmluZ2lmeShlKSksci5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoRXJyb3JFdmVudCxcImVycm9yXCIsZSxyKSl9LGkub25hYm9ydD1mdW5jdGlvbihlKXt0LmxvZ2dlciYmdC5sb2dnZXIud2FybihcIm9uQWJvcnQ6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwiYWJvcnRcIixlLHIpKX0saS5zZW5kKCl9LHQucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7fSx0fShvLnBiKTt0Llp1PWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMzEpLHM9cig3NCksbz1yKDEpLGE9cig3KSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQubG9nZ2VySWQ9XCJbSGl2ZVJlcXVlc3RNYW5pZmVzdF1cIix0fXJldHVybiBpKHQsZSksdC5yZWdpc3RlclRlY2g9ZnVuY3Rpb24oZSxyKXt0LmlMW3JdPWV9LHQucmVnaXN0ZXJDb21tPWZ1bmN0aW9uKGUscil7dC5uTFtyXT1lfSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2Vzc2lvbklkKXt2YXIgZT1PYmplY3Qua2V5cyh0Lm5MKTtlLmxlbmd0aD4wJiYodGhpcy5zZXNzaW9uSWQ9dC5uTFtlWzBdXSl9dmFyIHI9dC5pTFt0aGlzLnNlc3Npb25JZF0saT10Lm5MW3RoaXMuc2Vzc2lvbklkXTtzLnNMKHIpfHxzLnNMKGkpPyhvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiSGl2ZUpTIFRlY2ggb3IgQ29tbSBhcmUgbm90IGRlZmluZWRcIix0aGlzLmxvZ2dlcklkKSx0aGlzLnJlc29sdmUoKSk6KGkubG9nZ2VyKCkuZGVidWcoXCJJbnRlcmNlcHRlZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK3RoaXMudXJsKSxyLm9MKHRoaXMpLGkub25BY3RpdmF0ZVNlc3Npb24odGhpcy51cmwpKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiR0VUXCIsdGhpcy51cmwpLHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXQucmVhZHlTdGF0ZSYmKGUucmVzcG9uc2U9dC5yZXNwb25zZVRleHQsZS5yZXNwb25zZVRleHQ9dC5yZXNwb25zZVRleHQsZS5yZWFkeVN0YXRlPTQsZS5zdGF0dXM9dC5zdGF0dXMsZS5kaXNwYXRjaEV2ZW50KGEucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIse2N1cnJlbnRUYXJnZXQ6ZX0pKSxlLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwib25sb2FkXCIse2N1cnJlbnRUYXJnZXQ6ZX0pKSxjb25zb2xlLmRlYnVnKFwiUmV0dXJuZWQgTWFuaWZlc3QgUmVxdWVzdCBcIitlLnVybCkpfSx0LnNlbmQoKX0sdH0obi5IaXZlUmVxdWVzdCk7aC5uTD17fSxoLmlMPXt9LHQuenU9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe3ZhciB0PXIoMTcpLGk9dC5sb2csbj10Lld1O2UuaS5XdT1uLGUuaS5WdT10LlZ1LGUuaS5HdT10Lkd1O3ZhciBzPXIoMTIyKXx8bnVsbCxvPXIoMTI0KXx8bnVsbCxhPXIoMTI3KXx8bnVsbCxoPXIoMTI5KXx8bnVsbDtzd2l0Y2gobi5RdSl7Y2FzZVwiY2hyb21lXCI6aWYoIXN8fCFzLmFMKXJldHVybiB2b2lkIGkoXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIGNocm9tZS5cIiksZS5pLmhMPXMscy5jTCgpLHMudUwoKSx0Lkt1KCkscy5sTCgpLHMuYUwoKSxzLnBMKCkscy5kTCgpO2JyZWFrO2Nhc2VcImZpcmVmb3hcIjppZighYXx8IWEuYUwpcmV0dXJuIHZvaWQgaShcIkZpcmVmb3ggc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIGZpcmVmb3guXCIpLGUuaS5oTD1hLGEuY0woKSx0Lkt1KCksYS5sTCgpLGEuYUwoKSxhLnBMKCk7YnJlYWs7Y2FzZVwiZWRnZVwiOmlmKCFvfHwhby5hTClyZXR1cm4gdm9pZCBpKFwiTVMgZWRnZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgZWRnZS5cIiksZS5pLmhMPW8sby5jTCgpLHQuS3UoKSxvLmFMKCk7YnJlYWs7Y2FzZVwic2FmYXJpXCI6aWYoIWgpcmV0dXJuIHZvaWQgaShcIlNhZmFyaSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgc2FmYXJpLlwiKSxlLmkuaEw9aCxoLmNMKCk7YnJlYWs7ZGVmYXVsdDppKFwiVW5zdXBwb3J0ZWQgYnJvd3NlciFcIil9fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzMiksbj1yKDQpLHM9cigxOCksbz1yKDIxKSxhPXIoMTMwKSxoPWEuSGl2ZUNvbW0uT3B0aW9ucy5mTCxjPXIoMTkpLHU9cigxMzEpLGw9cigxKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe3RoaXMuZ0w9dCx0aGlzLm9wdGlvbnNfPW5ldyBoLHZvaWQgMCE9PXJbZS5FTF0mJm8uU3AocltlLkVMXSx0aGlzLm9wdGlvbnNfKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBlLkVMfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVyblwiW1wiK2UuRUwrXCJdIFwifSxlLnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ0wuZ2V0UGx1Z2luVmVyc2lvbigpfSxlLnByb3RvdHlwZS52TD1mdW5jdGlvbigpe3JldHVybiEwfSxlLnByb3RvdHlwZS55TD1mdW5jdGlvbigpe3JldHVybiBuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuVEwoZSx0LnRpY2tldCx0LnRpY2tldC5OTigpLHQpO3JldHVybiBzLkhpdmVSZXF1ZXN0RmFjdG9yeS5yZWdpc3RlclRlY2goci5pZCx0aGlzLmdldE5hbWUoKSksbi5yZXNvbHZlKHIpfSxlLnByb3RvdHlwZS5tTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMoKS5pbml0VGltZW91dH0sZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1hbmlmZXN0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi9tYW5pZmVzdFwiKTtpZihyPi0xKXt2YXIgaT10Lm1hbmlmZXN0LnN1YnN0cmluZygwLHIpO2lmKGUuaW5kZXhPZihpKT4tMSlyZXR1cm4hMH1lbHNlIGlmKGU9PXQubWFuaWZlc3QpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLm9sPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMCksZS5ybCYmKHRoaXMuZ0wubG9nZ2VyKCkuZGVidWcoXCJbU3RhdHNKU10gc3RvcHBpbmcgc2Vzc2lvbiBbXCIrZS5pZCtcIl0gY29tcGxldGUgY2xvc2U6IFwiK3QpLGUucmwueGwuWmQociksZS5ybC5CbC5JTCgpLGUucmwuQmwucmVzZXQodCkpLHQ/aS5IaXZlLlJlcG9ydGluZygpLmNsb3NlKGUuaWQpOnRoaXMubmwoZSwhMCl9LGUucHJvdG90eXBlLm5sPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dD9jLk1sLklETEU6Yy5NbC5MbDt0aGlzLmdMLmxvZ2dlcigpLm5vdGljZShcIltIaXZlQ29tbV0gY2xpZW50IHN0YXRlOiBcIitjLk1sW3JdKSxlLnJsJiZlLnJsLm5sKHIpfSxlLnByb3RvdHlwZS5TTD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT0wO3JldHVybiB0aGlzLlJMPHQuT2wmJihpPXQuT2wtdGhpcy5STCx0aGlzLlJMPXQuT2wpLGUuYWwoKS50aGVuKGZ1bmN0aW9uKCl7ZS5ybC5VbC53TChpLHQuQWwpLGUucmwuSGwuU2QodC5QbCx0LkFsLHQuT2wpLHIuYkwoKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5DTD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuYWwoKS50aGVuKGZ1bmN0aW9uKCl7ZS5ybC5IbC53ZChlLnRpY2tldC5zZXNzaW9uSWQsdCxyKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5iZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmFsKCkudGhlbihmdW5jdGlvbigpe2UucmwuSGwuQ2QoW3RdKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zKCkub25FcnJvcil0cnl7dD10aGlzLm9wdGlvbnMoKS5vbkVycm9yKGUpfWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uRXJyb3IgY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX0woKSxlLmFsKCkudGhlbihmdW5jdGlvbihyKXt0LlBMPXI7dmFyIGk9bmV3IHUuQUwodC5nTC5pc0xpdmUoKSx0LmdMLmdldFN0cmVhbVByb3RvY29sKCksZS50aWNrZXQuTk4oKSk7dC5QTC5PTD1pLHQuUEwuVWwuT0w9aSx0LmdMLnVwZGF0ZVBsYXllckluZm8odC5QTCksdC5QTC5CbC5pbml0KHQuUEwuVWwsZS5pZCksdC5nTC5vcHRpb25zKCkudGVzdElkJiZ0LlBMLlVsLk5MKHQuZ0wub3B0aW9ucygpLnRlc3RJZCksdC5QTC5IbC5YdShlLnRpY2tldC5zZXNzaW9uSWQsdC5nTC5nZXRQbGF5ZXJTb3VyY2UoKSwyMDApO3ZhciBuPXQuZ0wuZmx1c2hUZWNoRXZlbnRzKCk7aWYobiYmbi5sZW5ndGg+MCYmdC5QTC5IbC5DZChuKSx2b2lkIDAhPXQub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKXRyeXt0Lm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbihlLnRvSGl2ZVNlc3Npb24oKSl9Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsdC5pZCgpLGUpfX0pLmRvbmUoKX0sZS5wcm90b3R5cGUuREw9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmtMPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5MTD1mdW5jdGlvbihlKXt0aGlzLmdMPWV9LGUucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zX30sZS5wcm90b3R5cGUuX0w9ZnVuY3Rpb24oKXt0aGlzLlJMPTB9LGUucHJvdG90eXBlLlRMPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBzLmNsKGUsdCxyLGkpO3JldHVybiBuLk1MPSExLG4uaWQ9dC5zZXNzaW9uSWQsbn0sZS5wcm90b3R5cGUuYkw9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9dGhpcy5nTC5nZXRFeHRlbmRlZFN0YXRzKCk7dm9pZCAwIT1lJiYodGhpcy5QTC5VbC5GTC5tZXRyaWNzLmJpdHJhdGVVcE4rPWUuZ2V0Qml0cmF0ZVN3aXRjaFVwKCksdGhpcy5QTC5VbC5GTC5tZXRyaWNzLmJpdHJhdGVEd25OKz1lLmdldEJpdHJhdGVTd2l0Y2hEb3duKCksbnVsbCE9ZS5nZXRCYW5kd2lkdGgoKSYmKHRoaXMuUEwuVWwuRkwubWV0cmljcy5zcmNUaHJvdWdocHV0PWUuZ2V0QmFuZHdpZHRoKCkpLG51bGwhPWUuZ2V0VmlkZW9CaXRyYXRlcygpJiZ0aGlzLlVMKCEwLGUuZ2V0VmlkZW9CaXRyYXRlcygpKSxudWxsIT1lLmdldEF1ZGlvQml0cmF0ZXMoKSYmdGhpcy5VTCghMSxlLmdldEF1ZGlvQml0cmF0ZXMoKSkpfWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhY2NvdW50aW5nIGV4dGVuZGVkIHN0YXRzXCIsdGhpcy5pZCgpLGUpfX0sZS5wcm90b3R5cGUuVUw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9MCxuPTAscz0wLG89MDt0LmZvckVhY2goZnVuY3Rpb24odCxhKXt2YXIgaD10LnN1Y2Nlc3MrdC5sbDtpZihpKz1oLG8rPXQuYnl0ZXMsbis9dC5zdWNjZXNzLHMrPXQubGwsZSl7dmFyIGM9ci5QTC5VbC5CTChOdW1iZXIoYSkpO3IuSEwoYyxoLHQuc3VjY2Vzcyx0LmxsLHQuYnl0ZXMpfX0pO3ZhciBhPXRoaXMuUEwuVWwueEwoKTt0aGlzLkhMKGEsaSxuLHMsbyl9LGUucHJvdG90eXBlLkhMPWZ1bmN0aW9uKGUsdCxyLGksbil7ZS5zcmNSZXFOKz10LGUuc3JjUmVzcE4rPXIsZS5zcmNSZXNwRXJyTis9aSxlLnNyY1Jlc3BRdCs9bixlLnJlc3BGYWxsYmFja04rPXIsZS5yZXNwRmFsbGJhY2tFcnJOKz1pfSxlfSgpO3AuRUw9XCJTdGF0c0pTXCIsdC5TdGF0c0pTPXB9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNTgpLHM9cigxNDIpLG89cig5KSxhPXIoMzQpLGg9cigzMSksYz1yKDApLHU9cigxKSxsPXIoMikscD1yKDE0MyksZD1yKDE1MCk7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHRoaXMucUwodCl8fC0xIT10LmluZGV4T2YoZS5HTCl9ZnVuY3Rpb24gcih0KXtyZXR1cm4tMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5WTC50b0xvd2VyQ2FzZSgpKXx8LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUuakwudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gZih0LHIpe3ZhciBpPXIucmVwbGFjZShcIl9kZWZpbnN0Xy9cIixcIlwiKS5tYXRjaChuZXcgUmVnRXhwKHQucmVwbGFjZShcIi5tcGRcIixcIlwiKStlLlFMKSk7cmV0dXJuIGkmJmkubGVuZ3RoPjB9ZS5LTD0xLGUuWUw9MixlLldMPTJlMyxlLnpMPTNlNCxlLkpMPTFlNCxlLlhMPSEwLGUuWkw9ITAsZS4kTD01MDAsZS5lTT0xMCxlLkRBU0hfTUVUQURBVEFfTUlOX0ZSQUdNRU5UUz0zLGUuVkw9XCIoZm9ybWF0PW1wZC10aW1lLWNzZilcIixlLmpMPVwiLm1wZFwiLGUuUUw9XCJfLioubXBkXCIsZS5HTD1cIi5tNHNcIixlLnRNPVwiLmlzbS9cIixlLnJNPXQsZS5xTD1yO3ZhciBnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4ocixpKXt2YXIgbj10LmNhbGwodGhpcyxpKXx8dGhpcztyZXR1cm4gbi5BZz0wLG4uaU09ITAsbi5sb2dnZXJJZD1cIltEYXNoIENvbnRleHRdIFwiLG4udGlja2V0PXIsbi5uTT1yLl9OKCksbi5zTT1uZXcgcy5vTSxuLm5NLmluZGV4T2YoZS5qTCk+MD9uLmFNPW5ldyBwLmhNKGkuc2Vzc2lvbklkKTpuLmFNPW5ldyBkLmNNKGkuc2Vzc2lvbklkKSxufXJldHVybiBpKG4sdCksbi5wcm90b3R5cGUuU2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWNrZXR9LG4ucHJvdG90eXBlLmdldFN0cmVhbVByb3RvY29sPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmVhbVByb3RvY29sLkRBU0h9LG4ucHJvdG90eXBlLnVNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubk19LG4ucHJvdG90eXBlLmxNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYU0ubE0oKX0sbi5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYU0ucE0oKX0sbi5wcm90b3R5cGUuZE09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zTX0sbi5wcm90b3R5cGUuaWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5YZihlKTtpZih0PT1vLnZjLmZjfHx0PT1vLnZjLmRjKXJldHVybiEwfSxuLnByb3RvdHlwZS5YZj1mdW5jdGlvbihlKXt0cnl7aWYocihlKSlyZXR1cm4gby52Yy5nYztpZih0aGlzLmZNKGUpKXJldHVybiBvLnZjLkVjO3ZhciB0PXRoaXMuYU0uZ00oZSk7cmV0dXJuIG51bGwhPXQ/dC50eXBlOi0xIT1lLmluZGV4T2YoXCJhdWRpb1wiKT9vLnZjLmRjOm8udmMuRWN9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBlbnRpdHkgdHlwZSBiYXNlZCBvbiBhIHVybFwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci5Ccix7ZGV0YWlsZWRFcnJvcjp0LHVybDplfSksby52Yy5FY319LG4ucHJvdG90eXBlLkVNPWZ1bmN0aW9uKGUpe3ZhciB0PW8udmMuRWMscj0wLGk9MCxuPTAscz0hMCxoPSExLGM9MDt0cnl7aWYodD10aGlzLlhmKGUpLHRoaXMuZk0oZSkpcz0hMDtlbHNlIGlmKHQhPW8udmMuZ2Mpe3ZhciBwPXRoaXMuYU0uZ00oZSk7bnVsbCE9cD8ocj1wLmR1cmF0aW9uLGk9cC5iaXRyYXRlLG49cC5pZCxoPXRoaXMuaWcoZSkpOih0aGlzLnRrKCksdGhpcy5sb2dnZXIud2FybihcImNvdWxkIG5vdCBleHRyYWN0IHNlZ21lbnQgaW5mbyBmb3IgXCIrZSkpfWVsc2Ugcz0hMTtyZXR1cm4gYz1NYXRoLnJvdW5kKHIvMWU0KSxuZXcgYS5OXyhlLHQscyxuLGMsaSxoLHRoaXMuZ2V0Q29udGV4dElkKCkpfWNhdGNoKHQpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgZW50aXR5IGNoYXJhY3RlcmlzdGljcyBiYXNlZCBvbiBhIHVybFwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci5Icix7ZGV0YWlsZWRFcnJvcjp0LHVybDplfSksbmV3IGEuTl8oZSxvLnZjLkVjLCExLDAsMCwwLCExLHRoaXMuZ2V0Q29udGV4dElkKCkpfX0sbi5wcm90b3R5cGUubms9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudXJsLHI9dGhpcy5hTS52TSh0KTtyZXR1cm4gbnVsbCE9cj90aGlzLkVNKHIueU0pOm51bGx9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBuZXh0IGVudGl0eVwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci54cix7ZGV0YWlsZWRFcnJvcjp0LHVybDplLnVybH0pLG51bGx9fSxuLnByb3RvdHlwZS5haz1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5UTS5jYWxsKHRoaXMsZS5LTCxlLllMKX0sbi5wcm90b3R5cGUubU09ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudXJsO3QudG9Mb3dlckNhc2UoKTtyZXR1cm4gdD09PXRoaXMubk18fCghKG51bGw9PXRoaXMuYU18fCF0aGlzLmFNLmZNKHQpKXx8IShyKHQpJiZ0aGlzLmFNLklNIT09dCYmIWYodGhpcy5hTS5JTSx0KSkpfWNhdGNoKHQpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaWRlbnRpZnlpbmcgaWYgaXMgY3VycmVudCBjb250ZXh0XCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLnFyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmUudXJsfSksITF9fSxuLnByb3RvdHlwZS5TTT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS5STSxyPWUuS2YudXJsLGk9dGhpcy5hTS5wYXJzZShyLHQsZS5LZi5pbnRlcm5hbCk7ZS5LZi5yZXNwb25zZVRleHQ9aSxlLktmLnJlc3BvbnNlPWl9Y2F0Y2godCl7dS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBhcnNpbmcgcmVjZWl2ZWQgbWV0YWRhdGFcIix0aGlzLmxvZ2dlcklkLGwuaHMuWXIuR3Ise2RldGFpbGVkRXJyb3I6dCx1cmw6ZS5LZi51cmx9KSxlLlJNJiYoZS5LZi5yZXNwb25zZVRleHQ9ZS5STSxlLktmLnJlc3BvbnNlPWUuUk0pfXRyeXt0aGlzLndNLlFEKCl9Y2F0Y2godCl7dS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHN0YXJ0aW5nIHByZWZldGNoZXIgYWZ0ZXIgZmV0Y2hpbmcgbWV0YWRhdGFcIix0aGlzLmxvZ2dlcklkLGwuaHMuWXIuVnIse2RldGFpbGVkRXJyb3I6dCx1cmw6ZS5LZi51cmx9KX10aGlzLmJNKCl9LG4ucHJvdG90eXBlLkNNPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7dHJ5e3QucHJvdG90eXBlLkNNLmNhbGwodGhpcyxlKSxlLlhmKCkhPT1vLnZjLmZjJiZlLlhmKCkhPT1vLnZjLmRjfHwoZS5YZigpPT09by52Yy5mYyYmdGhpcy5zTS5fTShlKSx0aGlzLmFNLkNNKGUpLnRoZW4oZnVuY3Rpb24odCl7dCYmci5iTSgpLGUuWGYoKT09by52Yy5mYyYmci53TS5VRChlLnpmKX0pLmRvbmUoKSl9Y2F0Y2goZSl7dS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHdoZW4gcmVjZWl2ZWQgYSBmcmFnbWVudFwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci5qcixlKX19LG4ucHJvdG90eXBlLmdldENvbnRleHRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldC5rTigpfSxuLnByb3RvdHlwZS5QTT1mdW5jdGlvbihlLHIpe3ZhciBpPWU7cmV0dXJuIGkuQU09Yy5GcmFtZXdvcmsudGltZSgpLHQucHJvdG90eXBlLlBNLmNhbGwodGhpcyxpLHIpfSxuLnByb3RvdHlwZS5kaz1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gdGhpcy5hTS5kayhlLHQscixpKX0sbi5wcm90b3R5cGUuZk09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYU0uZk0oZSl9LG4ucHJvdG90eXBlLmJNPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0cnl7dGhpcy5hTS5PTT90aGlzLmFNLk9NLk5NKCkudGhlbihmdW5jdGlvbihyKXtpZihyKXQuaU09ITAsdC5sb2dnZXIuZGVidWcoXCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IGNhbiBkZWNyeXB0XCIpO2Vsc2V7dmFyIGk9XCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IGNhbm5vdCBkZWNyeXB0IFtcIisoZS5YTD9cImVycm9yXCI6XCJkaXNhYmxlZFwiKStcIl1cIjtlLlpMPyh0LmlNPSEwLHQubG9nZ2VyLmRlYnVnKGkrXCIsIG1ldGFkYXRhIHByZWZldGNoIGVuYWJsZWRcIikpOnQubG9nZ2VyLndhcm4oaStcIiwgbWV0YWRhdGEgcHJlZmV0Y2ggRElTQUJMRURcIil9fSkuZG9uZSgpOnRoaXMubG9nZ2VyLmRlYnVnKFwiUHJvdGVjdGlvbiBldmFsdWF0aW9uOiBub3QgZW5jcnlwdGVkXCIpfWNhdGNoKHQpe2lmKHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBldmFsdWF0aW5nIHRoZSBwcm90ZWN0aW9uXCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLlFyLHQpLGUuWkwpe3ZhciByPVwiUHJvdGVjdGlvbiBldmFsdWF0aW9uOiBjYW5ub3QgZGVjcnlwdCBbXCIrKGUuWEw/XCJlcnJvclwiOlwiZGlzYWJsZWRcIikrXCJdXCI7dGhpcy5pTT0hMCx0aGlzLmxvZ2dlci5kZWJ1ZyhyK1wiLCBtZXRhZGF0YSBwcmVmZXRjaCBlbmFibGVkXCIpfX19LG4ucHJvdG90eXBlLnRrPWZ1bmN0aW9uKCl7dGhpcy5pTSYmKG51bGw9PXRoaXMuRE0mJnRoaXMuYU0ucE0oKT90aGlzLmtNKCk6dGhpcy5sb2dnZXIuZGVidWcoXCJEQVNIIFBSRS1GRVRDSElORyBNRVRBREFUQSBBTFJFQURZIFNDSEVEVUxFRCBPUiBOT1QgTElWRVwiKSl9LG4ucHJvdG90eXBlLkxNPWZ1bmN0aW9uKCl7dGhpcy5pTSYmbnVsbCE9dGhpcy5ETSYmYy5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuRE0pfSxuLnByb3RvdHlwZS5rTT1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj12b2lkIDAhPXRoaXMuTU0/dGhpcy5NTTowLGk9ZS5XTCxuPXIraSxzPU1hdGgubWF4KDEsbi1jLkZyYW1ld29yay50aW1lKCkrZS4kTCk7dGhpcy5sb2dnZXIuZGVidWcoXCJEQVNIIFBSRUZFVENISU5HIE1FVEFEQVRBIFwiK3RoaXMuYU0uSU0rXCIgSU4gXCIrcyksdGhpcy5ETT1jLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5GTSh0LmFNLklNLGMuRnJhbWV3b3JrLnRpbWUoKSl9LHMpfSxuLnByb3RvdHlwZS5GTT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuTU07aWYobnVsbD09ciYmKHI9MCkscj50KXRoaXMua00oKTtlbHNle3ZhciBpPW5ldyBoLkhpdmVSZXF1ZXN0KHRoaXMudGlja2V0LnNlc3Npb25JZCk7aS5vcGVuKFwiR0VUXCIsZSksaS5pbnRlcm5hbD0hMCxpLnNlbmQoKSx0aGlzLkRNPW51bGwsdGhpcy5NTT1jLkZyYW1ld29yay50aW1lKCl9fSxuLnByb3RvdHlwZS5VTT1mdW5jdGlvbihlKXt0aGlzLmFNLmF1dGhlbnRpY2F0aW9uVG9rZW49ZX0sbi5wcm90b3R5cGUubGs9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9dGhpcy5QRCgpLGk9dGhpcy5CTSgpLG49ci5BXygpLHM9dGhpcy5hTS5ITShuLHIuZ2V0Qml0cmF0ZSgpLGUsdCksbz1jLkZyYW1ld29yay50aW1lKCktaTtyZXR1cm4gTWF0aC5tYXgoMCxzLW8pfWNhdGNoKGUpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2FsY3VsYXRpbmcgdGhlIGRpc3RhbmNlIGR1cmF0aW9uXCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLktyLGUpLDB9fSxuLnByb3RvdHlwZS54TT1mdW5jdGlvbigpe3JldHVybiBlLkpMfSxuLnByb3RvdHlwZS5WRD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5hTS5xTShlLHQpO3JldHVybiBudWxsIT1pP25ldyBhLk5fKGkueU0sciwhMCxlLGkuZHVyYXRpb24sdCwhMCx0aGlzLmdldENvbnRleHRJZCgpKTpudWxsfSxuLnByb3RvdHlwZS5waz1mdW5jdGlvbigpe3JldHVybiBlLnpMfSxufShuLkdNKTtlLlZNPWd9KHQuREFTSHx8KHQuREFTSD17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0OCksbj1yKDM0KSxzPXIoMCksbz1yKDE0MCksYT1yKDkpLGg9cigyNCksYz1yKDQ5KSx1PXIoNSksbD1yKDIpLHA9cigxKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmpNPVwiW1ZpZGVvQ29udGV4dF0gXCIsdGhpcy5RTT1uZXcgaSx0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnlEPWUueUQsdGhpcy5LTT1lLllNLHRoaXMuV009ZS5XTSx0aGlzLndNPWUuek0sdGhpcy53TS5SRCh0aGlzLHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5Taz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5KTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndNfSxlLnByb3RvdHlwZS5UTT1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj0wLGk9MDtpZih0aGlzLlFNLmxlbmd0aDx0KXJldHVybiEwO2Zvcih2YXIgbj10aGlzLlFNLmtleXMoKS5yZXZlcnNlKCkscz1uWzBdLG89dGhpcy5RTS5nZXQocykuYml0cmF0ZSxhPW4uc2xpY2UoMSksaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgYz1hW2hdLHU9dGhpcy5RTS5nZXQoYyksZD11LkFNLGY9dS5iaXRyYXRlLGc9TWF0aC5hYnModS5BTS1zKTtpZihmIT1vKXJldHVybiExO2lmKGc8ZSl7aWYoKytpPj10KXJldHVybiExfWVsc2V7aWYoKytyPnQpcmV0dXJuITA7aT1NYXRoLm1heCgwLGktMSkscz1kLG89Zn19cmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjYWxjdWxhdGluZyBpZiB0aGUgcGxheWVyIGlzIGluIGJ1ZmZlcmluZyBtb2RlXCIsdGhpcy5qTSxsLmhzLmJpLlNpLGUpLCExfX0sZS5wcm90b3R5cGUuZ2V0Q29udGV4dElkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLlBNPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5YTSh0KSl7dmFyIHI9dGhpcy5QRCgpO2lmKHIpe3ZhciBpPWUuZ2V0Qml0cmF0ZSgpLG49ci5nZXRCaXRyYXRlKCk7aT5uP3RoaXMuS00uWk0oITApOmk8biYmdGhpcy5LTS5aTSghMSl9ZWxzZSB0aGlzLktNLlpNKCEwKTtpZih0aGlzLlFNLmxlbmd0aD51LmhoLnlhLmdhKXt2YXIgbz10aGlzLlFNLmtleXMoKVswXTt0aGlzLlFNLmRlbGV0ZShvKX10aGlzLlFNLnNldChzLkZyYW1ld29yay50aW1lKCksZSl9cmV0dXJuIHRoaXMuJE0oZSx0KX0sZS5wcm90b3R5cGUuJE09ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgby5lRjt0cnl7aWYodGhpcy53TS5iRChlLmJpdHJhdGUpKXtpZih0aGlzLldNLnRGKGUuWmYoKSkpe3IuckY9ITA7dmFyIGk9dGhpcy5XTS5pRihlLlpmKCkpO3RoaXMubkYodCxpLHIpfWlmKHRoaXMuV00uc0YoZS5aZigpKSlmb3IodmFyIG49dGhpcy5XTS5vRihlLlpmKCkpLHM9MCxhPW47czxhLmxlbmd0aDtzKyspe3ZhciBoPWFbc107dGhpcy5uRih0LGguSmYoKSxyKSxyLmFGPSEwfX1lbHNle3ZhciB1PWMuc0QubWM7dGhpcy55RC5jaygpJiYodT1jLnNELmlEKSx0aGlzLndNLkREKGUuYml0cmF0ZSx1LHUpfXJldHVybiByfWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uZmlndXJpbmcgdGhlIHJlcXVlc3QgZGlyZWN0aXZlXCIsdGhpcy5qTSxsLmhzLmJpLlJpLGUpLG5ldyBvLmVGfX0sZS5wcm90b3R5cGUubkY9ZnVuY3Rpb24oZSx0LHIpe2UhPWguYmYuSWYmJmUhPWguYmYud2Z8fHQhPWguYmYuVGYmJnQhPWguYmYud2YmJnQhPWguYmYuSWZ8fChyLmhGPSEwKX0sZS5wcm90b3R5cGUuWE09ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWguYmYud2YmJmUhPWguYmYuSWZ9LGUucHJvdG90eXBlLmNGPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1bXTt0cnl7Zm9yKHZhciBuPXRoaXMuV00ub0YodC5aZigpKSxzPTAsbz1uO3M8by5sZW5ndGg7cysrKXt2YXIgYT1vW3NdO2EuSmYoKSE9aC5iZi5UZiYmKHRoaXMud00ud2soYSxlKSxpLnB1c2goYS5iaykpfXJldHVybiBpfWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYXR0ZW1wdGluZyB0byB1cGdyYWRlIHByZWZldGNoXCIsdGhpcy5qTSxsLmhzLmJpLndpLGUpLFtdfX0sZS5wcm90b3R5cGUudUY9ZnVuY3Rpb24oZSl7dGhpcy5XTS51RihlKX0sZS5wcm90b3R5cGUubEY9ZnVuY3Rpb24oZSx0KXt0aGlzLldNLmxGKGUsdCl9LGUucHJvdG90eXBlLnBGPWZ1bmN0aW9uKGUpe3RoaXMuV00ucEYoZSl9LGUucHJvdG90eXBlLmRGPWZ1bmN0aW9uKGUpe3RoaXMuV00uZkYoZSl9LGUucHJvdG90eXBlLmdGPWZ1bmN0aW9uKGUpe3RoaXMuV00uRUYoKXx8dGhpcy53TS5IRChlKX0sZS5wcm90b3R5cGUuUEQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlFNLmtleXMoKTtyZXR1cm4gZS5sZW5ndGg+MD90aGlzLlFNLmdldChlW2UubGVuZ3RoLTFdKTpudWxsfSxlLnByb3RvdHlwZS5CTT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuUU0ua2V5cygpO2lmKGUubGVuZ3RoPjApcmV0dXJuIGVbZS5sZW5ndGgtMV19LGUucHJvdG90eXBlLnZGPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueUYoZSk7bnVsbCE9dCYmdGhpcy5nRih0LmJpdHJhdGUpfSxlLnByb3RvdHlwZS55Rj1mdW5jdGlvbihlKXt2YXIgdD1lLmZyYWdtZW50SWQscj10LnNsaWNlKDAsdC5sYXN0SW5kZXhPZihcIi1cIikpLGk9ci5zbGljZSgwLHIubGFzdEluZGV4T2YoXCItXCIpKSxzPWUuZ2V0VHlwZSgpO3JldHVybiBuZXcgbi5OXyhpLHMsITAsZS5pZCxlLmR1cmF0aW9uLGUuYml0cmF0ZSwhMCx0aGlzLmdldENvbnRleHRJZCgpKX0sZS5wcm90b3R5cGUuYWs9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZGs9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIDB9LGUucHJvdG90eXBlLnBrPWZ1bmN0aW9uKCl7cmV0dXJuIDNlNH0sZS5wcm90b3R5cGUueE09ZnVuY3Rpb24oKXtyZXR1cm4gMWU0fSxlLnByb3RvdHlwZS5uaz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuVkQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTdHJlYW1Qcm90b2NvbD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc0xpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUudGs9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5MTT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUubE09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUubU09ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5kTT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuRU09ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5TTT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLkNNPWZ1bmN0aW9uKGUpe2UuWGYoKT09PWEudmMuZmMmJnRoaXMubEYoZS5aZigpLGUuJGYoKSl9LGUucHJvdG90eXBlLnVNPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLlVNPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUubGs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMH0sZX0oKTt0LkdNPWR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixzKTtuLmNhbGwodGhpcyxlLHQscixzKX1lLmk9aTt2YXIgbj0ocigxMSkscigxNDEpKSxzPXIoMzkpLG89cigxMyk7aS5URj1pLGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUscy5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxpLnByb3RvdHlwZS5tRj0hMCxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaGFzKGUpJiYobi5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxlKSwhMCl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuTlQucmVkdWNlKGZ1bmN0aW9uKHQsbixzKXtyZXR1cm4gZS5jYWxsKGksdCxuLHMscil9LHQpfSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuTlQucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxuLHMpe3JldHVybiBlLmNhbGwoaSx0LG4scyxyKX0sdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIGk9cigzMyk7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGhpdmUmJihoaXZlPXt9KSx2b2lkIDA9PT1oaXZlLnNlcnZpY2VzJiYoaGl2ZS5zZXJ2aWNlcz17fSksdm9pZCAwPT09aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbCYmKGhpdmUuc2VydmljZXMucHJvdG9jb2w9e30pLHZvaWQgMD09PWhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYmJihoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGPXt9KSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLndjPXsxOlwiUExBWUVSXCIsbWM6MSwyOlwiUDJQX0FHRU5UXCIsSWM6MiwzOlwiUFJFRkVUQ0hFUl9GSVJTVF9USUVSXCIsU2M6Myw0OlwiUFJFRkVUQ0hFUl9TRUNPTkRfVElFUlwiLFJjOjR9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuU0Y9ezE6XCJHbG9iYWxcIixSRjoxLDI6XCJJbnRlcm5hbEFzXCIsd0Y6MiwzOlwiRXh0ZXJuYWxBc1wiLGJGOjN9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ0Y9ezE6XCJJbnRlcm5hbFwiLF9GOjEsMjpcIkV4dGVybmFsXCIsRXh0ZXJuYWw6Mn0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclN0cmVhbUluZm89ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1udWxsLHRoaXMuYml0cmF0ZT1udWxsLHRoaXMuZGVsdGE9bnVsbCxlJiYodm9pZCAwIT09ZS5zdGF0ZSYmKHRoaXMuc3RhdGU9ZS5zdGF0ZSksdm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5kZWx0YSYmKHRoaXMuZGVsdGE9ZS5kZWx0YSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyU3RyZWFtSW5mby5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclN0cmVhbUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLnN0YXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkzMj90aGlzLmRlbHRhPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyU3RyZWFtSW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJQZWVyU3RyZWFtSW5mb1wiKSxudWxsIT09dGhpcy5zdGF0ZSYmdm9pZCAwIT09dGhpcy5zdGF0ZSYmKGUueGIoXCJzdGF0ZVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnN0YXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUueGIoXCJiaXRyYXRlXCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuYml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5kZWx0YSYmdm9pZCAwIT09dGhpcy5kZWx0YSYmKGUueGIoXCJkZWx0YVwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLmRlbHRhKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvPWZ1bmN0aW9uKGUpe3RoaXMuZ3VpZD1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLHRoaXMubmF0PW51bGwsdGhpcy5iYW5kd2lkdGg9bnVsbCx0aGlzLndhdGNoaW5nQml0cmF0ZT1udWxsLHRoaXMucHJpdmF0ZUlwPW51bGwsdGhpcy5wdWJsaWNJcD1udWxsLHRoaXMuc3RyZWFtcz1udWxsLHRoaXMucmFua1ZhbHVlPW51bGwsdGhpcy50aW1lc3RhbXA9bnVsbCx0aGlzLnB1YmxpY0lwU3RyaW5nPW51bGwsdGhpcy5wcml2YXRlSXBTdHJpbmc9bnVsbCxlJiYodm9pZCAwIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5pbnRlcm5hbEFzJiYodGhpcy5pbnRlcm5hbEFzPWUuaW50ZXJuYWxBcyksdm9pZCAwIT09ZS5leHRlcm5hbEFzJiYodGhpcy5leHRlcm5hbEFzPWUuZXh0ZXJuYWxBcyksdm9pZCAwIT09ZS5uYXQmJih0aGlzLm5hdD1lLm5hdCksdm9pZCAwIT09ZS5iYW5kd2lkdGgmJih0aGlzLmJhbmR3aWR0aD1lLmJhbmR3aWR0aCksdm9pZCAwIT09ZS53YXRjaGluZ0JpdHJhdGUmJih0aGlzLndhdGNoaW5nQml0cmF0ZT1lLndhdGNoaW5nQml0cmF0ZSksdm9pZCAwIT09ZS5wcml2YXRlSXAmJih0aGlzLnByaXZhdGVJcD1lLnByaXZhdGVJcCksdm9pZCAwIT09ZS5wdWJsaWNJcCYmKHRoaXMucHVibGljSXA9ZS5wdWJsaWNJcCksdm9pZCAwIT09ZS5zdHJlYW1zJiYodGhpcy5zdHJlYW1zPWUuc3RyZWFtcyksdm9pZCAwIT09ZS5yYW5rVmFsdWUmJih0aGlzLnJhbmtWYWx1ZT1lLnJhbmtWYWx1ZSksdm9pZCAwIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5wdWJsaWNJcFN0cmluZyYmKHRoaXMucHVibGljSXBTdHJpbmc9ZS5wdWJsaWNJcFN0cmluZyksdm9pZCAwIT09ZS5wcml2YXRlSXBTdHJpbmcmJih0aGlzLnByaXZhdGVJcFN0cmluZz1lLnByaXZhdGVJcFN0cmluZykpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mby5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUklORz90aGlzLmd1aWQ9ZS52XygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5pbnRlcm5hbEFzPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuZXh0ZXJuYWxBcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLkkzMj90aGlzLm5hdD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLkkzMj90aGlzLmJhbmR3aWR0aD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLkkzMj90aGlzLndhdGNoaW5nQml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDc6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5wcml2YXRlSXA9bmV3IEluZXRBZGRyZXNzLHRoaXMucHJpdmF0ZUlwLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMucHVibGljSXA9bmV3IEluZXRBZGRyZXNzLHRoaXMucHVibGljSXAucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDk6aWYocj09aS5UeXBlLkxJU1Qpe3ZhciBzLG89MDt0aGlzLnN0cmVhbXM9W107cz1lLmFfKCkscy5oXyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXt2YXIgaD1udWxsO2g9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJTdHJlYW1JbmZvLGgucmVhZChlKSx0aGlzLnN0cmVhbXMucHVzaChoKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5UeXBlLkRPVUJMRT90aGlzLnJhbmtWYWx1ZT1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDExOnI9PWkuVHlwZS5JNjQ/dGhpcy50aW1lc3RhbXA9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMucHVibGljSXBTdHJpbmc9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMucHJpdmF0ZUlwU3RyaW5nPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIlRyYWNrZXJQZWVySW5mb1wiKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJihlLnhiKFwiZ3VpZFwiLGkuVHlwZS5TVFJJTkcsMSksZS5XQyh0aGlzLmd1aWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuaW50ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5pbnRlcm5hbEFzJiYoZS54YihcImludGVybmFsQXNcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5pbnRlcm5hbEFzKSxlLkdiKCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKGUueGIoXCJleHRlcm5hbEFzXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuZXh0ZXJuYWxBcyksZS5HYigpKSxudWxsIT09dGhpcy5uYXQmJnZvaWQgMCE9PXRoaXMubmF0JiYoZS54YihcIm5hdFwiLGkuVHlwZS5JMzIsNCksZS5WYih0aGlzLm5hdCksZS5HYigpKSxudWxsIT09dGhpcy5iYW5kd2lkdGgmJnZvaWQgMCE9PXRoaXMuYmFuZHdpZHRoJiYoZS54YihcImJhbmR3aWR0aFwiLGkuVHlwZS5JMzIsNSksZS5WYih0aGlzLmJhbmR3aWR0aCksZS5HYigpKSxudWxsIT09dGhpcy53YXRjaGluZ0JpdHJhdGUmJnZvaWQgMCE9PXRoaXMud2F0Y2hpbmdCaXRyYXRlJiYoZS54YihcIndhdGNoaW5nQml0cmF0ZVwiLGkuVHlwZS5JMzIsNiksZS5WYih0aGlzLndhdGNoaW5nQml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5wcml2YXRlSXAmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwJiYoZS54YihcInByaXZhdGVJcFwiLGkuVHlwZS5TVFJVQ1QsNyksdGhpcy5wcml2YXRlSXAud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5wdWJsaWNJcCYmdm9pZCAwIT09dGhpcy5wdWJsaWNJcCYmKGUueGIoXCJwdWJsaWNJcFwiLGkuVHlwZS5TVFJVQ1QsOCksdGhpcy5wdWJsaWNJcC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbXMmJnZvaWQgMCE9PXRoaXMuc3RyZWFtcyl7ZS54YihcInN0cmVhbXNcIixpLlR5cGUuTElTVCw5KSxlLkhDKGkuVHlwZS5TVFJVQ1QsdGhpcy5zdHJlYW1zLmxlbmd0aCk7Zm9yKHZhciB0IGluIHRoaXMuc3RyZWFtcyl0aGlzLnN0cmVhbXMuaGFzT3duUHJvcGVydHkodCkmJih0PXRoaXMuc3RyZWFtc1t0XSx0LndyaXRlKGUpKTtlLnhDKCksZS5HYigpfW51bGwhPT10aGlzLnJhbmtWYWx1ZSYmdm9pZCAwIT09dGhpcy5yYW5rVmFsdWUmJihlLnhiKFwicmFua1ZhbHVlXCIsaS5UeXBlLkRPVUJMRSwxMCksZS5ZQyh0aGlzLnJhbmtWYWx1ZSksZS5HYigpKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JNjQsMTEpLGUuS0ModGhpcy50aW1lc3RhbXApLGUuR2IoKSksbnVsbCE9PXRoaXMucHVibGljSXBTdHJpbmcmJnZvaWQgMCE9PXRoaXMucHVibGljSXBTdHJpbmcmJihlLnhiKFwicHVibGljSXBTdHJpbmdcIixpLlR5cGUuU1RSSU5HLDEyKSxlLnFiKHRoaXMucHVibGljSXBTdHJpbmcpLGUuR2IoKSksbnVsbCE9PXRoaXMucHJpdmF0ZUlwU3RyaW5nJiZ2b2lkIDAhPT10aGlzLnByaXZhdGVJcFN0cmluZyYmKGUueGIoXCJwcml2YXRlSXBTdHJpbmdcIixpLlR5cGUuU1RSSU5HLDEzKSxlLnFiKHRoaXMucHJpdmF0ZUlwU3RyaW5nKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ3VzdG9tZXJLZXk9ZnVuY3Rpb24oZSl7dGhpcy5wYXJ0bmVySWQ9bnVsbCx0aGlzLmN1c3RvbWVySWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5wYXJ0bmVySWQmJih0aGlzLnBhcnRuZXJJZD1lLnBhcnRuZXJJZCksdm9pZCAwIT09ZS5jdXN0b21lcklkJiYodGhpcy5jdXN0b21lcklkPWUuY3VzdG9tZXJJZCkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkN1c3RvbWVyS2V5LnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkN1c3RvbWVyS2V5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5wYXJ0bmVySWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5jdXN0b21lcklkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkN1c3RvbWVyS2V5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiQ3VzdG9tZXJLZXlcIiksbnVsbCE9PXRoaXMucGFydG5lcklkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJJZCYmKGUueGIoXCJwYXJ0bmVySWRcIixpLlR5cGUuU1RSSU5HLDEpLGUucWIodGhpcy5wYXJ0bmVySWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuY3VzdG9tZXJJZCYmdm9pZCAwIT09dGhpcy5jdXN0b21lcklkJiYoZS54YihcImN1c3RvbWVySWRcIixpLlR5cGUuU1RSSU5HLDIpLGUucWIodGhpcy5jdXN0b21lcklkKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnk9ZnVuY3Rpb24oZSl7dGhpcy5hc1R5cGU9bnVsbCx0aGlzLmFzbj1udWxsLGUmJih2b2lkIDAhPT1lLmFzVHlwZSYmKHRoaXMuYXNUeXBlPWUuYXNUeXBlKSx2b2lkIDAhPT1lLmFzbiYmKHRoaXMuYXNuPWUuYXNuKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLmFzVHlwZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmFzbj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJBc1F1ZXJ5XCIpLG51bGwhPT10aGlzLmFzVHlwZSYmdm9pZCAwIT09dGhpcy5hc1R5cGUmJihlLnhiKFwiYXNUeXBlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuYXNUeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzbiYmdm9pZCAwIT09dGhpcy5hc24mJihlLnhiKFwiYXNuXCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuYXNuKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeT1mdW5jdGlvbihlKXt0aGlzLmJpdHJhdGU9bnVsbCx0aGlzLmFzbj1udWxsLHRoaXMuc3RyZWFtU3RhdGU9bnVsbCxlJiYodm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5hc24mJih0aGlzLmFzbj1lLmFzbiksdm9pZCAwIT09ZS5zdHJlYW1TdGF0ZSYmKHRoaXMuc3RyZWFtU3RhdGU9ZS5zdHJlYW1TdGF0ZSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJCaXRyYXRlUXVlcnkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5hc249bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnksdGhpcy5hc24ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkzMj90aGlzLnN0cmVhbVN0YXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJCaXRyYXRlUXVlcnkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFja2VyQml0cmF0ZVF1ZXJ5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUueGIoXCJiaXRyYXRlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuYml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5hc24mJnZvaWQgMCE9PXRoaXMuYXNuJiYoZS54YihcImFzblwiLGkuVHlwZS5TVFJVQ1QsMiksdGhpcy5hc24ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5zdHJlYW1TdGF0ZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1TdGF0ZSYmKGUueGIoXCJzdHJlYW1TdGF0ZVwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLnN0cmVhbVN0YXRlKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJhbmtRdWVyeT1mdW5jdGlvbihlKXt0aGlzLnJhbmtUeXBlPW51bGwsdGhpcy5hc1F1ZXJ5PW51bGwsZSYmKHZvaWQgMCE9PWUucmFua1R5cGUmJih0aGlzLnJhbmtUeXBlPWUucmFua1R5cGUpLHZvaWQgMCE9PWUuYXNRdWVyeSYmKHRoaXMuYXNRdWVyeT1lLmFzUXVlcnkpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmFua1F1ZXJ5LnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSYW5rUXVlcnkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLnJhbmtUeXBlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmFzUXVlcnk9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnksdGhpcy5hc1F1ZXJ5LnJlYWQoZSkpOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJhbmtRdWVyeS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJSYW5rUXVlcnlcIiksbnVsbCE9PXRoaXMucmFua1R5cGUmJnZvaWQgMCE9PXRoaXMucmFua1R5cGUmJihlLnhiKFwicmFua1R5cGVcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5yYW5rVHlwZSksZS5HYigpKSxudWxsIT09dGhpcy5hc1F1ZXJ5JiZ2b2lkIDAhPT10aGlzLmFzUXVlcnkmJihlLnhiKFwiYXNRdWVyeVwiLGkuVHlwZS5TVFJVQ1QsMiksdGhpcy5hc1F1ZXJ5LndyaXRlKGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUXVlcnk9ZnVuY3Rpb24oZSl7dGhpcy5yYW5kb209bnVsbCx0aGlzLmFzbnM9bnVsbCx0aGlzLndhdGNoZXJzPW51bGwsdGhpcy5zdHJlYW1lcnM9bnVsbCx0aGlzLnJhbmtpbmdzPW51bGwsZSYmKHZvaWQgMCE9PWUucmFuZG9tJiYodGhpcy5yYW5kb209ZS5yYW5kb20pLHZvaWQgMCE9PWUuYXNucyYmKHRoaXMuYXNucz1lLmFzbnMpLHZvaWQgMCE9PWUud2F0Y2hlcnMmJih0aGlzLndhdGNoZXJzPWUud2F0Y2hlcnMpLHZvaWQgMCE9PWUuc3RyZWFtZXJzJiYodGhpcy5zdHJlYW1lcnM9ZS5zdHJlYW1lcnMpLHZvaWQgMCE9PWUucmFua2luZ3MmJih0aGlzLnJhbmtpbmdzPWUucmFua2luZ3MpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUXVlcnkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclF1ZXJ5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy5yYW5kb209ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOmlmKHI9PWkuVHlwZS5NQVApe3ZhciBzLG89MDt0aGlzLmFzbnM9e307cz1lLmlfKCkscy5uXyxzLnNfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe2E+MCYmZS5KQy5sZW5ndGg+ZS56YltlLnpiLmxlbmd0aC0xXSsxJiZlLkpDLnBvcCgpO3ZhciBoPW51bGwsYz1udWxsO2g9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnksaC5yZWFkKGUpLGM9ZS5GYigpLnZhbHVlLHRoaXMuYXNuc1toXT1jfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAzOmlmKHI9PWkuVHlwZS5NQVApe3ZhciB1LGw9MDt0aGlzLndhdGNoZXJzPXt9O3U9ZS5pXygpLHUubl8sdS5zXyxsPXUuc2l6ZTtmb3IodmFyIHA9MDtwPGw7KytwKXtwPjAmJmUuSkMubGVuZ3RoPmUuemJbZS56Yi5sZW5ndGgtMV0rMSYmZS5KQy5wb3AoKTt2YXIgZD1udWxsLGY9bnVsbDtkPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJCaXRyYXRlUXVlcnksZC5yZWFkKGUpLGY9ZS5GYigpLnZhbHVlLHRoaXMud2F0Y2hlcnNbZF09Zn1lLm9fKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgNDppZihyPT1pLlR5cGUuTUFQKXt2YXIgZyxFPTA7dGhpcy5zdHJlYW1lcnM9e307Zz1lLmlfKCksZy5uXyxnLnNfLEU9Zy5zaXplO2Zvcih2YXIgdj0wO3Y8RTsrK3Ype3Y+MCYmZS5KQy5sZW5ndGg+ZS56YltlLnpiLmxlbmd0aC0xXSsxJiZlLkpDLnBvcCgpO3ZhciB5PW51bGwsVD1udWxsO3k9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeSx5LnJlYWQoZSksVD1lLkZiKCkudmFsdWUsdGhpcy5zdHJlYW1lcnNbeV09VH1lLm9fKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgNTppZihyPT1pLlR5cGUuTElTVCl7dmFyIG0sST0wO3RoaXMucmFua2luZ3M9W107bT1lLmFfKCksbS5oXyxJPW0uc2l6ZTtmb3IodmFyIFM9MDtTPEk7KytTKXt2YXIgUj1udWxsO1I9ZS5GYigpLnZhbHVlLHRoaXMucmFua2luZ3MucHVzaChSKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJRdWVyeS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIlRyYWNrZXJRdWVyeVwiKSxudWxsIT09dGhpcy5yYW5kb20mJnZvaWQgMCE9PXRoaXMucmFuZG9tJiYoZS54YihcInJhbmRvbVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnJhbmRvbSksZS5HYigpKSxudWxsIT09dGhpcy5hc25zJiZ2b2lkIDAhPT10aGlzLmFzbnMpe2UueGIoXCJhc25zXCIsaS5UeXBlLk1BUCwyKSxlLlVDKGkuVHlwZS5TVFJVQ1QsaS5UeXBlLkkzMixpLkViKHRoaXMuYXNucykpO2Zvcih2YXIgdD0wO3Q8dGhpcy5hc25zLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuYXNuc1t0XSxuPXIua2V5LHM9ci52YWx1ZTtuLndyaXRlKGUpLGUuVmIocyl9ZS5CQygpLGUuR2IoKX1pZihudWxsIT09dGhpcy53YXRjaGVycyYmdm9pZCAwIT09dGhpcy53YXRjaGVycyl7ZS54YihcIndhdGNoZXJzXCIsaS5UeXBlLk1BUCwzKSxlLlVDKGkuVHlwZS5TVFJVQ1QsaS5UeXBlLkkzMixpLkViKHRoaXMud2F0Y2hlcnMpKTtmb3IodmFyIHQ9MDt0PHRoaXMud2F0Y2hlcnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy53YXRjaGVyc1t0XSxvPXIua2V5LGE9ci52YWx1ZTtvLndyaXRlKGUpLGUuVmIoYSl9ZS5CQygpLGUuR2IoKX1pZihudWxsIT09dGhpcy5zdHJlYW1lcnMmJnZvaWQgMCE9PXRoaXMuc3RyZWFtZXJzKXtlLnhiKFwic3RyZWFtZXJzXCIsaS5UeXBlLk1BUCw0KSxlLlVDKGkuVHlwZS5TVFJVQ1QsaS5UeXBlLkkzMixpLkViKHRoaXMuc3RyZWFtZXJzKSk7Zm9yKHZhciB0PTA7dDx0aGlzLnN0cmVhbWVycy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLnN0cmVhbWVyc1t0XSxoPXIua2V5LGM9ci52YWx1ZTtoLndyaXRlKGUpLGUuVmIoYyl9ZS5CQygpLGUuR2IoKX1pZihudWxsIT09dGhpcy5yYW5raW5ncyYmdm9pZCAwIT09dGhpcy5yYW5raW5ncyl7ZS54YihcInJhbmtpbmdzXCIsaS5UeXBlLkxJU1QsNSksZS5IQyhpLlR5cGUuSTMyLHRoaXMucmFua2luZ3MubGVuZ3RoKTtmb3IodmFyIHUgaW4gdGhpcy5yYW5raW5ncyl0aGlzLnJhbmtpbmdzLmhhc093blByb3BlcnR5KHUpJiYodT10aGlzLnJhbmtpbmdzW3VdLGUuVmIodSkpO2UueEMoKSxlLkdiKCl9ZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmdLZXk9ZnVuY3Rpb24oZSl7dGhpcy5yYW5rVHlwZT1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLGUmJih2b2lkIDAhPT1lLnJhbmtUeXBlJiYodGhpcy5yYW5rVHlwZT1lLnJhbmtUeXBlKSx2b2lkIDAhPT1lLmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSx2b2lkIDAhPT1lLmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nS2V5LnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZ0tleS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMucmFua1R5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5pbnRlcm5hbEFzPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuZXh0ZXJuYWxBcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmdLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFja2VyUGVlclJhbmtpbmdLZXlcIiksbnVsbCE9PXRoaXMucmFua1R5cGUmJnZvaWQgMCE9PXRoaXMucmFua1R5cGUmJihlLnhiKFwicmFua1R5cGVcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5yYW5rVHlwZSksZS5HYigpKSxudWxsIT09dGhpcy5pbnRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmludGVybmFsQXMmJihlLnhiKFwiaW50ZXJuYWxBc1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLmludGVybmFsQXMpLGUuR2IoKSksbnVsbCE9PXRoaXMuZXh0ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5leHRlcm5hbEFzJiYoZS54YihcImV4dGVybmFsQXNcIixpLlR5cGUuSTMyLDMpLGUuVmIodGhpcy5leHRlcm5hbEFzKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nPWZ1bmN0aW9uKGUpe3RoaXMua2V5PW51bGwsdGhpcy5yYW5raW5nPW51bGwsdGhpcy5ncm91cFNpemU9bnVsbCx0aGlzLmN1bXVsYXRlZFJhbmtWYWx1ZT1udWxsLHRoaXMudG90YWxPZlJhbmtWYWx1ZXM9bnVsbCxlJiYodm9pZCAwIT09ZS5rZXkmJih0aGlzLmtleT1lLmtleSksdm9pZCAwIT09ZS5yYW5raW5nJiYodGhpcy5yYW5raW5nPWUucmFua2luZyksdm9pZCAwIT09ZS5ncm91cFNpemUmJih0aGlzLmdyb3VwU2l6ZT1lLmdyb3VwU2l6ZSksdm9pZCAwIT09ZS5jdW11bGF0ZWRSYW5rVmFsdWUmJih0aGlzLmN1bXVsYXRlZFJhbmtWYWx1ZT1lLmN1bXVsYXRlZFJhbmtWYWx1ZSksdm9pZCAwIT09ZS50b3RhbE9mUmFua1ZhbHVlcyYmKHRoaXMudG90YWxPZlJhbmtWYWx1ZXM9ZS50b3RhbE9mUmFua1ZhbHVlcykpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZy5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmcucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5rZXk9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nS2V5LHRoaXMua2V5LnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5yYW5raW5nPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuZ3JvdXBTaXplPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuRE9VQkxFP3RoaXMuY3VtdWxhdGVkUmFua1ZhbHVlPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuRE9VQkxFP3RoaXMudG90YWxPZlJhbmtWYWx1ZXM9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclBlZXJSYW5raW5nXCIpLG51bGwhPT10aGlzLmtleSYmdm9pZCAwIT09dGhpcy5rZXkmJihlLnhiKFwia2V5XCIsaS5UeXBlLlNUUlVDVCwxKSx0aGlzLmtleS53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnJhbmtpbmcmJnZvaWQgMCE9PXRoaXMucmFua2luZyYmKGUueGIoXCJyYW5raW5nXCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMucmFua2luZyksZS5HYigpKSxudWxsIT09dGhpcy5ncm91cFNpemUmJnZvaWQgMCE9PXRoaXMuZ3JvdXBTaXplJiYoZS54YihcImdyb3VwU2l6ZVwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLmdyb3VwU2l6ZSksZS5HYigpKSxudWxsIT09dGhpcy5jdW11bGF0ZWRSYW5rVmFsdWUmJnZvaWQgMCE9PXRoaXMuY3VtdWxhdGVkUmFua1ZhbHVlJiYoZS54YihcImN1bXVsYXRlZFJhbmtWYWx1ZVwiLGkuVHlwZS5ET1VCTEUsNCksZS5ZQyh0aGlzLmN1bXVsYXRlZFJhbmtWYWx1ZSksZS5HYigpKSxudWxsIT09dGhpcy50b3RhbE9mUmFua1ZhbHVlcyYmdm9pZCAwIT09dGhpcy50b3RhbE9mUmFua1ZhbHVlcyYmKGUueGIoXCJ0b3RhbE9mUmFua1ZhbHVlc1wiLGkuVHlwZS5ET1VCTEUsNSksZS5ZQyh0aGlzLnRvdGFsT2ZSYW5rVmFsdWVzKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJlcXVlc3Q9ZnVuY3Rpb24oZSl7dGhpcy5pbmZvPW51bGwsdGhpcy5jb250ZW50SWQ9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5zdHJlYW1UeXBlPW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCx0aGlzLmN1c3RvbWVyS2V5PW51bGwsZSYmKHZvaWQgMCE9PWUuaW5mbyYmKHRoaXMuaW5mbz1lLmluZm8pLHZvaWQgMCE9PWUuY29udGVudElkJiYodGhpcy5jb250ZW50SWQ9ZS5jb250ZW50SWQpLHZvaWQgMCE9PWUucXVlcnkmJih0aGlzLnF1ZXJ5PWUucXVlcnkpLHZvaWQgMCE9PWUuc3RyZWFtVHlwZSYmKHRoaXMuc3RyZWFtVHlwZT1lLnN0cmVhbVR5cGUpLHZvaWQgMCE9PWUuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9ZS5zZXNzaW9uSWQpLHZvaWQgMCE9PWUuY3VzdG9tZXJLZXkmJih0aGlzLmN1c3RvbWVyS2V5PWUuY3VzdG9tZXJLZXkpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVxdWVzdC5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVxdWVzdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmluZm89bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvLHRoaXMuaW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuY29udGVudElkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnF1ZXJ5PW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJRdWVyeSx0aGlzLnF1ZXJ5LnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JMzI/dGhpcy5zdHJlYW1UeXBlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuc2Vzc2lvbklkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmN1c3RvbWVyS2V5PW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkN1c3RvbWVyS2V5LHRoaXMuY3VzdG9tZXJLZXkucmVhZChlKSk6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVxdWVzdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJSZXF1ZXN0XCIpLG51bGwhPT10aGlzLmluZm8mJnZvaWQgMCE9PXRoaXMuaW5mbyYmKGUueGIoXCJpbmZvXCIsaS5UeXBlLlNUUlVDVCwxKSx0aGlzLmluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5jb250ZW50SWQmJnZvaWQgMCE9PXRoaXMuY29udGVudElkJiYoZS54YihcImNvbnRlbnRJZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmNvbnRlbnRJZCksZS5HYigpKSxudWxsIT09dGhpcy5xdWVyeSYmdm9pZCAwIT09dGhpcy5xdWVyeSYmKGUueGIoXCJxdWVyeVwiLGkuVHlwZS5TVFJVQ1QsMyksdGhpcy5xdWVyeS53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbVR5cGUmJnZvaWQgMCE9PXRoaXMuc3RyZWFtVHlwZSYmKGUueGIoXCJzdHJlYW1UeXBlXCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMuc3RyZWFtVHlwZSksZS5HYigpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS54YihcInNlc3Npb25JZFwiLGkuVHlwZS5TVFJJTkcsNSksZS5xYih0aGlzLnNlc3Npb25JZCksZS5HYigpKSxudWxsIT09dGhpcy5jdXN0b21lcktleSYmdm9pZCAwIT09dGhpcy5jdXN0b21lcktleSYmKGUueGIoXCJjdXN0b21lcktleVwiLGkuVHlwZS5TVFJVQ1QsNiksdGhpcy5jdXN0b21lcktleS53cml0ZShlKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJlc3BvbnNlPWZ1bmN0aW9uKGUpe3RoaXMuaW5mb3M9bnVsbCx0aGlzLnJhbmtpbmdzPW51bGwsdGhpcy5wZWVySW5mbz1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsZSYmKHZvaWQgMCE9PWUuaW5mb3MmJih0aGlzLmluZm9zPWUuaW5mb3MpLHZvaWQgMCE9PWUucmFua2luZ3MmJih0aGlzLnJhbmtpbmdzPWUucmFua2luZ3MpLHZvaWQgMCE9PWUucGVlckluZm8mJih0aGlzLnBlZXJJbmZvPWUucGVlckluZm8pLHZvaWQgMCE9PWUuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9ZS5zZXNzaW9uSWQpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVzcG9uc2UucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJlc3BvbnNlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOmlmKHI9PWkuVHlwZS5MSVNUKXt2YXIgcyxvPTA7dGhpcy5pbmZvcz1bXTtzPWUuYV8oKSxzLmhfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm8saC5yZWFkKGUpLHRoaXMuaW5mb3MucHVzaChoKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgMjppZihyPT1pLlR5cGUuTElTVCl7dmFyIGMsdT0wO3RoaXMucmFua2luZ3M9W107Yz1lLmFfKCksYy5oXyx1PWMuc2l6ZTtmb3IodmFyIGw9MDtsPHU7KytsKXt2YXIgcD1udWxsO3A9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nLHAucmVhZChlKSx0aGlzLnJhbmtpbmdzLnB1c2gocCl9ZS5jXygpfWVsc2UgZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5wZWVySW5mbz1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm8sdGhpcy5wZWVySW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuc2Vzc2lvbklkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXNwb25zZS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIlRyYWNrZXJSZXNwb25zZVwiKSxudWxsIT09dGhpcy5pbmZvcyYmdm9pZCAwIT09dGhpcy5pbmZvcyl7ZS54YihcImluZm9zXCIsaS5UeXBlLkxJU1QsMSksZS5IQyhpLlR5cGUuU1RSVUNULHRoaXMuaW5mb3MubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5pbmZvcyl0aGlzLmluZm9zLmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLmluZm9zW3RdLHQud3JpdGUoZSkpO2UueEMoKSxlLkdiKCl9aWYobnVsbCE9PXRoaXMucmFua2luZ3MmJnZvaWQgMCE9PXRoaXMucmFua2luZ3Mpe2UueGIoXCJyYW5raW5nc1wiLGkuVHlwZS5MSVNULDIpLGUuSEMoaS5UeXBlLlNUUlVDVCx0aGlzLnJhbmtpbmdzLmxlbmd0aCk7Zm9yKHZhciByIGluIHRoaXMucmFua2luZ3MpdGhpcy5yYW5raW5ncy5oYXNPd25Qcm9wZXJ0eShyKSYmKHI9dGhpcy5yYW5raW5nc1tyXSxyLndyaXRlKGUpKTtlLnhDKCksZS5HYigpfW51bGwhPT10aGlzLnBlZXJJbmZvJiZ2b2lkIDAhPT10aGlzLnBlZXJJbmZvJiYoZS54YihcInBlZXJJbmZvXCIsaS5UeXBlLlNUUlVDVCwzKSx0aGlzLnBlZXJJbmZvLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc2Vzc2lvbklkJiZ2b2lkIDAhPT10aGlzLnNlc3Npb25JZCYmKGUueGIoXCJzZXNzaW9uSWRcIixpLlR5cGUuU1RSSU5HLDQpLGUucWIodGhpcy5zZXNzaW9uSWQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5QRj1mdW5jdGlvbihlKXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMuY29udGVudElkPW51bGwsdGhpcy5hc1R5cGU9bnVsbCx0aGlzLmFzbj1udWxsLHRoaXMuYml0cmF0ZT1udWxsLHRoaXMuc3RyZWFtU3RhdGU9bnVsbCx0aGlzLnJhbmtUeXBlPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUuY29udGVudElkJiYodGhpcy5jb250ZW50SWQ9ZS5jb250ZW50SWQpLHZvaWQgMCE9PWUuYXNUeXBlJiYodGhpcy5hc1R5cGU9ZS5hc1R5cGUpLHZvaWQgMCE9PWUuYXNuJiYodGhpcy5hc249ZS5hc24pLHZvaWQgMCE9PWUuYml0cmF0ZSYmKHRoaXMuYml0cmF0ZT1lLmJpdHJhdGUpLHZvaWQgMCE9PWUuc3RyZWFtU3RhdGUmJih0aGlzLnN0cmVhbVN0YXRlPWUuc3RyZWFtU3RhdGUpLHZvaWQgMCE9PWUucmFua1R5cGUmJih0aGlzLnJhbmtUeXBlPWUucmFua1R5cGUpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5QRi5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5QRi5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMudGltZXN0YW1wPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuY29udGVudElkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuYXNUeXBlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuSTMyP3RoaXMuYXNuPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLkkzMj90aGlzLnN0cmVhbVN0YXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNzpyPT1pLlR5cGUuSTMyP3RoaXMucmFua1R5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuUEYucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFja2VyU3RvcmVJbmRleEtleVwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5jb250ZW50SWQmJnZvaWQgMCE9PXRoaXMuY29udGVudElkJiYoZS54YihcImNvbnRlbnRJZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmNvbnRlbnRJZCksZS5HYigpKSxudWxsIT09dGhpcy5hc1R5cGUmJnZvaWQgMCE9PXRoaXMuYXNUeXBlJiYoZS54YihcImFzVHlwZVwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLmFzVHlwZSksZS5HYigpKSxudWxsIT09dGhpcy5hc24mJnZvaWQgMCE9PXRoaXMuYXNuJiYoZS54YihcImFzblwiLGkuVHlwZS5JMzIsNCksZS5WYih0aGlzLmFzbiksZS5HYigpKSxudWxsIT09dGhpcy5iaXRyYXRlJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGUmJihlLnhiKFwiYml0cmF0ZVwiLGkuVHlwZS5JMzIsNSksZS5WYih0aGlzLmJpdHJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtU3RhdGUmJnZvaWQgMCE9PXRoaXMuc3RyZWFtU3RhdGUmJihlLnhiKFwic3RyZWFtU3RhdGVcIixpLlR5cGUuSTMyLDYpLGUuVmIodGhpcy5zdHJlYW1TdGF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5yYW5rVHlwZSYmdm9pZCAwIT09dGhpcy5yYW5rVHlwZSYmKGUueGIoXCJyYW5rVHlwZVwiLGkuVHlwZS5JMzIsNyksZS5WYih0aGlzLnJhbmtUeXBlKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQUY9ZnVuY3Rpb24oZSl7dGhpcy5ndWlkPW51bGwsdGhpcy5PRj1udWxsLHRoaXMua2V5PW51bGwsZSYmKHZvaWQgMCE9PWUuZ3VpZCYmKHRoaXMuZ3VpZD1lLmd1aWQpLHZvaWQgMCE9PWUuT0YmJih0aGlzLk9GPWUuT0YpLHZvaWQgMCE9PWUua2V5JiYodGhpcy5rZXk9ZS5rZXkpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5BRi5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5BRi5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuZ3VpZD1lLnZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkRPVUJMRT90aGlzLk9GPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmtleT1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmdLZXksdGhpcy5rZXkucmVhZChlKSk6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5BRi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJTdG9yZVJhbmtQZWVyXCIpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKGUueGIoXCJndWlkXCIsaS5UeXBlLlNUUklORywxKSxlLldDKHRoaXMuZ3VpZCksZS5HYigpKSxudWxsIT09dGhpcy5PRiYmdm9pZCAwIT09dGhpcy5PRiYmKGUueGIoXCJyYW5rXCIsaS5UeXBlLkRPVUJMRSwyKSxlLllDKHRoaXMuT0YpLGUuR2IoKSksbnVsbCE9PXRoaXMua2V5JiZ2b2lkIDAhPT10aGlzLmtleSYmKGUueGIoXCJrZXlcIixpLlR5cGUuU1RSVUNULDMpLHRoaXMua2V5LndyaXRlKGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5ORj1mdW5jdGlvbihlKXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMucmVxdWVzdD1udWxsLGUmJih2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wKSx2b2lkIDAhPT1lLnJlcXVlc3QmJih0aGlzLnJlcXVlc3Q9ZS5yZXF1ZXN0KSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuTkYucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuTkYucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkk2ND90aGlzLnRpbWVzdGFtcD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5yZXF1ZXN0PW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXF1ZXN0LHRoaXMucmVxdWVzdC5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLk5GLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclJlcXVlc3RRdWV1ZU1lc3NhZ2VcIiksbnVsbCE9PXRoaXMudGltZXN0YW1wJiZ2b2lkIDAhPT10aGlzLnRpbWVzdGFtcCYmKGUueGIoXCJ0aW1lc3RhbXBcIixpLlR5cGUuSTY0LDEpLGUuS0ModGhpcy50aW1lc3RhbXApLGUuR2IoKSksbnVsbCE9PXRoaXMucmVxdWVzdCYmdm9pZCAwIT09dGhpcy5yZXF1ZXN0JiYoZS54YihcInJlcXVlc3RcIixpLlR5cGUuU1RSVUNULDIpLHRoaXMucmVxdWVzdC53cml0ZShlKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbil7dGhpcy5pZD1lLHRoaXMuYml0cmF0ZT10LHRoaXMuZHVyYXRpb249cix0aGlzLnVyaT1pLHRoaXMueU09bn1yZXR1cm4gZX0oKTt0LkRGPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dCx0aGlzLnRvdGFsPXJ9cmV0dXJuIGUucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVuZC10aGlzLnN0YXJ0KzE7cmV0dXJuIE51bWJlci5pc0ludGVnZXIoZSl8fChpLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiU2VnbWVudCBTaXplIGlzIGEgRmxvYXRcIix7c2l6ZTplfSksZT1NYXRoLnJvdW5kKGUpKSwwPT10aGlzLmVuZCYmMD09dGhpcy5zdGFydD8wOmV9LGUucHJvdG90eXBlLmtGPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuc3RhcnQmJih0aGlzLmVuZD09dGhpcy50b3RhbC0xfHx0aGlzLmVuZD09dGhpcy50b3RhbCYmMD09dGhpcy50b3RhbCl9LGUucHJvdG90eXBlLkxGPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPT10aGlzLnRvdGFsLTF8fHRoaXMuZW5kPT10aGlzLnRvdGFsJiYwPT10aGlzLnRvdGFsfSxlLnByb3RvdHlwZS5NRj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydDw9dGhpcy5zdGFydCYmdGhpcy5zdGFydDw9ZS5lbmR9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJSW1M9XCIrdGhpcy5zdGFydCtcIixFPVwiK3RoaXMuZW5kK1wiLFQ9XCIrdGhpcy50b3RhbCtcIl1cIn0sZX0oKTt0LkZGPW47dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLlVGPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiLVwiKX0sZS5CRj1mdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiPVwiLDQpLHI9dFsxXS5zdWJzdHIoMCx0WzFdLmluZGV4T2YoXCIsXCIpKSxpPXRbMl0uc3Vic3RyKDAsdFsyXS5pbmRleE9mKFwiLFwiKSkscz10WzNdLnN1YnN0cigwLHRbM10uaW5kZXhPZihcIl1cIikpO3JldHVybiBuZXcgbigrciwraSwrcyl9LGV9KCk7dC5IRj1zfSxmdW5jdGlvbihlLHQpe2UuaT1mdW5jdGlvbihlKXtyZXR1cm4gZS54Rnx8KGUucUY9ZnVuY3Rpb24oKXt9LGUuR0Y9W10sZS5jaGlsZHJlbnx8KGUuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibG9hZGVkXCIse3A6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUub319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImlkXCIse3A6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc319KSxlLnhGPTEpLGV9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9MCxpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBuPWVbaV07XCIuXCI9PT1uP2Uuc3BsaWNlKGksMSk6XCIuLlwiPT09bj8oZS5zcGxpY2UoaSwxKSxyKyspOnImJihlLnNwbGljZShpLDEpLHItLSl9aWYodClmb3IoO3ItLTtyKWUudW5zaGlmdChcIi4uXCIpO3JldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtpZihlLmZpbHRlcilyZXR1cm4gZS5maWx0ZXIodCk7Zm9yKHZhciByPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl0KGVbaV0saSxlKSYmci5wdXNoKGVbaV0pO3JldHVybiByfXZhciBuPS9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZXhlYyhlKS5zbGljZSgxKX07dC5yZXNvbHZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsdD0hMSxuPWFyZ3VtZW50cy5sZW5ndGgtMTtuPj0tMSYmIXQ7bi0tKXt2YXIgcz1uPj0wP2FyZ3VtZW50c1tuXTpwcm9jZXNzLlZGKCk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzXCIpO3MmJihlPXMrXCIvXCIrZSx0PVwiL1wiPT09cy5jaGFyQXQoMCkpfXJldHVybiBlPXIoaShlLnNwbGl0KFwiL1wiKSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSwhdCkuam9pbihcIi9cIiksKHQ/XCIvXCI6XCJcIikrZXx8XCIuXCJ9LHQubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciBuPXQuakYoZSkscz1cIi9cIj09PW8oZSwtMSk7cmV0dXJuIGU9cihpKGUuc3BsaXQoXCIvXCIpLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pLCFuKS5qb2luKFwiL1wiKSxlfHxufHwoZT1cIi5cIiksZSYmcyYmKGUrPVwiL1wiKSwobj9cIi9cIjpcIlwiKStlfSx0LmpGPWZ1bmN0aW9uKGUpe3JldHVyblwiL1wiPT09ZS5jaGFyQXQoMCl9LHQuam9pbj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gdC5ub3JtYWxpemUoaShlLGZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzXCIpO3JldHVybiBlfSkuam9pbihcIi9cIikpfSx0LlFGPWZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoJiZcIlwiPT09ZVt0XTt0KyspO2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTAmJlwiXCI9PT1lW3JdO3ItLSk7cmV0dXJuIHQ+cj9bXTplLnNsaWNlKHQsci10KzEpfWU9dC5yZXNvbHZlKGUpLnN1YnN0cigxKSxyPXQucmVzb2x2ZShyKS5zdWJzdHIoMSk7Zm9yKHZhciBuPWkoZS5zcGxpdChcIi9cIikpLHM9aShyLnNwbGl0KFwiL1wiKSksbz1NYXRoLm1pbihuLmxlbmd0aCxzLmxlbmd0aCksYT1vLGg9MDtoPG87aCsrKWlmKG5baF0hPT1zW2hdKXthPWg7YnJlYWt9Zm9yKHZhciBjPVtdLGg9YTtoPG4ubGVuZ3RoO2grKyljLnB1c2goXCIuLlwiKTtyZXR1cm4gYz1jLmNvbmNhdChzLnNsaWNlKGEpKSxjLmpvaW4oXCIvXCIpfSx0LktGPVwiL1wiLHQuWUY9XCI6XCIsdC5XRj1mdW5jdGlvbihlKXt2YXIgdD1zKGUpLHI9dFswXSxpPXRbMV07cmV0dXJuIHJ8fGk/KGkmJihpPWkuc3Vic3RyKDAsaS5sZW5ndGgtMSkpLHIraSk6XCIuXCJ9LHQuekY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKGUpWzJdO3JldHVybiB0JiZyLnN1YnN0cigtMSp0Lmxlbmd0aCk9PT10JiYocj1yLnN1YnN0cigwLHIubGVuZ3RoLXQubGVuZ3RoKSkscn0sdC5KRj1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKVszXX07dmFyIG89XCJiXCI9PT1cImFiXCIuc3Vic3RyKC0xKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc3Vic3RyKHQscil9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdDwwJiYodD1lLmxlbmd0aCt0KSxlLnN1YnN0cih0LHIpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtBcnJheS5wcm90b3R5cGVbZV18fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsZSx7dmFsdWU6dCxBaDohMCxsOiEwLHA6ITF9KX1mdW5jdGlvbiBuKGUsdCxyKXt0aGlzLk5UPWUsdGhpcy5zdGFydD1udWxsPT10PzA6dCx0aGlzLmVuZD1yfXZhciBzPShyKDY2KSxyKDEyKSksbz1yKDY3KSxhPXIoMzcpO2UuaT1BcnJheTt2YXIgaD1BcnJheS5wcm90b3R5cGUuc3BsaWNlLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlO0FycmF5LmVtcHR5PVtdLE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoQXJyYXkuZW1wdHkpLEFycmF5LmZyb209QXJyYXkuZnJvbXx8ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQuYWRkRWFjaChlKSx0fSxBcnJheS5NYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xLzAsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldO2VbaV09bi50b0FycmF5KCksbi5sZW5ndGg8ciYmKHI9bi5sZW5ndGgpfWZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgbj1lW2ldLHM9MDtzPG4ubGVuZ3RoO3MrKylzPHImJnMgaW4gbiYmKHRbc109dFtzXXx8W10sdFtzXVtpXT1uW3NdKTtyZXR1cm4gdH0saShcImFkZEVhY2hcIixzLnByb3RvdHlwZS5hZGRFYWNoKSxpKFwiZGVsZXRlRWFjaFwiLHMucHJvdG90eXBlLl9jKSxpKFwidG9BcnJheVwiLHMucHJvdG90eXBlLnRvQXJyYXkpLGkoXCJ0b09iamVjdFwiLHMucHJvdG90eXBlLlBjKSxpKFwiYWxsXCIscy5wcm90b3R5cGUuYWxsKSxpKFwiYW55XCIscy5wcm90b3R5cGUudW8pLGkoXCJtaW5cIixzLnByb3RvdHlwZS5taW4pLGkoXCJtYXhcIixzLnByb3RvdHlwZS5tYXgpLGkoXCJzdW1cIixzLnByb3RvdHlwZS5OYyksaShcImF2ZXJhZ2VcIixzLnByb3RvdHlwZS5EYyksaShcIm9ubHlcIixzLnByb3RvdHlwZS5vbmx5KSxpKFwiZmxhdHRlblwiLHMucHJvdG90eXBlLmtjKSxpKFwiemlwXCIscy5wcm90b3R5cGUuTGMpLGkoXCJlbnVtZXJhdGVcIixzLnByb3RvdHlwZS5lbnVtZXJhdGUpLGkoXCJncm91cFwiLHMucHJvdG90eXBlLmdyb3VwKSxpKFwic29ydGVkXCIscy5wcm90b3R5cGUuRmMpLGkoXCJyZXZlcnNlZFwiLHMucHJvdG90eXBlLnJldmVyc2VkKSxpKFwiY29uc3RydWN0Q2xvbmVcIixmdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5hZGRFYWNoKGUpLHR9KSxpKFwiaGFzXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4tMSE9PXRoaXMuZmluZChlLHQpfSksaShcInNldFwiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXNbZV09dCwhMH0pLGkoXCJhZGRcIixmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoKGUpLCEwfSksaShcImRlbGV0ZVwiLGZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5maW5kKGUsdCk7cmV0dXJuLTEhPT1yJiYodGhpcy5zcGxpY2UociwxKSwhMCl9KSxpKFwiZGVsZXRlQWxsXCIsZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMubHN8fE9iamVjdC5jcztmb3IodmFyIHI9MCxpPTA7aTx0aGlzLmxlbmd0aDspdChlLHRoaXNbaV0pPyh0aGlzLnFrKGksMSkscisrKTppKys7cmV0dXJuIHJ9KSxpKFwiZmluZFwiLGZ1bmN0aW9uKGUsdCl7dD10fHx0aGlzLmxzfHxPYmplY3QuY3M7Zm9yKHZhciByPTA7cjx0aGlzLmxlbmd0aDtyKyspaWYociBpbiB0aGlzJiZ0KGUsdGhpc1tyXSkpcmV0dXJuIHI7cmV0dXJuLTF9KSxpKFwiZmluZExhc3RcIixmdW5jdGlvbihlLHQpe3Q9dHx8dGhpcy5sc3x8T2JqZWN0LmNzO3ZhciByPXRoaXMubGVuZ3RoO2Rve2lmKC0tciBpbiB0aGlzJiZ0KHRoaXNbcl0sZSkpcmV0dXJuIHJ9d2hpbGUocj4wKTtyZXR1cm4tMX0pLGkoXCJzd2FwXCIsZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4scyxvLGE7aWYoZT50aGlzLmxlbmd0aCYmKHRoaXMubGVuZ3RoPWUpLHZvaWQgMCE9PXIpe2lmKGk9W2UsdF0sQXJyYXkuaXNBcnJheShyKXx8KHI9Yy5jYWxsKHIpKSxzPTAsKG49ci5sZW5ndGgpPDFlMyl7Zm9yKHM7czxuO3MrKylpW3MrMl09cltzXTtyZXR1cm4gaC5hcHBseSh0aGlzLGkpfWZvcihhPWguYXBwbHkodGhpcyxpKSxzO3M8bjspe2ZvcihpPVtlK3MsMF0sbz0yO288MTAwMiYmczxuO28rKyxzKyspaVtvXT1yW3NdO2guYXBwbHkodGhpcyxpKX1yZXR1cm4gYX1yZXR1cm4gdm9pZCAwIT09dD9oLmNhbGwodGhpcyxlLHQpOnZvaWQgMCE9PWU/aC5jYWxsKHRoaXMsZSk6W119KSxpKFwicGVla1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19KSxpKFwicG9rZVwiLGZ1bmN0aW9uKGUpe3RoaXMubGVuZ3RoPjAmJih0aGlzWzBdPWUpfSksaShcInBlZWtCYWNrXCIsZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD4wKXJldHVybiB0aGlzW3RoaXMubGVuZ3RoLTFdfSksaShcInBva2VCYWNrXCIsZnVuY3Rpb24oZSl7dGhpcy5sZW5ndGg+MCYmKHRoaXNbdGhpcy5sZW5ndGgtMV09ZSl9KSxpKFwib25lXCIsZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcylpZihPYmplY3QuT0EodGhpcyxlKSlyZXR1cm4gdGhpc1tlXX0pLEFycmF5LnByb3RvdHlwZS5jbGVhcnx8aShcImNsZWFyXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9MCx0aGlzfSksaShcImNvbXBhcmVcIixmdW5jdGlvbihlLHQpe3Q9dHx8T2JqZWN0Lk9jO3ZhciByLGksbixzLGE7aWYodGhpcz09PWUpcmV0dXJuIDA7aWYoIWV8fCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBvLnByb3RvdHlwZS5PYy5jYWxsKHRoaXMsZSx0KTtmb3IoaT1NYXRoLm1pbih0aGlzLmxlbmd0aCxlLmxlbmd0aCkscj0wO3I8aTtyKyspaWYociBpbiB0aGlzKXtpZighKHIgaW4gZSkpcmV0dXJuLTE7aWYobj10aGlzW3JdLHM9ZVtyXSxhPXQobixzKSlyZXR1cm4gYX1lbHNlIGlmKHIgaW4gZSlyZXR1cm4gMTtyZXR1cm4gdGhpcy5sZW5ndGgtZS5sZW5ndGh9KSxpKFwiZXF1YWxzXCIsZnVuY3Rpb24oZSx0KXt0PXR8fE9iamVjdC5jczt2YXIgcixpLG49MCxzPXRoaXMubGVuZ3RoO2lmKHRoaXM9PT1lKXJldHVybiEwO2lmKCFlfHwhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gby5wcm90b3R5cGUuY3MuY2FsbCh0aGlzLGUpO2lmKHMhPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoO248czsrK24paWYobiBpbiB0aGlzKXtpZighKG4gaW4gZSkpcmV0dXJuITE7aWYocj10aGlzW25dLGk9ZVtuXSwhdChyLGkpKXJldHVybiExfWVsc2UgaWYobiBpbiBlKXJldHVybiExO3JldHVybiEwfSksaShcImNsb25lXCIsZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKWU9MS8wO2Vsc2UgaWYoMD09PWUpcmV0dXJuIHRoaXM7aWYodD10fHxuZXcgYSx0Lmhhcyh0aGlzKSlyZXR1cm4gdC5nZXQodGhpcyk7dmFyIHI9bmV3IEFycmF5KHRoaXMubGVuZ3RoKTt0LnNldCh0aGlzLHIpO2Zvcih2YXIgaSBpbiB0aGlzKXJbaV09T2JqZWN0LmNsb25lKHRoaXNbaV0sZS0xLHQpO3JldHVybiByfSksaShcIml0ZXJhdGVcIixmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgbih0aGlzLGUsdCl9KSxpKFwiSXRlcmF0b3JcIixuKSxuLnByb3RvdHlwZS5Haz1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2t8fCh0aGlzLkdrPXtkb25lOiExLHZhbHVlOm51bGx9KX19KSxuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQ9PT0obnVsbD09dGhpcy5lbmQ/dGhpcy5OVC5sZW5ndGg6dGhpcy5lbmQpPyh0aGlzLlZrLmRvbmU9ITAsdGhpcy5Way52YWx1ZT12b2lkIDApOnRoaXMuVmsudmFsdWU9dGhpcy5OVFt0aGlzLnN0YXJ0KytdLHRoaXMuVmt9fSxmdW5jdGlvbihlLHQpe2UuaT1GdW5jdGlvbixGdW5jdGlvbi51cz1mdW5jdGlvbigpe30sRnVuY3Rpb24uaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LEZ1bmN0aW9uLlVjPWZ1bmN0aW9uKGUsdCl7dD10fHxPYmplY3QuT2MsZT1lfHxGdW5jdGlvbi5pZGVudGl0eTt2YXIgcj1mdW5jdGlvbihyLGkpe3JldHVybiB0KGUociksZShpKSl9O3JldHVybiByLk9jPXQsci5VYz1lLHJ9LEZ1bmN0aW9uLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXQodCxlKX19fSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY09yZGVyIGlzIGEgbWl4aW4uXCIpfXZhciBuPXIoMzYpO2UuaT1pLGkucHJvdG90eXBlLmNzPWZ1bmN0aW9uKGUsdCl7aWYodD10fHx0aGlzLmxzfHxuLmNzLHRoaXM9PT1lKXJldHVybiEwO2lmKCFlKXJldHVybiExO3JldHVybiB0aGlzLmxlbmd0aD09PWUubGVuZ3RoJiZ0aGlzLkxjKGUpLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiB0KGVbMF0sZVsxXSl9KX0saS5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHRoaXMuQWN8fG4uT2MsdGhpcz09PWUpcmV0dXJuIDA7aWYoIWUpcmV0dXJuIDE7dmFyIHI9TWF0aC5taW4odGhpcy5sZW5ndGgsZS5sZW5ndGgpLGk9dGhpcy5MYyhlKS5yZWR1Y2UoZnVuY3Rpb24oZSxpLG4pe3JldHVybiAwPT09ZT9uPj1yP2U6dChpWzBdLGlbMV0pOmV9LDApO3JldHVybiAwPT09aT90aGlzLmxlbmd0aC1lLmxlbmd0aDppfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIsbik7dD10fHxPYmplY3QuY3Mscj1yfHxPYmplY3QuaGFzaCxuPW58fEZ1bmN0aW9uLnVzLHRoaXMubHM9dCx0aGlzLnBzPXIsdGhpcy5kcz1uLHRoaXMub3JkZXI9bmV3IHRoaXMuWEYodm9pZCAwLHQpLHRoaXMuZnM9bmV3IHRoaXMuWkYodm9pZCAwLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZS52YWx1ZSxyLnZhbHVlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIoZS52YWx1ZSl9KSx0aGlzLmxlbmd0aD0wLHRoaXMuYWRkRWFjaChlKX12YXIgbj0ocigxMSkscig1MCkpLHM9cigxMDIpLG89cigxMiksYT1yKDM5KSxoPXIoMTMpLGM9cigzOCksdT1yKDEwMyk7ZS5pPWksaS5TZXQ9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGgucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxjLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwic2l6ZVwiLG8uZ3MpLGkucHJvdG90eXBlLlhGPW4saS5wcm90b3R5cGUuWkY9cyxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMucHMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5vcmRlci5Ob2RlKGUpO3JldHVybiB0aGlzLmZzLmhhcyh0KX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTZXQjZ2V0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7dmFyIHI9bmV3IHRoaXMub3JkZXIuTm9kZShlKTtyZXR1cm4gcj10aGlzLmZzLmdldChyKSxyP3IudmFsdWU6dGhpcy5kcyhlKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzLm9yZGVyLk5vZGUoZSk7aWYoIXRoaXMuZnMuaGFzKHQpKXt2YXIgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5NayYmdGhpcy5RQShbZV0sW10sciksdGhpcy5vcmRlci5hZGQoZSksdD10aGlzLm9yZGVyLmhlYWQuT2ssdGhpcy5mcy5hZGQodCksdGhpcy5sZW5ndGgrKyx0aGlzLk1rJiZ0aGlzLkdBKFtlXSxbXSxyKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTZXQjZGVsZXRlIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7dmFyIHI9bmV3IHRoaXMub3JkZXIuTm9kZShlKTtyZXR1cm4hIXRoaXMuZnMuaGFzKHIpJiYocj10aGlzLmZzLmdldChyKSx0aGlzLk1rJiZ0aGlzLlFBKFtdLFtlXSxyLmluZGV4KSx0aGlzLmZzLmRlbGV0ZShyKSx0aGlzLm9yZGVyLnNwbGljZShyLDEpLHRoaXMubGVuZ3RoLS0sdGhpcy5NayYmdGhpcy5HQShbXSxbZV0sci5pbmRleCksITApfSxpLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5vcmRlci5oZWFkLk9rLnZhbHVlO3JldHVybiB0aGlzLmRlbGV0ZShlKSxlfX0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5vcmRlci5oZWFkLm5leHQudmFsdWU7cmV0dXJuIHRoaXMuZGVsZXRlKGUpLGV9fSxpLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApcmV0dXJuIHRoaXMuZnMuQmMoKS52YWx1ZX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLk1rJiYoZT10aGlzLnRvQXJyYXkoKSx0aGlzLlFBKFtdLGUsMCkpLHRoaXMuZnMuY2xlYXIoKSx0aGlzLm9yZGVyLmNsZWFyKCksdGhpcy5sZW5ndGg9MCx0aGlzLk1rJiZ0aGlzLkdBKFtdLGUsMCl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50c1syXSxpPTA7cmV0dXJuIHRoaXMub3JkZXIucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbChyLHQsbixpKyssdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzWzJdLGk9dGhpcy5vcmRlcixuPXRoaXMubGVuZ3RoLTE7cmV0dXJuIGkucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5jYWxsKHIsdCxpLG4tLSx0aGlzKX0sdCx0aGlzKX0saS5wcm90b3R5cGUuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmRlci5IYygpfSxpLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUodGhpcyl9LGkucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZnM7cmV0dXJuIGUubG9nLmFwcGx5KGUsYXJndW1lbnRzKX0saS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLm9yZGVyLlhjKCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe31lLmk9aSxpLiRGPXtXQTpcIitcIixlVTpcIi1cIix0VTpcIitcIixyVTpcIitcIixpVTpcIi5cIixuVTpcIidcIixzVTpcIitcIixvVTpcInxcIn0saS5hVT17V0E6XCLilYtcIixlVTpcIuKUgVwiLHRVOlwi4pS7XCIsclU6XCLilLNcIixpVTpcIuKVrVwiLG5VOlwi4pWwXCIsc1U6XCLilKNcIixvVTpcIuKUg1wifSxpLmhVPXtXQTpcIuKVi1wiLGVVOlwi4pSBXCIsdFU6XCLilLtcIixyVTpcIuKUs1wiLGlVOlwi4pSPXCIsblU6XCLilJdcIixzVTpcIuKUo1wiLG9VOlwi4pSDXCJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kuZE89XCIxMjcuMC4wLjFcIixpLnJMPTExOTgzLGkuZk89XCIvL3swfTp7MX0vcHJveHkvP2NhbGxiYWNrPXsyfXszfWhpdmVQbHVnaW5JZD17NH1cIixpLmNVPVwiLy97MH06ezF9L3Byb3h5L3syfS9zZXNzaW9uP21hbmlmZXN0PXszfVwiLGkuZUw9XCIvL3swfTp7MX0vcHJveHkvezJ9L3BsYXllcj9yZXE9ezN9XCIsaS51VT1cIi8vezB9OnsxfS9wcm94eS97Mn0vaW5mbz97M31cIix0LnRMPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDcpLG49cigxKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxvZ2dlcklkPVwiW0hpdmVYSFJdIFwiLHRoaXMuRE9ORT00LHRoaXMuTE9BRElORz0zLHRoaXMuSEVBREVSU19SRUNFSVZFRD0yLHRoaXMuT1BFTkVEPTEsdGhpcy5VTlNFTlQ9MCx0aGlzLnVzZXJuYW1lPW51bGwsdGhpcy5wYXNzd29yZD1udWxsLHRoaXMubFU9W10sdGhpcy5yZXNwb25zZVR5cGU9XCJcIix0aGlzLnJlYWR5U3RhdGU9dGhpcy5VTlNFTlQsdGhpcy5zdGF0dXM9MCx0aGlzLmFzeW5jPSEwLHRoaXMudGltZW91dD0wLHRoaXMuZXZlbnRzPXt9LGUmJih0aGlzLnNlc3Npb25JZD1lKX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7dGhpcy5ldmVudHNbZV09dGhpcy5ldmVudHNbZV18fFtdLHRoaXMuZXZlbnRzW2VdLnB1c2godCl9LGUucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZXZlbnRzW2VdJiYodGhpcy5ldmVudHNbZV09dGhpcy5ldmVudHNbZV0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKX0sZS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuZXZlbnRzW2UudHlwZV0mJnRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChmdW5jdGlvbihyKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yLmNhbGwodCxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiByLkNMJiZyLkNMKGUpfWNhdGNoKHIpe24uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IodC5sb2dnZXJJZCtcIkVycm9yIGluIGNhbGxiYWNrIGhhbmRsZXIgJ1wiK2UudHlwZStcIidcIix7ZXJyb3I6cn0pfX0pO3ZhciByPXRoaXNbXCJvblwiK2UudHlwZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil0cnl7ci5jYWxsKHRoaXMsZSl9Y2F0Y2godCl7bi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcih0aGlzLmxvZ2dlcklkK1wiRXJyb3IgaW4gY2FsbGJhY2sgaGFuZGxlciAnXCIrZS50eXBlK1wiJ1wiLHtlcnJvcjp0fSl9cmV0dXJuITF9LGUucHJvdG90eXBlLm1zQ2FjaGluZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5tc0NhY2hpbmd9LGUucHJvdG90eXBlLm92ZXJyaWRlTWltZVR5cGU9ZnVuY3Rpb24oZSl7dGhpcy5taW1lVHlwZT1lfSxlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQscil7ZS51Ylt0XT1yfSxlLnByb3RvdHlwZS5wVT1mdW5jdGlvbih0KXt0aGlzLnNlc3Npb25JZHx8KHRoaXMuc2Vzc2lvbklkPWUudWJbdF0pfSxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUsdCxyLG4scyl7dm9pZCAwPT09ciYmKHI9ITApLHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMudXJsPXQudHJpbSgpLHRoaXMubWV0aG9kPWUsdGhpcy51c2VybmFtZT1uLHRoaXMucGFzc3dvcmQ9cyx0aGlzLmFzeW5jPXIsdGhpcy5yZWFkeVN0YXRlPXRoaXMuT1BFTkVEO3ZhciBvPWkucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIse2N1cnJlbnRUYXJnZXQ6dGhpc30pO3RoaXMuZGlzcGF0Y2hFdmVudChvKX0sZS5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbihlLHQpe2lmKHRoaXMucmVhZHlTdGF0ZSE9PXRoaXMuT1BFTkVEKXRocm93IG5ldyBFcnJvcihcIlRoZSBvYmplY3QncyBzdGF0ZSBtdXN0IGJlIE9QRU5FRC5cIik7dGhpcy5sVS5wdXNoKHtrZXk6ZSx2YWx1ZTp0fSl9LGUucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7aWYodCl7dmFyIHI9W107cmV0dXJuIHQuc3BsaXQoL1tcXHJcXG5dKy8pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvXihbXjpdKyk6ID8oLispJC8pO3QmJihyW3RbMV1dPXRbMl0pfSkscltlLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNwb25zZUhlYWRlcnN9LGUucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9ubG9hZGVuZD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25hYm9ydD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub250aW1lb3V0PWZ1bmN0aW9uKGUpe30sZX0oKTtzLnViPXt9LHMuQWc9MCx0LnBiPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNTMpLHM9cig3KSxvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5yZWdpc3RlclRlY2g9ZnVuY3Rpb24oZSxyKXt0LmlMW3JdPWV9LHQucmVnaXN0ZXJDb21tPWZ1bmN0aW9uKGUscil7dC5uTFtyXT1lfSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2Vzc2lvbklkKXt2YXIgZT1PYmplY3Qua2V5cyh0Lm5MKTtlLmxlbmd0aD4wJiYodGhpcy5zZXNzaW9uSWQ9dC5uTFtlWzBdXSl9dmFyIHI9dC5pTFt0aGlzLnNlc3Npb25JZF0saT10Lm5MW3RoaXMuc2Vzc2lvbklkXTtpLmxvZ2dlcigpLmRlYnVnKFwiSW50ZXJjZXB0ZWQgTWFuaWZlc3QgUmVxdWVzdCBcIit0aGlzLnVybCksci5vTCh0aGlzKSxpLm9uQWN0aXZhdGVTZXNzaW9uKHRoaXMudXJsKX0sdC5wcm90b3R5cGUuZFU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbihcIkdFVFwiLHRoaXMudXJsKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihyKXs0PT09dC5yZWFkeVN0YXRlJiYoZS5yZXNwb25zZT10LnJlc3BvbnNlVGV4dCxlLnJlc3BvbnNlVGV4dD10LnJlc3BvbnNlVGV4dCxlLnJlYWR5U3RhdGU9NCxlLnN0YXR1cz10LnN0YXR1cyxlLm9ucmVhZHlzdGF0ZWNoYW5nZShzLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHIsZSkpLGUub25sb2FkKHMucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRcIixyLGUpKSxjb25zb2xlLmRlYnVnKFwiUmV0dXJuZWQgTWFuaWZlc3QgUmVxdWVzdCBcIitlLnVybCkpfSx0LnNlbmQoKX0sdC5wcm90b3R5cGUuZlU9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5zZW5kLmNhbGwodGhpcyl9LHR9KG4uWnUpO28ubkw9e30sby5pTD17fSx0LiR1PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMTUpLHM9cigwKSxvPXIoMzIpLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LkFwaT1mdW5jdGlvbigpe3JldHVybiB0LmFwcD1cIkpTXCIscy5GcmFtZXdvcmsucmVzb2x2ZShuLnF1Ll91KX0sdH0oby5IaXZlKTt0LmxiPWF9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKGUscil7dmFyIGk9e2dVOltdLEVVOnN9O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYoaS52VT1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihpLnlVPWFyZ3VtZW50c1szXSksZihyKT9pLlRVPXI6ciYmdC5tVShpLHIpLG0oaS5UVSkmJihpLlRVPSExKSxtKGkudlUpJiYoaS52VT0yKSxtKGkueVUpJiYoaS55VT0hMSksbShpLklVKSYmKGkuSVU9ITApLGkueVUmJihpLkVVPW4pLGEoaSxlLGkudlUpfWZ1bmN0aW9uIG4oZSx0KXt2YXIgcj1pLlNVW3RdO3JldHVybiByP1wiXHUwMDFiW1wiK2kueVVbcl1bMF0rXCJtXCIrZStcIlx1MDAxYltcIitpLnlVW3JdWzFdK1wibVwiOmV9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLHIpe3RbZV09ITB9KSx0fWZ1bmN0aW9uIGEoZSxyLGkpe2lmKGUuSVUmJnImJmIoci5JcykmJnIuSXMhPT10LklzJiYoIXIuY29uc3RydWN0b3J8fHIuY29uc3RydWN0b3IucHJvdG90eXBlIT09cikpe3ZhciBuPXIuSXMoaSxlKTtyZXR1cm4geShuKXx8KG49YShlLG4saSkpLG59dmFyIHM9aChlLHIpO2lmKHMpcmV0dXJuIHM7dmFyIGY9T2JqZWN0LmtleXMociksZz1vKGYpO2lmKGUuVFUmJihmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpKSx3KHIpJiYoZi5pbmRleE9mKFwibWVzc2FnZVwiKT49MHx8Zi5pbmRleE9mKFwiZGVzY3JpcHRpb25cIik+PTApKXJldHVybiBjKHIpO2lmKDA9PT1mLmxlbmd0aCl7aWYoYihyKSl7dmFyIEU9ci5uYW1lP1wiOiBcIityLm5hbWU6XCJcIjtyZXR1cm4gZS5FVShcIltGdW5jdGlvblwiK0UrXCJdXCIsXCJzcGVjaWFsXCIpfWlmKEkocikpcmV0dXJuIGUuRVUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLFwicmVnZXhwXCIpO2lmKFIocikpcmV0dXJuIGUuRVUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSxcImRhdGVcIik7aWYodyhyKSlyZXR1cm4gYyhyKX12YXIgdj1cIlwiLFQ9ITEsbT1bXCJ7XCIsXCJ9XCJdO2lmKGQocikmJihUPSEwLG09W1wiW1wiLFwiXVwiXSksYihyKSl7dj1cIiBbRnVuY3Rpb25cIisoci5uYW1lP1wiOiBcIityLm5hbWU6XCJcIikrXCJdXCJ9aWYoSShyKSYmKHY9XCIgXCIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpKSxSKHIpJiYodj1cIiBcIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHIpKSx3KHIpJiYodj1cIiBcIitjKHIpKSwwPT09Zi5sZW5ndGgmJighVHx8MD09ci5sZW5ndGgpKXJldHVybiBtWzBdK3YrbVsxXTtpZihpPDApcmV0dXJuIEkocik/ZS5FVShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksXCJyZWdleHBcIik6ZS5FVShcIltPYmplY3RdXCIsXCJzcGVjaWFsXCIpO2UuZ1UucHVzaChyKTt2YXIgUztyZXR1cm4gUz1UP3UoZSxyLGksZyxmKTpmLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbChlLHIsaSxnLHQsVCl9KSxlLmdVLnBvcCgpLHAoUyx2LG0pfWZ1bmN0aW9uIGgoZSx0KXtpZihtKHQpKXJldHVybiBlLkVVKFwidW5kZWZpbmVkXCIsXCJ1bmRlZmluZWRcIik7aWYoeSh0KSl7dmFyIHI9XCInXCIrSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXlwifFwiJC9nLFwiXCIpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpK1wiJ1wiO3JldHVybiBlLkVVKHIsXCJzdHJpbmdcIil9cmV0dXJuIHYodCk/ZS5FVShcIlwiK3QsXCJudW1iZXJcIik6Zih0KT9lLkVVKFwiXCIrdCxcImJvb2xlYW5cIik6Zyh0KT9lLkVVKFwibnVsbFwiLFwibnVsbFwiKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXtyZXR1cm5cIltcIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKStcIl1cIn1mdW5jdGlvbiB1KGUsdCxyLGksbil7Zm9yKHZhciBzPVtdLG89MCxhPXQubGVuZ3RoO288YTsrK28pTyh0LFN0cmluZyhvKSk/cy5wdXNoKGwoZSx0LHIsaSxTdHJpbmcobyksITApKTpzLnB1c2goXCJcIik7cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihuKXtuLm1hdGNoKC9eXFxkKyQvKXx8cy5wdXNoKGwoZSx0LHIsaSxuLCEwKSl9KSxzfWZ1bmN0aW9uIGwoZSx0LHIsaSxuLHMpe3ZhciBvLGgsYztpZihjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKXx8e3ZhbHVlOnRbbl19LGMuZ2V0P2g9Yy5zZXQ/ZS5FVShcIltHZXR0ZXIvU2V0dGVyXVwiLFwic3BlY2lhbFwiKTplLkVVKFwiW0dldHRlcl1cIixcInNwZWNpYWxcIik6Yy5zZXQmJihoPWUuRVUoXCJbU2V0dGVyXVwiLFwic3BlY2lhbFwiKSksTyhpLG4pfHwobz1cIltcIituK1wiXVwiKSxofHwoZS5nVS5pbmRleE9mKGMudmFsdWUpPDA/KGg9ZyhyKT9hKGUsYy52YWx1ZSxudWxsKTphKGUsYy52YWx1ZSxyLTEpLGguaW5kZXhPZihcIlxcblwiKT4tMSYmKGg9cz9oLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIiAgXCIrZX0pLmpvaW4oXCJcXG5cIikuc3Vic3RyKDIpOlwiXFxuXCIraC5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCIgICBcIitlfSkuam9pbihcIlxcblwiKSkpOmg9ZS5FVShcIltDaXJjdWxhcl1cIixcInNwZWNpYWxcIikpLG0obykpe2lmKHMmJm4ubWF0Y2goL15cXGQrJC8pKXJldHVybiBoO289SlNPTi5zdHJpbmdpZnkoXCJcIituKSxvLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKT8obz1vLnN1YnN0cigxLG8ubGVuZ3RoLTIpLG89ZS5FVShvLFwibmFtZVwiKSk6KG89by5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKS5yZXBsYWNlKC8oXlwifFwiJCkvZyxcIidcIiksbz1lLkVVKG8sXCJzdHJpbmdcIikpfXJldHVybiBvK1wiOiBcIitofWZ1bmN0aW9uIHAoZSx0LHIpe3ZhciBpPTA7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkrKyx0LmluZGV4T2YoXCJcXG5cIik+PTAmJmkrKyxlK3QucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csXCJcIikubGVuZ3RoKzF9LDApPjYwP3JbMF0rKFwiXCI9PT10P1wiXCI6dCtcIlxcbiBcIikrXCIgXCIrZS5qb2luKFwiLFxcbiAgXCIpK1wiIFwiK3JbMV06clswXSt0K1wiIFwiK2Uuam9pbihcIiwgXCIpK1wiIFwiK3JbMV19ZnVuY3Rpb24gZChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBmKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZX1mdW5jdGlvbiBnKGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiBFKGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIHYoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24geShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX1mdW5jdGlvbiBUKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gSShlKXtyZXR1cm4gUyhlKSYmXCJbb2JqZWN0IFJlZ0V4cF1cIj09PV8oZSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9ZnVuY3Rpb24gUihlKXtyZXR1cm4gUyhlKSYmXCJbb2JqZWN0IERhdGVdXCI9PT1fKGUpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIFMoZSkmJihcIltvYmplY3QgRXJyb3JdXCI9PT1fKGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIGIoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX1mdW5jdGlvbiBDKGUpe3JldHVybiBudWxsPT09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fFwic3ltYm9sXCI9PXR5cGVvZiBlfHx2b2lkIDA9PT1lfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBQKGUpe3JldHVybiBlPDEwP1wiMFwiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfWZ1bmN0aW9uIEEoKXt2YXIgZT1uZXcgRGF0ZSx0PVtQKGUuZ2V0SG91cnMoKSksUChlLmdldE1pbnV0ZXMoKSksUChlLmdldFNlY29uZHMoKSldLmpvaW4oXCI6XCIpO3JldHVybltlLmdldERhdGUoKSxMW2UuZ2V0TW9udGgoKV0sdF0uam9pbihcIiBcIil9ZnVuY3Rpb24gTyhlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX12YXIgTj0vJVtzZGolXS9nO3QuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCF5KGUpKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdC5wdXNoKGkoYXJndW1lbnRzW3JdKSk7cmV0dXJuIHQuam9pbihcIiBcIil9Zm9yKHZhciByPTEsbj1hcmd1bWVudHMscz1uLmxlbmd0aCxvPVN0cmluZyhlKS5yZXBsYWNlKE4sZnVuY3Rpb24oZSl7aWYoXCIlJVwiPT09ZSlyZXR1cm5cIiVcIjtpZihyPj1zKXJldHVybiBlO3N3aXRjaChlKXtjYXNlXCIlc1wiOnJldHVybiBTdHJpbmcobltyKytdKTtjYXNlXCIlZFwiOnJldHVybiBOdW1iZXIobltyKytdKTtjYXNlXCIlalwiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkobltyKytdKX1jYXRjaChlKXtyZXR1cm5cIltDaXJjdWxhcl1cIn1kZWZhdWx0OnJldHVybiBlfX0pLGE9bltyXTtyPHM7YT1uWysrcl0pZyhhKXx8IVMoYSk/bys9XCIgXCIrYTpvKz1cIiBcIitpKGEpO3JldHVybiBvfSx0LnFGPWZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gaSgpe2lmKCFuKXtpZihwcm9jZXNzLlJVKXRocm93IG5ldyBFcnJvcihyKTtwcm9jZXNzLndVP2NvbnNvbGUudHJhY2Uocik6Y29uc29sZS5lcnJvcihyKSxuPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZihtKGdsb2JhbC5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5xRihlLHIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoITA9PT1wcm9jZXNzLmJVKXJldHVybiBlO3ZhciBuPSExO3JldHVybiBpfTt2YXIgRCxrPXt9O3QuQ1U9ZnVuY3Rpb24oZSl7aWYobShEKSYmKEQ9cHJvY2Vzcy5Ncy5fVXx8XCJcIiksZT1lLnRvVXBwZXJDYXNlKCksIWtbZV0paWYobmV3IFJlZ0V4cChcIlxcXFxiXCIrZStcIlxcXFxiXCIsXCJpXCIpLnRlc3QoRCkpe3ZhciByPXByb2Nlc3MuUFU7a1tlXT1mdW5jdGlvbigpe3ZhciBpPXQuZm9ybWF0LmFwcGx5KHQsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKFwiJXMgJWQ6ICVzXCIsZSxyLGkpfX1lbHNlIGtbZV09ZnVuY3Rpb24oKXt9O3JldHVybiBrW2VdfSx0LklzPWksaS55VT17Ym9sZDpbMSwyMl0sQVU6WzMsMjNdLE9VOls0LDI0XSxpbnZlcnNlOls3LDI3XSxOVTpbMzcsMzldLERVOls5MCwzOV0sa1U6WzMwLDM5XSxibHVlOlszNCwzOV0sTFU6WzM2LDM5XSxncmVlbjpbMzIsMzldLE1VOlszNSwzOV0scmVkOlszMSwzOV0sRlU6WzMzLDM5XX0saS5TVT17VVU6XCJjeWFuXCIsbnVtYmVyOlwieWVsbG93XCIsQlU6XCJ5ZWxsb3dcIix1bmRlZmluZWQ6XCJncmV5XCIsSFU6XCJib2xkXCIsc3RyaW5nOlwiZ3JlZW5cIixfbTpcIm1hZ2VudGFcIix4VTpcInJlZFwifSx0LmlzQXJyYXk9ZCx0LkV5PWYsdC55eT1nLHQuc0w9RSx0LlR5PXYsdC5teT15LHQucVU9VCx0Lkl5PW0sdC5HVT1JLHQuYXU9Uyx0LlZVPVIsdC5qVT13LHQudnk9Yix0LlFVPUMsdC5pc0J1ZmZlcj1yKDEwNyk7dmFyIEw9W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXTt0LmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiJXMgLSAlc1wiLEEoKSx0LmZvcm1hdC5hcHBseSh0LGFyZ3VtZW50cykpfSx0LnZiPXIoMTA4KSx0Lm1VPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxpPXIubGVuZ3RoO2ktLTspZVtyW2ldXT10W3JbaV1dO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTgpLG49cigzKSxzPXIoMzMpO3IoMTE0KSxyKDExNSk7dmFyIG89cigwKSxhPXIoOCksaD1yKDI3KSxjPXIoMjMpLHU9cigxOSksbD1yKDE0KSxwPXIoMSksZD1yKDE4KTshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMuS1U9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMsdGhpcy5ZVT1uZXcgbix0aGlzLldVPW5ldyBuLHRoaXMuelU9bmV3IG4sdGhpcy5wbGF5ZXI9bmV3IGhpdmUuc25hcHNob3RzLlBsYXllcn1yZXR1cm4gZX0oKTtlLkpVPXQ7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aWNrZXQ9bnVsbCx0aGlzLlhVPTAsdGhpcy5aVT0wLHRoaXMudGVzdElkPW51bGwsdGhpcy4kVSgpfXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMubG9nZ2VyPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKS5sb2coaSksdGhpcy51ZD1vLkZyYW1ld29yay5yZXNvbHZlKGEucGMuc2MpLHRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIElOSVQgU1RBVFMgU1RPUkUgLSBJRDogXCIrZSksdGhpcy5nZD1lLHRoaXMudGlja2V0PXQsdGhpcy5WbChyKX0sdC5wcm90b3R5cGUuTkw9ZnVuY3Rpb24oZSl7dGhpcy50ZXN0SWQ9ZX0sdC5wcm90b3R5cGUuZUI9ZnVuY3Rpb24oZSl7dGhpcy50Qj1lfSx0LnByb3RvdHlwZS5WbD1mdW5jdGlvbihlKXt0aGlzLmFwcD1lfSx0LnByb3RvdHlwZS5yQj1mdW5jdGlvbihlKXt0aGlzLnlEPWV9LHQucHJvdG90eXBlLiRVPWZ1bmN0aW9uKCl7dGhpcy5pQj1uZXcgZS5KVSx0aGlzLmdkPW51bGwsdGhpcy50aWNrZXQ9bnVsbCx0aGlzLnJlc2V0KCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5GTD1uZXcgZS5KVSx0aGlzLm5CKHRoaXMuRkwuS1UpLHRoaXMuc0IodGhpcy5GTCl9LHQucHJvdG90eXBlLm5CPWZ1bmN0aW9uKGUpe2UucmVxTj0wLGUucmVzcEZhbGxiYWNrTj0wLGUucmVzcEZhbGxiYWNrRXJyTj0wLGUucmVzcFAycE49MCxlLnJlcU90aGVyTj0wLGUucmVzcEZhbGxiYWNrT3RoZXJOPTAsZS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPTAsZS5zcmNSZXFOPTAsZS5zcmNSZXNwTj0wLGUuc3JjUmVzcEVyck49MCxlLnNyY1JlcVF0PTAsZS5zcmNSZXNwUXQ9MCxlLnNyY092ZXJRdD0wLGUuc3JjT3RoZXJSZXFOPTAsZS5zcmNPdGhlclJlc3BOPTAsZS5zcmNPdGhlclJlc3BFcnJOPTAsZS5zcmNPdGhlclJlcVF0PTAsZS5zcmNPdGhlclJlc3BRdD0wLGUuc3JjT3RoZXJPdmVyUXQ9MCxlLnAycFN1YlJlcU49MCxlLnAycFN1YlJlc3BOPTAsZS5wMnBTdWJSZXNwUGFydE49MCxlLnAycFN1YlJlc3BFcnJOPTAsZS5wMnBTdWJSZXNwRXhwTj0wLGUucDJwU3ViUmVxUXQ9MCxlLnAycFN1YlJlc3BRdD0wLGUucDJwRGlyZWN0UXQ9MCxlLnAycFJlbGF5UXQ9MCxlLnAycE5hdFF0PTAsZS5wMnBVZHBiUXQ9MCxlLmZhbGxBZ2VudFJlc3BOPTAsZS5mYWxsQWdlbnRQcmVkSGl0Tj0wLGUuZmFsbEFnZW50RmFpbGVkUmVzcE49MCxlLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD0wLGUucDJwQWdlbnRQcmVkSGl0Tj0wLGUucDJwQWdlbnRQcmVkTWlzc049MCxlLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPTAsZS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD0wLGUucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQ9MH0sdC5wcm90b3R5cGUuc0I9ZnVuY3Rpb24oZSl7ZS5tZXRyaWNzLnZpZGVvQnVmTj0wLGUubWV0cmljcy52aWRlb0J1ZlF0PTAsZS5tZXRyaWNzLmNsaWVudEJ1ZmZlck1zPTAsZS5tZXRyaWNzLmxvb2t1cE5vdEZvdW5kPTAsZS5tZXRyaWNzLmxvb2t1cFRvdGFsPTAsZS5tZXRyaWNzLmxvb2t1cExhdGVuY3k9MCxlLm1ldHJpY3MubG9va3VwUmVxQWNjZXB0PTAsZS5tZXRyaWNzLmxvb2t1cFJlcUVzdGFibGlzaGVkPTAsZS5tZXRyaWNzLmxvb2t1cEZhaWxlZD0wLGUucGxheWVyLmJ1ZmZlcmluZ049MCxlLnBsYXllci5idWZmZXJpbmdNcz0wfSx0LnByb3RvdHlwZS54Yz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgcj1uZXcgaGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3Q7ci50aW1lc3RhbXA9by5GcmFtZXdvcmsudGltZSgpLHIuZ3VpZD10aGlzLmdkLHIuc2Vzc2lvbklkPXRoaXMudGlja2V0LnNlc3Npb25JZCxyLmV2ZW50SWQ9bmV3IEV2ZW50SWQsci5ldmVudElkLnBhcnRuZXJJZD10aGlzLnRpY2tldC51cCgpLHIuZXZlbnRJZC5jdXN0b21lcklkPXRoaXMudGlja2V0LmNwKCksci5ldmVudElkLmNvbnRlbnRJZD10aGlzLnRpY2tldC5ocCgpO3RyeXt2YXIgbj1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbztuLmNsaWVudFR5cGU9dGhpcy5vQigpO3ZhciBzPXRoaXMuYXBwLnZlcnNpb24uc3BsaXQoXCIuXCIpO2lmKG4ubWFqb3JWZXJzaW9uPXBhcnNlSW50KHNbMF0pLG4ubWlub3JWZXJzaW9uPXBhcnNlSW50KHNbMV0pLG4ucGF0Y2hWZXJzaW9uPXBhcnNlSW50KHNbMl0pLHIuY2xpZW50PW4sbnVsbCE9dGhpcy50ZXN0SWQpe3ZhciBhPW5ldyBUZXN0SW5mbzthLnRlc3RJZD10aGlzLnRlc3RJZCxyLmFCPWF9fWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oXCJbU05BUF0gZXJyb3Igc2V0dGluZyBTbmFwc2hvdCBDbGllbnRJbmZvXCIsZSl9aWYodGhpcy55RCl7dmFyIGg9bmV3IGhpdmUuc25hcHNob3RzLkFnZW50SW5mbztoLmZpcnN0VGllckJpdHJhdGVzPXRoaXMueUQuaEIoKSxoLnNlY29uZFRpZXJCaXRyYXRlcz10aGlzLnlELmNCKCksci5hZ2VudEluZm89aH1yLnN0cmVhbUluZm89dGhpcy5PTC51QigpLHIudHJhZmZpYz1bXTt2YXIgYz1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleTtpZihyLnRyYWZmaWMucHVzaCh7a2V5OmMsdmFsdWU6dGhpcy5GTC5LVX0pLHRoaXMuRkwuWVUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5O2kuYml0cmF0ZT10LHIudHJhZmZpYy5wdXNoKHtrZXk6aSx2YWx1ZTplfSl9KSxyLm1ldHJpY3M9dGhpcy5GTC5tZXRyaWNzLHRoaXMudEImJihyLm1ldHJpY3MuY2xpZW50QnVmZmVyTXM9dGhpcy50Qi5taW4oKSksci5wbGF5ZXI9dGhpcy5GTC5wbGF5ZXIsdGhpcy5sQil7dmFyIHU9dGhpcy5sQi5wQigpO3RoaXMuRkwubWV0cmljcy5wcnRPdXROPXUuZEIrdS5mQix0aGlzLkZMLm1ldHJpY3MucHJ0SW5OPXUuZ0IrdS5FQjt2YXIgbD10aGlzLmxCLnZCKCk7bC5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7dC55QihpLGUscil9KSx0aGlzLkZMLnpVLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiFsLmhhcyh0KX0pLmZvckVhY2goZnVuY3Rpb24oZSxpKXt0LnlCKGksZSxyKX0pfXJldHVybiByLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLGU/dGhpcy51ZC5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5jb25uSW5mby5wcml2YXRlSXA9aS5rbC5nZXRQcml2YXRlSXAoZS5nZXROZXR3b3JrQ2hhbmdlZCgpKSx0LlRCKHQubUIocikpfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5UQih0Lm1CKHIpKX0pOihyLmNvbm5JbmZvLnByaXZhdGVJcD1pLmtsLmdldFByaXZhdGVJcCh0aGlzLnVkLk1kKCkuZ2V0TmV0d29ya0NoYW5nZWQoKSksdGhpcy5UQihyKSl9LHQucHJvdG90eXBlLm1CPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbm5JbmZvLmludGVybmFsQXM9dGhpcy5YVSxlLmNvbm5JbmZvLmV4dGVybmFsQXM9dGhpcy5aVSxlLmNvbm5JbmZvLnB1YmxpY0lwPXRoaXMuSUIsZX0sdC5wcm90b3R5cGUuVEI9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7dmFyIHI9ZC5tbChlLFwic25hcHNob3RcIik7cmV0dXJuIHIubGVuZ3RoJiZwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiTmFOIGZvdW5kIGluIE1ldHJpY1NuYXBzaG90XCIsXCJbU05BUF1cIix7a2V5c1dpdGhOYU46cixzbmFwc2hvdDplfSksdC5sZW5ndGg9MCx0LnB1c2guYXBwbHkodCxyKSxlfSx0LnByb3RvdHlwZS5vQj1mdW5jdGlvbigpe3ZhciBlO3N3aXRjaCh0aGlzLmFwcC5hcHApe2Nhc2VcIkpTXCI6ZT1DbGllbnRUeXBlLlNCO2JyZWFrO2Nhc2VcIlBST1hZXCI6ZT1DbGllbnRUeXBlLlJCO2JyZWFrO2RlZmF1bHQ6ZT1DbGllbnRUeXBlLndCfXJldHVybiBlfSx0LnByb3RvdHlwZS55Qj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5GTC5XVS5nZXQoZSk7dC50cmFmZmljPWksci5wYXJ0bmVyc3x8KHIucGFydG5lcnM9W10pO3ZhciBuPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5O24ucGFydG5lckd1aWQ9ZSxyLnBhcnRuZXJzLnB1c2goe2tleTpuLHZhbHVlOnR9KX0sdC5wcm90b3R5cGUud0w9ZnVuY3Rpb24oZSx0KXtlPjAmJih0aGlzLkZMLm1ldHJpY3MudmlkZW9CdWZOKyssdGhpcy5GTC5tZXRyaWNzLnZpZGVvQnVmUXQrPWUsdGhpcy5GTC5wbGF5ZXIuYnVmZmVyaW5nTisrLHRoaXMuRkwucGxheWVyLmJ1ZmZlcmluZ01zKz1lKSx0aGlzLkZMLnBsYXllci5wbGF5ZXJCdWZmZXJNcz10fSx0LnByb3RvdHlwZS54TD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZMLktVfSx0LnByb3RvdHlwZS5iQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlCLktVfSx0LnByb3RvdHlwZS5DQj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pQi5ZVS5oYXMoZSl8fHRoaXMuaUIuWVUuc2V0KGUsbmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMpLHRoaXMuaUIuWVUuZ2V0KGUpfSx0LnByb3RvdHlwZS5CTD1mdW5jdGlvbihlKXtpZighdGhpcy5GTC5ZVS5oYXMoZSkpe3ZhciB0PW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljO3RoaXMubkIodCksdGhpcy5GTC5ZVS5zZXQoZSx0KX1yZXR1cm4gdGhpcy5GTC5ZVS5nZXQoZSl9LHQucHJvdG90eXBlLl9CPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljO3JldHVybiBlLnAycFN1Y2NSZXE9MCxlLnAycEZhaWxSZXE9MCxlLnAycFBhcnRSZXE9MCxlLnAycFN1Y2NSZWNlaXZlZD0wLGUucDJwU3VjY1JlY2VpdmVkTG93PTAsZS5wMnBGYWlsUmVjZWl2ZWQ9MCxlLnAycFN1Y2NSZXNwPTAsZS5wMnBGYWlsUmVzcD0wLGUucDJwUGFydFJlc3A9MCxlLnAycFN1Y2NTZW50PTAsZS5wMnBTdWNjU2VudExvdz0wLGUucDJwRmFpbFNlbnQ9MCxlfSx0LnByb3RvdHlwZS5QQj1mdW5jdGlvbihlLHQpe3JldHVybiB0LldVLmhhcyhlKXx8dC5XVS5zZXQoZSx0aGlzLl9CKCkpLHQuV1UuZ2V0KGUpfSx0LnByb3RvdHlwZS5BQj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5QQihlLHRoaXMuRkwpfSx0LnByb3RvdHlwZS5PQj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5QQihlLHRoaXMuaUIpfSx0LnByb3RvdHlwZS5OQj1mdW5jdGlvbihlKXt0aGlzLnVkPWV9LHQucHJvdG90eXBlLkRCPWZ1bmN0aW9uKGUpe3RoaXMubEI9ZX0sdC5wcm90b3R5cGUuVWQ9ZnVuY3Rpb24oZSl7fSx0fSgpO2UuWkY9cjt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmtCPWlzTmFOKGwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuTWV0cmljU25hcHNob3RMb2dzKT8wOmwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuTWV0cmljU25hcHNob3RMb2dzLHRoaXMuc3RhdGU9dS5NbC5MbCx0aGlzLmNsaWVudD1vLkZyYW1ld29yay5yZXNvbHZlKGEucGMuRyksdGhpcy55Zz1uZXcgcy5ZYix0aGlzLnByb3RvY29sPW5ldyBzLmJDKHRoaXMueWcpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZyh0KSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBJTklUIENMSUVOVCBTVEFUU1wiKSx0aGlzLmZzPWUsdGhpcy5MQigpfSxlLnByb3RvdHlwZS5MQj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5NQj4tMSYmby5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLk1CKSx0aGlzLk1CPW8uRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5zbmFwc2hvdCgpfSxoLkdkLnFkLlBFKX0sZS5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lfSxlLnByb3RvdHlwZS5JTD1mdW5jdGlvbigpe2lmKHRoaXMuZnMpcmV0dXJuIHRoaXMuc25hcHNob3QoITEpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXtvLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuTUIpLHRoaXMuZnMmJighMT09PWU/dGhpcy5mcy5yZXNldCgpOnRoaXMuZnMuJFUoKSl9LGUucHJvdG90eXBlLnNuYXBzaG90PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciByPXRoaXMuZnMueGMoZSk7ZT8odGhpcy5sb2dnZXIuZGVidWcoXCJbU05BUF0gVEFLSU5HIFNOQVBTSE9UXCIpLHIudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5mb3J3YXJkKGUpfSkuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci53YXJuKFwiW1NOQVBdIEVSUk9SIEZPUldBUkRJTkcgU05BUFNIT1RcIixlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXt0LmZzLnJlc2V0KCl9KSk6KHRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIEZMVVNISU5HIFNOQVBTSE9UXCIpLHRoaXMuZm9yd2FyZChyKSl9LGUucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnN0YXRlPT09dS5NbC5JRExFfHx0aGlzLnN0YXRlPT09dS5NbC5TVE9QKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIG5vdCBzZW5kIC0gc3RhdGUgXCIrdS5NbFt0aGlzLnN0YXRlXSk7aWYodGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LnpkKCkpe3N3aXRjaCh0aGlzLmtCKXtjYXNlIDA6ZGVmYXVsdDp0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UXCIpO2JyZWFrO2Nhc2UgMTp0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UIFwiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIDI6dGhpcy5sb2dnZXIuZGVidWcoXCJbU05BUF0gU0VORElORyBTTkFQU0hPVFwiLGUpO2JyZWFrO2Nhc2UgMzp0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UIFwiK0pTT04uc3RyaW5naWZ5KGUpLGUpfXRoaXMucHJvdG9jb2wuQUMoXCJTTkFQU0hPVFwiLHMuZ2IuT05FV0FZLDApLGUud3JpdGUodGhpcy5wcm90b2NvbCksdGhpcy5wcm90b2NvbC5EQygpO3ZhciByPXRoaXMueWcucEMoKSxpPXRoaXMuRkIocixcIixcIiw0KSxuPXIuc2xpY2UoaSsxLHIubGVuZ3RoLTEpLG89bmV3IGMuSmQoU2VydmljZXMuWGQsMSxuKTt0aGlzLmNsaWVudC56ZCgpLnNlbmQobykuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci53YXJuKFwiW1NOQVBdIFBST0JMRU06IFwiLGUpfSl9fSxlLnByb3RvdHlwZS5GQj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc3BsaXQodCxyKS5qb2luKHQpLmxlbmd0aH0sZX0oKTtlLnFsPWZ9KHQuU3RhdHN8fCh0LlN0YXRzPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigzMCkscz1yKDExNiksbz1yKDApLGE9cigyNyksaD1yKDIzKSxjPXIoNiksdT1jLmhlLmdoLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMubG9nZ2VyLmRlYnVnKFwiSU5JVCBTRVJWSUNFIENMSUVOVFwiKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYodGhpcy5VQil0aGlzLlVCLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT17cGFydG5lcklkOnQudXAoKSxjdXN0b21lcklkOnQuY3AoKSxjb250ZW50SWQ6dC5ocCgpLHNlY3JldDp0LkNOKCl9LGk9bmV3IGguSmQoU2VydmljZXMuQkIsMSxKU09OLnN0cmluZ2lmeShlKSk7ci5jb25uZWN0aW9uLnNlbmQoaSl9KTtlbHNle3ZhciBvPWkuZGVmZXIoKSxjPWEuR2QucWQuYkU7dC5iTiYmKHU/Yz1hLkdkLnFkLkNFOih0aGlzLmxvZ2dlci53YXJuKFwiW0hpdmVDb21tXSBFcnJvciB0cnlpbmcgdG8gcmVzb2x2ZSB0ZXN0IHRpY2tldCBhZ2FpbnN0IHByb2R1Y3Rpb24gc2VydmljZXMgLSB1c2UgcHJvZHVjdGlvbiB0aWNrZXQgb3IgdGVzdCBwbHVnaW5cIiksby5yZWplY3QobmV3IEVycm9yKFwidGVzdCB0aWNrZXQgaW4gcHJvZHVjdGlvblwiKSkpKTt2YXIgbD1uZXcgbihjKSxwPWwuU3coe1wiY29ubmVjdGlvbi1pZFwiOmUscGFydG5lcl9pZDp0LnVwKCksY3VzdG9tZXJfaWQ6dC5jcCgpLGNvbnRlbnRfaWQ6dC5ocCgpLHRpY2tldDp0LkNOKCl9KS50b1N0cmluZygpO3RoaXMuY29ubmVjdGlvbj1uZXcgcy5IQihwLGEuR2QucWQuQUUsYS5HZC5xZC5PRSxhLkdkLnFkLk5FKSx0aGlzLmNvbm5lY3Rpb24ueEIoZnVuY3Rpb24oKXtyLmxvZ2dlci5kZWJ1ZyhcIkhJVkUgU0VSVklDRVMgQ09OTkVDVEVEXCIpLG8ucmVzb2x2ZShyLmNvbm5lY3Rpb24pfSksdGhpcy5jb25uZWN0aW9uLm9uZXJyb3IoZnVuY3Rpb24oKXtyLmxvZ2dlci53YXJuKFwiSGl2ZSBTZXJ2aWNlcyBDb25uZWN0aW9uIGZhaWxlZFwiKSxvLnJlamVjdChyLmNvbm5lY3Rpb24pfSksdGhpcy5VQj1vLlNzfXJldHVybntucDp0aGlzLmNvbm5lY3Rpb24sU3M6dGhpcy5VQn19LGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jb25uZWN0KCEwKX0sZS5wcm90b3R5cGUuU0Q9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS56ZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb259LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0aW9uJiYodGhpcy5VQj1udWxsLHRoaXMuY29ubmVjdGlvbi5jbG9zZSghMSkpfSxlfSgpO3QucUI9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IoMTE3KTt2YXIgaT1yKDQpLG49cigzKSxzPXIoMCksbz1yKDQ2KSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmVmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuR0I9ZX1yZXR1cm4gZX0oKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVkI9bmV3IG4sdGhpcy5sb2dnZXI9KHMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKXx8Y29uc29sZSkubG9nKCksdGhpcy5sb2dnZXIuZGVidWcoXCJJTklUIFRJQ0tFVCBSRVNPTFZFUlwiKX1yZXR1cm4gZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxzPWkuZGVmZXIoKTtyZXR1cm4gZSYmKGUub24oU2VydmljZXMuQkIsMCxmdW5jdGlvbihlKXtuLmpCKGUpfSksZS5vbihTZXJ2aWNlcy5CQiwyLGZ1bmN0aW9uKGUpe24uakIoZSl9KSx0aGlzLlZCLnNldCh0LG5ldyBhKHMpKSkscy5Tc30sZS5wcm90b3R5cGUuakI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9SlNPTi5wYXJzZShlLm1zZyksbj0hMTt0aGlzLlZCLmZvckVhY2goZnVuY3Rpb24oZSxzKXtpZih0LlFCKHMsaSkpe249ITA7dmFyIG89dC5LQihzLGkpO28/KG8uZWY9ZS5lZixvLnJmPXIsZS5HQi5yZXNvbHZlKG8pKTplLkdCLnJlamVjdChcIlRpY2tldCB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLHQuVkIuZGVsZXRlKG8pfX0pLG58fHRoaXMubG9nZ2VyLndhcm4oXCJubyBwZW5kaW5nIHRpY2tldCBtYXRjaGluZzogXCIrZS5tc2cpfSxlLnByb3RvdHlwZS4kbD1mdW5jdGlvbihlKXtpZihuZXcgUmVnRXhwKFwiXmh0dHBzPzovL2FwaSg/Oi10ZXN0KT8uaGl2ZXN0cmVhbWluZy5jb20vdjEvZXZlbnRzLyg/OndpbGRjYXJkLyk/XCIpLnRlc3QoZSkpe3ZhciB0PXRoaXMuWUIoKTtyZXR1cm4gdC5STihlKSx0fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5ZQj1mdW5jdGlvbigpe3JldHVybiBuZXcgby5CTn0sZS5wcm90b3R5cGUuUUI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51cCgpPT09dFtvLkJOLkZOXSYmZS5jcCgpPT09dFtvLkJOLk1OXSYmZS5ocCgpPT09dFtvLkJOLlVOXX0sZS5wcm90b3R5cGUuS0I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tTih0KSxlLlNOKCk/ZTpudWxsfSxlfSgpO3QuV0I9aH0sZnVuY3Rpb24oZSx0LHIpey8qISB1dWlkLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBSb2JlcnQgS2llZmZlclxuICogTUlUIExpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKi9cbiFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyKXt2YXIgaT10JiZyfHwwLG49MDtmb3IodD10fHxbXSxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWzAtOWEtZl17Mn0vZyxmdW5jdGlvbihlKXtuPDE2JiYodFtpK24rK109ZltlXSl9KTtuPDE2Oyl0W2krbisrXT0wO3JldHVybiB0fWZ1bmN0aW9uIG4oZSx0KXt2YXIgcj10fHwwLGk9ZDtyZXR1cm4gaVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dK1wiLVwiK2lbZVtyKytdXStpW2VbcisrXV0rXCItXCIraVtlW3IrK11dK2lbZVtyKytdXStcIi1cIitpW2VbcisrXV0raVtlW3IrK11dK1wiLVwiK2lbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dfWZ1bmN0aW9uIHMoZSx0LHIpe3ZhciBpPXQmJnJ8fDAscz10fHxbXTtlPWV8fHt9O3ZhciBvPW51bGwhPWUuekI/ZS56Qjp5LGE9bnVsbCE9ZS5KQj9lLkpCOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGg9bnVsbCE9ZS5YQj9lLlhCOm0rMSxjPWEtVCsoaC1tKS8xZTQ7aWYoYzwwJiZudWxsPT1lLnpCJiYobz1vKzEmMTYzODMpLChjPDB8fGE+VCkmJm51bGw9PWUuWEImJihoPTApLGg+PTFlNCl0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtUPWEsbT1oLHk9byxhKz0xMjIxOTI5MjhlNTt2YXIgdT0oMWU0KigyNjg0MzU0NTUmYSkraCklNDI5NDk2NzI5NjtzW2krK109dT4+PjI0JjI1NSxzW2krK109dT4+PjE2JjI1NSxzW2krK109dT4+PjgmMjU1LHNbaSsrXT0yNTUmdTt2YXIgbD1hLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtzW2krK109bD4+PjgmMjU1LHNbaSsrXT0yNTUmbCxzW2krK109bD4+PjI0JjE1fDE2LHNbaSsrXT1sPj4+MTYmMjU1LHNbaSsrXT1vPj4+OHwxMjgsc1tpKytdPTI1NSZvO2Zvcih2YXIgcD1lLlpCfHx2LGQ9MDtkPDY7ZCsrKXNbaStkXT1wW2RdO3JldHVybiB0fHxuKHMpfWZ1bmN0aW9uIG8oZSx0LHIpe3ZhciBpPXQmJnJ8fDA7XCJzdHJpbmdcIj09dHlwZW9mIGUmJih0PVwiYmluYXJ5XCI9PT1lP25ldyBwKDE2KTpudWxsLGU9bnVsbCksZT1lfHx7fTt2YXIgcz1lLnJhbmRvbXx8KGUuJEJ8fGEpKCk7aWYoc1s2XT0xNSZzWzZdfDY0LHNbOF09NjMmc1s4XXwxMjgsdClmb3IodmFyIG89MDtvPDE2O28rKyl0W2krb109c1tvXTtyZXR1cm4gdHx8bihzKX12YXIgYSxoLGMsdSxsO3Q/ZnVuY3Rpb24oKXt2YXIgZT10LmNyeXB0b3x8dC5tc0NyeXB0bztpZighYSYmZSYmZS5nZXRSYW5kb21WYWx1ZXMpdHJ5e3ZhciByPW5ldyBVaW50OEFycmF5KDE2KTt1PWE9ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRSYW5kb21WYWx1ZXMocikscn0sYSgpfWNhdGNoKGUpe31pZighYSl7dmFyIGk9bmV3IEFycmF5KDE2KTtoPWE9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO3Q8MTY7dCsrKTA9PSgzJnQpJiYoZT00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLGlbdF09ZT4+PigoMyZ0KTw8MykmMjU1O3JldHVybiBpfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oXCJbU0VDVVJJVFldIG5vZGUtdXVpZDogY3J5cHRvIG5vdCB1c2FibGUsIGZhbGxpbmcgYmFjayB0byBpbnNlY3VyZSBNYXRoLnJhbmRvbSgpXCIpfX0oKTpmdW5jdGlvbigpe3RyeXt2YXIgZT1yKDExOCkuZUg7Yz1hPWUmJmZ1bmN0aW9uKCl7cmV0dXJuIGUoMTYpfSxhKCl9Y2F0Y2goZSl7fX0oKTtmb3IodmFyIHA9XCJmdW5jdGlvblwiPT10eXBlb2YgQnVmZmVyP0J1ZmZlcjpBcnJheSxkPVtdLGY9e30sZz0wO2c8MjU2O2crKylkW2ddPShnKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSxmW2RbZ11dPWc7dmFyIEU9YSgpLHY9WzF8RVswXSxFWzFdLEVbMl0sRVszXSxFWzRdLEVbNV1dLHk9MTYzODMmKEVbNl08PDh8RVs3XSksVD0wLG09MCxJPW87SS50SD1zLEkuT049byxJLnBhcnNlPWksSS5ySD1uLEkuaUg9cCxJLm5IPWEsSS5zSD1oLEkub0g9YyxJLmFIPXUsdm9pZCAwIT09ZSYmZS5pP2UuaT1JOihsPXQudXVpZCxJLndvPWZ1bmN0aW9uKCl7cmV0dXJuIHQudXVpZD1sLEl9LHQudXVpZD1JKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6bnVsbCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNCkscz1yKDc4KSxvPXIoMCksYT1yKDI3KSxoPXIoMTE5KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaEg9XCJJZGVudGl0eVN0b3JlXCIsdGhpcy5jSD1cIklkZW50aXR5REJcIix0aGlzLmdkPW51bGwsdGhpcy5pbmRleGVkREI9d2luZG93LmluZGV4ZWREQnx8d2luZG93Lm1vekluZGV4ZWREQnx8d2luZG93LndlYmtpdEluZGV4ZWREQnx8d2luZG93Lm1zSW5kZXhlZERCLG8uRnJhbWV3b3JrJiZvLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUik/dGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZygpOnRoaXMubG9nZ2VyPWNvbnNvbGV9cmV0dXJuIGUucHJvdG90eXBlLnVIPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW4uZGVmZXIoKSxyPWluZGV4ZWREQi5vcGVuKHRoaXMuY0gpO3JldHVybiByLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3ZhciB0PXIucmVzdWx0O3QuY3JlYXRlT2JqZWN0U3RvcmUoZS5oSCx7a2V5UGF0aDpcImlkXCJ9KX0sci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZT1yLnJlc3VsdDt0LnJlc29sdmUoZSl9LHIub25lcnJvcj1mdW5jdGlvbihlKXt0LnJlamVjdChlKX0sdC5Tc30sZS5wcm90b3R5cGUuWmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMubEgpcmV0dXJuIHRoaXMubEg7dmFyIHQ9bi5kZWZlcigpO2lmKHRoaXMuZ2QpdC5yZXNvbHZlKG5ldyBoLnBIKHRoaXMuZ2QpKTtlbHNlIGlmKGEuR2QuRWgmJnRoaXMuaW5kZXhlZERCKXt2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5sb2dnZXIud2FybihcIltIaXZlQ29tbV0gdGltZW91dCByZXRyaWV2aW5nIHBlcnNpc3RlbnQgSUQgLSBnZW5lcmF0aW5nIHJhbmRvbSBvbmVcIiksZS5nZD1lLmRIKCksZS5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlLmdkKSx0LnJlc29sdmUobmV3IGgucEgoZS5nZCkpfSw0ZTMpO3RyeXt2YXIgaT10aGlzLnVIKCk7aS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBuPWkudHJhbnNhY3Rpb24oZS5oSCxcInJlYWR3cml0ZVwiKSxzPW4ub2JqZWN0U3RvcmUoZS5oSCksbz1zLmdldChcIk1ZSURcIik7by5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihjbGVhclRpbWVvdXQociksZS5nZCl0LnJlc29sdmUobmV3IGgucEgoZS5nZCkpO2Vsc2UgaWYobnVsbCE9by5yZXN1bHQmJmEuR2QuRWgpe3ZhciBuPW8ucmVzdWx0LnZhbHVlO2UubG9nZ2VyLmRlYnVnKFwiW0hpdmVDb21tXSBSZXRyaWV2ZWQgcGVyc2lzdGVudCBVVUlEOiBcIituKSxlLmdkPW4saS5jbG9zZSgpLHQucmVzb2x2ZShuZXcgaC5wSChlLmdkKSl9ZWxzZXt2YXIgcz1lLmRIKCk7ZS5mSChpLHMpLHQucmVzb2x2ZShuZXcgaC5wSChlLmdkKSl9fSxvLm9uZXJyb3I9ZnVuY3Rpb24oaSl7Y2xlYXJUaW1lb3V0KHIpLGUuZ2R8fChlLmxvZ2dlci53YXJuKFwiW0hpdmVDb21tXSBlcnJvciByZXRyaWV2aW5nIHBlcnNpc3RlbnQgVVVJRDogXCIraSksZS5nZD1lLmRIKCksZS5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlLmdkKSksdC5yZXNvbHZlKG5ldyBoLnBIKGUuZ2QpKX19KS5mYWlsKGZ1bmN0aW9uKGkpe2NsZWFyVGltZW91dChyKSxlLmdkfHwoZS5sb2dnZXIud2FybihcIltIaXZlQ29tbV0gZXJyb3Igb3BlbmluZyBpbmRleGVkREIgLSBnZW5lcmF0aW5nIHJhbmRvbSBpZC4gRXJyb3I6IFwiK2kpLGUuZ2Q9ZS5kSCgpLGUubG9nZ2VyLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrZS5nZCkpLHQucmVzb2x2ZShuZXcgaC5wSChlLmdkKSl9KX1jYXRjaChlKXt0aGlzLmdkPXRoaXMuZEgoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZXJyb3IgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLmdkLGUpLHQucmVzb2x2ZShuZXcgaC5wSCh0aGlzLmdkKSl9fWVsc2UgdGhpcy5nZD10aGlzLmRIKCksdGhpcy5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIFBlcnNpc3RlbmNlIGRpc2FibGVkIC0gR2VuZXJhdGUgVVVJRDogXCIrdGhpcy5nZCksdC5yZXNvbHZlKG5ldyBoLnBIKHRoaXMuZ2QpKTtyZXR1cm4gdGhpcy5sSD10LlNzLHRoaXMubEh9LGUucHJvdG90eXBlLmZIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWUudHJhbnNhY3Rpb24odGhpcy5oSCxcInJlYWR3cml0ZVwiKTtpLm9iamVjdFN0b3JlKHRoaXMuaEgpLnB1dCh7aWQ6XCJNWUlEXCIsdmFsdWU6dH0pLGkub25jb21wbGV0ZT1mdW5jdGlvbigpe3IubG9nZ2VyLmRlYnVnKFwiW0hpdmVDb21tXSBjb21wbGV0ZWQgVVVJRCBwZXJzaXN0ZW5jZVwiKSxlLmNsb3NlKCl9LHRoaXMubG9nZ2VyLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrdCksdGhpcy5nZD10fSxlLnByb3RvdHlwZS5kSD1mdW5jdGlvbigpe3JldHVybiBzLk9OKCl9LGV9KCk7dC5nSD1jO3ZhciB1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuWmw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuRUgpcmV0dXJuIHRoaXMuRUg7dmFyIHI9bi5kZWZlcigpO3JldHVybiBlLnByb3RvdHlwZS5abC5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9dC5kSCgpLG49ZS5ycCgpLHM9bmV3IGgucEgoaSxuKTtyLnJlc29sdmUocyl9KS5mYWlsKGZ1bmN0aW9uKGUpe3ZhciBpPXQuZEgoKSxuPW5ldyBoLnBIKGkpO3IucmVzb2x2ZShuKX0pLHRoaXMuRUg9ci5Tcyx0aGlzLkVIfSx0fShjKTt0LnZIPXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnlIPWZ1bmN0aW9uKGUpe3RoaXMuaG9zdG5hbWU9ZX0sZS5wcm90b3R5cGUuZ2V0SG9zdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0bmFtZX0sZS5wcm90b3R5cGUuVEg9ZnVuY3Rpb24oZSl7dGhpcy5tSD1lfSxlLnByb3RvdHlwZS5nZXROZXR3b3JrQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1IfSxlfSgpO3QuSUg9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDApLHM9cig4KSxvPXIoMTIwKSxhPXIoMSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1ByZWxvYWRDb25uZWN0aXZpdHlJbmZvUHJvdmlkZXJdIFwiLHRoaXMuY29ubkluZm89d2luZG93Lm15Q29ubkluZm8sdGhpcy5sb2dnZXI9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMuU0g9bi5GcmFtZXdvcmsucmVzb2x2ZShzLnBjLm9jKSx0aGlzLmNvbm5JbmZvfHxhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiaGVscGVyIHVuZGVmaW5lZFwiLHRoaXMubG9nZ2VySWQpLHRoaXMuUkgoKX1yZXR1cm4gZS5wcm90b3R5cGUuUkg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgby53SDt0aGlzLlNILlRIKGUpfSxlLnByb3RvdHlwZS5NZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNIfSxlLnByb3RvdHlwZS5nZXRDb25uZWN0aXZpdHlJbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5jb25uSW5mbylyZXR1cm4gaS5yZWplY3QoXCJDb25uSW5mbyBoZWxwZXIgdW5kZWZpbmVkXCIpO3ZhciB0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5sb2dnZXIud2FybihlLmxvZ2dlcklkK1wiR2V0IGNvbm5lY3Rpdml0eSBpbmZvIGV4cGlyZWRcIiksZS5TSD9pLnJlc29sdmUoZS5TSCk6aS5yZWplY3QoXCJleHBpcmVkXCIpfSwyZTMpO3RyeXtyZXR1cm4gdGhpcy5jb25uSW5mby5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHQpLGUuU0g9cixyfSkuZmFpbChmdW5jdGlvbih0KXtyZXR1cm4gZS5sb2dnZXIuZGVidWcoZS5sb2dnZXJJZCtcIiBnZXQgY29ubmVjdGl2aXR5IGluZm8gZmFpbGVkIHdpdGggZXJyb3IgMTogXCIsdCksZS5TSD9lLlNIOmkucmVqZWN0KHQpfSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgZ2V0IGNvbm5lY3Rpdml0eSBpbmZvIGZhaWxlZCB3aXRoIGVycm9yIDI6XCIsZSksaS5yZWplY3QoZSl9fSxlLnByb3RvdHlwZS5iSD1mdW5jdGlvbihlLHQscil7fSxlfSgpO3QuQ0g9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuX0g9ZnVuY3Rpb24oZSl7dGhpcy5wdWJsaWNJcD1lfSxlLnByb3RvdHlwZS5nZXRQdWJsaWNJcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1YmxpY0lwfSxlLnByb3RvdHlwZS5QSD1mdW5jdGlvbihlKXt0aGlzLkFIPWV9LGUucHJvdG90eXBlLmdldE1hY0FkZHJlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BSH0sZS5wcm90b3R5cGUuT0g9ZnVuY3Rpb24oZSl7dGhpcy5uaWM9ZX0sZS5wcm90b3R5cGUuZ2V0TmljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmljfSxlLnByb3RvdHlwZS5OSD1mdW5jdGlvbihlKXt0aGlzLm5pY05hbWU9ZX0sZS5wcm90b3R5cGUuZ2V0TmljTmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5pY05hbWV9LGUucHJvdG90eXBlLkRIPWZ1bmN0aW9uKGUpe3RoaXMucHJpdmF0ZUlwPWV9LGUucHJvdG90eXBlLmdldFByaXZhdGVJcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByaXZhdGVJcH0sZS5wcm90b3R5cGUua0g9ZnVuY3Rpb24oZSl7dGhpcy5uZXRtYXNrPWV9LGUucHJvdG90eXBlLmdldE5ldG1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXRtYXNrfSxlLnByb3RvdHlwZS5MSD1mdW5jdGlvbihlKXt0aGlzLk1IPWV9LGUucHJvdG90eXBlLmdldENpZHI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZX0oKTt0LkZIPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigzKSxzPXIoMCksbz1yKDgpLGE9cig4MiksaD1yKDEyMSksYz1yKDE0KSx1PXIoMjcpLGw9cig1NSkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlVIPW51bGwsdGhpcy5CSD1udWxsLHRoaXMuSEg9bnVsbCx0aGlzLnhIPW51bGwsdGhpcy5xSD1uZXcgbix0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy5HSD1bXSx0aGlzLmxsPSExLHRoaXMuVkg9bnVsbCx0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5TSD1zLkZyYW1ld29yay5yZXNvbHZlKG8ucGMub2MpLHRoaXMuakg9bmV3IGguUUgsdGhpcy5LSD1bXSx0aGlzLlJIKCksdGhpcy5ZSCgpfXJldHVybiBlLnByb3RvdHlwZS5SSD1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLkZIO3RoaXMuU0guVEgoZSl9LGUucHJvdG90eXBlLllIPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuR0g9W10sZS5LSD1bXSxlLnFIPW5ldyBuLGUucHVibGljSXA9bnVsbCxlLldIPW51bGx9LDEyZTQpfSxlLnByb3RvdHlwZS5nZXRDb25uZWN0aXZpdHlJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuV0h8fCh0aGlzLldIPXRoaXMuekgoKSksdGhpcy5XSH0sZS5wcm90b3R5cGUuTWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TSH0sZS5wcm90b3R5cGUuekg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5kZWZlcigpO2lmKHRoaXMuVkg9cy5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QucmVqZWN0KHtKSDohMCxtZXNzYWdlOlwiZXhwaXJlZFwifSl9LDRlMyksYy5IaXZlQ29uZmlnLkNvbm5JbmZvLmRldGVjdFByaXZhdGVJUCYmdGhpcy5YSCgpKXRyeXt0aGlzLlVIPW5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsKSx0aGlzLkhIPXRoaXMuVUguY3JlYXRlRGF0YUNoYW5uZWwoXCJzZW5kQ2hhbm5lbFwiLHtyZWxpYWJsZTohMX0pLHRoaXMuQkg9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwpLHRoaXMuQkgub25kYXRhY2hhbm5lbD1mdW5jdGlvbihyKXtlLnhIPXIuY2hhbm5lbCxlLnhILm9ub3Blbj1mdW5jdGlvbihyKXtcIm9wZW5cIj09PWUueEgucmVhZHlTdGF0ZSYmKGUubG9nZ2VyLmRlYnVnKFwiQ29sbGVjdGVkIGlwcyBbXCIrZS5xSC5rZXlzKCkuam9pbihcIiwgXCIpK1wiXVwiKSxlLkJILmNsb3NlKCksZS5qSC5aSCgpLnRoZW4oZnVuY3Rpb24odCl7ZS5LSD10LGUubG9nZ2VyLmRlYnVnKFwiQWxyZWFkeSBrbm93biBtYXRjaGluZyBpcHMgW1wiK2UuS0guam9pbihcIixcIikrXCJdXCIpO3ZhciByPWUucUgua2V5cygpO2UuS0guZm9yRWFjaChmdW5jdGlvbih0KXtyLmluZGV4T2YodCk+MCYmKGUuR0gucHVzaCh0KSxlLnFILmRlbGV0ZSh0KSl9KSxlLnFILmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuR0gucHVzaCh0KX0pfSkuZmFpbChmdW5jdGlvbih0KXtlLmxvZ2dlci53YXJuKFwiR2V0IFByZXZpb3VzIHdvcmtpbmcgaXBzIGZhaWxlZCB3aXRoIGVycm9yIFwiK3QubWVzc2FnZSksZS5xSC5rZXlzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtlLkdILnB1c2godCl9KX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtlLmxvZ2dlci5kZWJ1ZyhcIkZpbmFsIHByaXZhdGUgaXAgbGlzdCBbXCIrZS5HSC5qb2luKFwiLFwiKStcIl1cIiksdC5yZXNvbHZlKGUuJEgoKSl9KSl9fSx0aGlzLlVILm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKHIpe3IuY2FuZGlkYXRlJiZlLmV4KHIuY2FuZGlkYXRlLmNhbmRpZGF0ZSksIXIuY2FuZGlkYXRlfHxlLkJILmFkZEljZUNhbmRpZGF0ZShyLmNhbmRpZGF0ZSkuY2F0Y2goZnVuY3Rpb24ocil7dC5yZWplY3Qoe0pIOiEwLG1lc3NhZ2U6ci5tZXNzYWdlfSkscy5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KGUuVkgpLGNvbnNvbGUubG9nKFwiRXJyb3I6IEZhaWx1cmUgZHVyaW5nIGFkZEljZUNhbmRpZGF0ZSgpXCIpfSl9LHRoaXMuQkgub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24ocil7ci5jYW5kaWRhdGUmJmUuZXgoci5jYW5kaWRhdGUuY2FuZGlkYXRlKSwhci5jYW5kaWRhdGV8fGUuVUguYWRkSWNlQ2FuZGlkYXRlKHIuY2FuZGlkYXRlKS5jYXRjaChmdW5jdGlvbihyKXt0LnJlamVjdCh7Skg6ITAsbWVzc2FnZTpyLm1lc3NhZ2V9KSxzLkZyYW1ld29yay5jbGVhclRpbWVvdXQoZS5WSCksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBkdXJpbmcgYWRkSWNlQ2FuZGlkYXRlKClcIil9KX0sdGhpcy5VSC5jcmVhdGVPZmZlcigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuVUguc2V0TG9jYWxEZXNjcmlwdGlvbih0KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5CSC5zZXRSZW1vdGVEZXNjcmlwdGlvbihlLlVILmxvY2FsRGVzY3JpcHRpb24pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLkJILmNyZWF0ZUFuc3dlcigpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5CSC5zZXRMb2NhbERlc2NyaXB0aW9uKHQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLlVILnNldFJlbW90ZURlc2NyaXB0aW9uKGUuQkgubG9jYWxEZXNjcmlwdGlvbil9KS5jYXRjaChmdW5jdGlvbihyKXt0LnJlamVjdCh7Skg6ITAsbWVzc2FnZTpyLm1lc3NhZ2V9KSxzLkZyYW1ld29yay5jbGVhclRpbWVvdXQoZS5WSCksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBjcmVhdGluZyBvZmZlclwiKX0pfWNhdGNoKGUpe3QucmVqZWN0KHtKSDohMCxtZXNzYWdlOmUubWVzc2FnZX0pfWVsc2V7cy5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuVkgpO3ZhciByPWMuSGl2ZUNvbmZpZy5Db25uSW5mby5kZXRlY3RQcml2YXRlSVA/XCJ3ZWJydGMgZGF0YWNoYW5uZWwgbm90IHN1cHBvcnRlZFwiOlwicHJpdmF0ZSBJUCBkZXRlY3Rpb24gZGlzYWJsZWRcIjt0LnJlamVjdCh7Skg6ITEsbWVzc2FnZTpyfSl9cmV0dXJuIHQuU3N9LGUucHJvdG90eXBlLlhIPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBudWxsIT1sLlZ1JiZudWxsIT1sLmhMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCxudWxsKS5jcmVhdGVEYXRhQ2hhbm5lbH1jYXRjaChlKXtyZXR1cm4hMX19LGUucHJvdG90eXBlLmV4PWZ1bmN0aW9uKGUpe3ZhciB0PS8oWzAtOV17MSwzfShcXC5bMC05XXsxLDN9KXszfSkvLHI9dC5leGVjKGUpO2lmKHIpe3ZhciBpPXJbMF07dGhpcy5xSC5zZXQoaSwhMCl9fSxlLnByb3RvdHlwZS4kSD1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLkZIO3JldHVybiB0aGlzLkdILmxlbmd0aD4wJiZlLkRIKHRoaXMuR0hbMF0pLHRoaXMucHVibGljSXAmJmUuX0godGhpcy5wdWJsaWNJcCksdGhpcy5TSC5USChlKSx0aGlzLlNIfSxlLnByb3RvdHlwZS5iSD1mdW5jdGlvbihlLHQscil7aWYodGhpcy5wdWJsaWNJcD1lLHRoaXMudHgoKSwwPT09ciYmdGhpcy5HSC5sZW5ndGg+MSl0aGlzLkdILnNoaWZ0KCk7ZWxzZSBpZih1LkdkLl9oJiYwIT09ciYmLTE9PXRoaXMuS0guaW5kZXhPZih0aGlzLkdIWzBdKSl0aGlzLktILnVuc2hpZnQodGhpcy5HSFswXSksdGhpcy5qSC5peCh0aGlzLktILnNsaWNlKDAsMikpO2Vsc2UgaWYodS5HZC5faCYmMCE9PXImJnRoaXMuS0guaW5kZXhPZih0aGlzLkdIWzBdKT4wKXt2YXIgaT10aGlzLktILmluZGV4T2YodGhpcy5HSFswXSk7dGhpcy5LSD10aGlzLktILnNwbGljZShpLDEpLHRoaXMuS0gudW5zaGlmdCh0aGlzLkdIWzBdKSx0aGlzLmpILml4KHRoaXMuS0guc2xpY2UoMCwyKSl9dGhpcy4kSCgpfSxlLnByb3RvdHlwZS50eD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuR0guaW5kZXhPZih0aGlzLnB1YmxpY0lwKTtlPi0xJiZ0aGlzLkdILnNwbGljZShlLDEpfSxlfSgpO3Qubng9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNyksbj1yKDI0KSxzPXIoOSksbz1yKDApLGE9cig1KSxoPXIoMiksYz1yKDEpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltUSU1FUiBIQU5ETEVSXSBcIix0aGlzLnN4PW5ldyBpLnJjLlZoLHRoaXMub3g9bmV3IGkucmMuVmgsdGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5heD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj0wLGk9LTEscz1lLnpmLmR1cmF0aW9uO3RoaXMuc3gua2goKT9pPU1hdGgubWF4KDEwLHRoaXMuc3guQmgodCkpOnRoaXMub3gua2goKSYmKGk9TWF0aC5tYXgoMTAsdGhpcy5veC5CaCh0KSkpLHI9aT4tMT9NYXRoLm1heCgwLHMtaSphLmhoLlFvLmpvKTpzLzIsZS50eXBlPT1uLmJmLndmJiYocio9Mik7dmFyIG89TWF0aC5tYXgodGhpcy5oeCgpLHIpO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRJTUVSIERFVEFJTFMgZHVyYXRpb246IFwiK3MrXCIgbGVmdDogXCIrdCtcIiBkb3duVGltZTogXCIraStcIiBmYWxsQXZnOiBcIit0aGlzLnN4LkdoKCkrXCIgdGltZXI6IFwiK28pLG99Y2F0Y2goZSl7cmV0dXJuIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjYWxjdWxhdGluZyB0aGUgcDJwIHRpbWVvdXRcIix0aGlzLmxvZ2dlcklkLGguaHMuSWkuVGksZSksMH19LGUucHJvdG90eXBlLnV4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDVlM30sZS5wcm90b3R5cGUubHg9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0aGlzLnN4LmtoKCk/TWF0aC5taW4odGhpcy5zeC5CaChlKSx0aGlzLnB4KCkpOnRoaXMuZ3goKX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNhbGN1bGF0aW5nIHRoZSBkZWxpdmVyeSBkZWxheVwiLHRoaXMubG9nZ2VySWQsaC5ocy5JaS5taSxlKSx0aGlzLmd4KCl9fSxlLnByb3RvdHlwZS5fTT1mdW5jdGlvbihlKXtpZihlLlhmKCk9PT1zLnZjLmZjKXN3aXRjaChlLkpmKCkpe2Nhc2Ugbi5iZi5tZjpjYXNlIG4uYmYuVGY6Y2FzZSBuLmJmLklmOnRoaXMuc3guVWgoZS5hZygpKTticmVhaztjYXNlIG4uYmYuUmY6Y2FzZSBuLmJmLndmOnRoaXMub3guVWgoZS5hZygpKX19LGUucHJvdG90eXBlLmh4PWZ1bmN0aW9uKCl7cmV0dXJuIGUuRXh9LGUucHJvdG90eXBlLmd4PWZ1bmN0aW9uKCl7cmV0dXJuIGUudnh9LGUucHJvdG90eXBlLnB4PWZ1bmN0aW9uKCl7cmV0dXJuIGUueXh9LGV9KCk7dS5FeD01MDAsdS55eD0xNTAwLHUudng9NTAwLHQuVHg9dX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDQ4KTtyKDE0NCkscigxNDYpO3ZhciBzPXIoODYpLG89cigwKSxhPXIoMTQ3KSxoPXIoOSksYz1yKDYxKSx1PXIoMTQ4KSxsPXIoMTQ5KSxwPXIoNTcpLGQ9cigxNCksZj1yKDEpLGc9cigyKSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxvZ2dlcklkPVwiW0RBU0ggTUVUQURBVEFdIFwiLHRoaXMuaXNMaXZlPSExLHRoaXMubG9nZ2VyPW8uRnJhbWV3b3JrJiZvLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUik/by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZyhlKTpjb25zb2xlLHRoaXMubXg9bmV3IERhc2hQYXJzZXIsdGhpcy5yZXNldCgpfXJldHVybiBlLnByb3RvdHlwZS5JeD1mdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybi0xIT09ZS5pbmRleE9mKFwiL1wiKSYmKC0xIT09ZS5pbmRleE9mKFwiP1wiKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoXCI/XCIpKSksdD1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoXCIvXCIpKzEpKSx0fSxlLnByb3RvdHlwZS5wTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGl2ZX0sZS5wcm90b3R5cGUubE09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TeC52YWx1ZXMoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmFuZHdpZHRofSl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5TeD1uZXcgaX0sZS5wcm90b3R5cGUuUng9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53eH0sZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxyLGkpe3RyeXt0aGlzLnJlc2V0KCksdGhpcy5JTT10LHRoaXMuYngodCxyKSx0aGlzLmlzTGl2ZT1cInN0YXRpY1wiIT09dGhpcy5tYW5pZmVzdC50eXBlO2Zvcih2YXIgbj10aGlzLm1hbmlmZXN0LkJhc2VVUkwscz10aGlzLm1hbmlmZXN0LlBlcmlvZF9hc0FycmF5WzBdLG89cy5BZGFwdGF0aW9uU2V0X2FzQXJyYXksYz0wO2M8by5sZW5ndGg7YysrKXt2YXIgdT1zLkFkYXB0YXRpb25TZXRbY10sbD0tMSE9dS5taW1lVHlwZS5pbmRleE9mKFwiYXVkaW9cIik/aC52Yy5kYzpoLnZjLmZjO2w9PT1oLnZjLmZjJiZ1LkNvbnRlbnRQcm90ZWN0aW9uJiZ0aGlzLkN4KHUuQ29udGVudFByb3RlY3Rpb24pO2Zvcih2YXIgcD11LlNlZ21lbnRUZW1wbGF0ZS5pbml0aWFsaXphdGlvbixkPXUuU2VnbWVudFRlbXBsYXRlLm1lZGlhLEU9cGFyc2VJbnQodS5TZWdtZW50VGVtcGxhdGUudGltZXNjYWxlKSx2PTA7djx1LlJlcHJlc2VudGF0aW9uX2FzQXJyYXkubGVuZ3RoO3YrKyl7dmFyIHk9dS5SZXByZXNlbnRhdGlvbl9hc0FycmF5W3ZdLFQ9bmV3IGEuX3g7VC50eXBlPWwsVC5iYW5kd2lkdGg9cGFyc2VJbnQoeS5iYW5kd2lkdGgpLFQudGltZXNjYWxlPUUsVC5QeD15LmlkLFQuaW5pdGlhbGl6YXRpb249bitcIlwiK3AsVC5pbml0aWFsaXphdGlvbj1ULmluaXRpYWxpemF0aW9uLnJlcGxhY2UoZS5BeCxcIlwiK1QuYmFuZHdpZHRoKSxULmluaXRpYWxpemF0aW9uPVQuaW5pdGlhbGl6YXRpb24ucmVwbGFjZShlLk94LFwiXCIrVC5QeCksaXx8dGhpcy5sb2dnZXIuZGVidWcoXCJRdWFsaXR5TGV2ZWwgXCIraC52Y1tsXStcIiBcIitULmJhbmR3aWR0aCk7dmFyIG09bitcIlwiK2Q7bT1tLnJlcGxhY2UoZS5BeCxcIlwiK1QuYmFuZHdpZHRoKSxtPW0ucmVwbGFjZShlLk94LFwiXCIrVC5QeCksVC5OeD1tO3ZhciBJPXBhcnNlSW50KFQuYmFuZHdpZHRoK1wiXCIpLFM9dGhpcy5EeCh1LlNlZ21lbnRUZW1wbGF0ZS5TZWdtZW50VGltZWxpbmVfYXNBcnJheVswXS5TX2FzQXJyYXksbSxJLGwpO1Qua3g9Uy5MeCxULk14PVMuRng7dmFyIFI9dGhpcy5VeChtKTt0aGlzLlN4LnNldChSLFQpfX1yZXR1cm4gdGhpcy53eD0hMCx0aGlzLkJ4KHIsaSl9Y2F0Y2goZSl7dGhyb3cgZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBhcnNpbmcgdGhlIG1ldGFkYXRhXCIsdGhpcy5sb2dnZXJJZCxnLmhzLnVpLldyLGUpLHRoaXMud3g9ITEsbmV3IEVycm9yKGUpfX0sZS5wcm90b3R5cGUuRHg9ZnVuY3Rpb24odCxyLGkscyl7dHJ5e3ZhciBvLGE9bmV3IG4saD1uZXcgbix1PTAsbD0wO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7aWYodC5kKXt0LnQ/dT1wYXJzZUludCh0LnQpOnUrPWw7dmFyIG49cGFyc2VJbnQodC5kKSxwPXIucmVwbGFjZShlLkh4LHUrXCJcIiksZD1uZXcgYy5ERih1LGksbixwLHApO2QudHlwZT1zLG8mJihvLm5leHQ9ZCksYS5zZXQocCxkKSxoLnNldCh1LGQpLG89ZDt2YXIgZj0wO3QuciYmKGY9cGFyc2VJbnQodC5yKSk7Zm9yKHZhciBnPTA7ZzxmO2crKyl7dSs9bjt2YXIgcD1yLnJlcGxhY2UoZS5IeCx1K1wiXCIpLGQ9bmV3IGMuREYodSxpLG4scCxwKTtkLnR5cGU9cyxvJiYoby5uZXh0PWQpLGEuc2V0KHAsZCksaC5zZXQodSxkKSxvPWR9bD1ufX0pLHtMeDphLEZ4Omh9fWNhdGNoKGUpe3Rocm93IGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBleHRyYWN0aW5nIHNlZ21lbnQgbWFwc1wiLHRoaXMubG9nZ2VySWQsZy5ocy51aS56cixlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5DeD1mdW5jdGlvbihlKXt0cnl7aWYoZSl7aWYoZS5DcnlwdG9QZXJpb2Qpe3ZhciB0PWUuQ3J5cHRvUGVyaW9kO3RoaXMuT00mJiF0aGlzLk9NLnh4KCkmJnRoaXMuT00gaW5zdGFuY2VvZiB1LnF4fHwodGhpcy5PTT1uZXcgdS5xeCh0LmtleVVyaVRlbXBsYXRlLHQuSVYsdGhpcy5hdXRoZW50aWNhdGlvblRva2VuKSl9ZWxzZSB0aGlzLk9NJiZ0aGlzLk9NIGluc3RhbmNlb2YgbC5HeHx8KHRoaXMuT009bmV3IGwuR3gpO3RoaXMuT00mJnAuREFTSC5YTCYmdGhpcy5PTS5pbml0KCl9fWNhdGNoKGUpe3Rocm93IGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgdGhlIHByb3RlY3Rpb25cIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuSnIsZSksbmV3IEVycm9yKGUpfX0sZS5wcm90b3R5cGUuVng9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5VeChlKTtyZXR1cm4gdGhpcy5TeC5nZXQodCl9LGUucHJvdG90eXBlLmdNPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdGhpcy5WeChlKS5reC5nZXQoZSl9Y2F0Y2goZSl7cmV0dXJuIGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBzZWdtZW50IGluZm9cIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuWHIsZSksbnVsbH19LGUucHJvdG90eXBlLmZNPWZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiB0aGlzLlN4LmZvckVhY2goZnVuY3Rpb24ocixpKXtyLmluaXRpYWxpemF0aW9uPT09ZSYmKHQ9ITApfSksdH0sZS5wcm90b3R5cGUudk09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nTShlKTtyZXR1cm4gbnVsbCE9dD90Lm5leHQ6bnVsbH0sZS5wcm90b3R5cGUuZGs9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3ZhciBuO2lmKHRoaXMuU3guZm9yRWFjaChmdW5jdGlvbihlLHQpe2UuYmFuZHdpZHRoPT09aSYmKG49ZSl9KSxuJiZuLk14LmhhcyhlKSYmbi5NeC5oYXMocikpe2Zvcih2YXIgcz1uLk14LmdldChlKSxvPW4uTXguZ2V0KHIpLGE9MCxoPXM7aCYmaCE9bzspYSs9aC5kdXJhdGlvbixoPWgubmV4dDtyZXR1cm4gTWF0aC5yb3VuZChhLyhuLnRpbWVzY2FsZS8xZTMpKX1yZXR1cm4gMH1jYXRjaChlKXtyZXR1cm4gZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGV4dHJhY3RpbmcgdGhlIHNlZ21lbnQgZGlzdGFuY2VcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuWnIsZSksMH19LGUucHJvdG90eXBlLmp4PWZ1bmN0aW9uKGUpe3RyeXtlIGluc3RhbmNlb2YgVWludDhBcnJheSYmKGU9ZS5idWZmZXIpO3ZhciB0PUlTT0JveGVyLlF4KGUpLHI9dC5mZXRjaChcInRmaGRcIiksaT10LmZldGNoKFwidHJ1blwiKSxuPXI/ci5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbjowO2lmKGkpe3ZhciBzPTA7cmV0dXJuIGkuS3guZm9yRWFjaChmdW5jdGlvbihlKXtzKz1lLnNhbXBsZV9kdXJhdGlvbn0pLGlzTmFOKHMpJiZuPjAmJihzPW4qaS5LeC5sZW5ndGgpLHN9fWNhdGNoKGUpe3JldHVybiBmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZXh0cmFjdGluZyBkdXJhdGlvbiBmcm9tIHRoZSBidWZmZXJcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuJHIsZSksMH19LGUucHJvdG90eXBlLkJ4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5ZeCgpO2lmKCF0JiYodGhpcy5pc0xpdmV8fHJ8fGQuSGl2ZUNvbmZpZy5EYXNoLkRhc2hSZW1vdmVCaXRyYXRlU2l6ZSkpdHJ5e3ZhciBpPW5ldyBzKHt9KSxuPWkuV3goZSk7dGhpcy5pc0xpdmUmJnRoaXMuengobiksKHJ8fGQuSGl2ZUNvbmZpZy5EYXNoLkRhc2hSZW1vdmVCaXRyYXRlU2l6ZSkmJnRoaXMuSngobixyLGQuSGl2ZUNvbmZpZy5EYXNoLkRhc2hSZW1vdmVCaXRyYXRlU2l6ZSk7cmV0dXJuIGkuWHgobil9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZXJyb3IoZSl9cmV0dXJuIGV9LGUucHJvdG90eXBlLnp4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e3ZhciByPU1hdGgubWF4KDEscC5EQVNILkRBU0hfTUVUQURBVEFfTUlOX0ZSQUdNRU5UUyksaT1NYXRoLm1heCgxLHAuREFTSC5lTSksbj0wLHM9MDtyZXR1cm4gZS5NUEQmJmUuTVBELlBlcmlvZCYmZS5NUEQuUGVyaW9kLkFkYXB0YXRpb25TZXQuZm9yRWFjaChmdW5jdGlvbihlKXtpZih0Llp4KGUpKXtmb3IodmFyIG89ZS5TZWdtZW50VGVtcGxhdGUuU2VnbWVudFRpbWVsaW5lLlNfYXNBcnJheSxhPXBhcnNlSW50KGUuU2VnbWVudFRlbXBsYXRlLl90aW1lc2NhbGUpLGg9aSphLGM9MCx1PTAsbD0wO2w8by5sZW5ndGgmJnI+MDtsKyspe3ZhciBwPW9bbF07Yz1sO3ZhciBkPXAuX3I/cGFyc2VJbnQocC5fcik6MTtkPnI/KHU9cixyPTApOihyLT1kLHU9ZCl9Zm9yKHZhciBmPW8ubGVuZ3RoLTE7Zj49MCYmKGg+MCYmZj49Yyk7Zi0tKXt2YXIgcD1vW2ZdLGQ9cC5fcj9wYXJzZUludChwLl9yKToxLGc9MDtpZighcC5fZCl0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIHNlZ21lbnQgZHVyYXRpb25cIik7Zz1wYXJzZUludChwLl9kKTt2YXIgRT1kKmc7aWYoKGY+Y3x8Zj09YyYmMD09dSkmJmg+PUUpaC09RSxvLnNwbGljZShmLDEpLG4rPWQscys9RTtlbHNle3ZhciB2PU1hdGguY2VpbChoL2cpO2Y9PWMmJih2PU1hdGgubWluKHYsZC11KSk7dmFyIHk9Zyp2O3AuX3I9ZC12K1wiXCIsaC09eSxuKz12LHMrPXl9fXQubG9nZ2VyLmRlYnVnKFwiREFTSCB0cmltbWVkIFwiK24rXCIgc2VnbWVudHMgZm9yIHRvdGFsIGR1cmF0aW9uOiBcIitzKX19KSxlfWNhdGNoKGUpe3Rocm93IGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB0cmltbWluZyB0aGUgbWFuaWZlc3RcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuc2ksZSksbmV3IEVycm9yKGUpfX0sZS5wcm90b3R5cGUuWng9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoISEoXCJ2aWRlby9tcDRcIj09PWUuX21pbWVUeXBlfHxcInZpZGVvXCI9PT1lLl9jb250ZW50VHlwZXx8ZS5TZWdtZW50VGVtcGxhdGUuX21lZGlhJiZlLlNlZ21lbnRUZW1wbGF0ZS5fbWVkaWEuaW5kZXhPZihcInZpZGVvXCIpPi0xKSYmKGUuU2VnbWVudFRlbXBsYXRlJiZlLlNlZ21lbnRUZW1wbGF0ZS5TZWdtZW50VGltZWxpbmUpKX0sZS5wcm90b3R5cGUuWXg9ZnVuY3Rpb24oKXtpZihkLkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXMpdHJ5e3ZhciBlPW51bGw7ZT1cInN0cmluZ1wiPT10eXBlb2YgZC5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzP2QuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcy5zcGxpdChcIixcIik6ZC5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzO3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9cGFyc2VJbnQoZSk7aXNOYU4ocil8fHQucHVzaChyKX0pLHR9Y2F0Y2goZSl7Zi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBhcnNpbmcgRGFzaEZpbHRlckJpdHJhdGVzXCIsdGhpcy5sb2dnZXJJZCxnLmhzLnVpLm9pLGUpfX0sZS5wcm90b3R5cGUuSng9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7aWYoZS5NUEQmJmUuTVBELlBlcmlvZCl7dmFyIG49W107ZS5NUEQuUGVyaW9kLkFkYXB0YXRpb25TZXQuZm9yRWFjaChmdW5jdGlvbihlKXtpZihpLlp4KGUpKXt2YXIgcz1lLlJlcHJlc2VudGF0aW9uX2FzQXJyYXk7cy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlzTmFOKGUuX2JhbmR3aWR0aCkmJihlLl9iYW5kd2lkdGg9cGFyc2VJbnQoZS5fYmFuZHdpZHRoKSksaXNOYU4odC5fYmFuZHdpZHRoKSYmKHQuX2JhbmR3aWR0aD1wYXJzZUludCh0Ll9iYW5kd2lkdGgpKSxlLl9iYW5kd2lkdGgtdC5fYmFuZHdpZHRofSk7Zm9yKHZhciBvPXMubGVuZ3RoLTE7bz49MDtvLS0pciYmKGRlbGV0ZSBzW29dLl93aWR0aCxkZWxldGUgc1tvXS5faGVpZ2h0KSx0JiYtMT09dC5pbmRleE9mKG8pP3Muc3BsaWNlKG8sMSk6bi5wdXNoKHNbb10uX2JhbmR3aWR0aCk7aS5sb2dnZXIuZGVidWcoXCJEQVNIIGZpbHRlcmVkLWluIGJpdHJhdGVzOiBcIituLnJldmVyc2UoKS5qb2luKFwiIFwiKStcIiAtIHJlbW92ZWQgc2l6ZTogXCIrcil9fSl9fSxlLnByb3RvdHlwZS5ITT1mdW5jdGlvbihlLHQscixpKXt0cnl7dmFyIG47aWYodGhpcy5TeC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5iYW5kd2lkdGg9PT1pJiYobj1lKX0pLG4mJm4uTXguaGFzKGUpJiZuLk14LmhhcyhyKSl7Zm9yKHZhciBzPW4uTXguZ2V0KGUpLG89bi5NeC5nZXQociksYT0wLGg9cztoJiZoIT1vOylhKz1oLmR1cmF0aW9uLGg9aC5uZXh0O3JldHVybiBNYXRoLnJvdW5kKGEvKG4udGltZXNjYWxlLzFlMykpfXJldHVybiAwfWNhdGNoKGUpe3JldHVybiBmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgZHVyYXRpb24gYmV0d2VlbiB0d28gc2VnbWVudHNcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuaGksZSksMH19LGUucHJvdG90eXBlLnFNPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByO3JldHVybiB0aGlzLlN4LmZvckVhY2goZnVuY3Rpb24oZSxpKXtlLmJhbmR3aWR0aD09PXQmJihyPWUpfSksciYmci5NeC5oYXMoZSk/ci5NeC5nZXQoZSk6bnVsbH1jYXRjaChlKXtyZXR1cm4gZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIHNlZ21lbnRcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuY2ksZSksbnVsbH19LGV9KCk7RS5BeD1cIiRCYW5kd2lkdGgkXCIsRS5IeD1cIiRUaW1lJFwiLEUuT3g9XCIkUmVwcmVzZW50YXRpb25JRCRcIix0LiR4PUV9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmxvY2FsTmFtZTtyZXR1cm4gbnVsbD09dCYmKHQ9ZS5lcSksbnVsbCE9dCYmXCJcIiE9dHx8KHQ9ZS5ub2RlTmFtZSksdH1mdW5jdGlvbiBuKGUpe3JldHVybiBlLnByZWZpeH1mdW5jdGlvbiBzKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2UucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiN4Mjc7XCIpLnJlcGxhY2UoL1xcLy9nLFwiJiN4MkY7XCIpOmV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5yZXBsYWNlKC8mYW1wOy9nLFwiJlwiKS5yZXBsYWNlKC8mbHQ7L2csXCI8XCIpLnJlcGxhY2UoLyZndDsvZyxcIj5cIikucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvJiN4Mjc7L2csXCInXCIpLnJlcGxhY2UoLyYjeDJGOy9nLFwiL1wiKX1mdW5jdGlvbiBhKHMpe2lmKHMubm9kZVR5cGU9PVQuRE9DVU1FTlRfTk9ERSl7dmFyIGgsYyx1LGw9cy5maXJzdENoaWxkO2ZvcihjPTAsdT1zLmNoaWxkTm9kZXMubGVuZ3RoO2M8dTtjKz0xKWlmKHMuY2hpbGROb2Rlc1tjXS5ub2RlVHlwZSE9PVQuQ09NTUVOVF9OT0RFKXtsPXMuY2hpbGROb2Rlc1tjXTticmVha31pZihyKWg9YShsKTtlbHNle2g9e307dmFyIHA9aShsKTtoW3BdPWEobCl9cmV0dXJuIGh9aWYocy5ub2RlVHlwZT09VC5FTEVNRU5UX05PREUpe3ZhciBoPW5ldyBPYmplY3Q7aC5fX2NudD0wO2Zvcih2YXIgZD1zLmNoaWxkTm9kZXMsZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgbD1kLml0ZW0oZikscD1pKGwpO2lmKGguX19jbnQrKyxudWxsPT1oW3BdKWhbcF09YShsKSxoW3ArXCJfYXNBcnJheVwiXT1uZXcgQXJyYXkoMSksaFtwK1wiX2FzQXJyYXlcIl1bMF09aFtwXTtlbHNle2lmKG51bGwhPWhbcF0mJiEoaFtwXWluc3RhbmNlb2YgQXJyYXkpKXt2YXIgZz1oW3BdO2hbcF09bmV3IEFycmF5LGhbcF1bMF09ZyxoW3ArXCJfYXNBcnJheVwiXT1oW3BdfWZvcih2YXIgRT0wO251bGwhPWhbcF1bRV07KUUrKztoW3BdW0VdPWEobCl9fWZvcih2YXIgdj0wO3Y8cy5hdHRyaWJ1dGVzLmxlbmd0aDt2Kyspe3ZhciBtPXMuYXR0cmlidXRlcy5pdGVtKHYpO2guX19jbnQrKztmb3IodmFyIEk9bS52YWx1ZSxTPTAsUj1lLmxlbmd0aDtTPFI7UysrKXt2YXIgdz1lW1NdO3RyeXt3LnRlc3QuY2FsbCh0aGlzLG0pJiYoST13LnRxLmNhbGwodGhpcyxtLnZhbHVlKSl9Y2F0Y2goZSl7dy50ZXN0LmNhbGwodGhpcyxtKSxjb25zb2xlLmVycm9yKGUpfX1oW3QrbS5uYW1lXT1JfXZhciBiPW4ocyk7cmV0dXJuIG51bGwhPWImJlwiXCIhPWImJihoLl9fY250KyssaC5fX3ByZWZpeD1iKSwxPT1oLl9fY250JiZudWxsIT1oW1wiI3RleHRcIl0mJihoPWhbXCIjdGV4dFwiXSksbnVsbCE9aFtcIiN0ZXh0XCJdJiYoaC5fX3RleHQ9aFtcIiN0ZXh0XCJdLGguX190ZXh0IGluc3RhbmNlb2YgQXJyYXkmJihoLl9fdGV4dD1oLl9fdGV4dC5qb2luKFwiXFxuXCIpKSx5JiYoaC5fX3RleHQ9byhoLl9fdGV4dCkpLGRlbGV0ZSBoW1wiI3RleHRcIl0sZGVsZXRlIGhbXCIjdGV4dF9hc0FycmF5XCJdLFwiXCI9PT1oLl9fdGV4dC50cmltKCkmJmRlbGV0ZSBoLl9fdGV4dCksbnVsbCE9aFtcIiNjZGF0YS1zZWN0aW9uXCJdJiYoaC5fX2NkYXRhPWhbXCIjY2RhdGEtc2VjdGlvblwiXSxkZWxldGUgaFtcIiNjZGF0YS1zZWN0aW9uXCJdLGRlbGV0ZSBoW1wiI2NkYXRhLXNlY3Rpb25fYXNBcnJheVwiXSksbnVsbD09aC5fX3RleHQmJm51bGw9PWguX19jZGF0YXx8KGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbCE9dGhpcy5fX3RleHQ/dGhpcy5fX3RleHQ6XCJcIikrKG51bGwhPXRoaXMuX19jZGF0YT90aGlzLl9fY2RhdGE6XCJcIil9KSxofXJldHVybiBzLm5vZGVUeXBlPT1ULlRFWFRfTk9ERXx8cy5ub2RlVHlwZT09VC5DREFUQV9TRUNUSU9OX05PREU/cy5ub2RlVmFsdWU6cy5ub2RlVHlwZT09VC5DT01NRU5UX05PREU/bnVsbDp2b2lkIDB9ZnVuY3Rpb24gaChlLHQscixpKXt2YXIgbj1cIjxcIisobnVsbCE9ZSYmbnVsbCE9ZS5fX3ByZWZpeD9lLl9fcHJlZml4K1wiOlwiOlwiXCIpK3Q7aWYobnVsbCE9cilmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG89cltzXSxhPWVbb107bis9XCIgXCIrby5zdWJzdHIoMSkrXCI9J1wiK2ErXCInXCJ9cmV0dXJuIG4rPWk/XCIvPlwiOlwiPlwifWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm5cIjwvXCIrKG51bGwhPWUuX19wcmVmaXg/ZS5fX3ByZWZpeCtcIjpcIjpcIlwiKSt0K1wiPlwifWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0LGUubGVuZ3RoLXQubGVuZ3RoKX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuISEodSh0LnRvU3RyaW5nKCksXCJfYXNBcnJheVwiKXx8MD09dC50b1N0cmluZygpLmluZGV4T2YoXCJfXCIpfHxlW3RdaW5zdGFuY2VvZiBGdW5jdGlvbil9ZnVuY3Rpb24gcChlKXt2YXIgdD0wO2lmKGUgaW5zdGFuY2VvZiBPYmplY3QpZm9yKHZhciByIGluIGUpbChlLHIpfHx0Kys7cmV0dXJuIHR9ZnVuY3Rpb24gZChlKXt2YXIgdD1bXTtpZihlIGluc3RhbmNlb2YgT2JqZWN0KWZvcih2YXIgciBpbiBlKS0xPT1yLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9fXCIpJiYwPT1yLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9cIikmJnQucHVzaChyKTtyZXR1cm4gdH1mdW5jdGlvbiBmKGUpe3ZhciB0PVwiXCI7cmV0dXJuIG51bGwhPWUuX19jZGF0YSYmKHQrPVwiPCFbQ0RBVEFbXCIrZS5fX2NkYXRhK1wiXV0+XCIpLG51bGwhPWUuX190ZXh0JiYodCs9eT9zKGUuX190ZXh0KTplLl9fdGV4dCksdH1mdW5jdGlvbiBnKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUgaW5zdGFuY2VvZiBPYmplY3Q/dCs9ZihlKTpudWxsIT1lJiYodCs9eT9zKGUpOmUpLHR9ZnVuY3Rpb24gRShlLHQscil7dmFyIGk9XCJcIjtpZigwPT1lLmxlbmd0aClpKz1oKGUsdCxyLCEwKTtlbHNlIGZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWkrPWgoZVtuXSx0LGQoZVtuXSksITEpLGkrPXYoZVtuXSksaSs9YyhlW25dLHQpO3JldHVybiBpfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9XCJcIjtpZihwKGUpPjApZm9yKHZhciByIGluIGUpaWYoIWwoZSxyKSl7dmFyIGk9ZVtyXSxuPWQoaSk7aWYobnVsbD09aXx8dm9pZCAwPT1pKXQrPWgoaSxyLG4sITApO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIE9iamVjdClpZihpIGluc3RhbmNlb2YgQXJyYXkpdCs9RShpLHIsbik7ZWxzZXt2YXIgcz1wKGkpO3M+MHx8bnVsbCE9aS5fX3RleHR8fG51bGwhPWkuX19jZGF0YT8odCs9aChpLHIsbiwhMSksdCs9dihpKSx0Kz1jKGkscikpOnQrPWgoaSxyLG4sITApfWVsc2UgdCs9aChpLHIsbiwhMSksdCs9ZyhpKSx0Kz1jKGkscil9cmV0dXJuIHQrPWcoZSl9bnVsbCE9PXQmJnZvaWQgMCE9PXR8fCh0PVwiX1wiKSxudWxsIT09ciYmdm9pZCAwIT09cnx8KHI9ITEpO3ZhciB5PSExLFQ9e0VMRU1FTlRfTk9ERToxLFRFWFRfTk9ERTozLENEQVRBX1NFQ1RJT05fTk9ERTo0LENPTU1FTlRfTk9ERTo4LERPQ1VNRU5UX05PREU6OX07dGhpcy5ycT1mdW5jdGlvbihlKXt2YXIgdDtpZih3aW5kb3cuRE9NUGFyc2VyKXt0PShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsXCJ0ZXh0L3htbFwiKX1lbHNlIDA9PWUuaW5kZXhPZihcIjw/XCIpJiYoZT1lLnN1YnN0cihlLmluZGV4T2YoXCI/PlwiKSsyKSksdD1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIiksdC5hc3luYz1cImZhbHNlXCIsdC5pcShlKTtyZXR1cm4gdH0sdGhpcy5ucT1mdW5jdGlvbihlKXtyZXR1cm4gYShlKX0sdGhpcy5XeD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJxKGUpO3JldHVybiB0aGlzLm5xKHQpfSx0aGlzLlh4PWZ1bmN0aW9uKGUpe3JldHVybiB2KGUpfSx0aGlzLnNxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuWHgoZSk7cmV0dXJuIHRoaXMucnEodCl9LHRoaXMuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiMS4wLjExXCJ9LHRoaXMub3E9ZnVuY3Rpb24oZSl7eT1lfX07ZS5pPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMykscz1yKDU4KSxvPXIoMTUxKSxhPXIoMTU0KSxoPXIoMCksYz1yKDMxKSx1PXIoOSksbD1yKDM0KSxwPXIoMzApLGQ9cigxKSxmPXIoMik7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHRoaXMucUwodCl8fC0xIT10LmluZGV4T2YoZS5HTCl9ZnVuY3Rpb24gcih0KXtyZXR1cm4tMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5WTC50b0xvd2VyQ2FzZSgpKXx8LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUuYXEudG9Mb3dlckNhc2UoKSl8fC0xIT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLmhxLnRvTG93ZXJDYXNlKCkpfWUuY3E9MSxlLnVxPTIsZS5scT0zZTQsZS5wcT00ZTMsZS5kcT01MDAsZS5mcT0hMCxlLmdxPTFlNCxlLkVxPTE2LGUudnE9MyxlLlZMPVwiLm0zdThcIixlLmFxPVwiKGZvcm1hdD1tM3U4LWFhcGwtdjMpXCIsZS5ocT1cIih2aWRlbyxmb3JtYXQ9bTN1OC1hYXBsLXYzLGF1ZGlvdHJhY2s9YXVkaW8pXCIsZS5HTD1cIi50c1wiLGUuck09dCxlLnFMPXI7dmFyIGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcyhlLHIsaSl7dmFyIHM9dC5jYWxsKHRoaXMsaSl8fHRoaXM7cmV0dXJuIHMueXE9ITEscy5sb2dnZXJJZD1cIltITFMgQ29udGV4dF0gXCIscy5BZz0wLHMuTU09bmV3IG4scy5ETT1uZXcgbixzLnRpY2tldD1lLHMuVHE9cixyJiYocy5tcT1zLklxKGUuX04oKSkpLHMubk09ZS5OTigpLHMuc009bmV3IGEuU3Escy5ScT1uZXcgby53cSxzfXJldHVybiBpKHMsdCkscy5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvdG9jb2w9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyZWFtUHJvdG9jb2wuYnF9LHMucHJvdG90eXBlLklxPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoXCIvXCIpO3JldHVybiBlLnN1YnN0cigwLHQpfSxzLnByb3RvdHlwZS5Taz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldH0scy5wcm90b3R5cGUubE09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ScS5sTSgpfSxzLnByb3RvdHlwZS5pc0xpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ScS5pc0xpdmUoKX0scy5wcm90b3R5cGUuZE09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zTX0scy5wcm90b3R5cGUuZ2V0Q29udGV4dElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0LmtOKCl9LHMucHJvdG90eXBlLnVNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubk19LHMucHJvdG90eXBlLm1NPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLnVybD10aGlzLkNxKGUudXJsKTtyZXR1cm4gdD09PXRoaXMubk0/KHRoaXMueXEmJnRoaXMubG9nZ2VyLmRlYnVnKFwiU0FNRSBNQU5JRkVTVCBcIit0K1wiLFwiK3RoaXMubk0pLCEwKTpudWxsIT10aGlzLlJxJiZ0aGlzLlJxLl9xKHQpPyh0aGlzLnlxJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkNPUlJFQ1QgUExBWUxJU1QgXCIrdCtcIixcIit0aGlzLm5NKSwhMCk6bnVsbCE9dGhpcy5ScSYmbnVsbCE9dGhpcy5ScS5nTSh0KT8odGhpcy55cSYmdGhpcy5sb2dnZXIuZGVidWcoXCJDT1JSRUNUIFNFR01FTlQgXCIrdCtcIixcIit0aGlzLm5NKSwhMCk6ISghcih0KXx8dGhpcy5ScS5QcSgpPT09dCkmJih0aGlzLnlxJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZJUlNUIFJFUVVFU1QgRk9SIE1BTklGRVNUIFwiK3QrXCIsXCIrdGhpcy5uTSksITEpfWNhdGNoKHQpe3JldHVybiBkLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgY3VycmVudCBjb250ZXh0IG9mIHRoZSBIaXZlUmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsZi5ocy5kaS5xcix7ZGV0YWlsZWRFcnJvcjp0LHVybDplLnVybH0pLCExfX0scy5wcm90b3R5cGUuQ3E9ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZSkubmIoKS50b1N0cmluZygpfSxzLnByb3RvdHlwZS5YZj1mdW5jdGlvbihlKXt0cnl7aWYocihlKSlyZXR1cm4gdS52Yy5nYztyZXR1cm4gbnVsbCE9dGhpcy5ScS5nTShlKT91LnZjLmZjOnUudmMuRWN9Y2F0Y2godCl7cmV0dXJuIGQuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBlbnRpdHlUeXBlXCIsdGhpcy5sb2dnZXJJZCxmLmhzLmRpLkJyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmV9KSx1LnZjLkVjfX0scy5wcm90b3R5cGUuaWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5YZihlKTtpZih0PT11LnZjLmZjfHx0PT11LnZjLmRjKXJldHVybiEwfSxzLnByb3RvdHlwZS5FTT1mdW5jdGlvbihlKXt2YXIgdD0wLHI9MCxpPTAsbj0hMCxzPSExO3RyeXt2YXIgbz10aGlzLlhmKGUpO2lmKG8hPXUudmMuZ2Mpe3ZhciBhPXRoaXMuUnEuZ00oZSk7bnVsbCE9YSYmKHQ9YS5kdXJhdGlvbixyPWEuYml0cmF0ZSxpPWEuaWQscz10aGlzLmlnKGUpKX1lbHNlIG49ITEsbnVsbCE9dGhpcy5ScSYmdGhpcy5ScS5BcS5oYXMoZSkmJihyPXRoaXMuUnEuQXEuZ2V0KGUpLmJpdHJhdGUsdGhpcy5NTS5zZXQocixoLkZyYW1ld29yay50aW1lKCkpKTtyZXR1cm4gbmV3IGwuTl8oZSxvLG4saSx0LHIscyx0aGlzLmdldENvbnRleHRJZCgpKX1jYXRjaCh0KXtyZXR1cm4gZC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGVudGl0eUNoYXJhY3RlcmlzdGljcyBmcm9tIHRoZSB1cmxcIix0aGlzLmxvZ2dlcklkLGYuaHMuZGkuSHIse2RldGFpbGVkRXJyb3I6dCx1cmw6ZX0pLG5ldyBsLk5fKGUsdS52Yy5FYywhMSwwLDAsMCwhMSx0aGlzLmdldENvbnRleHRJZCgpKX19LHMucHJvdG90eXBlLlZEPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLlJxLnFNKGUsdCk7cmV0dXJuIG51bGwhPWk/bmV3IGwuTl8oaS55TSxyLCEwLGUsaS5kdXJhdGlvbix0LCEwLHRoaXMuZ2V0Q29udGV4dElkKCkpOm51bGx9LHMucHJvdG90eXBlLlNNPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLlJNLHI9ZS5lZygpLGk9dGhpcy5ScS5wYXJzZShyLHQpO2lmKHRoaXMuUnEuQXEuaGFzKHIpKXt2YXIgbj10aGlzLlJxLkFxLmdldChyKTt0aGlzLndNLlFEKG4uYml0cmF0ZSl9ZS5LZi5yZXNwb25zZT1pLGUuS2YucmVzcG9uc2VUZXh0PWl9Y2F0Y2godCl7ZC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyB0aGUgbWV0YWRhdGFcIix0aGlzLmxvZ2dlcklkLGYuaHMuZGkubGkse2RldGFpbGVkRXJyb3I6dCx1cmw6ZS5lZygpfSksZS5STSYmKGUuS2YucmVzcG9uc2VUZXh0PWUuUk0sZS5LZi5yZXNwb25zZT1lLlJNKX19LHMucHJvdG90eXBlLkNNPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLkNNLmNhbGwodGhpcyxlKSxlLlhmKCkhPXUudmMuZ2MmJmUuWGYoKSE9dS52Yy5FYyYmKHRoaXMuc00uX00oZSksZS5YZigpPT11LnZjLmZjJiZ0aGlzLndNLlVEKGUuemYpKX0scy5wcm90b3R5cGUuUE09ZnVuY3Rpb24oZSxyKXt2YXIgaT1lO3JldHVybiBpLkFNPWguRnJhbWV3b3JrLnRpbWUoKSx0LnByb3RvdHlwZS5QTS5jYWxsKHRoaXMsaSxyKX0scy5wcm90b3R5cGUudGs9ZnVuY3Rpb24odCl7aWYoZS5mcSl7bnVsbD09dGhpcy5ETS5nZXQodCkmJnRoaXMuUnEuaXNMaXZlKCk/dGhpcy5rTSh0KTp0aGlzLmxvZ2dlci5kZWJ1ZyhcIkhMUyBQUkUtRkVUQ0hJTkcgTUVUQURBVEEgQUxSRUFEWSBTQ0hFRFVMRUQgT1IgTUlTU0lORyBITFMgSU5GT1wiKX19LHMucHJvdG90eXBlLmtNPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dHJ5e3ZhciBpPXRoaXMuUnEuT3EuZ2V0KHQpO2lmKG51bGwhPWkpe3ZhciBuPXRoaXMuTU0uaGFzKHQpLHM9dGhpcy5NTS5nZXQodCksbz1uP3M6MCxhPW51bGwhPWkuTnE/aS5OcVtpLk5xLmxlbmd0aC0xXS5kdXJhdGlvbjplLnBxLGM9bythLHU9TWF0aC5tYXgoMSxjLWguRnJhbWV3b3JrLnRpbWUoKStlLmRxKTt0aGlzLmxvZ2dlci5pbmZvKFwiSExTIFBSRUZFVENISU5HIE1FVEFEQVRBIFwiK2kueU0rXCIgQklUUkFURSBcIit0K1wiIElOIFwiK3UpO3ZhciBsPWguRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLkZNKHQsaS55TSxoLkZyYW1ld29yay50aW1lKCkpfSx1KTt0aGlzLkRNLnNldCh0LGwpfWVsc2UgdGhpcy5sb2dnZXIud2FybihcIk5PIFNUUkVBTSBXSVRIIEJUIFwiK3QpfWNhdGNoKGUpe2QuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzY2hlZHVsaW5nIG1ldGFkYXRhIHByZWZldGNoXCIsdGhpcy5sb2dnZXJJZCxmLmhzLmRpLnBpLGUpfX0scy5wcm90b3R5cGUuRk09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuTU0uZ2V0KGUpO2lmKG51bGw9PWkmJihpPTApLGk+cil0aGlzLmtNKGUpO2Vsc2V7dmFyIG49bmV3IGMuSGl2ZVJlcXVlc3QodGhpcy50aWNrZXQuc2Vzc2lvbklkKTtuLm9wZW4oXCJHRVRcIix0KSxuLmludGVybmFsPSEwLG4uc2VuZCgpLHRoaXMuRE0uZGVsZXRlKGUpLHRoaXMuTU0uc2V0KGUsaC5GcmFtZXdvcmsudGltZSgpKX19LHMucHJvdG90eXBlLkxNPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLkRNLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUuRE0uZ2V0KHQpO2guRnJhbWV3b3JrLmNsZWFyVGltZW91dChyKSxlLkRNLmRlbGV0ZSh0KX0pfSxzLnByb3RvdHlwZS5haz1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5UTS5jYWxsKHRoaXMsZS5jcSxlLnVxKX0scy5wcm90b3R5cGUubms9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudXJsLHI9dGhpcy5ScS52TSh0KTtyZXR1cm4gbnVsbCE9cj90aGlzLkVNKHIueU0pOm51bGx9Y2F0Y2goZSl7cmV0dXJuIGQuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBuZXh0IGVudGl0eVwiLHRoaXMubG9nZ2VySWQsZi5ocy5kaS54cixlKSxudWxsfX0scy5wcm90b3R5cGUuZGs9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHItZX0scy5wcm90b3R5cGUucGs9ZnVuY3Rpb24oKXtyZXR1cm4gZS5scX0scy5wcm90b3R5cGUueE09ZnVuY3Rpb24oKXtyZXR1cm4gZS5ncX0scy5wcm90b3R5cGUubGs9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9dGhpcy5QRCgpLGk9dGhpcy5CTSgpLG49ci5BXygpLHM9MDtpZihlPm4pZm9yKHZhciBvPXRoaXMuUnEucU0obix0KTtvJiZvLmlkPGU7KXMrPW8uZHVyYXRpb24sdGhpcy5sb2dnZXIuZGVidWcoXCJTZWdtZW50IGR1cmF0aW9uIFwiK28uZHVyYXRpb24rXCIgdG90YWwgbXNlYyBcIitzK1wic2VnbWVudCBpZCBcIitvLmlkKSxvPW8ubmV4dDt2YXIgYT1oLkZyYW1ld29yay50aW1lKCktaTtyZXR1cm4gTWF0aC5tYXgoMCxzLWEpfWNhdGNoKGUpe3JldHVybiBkLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgZGlzdGFuY2UgZHVyYXRpb25cIix0aGlzLmxvZ2dlcklkLGYuaHMuZGkuS3IsZSksMH19LHN9KHMuR00pO2UuRHE9Z30odC5icXx8KHQuYnE9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDQpLHM9cigwKSxvPXIoODkpLGE9cig2MiksaD1yKDkwKSxjPXIoMSksdT1yKDIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltMSVZFIENBQ0hFXSBcIix0aGlzLmtxPW5ldyBpLHRoaXMuTHE9LTEsdGhpcy5NcT1bXSx0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLkZxPWUsdGhpcy5VcT10fSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWZlcigpO3RyeXt2YXIgcj1lLlpmKCksaT1lLnJlc3BvbnNlSGVhZGVycyxzPWUuamYsbD1lLnFmLlBmLTEscD1lLnFmLlBmOy0xPT10aGlzLkxxJiZ0aGlzLkJxKCk7dmFyIGQ9bnVsbCxmPSExO2lmKHRoaXMua3EuaGFzKHIpKXtkPXRoaXMua3EuZ2V0KHIpO3ZhciBnPW5ldyBhLkZGKDAsbCxwKTtmPSEwLGQuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aWYoYS5IRi5CRih0KS5NRihnKSlyZXR1cm4gdm9pZChmPSExKX0pfWVsc2V7dmFyIEU9bmV3IGEuRkYoMCxsLHApLnRvU3RyaW5nKCk7ZD1uZXcgaC5IcShlLnpmKSxlLnhxJiYoZC5xcT1lLnhxLkVrLnBlZXJJbmZvKSxkLmNvbnRlbnQuc2V0KEUsbmV3IG8uR3EocCxzLGUucWYsZS5KZigpKSksdGhpcy5rcS5zZXQocixkKSxmPSEwLHRoaXMuTXEudW5zaGlmdChyKX1udWxsPT1kLmhlYWRlcnMmJm51bGwhPWkmJihkLmhlYWRlcnM9aSksdC5yZXNvbHZlKGYpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgZnJhZ21lbnQgaW4gTGl2ZUNhY2hlXCIsdGhpcy5sb2dnZXJJZCx1LmhzLnV0Lml0LGUpLHQucmVqZWN0KFwiQ0FDSEUgUFVUIEVSUk9SIFwiK2UpfXJldHVybiB0LlNzfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWZlcigpO3RyeXt2YXIgcj10aGlzLmtxLmdldChlKTtpZihudWxsIT1yKXt2YXIgaT1udWxsO3IuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aWYoYS5IRi5CRih0KS5rRigpKXJldHVybiBpPWUsaS5oZWFkZXJzPXIuaGVhZGVycyx2b2lkKGkucXE9ci5xcSl9KSx0LnJlc29sdmUoaSl9ZWxzZSB0LnJlc29sdmUobnVsbCl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgZnJhZ21lbnQgZnJvbSBMaXZlQ2FjaGVcIix0aGlzLmxvZ2dlcklkLHUuaHMudXQubnQsZSksdC5yZWplY3QoXCJDQUNIRSBHRVQgRVJST1IgXCIrZSl9cmV0dXJuIHQuU3N9LGUucHJvdG90eXBlLmlrPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdGhpcy5rcS5rZXlzKCl9Y2F0Y2goZSl7cmV0dXJuIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIGtleXMgZnJvbSBMaXZlQ2FjaGVcIix0aGlzLmxvZ2dlcklkLHUuaHMudXQub3QsZSksW119fSxlLnByb3RvdHlwZS5WcT1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZmVyKCk7dHJ5e3QucmVzb2x2ZSh0aGlzLmtxLnZhbHVlcygpKX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyBlbGVtZW50cyBmcm9tIExpdmVDYWNoZVwiLHRoaXMubG9nZ2VySWQsdS5ocy51dC5hdCxlKSx0LnJlamVjdChcIkNBQ0hFIEdFVCBFTEVNRU5UUyBFUlJPUiBcIitlKX1yZXR1cm4gdC5Tc30sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWZlcigpO3RyeXt0aGlzLmtxLmhhcyhlKT90LnJlc29sdmUoITApOnQucmVzb2x2ZSghMSl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNoZWNraW5nIGlmIExpdmVDYWNoZSBjb250YWlucyB0aGUgZnJhZ21lbnRcIix0aGlzLmxvZ2dlcklkLHUuaHMudXQuc3QsZSksdC5yZWplY3QoXCJDQUNIRSBDT05UQUlOUyBFUlJPUiBcIitlKX1yZXR1cm4gdC5Tc30sZS5wcm90b3R5cGUuQnE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuanEoKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU3RhcnRpbmcgY2FjaGUgcGVyaW9kaWMgcHVyZ2VcIiksdGhpcy5McT1zLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UubSgpfSx0aGlzLlVxKX0sZS5wcm90b3R5cGUuanE9ZnVuY3Rpb24oKXstMSE9dGhpcy5McSYmKHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgU3RvcHBpbmcgY2FjaGUgcGVyaW9kaWMgcHVyZ2VcIikscy5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkxxKSx0aGlzLkxxPS0xKX0sZS5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dHJ5e3ZhciB0PTAscj0wLGk9MDt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiIFJVTk5JTkcgR0NcIiksdGhpcy5NcS5ldmVyeShmdW5jdGlvbihpLG4pe3ZhciBzPWUua3EuZ2V0KGkpLnNpemUoKTtyZXR1cm4gdCtzPmUuRnE/KHI9biwhMSk6KHQrPXMsITApfSl8fChpPXRoaXMuTXEubGVuZ3RoLXIsdGhpcy5NcS5zcGxpY2Uocix0aGlzLk1xLmxlbmd0aC0xKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uua3EuZGVsZXRlKHQpfSkpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgR0MgRE9ORSAtIFJFTU9WRUQ6IFwiK2krXCIgLSBDVVJSRU5UIElURU1TOiBcIit0aGlzLmtxLmxlbmd0aCtcIiBTSVpFOiBcIit0K1wiIFwiKSwwPT09dGhpcy5rcS5sZW5ndGgmJih0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiIENhY2hlIGNvbnRhaW5zIG5vIGl0ZW1zLCBzdG9wcGluZyBwdXJnZSB0aW1lclwiKSx0aGlzLmpxKCkpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBwdXJnaW5nIExpdmVDYWNoZVwiLHRoaXMubG9nZ2VySWQsdS5ocy51dC5jdCxlKX19LGUucHJvdG90eXBlLlFxPWZ1bmN0aW9uKCl7dGhpcy5rcT1uZXcgaSx0aGlzLk1xPVtdfSxlLnByb3RvdHlwZS5LcT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5rcS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5sb2dnZXIuZGVidWcoXCJFSUQ9XCIrciksdC5jb250ZW50LmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmxvZ2dlci5kZWJ1ZyhcIlxcdFJBTkdFIFwiLHIpfSl9KX0sZX0oKTt0LllxPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5sZW5ndGg9ZSx0aGlzLmRhdGE9dCx0aGlzLnFmPXIsdGhpcy5XcT1pfXJldHVybiBlfSgpO3QuR3E9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNjIpLG49cigzKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmhlYWRlcnM9bnVsbCx0aGlzLnFxPW51bGwsdGhpcy50b3RhbFNpemU9MCx0aGlzLnpxPSExLHRoaXMuemY9ZSx0aGlzLmNvbnRlbnQ9bmV3IG59cmV0dXJuIGUucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiB0aGlzLmNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbih0LHIpe2UrPWkuSEYuQkYocikuc2l6ZSgpfSksZX0sZX0oKTt0LkhxPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oZSl7ZVtlLkpxPTBdPVwiQUxMXCIsZVtlLkFTPTFdPVwiQVNcIixlW2UubkQ9Ml09XCJTSVRFXCJ9KHQuWHF8fCh0LlhxPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cigyNSkscz1yKDUpLG89cigxMCksYT1yKDQpLGg9cigzKSxjPXIoNTkpLHU9cigxNzEpLGw9cigxKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuWnE9ITEsdGhpcy5sb2dnZXJJZD1cIltVRFBMZWFkZXJFbGVjdGlvbl0gXCIsdGhpcy5OZz1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuRiksdGhpcy4kcT1uZXcgaCx0aGlzLmVHPW5ldyBoLHRoaXMudEc9bmV3IGgsdGhpcy5yRz1uZXcgaCx0aGlzLmlHPW5ldyBoLHRoaXMubkc9W119cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5zRz1lLHRoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMueUQ9ZS55RCx0aGlzLm9HPWUub0csdGhpcy5tRD1lLm1EfSxlLnByb3RvdHlwZS5hRz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1hLmRlZmVyKCk7dHJ5e2lmKHRoaXMuWnEpe3ZhciBuPW51bGw7ZS5wcml2YXRlSXBTdHJpbmcmJihuPWUucHJpdmF0ZUlwU3RyaW5nKTt2YXIgcz1uZXcgdS5oRyhlLmd1aWQsZS5yYW5rVmFsdWUsbixlLmlzTGVhZGVyKTtpZih0aGlzLiRxLmhhcyhzLnV1aWQpKXt2YXIgbz10aGlzLiRxLmdldChzLnV1aWQpO28udWRwU2NvcmU9PXMudWRwU2NvcmUmJm8uY0c9PXMuY0c/aS5yZXNvbHZlKCk6KHRoaXMuJHEuc2V0KHMudXVpZCxzKSx0aGlzLnVHKCksdGhpcy5sRyhzKS50aGVuKGZ1bmN0aW9uKCl7aS5yZXNvbHZlKCl9KS5mYWlsKGZ1bmN0aW9uKGUpe3IuJHEuZGVsZXRlKHMudXVpZCksci51RygpLGkucmVqZWN0KGUpfSkpfWVsc2UgdD8ocy5wRz10LHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIiBORVcgTUVNQkVSIEdVSUQgXCIrcy51dWlkK1wiIFJBTktJTkcgXCIrcy51ZHBTY29yZStcIiBMRUFERVIgXCIrcy5jRyksdGhpcy4kcS5zZXQocy51dWlkLHMpLHRoaXMudUcoKSx0aGlzLmxHKHMpLnRoZW4oZnVuY3Rpb24oKXtyLmRHKHIuJHEuZ2V0KHMudXVpZCkpLGkucmVzb2x2ZSgpfSkuZmFpbChmdW5jdGlvbihlKXtyLiRxLmRlbGV0ZShzLnV1aWQpLHIudUcoKSxpLnJlamVjdChlKX0pKTp0aGlzLmZHKHMpLnRoZW4oZnVuY3Rpb24oZSl7cy5wRz1lLHIubG9nZ2VyLmluZm8oci5sb2dnZXJJZCtcIiBORVcgTUVNQkVSIEdVSUQgXCIrcy51dWlkK1wiIFJBTktJTkcgXCIrcy51ZHBTY29yZStcIiBMRUFERVIgXCIrcy5jRyksci4kcS5zZXQocy51dWlkLHMpLHIudUcoKSxyLmxHKHMpLnRoZW4oZnVuY3Rpb24oKXtpLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci4kcS5kZWxldGUocy51dWlkKSxyLnVHKCksaS5yZWplY3QoZSl9KX0pLmZhaWwoZnVuY3Rpb24oZSl7aS5yZWplY3QoZSl9KX1lbHNlIGkucmVqZWN0KFwiTEVBREVSIEVMRUNUSU9OIE5PVCBTVEFSVEVEIFlFVFwiKX1jYXRjaChlKXtpLnJlamVjdChcIlRSSUdHRVIgTEVBREVSIEVMRUNUSU9OIEVSUk9SIFwiK2UpfXJldHVybiBpLlNzfSxlLnByb3RvdHlwZS5kRz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgby5iYyhvLlRjLlcsbnVsbCk7dC5ndWlkPWUudXVpZCx0LmlzTGVhZGVyPWUuY0csdC5yYW5rVmFsdWU9ZS51ZHBTY29yZTt2YXIgcj1bdF07dGhpcy5vRy5nRyhyLCExKX0sZS5wcm90b3R5cGUuZkc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKTtyZXR1cm4gdGhpcy5yRy5oYXMoZS51dWlkKXx8dGhpcy50Ry5oYXMoZS51dWlkKT9yLnJlamVjdChkLkVHKToodGhpcy5yRy5zZXQoZS51dWlkLERhdGUubm93KCkpLHRoaXMuTmcuY29ubmVjdChlLnV1aWQpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG49aS5QZy53Zyh0LnNHLnN3YXJtSWQpO251bGw9PW4/KG49aS5QZy5UZyh0LnNHLnN3YXJtSWQpLHQudkcobikudGhlbihmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KS5kb25lKCkpOnQuaUcuZ2V0KGUudXVpZCk/ci5yZXNvbHZlKGkpOih0LnJHLmRlbGV0ZShlLnV1aWQpLHQudkcobikudGhlbihmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KS5kb25lKCkpfSkuZmFpbChmdW5jdGlvbihpKXt0LnJHLmRlbGV0ZShlLnV1aWQpLHIucmVqZWN0KGkpfSkuZG9uZSgpKSxyLlNzfSxlLnByb3RvdHlwZS52Rz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5kZWZlcigpLG89bmV3IG4uUmYuRmEuSmcuVURQSGFuZHNoYWtlTWVzc2FnZTtvLnV1aWQ9dGhpcy55Ry51dWlkLG8udWRwU2NvcmU9dGhpcy55Ry51ZHBTY29yZSxvLmlzTGVhZGVyPXRoaXMueUcuY0csby5zdHJlYW1JZD10aGlzLnlHLnN0cmVhbUlkLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJNU0cgdXVpZCBcIitvLnV1aWQrXCIgcmFua1ZhbHVlIFwiK28udWRwU2NvcmUrXCIgaXNMZWFkZXIgXCIrby5pc0xlYWRlcitcIiBzdHJlYW0gaWQgXCIrby5zdHJlYW1JZCk7dmFyIGg9aS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QuVEcoZS5vdGhlckd1aWQpfSxzLmhoLlVEUEJyb2FkY2FzdC5HYSk7cmV0dXJuIHRoaXMudEcuc2V0KGUub3RoZXJHdWlkLHttRzpoLGRlZmVyOnJ9KSxlLkxnKG4uUmYuRWcuZGcsbyksci5Tc30sZS5wcm90b3R5cGUuVEc9ZnVuY3Rpb24oZSl7aWYodGhpcy50Ry5oYXMoZSkpe3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgSEFORFNIQUtFIFJFUSBFWFBJUkVEIFRPIFwiK2UpO3ZhciB0PXRoaXMudEcuZ2V0KGUpO3RoaXMudEcuZGVsZXRlKGUpLHQuZGVmZXIucmVqZWN0KFwiRVhQSVJFRFwiKX19LGUucHJvdG90eXBlLklHPWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJIQU5EU0hBS0UgUkVTUCBSRUNFSVZFRCBGUk9NIFwiK3Qub3RoZXJHdWlkKTt2YXIgcj10Lm90aGVyR3VpZCxuPXRoaXMudEcuZ2V0KHIpO2kuRnJhbWV3b3JrLmNsZWFyVGltZW91dChuLm1HKSx0aGlzLnRHLmRlbGV0ZShyKSxuLmRlZmVyLnJlc29sdmUodCl9Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkhBTkRTSEFLRSBSRVNQT05TRSBSRUNFSVZFRCBGQUlMRURcIix0aGlzLmxvZ2dlcklkLGUpfX0sZS5wcm90b3R5cGUuU0c9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RyeXt2YXIgaT1uZXcgby5iYyhvLlRjLlcsbnVsbCxlLmlzTGVhZGVyKTtpZihpLmd1aWQ9ZS51dWlkLGkucmFua1ZhbHVlPWUudWRwU2NvcmUsZS5zdHJlYW1JZD09PXRoaXMueUQuZ2V0Q29udGV4dElkKCkpe3ZhciBuPXQuUGcud2codGhpcy5zRy5zd2FybUlkKTt0aGlzLmlHLnNldChlLnV1aWQsZS51dWlkKSx0aGlzLlJHKG4sXCJPS1wiKSx0aGlzLmFHKGksdCkudGhlbihmdW5jdGlvbigpe30pLmZhaWwoZnVuY3Rpb24oZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkxFQURFUiBFTEVDVElPTiBGQUlMRURcIixyLmxvZ2dlcklkLGUpfSl9fWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJIQU5EU0hBS0UgUkVRVUVTVCBGQUlMRURcIix0aGlzLmxvZ2dlcklkLGUpfX0sZS5wcm90b3R5cGUuUkc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgbi5SZi5GYS5KZy5VRFBIYW5kc2hha2VSZXNwb25zZTtyLmFjY2VwdD10LGUuTGcobi5SZi5FZy5VRFBIYW5kc2hha2VSZXNwb25zZSxyKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU0VORCBIQU5EU0hBS0UgUkVTUE9OU0UgVE8gXCIrZS5vdGhlckd1aWQpfSxlLnByb3RvdHlwZS5sRz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5kZWZlcigpO2lmKHRoaXMud0coKSl7dmFyIGk9ITE7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiSSBIQVZFIFRIRSBISUdIRVNUIFNDT1JFXCIpLGUuY0cmJiF0aGlzLmVHLmhhcyhlLnV1aWQpJiYoaT0hMCx0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJTRU5EIFNXSVRDSCBSRVFVRVNUIFRPIFwiK2UudXVpZCksdGhpcy5iRyhlKS50aGVuKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9KS5mYWlsKGZ1bmN0aW9uKGUpezM9PWUuQ0c/KHQubG9nZ2VyLmRlYnVnKHQubG9nZ2VySWQrXCIgU1dJVENIIFJFUVVFU1QgV0FTIENBTkNFTEVELlwiKSxyLnJlc29sdmUoKSk6KGUuQ0c9MikmJnIucmVqZWN0KGUpfSkpLHRoaXMueUcuY0d8fG51bGw9PXRoaXMuX0d8fHRoaXMuX0cudXVpZD09ZS51dWlkfHx0aGlzLmVHLmhhcyh0aGlzLl9HLnV1aWQpfHwodGhpcy5sb2dnZXIuaW5mbyhcIlNFTkQgU1dJVENIIFJFUVVFU1QgVE8gVEhFIEFMUkVBRFkgS05PV04gTEVBREVSXCIpLGk9ITAsdGhpcy5iRyh0aGlzLl9HKS50aGVuKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKCl9KS5mYWlsKGZ1bmN0aW9uKGUpezM9PWUuQ0c/KHQubG9nZ2VyLmRlYnVnKHQubG9nZ2VySWQrXCIgU1dJVENIIFJFUVVFU1QgV0FTIENBTkNFTEVELlwiKSxyLnJlc29sdmUoKSk6KGUuQ0c9MikmJnIucmVqZWN0KGUpfSkpLG51bGwhPXRoaXMuX0d8fGUuY0d8fHRoaXMueUcuY0d8fDAhPXRoaXMuZUcubGVuZ3RofHwodGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQkVDT01FIExFQURFUlwiKSx0aGlzLlBHKCkpLGl8fHIucmVzb2x2ZSgpfWVsc2UgdGhpcy5BRyhlKT8odGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiUEVFUiBcIitlLnV1aWQrXCIgSEFTIFRIRSBISUdIRVNUIFNDT1JFXCIpLHRoaXMuT0coKSx0aGlzLnlHLmNHJiZlLmNHJiZ0aGlzLnN0ZXBEb3duKCksdGhpcy5ORyhlKSxyLnJlc29sdmUoKSk6ci5yZXNvbHZlKCk7cmV0dXJuIHIuU3N9LGUucHJvdG90eXBlLk5HPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJVUERBVEUgVEhFIExFQURFUlNISVBcIiksbnVsbCE9dGhpcy5fRyYmdGhpcy4kcS5oYXModGhpcy5fRy51dWlkKSYmKHRoaXMuJHEuZ2V0KHRoaXMuX0cudXVpZCkuY0c9ITEpLHRoaXMuJHEuaGFzKGUudXVpZCk/KHRoaXMuJHEuZ2V0KGUudXVpZCkudWRwU2NvcmU9ZS51ZHBTY29yZSx0aGlzLl9HPWUsdGhpcy4kcS5nZXQoZS51dWlkKS5jRz0hMCk6KHRoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtcIlNFVCBBIExFQURFUiBUSEFUIElTIE5PVCBBIExBTiBNRU1CRVIgTElTVC4gU0hPVUxEIE5FVkVSIEhBUFBFTlwiKSx0aGlzLiRxLnNldChlLnV1aWQsZSksdGhpcy5fRz1lKSx0aGlzLnlELkRHKGUpLHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIk5FVyBLTk9XTiBMRUFERVIgXCIrdGhpcy55RC5SaygpLnV1aWQpfWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoZSx0aGlzLmxvZ2dlcklkKX19LGUucHJvdG90eXBlLnN0ZXBEb3duPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiU1RFUCBET1dOXCIpLHRoaXMueUcuY0c9ITEsdGhpcy55RC5rRyghMSkscy5oaC5mYS5pYSYmKHRoaXMubUQuTEcoKSx0aGlzLm1ELk1HKCExKSl9LGUucHJvdG90eXBlLk9HPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZUcua2V5cygpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF0scz10aGlzLmVHLmdldChuKTt0aGlzLmVHLmRlbGV0ZShuKSxpLkZyYW1ld29yay5jbGVhclRpbWVvdXQocy5tRykscy5kZWZlci5yZWplY3Qoe0NHOjMsbWVzc2FnZTpcIkNBTkNFTEVEIFBFTkRJTkcgUkVTUE9OU0VTXCJ9KX19LGUucHJvdG90eXBlLkFHPWZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ9PXRoaXMubkdbMF0udXVpZH0sZS5wcm90b3R5cGUud0c9ZnVuY3Rpb24oKXtyZXR1cm4gdS5oRy5KRSh0aGlzLnlHLHRoaXMubkdbMF0pPDB9LGUucHJvdG90eXBlLnVHPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGModGhpcy4kcS52YWx1ZXMoKSksdD1lLkZjKHUuaEcuSkUpO2UucHVzaCh0aGlzLnlHKSx0aGlzLnlELkZHKHQpO3ZhciByPW5ldyBjKHRoaXMuJHEudmFsdWVzKCkpO3RoaXMubkc9ci5GYyh1LmhHLkpFKX0sZS5wcm90b3R5cGUuVUc9ZnVuY3Rpb24oZSl7dGhpcy5CRyhlKX0sZS5wcm90b3R5cGUuQkc9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiRVZBTFVBVEUgVEhFIFNXSVRDSCBSRVFVRVNUIEZST00gXCIrZS51dWlkKTt2YXIgdD12b2lkIDA7dGhpcy4kcS5oYXMoZS51dWlkKT90PXRoaXMuJHEuZ2V0KGUudXVpZCk6dGhpcy5sb2dnZXIud2FybihcIkkgUkVDRUlWRUQgQSBTV0lUQ0ggUkVRVUVTVCBGUk9NIEFOIFVOS05PV04gTUVNQkVSLiBUSElTIFNIT1VMRCBORVZFUiBIQVBQRU5cIiksdCYmKHRoaXMueUcuY0c/dGhpcy53RygpP3RoaXMuSEcodCwhMSk6KHRoaXMuc3RlcERvd24oKSx0aGlzLk9HKCksdGhpcy5ORyh0KSx0aGlzLkhHKHQsITApKTp0aGlzLkFHKHQpPyh0aGlzLk5HKHQpLHRoaXMuSEcodCwhMCkpOnRoaXMuSEcodCwhMSkpfSxlLnByb3RvdHlwZS5IRz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy54RyhlLnBHLHQpLnRoZW4oZnVuY3Rpb24oKXt9KS5mYWlsKGZ1bmN0aW9uKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTRU5EIFNXSVRDSCBSRVNQT05TRSBFUlJPUlwiLHIubG9nZ2VySWQsZSl9KS5kb25lKCl9LGUucHJvdG90eXBlLnhHPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YS5kZWZlcigpLGk9bmV3IG4uUmYuRmEuSmcuVURQU3dpdGNoTGVhZGVyc2hpcEFjaztyZXR1cm4gaS5vaz10LGUuUGcud2codGhpcy5zRy5zd2FybUlkKS5MZyhuLlJmLkVnLmZnLGkpLHIuU3N9LGUucHJvdG90eXBlLmJHPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCk7cmV0dXJuIHRoaXMucUcoZS5wRykudGhlbihmdW5jdGlvbihpKXt0LkdHKGksZSksci5yZXNvbHZlKCl9KS5mYWlsKGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSkuZG9uZSgpLHIuU3N9LGUucHJvdG90eXBlLkdHPWZ1bmN0aW9uKGUsdCl7dHJ5e2U/KHRoaXMuJHEuZ2V0KHQudXVpZCkuY0c9ITEsdGhpcy5fRz10aGlzLnlHLHRoaXMuUEcoKSk6KHRoaXMuT0coKSx0aGlzLiRxLmdldCh0LnV1aWQpLmNHPSEwLHRoaXMuc3RlcERvd24oKSx0aGlzLk5HKHQpKX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiSEFORExFIExFQURFUlNISVAgU1dJVENIIFJFU1BPTlNFIEVSUk9SXCIsdGhpcy5sb2dnZXJJZCxlKX19LGUucHJvdG90eXBlLlZHPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5lRy5oYXModCkpe3ZhciByPXRoaXMuZUcuZ2V0KHQpO2kuRnJhbWV3b3JrLmNsZWFyVGltZW91dChyLm1HKSx0aGlzLmVHLmRlbGV0ZSh0KSxyLmRlZmVyLnJlc29sdmUoZS5vayl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrXCIgU1dJVENIIExFQURFUlNISVAgUkVTUE9OU0UgUkVDRUlWRUQgRlJPTSBVTktOT1dOIFBFRVIgXCIrdCl9LGUucHJvdG90eXBlLnFHPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCksbz1uZXcgbi5SZi5GYS5KZy5VRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdDtvLnV1aWQ9dGhpcy55Ry51dWlkLG8udWRwU2NvcmU9dGhpcy55Ry51ZHBTY29yZSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU1dJVENIIExFQURFUlNISVAgUkVRVUVTVCBUTyBcIitlLm90aGVyR3VpZCk7dmFyIGg9aS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QuakcoZS5vdGhlckd1aWQpfSxzLmhoLlVEUEJyb2FkY2FzdC5xYSk7dGhpcy5lRy5zZXQoZS5vdGhlckd1aWQse21HOmgsZGVmZXI6cn0pO3ZhciBjPWUuUGcud2codGhpcy5zRy5zd2FybUlkKTtyZXR1cm4gaS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2MuTGcobi5SZi5FZy5VRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdCxvKX0sMSksci5Tc30sZS5wcm90b3R5cGUuakc9ZnVuY3Rpb24oZSl7aWYodGhpcy5lRy5oYXMoZSkpe3RoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIiBTV0lUQ0ggTEVBREVSU0hJUCBFWFBJUkVEIFRPIFwiK2UpO3ZhciB0PXRoaXMuZUcuZ2V0KGUpO3RoaXMuZUcuZGVsZXRlKGUpLHQuZGVmZXIucmVqZWN0KHtDRzoyLG1lc3NhZ2U6XCJFWFBJUkVEXCJ9KX19LGUucHJvdG90eXBlLlBHPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQkVDT01JTkcgTEFOIExFQURFUlwiKSxudWxsIT10aGlzLl9HJiZ0aGlzLiRxLmhhcyh0aGlzLl9HLnV1aWQpJiYodGhpcy4kcS5nZXQodGhpcy5fRy51dWlkKS5jRz0hMSksdGhpcy55Ry5jRz0hMCx0aGlzLl9HPXRoaXMueUcsdGhpcy55RC5rRyghMCksdGhpcy55RC5ERyh0aGlzLnlHKSxzLmhoLmZhLmlhJiYodGhpcy5tRC5MRygpLHRoaXMubUQuTUcoITApKX0sZS5wcm90b3R5cGUuVWQ9ZnVuY3Rpb24oZSl7dGhpcy55Rz1uZXcgdS5oRyh0aGlzLnlELmdldElkKCksdGhpcy55RC5RRygpLFwiXCIsITEsdGhpcy55RC5nZXRDb250ZXh0SWQoKSksdGhpcy5acT0hMCx0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCIgVURQIExFQURFUiBFTEVDVElPTiBTVEFSVEVEXCIpfSxlLnByb3RvdHlwZS5LRz1mdW5jdGlvbihlKXt0aGlzLiRxLmRlbGV0ZShlKSx0aGlzLnVHKCksMD09dGhpcy4kcS5sZW5ndGg/KHRoaXMueUcuY0c9ITEsdGhpcy5fRz1udWxsLHRoaXMueUQua0coITEpLHRoaXMueUQuWUcoITEpLHRoaXMubUQuTEcoKSx0aGlzLm1ELk1HKCExKSk6dGhpcy53RygpP3RoaXMuUEcoKTp0aGlzLm5HLmxlbmd0aD4wJiZ0aGlzLk5HKHRoaXMubkdbMF0pfSxlfSgpO3QuV0c9cDt2YXIgZDshZnVuY3Rpb24oZSl7ZVtlLnpHPTBdPVwiRkFJTFVSRVwiLGVbZS5FRz0xXT1cIkFMUkVBRFlfUEVORElOR1wifShkPXQuSkd8fCh0LkpHPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHM7LyoqXG4gKiBAbGljZW5zZSBMb25nLmpzIChjKSAyMDEzIERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+XG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL0xvbmcuanMgZm9yIGRldGFpbHNcbiAqL1xuIWZ1bmN0aW9uKHIsbyl7bj1bXSxpPW8sdm9pZCAwIT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KHQsbik6aSkmJihlLmk9cyl9KDAsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dCx0aGlzLkZQPSEhcn1lLlhHLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9faXNMb25nX19cIix7dmFsdWU6ITAscDohMSxsOiExfSksZS5aRz1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlLlhHKX07dmFyIHQ9e30scj17fTtlLk1FPWZ1bmN0aW9uKGksbil7dmFyIHMsbztyZXR1cm4gbj8wPD0oaT4+Pj0wKSYmaTwyNTYmJihvPXJbaV0pP286KHM9bmV3IGUoaSwoMHxpKTwwPy0xOjAsITApLDA8PWkmJmk8MjU2JiYocltpXT1zKSxzKTotMTI4PD0oaXw9MCkmJmk8MTI4JiYobz10W2ldKT9vOihzPW5ldyBlKGksaTwwPy0xOjAsITEpLC0xMjg8PWkmJmk8MTI4JiYodFtpXT1zKSxzKX0sZS5ERT1mdW5jdGlvbih0LHIpe3JldHVybiByPSEhcixpc05hTih0KXx8IWlzRmluaXRlKHQpP2UuWkVSTzohciYmdDw9LXM/ZS5NSU5fVkFMVUU6IXImJnQrMT49cz9lLk1BWF9WQUxVRTpyJiZ0Pj1uP2UuJEc6dDwwP2UuREUoLXQscikucUUoKTpuZXcgZSh0JWl8MCx0L2l8MCxyKX0sZS5xST1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIG5ldyBlKHQscixpKX0sZS5rRT1mdW5jdGlvbih0LHIsaSl7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKFwibnVtYmVyIGZvcm1hdCBlcnJvcjogZW1wdHkgc3RyaW5nXCIpO2lmKFwiTmFOXCI9PT10fHxcIkluZmluaXR5XCI9PT10fHxcIitJbmZpbml0eVwiPT09dHx8XCItSW5maW5pdHlcIj09PXQpcmV0dXJuIGUuWkVSTztpZihcIm51bWJlclwiPT10eXBlb2YgciYmKGk9cixyPSExKSwoaT1pfHwxMCk8Mnx8MzY8aSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIraSk7dmFyIG47aWYoKG49dC5pbmRleE9mKFwiLVwiKSk+MCl0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgXCItXCIgY2hhcmFjdGVyOiAnK3QpO2lmKDA9PT1uKXJldHVybiBlLmtFKHQuc3Vic3RyaW5nKDEpLHIsaSkucUUoKTtmb3IodmFyIHM9ZS5ERShNYXRoLnBvdyhpLDgpKSxvPWUuWkVSTyxhPTA7YTx0Lmxlbmd0aDthKz04KXt2YXIgaD1NYXRoLm1pbig4LHQubGVuZ3RoLWEpLGM9cGFyc2VJbnQodC5zdWJzdHJpbmcoYSxhK2gpLGkpO2lmKGg8OCl7dmFyIHU9ZS5ERShNYXRoLnBvdyhpLGgpKTtvPW8ubXVsdGlwbHkodSkuYWRkKGUuREUoYykpfWVsc2Ugbz1vLm11bHRpcGx5KHMpLG89by5hZGQoZS5ERShjKSl9cmV0dXJuIG8uRlA9cixvfSxlLmVWPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZT90OlwibnVtYmVyXCI9PXR5cGVvZiB0P2UuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5rRSh0KTpuZXcgZSh0Lmxvdyx0LmhpZ2gsdC5GUCl9O3ZhciBpPTQyOTQ5NjcyOTYsbj1pKmkscz1uLzIsbz1lLk1FKDE8PDI0KTtyZXR1cm4gZS5aRVJPPWUuTUUoMCksZS50Vj1lLk1FKDAsITApLGUuT05FPWUuTUUoMSksZS5yVj1lLk1FKDEsITApLGUuaVY9ZS5NRSgtMSksZS5NQVhfVkFMVUU9ZS5xSSgtMSwyMTQ3NDgzNjQ3LCExKSxlLiRHPWUucUkoLTEsLTEsITApLGUuTUlOX1ZBTFVFPWUucUkoMCwtMjE0NzQ4MzY0OCwhMSksZS5wcm90b3R5cGUua1A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LGUucHJvdG90eXBlLm5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlA/KHRoaXMuaGlnaD4+PjApKmkrKHRoaXMubG93Pj4+MCk6dGhpcy5oaWdoKmkrKHRoaXMubG93Pj4+MCl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCh0PXR8fDEwKTwyfHwzNjx0KXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK3QpO2lmKHRoaXMuc1YoKSlyZXR1cm5cIjBcIjt2YXIgcjtpZih0aGlzLm9WKCkpe2lmKHRoaXMuY3MoZS5NSU5fVkFMVUUpKXt2YXIgaT1lLkRFKHQpLG49dGhpcy5hVihpKTtyZXR1cm4gcj1uLm11bHRpcGx5KGkpLmhWKHRoaXMpLG4udG9TdHJpbmcodCkrci5rUCgpLnRvU3RyaW5nKHQpfXJldHVyblwiLVwiK3RoaXMucUUoKS50b1N0cmluZyh0KX12YXIgcz1lLkRFKE1hdGgucG93KHQsNiksdGhpcy5GUCk7cj10aGlzO2Zvcih2YXIgbz1cIlwiOzspe3ZhciBhPXIuYVYocyksaD1yLmhWKGEubXVsdGlwbHkocykpLmtQKCk+Pj4wLGM9aC50b1N0cmluZyh0KTtpZihyPWEsci5zVigpKXJldHVybiBjK287Zm9yKDtjLmxlbmd0aDw2OyljPVwiMFwiK2M7bz1cIlwiK2Mrb319LGUucHJvdG90eXBlLmNWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaH0sZS5wcm90b3R5cGUudVY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0sZS5wcm90b3R5cGUubFY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LGUucHJvdG90eXBlLnBWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0sZS5wcm90b3R5cGUuZFY9ZnVuY3Rpb24oKXtpZih0aGlzLm9WKCkpcmV0dXJuIHRoaXMuY3MoZS5NSU5fVkFMVUUpPzY0OnRoaXMucUUoKS5kVigpO2Zvcih2YXIgdD0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LHI9MzE7cj4wJiYwPT0odCYxPDxyKTtyLS0pO3JldHVybiAwIT10aGlzLmhpZ2g/ciszMzpyKzF9LGUucHJvdG90eXBlLnNWPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30sZS5wcm90b3R5cGUub1Y9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5GUCYmdGhpcy5oaWdoPDB9LGUucHJvdG90eXBlLmZWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlB8fHRoaXMuaGlnaD49MH0sZS5wcm90b3R5cGUuZ1Y9ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5sb3cpfSxlLnByb3RvdHlwZS5mdj1mdW5jdGlvbigpe3JldHVybiAwPT0oMSZ0aGlzLmxvdyl9LGUucHJvdG90eXBlLmNzPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSwodGhpcy5GUD09PXQuRlB8fHRoaXMuaGlnaD4+PjMxIT0xfHx0LmhpZ2g+Pj4zMSE9MSkmJih0aGlzLmhpZ2g9PT10LmhpZ2gmJnRoaXMubG93PT09dC5sb3cpfSxlLkVWPWUucHJvdG90eXBlLmNzLGUucHJvdG90eXBlLnZWPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmNzKGUpfSxlLnlWPWUucHJvdG90eXBlLnZWLGUucHJvdG90eXBlLlRWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPDB9LGUucHJvdG90eXBlLm1WPWUucHJvdG90eXBlLlRWLGUucHJvdG90eXBlLlNWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPD0wfSxlLnByb3RvdHlwZS5SVj1lLnByb3RvdHlwZS5TVixlLnByb3RvdHlwZS53Vj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5PYyhlKT4wfSxlLnByb3RvdHlwZS5iVj1lLnByb3RvdHlwZS53VixlLnByb3RvdHlwZS5DVj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5PYyhlKT49MH0sZS5wcm90b3R5cGUuX1Y9ZS5wcm90b3R5cGUuQ1YsZS5wcm90b3R5cGUuT2M9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5jcyh0KSlyZXR1cm4gMDt2YXIgcj10aGlzLm9WKCksaT10Lm9WKCk7cmV0dXJuIHImJiFpPy0xOiFyJiZpPzE6dGhpcy5GUD90LmhpZ2g+Pj4wPnRoaXMuaGlnaD4+PjB8fHQuaGlnaD09PXRoaXMuaGlnaCYmdC5sb3c+Pj4wPnRoaXMubG93Pj4+MD8tMToxOnRoaXMuaFYodCkub1YoKT8tMToxfSxlLnByb3RvdHlwZS5xRT1mdW5jdGlvbigpe3JldHVybiF0aGlzLkZQJiZ0aGlzLmNzKGUuTUlOX1ZBTFVFKT9lLk1JTl9WQUxVRTp0aGlzLm5vdCgpLmFkZChlLk9ORSl9LGUucHJvdG90eXBlLlBWPWUucHJvdG90eXBlLnFFLGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtlLlpHKHQpfHwodD1lLmVWKHQpKTt2YXIgcj10aGlzLmhpZ2g+Pj4xNixpPTY1NTM1JnRoaXMuaGlnaCxuPXRoaXMubG93Pj4+MTYscz02NTUzNSZ0aGlzLmxvdyxvPXQuaGlnaD4+PjE2LGE9NjU1MzUmdC5oaWdoLGg9dC5sb3c+Pj4xNixjPTY1NTM1JnQubG93LHU9MCxsPTAscD0wLGQ9MDtyZXR1cm4gZCs9cytjLHArPWQ+Pj4xNixkJj02NTUzNSxwKz1uK2gsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPWkrYSx1Kz1sPj4+MTYsbCY9NjU1MzUsdSs9citvLHUmPTY1NTM1LGUucUkocDw8MTZ8ZCx1PDwxNnxsLHRoaXMuRlApfSxlLnByb3RvdHlwZS5oVj1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5hZGQodC5xRSgpKX0sZS5wcm90b3R5cGUuc3ViPWUucHJvdG90eXBlLmhWLGUucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc1YoKSlyZXR1cm4gZS5aRVJPO2lmKGUuWkcodCl8fCh0PWUuZVYodCkpLHQuc1YoKSlyZXR1cm4gZS5aRVJPO2lmKHRoaXMuY3MoZS5NSU5fVkFMVUUpKXJldHVybiB0LmdWKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHQuY3MoZS5NSU5fVkFMVUUpKXJldHVybiB0aGlzLmdWKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHRoaXMub1YoKSlyZXR1cm4gdC5vVigpP3RoaXMucUUoKS5tdWx0aXBseSh0LnFFKCkpOnRoaXMucUUoKS5tdWx0aXBseSh0KS5xRSgpO2lmKHQub1YoKSlyZXR1cm4gdGhpcy5tdWx0aXBseSh0LnFFKCkpLnFFKCk7aWYodGhpcy5UVihvKSYmdC5UVihvKSlyZXR1cm4gZS5ERSh0aGlzLm5WKCkqdC5uVigpLHRoaXMuRlApO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LGE9dC5oaWdoPj4+MTYsaD02NTUzNSZ0LmhpZ2gsYz10Lmxvdz4+PjE2LHU9NjU1MzUmdC5sb3csbD0wLHA9MCxkPTAsZj0wO3JldHVybiBmKz1zKnUsZCs9Zj4+PjE2LGYmPTY1NTM1LGQrPW4qdSxwKz1kPj4+MTYsZCY9NjU1MzUsZCs9cypjLHArPWQ+Pj4xNixkJj02NTUzNSxwKz1pKnUsbCs9cD4+PjE2LHAmPTY1NTM1LHArPW4qYyxsKz1wPj4+MTYscCY9NjU1MzUscCs9cypoLGwrPXA+Pj4xNixwJj02NTUzNSxsKz1yKnUraSpjK24qaCtzKmEsbCY9NjU1MzUsZS5xSShkPDwxNnxmLGw8PDE2fHAsdGhpcy5GUCl9LGUucHJvdG90eXBlLkFWPWUucHJvdG90eXBlLm11bHRpcGx5LGUucHJvdG90eXBlLmFWPWZ1bmN0aW9uKHQpe2lmKGUuWkcodCl8fCh0PWUuZVYodCkpLHQuc1YoKSl0aHJvdyBuZXcgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKHRoaXMuc1YoKSlyZXR1cm4gdGhpcy5GUD9lLnRWOmUuWkVSTzt2YXIgcixpLG47aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpe2lmKHQuY3MoZS5PTkUpfHx0LmNzKGUuaVYpKXJldHVybiBlLk1JTl9WQUxVRTtpZih0LmNzKGUuTUlOX1ZBTFVFKSlyZXR1cm4gZS5PTkU7cmV0dXJuIHI9dGhpcy5IUCgxKS5hVih0KS5zaGlmdExlZnQoMSksci5jcyhlLlpFUk8pP3Qub1YoKT9lLk9ORTplLmlWOihpPXRoaXMuaFYodC5tdWx0aXBseShyKSksbj1yLmFkZChpLmFWKHQpKSl9aWYodC5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuRlA/ZS50VjplLlpFUk87aWYodGhpcy5vVigpKXJldHVybiB0Lm9WKCk/dGhpcy5xRSgpLmFWKHQucUUoKSk6dGhpcy5xRSgpLmFWKHQpLnFFKCk7aWYodC5vVigpKXJldHVybiB0aGlzLmFWKHQucUUoKSkucUUoKTtmb3Iobj1lLlpFUk8saT10aGlzO2kuQ1YodCk7KXtyPU1hdGgubWF4KDEsTWF0aC5mbG9vcihpLm5WKCkvdC5uVigpKSk7Zm9yKHZhciBzPU1hdGguY2VpbChNYXRoLmxvZyhyKS9NYXRoLkxOMiksbz1zPD00OD8xOk1hdGgucG93KDIscy00OCksYT1lLkRFKHIpLGg9YS5tdWx0aXBseSh0KTtoLm9WKCl8fGgud1YoaSk7KXItPW8sYT1lLkRFKHIsdGhpcy5GUCksaD1hLm11bHRpcGx5KHQpO2Euc1YoKSYmKGE9ZS5PTkUpLG49bi5hZGQoYSksaT1pLmhWKGgpfXJldHVybiBufSxlLnByb3RvdHlwZS5PVj1lLnByb3RvdHlwZS5hVixlLnByb3RvdHlwZS5OVj1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5oVih0aGlzLmFWKHQpLm11bHRpcGx5KHQpKX0sZS5wcm90b3R5cGUuZXY9ZS5wcm90b3R5cGUuTlYsZS5wcm90b3R5cGUubm90PWZ1bmN0aW9uKCl7cmV0dXJuIGUucUkofnRoaXMubG93LH50aGlzLmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnFQPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93JnQubG93LHRoaXMuaGlnaCZ0LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93fHQubG93LHRoaXMuaGlnaHx0LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnBUPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93XnQubG93LHRoaXMuaGlnaF50LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9lLnFJKHRoaXMubG93PDx0LHRoaXMuaGlnaDw8dHx0aGlzLmxvdz4+PjMyLXQsdGhpcy5GUCk6ZS5xSSgwLHRoaXMubG93PDx0LTMyLHRoaXMuRlApfSxlLnByb3RvdHlwZS5EVj1lLnByb3RvdHlwZS5zaGlmdExlZnQsZS5wcm90b3R5cGUuSFA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCkmJih0PXQua1AoKSksMD09KHQmPTYzKT90aGlzOnQ8MzI/ZS5xSSh0aGlzLmxvdz4+PnR8dGhpcy5oaWdoPDwzMi10LHRoaXMuaGlnaD4+dCx0aGlzLkZQKTplLnFJKHRoaXMuaGlnaD4+dC0zMix0aGlzLmhpZ2g+PTA/MDotMSx0aGlzLkZQKX0sZS5wcm90b3R5cGUua1Y9ZS5wcm90b3R5cGUuSFAsZS5wcm90b3R5cGUuTFA9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT09KHQmPTYzKSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmhpZ2g7aWYodDwzMil7dmFyIGk9dGhpcy5sb3c7cmV0dXJuIGUucUkoaT4+PnR8cjw8MzItdCxyPj4+dCx0aGlzLkZQKX1yZXR1cm4gMzI9PT10P2UucUkociwwLHRoaXMuRlApOmUucUkocj4+PnQtMzIsMCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuTFY9ZS5wcm90b3R5cGUuTFAsZS5wcm90b3R5cGUuVVA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD9uZXcgZSh0aGlzLmxvdyx0aGlzLmhpZ2gsITEpOnRoaXN9LGUucHJvdG90eXBlLkJQPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlA/dGhpczpuZXcgZSh0aGlzLmxvdyx0aGlzLmhpZ2gsITApfSxlfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHM7LyoqXG4gKiBAbGljZW5zZSBMb25nLmpzIChjKSAyMDEzIERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+XG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL0xvbmcuanMgZm9yIGRldGFpbHNcbiAqL1xuIWZ1bmN0aW9uKHIsbyl7bj1bXSxpPW8sdm9pZCAwIT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KHQsbik6aSkmJihlLmk9cyl9KDAsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dCx0aGlzLkZQPSEhcn1lLlhHLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9faXNMb25nX19cIix7dmFsdWU6ITAscDohMSxsOiExfSksZS5aRz1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlLlhHKX07dmFyIHQ9e30scj17fTtlLk1FPWZ1bmN0aW9uKGksbil7dmFyIHMsbztyZXR1cm4gbj8wPD0oaT4+Pj0wKSYmaTwyNTYmJihvPXJbaV0pP286KHM9bmV3IGUoaSwoMHxpKTwwPy0xOjAsITApLDA8PWkmJmk8MjU2JiYocltpXT1zKSxzKTotMTI4PD0oaXw9MCkmJmk8MTI4JiYobz10W2ldKT9vOihzPW5ldyBlKGksaTwwPy0xOjAsITEpLC0xMjg8PWkmJmk8MTI4JiYodFtpXT1zKSxzKX0sZS5ERT1mdW5jdGlvbih0LHIpe3JldHVybiByPSEhcixpc05hTih0KXx8IWlzRmluaXRlKHQpP2UuWkVSTzohciYmdDw9LXM/ZS5NSU5fVkFMVUU6IXImJnQrMT49cz9lLk1BWF9WQUxVRTpyJiZ0Pj1uP2UuJEc6dDwwP2UuREUoLXQscikucUUoKTpuZXcgZSh0JWl8MCx0L2l8MCxyKX0sZS5xST1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIG5ldyBlKHQscixpKX0sZS5rRT1mdW5jdGlvbih0LHIsaSl7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKFwibnVtYmVyIGZvcm1hdCBlcnJvcjogZW1wdHkgc3RyaW5nXCIpO2lmKFwiTmFOXCI9PT10fHxcIkluZmluaXR5XCI9PT10fHxcIitJbmZpbml0eVwiPT09dHx8XCItSW5maW5pdHlcIj09PXQpcmV0dXJuIGUuWkVSTztpZihcIm51bWJlclwiPT10eXBlb2YgciYmKGk9cixyPSExKSwoaT1pfHwxMCk8Mnx8MzY8aSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIraSk7dmFyIG47aWYoKG49dC5pbmRleE9mKFwiLVwiKSk+MCl0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgXCItXCIgY2hhcmFjdGVyOiAnK3QpO2lmKDA9PT1uKXJldHVybiBlLmtFKHQuc3Vic3RyaW5nKDEpLHIsaSkucUUoKTtmb3IodmFyIHM9ZS5ERShNYXRoLnBvdyhpLDgpKSxvPWUuWkVSTyxhPTA7YTx0Lmxlbmd0aDthKz04KXt2YXIgaD1NYXRoLm1pbig4LHQubGVuZ3RoLWEpLGM9cGFyc2VJbnQodC5zdWJzdHJpbmcoYSxhK2gpLGkpO2lmKGg8OCl7dmFyIHU9ZS5ERShNYXRoLnBvdyhpLGgpKTtvPW8ubXVsdGlwbHkodSkuYWRkKGUuREUoYykpfWVsc2Ugbz1vLm11bHRpcGx5KHMpLG89by5hZGQoZS5ERShjKSl9cmV0dXJuIG8uRlA9cixvfSxlLmVWPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZT90OlwibnVtYmVyXCI9PXR5cGVvZiB0P2UuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5rRSh0KTpuZXcgZSh0Lmxvdyx0LmhpZ2gsdC5GUCl9O3ZhciBpPTQyOTQ5NjcyOTYsbj1pKmkscz1uLzIsbz1lLk1FKDE8PDI0KTtyZXR1cm4gZS5aRVJPPWUuTUUoMCksZS50Vj1lLk1FKDAsITApLGUuT05FPWUuTUUoMSksZS5yVj1lLk1FKDEsITApLGUuaVY9ZS5NRSgtMSksZS5NQVhfVkFMVUU9ZS5xSSgtMSwyMTQ3NDgzNjQ3LCExKSxlLiRHPWUucUkoLTEsLTEsITApLGUuTUlOX1ZBTFVFPWUucUkoMCwtMjE0NzQ4MzY0OCwhMSksZS5wcm90b3R5cGUua1A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LGUucHJvdG90eXBlLm5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlA/KHRoaXMuaGlnaD4+PjApKmkrKHRoaXMubG93Pj4+MCk6dGhpcy5oaWdoKmkrKHRoaXMubG93Pj4+MCl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCh0PXR8fDEwKTwyfHwzNjx0KXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK3QpO2lmKHRoaXMuc1YoKSlyZXR1cm5cIjBcIjt2YXIgcjtpZih0aGlzLm9WKCkpe2lmKHRoaXMuY3MoZS5NSU5fVkFMVUUpKXt2YXIgaT1lLkRFKHQpLG49dGhpcy5hVihpKTtyZXR1cm4gcj1uLm11bHRpcGx5KGkpLmhWKHRoaXMpLG4udG9TdHJpbmcodCkrci5rUCgpLnRvU3RyaW5nKHQpfXJldHVyblwiLVwiK3RoaXMucUUoKS50b1N0cmluZyh0KX12YXIgcz1lLkRFKE1hdGgucG93KHQsNiksdGhpcy5GUCk7cj10aGlzO2Zvcih2YXIgbz1cIlwiOzspe3ZhciBhPXIuYVYocyksaD1yLmhWKGEubXVsdGlwbHkocykpLmtQKCk+Pj4wLGM9aC50b1N0cmluZyh0KTtpZihyPWEsci5zVigpKXJldHVybiBjK287Zm9yKDtjLmxlbmd0aDw2OyljPVwiMFwiK2M7bz1cIlwiK2Mrb319LGUucHJvdG90eXBlLmNWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaH0sZS5wcm90b3R5cGUudVY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0sZS5wcm90b3R5cGUubFY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LGUucHJvdG90eXBlLnBWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0sZS5wcm90b3R5cGUuZFY9ZnVuY3Rpb24oKXtpZih0aGlzLm9WKCkpcmV0dXJuIHRoaXMuY3MoZS5NSU5fVkFMVUUpPzY0OnRoaXMucUUoKS5kVigpO2Zvcih2YXIgdD0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LHI9MzE7cj4wJiYwPT0odCYxPDxyKTtyLS0pO3JldHVybiAwIT10aGlzLmhpZ2g/ciszMzpyKzF9LGUucHJvdG90eXBlLnNWPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30sZS5wcm90b3R5cGUub1Y9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5GUCYmdGhpcy5oaWdoPDB9LGUucHJvdG90eXBlLmZWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlB8fHRoaXMuaGlnaD49MH0sZS5wcm90b3R5cGUuZ1Y9ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5sb3cpfSxlLnByb3RvdHlwZS5mdj1mdW5jdGlvbigpe3JldHVybiAwPT0oMSZ0aGlzLmxvdyl9LGUucHJvdG90eXBlLmNzPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSwodGhpcy5GUD09PXQuRlB8fHRoaXMuaGlnaD4+PjMxIT0xfHx0LmhpZ2g+Pj4zMSE9MSkmJih0aGlzLmhpZ2g9PT10LmhpZ2gmJnRoaXMubG93PT09dC5sb3cpfSxlLkVWPWUucHJvdG90eXBlLmNzLGUucHJvdG90eXBlLnZWPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmNzKGUpfSxlLnlWPWUucHJvdG90eXBlLnZWLGUucHJvdG90eXBlLlRWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPDB9LGUucHJvdG90eXBlLm1WPWUucHJvdG90eXBlLlRWLGUucHJvdG90eXBlLlNWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPD0wfSxlLnByb3RvdHlwZS5SVj1lLnByb3RvdHlwZS5TVixlLnByb3RvdHlwZS53Vj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5PYyhlKT4wfSxlLnByb3RvdHlwZS5iVj1lLnByb3RvdHlwZS53VixlLnByb3RvdHlwZS5DVj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5PYyhlKT49MH0sZS5wcm90b3R5cGUuX1Y9ZS5wcm90b3R5cGUuQ1YsZS5wcm90b3R5cGUuT2M9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5jcyh0KSlyZXR1cm4gMDt2YXIgcj10aGlzLm9WKCksaT10Lm9WKCk7cmV0dXJuIHImJiFpPy0xOiFyJiZpPzE6dGhpcy5GUD90LmhpZ2g+Pj4wPnRoaXMuaGlnaD4+PjB8fHQuaGlnaD09PXRoaXMuaGlnaCYmdC5sb3c+Pj4wPnRoaXMubG93Pj4+MD8tMToxOnRoaXMuaFYodCkub1YoKT8tMToxfSxlLnByb3RvdHlwZS5xRT1mdW5jdGlvbigpe3JldHVybiF0aGlzLkZQJiZ0aGlzLmNzKGUuTUlOX1ZBTFVFKT9lLk1JTl9WQUxVRTp0aGlzLm5vdCgpLmFkZChlLk9ORSl9LGUucHJvdG90eXBlLlBWPWUucHJvdG90eXBlLnFFLGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtlLlpHKHQpfHwodD1lLmVWKHQpKTt2YXIgcj10aGlzLmhpZ2g+Pj4xNixpPTY1NTM1JnRoaXMuaGlnaCxuPXRoaXMubG93Pj4+MTYscz02NTUzNSZ0aGlzLmxvdyxvPXQuaGlnaD4+PjE2LGE9NjU1MzUmdC5oaWdoLGg9dC5sb3c+Pj4xNixjPTY1NTM1JnQubG93LHU9MCxsPTAscD0wLGQ9MDtyZXR1cm4gZCs9cytjLHArPWQ+Pj4xNixkJj02NTUzNSxwKz1uK2gsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPWkrYSx1Kz1sPj4+MTYsbCY9NjU1MzUsdSs9citvLHUmPTY1NTM1LGUucUkocDw8MTZ8ZCx1PDwxNnxsLHRoaXMuRlApfSxlLnByb3RvdHlwZS5oVj1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5hZGQodC5xRSgpKX0sZS5wcm90b3R5cGUuc3ViPWUucHJvdG90eXBlLmhWLGUucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc1YoKSlyZXR1cm4gZS5aRVJPO2lmKGUuWkcodCl8fCh0PWUuZVYodCkpLHQuc1YoKSlyZXR1cm4gZS5aRVJPO2lmKHRoaXMuY3MoZS5NSU5fVkFMVUUpKXJldHVybiB0LmdWKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHQuY3MoZS5NSU5fVkFMVUUpKXJldHVybiB0aGlzLmdWKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHRoaXMub1YoKSlyZXR1cm4gdC5vVigpP3RoaXMucUUoKS5tdWx0aXBseSh0LnFFKCkpOnRoaXMucUUoKS5tdWx0aXBseSh0KS5xRSgpO2lmKHQub1YoKSlyZXR1cm4gdGhpcy5tdWx0aXBseSh0LnFFKCkpLnFFKCk7aWYodGhpcy5UVihvKSYmdC5UVihvKSlyZXR1cm4gZS5ERSh0aGlzLm5WKCkqdC5uVigpLHRoaXMuRlApO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LGE9dC5oaWdoPj4+MTYsaD02NTUzNSZ0LmhpZ2gsYz10Lmxvdz4+PjE2LHU9NjU1MzUmdC5sb3csbD0wLHA9MCxkPTAsZj0wO3JldHVybiBmKz1zKnUsZCs9Zj4+PjE2LGYmPTY1NTM1LGQrPW4qdSxwKz1kPj4+MTYsZCY9NjU1MzUsZCs9cypjLHArPWQ+Pj4xNixkJj02NTUzNSxwKz1pKnUsbCs9cD4+PjE2LHAmPTY1NTM1LHArPW4qYyxsKz1wPj4+MTYscCY9NjU1MzUscCs9cypoLGwrPXA+Pj4xNixwJj02NTUzNSxsKz1yKnUraSpjK24qaCtzKmEsbCY9NjU1MzUsZS5xSShkPDwxNnxmLGw8PDE2fHAsdGhpcy5GUCl9LGUucHJvdG90eXBlLkFWPWUucHJvdG90eXBlLm11bHRpcGx5LGUucHJvdG90eXBlLmFWPWZ1bmN0aW9uKHQpe2lmKGUuWkcodCl8fCh0PWUuZVYodCkpLHQuc1YoKSl0aHJvdyBuZXcgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKHRoaXMuc1YoKSlyZXR1cm4gdGhpcy5GUD9lLnRWOmUuWkVSTzt2YXIgcixpLG47aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpe2lmKHQuY3MoZS5PTkUpfHx0LmNzKGUuaVYpKXJldHVybiBlLk1JTl9WQUxVRTtpZih0LmNzKGUuTUlOX1ZBTFVFKSlyZXR1cm4gZS5PTkU7cmV0dXJuIHI9dGhpcy5IUCgxKS5hVih0KS5zaGlmdExlZnQoMSksci5jcyhlLlpFUk8pP3Qub1YoKT9lLk9ORTplLmlWOihpPXRoaXMuaFYodC5tdWx0aXBseShyKSksbj1yLmFkZChpLmFWKHQpKSl9aWYodC5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuRlA/ZS50VjplLlpFUk87aWYodGhpcy5vVigpKXJldHVybiB0Lm9WKCk/dGhpcy5xRSgpLmFWKHQucUUoKSk6dGhpcy5xRSgpLmFWKHQpLnFFKCk7aWYodC5vVigpKXJldHVybiB0aGlzLmFWKHQucUUoKSkucUUoKTtmb3Iobj1lLlpFUk8saT10aGlzO2kuQ1YodCk7KXtyPU1hdGgubWF4KDEsTWF0aC5mbG9vcihpLm5WKCkvdC5uVigpKSk7Zm9yKHZhciBzPU1hdGguY2VpbChNYXRoLmxvZyhyKS9NYXRoLkxOMiksbz1zPD00OD8xOk1hdGgucG93KDIscy00OCksYT1lLkRFKHIpLGg9YS5tdWx0aXBseSh0KTtoLm9WKCl8fGgud1YoaSk7KXItPW8sYT1lLkRFKHIsdGhpcy5GUCksaD1hLm11bHRpcGx5KHQpO2Euc1YoKSYmKGE9ZS5PTkUpLG49bi5hZGQoYSksaT1pLmhWKGgpfXJldHVybiBufSxlLnByb3RvdHlwZS5PVj1lLnByb3RvdHlwZS5hVixlLnByb3RvdHlwZS5OVj1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KXx8KHQ9ZS5lVih0KSksdGhpcy5oVih0aGlzLmFWKHQpLm11bHRpcGx5KHQpKX0sZS5wcm90b3R5cGUuZXY9ZS5wcm90b3R5cGUuTlYsZS5wcm90b3R5cGUubm90PWZ1bmN0aW9uKCl7cmV0dXJuIGUucUkofnRoaXMubG93LH50aGlzLmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnFQPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93JnQubG93LHRoaXMuaGlnaCZ0LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93fHQubG93LHRoaXMuaGlnaHx0LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnBUPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSxlLnFJKHRoaXMubG93XnQubG93LHRoaXMuaGlnaF50LmhpZ2gsdGhpcy5GUCl9LGUucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9lLnFJKHRoaXMubG93PDx0LHRoaXMuaGlnaDw8dHx0aGlzLmxvdz4+PjMyLXQsdGhpcy5GUCk6ZS5xSSgwLHRoaXMubG93PDx0LTMyLHRoaXMuRlApfSxlLnByb3RvdHlwZS5EVj1lLnByb3RvdHlwZS5zaGlmdExlZnQsZS5wcm90b3R5cGUuSFA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCkmJih0PXQua1AoKSksMD09KHQmPTYzKT90aGlzOnQ8MzI/ZS5xSSh0aGlzLmxvdz4+PnR8dGhpcy5oaWdoPDwzMi10LHRoaXMuaGlnaD4+dCx0aGlzLkZQKTplLnFJKHRoaXMuaGlnaD4+dC0zMix0aGlzLmhpZ2g+PTA/MDotMSx0aGlzLkZQKX0sZS5wcm90b3R5cGUua1Y9ZS5wcm90b3R5cGUuSFAsZS5wcm90b3R5cGUuTFA9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT09KHQmPTYzKSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmhpZ2g7aWYodDwzMil7dmFyIGk9dGhpcy5sb3c7cmV0dXJuIGUucUkoaT4+PnR8cjw8MzItdCxyPj4+dCx0aGlzLkZQKX1yZXR1cm4gMzI9PT10P2UucUkociwwLHRoaXMuRlApOmUucUkocj4+PnQtMzIsMCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuTFY9ZS5wcm90b3R5cGUuTFAsZS5wcm90b3R5cGUuVVA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD9uZXcgZSh0aGlzLmxvdyx0aGlzLmhpZ2gsITEpOnRoaXN9LGUucHJvdG90eXBlLkJQPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRlA/dGhpczpuZXcgZSh0aGlzLmxvdyx0aGlzLmhpZ2gsITApfSxlfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LHM9cig0KSxvPXIoMyksYT1yKDApLGg9cigxNjYpLGM9cig1KSx1PXIoMjUpLGw9cigxMCkscD1yKDE2NyksZD1yKDE1KSxmPWhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvLGc9cig2KSxFPXIoMSksdj1yKDIpLHk9Zy5oZS5UaDshZnVuY3Rpb24oZSl7ZVtlLk1WPTFdPVwiQUNDRVBUXCIsZVtlLkZWPTJdPVwiUkVKRUNUXCJ9KGk9dC5VVnx8KHQuVVY9e30pKTt2YXIgVDshZnVuY3Rpb24oZSl7ZVtlLkpxPTBdPVwiQUxMXCIsZVtlLkJWPTFdPVwiSU5cIixlW2UuSFY9Ml09XCJPVVRcIn0oVD10LnhWfHwodC54Vj17fSkpO3ZhciBtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQubG9nZ2VySWQ9XCJbUGFydG5lcnNoaXBdIFwiLHQucVY9bmV3IG8sdC5yRz1uZXcgbyx0LkdWPS0xLHQuVlY9LTEsdC5qVj0tMSx0LmNvbm5lY3RlZD0hMSx0Lk5nPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5GKSx0LlFWPWEuRnJhbWV3b3JrLnJlc29sdmUoZC5xdS5mdSksdC5LVj1hLkZyYW1ld29yay5yZXNvbHZlKGQucXUuZ3UpLHQuWVY9YS5GcmFtZXdvcmsucmVzb2x2ZShkLnF1LkV1KSx0LldWPWEuRnJhbWV3b3JrLnJlc29sdmUoZC5xdS52dSksdH1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCksdGhpcy5zRz10LHRoaXMudGlja2V0PXQucmwudGlja2V0LHRoaXMub0c9dC5vRyx0aGlzLm1EPXQubUQsdGhpcy56Vj10LnpWfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXt0cnl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiUEFSVE5FUlNISVAgU1RBUlRFRCBcIitlLmdldENvbnRleHRJZCgpKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLmNvbnRleHRJZD1lLmdldENvbnRleHRJZCgpLHRoaXMuSlYoYy5oaC5Oby5QbyksdGhpcy5YVihjLmhoLmZhLmFhKSx0aGlzLlpWKGMuaGguSG8ua28pLHRoaXMuYWN0aXZlPSEwfWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbiBwYXJ0bmVyc2hpcCBpbml0aWFsaXphdGlvblwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5CdCxlKX19LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkdWKSxhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuVlYpLGEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5qViksdGhpcy5jb250ZXh0PW51bGwsdGhpcy5jb250ZXh0SWQ9bnVsbCx0aGlzLmFjdGl2ZT0hMSx0aGlzLiRWKCl9LHQucHJvdG90eXBlLlVkPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJQQVJUTkVSU0hJUCBTRVJWRVIgQ09OTkVDVEVEXCIpLHRoaXMuZ2Q9ZSx0aGlzLmNvbm5lY3RlZD0hMCxudWxsPT10aGlzLnlELmdldElkKCkmJnRoaXMueUQuc2V0SWQodGhpcy5nZCl9LHQucHJvdG90eXBlLmVqPWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0ZWQ9ITF9LHQucHJvdG90eXBlLnRqPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLnJqKGUpfHx0aGlzLnFWLmhhcyhlLnBlZXJJbmZvLmd1aWQpfHx0aGlzLnJHLmhhcyhlLnBlZXJJbmZvLmd1aWQpfHxlLnBlZXJJbmZvLmd1aWQ9PXRoaXMuZ2Q/dGhpcy5paihlKTp0aGlzLm5qKGUpLHRoaXMuc2ooZSkmJnRoaXMub2ooZSl9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluIGRpc2NvZXJpbmcgbmV3IGxhbiBwZWVyXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLkh0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUucGVlckluZm8uZ3VpZH0pfX0sdC5wcm90b3R5cGUuaWo9ZnVuY3Rpb24oZSl7aWYodGhpcy5hai5oYXMoZS5wZWVySW5mby5ndWlkKSl7dmFyIHQ9dGhpcy5hai5nZXQoZS5wZWVySW5mby5ndWlkKTt0aGlzLmFqLmRlbGV0ZShlLnBlZXJJbmZvLmd1aWQpLHRoaXMuZ0Iuc2V0KGUucGVlckluZm8uZ3VpZCx0KSx0aGlzLnlELllHKCEwKX19LHQucHJvdG90eXBlLm9qPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZEIuaGFzKGUucGVlckluZm8uZ3VpZCkpe3ZhciB0PXRoaXMuZEIuZ2V0KGUucGVlckluZm8uZ3VpZCk7dGhpcy5kQi5kZWxldGUoZS5wZWVySW5mby5ndWlkKSx0aGlzLmZCLnNldChlLnBlZXJJbmZvLmd1aWQsdCl9fSx0LnByb3RvdHlwZS5KVj1mdW5jdGlvbihlKXt2YXIgdD10aGlzOy0xIT10aGlzLkdWJiZhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuR1YpLHRoaXMuR1Y9YS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmhqKCExKX0sZSl9LHQucHJvdG90eXBlLmhqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmdGhpcy5HViYmKGEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5HViksdGhpcy5KVihjLmhoLk5vLlBvKSk7dHJ5e2lmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiQURESU5HIE5FVyBQRUVSUyBJRiBQT1NTSUJMRSwgTk9XIFwiK3RoaXMuYWoubGVuZ3RoK1wiL1wiK2MuaGguTm8uX28rXCIsXCIrdGhpcy5nQi5sZW5ndGgrXCIvaW5maW5pdHkgT1VUIFJORCBcIit0aGlzLmRCLmxlbmd0aCtcIiBPVVQgTEFOIFwiK3RoaXMuZkIubGVuZ3RoKTt2YXIgcj1bXS5jb25jYXQodGhpcy5xVi5rZXlzKCkpLmNvbmNhdCh0aGlzLnJHLmtleXMoKSksaT10aGlzLm9HLmNqKCEwKSxuPXZvaWQgMDtuPXRoaXMueUQuY2soKXx8dGhpcy55RC5UaygpP3RoaXMuWVYudWoodGhpcy55RCxjLmhoLk5vLl9vLHRoaXMuYWoudmFsdWVzKCkscixpKTp0aGlzLlFWLnVqKGMuaGguTm8uX28sdGhpcy5hai52YWx1ZXMoKSxyLGkpLHRoaXMubGo9bi5waigpLG4uZGooKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QubmooZSl9KX1lbHNlIHRoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtcIk5PVCBSVU5OSU5HIElOIFBBUlRORVIgQ0hPSUNFLCBTUlYgRElTQ09OTkVDVEVEXCIpfWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbiBjaG9vc2luZyBpbiBwYXJ0bmVyc1wiLHRoaXMubG9nZ2VySWQsdi5ocy5jci54dCxlKX19LHQucHJvdG90eXBlLm5qPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnBlZXJJbmZvLmd1aWQsaT1lLnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZyxuPWUucGVlckluZm8ucHVibGljSXBTdHJpbmc7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIklOIFBBUlRORVIgQUREIFBST0NFU1MgXCIrciksdGhpcy5yaihlKXx8dGhpcy5xVi5oYXMocil8fHRoaXMuckcuaGFzKHIpfHx0aGlzLnpWLmZqKHIsaSxuKXx8KHRoaXMuckcuc2V0KHIsRGF0ZS5ub3coKSksdGhpcy5OZy5jb25uZWN0KHIpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG49aS5QZy53Zyh0LnNHLnN3YXJtSWQpO2lmKG51bGw9PW4mJihuPWkuUGcuVGcodC5zRy5zd2FybUlkKSksbil7dC5yRy5nZXQocik7dC5yRy5kZWxldGUociksdC5hY3RpdmUmJnQuZ2oobikudGhlbihmdW5jdGlvbihpKXtpZih0LkVqKG4sZSxpLm1zZyksdC55ai52aighMSwhMSksdC56Vi5UaihyLGUucGVlckluZm8ucHJpdmF0ZUlwU3RyaW5nLGUucGVlckluZm8ucHVibGljSXBTdHJpbmcpLHQubWoobiksdC5sai5sZW5ndGg+MCYmIWUuSWooKSl7dmFyIHM9dC5salswXTt0LlNqKHMuZ3VpZCkscy53ai5SaihULkhWKSx0LmxqLnNwbGljZSgwLDEpfX0pLmZhaWwoZnVuY3Rpb24oZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluIHJlcXVlc3RpbmcgcGFydG5lcnNoaXBcIix0LmxvZ2dlcklkLHYuaHMuY3IuVnQse290aGVyR3VpZDpyfSksdC55ai52aighMSwhMCksdC5iaihyKX0pfX0pLmZhaWwoZnVuY3Rpb24oZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluIGNyZWF0aW5nIG5ldyBwMnAgY29ubmVjdGlvblwiLHQubG9nZ2VySWQsdi5ocy5jci5HdCx7b3RoZXJHdWlkOnJ9KSx0LnlqLnZqKCEwLCEwKSx0LnJHLmRlbGV0ZShyKSx0Lm9HLktHKHIpfSkuZG9uZSgpKX0sdC5wcm90b3R5cGUuQ2o9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RyeXt2YXIgbj1lLmd1aWQscz1udWxsLG89bnVsbDtpZihlLnByaXZhdGVJcFN0cmluZyYmKG89ZS5wcml2YXRlSXBTdHJpbmcpLGUucHVibGljSXBTdHJpbmcmJihzPWUucHVibGljSXBTdHJpbmcpLHRoaXMuX2oobikpdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQUxSRUFEWSBPVVQgUEFSVE5FUiBcIituKTtlbHNle3ZhciB1PWUuY29udGV4dElkLGw9dC5QZy53Zyh0aGlzLnNHLnN3YXJtSWQpO2lmKHRoaXMuY29udGV4dElkIT09dXx8Yy5oaC5Iby5EbyE9PWUucDJwUHJvdG9jb2xWZXJzaW9ufHx0aGlzLnpWLmZqKG4sbyxzKSl0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJQQVJUTkVSU0hJUCBDQU5OT1QgQkUgRVNUQUJMSVNIRUQgV0lUSCBcIituK1wiIENPTlRFWFQgSUQgXCIrdStcIiBwcm90b2NvbCB2ZXJzaW9uIFwiK2UucDJwUHJvdG9jb2xWZXJzaW9uKSx0aGlzLlBqKGwsaS5GVik7ZWxzZXt2YXIgcD10aGlzLkFqKGUpLGQ9dm9pZCAwLGY9dm9pZCAwO2lmKHApe2lmKHRoaXMub0cuZ0coW3BdLCExKSxmPXRoaXMub0cuT2oobiksIShkPWYuSWooKXx8dGhpcy5kQi5sZW5ndGg8Yy5oaC5Oby5Pbykpe3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgZ290IG91dCBwYXJ0IHJlcSBmcm9tIFwiK24rXCIgLSByZWFjaGVkIG1heCBcIit0aGlzLmRCLmxlbmd0aCtcIi9cIitjLmhoLk5vLk9vKTt2YXIgZz12b2lkIDA7Zz10aGlzLnlELmNrKCl8fHRoaXMueUQuVGsoKT90aGlzLldWLk5qKHRoaXMueUQscCx0aGlzLmRCLnZhbHVlcygpKTp0aGlzLktWLk5qKHRoaXMuZEIudmFsdWVzKCkpLGcmJih0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiIGNob2NraW5nIFwiK2cuZ3VpZCksdGhpcy5kQi5kZWxldGUoZy5ndWlkKSxnLndqLlJqKFQuQlYpLGQ9ITApfX1lbHNlIGQ9ITE7aWYoZCl7dmFyIHk9bmV3IGguUGFydG5lcihuLHRoaXMueWosbCx0aGlzLmxvZ2dlciwhMSxmKTtlLnJlcG9ydGluZ0d1aWQmJnkuRGooZS5yZXBvcnRpbmdHdWlkKSx0aGlzLm9HLmtqLmhhcyhuKT90aGlzLmZCLnNldChuLHkpOnRoaXMuZEIuc2V0KG4seSksdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQURERUQgT1VUIFBBUlQgXCIrbiksdGhpcy5QaihsLGkuTVYpLHRoaXMuelYuVGoobixvLHMpLGEuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLkxqKG4pfSw1MDApLHRoaXMueWouTWooKX1lbHNlIHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIiBjYW5ub3QgZXN0YWJsaXNoIHBhcnRuZXJzaGlwIHRvIFwiK24rXCIgLSByZWFjaGVkIG1heCBcIit0aGlzLmRCLmxlbmd0aCtcIi9cIitjLmhoLk5vLk9vKSx0aGlzLlBqKGwsaS5GVil9fX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIG91dCBwYXJ0bmVyc2hpcCByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLmp0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuZ3VpZH0pfX0sdC5wcm90b3R5cGUuQWo9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PW5ldyBmO3QuZ3VpZD1lLmd1aWQsZS5pbnRlcm5hbEFzJiYodC5pbnRlcm5hbEFzPWUuaW50ZXJuYWxBcyksZS5leHRlcm5hbEFzJiYodC5leHRlcm5hbEFzPWUuZXh0ZXJuYWxBcyksZS5wdWJsaWNJcFN0cmluZyYmKHQucHVibGljSXBTdHJpbmc9ZS5wdWJsaWNJcFN0cmluZyksZS5wcml2YXRlSXBTdHJpbmcmJih0LnByaXZhdGVJcFN0cmluZz1lLnByaXZhdGVJcFN0cmluZyk7dmFyIHI9ITEsaT10aGlzLm9HLk9qKGUuZ3VpZCk7aWYoaSYmKHI9aS5wZWVySW5mby5pc0xlYWRlciksZS5zdHJlYW1DaGFyYWN0ZXJpc3RpY3Mpe3ZhciBuPVtdO2Uuc3RyZWFtQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGwuVHJhY2tlclBlZXJTdHJlYW1JbmZvO3Quc3RhdGU9ZS5zdHJlYW1TdGF0ZSx0LmJpdHJhdGU9ZS5iaXRyYXRlLHQuZGVsdGE9ZS5kZWx0YSxuLnB1c2godCl9KSx0LnN0cmVhbXM9bn1yZXR1cm4gbmV3IGwuYmMobC5UYy55Yyx0LHIpfWNhdGNoKHQpe3JldHVybiBFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uc3RydWN0aW5nIGRpc2NvdmVyZWQgcGVlciBpbmZvXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLlF0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuZ3VpZH0pLG51bGx9fSx0LnByb3RvdHlwZS5Qaj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlNFTkQgUEFSVCBSRVNQT05TRSBUTyBcIitlLm90aGVyR3VpZCk7dHJ5e3ZhciBuPW5ldyB1LlJmLkZhLkpnLk91dFBhcnRuZXJzaGlwUmVzcG9uc2U7aWYobi5hY2NlcHQ9dCxuLmFjY2VwdD09PWkuTVYpe3RoaXMueUQuZ2soKSYmKG4uaW50ZXJuYWxBcz10aGlzLnlELmdrKCkpLHRoaXMueUQuRmooKSYmKG4uZXh0ZXJuYWxBcz10aGlzLnlELkZqKCkpLHRoaXMueUQuZ2V0UHVibGljSXAoKSYmKG4ucHVibGljSXBTdHJpbmc9dGhpcy55RC5nZXRQdWJsaWNJcCgpKSx0aGlzLnlELmdldFByaXZhdGVJcCgpJiYobi5wcml2YXRlSXBTdHJpbmc9dGhpcy55RC5nZXRQcml2YXRlSXAoKSksbi5yZXBvcnRpbmdHdWlkPXRoaXMueUQuZ2V0UmVwb3J0aW5nR3VpZCgpO3ZhciBzPXRoaXMueUQuVWooKSxvPVtdO3MuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPW5ldyB1LlJmLkZhLkpnLlN0cmVhbUNoYXJhY3RlcmlzdGljcztpLmJpdHJhdGU9dCxpLnN0cmVhbVN0YXRlPWUudHlwZSxpLmRlbHRhPW51bGwhPXIueUQuZ2V0RGVsdGEoKT9yLnlELmdldERlbHRhKCk6LTEsby5wdXNoKGkpfSksby5sZW5ndGg+MCYmbi5zZXRTdHJlYW1DaGFyYWN0ZXJpc3RpY3Mobyl9ZS5MZyh1LlJmLkVnLnBnLG4pfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgcGFydG5lcnNoaXAgcmVzcG9uc2UgbWVzc2FnZVwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5LdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLm90aGVyR3VpZH0pfX0sdC5wcm90b3R5cGUuQmo9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK2UpfSx0LnByb3RvdHlwZS5Faj1mdW5jdGlvbihlLHQscil7dmFyIGk9ZS5vdGhlckd1aWQ7aWYoci5leHRlcm5hbEFzJiYodC5wZWVySW5mby5leHRlcm5hbEFzPXIuZXh0ZXJuYWxBcyksci5pbnRlcm5hbEFzJiYodC5wZWVySW5mby5pbnRlcm5hbEFzPXIuaW50ZXJuYWxBcyksci5wdWJsaWNJcFN0cmluZyYmKHQucGVlckluZm8ucHVibGljSXBTdHJpbmc9ci5wdWJsaWNJcFN0cmluZyksci5wcml2YXRlSXBTdHJpbmcmJih0LnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZz1yLnByaXZhdGVJcFN0cmluZyksci5zdHJlYW1DaGFyYWN0ZXJpc3RpY3Mpe3ZhciBuPVtdO3Iuc3RyZWFtQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGwuVHJhY2tlclBlZXJTdHJlYW1JbmZvO3Quc3RhdGU9ZS5zdHJlYW1TdGF0ZSx0LmJpdHJhdGU9ZS5iaXRyYXRlLHQuZGVsdGE9ZS5kZWx0YSxuLnB1c2godCl9KSx0LnBlZXJJbmZvLnN0cmVhbXM9bn10cnl7dmFyIHM9bmV3IGguUGFydG5lcihpLHRoaXMueWosZSx0aGlzLmxvZ2dlciwhMCx0KTtyZXR1cm4gci5yZXBvcnRpbmdHdWlkJiYocy5yZXBvcnRpbmdHdWlkPXIucmVwb3J0aW5nR3VpZCxlLnJlY2VpdmVyLnNldFJlcG9ydGluZ0d1aWQoci5yZXBvcnRpbmdHdWlkKSxlLnNlbmRlci5zZXRSZXBvcnRpbmdHdWlkKHIucmVwb3J0aW5nR3VpZCkpLHQucGVlckluZm8udHlwZT09bC5UYy5XPyh0aGlzLmdCLnNldChpLHMpLHRoaXMueUQuSGooITApLHRoaXMueUQuWUcoITApKTooMCE9dGhpcy55RC5naygpJiZ0aGlzLnlELmdrKCk9PT10LnBlZXJJbmZvLmludGVybmFsQXMmJnRoaXMueUQuSGooITApLHRoaXMuYWouc2V0KGkscykpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQraStcIiBJUyBOT1cgSU4gUEFSVE5FUlwiKSxzfWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgYSBuZXcgcGFydG5lciBvYmplY3QgaW4gdGhlIGxpc3RcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuWXQse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6aX0pfX0sdC5wcm90b3R5cGUuS0c9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIkdPVCBQRUVSIERJU0MgXCIrZSksdGhpcy54aihlKSYmKHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIklOIFBSVCBESVNDIFwiK2UpLHRoaXMuU2ooZSkpLHRoaXMuX2ooZSkmJih0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJPVVQgUFJUIERJU0MgXCIrZSksdGhpcy5kQi5kZWxldGUoZSksdGhpcy5mQi5kZWxldGUoZSkpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZW1vdmluZyBkaXNjb25lY3RlZCBwYXJ0bmVyIGZyb20gdGhlIGxpc3RcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuV3Qse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sdC5wcm90b3R5cGUuU2o9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIklOIFBBUlRORVIgUkVNT1ZFIFwiK2UpO3ZhciByPXRoaXMucWooZSk7aWYodGhpcy5nRC5HaihyKSx0aGlzLmFqLmRlbGV0ZShlKSx0aGlzLmdCLmRlbGV0ZShlKSx0aGlzLmdCLmxlbmd0aD4wKXRoaXMueUQuSGooITApO2Vsc2UgaWYoMCE9dGhpcy55RC5naygpKXt2YXIgaT0hMTt0aGlzLmFqLmZvckVhY2goZnVuY3Rpb24oZSl7dC55RC5naygpPT09ZS5Fay5wZWVySW5mby5pbnRlcm5hbEFzJiYoaT0hMCl9KSx0aGlzLnlELkhqKGkpfWVsc2UgdGhpcy55RC5IaighMSl9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlbW92aW5nIHRoZSBpbiBwYXJ0bmVyXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLnp0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmV9KX19LHQucHJvdG90eXBlLlZqPWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJDTE9TRSBSRUNFSVZFRCBGUk9NIFwiK2UrXCIgVFlQRSBcIitUW3QuZ2V0VHlwZSgpXSksdC5nZXRUeXBlKCkhPVQuSnEmJnQuZ2V0VHlwZSgpIT1ULkhWfHwodGhpcy5kQi5oYXMoZSkmJnRoaXMuZEIuZGVsZXRlKGUpLHRoaXMuZkIuaGFzKGUpJiZ0aGlzLmZCLmRlbGV0ZShlKSksdC5nZXRUeXBlKCkhPVQuSnEmJnQuZ2V0VHlwZSgpIT1ULkJWfHx0aGlzLlNqKGUpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB3aGVuIGNsb3NlIHJlY2VpdmVkXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLkp0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmV9KX19LHQucHJvdG90eXBlLmdqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1zLmRlZmVyKCk7dHJ5e3ZhciBpPW5ldyB1LlJmLkZhLkpnLk91dFBhcnRuZXJzaGlwUmVxdWVzdDtpLmd1aWQ9dGhpcy5nZCxpLmNvbnRleHRJZD10aGlzLmNvbnRleHRJZCxpLnAycFByb3RvY29sVmVyc2lvbj1jLmhoLkhvLkRvLGkucmVwb3J0aW5nR3VpZD10aGlzLnlELmdldFJlcG9ydGluZ0d1aWQoKSx0aGlzLnlELmdrKCkmJihpLmludGVybmFsQXM9dGhpcy55RC5naygpKSx0aGlzLnlELkZqKCkmJihpLmV4dGVybmFsQXM9dGhpcy55RC5GaigpKSx0aGlzLnlELmdldFByaXZhdGVJcCgpJiYoaS5wcml2YXRlSXBTdHJpbmc9dGhpcy55RC5nZXRQcml2YXRlSXAoKSksdGhpcy55RC5nZXRQdWJsaWNJcCgpJiYoaS5wdWJsaWNJcFN0cmluZz10aGlzLnlELmdldFB1YmxpY0lwKCkpO3ZhciBuPXRoaXMueUQuVWooKSxvPVtdO24uZm9yRWFjaChmdW5jdGlvbihlLHIpe3ZhciBpPW5ldyB1LlJmLkZhLkpnLlN0cmVhbUNoYXJhY3RlcmlzdGljcztpLmJpdHJhdGU9cixpLnN0cmVhbVN0YXRlPWUudHlwZSxpLmRlbHRhPW51bGwhPXQueUQuZ2V0RGVsdGEoKT90LnlELmdldERlbHRhKCk6LTEsby5wdXNoKGkpfSksby5sZW5ndGg+MCYmaS5zZXRTdHJlYW1DaGFyYWN0ZXJpc3RpY3MobyksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlNFTkQgUEFSVCBSRVEgVE8gXCIrZS5vdGhlckd1aWQrXCIgV0lUSCBJRCBcIitpLmNvbnRleHRJZCtcIiBpbnRlcm5hbEFTIFwiK2kuaW50ZXJuYWxBcytcIiBleHRlcm5hbEFzIFwiK2kuZXh0ZXJuYWxBcytcIiBwcml2YXRlIGlwIFwiK2kucHJpdmF0ZUlwU3RyaW5nK1wiIHB1YmxpYyBpcCBcIitpLnB1YmxpY0lwU3RyaW5nK1wiIHJHdWlkIFwiK3RoaXMueUQuZ2V0UmVwb3J0aW5nR3VpZCgpKTt2YXIgaD1hLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5qaihyLGUub3RoZXJHdWlkKX0sYy5oaC5Oby5Dbyk7dGhpcy5xVi5zZXQoZS5vdGhlckd1aWQse21HOmgsZGVmZXI6cn0pLGUuTGcodS5SZi5FZy5sZyxpKX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBwYXJ0bmVyc2hpcCByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLlh0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUub3RoZXJHdWlkfSksci5yZWplY3QodCl9cmV0dXJuIHIuU3N9LHQucHJvdG90eXBlLlFqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5vdGhlckd1aWQsbj10aGlzLnFWLmdldChyKTtuPyhhLkZyYW1ld29yay5jbGVhclRpbWVvdXQobi5tRyksdGhpcy5xVi5kZWxldGUociksZS5hY2NlcHQ9PT1pLk1WP24uZGVmZXIucmVzb2x2ZSh7eWc6dCxtc2c6ZX0pOm4uZGVmZXIucmVqZWN0KFwiTk9UIEFDQ0VQVEVEXCIpKTpFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIG91dCBwYXJ0bmVyc2hpcCByZXNwb25zZSBmcm9tIGFuIHVua25vd24gcGVlclwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5lcix7b3RoZXJHdWlkOnJ9KX0sdC5wcm90b3R5cGUuamo9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnFWLmhhcyh0KSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBhcnRuZXJzaGlwIHJlcXVlc3QgZXhwaXJlZFwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5adCx7b3RoZXJHdWlkOnR9KTt2YXIgcj10aGlzLnFWLmdldCh0KTt0aGlzLnFWLmRlbGV0ZSh0KSxyLmRlZmVyLnJlamVjdChcIkVYUElSRURcIil9ZWxzZSBFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFydG5lcnNoaXAgcmVxdWVzdCBleHBpcmVkIGZvciB1bmtub3duIHBlZXJcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuJHQse290aGVyR3VpZDp0fSl9LHQucHJvdG90eXBlLiRWPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXMuZGVmZXIoKSxyPXRoaXMuYWoudmFsdWVzKCk7dGhpcy5nQi5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ci5wdXNoKGUpfSk7dmFyIGk9ci5zbGljZSgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS53ai5jbG9zZSgpfSk7cmV0dXJuIHMuYWxsKGkpLnRoZW4oZnVuY3Rpb24oZSl7dC5yZXNvbHZlKFwicmVzb2x2ZWRcIil9KS5mYWlsKGZ1bmN0aW9uKHIpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjbG9zaW5nIHBhcnRuZXJzaGlwXCIsZS5sb2dnZXJJZCx2LmhzLmNyLnRyKSx0LnJlamVjdChcImNvdWxkIG5vdCBjbG9zZVwiKX0pLHQuU3N9LHQucHJvdG90eXBlLmJqPWZ1bmN0aW9uKGUpe3RoaXMuTmcuZGlzY29ubmVjdChlKX0sdC5wcm90b3R5cGUuWFY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczstMSE9dGhpcy5WViYmYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLlZWKSx0aGlzLlZWPWEuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5LaigpfSxlKX0sdC5wcm90b3R5cGUuS2o9ZnVuY3Rpb24oKXt0cnl7aWYodGhpcy55RC55aygpJiYhdGhpcy55RC5jaygpJiZ5KXt2YXIgZT10aGlzLnlELlJrKCksdD10aGlzLmNvbnRleHQuUEQoKS5iaXRyYXRlO2lmKHQmJnRoaXMueGooZS51dWlkKSl7dmFyIHI9dGhpcy5xaihlLnV1aWQpO3RoaXMuWWooci53aix0KX19fWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhbm5vdW5jaW5nIGJpdHJhdGVcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IucnIsZSl9fSx0LnByb3RvdHlwZS5Zaj1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj1uZXcgdS5SZi5GYS5KZy5CaXRyYXRlO3IuZ3VpZD10aGlzLmdkLHIuYml0cmF0ZT10LHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJBTk5PVU5DRSBCSVRSQVRFIFwiK3IuYml0cmF0ZStcIiBUTyBQRUVSIEdVSUQgXCIrZS5vdGhlckd1aWQpLGUuTGcodS5SZi5FZy5CaXRyYXRlLHIpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgYml0cmF0ZSBhbm5vdW5jZW1lbnRcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuaXIse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5vdGhlckd1aWR9KX19LHQucHJvdG90eXBlLldqPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUkVDRUlWRUQgQklUUkFURSBcIitlLmJpdHJhdGUrXCIgRlJPTSBQRUVSIEdVSUQgXCIrZS5ndWlkKSx0aGlzLm9HLmtqLmhhcyhlLmdldEd1aWQoKSkmJih0aGlzLm9HLmtqLmdldChlLmd1aWQpLnpqKGUuYml0cmF0ZSksdGhpcy5tRC5KaigpKX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIGJpdHJhdGUgaW5mb1wiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5ucix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLmd1aWR9KX19LHQucHJvdG90eXBlLlhqPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLmd1aWQscj10aGlzLnFqKHQpO3ImJnRoaXMuWmoocixlKSxyPXRoaXMuJGoodCksciYmdGhpcy5aaihyLGUpLHRoaXMuelYuVGoodCxlLnByaXZhdGVJcFN0cmluZyxlLnB1YmxpY0lwU3RyaW5nKX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIHBlZXIgaW5mb1wiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5zcix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLmd1aWR9KX19LHQucHJvdG90eXBlLlpqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5Fay5wZWVySW5mbztpZih0LnByaXZhdGVJcFN0cmluZyYmKHIucHJpdmF0ZUlwU3RyaW5nPXQucHJpdmF0ZUlwU3RyaW5nKSx0LnB1YmxpY0lwU3RyaW5nJiYoci5wdWJsaWNJcFN0cmluZz10LnB1YmxpY0lwU3RyaW5nKSx0LmV4dGVybmFsQXMmJihyLmV4dGVybmFsQXM9dC5leHRlcm5hbEFzKSx0LmludGVybmFsQXMmJihyLmludGVybmFsQXM9dC5pbnRlcm5hbEFzKSx0LnN0cmVhbUNoYXJhY3RlcmlzdGljcyl7dmFyIGk9W107dC5zdHJlYW1DaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbC5UcmFja2VyUGVlclN0cmVhbUluZm87dC5iaXRyYXRlPWUuYml0cmF0ZSx0LmRlbHRhPWUuZGVsdGEsdC5zdGF0ZT1lLnN0cmVhbVN0YXRlLGkucHVzaCh0KX0pLHIuc3RyZWFtcz1pfX0sdC5wcm90b3R5cGUuWlY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmpWJiZhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMualYpLHRoaXMualY9YS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmVRKCl9LGUpfSx0LnByb3RvdHlwZS5lUT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dHJ5e2lmKHRoaXMueUQuZ2V0UHJpdmF0ZUlwKCl8fHRoaXMueUQuZ2V0UHVibGljSXAoKXx8dGhpcy55RC5naygpfHx0aGlzLnlELkZqKCkpe3ZhciB0PXRoaXMudFEoKSxyPW5ldyB1LlJmLkZhLkpnLlBlZXJJbmZvTWVzc2FnZTtyLmd1aWQ9dGhpcy55RC5nZXRJZCgpLHRoaXMueUQuZ2V0UHJpdmF0ZUlwKCkmJihyLnByaXZhdGVJcFN0cmluZz10aGlzLnlELmdldFByaXZhdGVJcCgpKSx0aGlzLnlELmdldFB1YmxpY0lwKCkmJihyLnB1YmxpY0lwU3RyaW5nPXRoaXMueUQuZ2V0UHVibGljSXAoKSksdGhpcy55RC5GaigpJiYoci5leHRlcm5hbEFzPXRoaXMueUQuRmooKSksdGhpcy55RC5naygpJiYoci5pbnRlcm5hbEFzPXRoaXMueUQuZ2soKSk7dmFyIGk9dGhpcy55RC5VaigpLG49W107aS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIGk9bmV3IHUuUmYuRmEuSmcuU3RyZWFtQ2hhcmFjdGVyaXN0aWNzO2kuYml0cmF0ZT1yLGkuc3RyZWFtU3RhdGU9dC50eXBlLGkuZGVsdGE9bnVsbCE9ZS55RC5nZXREZWx0YSgpP2UueUQuZ2V0RGVsdGEoKTotMSxuLnB1c2goaSl9KSxuLmxlbmd0aD4wJiZyLnNldFN0cmVhbUNoYXJhY3RlcmlzdGljcyhuKSx0LmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLndqLkxnKHUuUmYuRWcubmQscil9KX19Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFubm91bmNpbmcgcGVlciBpbmZvIHRvIGFsbCBwYXJ0bmVyc1wiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5hcixlKX19LHQucHJvdG90eXBlLnRRPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBvO3JldHVybiB0aGlzLmRCLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmhhcyhyKXx8ZS5zZXQocix0KX0pLHRoaXMuZkIuZm9yRWFjaChmdW5jdGlvbih0LHIpe2UuaGFzKHIpfHxlLnNldChyLHQpfSksdGhpcy5nQi5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5oYXMocil8fGUuc2V0KHIsdCl9KSx0aGlzLmFqLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmhhcyhyKXx8ZS5zZXQocix0KX0pLGV9Y2F0Y2goZSl7cmV0dXJuIEUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb2xsZWN0aW5nIGFsbCBwYXJ0bmVyc1wiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5ocixlKSxuZXcgb319LHR9KHAuclEpO3QuaVE9bX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLm5RPSEwLGkuc1E9M2U0LGkub1E9NmU0LGkuYVE9M2U0LHQuaFE9aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7bi5YYT1cInNpdGVcIixuLlphPVwiZXh0ZXJuYWxBc1wiLG4uJGE9XCJhdmFpbGFibGVTZW5kUmF0ZVwiLG4uZWg9XCJyZW1vdGVBZGRyZXNzXCIsbi50aD1cImxvY2FsQWRkcmVzc1wiLHQuY1E9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMudVE9ZSx0aGlzLmxRPXR9cmV0dXJuIGUucHJvdG90eXBlLnBqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubFF9LGUucHJvdG90eXBlLmRqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudVF9LGV9KCk7dC5wUT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmRRPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nUS5mUSghMSksaT10LmdRLmZRKCExKTtyZXR1cm4gcj5pPzE6cjxpPzA6LTF9LGV9KCk7dC5FUT1pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5kUT1mdW5jdGlvbihlLHQpe3ZhciByPWUudlEuZlEoITEpLGk9dC52US5mUSghMSk7cmV0dXJuIHI+aT8xOnI8aT8wOi0xfSxlfSgpO3QueVE9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDQpLHM9cigwKSxvPXIoMTA0KSxhPXIoMTA1KSxoPXIoMjYpLGM9cig0MSksdT1yKDE4KSxsPXIoMjEpLHA9cigxMDkpLGQ9cigyMiksZj1yKDExMSksZz1yKDgpLEU9cigxMTMpLHY9cig1NikseT1yKDMyKSxUPXIoMSksbT1yKDQ2KSxJPXIoMjkpLFM9cig2KSxSPW8uSGl2ZUNvbW0uT3B0aW9ucyx3PWEuSGl2ZUNvbW0uVFEsYj1oLkhpdmVDb21tLm9FLEM9aC5IaXZlQ29tbS5TRSxfPWguSGl2ZUNvbW0uSGl2ZVRlY2hFcnJvcixQPWguSGl2ZUNvbW0udkUsQT1oLkhpdmVDb21tLndFLE89cig1NCksTj1TLmhlLmRoLEQ9Uy5oZS5saCxrPVMuaGUudWgsTD1TLmhlLnBoOyhrfHxMKSYmcigxNCkuSGl2ZUNvbmZpZyx0LnZlcnNpb249Tjt2YXIgTTshZnVuY3Rpb24oZSl7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubVE9W3dbdy5IaXZlSmF2YV0sd1t3LkhpdmVKc1Byb3h5XSx3W3cuSGl2ZUpTXSx3W3cuU3RhdHNKU11dLHRoaXMuSVE9bmV3IGksdGhpcy5TUT1uZXcgQXJyYXksdGhpcy5SUT1uZXcgQXJyYXksdGhpcy53UT1udWxsLHRoaXMuYlE9MCx0aGlzLkNRPTAsdGhpcy5sb2dnZXJJZD1cIltIaXZlQ29tbV0gXCIsdGhpcy5fUT0wLHRoaXMuUFE9dS5SbC5nZXRJdGVtKFwiaGl2ZVBsdWdpbklkXCIpLHRoaXMuUFF8fCh0aGlzLlBRPU1hdGguYWJzKE1hdGguZmxvb3IoNjg3MTk0NzY3MzYqTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KSx1LlJsLnNldEl0ZW0oXCJoaXZlUGx1Z2luSWRcIix0aGlzLlBRKSksVC5FcnJvck1vbml0b3IudmUodC52ZXJzaW9uKSx0aGlzLm9wdGlvbnNfPW5ldyBSLkFRLHRoaXMuT1EoZSksbC5TcChlLHRoaXMub3B0aW9uc18pLGwuUnAod2luZG93LmxvY2F0aW9uLmhyZWYsbmV3IFIuTlEsdGhpcy5vcHRpb25zXyksby5rUS5EUSh0aGlzLm9wdGlvbnNfKSx0aGlzLmZmPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKSxjLkhpdmVDb25maWcuRnJhbWV3b3JrLkxvZ2dlclRpbWVzdGFtcD10aGlzLm9wdGlvbnMoKS5sb2dnZXJUaW1lc3RhbXAsdGhpcy5mZi5mTih0aGlzLm9wdGlvbnMoKS5kZWJ1Z0xldmVsKSxULkVycm9yTW9uaXRvci52ZSgpLm1lKHRoaXMuZmYubG9nKCkpO3ZhciByPXMuRnJhbWV3b3JrLnJlc29sdmUoZy5wYy5NKSxuPXMuRnJhbWV3b3JrLnJlc29sdmUoZy5wYy5zYyk7ci5abCgpLnRoZW4oZnVuY3Rpb24oZSl7VC5FcnJvck1vbml0b3IudmUoKS5zZXRVc2VyKGUudHAoKSksVC5FcnJvck1vbml0b3IudmUoKS5JZSh7cmVwb3J0aW5nR3VpZDplLnJwKCl9KSxULkVycm9yTW9uaXRvci52ZSgpLkllKHtwMnBJZDplLnRwKCl9KX0pO3ZhciBhPXt9O25ldyBwLkxRKHRoaXMpLG4uZ2V0Q29ubmVjdGl2aXR5SW5mbygpLnRoZW4oZnVuY3Rpb24oZSl7YT17cElQQWRkcjplLmdldE5ldHdvcmtDaGFuZ2VkKCkuZ2V0UHJpdmF0ZUlwKCl9LFQuRXJyb3JNb25pdG9yLnZlKCkuSWUoe3ByaXZhdGVJcDphLnBJUEFkZHJ9KX0pLHdpbmRvdy5nZj10aGlzLmZmLmxvZygpLHRoaXMuTVEoKSx0aGlzLnBsdWdpblJlZmVyZW5jZT1uZXcgQSh0aGlzKTt2YXIgaD10aGlzLm9wdGlvbnMoKS5pZGxlVGltZVBlcmlvZD50aGlzLm9wdGlvbnMoKS5mZWVkYmFja1BlcmlvZD90aGlzLm9wdGlvbnMoKS5pZGxlVGltZVBlcmlvZDpJLkwubmg7dGhpcy5GUT1uZXcgdS5ObChoKX1yZXR1cm4gZS5wcm90b3R5cGUub3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNffSxlLnByb3RvdHlwZS5sb2dnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53UT90aGlzLmZmLmxvZyh0aGlzLndRLmlkKTp0aGlzLmZmLmxvZygpfSxlLnByb3RvdHlwZS5sb2dnZXJMZXZlbD1mdW5jdGlvbigpe2lmKHRoaXMubG9nZ2VyKXJldHVybiB0aGlzLmZmLmxldmVsfSxlLnByb3RvdHlwZS5nZXRQbHVnaW5JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBRfSxlLnByb3RvdHlwZS5nZXRDb21tVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0LnZlcnNpb259LGUucHJvdG90eXBlLnVwZGF0ZUNvbW1zRm9ySW5pdFNlc3Npb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLlJRO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3IudGVjaC5MTCh0aGlzKSxcIkhpdmVKU1wiPT09ci50ZWNoLmdldE5hbWUoKSYmci50ZWNoLlVRJiZyLnRlY2guVVEuTEwodGhpcyl9fSxlLnByb3RvdHlwZS5PUT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdi5TdGF0c0pTKHRoaXMsZSk7aWYodGhpcy5JUS5zZXQodi5TdGF0c0pTLkVMLHQpLGspe3ZhciBpPXIoMTMyKS5IaXZlSlM7dGhpcy5JUS5zZXQoaS5FTCxuZXcgaSh0aGlzLGUsdCkpfWlmKEwpe3ZhciBuPXIoMTk5KS5IaXZlSnNQcm94eTt0aGlzLklRLnNldChuLkVMLG5ldyBuKHRoaXMsZSx0KSl9aWYoRCl7dmFyIHM9cigyMDEpLkhpdmVKYXZhO3RoaXMuSVEuc2V0KHMuRUwsbmV3IHModGhpcyxlKSl9dmFyIG89ZS5oaXZlVGVjaE9yZGVyO2lmKCFvfHxvIGluc3RhbmNlb2YgQXJyYXkpaWYobyYmby5sZW5ndGg+MClmb3IodmFyIGE9by5sZW5ndGg7YS0tOyl7dmFyIGg9b1thXTtcInN0cmluZ1wiIT10eXBlb2YgaHx8LTE9PXRoaXMubVEuaW5kZXhPZihoKT8oY29uc29sZS53YXJuKHRoaXMubG9nZ2VySWQrJ1RoZSBcIicraCsnXCIgSGl2ZSB0ZWNoIGlzIHVuZGVmaW5lZCcpLG8uc3BsaWNlKGEsMSkpOlwic3RyaW5nXCI9PXR5cGVvZiBoJiZ0aGlzLklRLmhhcyhoKXx8Y29uc29sZS53YXJuKHRoaXMubG9nZ2VySWQrJ1RoZSBcIicraCsnXCIgSGl2ZSB0ZWNoIGlzIG5vdCBlbmFibGVkIG9uIHRoaXMgcGx1Z2luJyl9ZWxzZSBvPXRoaXMubVE7ZWxzZSBjb25zb2xlLndhcm4odGhpcy5sb2dnZXJJZCtcImhpdmVUZWNoT3JkZXIgdmFsdWUgbm90IGFjY2VwdGVkLiBJdCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3NcIiksbz10aGlzLm1RO2UuaGl2ZVRlY2hPcmRlcj1vfSxlLnByb3RvdHlwZS5yZXNvbHZlVGlja2V0UHJvbWlzZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubG9nZ2VyKCkubm90aWNlKHRoaXMubG9nZ2VySWQrXCJyZXNvbHZpbmcgXCIrZSk7dmFyIHI9bi5kZWZlcigpO2lmKCFlKXJldHVybiByLnJlamVjdCh1LlNsKFwiXCIsYi5zRSxcIk5vIHRpY2tldCBwcm92aWRlZC5cIikpLHIuU3M7dGhpcy5CUShlKTt2YXIgaT10aGlzLkhRKCkudmFsdWVzKCk7MD09aS5sZW5ndGgmJnIucmVqZWN0KHUuU2woZSxiLnJFKSk7dmFyIHMsbyxhPSExLGg9ITEsYz0wLHA9bnVsbDtyZXR1cm4gbC53cChmdW5jdGlvbigpe3JldHVybiFhJiYhaCYmYzxpLmxlbmd0aCYmIXN9LGZ1bmN0aW9uKCl7dmFyIHI9aVtjKytdO3Iua0woKTt2YXIgdTtyZXR1cm4gdT1yLnZMKCkmJiFvP3QuS0IoZSx0Lm9wdGlvbnMoKS50ZXN0SWQpOm4ucmVzb2x2ZShudWxsKSx1LnRoZW4oZnVuY3Rpb24oaSl7bnVsbCE9aSYmKG89aSk7dmFyIHM9ci5tTCgpO3JldHVybiByLmluaXRTZXNzaW9uKGUsbykudGltZW91dChzLFwiW1wiK3IuZ2V0TmFtZSgpK1wiXSBFcnJvcjogaW5pdGlhbGl6YXRpb24gdGltZWQgb3V0IGFmdGVyIFwiK3MrXCJtc1wiKS50aGVuKGZ1bmN0aW9uKGUpe3A9ZSx0LnhRKHAsciksYT0hMCwhci52TCgpJiZvJiZvLkhsLnJlc2V0KCksVC5FcnJvck1vbml0b3IudmUoKS5JZSh7c2Vzc2lvbklkOnAuaWR9KSx0LmxvZ2dlcigpLm5vdGljZSh0LmxvZ2dlcklkK1wiaW5pdGlhbGl6aW5nIFNlc3Npb246W1wiK3AuaWQrXCJdIFRpY2tldDpcIitwLnRpY2tldC50b1N0cmluZygpK1wiIEhpdmVUZWNoOltcIitwLnRlY2guZ2V0TmFtZSgpK1wiXVwiKSxuLnJlc29sdmUoITApfSxmdW5jdGlvbihpKXtpIGluc3RhbmNlb2YgRXJyb3ImJihpPW5ldyBfKFAuRUUsaS5tZXNzYWdlKSxyLkRMKGkpKSxpLnRpY2tldFVybD1lLGg9IXIub25FcnJvcihpKSx0LmxvZ2dlcigpLmRlYnVnKHQubG9nZ2VySWQrXCJ0ZWNoIFwiK3IuZ2V0TmFtZSgpK1wiOiBcIitpLm1lc3NhZ2UpLG4ucmVzb2x2ZSghMCl9KX0sZnVuY3Rpb24oZSl7cz1lLG4ucmVzb2x2ZSghMCl9KX0pLnRoZW4oZnVuY3Rpb24oKXtzP3IucmVqZWN0KHUuU2woZSxiLnNFLHMpKTpoP3IucmVqZWN0KHUuU2woZSxiLm5FKSk6YT9yLnJlc29sdmUocCk6ci5yZWplY3QodS5TbChlLGIuckUpKX0pLmNhdGNoKGZ1bmN0aW9uKGkpe1QuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZXNvbHZpbmcgdGlja2V0IHByb21pc2VcIix0LmxvZ2dlcklkLGkpLHIucmVqZWN0KHUuU2woZSxiLnRFLGkudG9TdHJpbmcoKSkpfSkuZG9uZSgpLHIuU3N9LGUucHJvdG90eXBlLktCPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4geS5IaXZlLlJlcG9ydGluZygpLmluaXRTZXNzaW9uKGUsITEsdCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gci5sb2dnZXIoKS5kZWJ1ZyhyLmxvZ2dlcklkK1widmVyaWZpZWQgdGlja2V0IFwiK2UpLHIudXBkYXRlUGxheWVySW5mbyh0KSx0fSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVqZWN0KFwiVGlja2V0IG5vdCB2ZXJpZmllZCwgZXJyb3I6IFwiK2UubWVzc2FnZSl9KX0sZS5wcm90b3R5cGUuSFE9ZnVuY3Rpb24oKXt2YXIgZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucygpLmhpdmVUZWNoT3JkZXIpKSx0PW5ldyBpO2Zvcih2YXIgciBpbiBlKXRoaXMuSVEuaGFzKGVbcl0pJiZ0LnNldChlW3JdLHRoaXMuSVEuZ2V0KGVbcl0pKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuQlE9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5FcnJvck1vbml0b3IudmUoKTt0cnl7dmFyIHI9bmV3IG0uQk47ci5STihlKSxyLnVwKCkmJnIuY3AoKSYmci5ocCgpP3Quc2V0VGFncyhbci51cCgpLHIuY3AoKSxyLmhwKCldKTp0LmxvZ0Vycm9yKFwiVGlja2V0IG5vdCB2YWxpZCwgd2UgY291bGQgbm90IHJlc29sdmUgdGhlIHRyaXBsZSBwYXJ0bmVySWQvQ3VzdG9tZXJJZC9Db250ZW50SWRcIix0aGlzLmxvZ2dlcklkLHtwYXJ0bmVySWQ6ci51cCgpLGN1c3RvbWVySWQ6ci5jcCgpLGNvbnRlbnRJZDpyLmhwKCl9KX1jYXRjaChlKXt0aGlzLmxvZ2dlcigpLndhcm4odGhpcy5sb2dnZXJJZCtcIiBcIitlLm1lc3NhZ2UsZSksdC5ub3RpZnkoZSl9fSxlLnByb3RvdHlwZS51cGRhdGVQbGF5ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciByPXtjb21tVmVyc2lvbjp0LnZlcnNpb24scGx1Z2luTmFtZTp0aGlzLmdldFBsdWdpbk5hbWUoKSxwbHVnaW5WZXJzaW9uOnRoaXMuZ2V0UGx1Z2luVmVyc2lvbigpLHBsYXllclRlY2g6dGhpcy5nZXRQbGF5ZXJUZWNoKCkscGxheWVyVmVyc2lvbjp0aGlzLmdldFBsYXllclZlcnNpb24oKSx0ZWxlbWV0cnlJZDp0aGlzLmdldFRlbGVtZXRyeUlkKCl9O2UuSGwudXBkYXRlUGxheWVySW5mbyhyKX0sZS5wcm90b3R5cGUub25TZXR1cFRpbWVvdXQ9ZnVuY3Rpb24oKXt3aW5kb3cuSGl2ZVJlcXVlc3Q9WE1MSHR0cFJlcXVlc3QsdS5IaXZlUmVxdWVzdEZhY3RvcnkuY2xlYXIoKSx5LkhpdmUuUmVwb3J0aW5nKCkuY2xvc2UoKX0sZS5wcm90b3R5cGUuYWRkVGVjaEV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMud1EmJnRoaXMud1EudGVjaD8oZS5zZXNzaW9uSWQ9dGhpcy53US5pZCx0aGlzLndRLnRlY2guYmQodGhpcy53USxlKSk6dGhpcy5TUS5wdXNoKGUpfSxlLnByb3RvdHlwZS5mbHVzaFRlY2hFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlNRO3JldHVybiB0aGlzLlNRPW5ldyBBcnJheSxlfSxlLnByb3RvdHlwZS5NUT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD13aW5kb3c7dC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7ZS5xUSghMCwhMSl9LCExKTp0LmF0dGFjaEV2ZW50KFwib25iZWZvcmV1bmxvYWRcIixmdW5jdGlvbigpe2UucVEoITAsITEpfSl9LGUucHJvdG90eXBlLmNsb3NlSGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIoKS5kZWJ1ZyhcIk1hbnVhbGx5IENsb3NpbmcgU2Vzc2lvblwiKyhlP1wiIGJlY2F1c2U6IFwiK2U6XCJcIikpO3ZhciB0PXRoaXMuZ2V0QWN0aXZlU2Vzc2lvbigpO3QmJnUuSGl2ZVJlcXVlc3RGYWN0b3J5LmNsZWFyU2Vzc2lvblN0YXRlKHQuaWQpLHRoaXMucmVzZXRTZXNzaW9uKCEwKX0sZS5wcm90b3R5cGUucmVzZXRTZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5xUShlKSwhMT09PWU/dGhpcy53USYmdGhpcy5SUS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCE9PXQud1EuaWR9KSYmdGhpcy5SUS51bnNoaWZ0KHRoaXMud1EpOnRoaXMuUlEubGVuZ3RoPTAsdGhpcy5HUSgpLHRoaXMud1E9bnVsbCx0aGlzLmJRPTAsdGhpcy5DUT0wfSxlLnByb3RvdHlwZS54UT1mdW5jdGlvbihlLHQpe2UudGVjaD10LHRoaXMuUlEucHVzaChlKX0sZS5wcm90b3R5cGUub25BY3RpdmF0ZVNlc3Npb249ZnVuY3Rpb24oZSl7aWYobnVsbD09dGhpcy53USl7Zm9yKHZhciB0PWV8fHRoaXMuZ2V0UGxheWVyU291cmNlKCkscj0wO3I8dGhpcy5SUS5sZW5ndGg7cisrKXt2YXIgaT10aGlzLlJRW3JdO2lmKGkuaXNBY3RpdmUodCkpe2lmKHRoaXMud1E9aSx0aGlzLndRLnJsP3RoaXMud1EucmwuRmwuU0QodGhpcy53US50aWNrZXQpOnRoaXMuVlEoKSx0aGlzLlJRLmxlbmd0aD0wLHRoaXMud1EudGVjaC5vbkFjdGl2ZVNlc3Npb24odGhpcy53USksdGhpcy5sb2dnZXIoKS5ub3RpY2UodGhpcy5sb2dnZXJJZCtcImFjdGl2YXRpbmcgU2Vzc2lvbjpbXCIrdGhpcy53US5pZCtcIl0gVGlja2V0OlwiK3RoaXMud1EudGlja2V0LnRvU3RyaW5nKCkrXCIgSGl2ZVRlY2g6W1wiK3RoaXMud1EudGVjaC5nZXROYW1lKCkrXCJdXCIpLHRoaXMualEoKSx0aGlzLm9wdGlvbnMoKS5vbkFjdGl2ZVNlc3Npb24pdHJ5e3RoaXMub3B0aW9ucygpLm9uQWN0aXZlU2Vzc2lvbihpLnRvSGl2ZVNlc3Npb24oKSl9Y2F0Y2goZSl7VC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcih0aGlzLmxvZ2dlcklkK1wiIGV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgR2VuZXJpYyBvbkFjdGl2ZVNlc3Npb24gY2FsbGJhY2s6IFwiK2UpfXJldHVybiEwfX10aGlzLmxvZ2dlcigpLndhcm4odGhpcy5sb2dnZXJJZCtcIkNsb3Npbmcgc2Vzc2lvbnMgLSB0aGUgYWN0aXZlIHN0cmVhbSBkb2Vzbid0IG1hdGNoIGFueSBpbml0aWFsaXplZCBzZXNzaW9uc1wiKSx0aGlzLmxvZ2dlcigpLndhcm4odGhpcy5sb2dnZXJJZCtcIkFjdGl2ZTpcIit0K1wiIC0gaW5pdGlhbGl6ZWQ6IFwiK3RoaXMuUlEubGVuZ3RoKSx0aGlzLnJlc2V0U2Vzc2lvbigpfXJldHVybiExfSxlLnByb3RvdHlwZS5nZXRBY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKCl7aWYodGhpcy53USlyZXR1cm4gdGhpcy53US50b0hpdmVTZXNzaW9uKCl9LGUucHJvdG90eXBlLlZRPWZ1bmN0aW9uKCl7dmFyIGU9ITE7dGhpcy5SUS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmwmJihlPSEwKX0pLGUmJnkuSGl2ZS5SZXBvcnRpbmcoKS5jbG9zZSgpfSxlLnByb3RvdHlwZS5pc1Nlc3Npb25BY3RpdmU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLndRKXtpZih0aGlzLndRLmlzQWN0aXZlKHRoaXMuZ2V0UGxheWVyU291cmNlKCkpKXJldHVybiEwO3RoaXMubG9nZ2VyKCkud2Fybih0aGlzLmxvZ2dlcklkK1wiU2Vzc2lvbiBzcmMgbWlzbWF0Y2g6IFwiK3RoaXMuZ2V0UGxheWVyU291cmNlKCkrXCIgIT0gXCIrdGhpcy53US5tYW5pZmVzdCksdGhpcy5yZXNldFNlc3Npb24oKX1yZXR1cm4hMX0sZS5wcm90b3R5cGUucVE9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMCksbnVsbCE9dGhpcy53USl0aGlzLmxvZ2dlcigpLm5vdGljZSh0aGlzLmxvZ2dlcklkK1wiU3RvcHBpbmcgc2Vzc2lvbiBbXCIrdGhpcy53US5pZCtcIl1cIiksdGhpcy53US5jbG9zZShlLHQpO2Vsc2UgaWYodGhpcy5SUS5sZW5ndGg+MCl7dmFyIHI9dGhpcy5SUVswXTt0aGlzLmxvZ2dlcigpLm5vdGljZSh0aGlzLmxvZ2dlcklkK1wiQXR0ZW1wdCB0byBzdG9wcGluZyBzZXNzaW9uIFtcIityLmlkK1wiXVwiKSxyLmNsb3NlKGUsdCl9fSxlLnByb3RvdHlwZS5qUT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7bnVsbD09dGhpcy5RUSYmKHRoaXMuUVE9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLktRKCl9LHRoaXMub3B0aW9ucygpLmZlZWRiYWNrUGVyaW9kKSx0aGlzLktRKCkpfSxlLnByb3RvdHlwZS5HUT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5RUSksdGhpcy5RUT1udWxsfSxlLnByb3RvdHlwZS5LUT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5pc1Nlc3Npb25BY3RpdmUoKSl7aWYoIXRoaXMuaXNBY3RpdmUoKSlyZXR1cm4gdm9pZCB0aGlzLnJlc2V0U2Vzc2lvbigpO3ZhciB0PW5ldyB1LnVsO3QuUGw9dGhpcy5nZXRDdXJyZW50VGltZSgpLHQuQWw9dGhpcy5nZXRCdWZmZXJMZW4oKSx0Lk9sPXRoaXMuYlEsdC53aWR0aD10aGlzLmdldFdpbmRvd1NpemUoKS53aWR0aCx0LmhlaWdodD10aGlzLmdldFdpbmRvd1NpemUoKS5oZWlnaHQsdC5ZUT10aGlzLmlzRnVsbHNjcmVlbigpLHRoaXMud1EuaWwodGhpcy5GUS5ibCh0KSksdGhpcy53US50ZWNoLlNMKHRoaXMud1EsdCkuZmFpbChmdW5jdGlvbih0KXtlLmxvZ2dlcigpLndhcm4oZS5sb2dnZXJJZCtcInN0YXRzIGhhbmRsaW5nIGZhaWxlZFwiLHQpLGUuR1EoKX0pfX0sZS5wcm90b3R5cGUucmVnaXN0ZXJHZW5lcmljRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7dS5UbC52ZSh0aGlzLmxvZ2dlcigpKS55bChmdW5jdGlvbih0KXt2YXIgcj1lLmdldFBvdGVudGlhbFNlc3Npb24oKTtyJiYhci5zbCgpJiYoZS5vbkV2ZW50RmVlZGJhY2sodD9kLkdsLllwLktwOmQuR2wuWXAuSElEREVOKSxlLmxvZ2dlcigpLmRlYnVnKHQ/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIikpfSl9Y2F0Y2goZSl7VC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImVycm9yIHNldHRpbmcgdXAgdGhlIHZpc2liaWxpdHlDaGFuZ2UgbGlzdGVuZXJcIix0aGlzLmxvZ2dlcklkLHtlcnJvcjplfSl9fSxlLnByb3RvdHlwZS5vblN0YXJ0QnVmZmVyaW5nPWZ1bmN0aW9uKGUpe3RoaXMuaXNTZXNzaW9uQWN0aXZlKCkmJnRoaXMuQ1E8PTAmJih0aGlzLkNRPURhdGUubm93KCksKHZvaWQgMD09ZXx8ZSkmJnRoaXMub25FdmVudEZlZWRiYWNrKGQuR2wuWXAueHApKX0sZS5wcm90b3R5cGUub25FbmRCdWZmZXJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wPT10aGlzLmJRO2lmKHRoaXMuQ1E+MCl7dmFyIHQ9RGF0ZS5ub3coKS10aGlzLkNRO3JldHVybiB0aGlzLmJRKz10LHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5sb2dnZXJJZCtcInJlcG9ydGluZyBuZXcgYnVmZmVyaW5nIGV2ZW50IG9mIFwiK3QpLHRoaXMuQ1E9MCxlJiZ0aGlzLktRKCksITB9cmV0dXJuITF9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSEwKSx0aGlzLm9uRXZlbnRGZWVkYmFjayhkLkdsLllwLkVSUk9SLHtjb2RlOi0xLFwicGxheWVyLWNvZGVcIjplfSksciYmdGhpcy5yZXNldFNlc3Npb24oKX0sZS5wcm90b3R5cGUub25FdmVudEZlZWRiYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMuZ2V0UG90ZW50aWFsU2Vzc2lvbigpO251bGw9PWl8fGkhPXRoaXMud1EmJmkudGVjaC5nZXROYW1lKCk9PT13W3cuSGl2ZUphdmFdfHxpLnRlY2guQ0woaSxlLHQpLmZhaWwoZnVuY3Rpb24oZSl7ci5sb2dnZXIoKS53YXJuKHIubG9nZ2VySWQrXCJlcnJvciBpbiBmb3J3YXJkaW5nIHBsYXllciBldmVudCB0byB0ZWNoXCIsZSl9KX0sZS5wcm90b3R5cGUuZ2V0UG90ZW50aWFsU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLndRP3RoaXMud1E6dGhpcy5SUSYmdGhpcy5SUS5sZW5ndGg+MD90aGlzLlJRWzBdOnZvaWQgMH0sZS5wcm90b3R5cGUuaW5pdFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXt0aGlzLl9RPTB9LGUucHJvdG90eXBlLnNldFN0YXR1c0NvZGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmluaXRTdGF0dXNDb2RlKCk7dGhpcy5fUSs9ZTw8MjgsdCYmMD09PWUmJih0aGlzLl9RKz0xPDw0Kig2LXdbdC5nZXROYW1lKCldKSksZT4wJiZULkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiU3RhdHVzIENvZGUgRXJyb3JcIix0aGlzLmxvZ2dlcklkLHtjb2RlOkNbZV19LFtcIlBsdWdpbiBFcnJvciBDb2RlXCIsQ1tlXV0pfSxlLnByb3RvdHlwZS5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1F9LGUucHJvdG90eXBlLmdldFRlbGVtZXRyeUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucygpLnRlbGVtZXRyeUlkfSxlLmxvZ0Vycm9yPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPVQuRXJyb3JNb25pdG9yLnZlKCk7bi5sb2dFcnJvci5hcHBseShuLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbT1mdW5jdGlvbihlKXtPLnp1LnJlZ2lzdGVyQ29tbSh0aGlzLGUpfSxlfSgpO2UuUGx1Z2luPWF9KE09dC5IaXZlQ29tbXx8KHQuSGl2ZUNvbW09e30pKSxzLkZyYW1ld29yay4kKG5ldyBmLldRKSxzLkZyYW1ld29yay5pZShcInBlZXIwXCIsbmV3IEUuelEpLHMuRnJhbWV3b3JrLm5lKFwicGVlcjBcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5IaXZlUmVxdWVzdEZhY3Rvcnk9dS5IaXZlUmVxdWVzdEZhY3Rvcnksdm9pZCAwPT09d2luZG93LkhpdmVDb21tJiYod2luZG93LkhpdmVDb21tPXt9KSx3aW5kb3cuSGl2ZUNvbW0uUGx1Z2luPU0uUGx1Z2luLHdpbmRvdy5IaXZlQ29tbS5PcHRpb25zPVIuQVEsd2luZG93LkhpdmVDb21tLkhpdmVSZXF1ZXN0RmFjdG9yeT11LkhpdmVSZXF1ZXN0RmFjdG9yeSx3aW5kb3cuSGl2ZUNvbW0uenU9Ty56dSx3aW5kb3cuSGl2ZUNvbW0uSGl2ZVBsYXllckV4dGVuZGVkU3RhdHM9dS5IaXZlUGxheWVyRXh0ZW5kZWRTdGF0cyx3aW5kb3cuSGl2ZUNvbW0uVGVjaE5hbWU9YS5IaXZlQ29tbS5UZWNoTmFtZSx3aW5kb3cuSGl2ZUNvbW0ubG9nRXJyb3I9TS5QbHVnaW4ubG9nRXJyb3IpfSxmdW5jdGlvbihlLHQpe2lmKCFSZWdFeHAuZXNjYXBlKXt2YXIgcj0vWy1bXFxde30oKSorPy5cXFxcXiR8LCNcXHNdL2c7UmVnRXhwLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHIsXCJcXFxcJCZcIil9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIE1hcENoYW5nZXMgaXMgYSBtaXhpbi5cIil9dmFyIG49cigzNykscz1yKDUwKTtlLmk9aTt2YXIgbz0oT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuZXcgbiksYT1udWxsO2kucHJvdG90eXBlLkpRPWZ1bmN0aW9uKCl7cmV0dXJuIG8uaGFzKHRoaXMpfHwoYXx8KGE9cig1MSkpLG8uc2V0KHRoaXMsYSgpKSksby5nZXQodGhpcyl9LGkucHJvdG90eXBlLlhRPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuSlEoKTtyZXR1cm4gZT1lfHxcIlwiLHQuaGFzKGUpfHx0LnNldChlLHtZYzpuZXcgcyxXYzpuZXcgc30pLHQuZ2V0KGUpfSxpLnByb3RvdHlwZS5aUT1mdW5jdGlvbihlLHQscil7IXRoaXMuWmMmJnRoaXMuWGMmJnRoaXMuWGMoKTt2YXIgaSxuPXRoaXMuWFEodCk7aT1yP24uWWM6bi5XYyxpLnB1c2goZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkaXNwYXRjaGVzTWFwQ2hhbmdlc1wiLHt2YWx1ZTohMCxBaDohMCxsOiEwLHA6ITF9KTt2YXIgcz10aGlzO3JldHVybiBmdW5jdGlvbigpe3MmJihzLiRRKGUsdCxyKSxzPW51bGwpfX0saS5wcm90b3R5cGUuJFE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcy5YUSh0KTtpPXI/bi5ZYzpuLldjO3ZhciBzPWkuTGsoZSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIG1hcCBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiB0b2tlbiBcIitKU09OLnN0cmluZ2lmeSh0KSk7cy5kZWxldGUoKX0saS5wcm90b3R5cGUuWGs9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVwiTWFwXCIrKHI/XCJXaWxsQ2hhbmdlXCI6XCJDaGFuZ2VcIik7dGhpcy5KUSgpLmZvckVhY2goZnVuY3Rpb24obixzKXtpZighbi5pc0FjdGl2ZSl7bi5pc0FjdGl2ZT0hMDt2YXIgbztvPXI/bi5ZYzpuLldjO3ZhciBhPVwiaGFuZGxlXCIrKHMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpK3Muc2xpY2UoMSkpK2k7dHJ5e28uZm9yRWFjaChmdW5jdGlvbihyKXtpZihyW2FdKXJbYV0odCxlLHRoaXMpO2Vsc2V7aWYoIXIuY2FsbCl0aHJvdyBuZXcgRXJyb3IoXCJIYW5kbGVyIFwiK3IrXCIgaGFzIG5vIG1ldGhvZCBcIithK1wiIGFuZCBpcyBub3QgY2FsbGFibGVcIik7ci5jYWxsKHIsdCxlLHRoaXMpfX0sdGhpcyl9ZmluYWxseXtuLmlzQWN0aXZlPSExfX19LHRoaXMpfSxpLnByb3RvdHlwZS5lSz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLlpRKGUsdCwhMCl9LGkucHJvdG90eXBlLnRLPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJFEoZSx0LCEwKX0saS5wcm90b3R5cGUuSms9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5YayhlLHQsITApfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLG4pO3Q9dHx8T2JqZWN0LmNzLHI9cnx8T2JqZWN0Lmhhc2gsbj1ufHxGdW5jdGlvbi51cyx0aGlzLmxzPXQsdGhpcy5wcz1yLHRoaXMuZHM9bjt2YXIgcz10aGlzO3RoaXMucks9bmV3IHRoaXMuaUsobnVsbCxmdW5jdGlvbigpe3JldHVybiBuZXcgcy5uS30pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDExKSxyKDUxKSkscz1yKDUwKSxvPXIoMTIpLGE9cigzOSksaD1yKDY5KSxjPXIoMTMpO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS5pPWksaS5zSz1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxhLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLGkucHJvdG90eXBlLmlLPW4saS5wcm90b3R5cGUubks9cyxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMucHMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBzKGUpO3JldHVybiB0aGlzLnJLLmdldCh0KS5oYXMoZSl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj10aGlzLnBzKGUpLGk9dGhpcy5ySztyZXR1cm4gaS5oYXMocik/aS5nZXQocikuZ2V0KGUpOnRoaXMuZHMoZSl9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj10aGlzLnBzKGUpLGk9dGhpcy5ySztpZihpLmhhcyhyKSl7dmFyIG49aS5nZXQocik7aWYobi5kZWxldGUoZSkpcmV0dXJuIHRoaXMubGVuZ3RoLS0sMD09PW4ubGVuZ3RoJiZpLmRlbGV0ZShyKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnJLLmNsZWFyKCksdGhpcy5sZW5ndGg9MH0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHMoZSkscj10aGlzLnJLO3JldHVybiByLmhhcyh0KXx8ci5zZXQodCxuZXcgdGhpcy5uSyhudWxsLHRoaXMubHMpKSwhci5nZXQodCkuaGFzKGUpJiYoci5nZXQodCkuYWRkKGUpLHRoaXMubGVuZ3RoKyssITApfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl0saT0wO3JldHVybiB0aGlzLnJLLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBuLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwocix0LG4saSsrLHRoaXMpfSx0LHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApcmV0dXJuIHRoaXMucksuQmMoKS5CYygpfSxpLnByb3RvdHlwZS5IYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJLLnZhbHVlcygpLmtjKCkuSGMoKX0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe2U9ZXx8aC5oVSx0PXR8fHRoaXMudnMscnx8KHI9Y29uc29sZS5sb2csaT1jb25zb2xlKSxyPXIuYmluZChpKTt2YXIgbj10aGlzLnJLLHM9bi5rZXlzKCk7cy5mb3JFYWNoKGZ1bmN0aW9uKG8sYSl7dmFyIGgsYzthPT09cy5sZW5ndGgtMT8oaD1lLm5VLGM9XCIgXCIpOjA9PT1hPyhoPWUuclUsYz1lLm9VKTooaD1lLnNVLGM9ZS5vVSk7dmFyIHU9bi5nZXQobyk7ci5jYWxsKGksaCtlLmVVK2UuclUrXCIgXCIrbyksdS5mb3JFYWNoKGZ1bmN0aW9uKG4scyl7dmFyIG8sYTtzPT09dS5oZWFkLk9rPyhvPWUublUsYT1cIiBcIik6KG89ZS5zVSxhPWUub1UpO3ZhciBoO3QocyxmdW5jdGlvbih0KXtoP3IuY2FsbChpLGMrXCIgXCIrYStcIiAgXCIrdCk6KHIuY2FsbChpLGMrXCIgXCIrbytlLmVVK2UuZVUrdCksaD0hMCl9LGZ1bmN0aW9uKHQpe3IuY2FsbChpLGMrXCIgXCIrZS5vVStcIiAgXCIrdCl9KX0pfSl9LGkucHJvdG90eXBlLnZzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZTtPYmplY3Qocik9PT1yP0pTT04uc3RyaW5naWZ5KHIsbnVsbCw0KS5zcGxpdChcIlxcblwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoXCIgXCIrZSl9KTp0KFwiIFwiK3IpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUpO2lmKEFycmF5LmlzQXJyYXkoZSl8fFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBpLkhjKGUpO2lmKChlPW4oZSkpaW5zdGFuY2VvZiBpKXJldHVybiBlO2lmKGUubmV4dCl0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KCl9O2Vsc2UgaWYoZS5IYyl7dmFyIHQ9ZS5IYygpO3RoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0Lm5leHQoKX19ZWxzZXtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW4ndCBpdGVyYXRlIFwiK2UpO3RoaXMubmV4dD1lfX1lLmk9aTt2YXIgbj1yKDM2KSxzPXIoMTIpO2kucHJvdG90eXBlLmZvckVhY2g9cy5wcm90b3R5cGUuZm9yRWFjaCxpLnByb3RvdHlwZS5tYXA9cy5wcm90b3R5cGUubWFwLGkucHJvdG90eXBlLmZpbHRlcj1zLnByb3RvdHlwZS5maWx0ZXIsaS5wcm90b3R5cGUuZXZlcnk9cy5wcm90b3R5cGUuZXZlcnksaS5wcm90b3R5cGUuc29tZT1zLnByb3RvdHlwZS5zb21lLGkucHJvdG90eXBlLnVvPXMucHJvdG90eXBlLnVvLGkucHJvdG90eXBlLmFsbD1zLnByb3RvdHlwZS5hbGwsaS5wcm90b3R5cGUubWluPXMucHJvdG90eXBlLm1pbixpLnByb3RvdHlwZS5tYXg9cy5wcm90b3R5cGUubWF4LGkucHJvdG90eXBlLk5jPXMucHJvdG90eXBlLk5jLGkucHJvdG90eXBlLkRjPXMucHJvdG90eXBlLkRjLGkucHJvdG90eXBlLmtjPXMucHJvdG90eXBlLmtjLGkucHJvdG90eXBlLkxjPXMucHJvdG90eXBlLkxjLGkucHJvdG90eXBlLmVudW1lcmF0ZT1zLnByb3RvdHlwZS5lbnVtZXJhdGUsaS5wcm90b3R5cGUuRmM9cy5wcm90b3R5cGUuRmMsaS5wcm90b3R5cGUuZ3JvdXA9cy5wcm90b3R5cGUuZ3JvdXAsaS5wcm90b3R5cGUucmV2ZXJzZWQ9cy5wcm90b3R5cGUucmV2ZXJzZWQsaS5wcm90b3R5cGUudG9BcnJheT1zLnByb3RvdHlwZS50b0FycmF5LGkucHJvdG90eXBlLlBjPXMucHJvdG90eXBlLlBjLGkucHJvdG90eXBlLml0ZXJhdG9yPXMucHJvdG90eXBlLml0ZXJhdG9yLGkucHJvdG90eXBlLkdrPW51bGwsbi5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2t8fCh0aGlzLkdrPXtkb25lOiExLHZhbHVlOnZvaWQgMH0pfX0pLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LmFkZEVhY2goZSksdH0saS5wcm90b3R5cGUub0s9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7aWYoITAhPT10LlZrLmRvbmUpe3ZhciBpPWUuY2FsbChyLHQubmV4dCgpLnZhbHVlLHMrKyx0KTt0LlZrLnZhbHVlPWl9cmV0dXJuIHQuVmt9KX0saS5wcm90b3R5cGUuYUs9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7Zm9yKHZhciBpOzspe2lmKGk9dC5uZXh0KCksITA9PT1pLmRvbmUpcmV0dXJuIGk7aWYoZS5jYWxsKHIsaS52YWx1ZSxzKyssdCkpcmV0dXJuIGl9fSl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXt2YXIgdCxyPWkodGhpcykscz1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0sYT0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHQ9ci5uZXh0KCksITA9PT10LmRvbmUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlyZXR1cm4gYXJndW1lbnRzWzFdO3Rocm93IFR5cGVFcnJvcihcImNhbm5vdCByZWR1Y2UgYSB2YWx1ZSBmcm9tIGFuIGVtcHR5IGl0ZXJhdG9yIHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3Iocz1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKG8scyx0LnZhbHVlLGEscik6dC52YWx1ZSxhKys7Oyl7aWYodD1yLm5leHQoKSwhMD09PXQuZG9uZSlyZXR1cm4gcztzPWUuY2FsbChvLHMsdC52YWx1ZSxhLHIpLGErK319LGkucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbigpe3JldHVybiBpLmNvbmNhdChBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGkucHJvdG90eXBlLmhLPWZ1bmN0aW9uKGUpe3ZhciB0LHIscz1pKHRoaXMpLG89YXJndW1lbnRzWzFdLGE9ITEsaD0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7Oyl7aWYocj1zLm5leHQoKSwhMD09PXIuZG9uZSlicmVhaztpZighZS5jYWxsKG8sci52YWx1ZSxoLHMpKXthPSEwLHQ9ci52YWx1ZTticmVha31oKyt9cmV0dXJuIGE/cy5jb25zdHJ1Y3RvcihbdF0pLmNvbmNhdChzKTpzLmNvbnN0cnVjdG9yKFtdKX0saS5wcm90b3R5cGUuY0s9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7aWYoITAhPT10LlZrLmRvbmUpe3ZhciBpPXQubmV4dCgpLnZhbHVlO2UuY2FsbChyLGkscysrLHQpP3QuVmsudmFsdWU9aToodC5Way5kb25lPSEwLHQuVmsudmFsdWU9dm9pZCAwKX1yZXR1cm4gdC5Wa30pfSxpLnByb3RvdHlwZS51Sz1mdW5jdGlvbigpe3JldHVybiBpLk1jKEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0saS5wcm90b3R5cGUubEs9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY291bnQoZSkudUsodGhpcyl9LGkuSGM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9MCxuZXcgaShmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcig7ISh0IGluIGUpOyl7aWYodD49ZS5sZW5ndGgpe3RoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMDticmVha310Kz0xfWVsc2UgdD49ZS5sZW5ndGgmJih0aGlzLlZrLmRvbmU9ITAsdGhpcy5Way52YWx1ZT12b2lkIDApO3JldHVybiB0aGlzLlZrLmRvbmV8fCh0aGlzLlZrLnZhbHVlPWVbdF0sdCs9MSksdGhpcy5Wa30pfSxpLnBLPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9MS8wKSxuZXcgaShmdW5jdGlvbigpe3ZhciBuLHM7cmV0dXJuIHImJihzPXIoKSksciYmITAhPT1zLmRvbmV8fCh0PjA/KHQtLSxuPWkuSGMoZSkscz0ocj1uLm5leHQuYmluZChuKSkoKSk6KHRoaXMuVmsuZG9uZT0hMCxzPXRoaXMuVmspKSxzfSl9LGkuY29uY2F0PWZ1bmN0aW9uKGUpe2U9aShlKTt2YXIgdDtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiB0JiYobj10KCkpLG4mJiEwIT09bi5kb25lP246KG49ZS5uZXh0KCksITE9PT1uLmRvbmU/KHI9aShuLnZhbHVlKSwodD1yLm5leHQuYmluZChyKSkoKSk6bil9KX0saS5NYz1mdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLm1hcChpKSxuZXcgaSgwPT09ZS5sZW5ndGg/W106ZnVuY3Rpb24oKXt2YXIgdCxyLGk9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZS5uZXh0KCksITA9PT1yLmRvbmUmJih0PSEwKSxyLnZhbHVlfSk7cmV0dXJuIHQ/KHRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMCk6dGhpcy5Way52YWx1ZT1pLHRoaXMuVmt9KX0saS5MYz1mdW5jdGlvbigpe3JldHVybiBpLk1jKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxpLmNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxpLnJhbmdlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwzJiYocj0xKSxhcmd1bWVudHMubGVuZ3RoPDImJih0PWUsZT0wKSxlPWV8fDAscj1yfHwxLG5ldyBpKGZ1bmN0aW9uKCl7ZT49dCYmKHRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMCk7dmFyIGk9ZTtyZXR1cm4gZSs9cix0aGlzLlZrLnZhbHVlPWksdGhpcy5Wa30pfSxpLmNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkucmFuZ2UoZSwxLzAsdCl9LGkucmVwZWF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpLnJhbmdlKHQpLm9LKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApLHM9bi5IaXZlQ29tbS5PcHRpb25zLk9wdGlvbnMsbz1uLkhpdmVDb21tLk9wdGlvbnMubXA7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmF1dGhUb2tlbkVuYWJsZWQ9ITAsdC5kYXNoUmVtb3ZlQml0cmF0ZVNpemU9ITEsdC5kYXNoRmlsdGVyQml0cmF0ZXM9bnVsbCx0LnN0YXRpY1BhcnRuZXJJZD1udWxsLHQuc3RhdGljQ3VzdG9tZXJJZD1udWxsLHQuYXVkaW9NZXRyaWNzPSEwLHQubG9nSnNvblNuYXBzaG90cz12b2lkIDAsdH1yZXR1cm4gaSh0LGUpLHR9KHMpO2UuQVE9dDt2YXIgcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmhpdmVBdXRoVG9rZW5FbmFibGVkPVwiYXV0aFRva2VuRW5hYmxlZFwiLHQuaGl2ZURhc2hSZW1vdmVCaXRyYXRlU2l6ZT1cImRhc2hSZW1vdmVCaXRyYXRlU2l6ZVwiLHQuaGl2ZURhc2hGaWx0ZXJCaXRyYXRlcz1cImRhc2hGaWx0ZXJCaXRyYXRlc1wiLHQuaGl2ZUxvZ0pzb25TbmFwc2hvdHM9XCJsb2dKc29uU25hcHNob3RzXCIsdC5oaXZlU3RhdGljUGFydG5lcklkPVwic3RhdGljUGFydG5lcklkXCIsdC5oaXZlU3RhdGljQ3VzdG9tZXJJZD1cInN0YXRpY0N1c3RvbWVySWRcIix0LmhpdmVBdWRpb01ldHJpY3M9XCJhdWRpb01ldHJpY3NcIix0fXJldHVybiBpKHQsZSksdH0obyk7ZS5OUT1yfShlLk9wdGlvbnN8fChlLk9wdGlvbnM9e30pKX0odC5IaXZlQ29tbXx8KHQuSGl2ZUNvbW09e30pKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuRFE9ZnVuY3Rpb24oZSl7XCJkYXNoUmVtb3ZlQml0cmF0ZVNpemVcImluIGUmJmUuZGFzaFJlbW92ZUJpdHJhdGVTaXplJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuRGFzaCYmKHdpbmRvdy5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplPWUuZGFzaFJlbW92ZUJpdHJhdGVTaXplKSxcImRhc2hGaWx0ZXJCaXRyYXRlc1wiaW4gZSYmZS5kYXNoRmlsdGVyQml0cmF0ZXMmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoJiYod2luZG93LkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXM9ZS5kYXNoRmlsdGVyQml0cmF0ZXMpLFwic3RhdGljQ3VzdG9tZXJJZFwiaW4gZSYmZS5zdGF0aWNDdXN0b21lcklkJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuQ2xpZW50SW5mbyYmKHdpbmRvdy5IaXZlQ29uZmlnLkNsaWVudEluZm8udXU9ZS5zdGF0aWNDdXN0b21lcklkKSxcInN0YXRpY1BhcnRuZXJJZFwiaW4gZSYmZS5zdGF0aWNQYXJ0bmVySWQmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5DbGllbnRJbmZvJiYod2luZG93LkhpdmVDb25maWcuQ2xpZW50SW5mby5jdT1lLnN0YXRpY1BhcnRuZXJJZCksXCJhdWRpb01ldHJpY3NcImluIGUmJiFlLmF1ZGlvTWV0cmljcyYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLlN0YXRzJiYod2luZG93LkhpdmVDb25maWcuU3RhdHMuQXVkaW9BY2NvdW50aW5nPWUuYXVkaW9NZXRyaWNzKSxcImRldGVjdFByaXZhdGVJUFwiaW4gZSYmXCJib29sZWFuXCI9PXR5cGVvZiBlLmRldGVjdFByaXZhdGVJUCYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkNvbm5JbmZvJiYod2luZG93LkhpdmVDb25maWcuQ29ubkluZm8uZGV0ZWN0UHJpdmF0ZUlQPWUuZGV0ZWN0UHJpdmF0ZUlQKSxcImxvZ0pzb25TbmFwc2hvdHNcImluIGUmJmUubG9nSnNvblNuYXBzaG90cyYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncyYmKHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3M9MSx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3M9MSx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tlckxvZ3M9MSl9LGV9KCk7dC5rUT1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlW2UuSGl2ZUpTPTBdPVwiSGl2ZUpTXCIsZVtlLkhpdmVKYXZhPTFdPVwiSGl2ZUphdmFcIixlW2UuU3RhdHNKUz0yXT1cIlN0YXRzSlNcIixlW2UuSGl2ZUpzUHJveHk9M109XCJIaXZlSnNQcm94eVwifShlLlRRfHwoZS5UUT17fSkpOyFmdW5jdGlvbihlKXtlLlN0YXRzSlM9XCJTdGF0c0pTXCIsZS5IaXZlSnNQcm94eT1cIkhpdmVKc1Byb3h5XCIsZS5IaXZlSmF2YT1cIkhpdmVKYXZhXCIsZS5IaXZlSlM9XCJIaXZlSlNcIn0oZS5UZWNoTmFtZXx8KGUuVGVjaE5hbWU9e30pKX0odC5IaXZlQ29tbXx8KHQuSGl2ZUNvbW09e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7aWYodGhpcy5kSz1uZXcgQXJyYXksdGhpcy5jYWxsYmFja3M9bmV3IEFycmF5LGUuZmUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgS2V5SGFuZGxlckhpdmVDb21tLmdldEluc3RhbmNlKCkgaW5zdGVhZCBvZiBuZXcuXCIpO3ZhciByPXt9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7cltlLmtleUNvZGVdPSEwLHQuZksocil9LCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbihlKXtyPXt9fSwhMCl9cmV0dXJuIGUudmU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5mZSYmKHRoaXMuZmU9bmV3IGUpLHRoaXMuZmV9LGUucHJvdG90eXBlLnllPWZ1bmN0aW9uKGUsdCl7dGhpcy5kSy5wdXNoKGUpLHRoaXMuY2FsbGJhY2tzLnB1c2godCl9LGUucHJvdG90eXBlLmZLPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9MDtyPHRoaXMuZEsubGVuZ3RoO3IrKykhZnVuY3Rpb24ocil7dmFyIGk9ITA7dC5kS1tyXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9ZVt0XSYmZVt0XXx8KGk9ITEpfSksaSYmdC5jYWxsYmFja3Nbcl0oKX0ocil9LGV9KCk7dC5UZT1pfSxmdW5jdGlvbihlLHQpe2UuaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY0EmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmlsbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nS319LGZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9lLmk9ZnVuY3Rpb24oZSx0KXtlLkVLPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUscDohMSxBaDohMCxsOiEwfX0pfTplLmk9ZnVuY3Rpb24oZSx0KXtlLkVLPXQ7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0Miksbj1yKDI5KSxzPXIoMjEpLG89cigxKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnZLPW4uTC5wcD85OTg5Ojk5ODgsdGhpcy55Sz0tMSx0aGlzLmdMPWUsdGhpcy5USygpfXJldHVybiBlLnByb3RvdHlwZS5USz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5nTC5vcHRpb25zKCkuc2lsZW50JiYoSGl2ZUNvbmZpZyYmKEhpdmVDb25maWcuQ29ubkluZm8uZGV0ZWN0UHJpdmF0ZUlQPSEwKSx2b2lkIDA9PT10aGlzLm1LJiYodGhpcy51cmw9XCIvL1wiK2kuZnAuZE8rXCI6XCIrdGhpcy52SytcIi9mZWVkYmFja1wiLHRoaXMuZ0wubG9nZ2VyKCkuaW5mbyhcInN0YXJ0aW5nIHBlcmlvZGljIGFsaXZlIHBpbmcgdG8gaGl2ZSB0ZXN0ZXIgW1wiK3RoaXMudXJsK1wiXVwiKSx0aGlzLm1LPXNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5JSygpfSxuLkwuaFIpKSl9LGUucHJvdG90eXBlLklLPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ0wuZ2V0QWN0aXZlU2Vzc2lvbigpLHI9dm9pZCAwO3QmJihyPVwiU1tcIit0LmlkK1wiXVwiKTt2YXIgaT10aGlzLmdMLmdldEN1cnJlbnRUaW1lKCk7aT50aGlzLnlLPyh0aGlzLmdMLmxvZ2dlcigpLmluZm8oXCJzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmcgW1wiK2krXCIgPiBcIit0aGlzLnlLK1wiXVwiKSxzLmJwKHRoaXMudXJsKS50aGVuKGZ1bmN0aW9uKGUpe30sZnVuY3Rpb24odCl7by5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImVycm9yIHNlbmRpbmcgaGl2ZSB0ZXN0ZXIgcGluZ1wiLHIse2Vycm9yOnR9KSxjbGVhckludGVydmFsKGUubUspfSkpOnRoaXMuZ0wubG9nZ2VyKCkud2FybihcIm5vdCBzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmcgW1wiK2krXCIgPD0gXCIrdGhpcy55SytcIl1cIiksdGhpcy55Sz1pfSxlfSgpO3QuTFE9YX0sZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7ZS5pPXR9KS5jYWxsKHQse30pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0MCksbj1yKDExMikscz1yKDQ1KSxvPXIoMCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe2UuYmluZChuZXcgaS5aQShvLkZyYW1ld29yay5WLkksbi5TSyxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKG8uRnJhbWV3b3JrLlYuUixzLlROLnlOKSl9LGV9KCk7dC5XUT1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2OCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlJLPW5ldyBpLHRoaXMud0s9bmV3IGksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD90aGlzLmJLPWdsb2JhbDp0aGlzLmJLPXdpbmRvd31yZXR1cm4gZS5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5DSz1mdW5jdGlvbihlLHQscil7fSxlLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxlLnByb3RvdHlwZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMuYksuc2V0VGltZW91dChmdW5jdGlvbigpe3IuUksuZGVsZXRlKGkpLGUoKX0sdCk7cmV0dXJuIHRoaXMuUksuYWRkKGkpLGl9LGUucHJvdG90eXBlLmNsZWFyVGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5SSy5kZWxldGUoZSksdGhpcy5iSy5jbGVhclRpbWVvdXQoZSksITB9LGUucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5iSy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UoKX0sdCk7cmV0dXJuIHRoaXMud0suYWRkKHIpLHJ9LGUucHJvdG90eXBlLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMud0suZGVsZXRlKGUpLHRoaXMuYksuY2xlYXJJbnRlcnZhbChlKSwhMH0sZS5wcm90b3R5cGUuTz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5SSy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsZWFyVGltZW91dCh0KX0pLHRoaXMud0suZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGVhckludGVydmFsKHQpfSl9LGV9KCk7dC5TSz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0MCksbj1yKDApLHM9cig0NSksbz1yKDE5KSxhPXIoOCksaD1yKDIyKSxjPXIoNzUpLHU9cig3NiksbD1yKDc3KSxwPXIoNzkpLGQ9cig4MCksZj1yKDYpLGc9Zi5oZS5JaDtpZihnKXZhciBFPXIoODEpLkNIO2Vsc2UgdmFyIHY9cig4Mykubng7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtlLmJpbmQobmV3IGkuWkEoYS5wYy5oYyxvLmxwLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoYS5wYy5HLHUucUIsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShhLnBjLm5jLGwuV0IsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShhLnBjLk0scC52SCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKG4uRnJhbWV3b3JrLlYuUixzLlROLnlOLGkuJEEuc08pKSxnP2UuYmluZChuZXcgaS5aQShhLnBjLnNjLEUsaS4kQS5zTykpOmUuYmluZChuZXcgaS5aQShhLnBjLnNjLHYsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShhLnBjLm9jLGQuSUgsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShhLnBjLmNjLGMuU3RhdHMuWkYsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShhLnBjLmljLGMuU3RhdHMucWwsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShhLnBjLnVjLGguR2wuQmQsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShhLnBjLmxjLGguR2wucWwsaS4kQS5wTykpfSxlfSgpO3QuelE9eX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIoMzMpO1widW5kZWZpbmVkXCI9PXR5cGVvZiBoaXZlJiYoaGl2ZT17fSksdm9pZCAwPT09aGl2ZS5zbmFwc2hvdHMmJihoaXZlLnNuYXBzaG90cz17fSksaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYz1mdW5jdGlvbihlKXt0aGlzLnJlcU49bnVsbCx0aGlzLnJlc3BGYWxsYmFja049bnVsbCx0aGlzLnJlc3BGYWxsYmFja0Vyck49bnVsbCx0aGlzLnJlc3BQMnBOPW51bGwsdGhpcy5yZXFPdGhlck49bnVsbCx0aGlzLnJlc3BGYWxsYmFja090aGVyTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTj1udWxsLHRoaXMuc3JjUmVxTj1udWxsLHRoaXMuc3JjUmVzcE49bnVsbCx0aGlzLnNyY1Jlc3BFcnJOPW51bGwsdGhpcy5zcmNSZXFRdD1udWxsLHRoaXMuc3JjUmVzcFF0PW51bGwsdGhpcy5zcmNPdmVyUXQ9bnVsbCx0aGlzLnNyY090aGVyUmVxTj1udWxsLHRoaXMuc3JjT3RoZXJSZXNwTj1udWxsLHRoaXMuc3JjT3RoZXJSZXNwRXJyTj1udWxsLHRoaXMuc3JjT3RoZXJSZXFRdD1udWxsLHRoaXMuc3JjT3RoZXJSZXNwUXQ9bnVsbCx0aGlzLnNyY090aGVyT3ZlclF0PW51bGwsdGhpcy5wMnBTdWJSZXFOPW51bGwsdGhpcy5wMnBTdWJSZXNwTj1udWxsLHRoaXMucDJwU3ViUmVzcFBhcnROPW51bGwsdGhpcy5wMnBTdWJSZXNwRXJyTj1udWxsLHRoaXMucDJwU3ViUmVzcEV4cE49bnVsbCx0aGlzLnAycFN1YlJlcVF0PW51bGwsdGhpcy5wMnBTdWJSZXNwUXQ9bnVsbCx0aGlzLnAycERpcmVjdFF0PW51bGwsdGhpcy5wMnBSZWxheVF0PW51bGwsdGhpcy5wMnBOYXRRdD1udWxsLHRoaXMucDJwVWRwYlF0PW51bGwsdGhpcy5mYWxsQWdlbnRSZXNwTj1udWxsLHRoaXMuZmFsbEFnZW50UHJlZEhpdE49bnVsbCx0aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOPW51bGwsdGhpcy5mYWxsQWdlbnRQcmVkTWlzc049bnVsbCx0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tj1udWxsLHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PW51bGwsdGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQ9bnVsbCx0aGlzLnAycEFnZW50UHJlZEhpdE49bnVsbCx0aGlzLnAycEFnZW50UHJlZE1pc3NOPW51bGwsdGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj1udWxsLHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9bnVsbCx0aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0PW51bGwsdGhpcy5yZXNwUDJwT3RoZXJOPW51bGwsdGhpcy5sQ2FjaGVSZXNwTj1udWxsLHRoaXMubENhY2hlUmVzcFF0PW51bGwsdGhpcy5wMnBPdXRTaXRlTG93UHJpbz1udWxsLGUmJih2b2lkIDAhPT1lLnJlcU4mJm51bGwhPT1lLnJlcU4mJih0aGlzLnJlcU49ZS5yZXFOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja04mJm51bGwhPT1lLnJlc3BGYWxsYmFja04mJih0aGlzLnJlc3BGYWxsYmFja049ZS5yZXNwRmFsbGJhY2tOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja0Vyck4mJm51bGwhPT1lLnJlc3BGYWxsYmFja0Vyck4mJih0aGlzLnJlc3BGYWxsYmFja0Vyck49ZS5yZXNwRmFsbGJhY2tFcnJOKSx2b2lkIDAhPT1lLnJlc3BQMnBOJiZudWxsIT09ZS5yZXNwUDJwTiYmKHRoaXMucmVzcFAycE49ZS5yZXNwUDJwTiksdm9pZCAwIT09ZS5yZXFPdGhlck4mJm51bGwhPT1lLnJlcU90aGVyTiYmKHRoaXMucmVxT3RoZXJOPWUucmVxT3RoZXJOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja090aGVyTiYmbnVsbCE9PWUucmVzcEZhbGxiYWNrT3RoZXJOJiYodGhpcy5yZXNwRmFsbGJhY2tPdGhlck49ZS5yZXNwRmFsbGJhY2tPdGhlck4pLHZvaWQgMCE9PWUucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmbnVsbCE9PWUucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTj1lLnJlc3BGYWxsYmFja090aGVydEVyck4pLHZvaWQgMCE9PWUuc3JjUmVxTiYmbnVsbCE9PWUuc3JjUmVxTiYmKHRoaXMuc3JjUmVxTj1lLnNyY1JlcU4pLHZvaWQgMCE9PWUuc3JjUmVzcE4mJm51bGwhPT1lLnNyY1Jlc3BOJiYodGhpcy5zcmNSZXNwTj1lLnNyY1Jlc3BOKSx2b2lkIDAhPT1lLnNyY1Jlc3BFcnJOJiZudWxsIT09ZS5zcmNSZXNwRXJyTiYmKHRoaXMuc3JjUmVzcEVyck49ZS5zcmNSZXNwRXJyTiksdm9pZCAwIT09ZS5zcmNSZXFRdCYmbnVsbCE9PWUuc3JjUmVxUXQmJih0aGlzLnNyY1JlcVF0PWUuc3JjUmVxUXQpLHZvaWQgMCE9PWUuc3JjUmVzcFF0JiZudWxsIT09ZS5zcmNSZXNwUXQmJih0aGlzLnNyY1Jlc3BRdD1lLnNyY1Jlc3BRdCksdm9pZCAwIT09ZS5zcmNPdmVyUXQmJm51bGwhPT1lLnNyY092ZXJRdCYmKHRoaXMuc3JjT3ZlclF0PWUuc3JjT3ZlclF0KSx2b2lkIDAhPT1lLnNyY090aGVyUmVxTiYmbnVsbCE9PWUuc3JjT3RoZXJSZXFOJiYodGhpcy5zcmNPdGhlclJlcU49ZS5zcmNPdGhlclJlcU4pLHZvaWQgMCE9PWUuc3JjT3RoZXJSZXNwTiYmbnVsbCE9PWUuc3JjT3RoZXJSZXNwTiYmKHRoaXMuc3JjT3RoZXJSZXNwTj1lLnNyY090aGVyUmVzcE4pLHZvaWQgMCE9PWUuc3JjT3RoZXJSZXNwRXJyTiYmbnVsbCE9PWUuc3JjT3RoZXJSZXNwRXJyTiYmKHRoaXMuc3JjT3RoZXJSZXNwRXJyTj1lLnNyY090aGVyUmVzcEVyck4pLHZvaWQgMCE9PWUuc3JjT3RoZXJSZXFRdCYmbnVsbCE9PWUuc3JjT3RoZXJSZXFRdCYmKHRoaXMuc3JjT3RoZXJSZXFRdD1lLnNyY090aGVyUmVxUXQpLHZvaWQgMCE9PWUuc3JjT3RoZXJSZXNwUXQmJm51bGwhPT1lLnNyY090aGVyUmVzcFF0JiYodGhpcy5zcmNPdGhlclJlc3BRdD1lLnNyY090aGVyUmVzcFF0KSx2b2lkIDAhPT1lLnNyY090aGVyT3ZlclF0JiZudWxsIT09ZS5zcmNPdGhlck92ZXJRdCYmKHRoaXMuc3JjT3RoZXJPdmVyUXQ9ZS5zcmNPdGhlck92ZXJRdCksdm9pZCAwIT09ZS5wMnBTdWJSZXFOJiZudWxsIT09ZS5wMnBTdWJSZXFOJiYodGhpcy5wMnBTdWJSZXFOPWUucDJwU3ViUmVxTiksdm9pZCAwIT09ZS5wMnBTdWJSZXNwTiYmbnVsbCE9PWUucDJwU3ViUmVzcE4mJih0aGlzLnAycFN1YlJlc3BOPWUucDJwU3ViUmVzcE4pLHZvaWQgMCE9PWUucDJwU3ViUmVzcFBhcnROJiZudWxsIT09ZS5wMnBTdWJSZXNwUGFydE4mJih0aGlzLnAycFN1YlJlc3BQYXJ0Tj1lLnAycFN1YlJlc3BQYXJ0Tiksdm9pZCAwIT09ZS5wMnBTdWJSZXNwRXJyTiYmbnVsbCE9PWUucDJwU3ViUmVzcEVyck4mJih0aGlzLnAycFN1YlJlc3BFcnJOPWUucDJwU3ViUmVzcEVyck4pLHZvaWQgMCE9PWUucDJwU3ViUmVzcEV4cE4mJm51bGwhPT1lLnAycFN1YlJlc3BFeHBOJiYodGhpcy5wMnBTdWJSZXNwRXhwTj1lLnAycFN1YlJlc3BFeHBOKSx2b2lkIDAhPT1lLnAycFN1YlJlcVF0JiZudWxsIT09ZS5wMnBTdWJSZXFRdCYmKHRoaXMucDJwU3ViUmVxUXQ9ZS5wMnBTdWJSZXFRdCksdm9pZCAwIT09ZS5wMnBTdWJSZXNwUXQmJm51bGwhPT1lLnAycFN1YlJlc3BRdCYmKHRoaXMucDJwU3ViUmVzcFF0PWUucDJwU3ViUmVzcFF0KSx2b2lkIDAhPT1lLnAycERpcmVjdFF0JiZudWxsIT09ZS5wMnBEaXJlY3RRdCYmKHRoaXMucDJwRGlyZWN0UXQ9ZS5wMnBEaXJlY3RRdCksdm9pZCAwIT09ZS5wMnBSZWxheVF0JiZudWxsIT09ZS5wMnBSZWxheVF0JiYodGhpcy5wMnBSZWxheVF0PWUucDJwUmVsYXlRdCksdm9pZCAwIT09ZS5wMnBOYXRRdCYmbnVsbCE9PWUucDJwTmF0UXQmJih0aGlzLnAycE5hdFF0PWUucDJwTmF0UXQpLHZvaWQgMCE9PWUucDJwVWRwYlF0JiZudWxsIT09ZS5wMnBVZHBiUXQmJih0aGlzLnAycFVkcGJRdD1lLnAycFVkcGJRdCksdm9pZCAwIT09ZS5mYWxsQWdlbnRSZXNwTiYmbnVsbCE9PWUuZmFsbEFnZW50UmVzcE4mJih0aGlzLmZhbGxBZ2VudFJlc3BOPWUuZmFsbEFnZW50UmVzcE4pLHZvaWQgMCE9PWUuZmFsbEFnZW50UHJlZEhpdE4mJm51bGwhPT1lLmZhbGxBZ2VudFByZWRIaXROJiYodGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj1lLmZhbGxBZ2VudFByZWRIaXROKSx2b2lkIDAhPT1lLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiZudWxsIT09ZS5mYWxsQWdlbnRGYWlsZWRSZXNwTiYmKHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE49ZS5mYWxsQWdlbnRGYWlsZWRSZXNwTiksdm9pZCAwIT09ZS5mYWxsQWdlbnRQcmVkTWlzc04mJm51bGwhPT1lLmZhbGxBZ2VudFByZWRNaXNzTiYmKHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOPWUuZmFsbEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT1lLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmbnVsbCE9PWUuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROJiYodGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE49ZS5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4pLHZvaWQgMCE9PWUuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiZudWxsIT09ZS5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJih0aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCksdm9pZCAwIT09ZS5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQmJm51bGwhPT1lLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0PWUuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZEhpdE4mJm51bGwhPT1lLnAycEFnZW50UHJlZEhpdE4mJih0aGlzLnAycEFnZW50UHJlZEhpdE49ZS5wMnBBZ2VudFByZWRIaXROKSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZE1pc3NOJiZudWxsIT09ZS5wMnBBZ2VudFByZWRNaXNzTiYmKHRoaXMucDJwQWdlbnRQcmVkTWlzc049ZS5wMnBBZ2VudFByZWRNaXNzTiksdm9pZCAwIT09ZS5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0TiYmbnVsbCE9PWUucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJih0aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPWUucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4pLHZvaWQgMCE9PWUucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJm51bGwhPT1lLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT1lLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiZudWxsIT09ZS5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQ9ZS5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdCksdm9pZCAwIT09ZS5yZXNwUDJwT3RoZXJOJiZudWxsIT09ZS5yZXNwUDJwT3RoZXJOJiYodGhpcy5yZXNwUDJwT3RoZXJOPWUucmVzcFAycE90aGVyTiksdm9pZCAwIT09ZS5sQ2FjaGVSZXNwTiYmbnVsbCE9PWUubENhY2hlUmVzcE4mJih0aGlzLmxDYWNoZVJlc3BOPWUubENhY2hlUmVzcE4pLHZvaWQgMCE9PWUubENhY2hlUmVzcFF0JiZudWxsIT09ZS5sQ2FjaGVSZXNwUXQmJih0aGlzLmxDYWNoZVJlc3BRdD1lLmxDYWNoZVJlc3BRdCksdm9pZCAwIT09ZS5wMnBPdXRTaXRlTG93UHJpbyYmbnVsbCE9PWUucDJwT3V0U2l0ZUxvd1ByaW8mJih0aGlzLnAycE91dFNpdGVMb3dQcmlvPWUucDJwT3V0U2l0ZUxvd1ByaW8pKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpYy5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuVHJhZmZpYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMucmVxTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkRPVUJMRT90aGlzLnJlc3BGYWxsYmFja049ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5yZXNwRmFsbGJhY2tFcnJOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuRE9VQkxFP3RoaXMucmVzcFAycE49ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5JMzI/dGhpcy5yZXFPdGhlck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA2OnI9PWkuVHlwZS5JMzI/dGhpcy5yZXNwRmFsbGJhY2tPdGhlck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA3OnI9PWkuVHlwZS5JMzI/dGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgODpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjUmVxTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDk6cj09aS5UeXBlLkkzMj90aGlzLnNyY1Jlc3BOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5UeXBlLkkzMj90aGlzLnNyY1Jlc3BFcnJOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5UeXBlLkk2ND90aGlzLnNyY1JlcVF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTI6cj09aS5UeXBlLkk2ND90aGlzLnNyY1Jlc3BRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDEzOnI9PWkuVHlwZS5JNjQ/dGhpcy5zcmNPdmVyUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNDpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjT3RoZXJSZXFOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTU6cj09aS5UeXBlLkkzMj90aGlzLnNyY090aGVyUmVzcE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNjpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjT3RoZXJSZXNwRXJyTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE3OnI9PWkuVHlwZS5JNjQ/dGhpcy5zcmNPdGhlclJlcVF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTg6cj09aS5UeXBlLkk2ND90aGlzLnNyY090aGVyUmVzcFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTk6cj09aS5UeXBlLkk2ND90aGlzLnNyY090aGVyT3ZlclF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjA6cj09aS5UeXBlLkkzMj90aGlzLnAycFN1YlJlcU49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMTpyPT1pLlR5cGUuSTMyP3RoaXMucDJwU3ViUmVzcE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMjpyPT1pLlR5cGUuRE9VQkxFP3RoaXMucDJwU3ViUmVzcFBhcnROPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjM6cj09aS5UeXBlLkRPVUJMRT90aGlzLnAycFN1YlJlc3BFcnJOPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjQ6cj09aS5UeXBlLkkzMj90aGlzLnAycFN1YlJlc3BFeHBOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjU6cj09aS5UeXBlLkk2ND90aGlzLnAycFN1YlJlcVF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjY6cj09aS5UeXBlLkk2ND90aGlzLnAycFN1YlJlc3BRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI3OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBEaXJlY3RRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI4OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBSZWxheVF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjk6cj09aS5UeXBlLkk2ND90aGlzLnAycE5hdFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzA6cj09aS5UeXBlLkk2ND90aGlzLnAycFVkcGJRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDMxOnI9PWkuVHlwZS5JMzI/dGhpcy5mYWxsQWdlbnRSZXNwTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDMyOnI9PWkuVHlwZS5JMzI/dGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDMzOnI9PWkuVHlwZS5JMzI/dGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM0OnI9PWkuVHlwZS5JMzI/dGhpcy5mYWxsQWdlbnRQcmVkTWlzc049ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNTpyPT1pLlR5cGUuSTMyP3RoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzY6cj09aS5UeXBlLkk2ND90aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM3OnI9PWkuVHlwZS5JNjQ/dGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzODpyPT1pLlR5cGUuSTMyP3RoaXMucDJwQWdlbnRQcmVkSGl0Tj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM5OnI9PWkuVHlwZS5JMzI/dGhpcy5wMnBBZ2VudFByZWRNaXNzTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQwOnI9PWkuVHlwZS5JMzI/dGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQxOnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQyOnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQzOnI9PWkuVHlwZS5JMzI/dGhpcy5yZXNwUDJwT3RoZXJOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDQ6cj09aS5UeXBlLkkzMj90aGlzLmxDYWNoZVJlc3BOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDU6cj09aS5UeXBlLkk2ND90aGlzLmxDYWNoZVJlc3BRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQ2OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBPdXRTaXRlTG93UHJpbz1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWZmaWNcIiksbnVsbCE9PXRoaXMucmVxTiYmdm9pZCAwIT09dGhpcy5yZXFOJiYoZS54YihcInJlcU5cIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5yZXFOKSxlLkdiKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja04mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrTiYmKGUueGIoXCJyZXNwRmFsbGJhY2tOXCIsaS5UeXBlLkRPVUJMRSwyKSxlLllDKHRoaXMucmVzcEZhbGxiYWNrTiksZS5HYigpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tFcnJOJiZ2b2lkIDAhPT10aGlzLnJlc3BGYWxsYmFja0Vyck4mJihlLnhiKFwicmVzcEZhbGxiYWNrRXJyTlwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLnJlc3BGYWxsYmFja0Vyck4pLGUuR2IoKSksbnVsbCE9PXRoaXMucmVzcFAycE4mJnZvaWQgMCE9PXRoaXMucmVzcFAycE4mJihlLnhiKFwicmVzcFAycE5cIixpLlR5cGUuRE9VQkxFLDQpLGUuWUModGhpcy5yZXNwUDJwTiksZS5HYigpKSxudWxsIT09dGhpcy5yZXFPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVxT3RoZXJOJiYoZS54YihcInJlcU90aGVyTlwiLGkuVHlwZS5JMzIsNSksZS5WYih0aGlzLnJlcU90aGVyTiksZS5HYigpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrT3RoZXJOJiYoZS54YihcInJlc3BGYWxsYmFja090aGVyTlwiLGkuVHlwZS5JMzIsNiksZS5WYih0aGlzLnJlc3BGYWxsYmFja090aGVyTiksZS5HYigpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOJiZ2b2lkIDAhPT10aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4mJihlLnhiKFwicmVzcEZhbGxiYWNrT3RoZXJ0RXJyTlwiLGkuVHlwZS5JMzIsNyksZS5WYih0aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjUmVxTiYmdm9pZCAwIT09dGhpcy5zcmNSZXFOJiYoZS54YihcInNyY1JlcU5cIixpLlR5cGUuSTMyLDgpLGUuVmIodGhpcy5zcmNSZXFOKSxlLkdiKCkpLG51bGwhPT10aGlzLnNyY1Jlc3BOJiZ2b2lkIDAhPT10aGlzLnNyY1Jlc3BOJiYoZS54YihcInNyY1Jlc3BOXCIsaS5UeXBlLkkzMiw5KSxlLlZiKHRoaXMuc3JjUmVzcE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMuc3JjUmVzcEVyck4mJihlLnhiKFwic3JjUmVzcEVyck5cIixpLlR5cGUuSTMyLDEwKSxlLlZiKHRoaXMuc3JjUmVzcEVyck4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjUmVxUXQmJnZvaWQgMCE9PXRoaXMuc3JjUmVxUXQmJihlLnhiKFwic3JjUmVxUXRcIixpLlR5cGUuSTY0LDExKSxlLktDKHRoaXMuc3JjUmVxUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjUmVzcFF0JiZ2b2lkIDAhPT10aGlzLnNyY1Jlc3BRdCYmKGUueGIoXCJzcmNSZXNwUXRcIixpLlR5cGUuSTY0LDEyKSxlLktDKHRoaXMuc3JjUmVzcFF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnNyY092ZXJRdCYmdm9pZCAwIT09dGhpcy5zcmNPdmVyUXQmJihlLnhiKFwic3JjT3ZlclF0XCIsaS5UeXBlLkk2NCwxMyksZS5LQyh0aGlzLnNyY092ZXJRdCksZS5HYigpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlcU4mJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXFOJiYoZS54YihcInNyY090aGVyUmVxTlwiLGkuVHlwZS5JMzIsMTQpLGUuVmIodGhpcy5zcmNPdGhlclJlcU4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXNwTiYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlc3BOJiYoZS54YihcInNyY090aGVyUmVzcE5cIixpLlR5cGUuSTMyLDE1KSxlLlZiKHRoaXMuc3JjT3RoZXJSZXNwTiksZS5HYigpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BFcnJOJiZ2b2lkIDAhPT10aGlzLnNyY090aGVyUmVzcEVyck4mJihlLnhiKFwic3JjT3RoZXJSZXNwRXJyTlwiLGkuVHlwZS5JMzIsMTYpLGUuVmIodGhpcy5zcmNPdGhlclJlc3BFcnJOKSxlLkdiKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVxUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXFRdCYmKGUueGIoXCJzcmNPdGhlclJlcVF0XCIsaS5UeXBlLkk2NCwxNyksZS5LQyh0aGlzLnNyY090aGVyUmVxUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXNwUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXNwUXQmJihlLnhiKFwic3JjT3RoZXJSZXNwUXRcIixpLlR5cGUuSTY0LDE4KSxlLktDKHRoaXMuc3JjT3RoZXJSZXNwUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJPdmVyUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJPdmVyUXQmJihlLnhiKFwic3JjT3RoZXJPdmVyUXRcIixpLlR5cGUuSTY0LDE5KSxlLktDKHRoaXMuc3JjT3RoZXJPdmVyUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVxTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXFOJiYoZS54YihcInAycFN1YlJlcU5cIixpLlR5cGUuSTMyLDIwKSxlLlZiKHRoaXMucDJwU3ViUmVxTiksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwTiYmKGUueGIoXCJwMnBTdWJSZXNwTlwiLGkuVHlwZS5JMzIsMjEpLGUuVmIodGhpcy5wMnBTdWJSZXNwTiksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwUGFydE4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcFBhcnROJiYoZS54YihcInAycFN1YlJlc3BQYXJ0TlwiLGkuVHlwZS5ET1VCTEUsMjIpLGUuWUModGhpcy5wMnBTdWJSZXNwUGFydE4pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcEVyck4mJihlLnhiKFwicDJwU3ViUmVzcEVyck5cIixpLlR5cGUuRE9VQkxFLDIzKSxlLllDKHRoaXMucDJwU3ViUmVzcEVyck4pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcEV4cE4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcEV4cE4mJihlLnhiKFwicDJwU3ViUmVzcEV4cE5cIixpLlR5cGUuSTMyLDI0KSxlLlZiKHRoaXMucDJwU3ViUmVzcEV4cE4pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVxUXQmJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVxUXQmJihlLnhiKFwicDJwU3ViUmVxUXRcIixpLlR5cGUuSTY0LDI1KSxlLktDKHRoaXMucDJwU3ViUmVxUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcFF0JiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlc3BRdCYmKGUueGIoXCJwMnBTdWJSZXNwUXRcIixpLlR5cGUuSTY0LDI2KSxlLktDKHRoaXMucDJwU3ViUmVzcFF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycERpcmVjdFF0JiZ2b2lkIDAhPT10aGlzLnAycERpcmVjdFF0JiYoZS54YihcInAycERpcmVjdFF0XCIsaS5UeXBlLkk2NCwyNyksZS5LQyh0aGlzLnAycERpcmVjdFF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFJlbGF5UXQmJnZvaWQgMCE9PXRoaXMucDJwUmVsYXlRdCYmKGUueGIoXCJwMnBSZWxheVF0XCIsaS5UeXBlLkk2NCwyOCksZS5LQyh0aGlzLnAycFJlbGF5UXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwTmF0UXQmJnZvaWQgMCE9PXRoaXMucDJwTmF0UXQmJihlLnhiKFwicDJwTmF0UXRcIixpLlR5cGUuSTY0LDI5KSxlLktDKHRoaXMucDJwTmF0UXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwVWRwYlF0JiZ2b2lkIDAhPT10aGlzLnAycFVkcGJRdCYmKGUueGIoXCJwMnBVZHBiUXRcIixpLlR5cGUuSTY0LDMwKSxlLktDKHRoaXMucDJwVWRwYlF0KSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFJlc3BOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFJlc3BOJiYoZS54YihcImZhbGxBZ2VudFJlc3BOXCIsaS5UeXBlLkkzMiwzMSksZS5WYih0aGlzLmZhbGxBZ2VudFJlc3BOKSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRIaXROJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFByZWRIaXROJiYoZS54YihcImZhbGxBZ2VudFByZWRIaXROXCIsaS5UeXBlLkkzMiwzMiksZS5WYih0aGlzLmZhbGxBZ2VudFByZWRIaXROKSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiYoZS54YihcImZhbGxBZ2VudEZhaWxlZFJlc3BOXCIsaS5UeXBlLkkzMiwzMyksZS5WYih0aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOKSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRNaXNzTiYmdm9pZCAwIT09dGhpcy5mYWxsQWdlbnRQcmVkTWlzc04mJihlLnhiKFwiZmFsbEFnZW50UHJlZE1pc3NOXCIsaS5UeXBlLkkzMiwzNCksZS5WYih0aGlzLmZhbGxBZ2VudFByZWRNaXNzTiksZS5HYigpKSxudWxsIT09dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROJiYoZS54YihcImZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TlwiLGkuVHlwZS5JMzIsMzUpLGUuVmIodGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKGUueGIoXCJmYWxsQWdlblRyYWZmaWNTdWNjZXNzUXRcIixpLlR5cGUuSTY0LDM2KSxlLktDKHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0KSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmdm9pZCAwIT09dGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQmJihlLnhiKFwiZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0XCIsaS5UeXBlLkk2NCwzNyksZS5LQyh0aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBBZ2VudFByZWRIaXROJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZEhpdE4mJihlLnhiKFwicDJwQWdlbnRQcmVkSGl0TlwiLGkuVHlwZS5JMzIsMzgpLGUuVmIodGhpcy5wMnBBZ2VudFByZWRIaXROKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZE1pc3NOJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZE1pc3NOJiYoZS54YihcInAycEFnZW50UHJlZE1pc3NOXCIsaS5UeXBlLkkzMiwzOSksZS5WYih0aGlzLnAycEFnZW50UHJlZE1pc3NOKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiYoZS54YihcInAycEFnZW50UHJlZFBhcnRpYWxIaXROXCIsaS5UeXBlLkkzMiw0MCksZS5WYih0aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiZ2b2lkIDAhPT10aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYoZS54YihcInAycEFnZW5UcmFmZmljU3VjY2Vzc1F0XCIsaS5UeXBlLkk2NCw0MSksZS5LQyh0aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiZ2b2lkIDAhPT10aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiYoZS54YihcInAycEFnZW5UcmFmZmljRmFpbHVyZVF0XCIsaS5UeXBlLkk2NCw0MiksZS5LQyh0aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnJlc3BQMnBPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVzcFAycE90aGVyTiYmKGUueGIoXCJyZXNwUDJwT3RoZXJOXCIsaS5UeXBlLkkzMiw0MyksZS5WYih0aGlzLnJlc3BQMnBPdGhlck4pLGUuR2IoKSksbnVsbCE9PXRoaXMubENhY2hlUmVzcE4mJnZvaWQgMCE9PXRoaXMubENhY2hlUmVzcE4mJihlLnhiKFwibENhY2hlUmVzcE5cIixpLlR5cGUuSTMyLDQ0KSxlLlZiKHRoaXMubENhY2hlUmVzcE4pLGUuR2IoKSksbnVsbCE9PXRoaXMubENhY2hlUmVzcFF0JiZ2b2lkIDAhPT10aGlzLmxDYWNoZVJlc3BRdCYmKGUueGIoXCJsQ2FjaGVSZXNwUXRcIixpLlR5cGUuSTY0LDQ1KSxlLktDKHRoaXMubENhY2hlUmVzcFF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycE91dFNpdGVMb3dQcmlvJiZ2b2lkIDAhPT10aGlzLnAycE91dFNpdGVMb3dQcmlvJiYoZS54YihcInAycE91dFNpdGVMb3dQcmlvXCIsaS5UeXBlLkk2NCw0NiksZS5LQyh0aGlzLnAycE91dFNpdGVMb3dQcmlvKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3M9ZnVuY3Rpb24oZSl7dGhpcy51cEJXPW51bGwsdGhpcy5kb3duQlc9bnVsbCx0aGlzLm1lbU49bnVsbCx0aGlzLnBydEluTj1udWxsLHRoaXMucHJ0T3V0Tj1udWxsLHRoaXMuaW5pdFZpZGVvQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQXZnQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQnVmTj1udWxsLHRoaXMuaW5pdEF1ZGlvQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQXZnQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQnVmTj1udWxsLHRoaXMuYml0cmF0ZVVwTj1udWxsLHRoaXMuYml0cmF0ZUR3bk49bnVsbCx0aGlzLmRlbGF5PW51bGwsdGhpcy5kZWxheUVuZm9yY2VtZW50PW51bGwsdGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD1udWxsLHRoaXMubG9va3VwUmVxQWNjZXB0PW51bGwsdGhpcy5mYWxsYmFja0F2Z1RwPW51bGwsdGhpcy5zcmNUaHJvdWdocHV0PW51bGwsdGhpcy5kaXNrUmVhZFRpbWVvdXQ9bnVsbCx0aGlzLmRpc2tSZWFkUmF0ZT1udWxsLHRoaXMuZGlza1N0b3JlUmF0ZT1udWxsLHRoaXMuZGlza1JlbW92ZVJhdGU9bnVsbCx0aGlzLmRpc2tDYWNoZVNpemU9bnVsbCx0aGlzLmNsaWVudEJ1ZmZlck1zPW51bGwsdGhpcy5sb29rdXBUb3RhbD1udWxsLHRoaXMubG9va3VwTm90Rm91bmQ9bnVsbCx0aGlzLmxvb2t1cEZhaWxlZD1udWxsLHRoaXMubG9va3VwTGF0ZW5jeT1udWxsLHRoaXMudHJhY2tlckZhaWxlZD1udWxsLHRoaXMudHJhY2tlckxhdGVuY3k9bnVsbCx0aGlzLnNuYXBzaG90RmFpbGVkPW51bGwsdGhpcy5zbmFwc2hvdExhdGVuY3k9bnVsbCx0aGlzLl9LPW51bGwsZSYmKHZvaWQgMCE9PWUudXBCVyYmbnVsbCE9PWUudXBCVyYmKHRoaXMudXBCVz1lLnVwQlcpLHZvaWQgMCE9PWUuZG93bkJXJiZudWxsIT09ZS5kb3duQlcmJih0aGlzLmRvd25CVz1lLmRvd25CVyksdm9pZCAwIT09ZS5tZW1OJiZudWxsIT09ZS5tZW1OJiYodGhpcy5tZW1OPWUubWVtTiksdm9pZCAwIT09ZS5wcnRJbk4mJm51bGwhPT1lLnBydEluTiYmKHRoaXMucHJ0SW5OPWUucHJ0SW5OKSx2b2lkIDAhPT1lLnBydE91dE4mJm51bGwhPT1lLnBydE91dE4mJih0aGlzLnBydE91dE49ZS5wcnRPdXROKSx2b2lkIDAhPT1lLmluaXRWaWRlb0J1ZlF0JiZudWxsIT09ZS5pbml0VmlkZW9CdWZRdCYmKHRoaXMuaW5pdFZpZGVvQnVmUXQ9ZS5pbml0VmlkZW9CdWZRdCksdm9pZCAwIT09ZS52aWRlb0F2Z0J1ZlF0JiZudWxsIT09ZS52aWRlb0F2Z0J1ZlF0JiYodGhpcy52aWRlb0F2Z0J1ZlF0PWUudmlkZW9BdmdCdWZRdCksdm9pZCAwIT09ZS52aWRlb0J1ZlF0JiZudWxsIT09ZS52aWRlb0J1ZlF0JiYodGhpcy52aWRlb0J1ZlF0PWUudmlkZW9CdWZRdCksdm9pZCAwIT09ZS52aWRlb0J1Zk4mJm51bGwhPT1lLnZpZGVvQnVmTiYmKHRoaXMudmlkZW9CdWZOPWUudmlkZW9CdWZOKSx2b2lkIDAhPT1lLmluaXRBdWRpb0J1ZlF0JiZudWxsIT09ZS5pbml0QXVkaW9CdWZRdCYmKHRoaXMuaW5pdEF1ZGlvQnVmUXQ9ZS5pbml0QXVkaW9CdWZRdCksdm9pZCAwIT09ZS5hdWRpb0F2Z0J1ZlF0JiZudWxsIT09ZS5hdWRpb0F2Z0J1ZlF0JiYodGhpcy5hdWRpb0F2Z0J1ZlF0PWUuYXVkaW9BdmdCdWZRdCksdm9pZCAwIT09ZS5hdWRpb0J1ZlF0JiZudWxsIT09ZS5hdWRpb0J1ZlF0JiYodGhpcy5hdWRpb0J1ZlF0PWUuYXVkaW9CdWZRdCksdm9pZCAwIT09ZS5hdWRpb0J1Zk4mJm51bGwhPT1lLmF1ZGlvQnVmTiYmKHRoaXMuYXVkaW9CdWZOPWUuYXVkaW9CdWZOKSx2b2lkIDAhPT1lLmJpdHJhdGVVcE4mJm51bGwhPT1lLmJpdHJhdGVVcE4mJih0aGlzLmJpdHJhdGVVcE49ZS5iaXRyYXRlVXBOKSx2b2lkIDAhPT1lLmJpdHJhdGVEd25OJiZudWxsIT09ZS5iaXRyYXRlRHduTiYmKHRoaXMuYml0cmF0ZUR3bk49ZS5iaXRyYXRlRHduTiksdm9pZCAwIT09ZS5kZWxheSYmbnVsbCE9PWUuZGVsYXkmJih0aGlzLmRlbGF5PWUuZGVsYXkpLHZvaWQgMCE9PWUuZGVsYXlFbmZvcmNlbWVudCYmbnVsbCE9PWUuZGVsYXlFbmZvcmNlbWVudCYmKHRoaXMuZGVsYXlFbmZvcmNlbWVudD1lLmRlbGF5RW5mb3JjZW1lbnQpLHZvaWQgMCE9PWUubG9va3VwUmVxRXN0YWJsaXNoZWQmJm51bGwhPT1lLmxvb2t1cFJlcUVzdGFibGlzaGVkJiYodGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD1lLmxvb2t1cFJlcUVzdGFibGlzaGVkKSx2b2lkIDAhPT1lLmxvb2t1cFJlcUFjY2VwdCYmbnVsbCE9PWUubG9va3VwUmVxQWNjZXB0JiYodGhpcy5sb29rdXBSZXFBY2NlcHQ9ZS5sb29rdXBSZXFBY2NlcHQpLHZvaWQgMCE9PWUuZmFsbGJhY2tBdmdUcCYmbnVsbCE9PWUuZmFsbGJhY2tBdmdUcCYmKHRoaXMuZmFsbGJhY2tBdmdUcD1lLmZhbGxiYWNrQXZnVHApLHZvaWQgMCE9PWUuc3JjVGhyb3VnaHB1dCYmbnVsbCE9PWUuc3JjVGhyb3VnaHB1dCYmKHRoaXMuc3JjVGhyb3VnaHB1dD1lLnNyY1Rocm91Z2hwdXQpLHZvaWQgMCE9PWUuZGlza1JlYWRUaW1lb3V0JiZudWxsIT09ZS5kaXNrUmVhZFRpbWVvdXQmJih0aGlzLmRpc2tSZWFkVGltZW91dD1lLmRpc2tSZWFkVGltZW91dCksdm9pZCAwIT09ZS5kaXNrUmVhZFJhdGUmJm51bGwhPT1lLmRpc2tSZWFkUmF0ZSYmKHRoaXMuZGlza1JlYWRSYXRlPWUuZGlza1JlYWRSYXRlKSx2b2lkIDAhPT1lLmRpc2tTdG9yZVJhdGUmJm51bGwhPT1lLmRpc2tTdG9yZVJhdGUmJih0aGlzLmRpc2tTdG9yZVJhdGU9ZS5kaXNrU3RvcmVSYXRlKSx2b2lkIDAhPT1lLmRpc2tSZW1vdmVSYXRlJiZudWxsIT09ZS5kaXNrUmVtb3ZlUmF0ZSYmKHRoaXMuZGlza1JlbW92ZVJhdGU9ZS5kaXNrUmVtb3ZlUmF0ZSksdm9pZCAwIT09ZS5kaXNrQ2FjaGVTaXplJiZudWxsIT09ZS5kaXNrQ2FjaGVTaXplJiYodGhpcy5kaXNrQ2FjaGVTaXplPWUuZGlza0NhY2hlU2l6ZSksdm9pZCAwIT09ZS5jbGllbnRCdWZmZXJNcyYmbnVsbCE9PWUuY2xpZW50QnVmZmVyTXMmJih0aGlzLmNsaWVudEJ1ZmZlck1zPWUuY2xpZW50QnVmZmVyTXMpLHZvaWQgMCE9PWUubG9va3VwVG90YWwmJm51bGwhPT1lLmxvb2t1cFRvdGFsJiYodGhpcy5sb29rdXBUb3RhbD1lLmxvb2t1cFRvdGFsKSx2b2lkIDAhPT1lLmxvb2t1cE5vdEZvdW5kJiZudWxsIT09ZS5sb29rdXBOb3RGb3VuZCYmKHRoaXMubG9va3VwTm90Rm91bmQ9ZS5sb29rdXBOb3RGb3VuZCksdm9pZCAwIT09ZS5sb29rdXBGYWlsZWQmJm51bGwhPT1lLmxvb2t1cEZhaWxlZCYmKHRoaXMubG9va3VwRmFpbGVkPWUubG9va3VwRmFpbGVkKSx2b2lkIDAhPT1lLmxvb2t1cExhdGVuY3kmJm51bGwhPT1lLmxvb2t1cExhdGVuY3kmJih0aGlzLmxvb2t1cExhdGVuY3k9ZS5sb29rdXBMYXRlbmN5KSx2b2lkIDAhPT1lLnRyYWNrZXJGYWlsZWQmJm51bGwhPT1lLnRyYWNrZXJGYWlsZWQmJih0aGlzLnRyYWNrZXJGYWlsZWQ9ZS50cmFja2VyRmFpbGVkKSx2b2lkIDAhPT1lLnRyYWNrZXJMYXRlbmN5JiZudWxsIT09ZS50cmFja2VyTGF0ZW5jeSYmKHRoaXMudHJhY2tlckxhdGVuY3k9ZS50cmFja2VyTGF0ZW5jeSksdm9pZCAwIT09ZS5zbmFwc2hvdEZhaWxlZCYmbnVsbCE9PWUuc25hcHNob3RGYWlsZWQmJih0aGlzLnNuYXBzaG90RmFpbGVkPWUuc25hcHNob3RGYWlsZWQpLHZvaWQgMCE9PWUuc25hcHNob3RMYXRlbmN5JiZudWxsIT09ZS5zbmFwc2hvdExhdGVuY3kmJih0aGlzLnNuYXBzaG90TGF0ZW5jeT1lLnNuYXBzaG90TGF0ZW5jeSksdm9pZCAwIT09ZS5fSyYmbnVsbCE9PWUuX0smJih0aGlzLl9LPWUuX0spKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljcy5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuTWV0cmljcy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMudXBCVz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmRvd25CVz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkzMj90aGlzLm1lbU49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JMzI/dGhpcy5wcnRJbk49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5JMzI/dGhpcy5wcnRPdXROPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuSTY0P3RoaXMuaW5pdFZpZGVvQnVmUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA3OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy52aWRlb0F2Z0J1ZlF0PWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgODpyPT1pLlR5cGUuSTY0P3RoaXMudmlkZW9CdWZRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDk6cj09aS5UeXBlLkkzMj90aGlzLnZpZGVvQnVmTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDEwOnI9PWkuVHlwZS5JMzI/dGhpcy5pbml0QXVkaW9CdWZRdD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDExOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5hdWRpb0F2Z0J1ZlF0PWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTI6cj09aS5UeXBlLkk2ND90aGlzLmF1ZGlvQnVmUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMzpyPT1pLlR5cGUuSTMyP3RoaXMuYXVkaW9CdWZOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTQ6cj09aS5UeXBlLkkzMj90aGlzLmJpdHJhdGVVcE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNTpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZUR3bk49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNjpyPT1pLlR5cGUuSTMyP3RoaXMuZGVsYXk9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNzpyPT1pLlR5cGUuSTMyP3RoaXMuZGVsYXlFbmZvcmNlbWVudD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE4OnI9PWkuVHlwZS5JMzI/dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE5OnI9PWkuVHlwZS5JMzI/dGhpcy5sb29rdXBSZXFBY2NlcHQ9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMDpyPT1pLlR5cGUuRE9VQkxFP3RoaXMuZmFsbGJhY2tBdmdUcD1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDIxOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5zcmNUaHJvdWdocHV0PWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjI6cj09aS5UeXBlLkkzMj90aGlzLmRpc2tSZWFkVGltZW91dD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDIzOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5kaXNrUmVhZFJhdGU9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyNDpyPT1pLlR5cGUuRE9VQkxFP3RoaXMuZGlza1N0b3JlUmF0ZT1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI1OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5kaXNrUmVtb3ZlUmF0ZT1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI2OnI9PWkuVHlwZS5JNjQ/dGhpcy5kaXNrQ2FjaGVTaXplPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjc6cj09aS5UeXBlLkkzMj90aGlzLmNsaWVudEJ1ZmZlck1zPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjg6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cFRvdGFsPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjk6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cE5vdEZvdW5kPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzA6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cEZhaWxlZD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDMxOnI9PWkuVHlwZS5JMzI/dGhpcy5sb29rdXBMYXRlbmN5PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzI6cj09aS5UeXBlLkkzMj90aGlzLnRyYWNrZXJGYWlsZWQ9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzMzpyPT1pLlR5cGUuSTMyP3RoaXMudHJhY2tlckxhdGVuY3k9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNDpyPT1pLlR5cGUuSTMyP3RoaXMuc25hcHNob3RGYWlsZWQ9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNTpyPT1pLlR5cGUuSTMyP3RoaXMuc25hcHNob3RMYXRlbmN5PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzY6cj09aS5UeXBlLkkzMj90aGlzLl9LPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiTWV0cmljc1wiKSxudWxsIT09dGhpcy51cEJXJiZ2b2lkIDAhPT10aGlzLnVwQlcmJihlLnhiKFwidXBCV1wiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnVwQlcpLGUuR2IoKSksbnVsbCE9PXRoaXMuZG93bkJXJiZ2b2lkIDAhPT10aGlzLmRvd25CVyYmKGUueGIoXCJkb3duQldcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5kb3duQlcpLGUuR2IoKSksbnVsbCE9PXRoaXMubWVtTiYmdm9pZCAwIT09dGhpcy5tZW1OJiYoZS54YihcIm1lbU5cIixpLlR5cGUuSTMyLDMpLGUuVmIodGhpcy5tZW1OKSxlLkdiKCkpLG51bGwhPT10aGlzLnBydEluTiYmdm9pZCAwIT09dGhpcy5wcnRJbk4mJihlLnhiKFwicHJ0SW5OXCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMucHJ0SW5OKSxlLkdiKCkpLG51bGwhPT10aGlzLnBydE91dE4mJnZvaWQgMCE9PXRoaXMucHJ0T3V0TiYmKGUueGIoXCJwcnRPdXROXCIsaS5UeXBlLkkzMiw1KSxlLlZiKHRoaXMucHJ0T3V0TiksZS5HYigpKSxudWxsIT09dGhpcy5pbml0VmlkZW9CdWZRdCYmdm9pZCAwIT09dGhpcy5pbml0VmlkZW9CdWZRdCYmKGUueGIoXCJpbml0VmlkZW9CdWZRdFwiLGkuVHlwZS5JNjQsNiksZS5LQyh0aGlzLmluaXRWaWRlb0J1ZlF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnZpZGVvQXZnQnVmUXQmJnZvaWQgMCE9PXRoaXMudmlkZW9BdmdCdWZRdCYmKGUueGIoXCJ2aWRlb0F2Z0J1ZlF0XCIsaS5UeXBlLkRPVUJMRSw3KSxlLllDKHRoaXMudmlkZW9BdmdCdWZRdCksZS5HYigpKSxudWxsIT09dGhpcy52aWRlb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLnZpZGVvQnVmUXQmJihlLnhiKFwidmlkZW9CdWZRdFwiLGkuVHlwZS5JNjQsOCksZS5LQyh0aGlzLnZpZGVvQnVmUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMudmlkZW9CdWZOJiZ2b2lkIDAhPT10aGlzLnZpZGVvQnVmTiYmKGUueGIoXCJ2aWRlb0J1Zk5cIixpLlR5cGUuSTMyLDkpLGUuVmIodGhpcy52aWRlb0J1Zk4pLGUuR2IoKSksbnVsbCE9PXRoaXMuaW5pdEF1ZGlvQnVmUXQmJnZvaWQgMCE9PXRoaXMuaW5pdEF1ZGlvQnVmUXQmJihlLnhiKFwiaW5pdEF1ZGlvQnVmUXRcIixpLlR5cGUuSTMyLDEwKSxlLlZiKHRoaXMuaW5pdEF1ZGlvQnVmUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuYXVkaW9BdmdCdWZRdCYmdm9pZCAwIT09dGhpcy5hdWRpb0F2Z0J1ZlF0JiYoZS54YihcImF1ZGlvQXZnQnVmUXRcIixpLlR5cGUuRE9VQkxFLDExKSxlLllDKHRoaXMuYXVkaW9BdmdCdWZRdCksZS5HYigpKSxudWxsIT09dGhpcy5hdWRpb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmF1ZGlvQnVmUXQmJihlLnhiKFwiYXVkaW9CdWZRdFwiLGkuVHlwZS5JNjQsMTIpLGUuS0ModGhpcy5hdWRpb0J1ZlF0KSxlLkdiKCkpLG51bGwhPT10aGlzLmF1ZGlvQnVmTiYmdm9pZCAwIT09dGhpcy5hdWRpb0J1Zk4mJihlLnhiKFwiYXVkaW9CdWZOXCIsaS5UeXBlLkkzMiwxMyksZS5WYih0aGlzLmF1ZGlvQnVmTiksZS5HYigpKSxudWxsIT09dGhpcy5iaXRyYXRlVXBOJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGVVcE4mJihlLnhiKFwiYml0cmF0ZVVwTlwiLGkuVHlwZS5JMzIsMTQpLGUuVmIodGhpcy5iaXRyYXRlVXBOKSxlLkdiKCkpLG51bGwhPT10aGlzLmJpdHJhdGVEd25OJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGVEd25OJiYoZS54YihcImJpdHJhdGVEd25OXCIsaS5UeXBlLkkzMiwxNSksZS5WYih0aGlzLmJpdHJhdGVEd25OKSxlLkdiKCkpLG51bGwhPT10aGlzLmRlbGF5JiZ2b2lkIDAhPT10aGlzLmRlbGF5JiYoZS54YihcImRlbGF5XCIsaS5UeXBlLkkzMiwxNiksZS5WYih0aGlzLmRlbGF5KSxlLkdiKCkpLG51bGwhPT10aGlzLmRlbGF5RW5mb3JjZW1lbnQmJnZvaWQgMCE9PXRoaXMuZGVsYXlFbmZvcmNlbWVudCYmKGUueGIoXCJkZWxheUVuZm9yY2VtZW50XCIsaS5UeXBlLkkzMiwxNyksZS5WYih0aGlzLmRlbGF5RW5mb3JjZW1lbnQpLGUuR2IoKSksbnVsbCE9PXRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQmJnZvaWQgMCE9PXRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQmJihlLnhiKFwibG9va3VwUmVxRXN0YWJsaXNoZWRcIixpLlR5cGUuSTMyLDE4KSxlLlZiKHRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMubG9va3VwUmVxQWNjZXB0JiZ2b2lkIDAhPT10aGlzLmxvb2t1cFJlcUFjY2VwdCYmKGUueGIoXCJsb29rdXBSZXFBY2NlcHRcIixpLlR5cGUuSTMyLDE5KSxlLlZiKHRoaXMubG9va3VwUmVxQWNjZXB0KSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxiYWNrQXZnVHAmJnZvaWQgMCE9PXRoaXMuZmFsbGJhY2tBdmdUcCYmKGUueGIoXCJmYWxsYmFja0F2Z1RwXCIsaS5UeXBlLkRPVUJMRSwyMCksZS5ZQyh0aGlzLmZhbGxiYWNrQXZnVHApLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjVGhyb3VnaHB1dCYmdm9pZCAwIT09dGhpcy5zcmNUaHJvdWdocHV0JiYoZS54YihcInNyY1Rocm91Z2hwdXRcIixpLlR5cGUuRE9VQkxFLDIxKSxlLllDKHRoaXMuc3JjVGhyb3VnaHB1dCksZS5HYigpKSxudWxsIT09dGhpcy5kaXNrUmVhZFRpbWVvdXQmJnZvaWQgMCE9PXRoaXMuZGlza1JlYWRUaW1lb3V0JiYoZS54YihcImRpc2tSZWFkVGltZW91dFwiLGkuVHlwZS5JMzIsMjIpLGUuVmIodGhpcy5kaXNrUmVhZFRpbWVvdXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZGlza1JlYWRSYXRlJiZ2b2lkIDAhPT10aGlzLmRpc2tSZWFkUmF0ZSYmKGUueGIoXCJkaXNrUmVhZFJhdGVcIixpLlR5cGUuRE9VQkxFLDIzKSxlLllDKHRoaXMuZGlza1JlYWRSYXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLmRpc2tTdG9yZVJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1N0b3JlUmF0ZSYmKGUueGIoXCJkaXNrU3RvcmVSYXRlXCIsaS5UeXBlLkRPVUJMRSwyNCksZS5ZQyh0aGlzLmRpc2tTdG9yZVJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuZGlza1JlbW92ZVJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1JlbW92ZVJhdGUmJihlLnhiKFwiZGlza1JlbW92ZVJhdGVcIixpLlR5cGUuRE9VQkxFLDI1KSxlLllDKHRoaXMuZGlza1JlbW92ZVJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuZGlza0NhY2hlU2l6ZSYmdm9pZCAwIT09dGhpcy5kaXNrQ2FjaGVTaXplJiYoZS54YihcImRpc2tDYWNoZVNpemVcIixpLlR5cGUuSTY0LDI2KSxlLktDKHRoaXMuZGlza0NhY2hlU2l6ZSksZS5HYigpKSxudWxsIT09dGhpcy5jbGllbnRCdWZmZXJNcyYmdm9pZCAwIT09dGhpcy5jbGllbnRCdWZmZXJNcyYmKGUueGIoXCJjbGllbnRCdWZmZXJNc1wiLGkuVHlwZS5JMzIsMjcpLGUuVmIodGhpcy5jbGllbnRCdWZmZXJNcyksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBUb3RhbCYmdm9pZCAwIT09dGhpcy5sb29rdXBUb3RhbCYmKGUueGIoXCJsb29rdXBUb3RhbFwiLGkuVHlwZS5JMzIsMjgpLGUuVmIodGhpcy5sb29rdXBUb3RhbCksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBOb3RGb3VuZCYmdm9pZCAwIT09dGhpcy5sb29rdXBOb3RGb3VuZCYmKGUueGIoXCJsb29rdXBOb3RGb3VuZFwiLGkuVHlwZS5JMzIsMjkpLGUuVmIodGhpcy5sb29rdXBOb3RGb3VuZCksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBGYWlsZWQmJnZvaWQgMCE9PXRoaXMubG9va3VwRmFpbGVkJiYoZS54YihcImxvb2t1cEZhaWxlZFwiLGkuVHlwZS5JMzIsMzApLGUuVmIodGhpcy5sb29rdXBGYWlsZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMubG9va3VwTGF0ZW5jeSYmdm9pZCAwIT09dGhpcy5sb29rdXBMYXRlbmN5JiYoZS54YihcImxvb2t1cExhdGVuY3lcIixpLlR5cGUuSTMyLDMxKSxlLlZiKHRoaXMubG9va3VwTGF0ZW5jeSksZS5HYigpKSxudWxsIT09dGhpcy50cmFja2VyRmFpbGVkJiZ2b2lkIDAhPT10aGlzLnRyYWNrZXJGYWlsZWQmJihlLnhiKFwidHJhY2tlckZhaWxlZFwiLGkuVHlwZS5JMzIsMzIpLGUuVmIodGhpcy50cmFja2VyRmFpbGVkKSxlLkdiKCkpLG51bGwhPT10aGlzLnRyYWNrZXJMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLnRyYWNrZXJMYXRlbmN5JiYoZS54YihcInRyYWNrZXJMYXRlbmN5XCIsaS5UeXBlLkkzMiwzMyksZS5WYih0aGlzLnRyYWNrZXJMYXRlbmN5KSxlLkdiKCkpLG51bGwhPT10aGlzLnNuYXBzaG90RmFpbGVkJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90RmFpbGVkJiYoZS54YihcInNuYXBzaG90RmFpbGVkXCIsaS5UeXBlLkkzMiwzNCksZS5WYih0aGlzLnNuYXBzaG90RmFpbGVkKSxlLkdiKCkpLG51bGwhPT10aGlzLnNuYXBzaG90TGF0ZW5jeSYmdm9pZCAwIT09dGhpcy5zbmFwc2hvdExhdGVuY3kmJihlLnhiKFwic25hcHNob3RMYXRlbmN5XCIsaS5UeXBlLkkzMiwzNSksZS5WYih0aGlzLnNuYXBzaG90TGF0ZW5jeSksZS5HYigpKSxudWxsIT09dGhpcy5fSyYmdm9pZCAwIT09dGhpcy5fSyYmKGUueGIoXCJzb3VyY2VMYXRlbmN5XCIsaS5UeXBlLkkzMiwzNiksZS5WYih0aGlzLl9LKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljPWZ1bmN0aW9uKGUpe3RoaXMucDJwU3VjY1JlcT1udWxsLHRoaXMucDJwRmFpbFJlcT1udWxsLHRoaXMucDJwUGFydFJlcT1udWxsLHRoaXMucDJwU3VjY1JlY2VpdmVkPW51bGwsdGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3c9bnVsbCx0aGlzLnAycEZhaWxSZWNlaXZlZD1udWxsLHRoaXMucDJwU3VjY1Jlc3A9bnVsbCx0aGlzLnAycEZhaWxSZXNwPW51bGwsdGhpcy5wMnBQYXJ0UmVzcD1udWxsLHRoaXMucDJwU3VjY1NlbnQ9bnVsbCx0aGlzLnAycFN1Y2NTZW50TG93PW51bGwsdGhpcy5wMnBGYWlsU2VudD1udWxsLGUmJih2b2lkIDAhPT1lLnAycFN1Y2NSZXEmJm51bGwhPT1lLnAycFN1Y2NSZXEmJih0aGlzLnAycFN1Y2NSZXE9ZS5wMnBTdWNjUmVxKSx2b2lkIDAhPT1lLnAycEZhaWxSZXEmJm51bGwhPT1lLnAycEZhaWxSZXEmJih0aGlzLnAycEZhaWxSZXE9ZS5wMnBGYWlsUmVxKSx2b2lkIDAhPT1lLnAycFBhcnRSZXEmJm51bGwhPT1lLnAycFBhcnRSZXEmJih0aGlzLnAycFBhcnRSZXE9ZS5wMnBQYXJ0UmVxKSx2b2lkIDAhPT1lLnAycFN1Y2NSZWNlaXZlZCYmbnVsbCE9PWUucDJwU3VjY1JlY2VpdmVkJiYodGhpcy5wMnBTdWNjUmVjZWl2ZWQ9ZS5wMnBTdWNjUmVjZWl2ZWQpLHZvaWQgMCE9PWUucDJwU3VjY1JlY2VpdmVkTG93JiZudWxsIT09ZS5wMnBTdWNjUmVjZWl2ZWRMb3cmJih0aGlzLnAycFN1Y2NSZWNlaXZlZExvdz1lLnAycFN1Y2NSZWNlaXZlZExvdyksdm9pZCAwIT09ZS5wMnBGYWlsUmVjZWl2ZWQmJm51bGwhPT1lLnAycEZhaWxSZWNlaXZlZCYmKHRoaXMucDJwRmFpbFJlY2VpdmVkPWUucDJwRmFpbFJlY2VpdmVkKSx2b2lkIDAhPT1lLnAycFN1Y2NSZXNwJiZudWxsIT09ZS5wMnBTdWNjUmVzcCYmKHRoaXMucDJwU3VjY1Jlc3A9ZS5wMnBTdWNjUmVzcCksdm9pZCAwIT09ZS5wMnBGYWlsUmVzcCYmbnVsbCE9PWUucDJwRmFpbFJlc3AmJih0aGlzLnAycEZhaWxSZXNwPWUucDJwRmFpbFJlc3ApLHZvaWQgMCE9PWUucDJwUGFydFJlc3AmJm51bGwhPT1lLnAycFBhcnRSZXNwJiYodGhpcy5wMnBQYXJ0UmVzcD1lLnAycFBhcnRSZXNwKSx2b2lkIDAhPT1lLnAycFN1Y2NTZW50JiZudWxsIT09ZS5wMnBTdWNjU2VudCYmKHRoaXMucDJwU3VjY1NlbnQ9ZS5wMnBTdWNjU2VudCksdm9pZCAwIT09ZS5wMnBTdWNjU2VudExvdyYmbnVsbCE9PWUucDJwU3VjY1NlbnRMb3cmJih0aGlzLnAycFN1Y2NTZW50TG93PWUucDJwU3VjY1NlbnRMb3cpLHZvaWQgMCE9PWUucDJwRmFpbFNlbnQmJm51bGwhPT1lLnAycEZhaWxTZW50JiYodGhpcy5wMnBGYWlsU2VudD1lLnAycEZhaWxTZW50KSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3VjY1JlcT1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkk2ND90aGlzLnAycEZhaWxSZXE9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBQYXJ0UmVxPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3VjY1JlY2VpdmVkPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3VjY1JlY2VpdmVkTG93PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5UeXBlLkk2ND90aGlzLnAycEZhaWxSZWNlaXZlZD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLkk2ND90aGlzLnAycFN1Y2NSZXNwPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5UeXBlLkk2ND90aGlzLnAycEZhaWxSZXNwPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNzpyPT1pLlR5cGUuSTY0P3RoaXMucDJwUGFydFJlc3A9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBTdWNjU2VudD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDk6cj09aS5UeXBlLkk2ND90aGlzLnAycFN1Y2NTZW50TG93PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTI6cj09aS5UeXBlLkk2ND90aGlzLnAycEZhaWxTZW50PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlBhcnRuZXJUcmFmZmljXCIpLG51bGwhPT10aGlzLnAycFN1Y2NSZXEmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1JlcSYmKGUueGIoXCJwMnBTdWNjUmVxXCIsaS5UeXBlLkk2NCwxKSxlLktDKHRoaXMucDJwU3VjY1JlcSksZS5HYigpKSxudWxsIT09dGhpcy5wMnBGYWlsUmVxJiZ2b2lkIDAhPT10aGlzLnAycEZhaWxSZXEmJihlLnhiKFwicDJwRmFpbFJlcVwiLGkuVHlwZS5JNjQsMiksZS5LQyh0aGlzLnAycEZhaWxSZXEpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwUGFydFJlcSYmdm9pZCAwIT09dGhpcy5wMnBQYXJ0UmVxJiYoZS54YihcInAycFBhcnRSZXFcIixpLlR5cGUuSTY0LDMpLGUuS0ModGhpcy5wMnBQYXJ0UmVxKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1Y2NSZWNlaXZlZCYmdm9pZCAwIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWQmJihlLnhiKFwicDJwU3VjY1JlY2VpdmVkXCIsaS5UeXBlLkk2NCw0KSxlLktDKHRoaXMucDJwU3VjY1JlY2VpdmVkKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1Y2NSZWNlaXZlZExvdyYmdm9pZCAwIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3cmJihlLnhiKFwicDJwU3VjY1JlY2VpdmVkTG93XCIsaS5UeXBlLkk2NCw1KSxlLktDKHRoaXMucDJwU3VjY1JlY2VpdmVkTG93KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEZhaWxSZWNlaXZlZCYmdm9pZCAwIT09dGhpcy5wMnBGYWlsUmVjZWl2ZWQmJihlLnhiKFwicDJwRmFpbFJlY2VpdmVkXCIsaS5UeXBlLkk2NCwxMCksZS5LQyh0aGlzLnAycEZhaWxSZWNlaXZlZCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWNjUmVzcCYmdm9pZCAwIT09dGhpcy5wMnBTdWNjUmVzcCYmKGUueGIoXCJwMnBTdWNjUmVzcFwiLGkuVHlwZS5JNjQsNiksZS5LQyh0aGlzLnAycFN1Y2NSZXNwKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEZhaWxSZXNwJiZ2b2lkIDAhPT10aGlzLnAycEZhaWxSZXNwJiYoZS54YihcInAycEZhaWxSZXNwXCIsaS5UeXBlLkk2NCwxMSksZS5LQyh0aGlzLnAycEZhaWxSZXNwKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFBhcnRSZXNwJiZ2b2lkIDAhPT10aGlzLnAycFBhcnRSZXNwJiYoZS54YihcInAycFBhcnRSZXNwXCIsaS5UeXBlLkk2NCw3KSxlLktDKHRoaXMucDJwUGFydFJlc3ApLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3VjY1NlbnQmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1NlbnQmJihlLnhiKFwicDJwU3VjY1NlbnRcIixpLlR5cGUuSTY0LDgpLGUuS0ModGhpcy5wMnBTdWNjU2VudCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWNjU2VudExvdyYmdm9pZCAwIT09dGhpcy5wMnBTdWNjU2VudExvdyYmKGUueGIoXCJwMnBTdWNjU2VudExvd1wiLGkuVHlwZS5JNjQsOSksZS5LQyh0aGlzLnAycFN1Y2NTZW50TG93KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEZhaWxTZW50JiZ2b2lkIDAhPT10aGlzLnAycEZhaWxTZW50JiYoZS54YihcInAycEZhaWxTZW50XCIsaS5UeXBlLkk2NCwxMiksZS5LQyh0aGlzLnAycEZhaWxTZW50KSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzPWZ1bmN0aW9uKGUpe3RoaXMucmF0ZVJlY2VpdmVkPW51bGwsdGhpcy5yYXRlU2VudD1udWxsLHRoaXMuaGFuZHNoYWtlRGVsYXk9bnVsbCxlJiYodm9pZCAwIT09ZS5yYXRlUmVjZWl2ZWQmJm51bGwhPT1lLnJhdGVSZWNlaXZlZCYmKHRoaXMucmF0ZVJlY2VpdmVkPWUucmF0ZVJlY2VpdmVkKSx2b2lkIDAhPT1lLnJhdGVTZW50JiZudWxsIT09ZS5yYXRlU2VudCYmKHRoaXMucmF0ZVNlbnQ9ZS5yYXRlU2VudCksdm9pZCAwIT09ZS5oYW5kc2hha2VEZWxheSYmbnVsbCE9PWUuaGFuZHNoYWtlRGVsYXkmJih0aGlzLmhhbmRzaGFrZURlbGF5PWUuaGFuZHNoYWtlRGVsYXkpKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5yYXRlUmVjZWl2ZWQ9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5yYXRlU2VudD1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkk2ND90aGlzLmhhbmRzaGFrZURlbGF5PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlBhcnRuZXJNZXRyaWNzXCIpLG51bGwhPT10aGlzLnJhdGVSZWNlaXZlZCYmdm9pZCAwIT09dGhpcy5yYXRlUmVjZWl2ZWQmJihlLnhiKFwicmF0ZVJlY2VpdmVkXCIsaS5UeXBlLkRPVUJMRSwxKSxlLllDKHRoaXMucmF0ZVJlY2VpdmVkKSxlLkdiKCkpLG51bGwhPT10aGlzLnJhdGVTZW50JiZ2b2lkIDAhPT10aGlzLnJhdGVTZW50JiYoZS54YihcInJhdGVTZW50XCIsaS5UeXBlLkRPVUJMRSwyKSxlLllDKHRoaXMucmF0ZVNlbnQpLGUuR2IoKSksbnVsbCE9PXRoaXMuaGFuZHNoYWtlRGVsYXkmJnZvaWQgMCE9PXRoaXMuaGFuZHNoYWtlRGVsYXkmJihlLnhiKFwiaGFuZHNoYWtlRGVsYXlcIixpLlR5cGUuSTY0LDMpLGUuS0ModGhpcy5oYW5kc2hha2VEZWxheSksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvPWZ1bmN0aW9uKGUpe3RoaXMudXBCVz1udWxsLHRoaXMuZG93bkJXPW51bGwsdGhpcy5leHRlcm5hbEFzPW51bGwsdGhpcy5pbnRlcm5hbEFzPW51bGwsdGhpcy5wdWJsaWNJcD1udWxsLHRoaXMucHJpdmF0ZUlwPW51bGwsZSYmKHZvaWQgMCE9PWUudXBCVyYmbnVsbCE9PWUudXBCVyYmKHRoaXMudXBCVz1lLnVwQlcpLHZvaWQgMCE9PWUuZG93bkJXJiZudWxsIT09ZS5kb3duQlcmJih0aGlzLmRvd25CVz1lLmRvd25CVyksdm9pZCAwIT09ZS5leHRlcm5hbEFzJiZudWxsIT09ZS5leHRlcm5hbEFzJiYodGhpcy5leHRlcm5hbEFzPWUuZXh0ZXJuYWxBcyksdm9pZCAwIT09ZS5pbnRlcm5hbEFzJiZudWxsIT09ZS5pbnRlcm5hbEFzJiYodGhpcy5pbnRlcm5hbEFzPWUuaW50ZXJuYWxBcyksdm9pZCAwIT09ZS5wdWJsaWNJcCYmbnVsbCE9PWUucHVibGljSXAmJih0aGlzLnB1YmxpY0lwPWUucHVibGljSXApLHZvaWQgMCE9PWUucHJpdmF0ZUlwJiZudWxsIT09ZS5wcml2YXRlSXAmJih0aGlzLnByaXZhdGVJcD1lLnByaXZhdGVJcCkpfSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy51cEJXPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMuZG93bkJXPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuZXh0ZXJuYWxBcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLkkzMj90aGlzLmludGVybmFsQXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5wdWJsaWNJcD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLlNUUklORz90aGlzLnByaXZhdGVJcD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIkNvbm5lY3Rpdml0eUluZm9cIiksbnVsbCE9PXRoaXMudXBCVyYmdm9pZCAwIT09dGhpcy51cEJXJiYoZS54YihcInVwQldcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy51cEJXKSxlLkdiKCkpLG51bGwhPT10aGlzLmRvd25CVyYmdm9pZCAwIT09dGhpcy5kb3duQlcmJihlLnhiKFwiZG93bkJXXCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuZG93bkJXKSxlLkdiKCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKGUueGIoXCJleHRlcm5hbEFzXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuZXh0ZXJuYWxBcyksZS5HYigpKSxudWxsIT09dGhpcy5pbnRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmludGVybmFsQXMmJihlLnhiKFwiaW50ZXJuYWxBc1wiLGkuVHlwZS5JMzIsNCksZS5WYih0aGlzLmludGVybmFsQXMpLGUuR2IoKSksbnVsbCE9PXRoaXMucHVibGljSXAmJnZvaWQgMCE9PXRoaXMucHVibGljSXAmJihlLnhiKFwicHVibGljSXBcIixpLlR5cGUuU1RSSU5HLDUpLGUucWIodGhpcy5wdWJsaWNJcCksZS5HYigpKSxudWxsIT09dGhpcy5wcml2YXRlSXAmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwJiYoZS54YihcInByaXZhdGVJcFwiLGkuVHlwZS5TVFJJTkcsNiksZS5xYih0aGlzLnByaXZhdGVJcCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyPWZ1bmN0aW9uKGUpe3RoaXMuY29ubkluZm89bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLmluUGFydD1udWxsLHRoaXMub3V0UGFydD1udWxsLHRoaXMudWRwPW51bGwsZSYmKHZvaWQgMCE9PWUuY29ubkluZm8mJm51bGwhPT1lLmNvbm5JbmZvJiYodGhpcy5jb25uSW5mbz1lLmNvbm5JbmZvKSx2b2lkIDAhPT1lLnRyYWZmaWMmJm51bGwhPT1lLnRyYWZmaWMmJih0aGlzLnRyYWZmaWM9ZS50cmFmZmljKSx2b2lkIDAhPT1lLm1ldHJpY3MmJm51bGwhPT1lLm1ldHJpY3MmJih0aGlzLm1ldHJpY3M9ZS5tZXRyaWNzKSx2b2lkIDAhPT1lLmluUGFydCYmbnVsbCE9PWUuaW5QYXJ0JiYodGhpcy5pblBhcnQ9ZS5pblBhcnQpLHZvaWQgMCE9PWUub3V0UGFydCYmbnVsbCE9PWUub3V0UGFydCYmKHRoaXMub3V0UGFydD1lLm91dFBhcnQpLHZvaWQgMCE9PWUudWRwJiZudWxsIT09ZS51ZHAmJih0aGlzLnVkcD1lLnVkcCkpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy5jb25uSW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnRyYWZmaWM9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLHRoaXMudHJhZmZpYy5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLm1ldHJpY3M9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuQk9PTD90aGlzLmluUGFydD1lLnBfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLkJPT0w/dGhpcy5vdXRQYXJ0PWUucF8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuQk9PTD90aGlzLnVkcD1lLnBfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlBhcnRuZXJcIiksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJihlLnhiKFwiY29ubkluZm9cIixpLlR5cGUuU1RSVUNULDEpLHRoaXMuY29ubkluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMmJihlLnhiKFwidHJhZmZpY1wiLGkuVHlwZS5TVFJVQ1QsMiksdGhpcy50cmFmZmljLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMubWV0cmljcyYmdm9pZCAwIT09dGhpcy5tZXRyaWNzJiYoZS54YihcIm1ldHJpY3NcIixpLlR5cGUuU1RSVUNULDMpLHRoaXMubWV0cmljcy53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmluUGFydCYmdm9pZCAwIT09dGhpcy5pblBhcnQmJihlLnhiKFwiaW5QYXJ0XCIsaS5UeXBlLkJPT0wsNCksZS5WQyh0aGlzLmluUGFydCksZS5HYigpKSxudWxsIT09dGhpcy5vdXRQYXJ0JiZ2b2lkIDAhPT10aGlzLm91dFBhcnQmJihlLnhiKFwib3V0UGFydFwiLGkuVHlwZS5CT09MLDUpLGUuVkModGhpcy5vdXRQYXJ0KSxlLkdiKCkpLG51bGwhPT10aGlzLnVkcCYmdm9pZCAwIT09dGhpcy51ZHAmJihlLnhiKFwidWRwXCIsaS5UeXBlLkJPT0wsNiksZS5WQyh0aGlzLnVkcCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvPWZ1bmN0aW9uKGUpe3RoaXMudXJsPW51bGwsdGhpcy5zdHJlYW1UeXBlPW51bGwsdGhpcy5zdHJlYW1Qcm90b2NvbD1udWxsLGUmJih2b2lkIDAhPT1lLnVybCYmbnVsbCE9PWUudXJsJiYodGhpcy51cmw9ZS51cmwpLHZvaWQgMCE9PWUuc3RyZWFtVHlwZSYmbnVsbCE9PWUuc3RyZWFtVHlwZSYmKHRoaXMuc3RyZWFtVHlwZT1lLnN0cmVhbVR5cGUpLHZvaWQgMCE9PWUuc3RyZWFtUHJvdG9jb2wmJm51bGwhPT1lLnN0cmVhbVByb3RvY29sJiYodGhpcy5zdHJlYW1Qcm90b2NvbD1lLnN0cmVhbVByb3RvY29sKSl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUklORz90aGlzLnVybD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLnN0cmVhbVR5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5zdHJlYW1Qcm90b2NvbD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlN0cmVhbUluZm9cIiksbnVsbCE9PXRoaXMudXJsJiZ2b2lkIDAhPT10aGlzLnVybCYmKGUueGIoXCJ1cmxcIixpLlR5cGUuU1RSSU5HLDEpLGUucWIodGhpcy51cmwpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtVHlwZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1UeXBlJiYoZS54YihcInN0cmVhbVR5cGVcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5zdHJlYW1UeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbVByb3RvY29sJiZ2b2lkIDAhPT10aGlzLnN0cmVhbVByb3RvY29sJiYoZS54YihcInN0cmVhbVByb3RvY29sXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuc3RyZWFtUHJvdG9jb2wpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbz1mdW5jdGlvbihlKXt0aGlzLmNsaWVudFR5cGU9bnVsbCx0aGlzLm1ham9yVmVyc2lvbj1udWxsLHRoaXMubWlub3JWZXJzaW9uPW51bGwsdGhpcy5wYXRjaFZlcnNpb249bnVsbCxlJiYodm9pZCAwIT09ZS5jbGllbnRUeXBlJiZudWxsIT09ZS5jbGllbnRUeXBlJiYodGhpcy5jbGllbnRUeXBlPWUuY2xpZW50VHlwZSksdm9pZCAwIT09ZS5tYWpvclZlcnNpb24mJm51bGwhPT1lLm1ham9yVmVyc2lvbiYmKHRoaXMubWFqb3JWZXJzaW9uPWUubWFqb3JWZXJzaW9uKSx2b2lkIDAhPT1lLm1pbm9yVmVyc2lvbiYmbnVsbCE9PWUubWlub3JWZXJzaW9uJiYodGhpcy5taW5vclZlcnNpb249ZS5taW5vclZlcnNpb24pLHZvaWQgMCE9PWUucGF0Y2hWZXJzaW9uJiZudWxsIT09ZS5wYXRjaFZlcnNpb24mJih0aGlzLnBhdGNoVmVyc2lvbj1lLnBhdGNoVmVyc2lvbikpfSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy5jbGllbnRUeXBlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuQllURT90aGlzLm1ham9yVmVyc2lvbj1lLmRfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkJZVEU/dGhpcy5taW5vclZlcnNpb249ZS5kXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JMTY/dGhpcy5wYXRjaFZlcnNpb249ZS5mXygpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJDbGllbnRJbmZvXCIpLG51bGwhPT10aGlzLmNsaWVudFR5cGUmJnZvaWQgMCE9PXRoaXMuY2xpZW50VHlwZSYmKGUueGIoXCJjbGllbnRUeXBlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuY2xpZW50VHlwZSksZS5HYigpKSxudWxsIT09dGhpcy5tYWpvclZlcnNpb24mJnZvaWQgMCE9PXRoaXMubWFqb3JWZXJzaW9uJiYoZS54YihcIm1ham9yVmVyc2lvblwiLGkuVHlwZS5CWVRFLDIpLGUuakModGhpcy5tYWpvclZlcnNpb24pLGUuR2IoKSksbnVsbCE9PXRoaXMubWlub3JWZXJzaW9uJiZ2b2lkIDAhPT10aGlzLm1pbm9yVmVyc2lvbiYmKGUueGIoXCJtaW5vclZlcnNpb25cIixpLlR5cGUuQllURSwzKSxlLmpDKHRoaXMubWlub3JWZXJzaW9uKSxlLkdiKCkpLG51bGwhPT10aGlzLnBhdGNoVmVyc2lvbiYmdm9pZCAwIT09dGhpcy5wYXRjaFZlcnNpb24mJihlLnhiKFwicGF0Y2hWZXJzaW9uXCIsaS5UeXBlLkkxNiw0KSxlLlFDKHRoaXMucGF0Y2hWZXJzaW9uKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mbz1mdW5jdGlvbihlKXt0aGlzLmZpcnN0VGllckJpdHJhdGVzPW51bGwsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXM9bnVsbCxlJiYodm9pZCAwIT09ZS5maXJzdFRpZXJCaXRyYXRlcyYmbnVsbCE9PWUuZmlyc3RUaWVyQml0cmF0ZXMmJih0aGlzLmZpcnN0VGllckJpdHJhdGVzPWUuZmlyc3RUaWVyQml0cmF0ZXMpLHZvaWQgMCE9PWUuc2Vjb25kVGllckJpdHJhdGVzJiZudWxsIT09ZS5zZWNvbmRUaWVyQml0cmF0ZXMmJih0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1lLnNlY29uZFRpZXJCaXRyYXRlcykpfSxoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppZihyPT1pLlR5cGUuU0VUKXt2YXIgcyxvPTA7dGhpcy5maXJzdFRpZXJCaXRyYXRlcz1bXTtzPWUudV8oKSxzLmhfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1lLkZiKCkudmFsdWUsdGhpcy5maXJzdFRpZXJCaXRyYXRlcy5wdXNoKGgpfWUubF8oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAyOmlmKHI9PWkuVHlwZS5TRVQpe3ZhciBjLHU9MDt0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1bXTtjPWUudV8oKSxjLmhfLHU9Yy5zaXplO2Zvcih2YXIgbD0wO2w8dTsrK2wpe3ZhciBwPW51bGw7cD1lLkZiKCkudmFsdWUsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMucHVzaChwKX1lLmxfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUuSGIoXCJBZ2VudEluZm9cIiksbnVsbCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMmJnZvaWQgMCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMpe2UueGIoXCJmaXJzdFRpZXJCaXRyYXRlc1wiLGkuVHlwZS5TRVQsMSksZS5xQyhpLlR5cGUuSTMyLHRoaXMuZmlyc3RUaWVyQml0cmF0ZXMubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5maXJzdFRpZXJCaXRyYXRlcyl0aGlzLmZpcnN0VGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLmZpcnN0VGllckJpdHJhdGVzW3RdLGUuVmIodCkpO2UuR0MoKSxlLkdiKCl9aWYobnVsbCE9PXRoaXMuc2Vjb25kVGllckJpdHJhdGVzJiZ2b2lkIDAhPT10aGlzLnNlY29uZFRpZXJCaXRyYXRlcyl7ZS54YihcInNlY29uZFRpZXJCaXRyYXRlc1wiLGkuVHlwZS5TRVQsMiksZS5xQyhpLlR5cGUuSTMyLHRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmxlbmd0aCk7Zm9yKHZhciByIGluIHRoaXMuc2Vjb25kVGllckJpdHJhdGVzKXRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KHIpJiYocj10aGlzLnNlY29uZFRpZXJCaXRyYXRlc1tyXSxlLlZiKHIpKTtlLkdDKCksZS5HYigpfWUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXk9ZnVuY3Rpb24oZSl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5BUz1udWxsLHRoaXMucGFydG5lckd1aWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5iaXRyYXRlJiZudWxsIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5BUyYmbnVsbCE9PWUuQVMmJih0aGlzLkFTPWUuQVMpLHZvaWQgMCE9PWUucGFydG5lckd1aWQmJm51bGwhPT1lLnBhcnRuZXJHdWlkJiYodGhpcy5wYXJ0bmVyR3VpZD1lLnBhcnRuZXJHdWlkKSl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLmJpdHJhdGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5BUz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLlNUUklORz90aGlzLnBhcnRuZXJHdWlkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhZmZpY0tleVwiKSxudWxsIT09dGhpcy5iaXRyYXRlJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGUmJihlLnhiKFwiYml0cmF0ZVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLmJpdHJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuQVMmJnZvaWQgMCE9PXRoaXMuQVMmJihlLnhiKFwiQVNcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5BUyksZS5HYigpKSxudWxsIT09dGhpcy5wYXJ0bmVyR3VpZCYmdm9pZCAwIT09dGhpcy5wYXJ0bmVyR3VpZCYmKGUueGIoXCJwYXJ0bmVyR3VpZFwiLGkuVHlwZS5TVFJJTkcsMyksZS5xYih0aGlzLnBhcnRuZXJHdWlkKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXk9ZnVuY3Rpb24oZSl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5BUz1udWxsLHRoaXMucGFydG5lckd1aWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5iaXRyYXRlJiZudWxsIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5BUyYmbnVsbCE9PWUuQVMmJih0aGlzLkFTPWUuQVMpLHZvaWQgMCE9PWUucGFydG5lckd1aWQmJm51bGwhPT1lLnBhcnRuZXJHdWlkJiYodGhpcy5wYXJ0bmVyR3VpZD1lLnBhcnRuZXJHdWlkKSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLmJpdHJhdGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5BUz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLlNUUklORz90aGlzLnBhcnRuZXJHdWlkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiUGFydG5lcktleVwiKSxudWxsIT09dGhpcy5iaXRyYXRlJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGUmJihlLnhiKFwiYml0cmF0ZVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLmJpdHJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuQVMmJnZvaWQgMCE9PXRoaXMuQVMmJihlLnhiKFwiQVNcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5BUyksZS5HYigpKSxudWxsIT09dGhpcy5wYXJ0bmVyR3VpZCYmdm9pZCAwIT09dGhpcy5wYXJ0bmVyR3VpZCYmKGUueGIoXCJwYXJ0bmVyR3VpZFwiLGkuVHlwZS5TVFJJTkcsMyksZS5xYih0aGlzLnBhcnRuZXJHdWlkKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlBsYXllcj1mdW5jdGlvbihlKXt0aGlzLmJ1ZmZlcmluZ049bnVsbCx0aGlzLmJ1ZmZlcmluZ01zPW51bGwsdGhpcy5pbml0QnVmZmVyaW5nTj1udWxsLHRoaXMuaW5pdEJ1ZmZlcmluZ01zPW51bGwsdGhpcy5zZWVrQnVmZmVyaW5nTj1udWxsLHRoaXMuc2Vla0J1ZmZlcmluZ01zPW51bGwsdGhpcy5wbGF5ZXJCdWZmZXJNcz1udWxsLGUmJih2b2lkIDAhPT1lLmJ1ZmZlcmluZ04mJm51bGwhPT1lLmJ1ZmZlcmluZ04mJih0aGlzLmJ1ZmZlcmluZ049ZS5idWZmZXJpbmdOKSx2b2lkIDAhPT1lLmJ1ZmZlcmluZ01zJiZudWxsIT09ZS5idWZmZXJpbmdNcyYmKHRoaXMuYnVmZmVyaW5nTXM9ZS5idWZmZXJpbmdNcyksdm9pZCAwIT09ZS5pbml0QnVmZmVyaW5nTiYmbnVsbCE9PWUuaW5pdEJ1ZmZlcmluZ04mJih0aGlzLmluaXRCdWZmZXJpbmdOPWUuaW5pdEJ1ZmZlcmluZ04pLHZvaWQgMCE9PWUuaW5pdEJ1ZmZlcmluZ01zJiZudWxsIT09ZS5pbml0QnVmZmVyaW5nTXMmJih0aGlzLmluaXRCdWZmZXJpbmdNcz1lLmluaXRCdWZmZXJpbmdNcyksdm9pZCAwIT09ZS5zZWVrQnVmZmVyaW5nTiYmbnVsbCE9PWUuc2Vla0J1ZmZlcmluZ04mJih0aGlzLnNlZWtCdWZmZXJpbmdOPWUuc2Vla0J1ZmZlcmluZ04pLHZvaWQgMCE9PWUuc2Vla0J1ZmZlcmluZ01zJiZudWxsIT09ZS5zZWVrQnVmZmVyaW5nTXMmJih0aGlzLnNlZWtCdWZmZXJpbmdNcz1lLnNlZWtCdWZmZXJpbmdNcyksdm9pZCAwIT09ZS5wbGF5ZXJCdWZmZXJNcyYmbnVsbCE9PWUucGxheWVyQnVmZmVyTXMmJih0aGlzLnBsYXllckJ1ZmZlck1zPWUucGxheWVyQnVmZmVyTXMpKX0saGl2ZS5zbmFwc2hvdHMuUGxheWVyLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkxNj90aGlzLmJ1ZmZlcmluZ049ZS5mXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5idWZmZXJpbmdNcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkxNj90aGlzLmluaXRCdWZmZXJpbmdOPWUuZl8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuSTMyP3RoaXMuaW5pdEJ1ZmZlcmluZ01zPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuSTE2P3RoaXMuc2Vla0J1ZmZlcmluZ049ZS5mXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA2OnI9PWkuVHlwZS5JMzI/dGhpcy5zZWVrQnVmZmVyaW5nTXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNjpyPT1pLlR5cGUuSTMyP3RoaXMucGxheWVyQnVmZmVyTXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlBsYXllclwiKSxudWxsIT09dGhpcy5idWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLmJ1ZmZlcmluZ04mJihlLnhiKFwiYnVmZmVyaW5nTlwiLGkuVHlwZS5JMTYsMSksZS5RQyh0aGlzLmJ1ZmZlcmluZ04pLGUuR2IoKSksbnVsbCE9PXRoaXMuYnVmZmVyaW5nTXMmJnZvaWQgMCE9PXRoaXMuYnVmZmVyaW5nTXMmJihlLnhiKFwiYnVmZmVyaW5nTXNcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5idWZmZXJpbmdNcyksZS5HYigpKSxudWxsIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmKGUueGIoXCJpbml0QnVmZmVyaW5nTlwiLGkuVHlwZS5JMTYsMyksZS5RQyh0aGlzLmluaXRCdWZmZXJpbmdOKSxlLkdiKCkpLG51bGwhPT10aGlzLmluaXRCdWZmZXJpbmdNcyYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTXMmJihlLnhiKFwiaW5pdEJ1ZmZlcmluZ01zXCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMuaW5pdEJ1ZmZlcmluZ01zKSxlLkdiKCkpLG51bGwhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiYoZS54YihcInNlZWtCdWZmZXJpbmdOXCIsaS5UeXBlLkkxNiw1KSxlLlFDKHRoaXMuc2Vla0J1ZmZlcmluZ04pLGUuR2IoKSksbnVsbCE9PXRoaXMuc2Vla0J1ZmZlcmluZ01zJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdNcyYmKGUueGIoXCJzZWVrQnVmZmVyaW5nTXNcIixpLlR5cGUuSTMyLDYpLGUuVmIodGhpcy5zZWVrQnVmZmVyaW5nTXMpLGUuR2IoKSksbnVsbCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJnZvaWQgMCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJihlLnhiKFwicGxheWVyQnVmZmVyTXNcIixpLlR5cGUuSTMyLDM2KSxlLlZiKHRoaXMucGxheWVyQnVmZmVyTXMpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuUEs9ZnVuY3Rpb24oZSl7dGhpcy5fUT1udWxsLHRoaXMuY291bnQ9bnVsbCxlJiYodm9pZCAwIT09ZS5fUSYmbnVsbCE9PWUuX1EmJih0aGlzLl9RPWUuX1EpLHZvaWQgMCE9PWUuY291bnQmJm51bGwhPT1lLmNvdW50JiYodGhpcy5jb3VudD1lLmNvdW50KSl9LGhpdmUuc25hcHNob3RzLlBLLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QSy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTE2P3RoaXMuX1E9ZS5mXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5jb3VudD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuUEsucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJSZXNwb25zZUluZm9cIiksbnVsbCE9PXRoaXMuX1EmJnZvaWQgMCE9PXRoaXMuX1EmJihlLnhiKFwic3RhdHVzQ29kZVwiLGkuVHlwZS5JMTYsMSksZS5RQyh0aGlzLl9RKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvdW50JiZ2b2lkIDAhPT10aGlzLmNvdW50JiYoZS54YihcImNvdW50XCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuY291bnQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuQUs9ZnVuY3Rpb24oZSl7dGhpcy5zb3VyY2U9bnVsbCxlJiZ2b2lkIDAhPT1lLnNvdXJjZSYmbnVsbCE9PWUuc291cmNlJiYodGhpcy5zb3VyY2U9aS5PSyhlLnNvdXJjZSxbaGl2ZS5zbmFwc2hvdHMuUEtdKSl9LGhpdmUuc25hcHNob3RzLkFLLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5BSy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppZihyPT1pLlR5cGUuTElTVCl7dmFyIHMsbz0wO3RoaXMuc291cmNlPVtdO3M9ZS5hXygpLHMuaF8sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7dmFyIGg9bnVsbDtoPW5ldyBoaXZlLnNuYXBzaG90cy5QSyxoLnJlYWQoZSksdGhpcy5zb3VyY2UucHVzaChoKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgMDplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5BSy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIlNlcnZpY2VSZXNwb25zZUluZm9cIiksbnVsbCE9PXRoaXMuc291cmNlJiZ2b2lkIDAhPT10aGlzLnNvdXJjZSl7ZS54YihcInNvdXJjZVwiLGkuVHlwZS5MSVNULDEpLGUuSEMoaS5UeXBlLlNUUlVDVCx0aGlzLnNvdXJjZS5sZW5ndGgpO2Zvcih2YXIgdCBpbiB0aGlzLnNvdXJjZSl0aGlzLnNvdXJjZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dGhpcy5zb3VyY2VbdF0sdC53cml0ZShlKSk7ZS54QygpLGUuR2IoKX1lLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdD1mdW5jdGlvbihlKXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMuZ3VpZD1udWxsLHRoaXMuZXZlbnRJZD1udWxsLHRoaXMuc3RyZWFtSW5mbz1udWxsLHRoaXMubWV0cmljcz1udWxsLHRoaXMudHJhZmZpYz1udWxsLHRoaXMuc25hcHNob3RJbmZvPW51bGwsdGhpcy5hZ2VudEluZm89bnVsbCx0aGlzLmNvbm5JbmZvPW51bGwsdGhpcy5wYXJ0bmVycz1udWxsLHRoaXMucGxheWVyPW51bGwsdGhpcy5jbGllbnQ9bnVsbCx0aGlzLnNlc3Npb25JZD1udWxsLHRoaXMuTks9bnVsbCx0aGlzLmFCPW51bGwsdGhpcy5ESz1udWxsLGUmJih2b2lkIDAhPT1lLnRpbWVzdGFtcCYmbnVsbCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUuZ3VpZCYmbnVsbCE9PWUuZ3VpZCYmKHRoaXMuZ3VpZD1lLmd1aWQpLHZvaWQgMCE9PWUuZXZlbnRJZCYmbnVsbCE9PWUuZXZlbnRJZCYmKHRoaXMuZXZlbnRJZD1lLmV2ZW50SWQpLHZvaWQgMCE9PWUuc3RyZWFtSW5mbyYmbnVsbCE9PWUuc3RyZWFtSW5mbyYmKHRoaXMuc3RyZWFtSW5mbz1lLnN0cmVhbUluZm8pLHZvaWQgMCE9PWUubWV0cmljcyYmbnVsbCE9PWUubWV0cmljcyYmKHRoaXMubWV0cmljcz1lLm1ldHJpY3MpLHZvaWQgMCE9PWUudHJhZmZpYyYmbnVsbCE9PWUudHJhZmZpYyYmKHRoaXMudHJhZmZpYz1lLnRyYWZmaWMpLHZvaWQgMCE9PWUuc25hcHNob3RJbmZvJiZudWxsIT09ZS5zbmFwc2hvdEluZm8mJih0aGlzLnNuYXBzaG90SW5mbz1lLnNuYXBzaG90SW5mbyksdm9pZCAwIT09ZS5hZ2VudEluZm8mJm51bGwhPT1lLmFnZW50SW5mbyYmKHRoaXMuYWdlbnRJbmZvPWUuYWdlbnRJbmZvKSx2b2lkIDAhPT1lLmNvbm5JbmZvJiZudWxsIT09ZS5jb25uSW5mbyYmKHRoaXMuY29ubkluZm89ZS5jb25uSW5mbyksdm9pZCAwIT09ZS5wYXJ0bmVycyYmbnVsbCE9PWUucGFydG5lcnMmJih0aGlzLnBhcnRuZXJzPWUucGFydG5lcnMpLHZvaWQgMCE9PWUucGxheWVyJiZudWxsIT09ZS5wbGF5ZXImJih0aGlzLnBsYXllcj1lLnBsYXllciksdm9pZCAwIT09ZS5jbGllbnQmJm51bGwhPT1lLmNsaWVudCYmKHRoaXMuY2xpZW50PWUuY2xpZW50KSx2b2lkIDAhPT1lLnNlc3Npb25JZCYmbnVsbCE9PWUuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9ZS5zZXNzaW9uSWQpLHZvaWQgMCE9PWUuTksmJm51bGwhPT1lLk5LJiYodGhpcy5OSz1lLk5LKSx2b2lkIDAhPT1lLmFCJiZudWxsIT09ZS5hQiYmKHRoaXMuYUI9ZS5hQiksdm9pZCAwIT09ZS5ESyYmbnVsbCE9PWUuREsmJih0aGlzLkRLPWUuREspKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JNjQ/dGhpcy50aW1lc3RhbXA9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5ndWlkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNjppZihyPT1pLlR5cGUuTUFQKXt2YXIgcyxvPTA7dGhpcy50cmFmZmljPXt9O3M9ZS5pXygpLHMubl8scy5zXyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXthPjAmJmUuSkMubGVuZ3RoPmUuemJbZS56Yi5sZW5ndGgtMV0rMSYmZS5KQy5wb3AoKTt2YXIgaD1udWxsLGM9bnVsbDtoPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LGgucmVhZChlKSxjPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLGMucmVhZChlKSx0aGlzLnRyYWZmaWNbaF09Y31lLm9fKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgNzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnNuYXBzaG90SW5mbz1uZXcgU25hcHNob3RJbmZvLHRoaXMuc25hcHNob3RJbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuYWdlbnRJbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8sdGhpcy5hZ2VudEluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDk6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxMDppZihyPT1pLlR5cGUuTUFQKXt2YXIgdSxsPTA7dGhpcy5wYXJ0bmVycz17fTt1PWUuaV8oKSx1Lm5fLHUuc18sbD11LnNpemU7Zm9yKHZhciBwPTA7cDxsOysrcCl7cD4wJiZlLkpDLmxlbmd0aD5lLnpiW2UuemIubGVuZ3RoLTFdKzEmJmUuSkMucG9wKCk7dmFyIGQ9bnVsbCxmPW51bGw7ZD1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleSxkLnJlYWQoZSksZj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcixmLnJlYWQoZSksdGhpcy5wYXJ0bmVyc1tkXT1mfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAxMTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyLHRoaXMucGxheWVyLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmNsaWVudD1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbyx0aGlzLmNsaWVudC5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5UeXBlLlNUUklORz90aGlzLnNlc3Npb25JZD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE0OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuTks9bmV3IGhpdmUuc25hcHNob3RzLkFLLHRoaXMuTksucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDE1OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuYUI9bmV3IFRlc3RJbmZvLHRoaXMuYUIucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDE2OnI9PWkuVHlwZS5JNjQ/dGhpcy5ESz1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUuSGIoXCJNZXRyaWNTbmFwc2hvdFwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JNjQsMSksZS5LQyh0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJihlLnhiKFwiZ3VpZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmd1aWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZXZlbnRJZCYmdm9pZCAwIT09dGhpcy5ldmVudElkJiYoZS54YihcImV2ZW50SWRcIixpLlR5cGUuU1RSVUNULDMpLHRoaXMuZXZlbnRJZC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbUluZm8mJnZvaWQgMCE9PXRoaXMuc3RyZWFtSW5mbyYmKGUueGIoXCJzdHJlYW1JbmZvXCIsaS5UeXBlLlNUUlVDVCw0KSx0aGlzLnN0cmVhbUluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJihlLnhiKFwibWV0cmljc1wiLGkuVHlwZS5TVFJVQ1QsNSksdGhpcy5tZXRyaWNzLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMudHJhZmZpYyYmdm9pZCAwIT09dGhpcy50cmFmZmljKXtlLnhiKFwidHJhZmZpY1wiLGkuVHlwZS5NQVAsNiksZS5VQyhpLlR5cGUuU1RSVUNULGkuVHlwZS5TVFJVQ1QsaS5FYih0aGlzLnRyYWZmaWMpKTtmb3IodmFyIHQgaW4gdGhpcy50cmFmZmljKWlmKHRoaXMudHJhZmZpYy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIHI9dGhpcy50cmFmZmljW3RdO3Iua2V5LndyaXRlKGUpLHIudmFsdWUud3JpdGUoZSl9ZS5CQygpLGUuR2IoKX1pZihudWxsIT09dGhpcy5zbmFwc2hvdEluZm8mJnZvaWQgMCE9PXRoaXMuc25hcHNob3RJbmZvJiYoZS54YihcInNuYXBzaG90SW5mb1wiLGkuVHlwZS5TVFJVQ1QsNyksdGhpcy5zbmFwc2hvdEluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5hZ2VudEluZm8mJnZvaWQgMCE9PXRoaXMuYWdlbnRJbmZvJiYoZS54YihcImFnZW50SW5mb1wiLGkuVHlwZS5TVFJVQ1QsOCksdGhpcy5hZ2VudEluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKGUueGIoXCJjb25uSW5mb1wiLGkuVHlwZS5TVFJVQ1QsOSksdGhpcy5jb25uSW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnBhcnRuZXJzJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJzKXtlLnhiKFwicGFydG5lcnNcIixpLlR5cGUuTUFQLDEwKSxlLlVDKGkuVHlwZS5TVFJVQ1QsaS5UeXBlLlNUUlVDVCxpLkViKHRoaXMucGFydG5lcnMpKTtmb3IodmFyIG4gaW4gdGhpcy5wYXJ0bmVycylpZih0aGlzLnBhcnRuZXJzLmhhc093blByb3BlcnR5KG4pKXt2YXIgcz10aGlzLnBhcnRuZXJzW25dO3Mua2V5LndyaXRlKGUpLHMudmFsdWUud3JpdGUoZSl9ZS5CQygpLGUuR2IoKX1udWxsIT09dGhpcy5wbGF5ZXImJnZvaWQgMCE9PXRoaXMucGxheWVyJiYoZS54YihcInBsYXllclwiLGkuVHlwZS5TVFJVQ1QsMTEpLHRoaXMucGxheWVyLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuY2xpZW50JiZ2b2lkIDAhPT10aGlzLmNsaWVudCYmKGUueGIoXCJjbGllbnRcIixpLlR5cGUuU1RSVUNULDEyKSx0aGlzLmNsaWVudC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnNlc3Npb25JZCYmdm9pZCAwIT09dGhpcy5zZXNzaW9uSWQmJihlLnhiKFwic2Vzc2lvbklkXCIsaS5UeXBlLlNUUklORywxMyksZS5xYih0aGlzLnNlc3Npb25JZCksZS5HYigpKSxudWxsIT09dGhpcy5OSyYmdm9pZCAwIT09dGhpcy5OSyYmKGUueGIoXCJyZXNwb25zZUluZm9cIixpLlR5cGUuU1RSVUNULDE0KSx0aGlzLk5LLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuYUImJnZvaWQgMCE9PXRoaXMuYUImJihlLnhiKFwidGVzdEluZm9cIixpLlR5cGUuU1RSVUNULDE1KSx0aGlzLmFCLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuREsmJnZvaWQgMCE9PXRoaXMuREsmJihlLnhiKFwiY2xpZW50SWRcIixpLlR5cGUuSTY0LDE2KSxlLktDKHRoaXMuREspLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90PWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5ndWlkPW51bGwsdGhpcy5ldmVudElkPW51bGwsdGhpcy5zdHJlYW1JbmZvPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5zbmFwc2hvdEluZm89bnVsbCx0aGlzLmFnZW50SW5mbz1udWxsLHRoaXMuY29ubkluZm89bnVsbCx0aGlzLnBhcnRuZXJzPW51bGwsdGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmNsaWVudD1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsdGhpcy5OSz1udWxsLHRoaXMuYUI9bnVsbCx0aGlzLkRLPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiZudWxsIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5ndWlkJiZudWxsIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5ldmVudElkJiZudWxsIT09ZS5ldmVudElkJiYodGhpcy5ldmVudElkPWUuZXZlbnRJZCksdm9pZCAwIT09ZS5zdHJlYW1JbmZvJiZudWxsIT09ZS5zdHJlYW1JbmZvJiYodGhpcy5zdHJlYW1JbmZvPWUuc3RyZWFtSW5mbyksdm9pZCAwIT09ZS5tZXRyaWNzJiZudWxsIT09ZS5tZXRyaWNzJiYodGhpcy5tZXRyaWNzPWUubWV0cmljcyksdm9pZCAwIT09ZS50cmFmZmljJiZudWxsIT09ZS50cmFmZmljJiYodGhpcy50cmFmZmljPWUudHJhZmZpYyksdm9pZCAwIT09ZS5zbmFwc2hvdEluZm8mJm51bGwhPT1lLnNuYXBzaG90SW5mbyYmKHRoaXMuc25hcHNob3RJbmZvPWUuc25hcHNob3RJbmZvKSx2b2lkIDAhPT1lLmFnZW50SW5mbyYmbnVsbCE9PWUuYWdlbnRJbmZvJiYodGhpcy5hZ2VudEluZm89ZS5hZ2VudEluZm8pLHZvaWQgMCE9PWUuY29ubkluZm8mJm51bGwhPT1lLmNvbm5JbmZvJiYodGhpcy5jb25uSW5mbz1lLmNvbm5JbmZvKSx2b2lkIDAhPT1lLnBhcnRuZXJzJiZudWxsIT09ZS5wYXJ0bmVycyYmKHRoaXMucGFydG5lcnM9ZS5wYXJ0bmVycyksdm9pZCAwIT09ZS5wbGF5ZXImJm51bGwhPT1lLnBsYXllciYmKHRoaXMucGxheWVyPWUucGxheWVyKSx2b2lkIDAhPT1lLmNsaWVudCYmbnVsbCE9PWUuY2xpZW50JiYodGhpcy5jbGllbnQ9ZS5jbGllbnQpLHZvaWQgMCE9PWUuc2Vzc2lvbklkJiZudWxsIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCksdm9pZCAwIT09ZS5OSyYmbnVsbCE9PWUuTksmJih0aGlzLk5LPWUuTkspLHZvaWQgMCE9PWUuYUImJm51bGwhPT1lLmFCJiYodGhpcy5hQj1lLmFCKSx2b2lkIDAhPT1lLkRLJiZudWxsIT09ZS5ESyYmKHRoaXMuREs9ZS5ESykpfSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3QucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkpzb25NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTY0P3RoaXMudGltZXN0YW1wPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuZ3VpZD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5ldmVudElkPW5ldyBFdmVudElkLHRoaXMuZXZlbnRJZC5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnN0cmVhbUluZm89bmV3IGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8sdGhpcy5zdHJlYW1JbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuTWV0cmljcyx0aGlzLm1ldHJpY3MucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDY6aWYocj09aS5UeXBlLk1BUCl7dmFyIHMsbz0wO3RoaXMudHJhZmZpYz17fTtzPWUuaV8oKSxzLm5fLHMuc18sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7YT4wJiZlLkpDLmxlbmd0aD5lLnpiW2UuemIubGVuZ3RoLTFdKzEmJmUuSkMucG9wKCk7dmFyIGg9bnVsbCxjPW51bGw7aD1lLkxiKCkudmFsdWUsYz1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyxjLnJlYWQoZSksdGhpcy50cmFmZmljW2hdPWN9ZS5vXygpfWVsc2UgZS5NYihyKTticmVhaztjYXNlIDc6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5zbmFwc2hvdEluZm89bmV3IFNuYXBzaG90SW5mbyx0aGlzLnNuYXBzaG90SW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgODpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmFnZW50SW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLHRoaXMuYWdlbnRJbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA5OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy5jb25uSW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTA6aWYocj09aS5UeXBlLk1BUCl7dmFyIHUsbD0wO3RoaXMucGFydG5lcnM9e307dT1lLmlfKCksdS5uXyx1LnNfLGw9dS5zaXplO2Zvcih2YXIgcD0wO3A8bDsrK3Ape3A+MCYmZS5KQy5sZW5ndGg+ZS56YltlLnpiLmxlbmd0aC0xXSsxJiZlLkpDLnBvcCgpO3ZhciBkPW51bGwsZj1udWxsO2Q9ZS5MYigpLnZhbHVlLGY9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXIsZi5yZWFkKGUpLHRoaXMucGFydG5lcnNbZF09Zn1lLm9fKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5wbGF5ZXI9bmV3IGhpdmUuc25hcHNob3RzLlBsYXllcix0aGlzLnBsYXllci5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTI6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5jbGllbnQ9bmV3IGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8sdGhpcy5jbGllbnQucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDEzOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5zZXNzaW9uSWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNDpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLk5LPW5ldyBoaXZlLnNuYXBzaG90cy5BSyx0aGlzLk5LLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxNTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmFCPW5ldyBUZXN0SW5mbyx0aGlzLmFCLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxNjpyPT1pLlR5cGUuSTY0P3RoaXMuREs9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLkpzb25NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIkpzb25NZXRyaWNTbmFwc2hvdFwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JNjQsMSksZS5LQyh0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJihlLnhiKFwiZ3VpZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmd1aWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZXZlbnRJZCYmdm9pZCAwIT09dGhpcy5ldmVudElkJiYoZS54YihcImV2ZW50SWRcIixpLlR5cGUuU1RSVUNULDMpLHRoaXMuZXZlbnRJZC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbUluZm8mJnZvaWQgMCE9PXRoaXMuc3RyZWFtSW5mbyYmKGUueGIoXCJzdHJlYW1JbmZvXCIsaS5UeXBlLlNUUlVDVCw0KSx0aGlzLnN0cmVhbUluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJihlLnhiKFwibWV0cmljc1wiLGkuVHlwZS5TVFJVQ1QsNSksdGhpcy5tZXRyaWNzLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMudHJhZmZpYyYmdm9pZCAwIT09dGhpcy50cmFmZmljKXtlLnhiKFwidHJhZmZpY1wiLGkuVHlwZS5NQVAsNiksZS5VQyhpLlR5cGUuU1RSSU5HLGkuVHlwZS5TVFJVQ1QsaS5FYih0aGlzLnRyYWZmaWMpKTtmb3IodmFyIHQgaW4gdGhpcy50cmFmZmljKWlmKHRoaXMudHJhZmZpYy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIHI9dGhpcy50cmFmZmljW3RdO2UucWIodCksci53cml0ZShlKX1lLkJDKCksZS5HYigpfWlmKG51bGwhPT10aGlzLnNuYXBzaG90SW5mbyYmdm9pZCAwIT09dGhpcy5zbmFwc2hvdEluZm8mJihlLnhiKFwic25hcHNob3RJbmZvXCIsaS5UeXBlLlNUUlVDVCw3KSx0aGlzLnNuYXBzaG90SW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFnZW50SW5mbyYmdm9pZCAwIT09dGhpcy5hZ2VudEluZm8mJihlLnhiKFwiYWdlbnRJbmZvXCIsaS5UeXBlLlNUUlVDVCw4KSx0aGlzLmFnZW50SW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvbm5JbmZvJiZ2b2lkIDAhPT10aGlzLmNvbm5JbmZvJiYoZS54YihcImNvbm5JbmZvXCIsaS5UeXBlLlNUUlVDVCw5KSx0aGlzLmNvbm5JbmZvLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMucGFydG5lcnMmJnZvaWQgMCE9PXRoaXMucGFydG5lcnMpe2UueGIoXCJwYXJ0bmVyc1wiLGkuVHlwZS5NQVAsMTApLGUuVUMoaS5UeXBlLlNUUklORyxpLlR5cGUuU1RSVUNULGkuRWIodGhpcy5wYXJ0bmVycykpO2Zvcih2YXIgbiBpbiB0aGlzLnBhcnRuZXJzKWlmKHRoaXMucGFydG5lcnMuaGFzT3duUHJvcGVydHkobikpe3ZhciBzPXRoaXMucGFydG5lcnNbbl07ZS5xYihuKSxzLndyaXRlKGUpfWUuQkMoKSxlLkdiKCl9bnVsbCE9PXRoaXMucGxheWVyJiZ2b2lkIDAhPT10aGlzLnBsYXllciYmKGUueGIoXCJwbGF5ZXJcIixpLlR5cGUuU1RSVUNULDExKSx0aGlzLnBsYXllci53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmNsaWVudCYmdm9pZCAwIT09dGhpcy5jbGllbnQmJihlLnhiKFwiY2xpZW50XCIsaS5UeXBlLlNUUlVDVCwxMiksdGhpcy5jbGllbnQud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS54YihcInNlc3Npb25JZFwiLGkuVHlwZS5TVFJJTkcsMTMpLGUucWIodGhpcy5zZXNzaW9uSWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuTksmJnZvaWQgMCE9PXRoaXMuTksmJihlLnhiKFwicmVzcG9uc2VJbmZvXCIsaS5UeXBlLlNUUlVDVCwxNCksdGhpcy5OSy53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFCJiZ2b2lkIDAhPT10aGlzLmFCJiYoZS54YihcInRlc3RJbmZvXCIsaS5UeXBlLlNUUlVDVCwxNSksdGhpcy5hQi53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLkRLJiZ2b2lkIDAhPT10aGlzLkRLJiYoZS54YihcImNsaWVudElkXCIsaS5UeXBlLkk2NCwxNiksZS5LQyh0aGlzLkRLKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9fSxmdW5jdGlvbihlLHQscil7dmFyIGk9cigzMyk7U3RyZWFtVHlwZT17MTpcIkxJVkVcIixMSVZFOjEsMjpcIlZPRFwiLGtLOjJ9LFN0cmVhbVByb3RvY29sPXsxOlwiREFTSFwiLERBU0g6MSwyOlwiSERTXCIsTEs6MiwzOlwiSExTXCIsYnE6Myw0OlwiU1NcIixNSzo0fSxDbGllbnRUeXBlPXsxOlwiSkFWQVwiLEZLOjEsMjpcIlNUQVRTX09OTFlcIix3QjoyLDM6XCJKU19ESVJFQ1RcIixTQjozLDQ6XCJKU19QUk9YWVwiLFJCOjR9LEV2ZW50SWQ9ZnVuY3Rpb24oZSl7dGhpcy5wYXJ0bmVySWQ9bnVsbCx0aGlzLmN1c3RvbWVySWQ9bnVsbCx0aGlzLmNvbnRlbnRJZD1udWxsLHRoaXMudGFncz1udWxsLGUmJih2b2lkIDAhPT1lLnBhcnRuZXJJZCYmbnVsbCE9PWUucGFydG5lcklkJiYodGhpcy5wYXJ0bmVySWQ9ZS5wYXJ0bmVySWQpLHZvaWQgMCE9PWUuY3VzdG9tZXJJZCYmbnVsbCE9PWUuY3VzdG9tZXJJZCYmKHRoaXMuY3VzdG9tZXJJZD1lLmN1c3RvbWVySWQpLHZvaWQgMCE9PWUuY29udGVudElkJiZudWxsIT09ZS5jb250ZW50SWQmJih0aGlzLmNvbnRlbnRJZD1lLmNvbnRlbnRJZCksdm9pZCAwIT09ZS50YWdzJiZudWxsIT09ZS50YWdzJiYodGhpcy50YWdzPWUudGFncykpfSxFdmVudElkLnByb3RvdHlwZT17fSxFdmVudElkLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5wYXJ0bmVySWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5jdXN0b21lcklkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuY29udGVudElkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDppZihyPT1pLlR5cGUuTElTVCl7dmFyIHMsbz0wO3RoaXMudGFncz1bXTtzPWUuYV8oKSxzLmhfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1lLkxiKCkudmFsdWUsdGhpcy50YWdzLnB1c2goaCl9ZS5jXygpfWVsc2UgZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0sRXZlbnRJZC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIkV2ZW50SWRcIiksbnVsbCE9PXRoaXMucGFydG5lcklkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJJZCYmKGUueGIoXCJwYXJ0bmVySWRcIixpLlR5cGUuU1RSSU5HLDEpLGUucWIodGhpcy5wYXJ0bmVySWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuY3VzdG9tZXJJZCYmdm9pZCAwIT09dGhpcy5jdXN0b21lcklkJiYoZS54YihcImN1c3RvbWVySWRcIixpLlR5cGUuU1RSSU5HLDIpLGUucWIodGhpcy5jdXN0b21lcklkKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvbnRlbnRJZCYmdm9pZCAwIT09dGhpcy5jb250ZW50SWQmJihlLnhiKFwiY29udGVudElkXCIsaS5UeXBlLlNUUklORywzKSxlLnFiKHRoaXMuY29udGVudElkKSxlLkdiKCkpLG51bGwhPT10aGlzLnRhZ3MmJnZvaWQgMCE9PXRoaXMudGFncyl7ZS54YihcInRhZ3NcIixpLlR5cGUuTElTVCw0KSxlLkhDKGkuVHlwZS5TVFJJTkcsdGhpcy50YWdzLmxlbmd0aCk7Zm9yKHZhciB0IGluIHRoaXMudGFncyl0aGlzLnRhZ3MuaGFzT3duUHJvcGVydHkodCkmJih0PXRoaXMudGFnc1t0XSxlLnFiKHQpKTtlLnhDKCksZS5HYigpfWUuamIoKSxlLlFiKCl9LFNuYXBzaG90SW5mbz1mdW5jdGlvbihlKXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMuYXBpU2VydmVyPW51bGwsdGhpcy5jbGllbnRJcD1udWxsLGUmJih2b2lkIDAhPT1lLnRpbWVzdGFtcCYmbnVsbCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUuYXBpU2VydmVyJiZudWxsIT09ZS5hcGlTZXJ2ZXImJih0aGlzLmFwaVNlcnZlcj1lLmFwaVNlcnZlciksdm9pZCAwIT09ZS5jbGllbnRJcCYmbnVsbCE9PWUuY2xpZW50SXAmJih0aGlzLmNsaWVudElwPWUuY2xpZW50SXApKX0sU25hcHNob3RJbmZvLnByb3RvdHlwZT17fSxTbmFwc2hvdEluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkk2ND90aGlzLnRpbWVzdGFtcD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUklORz90aGlzLmFwaVNlcnZlcj1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLlNUUklORz90aGlzLmNsaWVudElwPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxTbmFwc2hvdEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJTbmFwc2hvdEluZm9cIiksbnVsbCE9PXRoaXMudGltZXN0YW1wJiZ2b2lkIDAhPT10aGlzLnRpbWVzdGFtcCYmKGUueGIoXCJ0aW1lc3RhbXBcIixpLlR5cGUuSTY0LDEpLGUuS0ModGhpcy50aW1lc3RhbXApLGUuR2IoKSksbnVsbCE9PXRoaXMuYXBpU2VydmVyJiZ2b2lkIDAhPT10aGlzLmFwaVNlcnZlciYmKGUueGIoXCJhcGlTZXJ2ZXJcIixpLlR5cGUuU1RSSU5HLDIpLGUucWIodGhpcy5hcGlTZXJ2ZXIpLGUuR2IoKSksbnVsbCE9PXRoaXMuY2xpZW50SXAmJnZvaWQgMCE9PXRoaXMuY2xpZW50SXAmJihlLnhiKFwiY2xpZW50SXBcIixpLlR5cGUuU1RSSU5HLDMpLGUucWIodGhpcy5jbGllbnRJcCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxUZXN0SW5mbz1mdW5jdGlvbihlKXt0aGlzLnRlc3RJZD1udWxsLGUmJnZvaWQgMCE9PWUudGVzdElkJiZudWxsIT09ZS50ZXN0SWQmJih0aGlzLnRlc3RJZD1lLnRlc3RJZCl9LFRlc3RJbmZvLnByb3RvdHlwZT17fSxUZXN0SW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMudGVzdElkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMDplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxUZXN0SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRlc3RJbmZvXCIpLG51bGwhPT10aGlzLnRlc3RJZCYmdm9pZCAwIT09dGhpcy50ZXN0SWQmJihlLnhiKFwidGVzdElkXCIsaS5UeXBlLlNUUklORywxKSxlLnFiKHRoaXMudGVzdElkKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LEluZXRBZGRyZXNzPWZ1bmN0aW9uKGUpe3RoaXMuYWRkcmVzcz1udWxsLHRoaXMucG9ydD1udWxsLGUmJih2b2lkIDAhPT1lLmFkZHJlc3MmJm51bGwhPT1lLmFkZHJlc3MmJih0aGlzLmFkZHJlc3M9ZS5hZGRyZXNzKSx2b2lkIDAhPT1lLnBvcnQmJm51bGwhPT1lLnBvcnQmJih0aGlzLnBvcnQ9ZS5wb3J0KSl9LEluZXRBZGRyZXNzLnByb3RvdHlwZT17fSxJbmV0QWRkcmVzcy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuYWRkcmVzcz1lLnZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLnBvcnQ9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LEluZXRBZGRyZXNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiSW5ldEFkZHJlc3NcIiksbnVsbCE9PXRoaXMuYWRkcmVzcyYmdm9pZCAwIT09dGhpcy5hZGRyZXNzJiYoZS54YihcImFkZHJlc3NcIixpLlR5cGUuU1RSSU5HLDEpLGUuV0ModGhpcy5hZGRyZXNzKSxlLkdiKCkpLG51bGwhPT10aGlzLnBvcnQmJnZvaWQgMCE9PXRoaXMucG9ydCYmKGUueGIoXCJwb3J0XCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMucG9ydCksZS5HYigpKSxlLmpiKCksZS5RYigpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDIzKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubXNnPWUsdGhpcy5VSz1EYXRlLm5vdygpK3QsdGhpcy5CSz1pLmRlZmVyKCl9cmV0dXJuIGUucHJvdG90eXBlLkhLPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCk+PXRoaXMuVUt9LGV9KCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuLHMsbyl7dm9pZCAwPT09dCYmKHQ9M2U0KSx2b2lkIDA9PT1yJiYocj0xMDApLHZvaWQgMD09PWkmJihpPTNlNCksdm9pZCAwPT09biYmKG49MTVlMyksdm9pZCAwPT09cyYmKHM9RGF0ZSksdm9pZCAwPT09byYmKG89ITEpLHRoaXMueEs9MSx0aGlzLnFLPS0xLHRoaXMuR0s9LTEsdGhpcy53aj17fSx0aGlzLlZLPVtdLHRoaXMuaks9W10sdGhpcy5RSz0hMSx0aGlzLktLPSEwLHRoaXMuWUs9ZSx0aGlzLldLPUFycmF5KCksdGhpcy5BRT10LHRoaXMuT0U9cix0aGlzLk5FPWksdGhpcy56Sz1uLHRoaXMuSks9cyx0aGlzLlFLPW98fC9NU0lFIDEwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L01TSUUgOS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9ydjoxMS4wL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L0VkZ2UuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX1yZXR1cm4gZS5wcm90b3R5cGUuQXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlK1wiX1wiK2UubXNnSWQscj10aGlzLndqW3RdO251bGwhPXI/cihlKTpuLmxvZ2dlcigpLmVycm9yKG4ubG9nZ2VySWQrXCJDb3VsZCBub3QgZmluZCBhIGRpc3BhdGNoZXIgZm9yIFwiLGUsdCx0aGlzLndqKX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LHIpe3RoaXMud2pbZStcIl9cIit0XT1yfSxlLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuVksucHVzaChlKX0sZS5wcm90b3R5cGUueEI9ZnVuY3Rpb24oZSl7dGhpcy5qSy5wdXNoKGUpfSxlLnByb3RvdHlwZS5YSz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXdpbmRvdy5XZWJTb2NrZXQpcmV0dXJuIHZvaWQgdGhpcy5WSy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlKFwiV2ViU29ja2V0IG5vdCBkZWZpbmVkXCIpfSk7dmFyIHQ9bmV3IFdlYlNvY2tldCh0aGlzLllLKTtyZXR1cm4gdC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0Lm9ub3Blbj1mdW5jdGlvbih0KXtlLlpLKCksbi5sb2dnZXIoKS5kZWJ1ZyhuLmxvZ2dlcklkK1wiSGl2ZVNlcnZpY2VzQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCB0byBcIitlLllLKSxlLkdLPShuZXcgZS5KSykuZ2V0VGltZSgpLGUuJEsoKSxlLmpLLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoZSl9KSxlLmVZKCksZS50WSgpfSx0Lm9uY2xvc2U9ZnVuY3Rpb24odCl7ZS5jbG9zZShlLktLKSxlLmNvbm5lY3QoKX0sdC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7ZS5BcyhuLkpkLnlmKHQuZGF0YSkpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5jbG9zZSghMCksZS5WSy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQudG9TdHJpbmcoKSl9KX0sdH0sZS5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuUFImJnRoaXMuUFIucmVhZHlTdGF0ZT09dGhpcy5QUi5PUEVOfSxlLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmKHRoaXMuS0s9ITApLHRoaXMuS0smJjEhPXRoaXMuaXNPcGVuKCkmJih0aGlzLnFLPjB8fCh0aGlzLkdLPi0xJiYobmV3IHRoaXMuSkspLmdldFRpbWUoKS10aGlzLkdLPnRoaXMuQUU/KHRoaXMueEs9bi5MLkVmLHRoaXMuR0s9LTEpOnRoaXMueEs9TWF0aC5taW4oMip0aGlzLnhLLHRoaXMuQUUpLHRoaXMucUs9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnFLPS0xLG4ubG9nZ2VyKCkuZGVidWcobi5sb2dnZXJJZCtcIkNvbm5lY3Rpb24gYXR0ZW1wdCB0byBcIit0LllLK1wiIFt0OlwiK3QueEsrXCIgaGI6XCIrdC5RSytcIl1cIiksdC5QUj10LlhLKCksdC54Sz1NYXRoLm1heCh0LnhLLG4uTC5FZil9LHRoaXMueEspKSl9LGUucHJvdG90eXBlLlpLPWZ1bmN0aW9uKCl7dGhpcy5xSz4tMSYmKGNsZWFyVGltZW91dCh0aGlzLnFLKSx0aGlzLnFLPS0xKX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7dGhpcy5LSz12b2lkIDAhPWUmJmUsbi5sb2dnZXIoKS5kZWJ1ZyhuLmxvZ2dlcklkK1wiQ2xvc2luZyBjb25uZWN0aW9uIFtyZWNvbm5lY3Q6XCIrdGhpcy5LSytcIl1cIiksdGhpcy5aSygpLG51bGwhPXRoaXMuUFImJih0aGlzLlBSLmNsb3NlKCksdGhpcy5QUj1udWxsKX0sZS5wcm90b3R5cGUuJEs9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuV0subGVuZ3RoPjA7KXt2YXIgZT10aGlzLldLLnBvcCgpO3RyeXtlLkhLKCk/ZS5CSy5yZWplY3QobmV3IEVycm9yKFwiTWVzc2FnZSBleHBpcmVkXCIpKToodGhpcy5lWSgpLHRoaXMuUFIuc2VuZChlLm1zZy52ZigpKSl9Y2F0Y2godCl7aWYodC5jb2RlPT09RE9NRXhjZXB0aW9uLklOVkFMSURfU1RBVEVfRVJSKXt0aGlzLldLLnB1c2goZSk7YnJlYWt9bi5sb2dnZXIoKS5lcnJvcihuLmxvZ2dlcklkK1wiRmFpbGVkIHRvIHNlbmQgdGhlIG1lc3NhZ2UsIGRyb3BwZWQ6IFwiLHQuY29kZSx0Lm5hbWUpLGUuQksucmVqZWN0KHQpfX10aGlzLnRZKCl9LGUucHJvdG90eXBlLmVZPWZ1bmN0aW9uKCl7dGhpcy5yWSYmKGNsZWFyVGltZW91dCh0aGlzLnJZKSx0aGlzLnJZPW51bGwpfSxlLnByb3RvdHlwZS50WT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5RSyYmIXRoaXMuclkmJih0aGlzLnJZPXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Uuc2VuZChuZXcgbi5KZChTZXJ2aWNlcy5pWSwwLFwiXCIpKX0sdGhpcy56SykpfSxlLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcy5ORSksdGhpcy5XSy5sZW5ndGg+PXRoaXMuT0UpdGhyb3cgbmV3IEVycm9yKFwiSGl2ZVNlcnZpY2VzIGNvbm5lY3Rpb24gY2Fubm90IHF1ZXVlIG1vcmUgbWVzc2FnZXNcIik7dmFyIHI9bmV3IHMoZSx0KTtyZXR1cm4gdGhpcy5XSy5wdXNoKHIpLHRoaXMuUFImJnRoaXMuJEsoKSxyLkJLLlNzfSxlLnByb3RvdHlwZS5uWT1mdW5jdGlvbihlKXt0aGlzLlFLPWUsdGhpcy5RSyYmdGhpcy50WSgpfSxlLnByb3RvdHlwZS5zWT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLlBSfSxlfSgpO3QuSEI9b30sZnVuY3Rpb24oZSx0KXtTZXJ2aWNlcz17MTpcIlJFTU9URV9FWEVDVVRPUlwiLG9ZOjEsMjpcIlBFRVJfRk9SV0FSREVSXCIsYVk6MiwzOlwiUEVFUl9JTkRFWFwiLGhZOjMsNDpcIlBFRVJfQlJPQURDQVNUXCIsY1k6NCw1OlwiUEVFUl9GSUxURVJcIix1WTo1LDY6XCJQRUVSX0xPR0dJTkdcIixsWTo2LDc6XCJISVZFSlNfVFJBQ0tFUlwiLHBZOjcsODpcIlBFRVJfU1lTVEVNXCIsZFk6OCw5OlwiSElWRUpTX1NOQVBTSE9UU1wiLFhkOjksMTA6XCJISVZFSlNfVElDS0VUU1wiLEJCOjEwLDExOlwiSElWRUpTX0tFRVBBTElWRVwiLGlZOjExLDEyOlwiSElWRUpTX0ZPUldBUkRJTkdcIixmWToxMn19LGZ1bmN0aW9uKGUsdCl7ZS5pPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdW5jdGlvbn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnAycElkPWUsdGhpcy5XbD10fXJldHVybiBlLnByb3RvdHlwZS50cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnAycElkfSxlLnByb3RvdHlwZS5ycD1mdW5jdGlvbigpe3JldHVybiB0aGlzLldsP3RoaXMuV2w6dGhpcy5wMnBJZH0sZX0oKTt0LnBIPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODIpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRDaWRyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTUg/dGhpcy5NSDpudWxsfSx0fShuLkZIKTt0LndIPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDc0KSxuPXIoNCkscz1yKDApLG89cigyNyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmluZGV4ZWREQj13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREIsdGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS51SD1mdW5jdGlvbigpe3ZhciBlPW4uZGVmZXIoKSx0PXRoaXMuaW5kZXhlZERCLm9wZW4oXCJQcml2YXRlSVBEQlwiKTtyZXR1cm4gdC5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oKXt0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShcIlByaXZhdGVJUFN0b3JlXCIse2tleVBhdGg6XCJpZFwifSl9LHQub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIHI9dC5yZXN1bHQ7ZS5yZXNvbHZlKHIpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5yZWplY3QodCl9LGUuU3N9LGUucHJvdG90eXBlLlpIPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmdZKXJldHVybiB0aGlzLmdZO3ZhciB0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmxvZ2dlci53YXJuKFwiUHJpdmF0ZSBsaXN0IHJldHJpZXZhbCB0aW1lb3V0XCIpLHIucmVqZWN0KFwiUHJpdmF0ZSBsaXN0IHRpbWVvdXRcIil9LDRlMykscj1uLmRlZmVyKCk7aWYoby5HZC5faCYmdGhpcy5pbmRleGVkREIpe3RoaXMudUgoKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBzPW4udHJhbnNhY3Rpb24oXCJQcml2YXRlSVBTdG9yZVwiLFwicmVhZHdyaXRlXCIpLG89cy5vYmplY3RTdG9yZShcIlByaXZhdGVJUFN0b3JlXCIpLGE9by5nZXQoXCJpcGxpc3RcIik7YS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodCk7dmFyIGU9W107aS5zTChhLnJlc3VsdCl8fGkuc0woYS5yZXN1bHQudmFsdWUpfHwoZT1hLnJlc3VsdC52YWx1ZS5zcGxpdChcInxcIikpLHIucmVzb2x2ZShlKSxuLmNsb3NlKCl9LGEub25lcnJvcj1mdW5jdGlvbihpKXtjbGVhclRpbWVvdXQodCksZS5sb2dnZXIud2FybihcIkkgZ290IGFuIGVycm9yIG9uIGluZGV4ZWQgZGIgXCIraS5tZXNzYWdlKSxyLnJlamVjdChcIkVycm9yIG9uIGluZGV4ZWREQiBcIitpLm1lc3NhZ2UpfX0pLmZhaWwoZnVuY3Rpb24oaSl7Y2xlYXJUaW1lb3V0KHQpLGUubG9nZ2VyLndhcm4oXCJEQiBpcyBub3Qgb3BlbiB3aXRoIGVycm9yXCIraS5tZXNzYWdlKSxyLnJlamVjdChcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3IgXCIraS5tZXNzYWdlKX0pfWVsc2UgY2xlYXJUaW1lb3V0KHQpLHIucmVqZWN0KHttZXNzYWdlOlwiREIgaXMgbm90IHJlYWR5IG9yIGVuYWJsZWRcIn0pO3JldHVybiB0aGlzLmdZPXIuU3MsdGhpcy5nWX0sZS5wcm90b3R5cGUuaXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihvLkdkLl9oJiZ0aGlzLmluZGV4ZWREQil7dmFyIHI9ZS5qb2luKFwifFwiKTt0aGlzLnVIKCkudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLnRyYW5zYWN0aW9uKFwiUHJpdmF0ZUlQU3RvcmVcIixcInJlYWR3cml0ZVwiKTtuLm9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIikucHV0KHtpZDpcImlwbGlzdFwiLHZhbHVlOnJ9KSxuLm9uY29tcGxldGU9ZnVuY3Rpb24oKXt0LmxvZ2dlci5kZWJ1ZyhcIlN0b3Jpbmcgc2l0ZSBtYXRjaGVkIGlwcyBbXCIrZS5qb2luKFwiLFwiKStcIl1cIiksaS5jbG9zZSgpfX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIud2FybihcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3IgXCIrZS5tZXNzYWdlKX0pfX0sZX0oKTt0LlFIPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDE3KS5sb2csbj1yKDE3KS5XdSxzPXt1TDpmdW5jdGlvbigpe3dpbmRvdy5NZWRpYVN0cmVhbT13aW5kb3cuTWVkaWFTdHJlYW18fHdpbmRvdy53ZWJraXRNZWRpYVN0cmVhbX0scEw6ZnVuY3Rpb24oKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHwhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHxcIm9udHJhY2tcImluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FWX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5FWSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5FWSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy52WSkpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5FWT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLnZZPWZ1bmN0aW9uKGUpe2Uuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKHIpe3ZhciBpPW5ldyBFdmVudChcInRyYWNrXCIpO2kudHJhY2s9ci50cmFjayxpLnJlY2VpdmVyPXt0cmFjazpyLnRyYWNrfSxpLnN0cmVhbXM9W2Uuc3RyZWFtXSx0LmRpc3BhdGNoRXZlbnQoaSl9KSxlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9dCxyLnJlY2VpdmVyPXt0cmFjazp0fSxyLnN0cmVhbXM9W2Uuc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX19KX0sZEw6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJnZXRTZW5kZXJzXCJpbiBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSl7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55WX07dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSx0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3IueVk9ci55WXx8W10sZS5hcHBseShyLFt0XSksdC5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IueVkucHVzaCh7dHJhY2s6ZSxnZXQgVFkoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5tWSYmKFwiYXVkaW9cIj09PWUua2luZD90aGlzLm1ZPXIuY3JlYXRlRFRNRlNlbmRlcihlKTp0aGlzLm1ZPW51bGwpLHRoaXMubVl9fSl9KX0sUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3IueVk9ci55WXx8W10sdC5hcHBseShyLFtlXSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIueVkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09PWV9KTt0JiZyLnlZLnNwbGljZShyLnlZLmluZGV4T2YodCksMSl9KX19fSxsTDpmdW5jdGlvbigpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJighd2luZG93LkhUTUxNZWRpYUVsZW1lbnR8fFwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNPYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSVl9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuSVk9ZSx0aGlzLnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnNyYyksIWUpcmV0dXJuIHZvaWQodGhpcy5zcmM9XCJcIik7dGhpcy5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKCl7dC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodC5zcmMpLHQuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwoZSl9KSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmV0cmFja1wiLGZ1bmN0aW9uKCl7dC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodC5zcmMpLHQuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwoZSl9KX19KSl9LGFMOmZ1bmN0aW9uKCl7d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHwod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoXCJQZWVyQ29ubmVjdGlvblwiKSxlJiZlLlNZJiYoZS5SWT1lLlNZKSxuZXcgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24oZSx0KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT13ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ud1kmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi53WX19KSk7dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbih0LHIsaSl7dmFyIG49dGhpcyxzPWFyZ3VtZW50cztpZihhcmd1bWVudHMubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKDA9PT1lLmxlbmd0aCYmKDA9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhcmd1bWVudHNbMF0pKXJldHVybiBlLmFwcGx5KHRoaXMsW10pO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9e2lkOmUuaWQsdGltZXN0YW1wOmUudGltZXN0YW1wLHR5cGU6e2JZOlwibG9jYWwtY2FuZGlkYXRlXCIsQ1k6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2UudHlwZV18fGUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goZnVuY3Rpb24odCl7clt0XT1lLl9ZKHQpfSksdFtyLmlkXT1yfSksdH0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3QsZVt0XV19KSl9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpe3ZhciBoPWZ1bmN0aW9uKGUpe3NbMV0oYShvKGUpKSl9O3JldHVybiBlLmFwcGx5KHRoaXMsW2gsYXJndW1lbnRzWzBdXSl9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7ZS5hcHBseShuLFtmdW5jdGlvbihlKXt0KGEobyhlKSkpfSxyXSl9KS50aGVuKHIsaSl9LG4udmVyc2lvbjw1MSYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMscj10aGlzLGk9bmV3IFByb21pc2UoZnVuY3Rpb24oaSxuKXt0LmFwcGx5KHIsW2VbMF0saSxuXSl9KTtyZXR1cm4gZS5sZW5ndGg8Mj9pOmkudGhlbihmdW5jdGlvbigpe2VbMV0uYXBwbHkobnVsbCxbXSl9LGZ1bmN0aW9uKHQpe2UubGVuZ3RoPj0zJiZlWzJdLmFwcGx5KG51bGwsW3RdKX0pfX0pLG4udmVyc2lvbjw1MiYmW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg8MXx8MT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciByPTE9PT1hcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGksbil7dC5hcHBseShlLFtpLG4scl0pfSl9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PWU/UlRDSWNlQ2FuZGlkYXRlOlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KTt2YXIgdD1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdP3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9fX07ZS5pPXt1TDpzLnVMLHBMOnMucEwsZEw6cy5kTCxsTDpzLmxMLGFMOnMuYUwsY0w6cigxMjMpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTcpLmxvZyxuPXIoMTcpLld1O2UuaT1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxlLlBZfHxlLm9wdGlvbmFsKXJldHVybiBlO3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKFwicmVxdWlyZVwiIT09ciYmXCJhZHZhbmNlZFwiIT09ciYmXCJtZWRpYVNvdXJjZVwiIT09cil7dmFyIGk9XCJvYmplY3RcIj09dHlwZW9mIGVbcl0/ZVtyXTp7QVk6ZVtyXX07dm9pZCAwIT09aS5PWSYmXCJudW1iZXJcIj09dHlwZW9mIGkuT1kmJihpLm1pbj1pLm1heD1pLk9ZKTt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBlP2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXQ/XCJzb3VyY2VJZFwiOnR9O2lmKHZvaWQgMCE9PWkuQVkpe3Qub3B0aW9uYWw9dC5vcHRpb25hbHx8W107dmFyIHM9e307XCJudW1iZXJcIj09dHlwZW9mIGkuQVk/KHNbbihcIm1pblwiLHIpXT1pLkFZLHQub3B0aW9uYWwucHVzaChzKSxzPXt9LHNbbihcIm1heFwiLHIpXT1pLkFZLHQub3B0aW9uYWwucHVzaChzKSk6KHNbbihcIlwiLHIpXT1pLkFZLHQub3B0aW9uYWwucHVzaChzKSl9dm9pZCAwIT09aS5PWSYmXCJudW1iZXJcIiE9dHlwZW9mIGkuT1k/KHQuUFk9dC5QWXx8e30sdC5QWVtuKFwiXCIscildPWkuT1kpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT09aVtlXSYmKHQuUFk9dC5QWXx8e30sdC5QWVtuKGUscildPWlbZV0pfSl9fSksZS5OWSYmKHQub3B0aW9uYWw9KHQub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5OWSkpLHR9LHQ9ZnVuY3Rpb24odCxyKXtpZih0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHQmJnQuSFImJih0LkhSPWUodC5IUikpLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0LnZpZGVvKXt2YXIgcz10LnZpZGVvLkRZO3M9cyYmKFwib2JqZWN0XCI9PXR5cGVvZiBzP3M6e0FZOnN9KTt2YXIgbz1uLnZlcnNpb248NTk7aWYocyYmKFwidXNlclwiPT09cy5PWXx8XCJlbnZpcm9ubWVudFwiPT09cy5PWXx8XCJ1c2VyXCI9PT1zLkFZfHxcImVudmlyb25tZW50XCI9PT1zLkFZKSYmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmtZfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5rWSgpLkRZfHxvKSYmKGRlbGV0ZSB0LnZpZGVvLkRZLFwiZW52aXJvbm1lbnRcIj09PXMuT1l8fFwiZW52aXJvbm1lbnRcIj09PXMuQVkpKXJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLkxZKCkudGhlbihmdW5jdGlvbihuKXtuPW4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9pbnB1dFwiPT09ZS5raW5kfSk7dmFyIG89bi5maW5kKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09ZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJiYWNrXCIpfSl8fG4ubGVuZ3RoJiZuW24ubGVuZ3RoLTFdO3JldHVybiBvJiYodC52aWRlby5NWT1zLk9ZP3tPWTpvLk1ZfTp7QVk6by5NWX0pLHQudmlkZW89ZSh0LnZpZGVvKSxpKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeSh0KSkscih0KX0pO3QudmlkZW89ZSh0LnZpZGVvKX1yZXR1cm4gaShcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkodCkpLHIodCl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6e0ZZOlwiTm90QWxsb3dlZEVycm9yXCIsVVk6XCJPdmVyY29uc3RyYWluZWRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsQlk6ZS5IWSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrKHRoaXMubWVzc2FnZSYmXCI6IFwiKSt0aGlzLm1lc3NhZ2V9fX0scz1mdW5jdGlvbihlLGksbil7dChlLGZ1bmN0aW9uKGUpe25hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoZSxpLGZ1bmN0aW9uKGUpe24ocihlKSl9KX0pfTtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPXM7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7bmF2aWdhdG9yLmdldFVzZXJNZWRpYShlLHQscil9KX07aWYobmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8KG5hdmlnYXRvci5tZWRpYURldmljZXM9e2dldFVzZXJNZWRpYTpvLExZOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe3ZhciB0PXtIUjpcImF1ZGlvaW5wdXRcIix2aWRlbzpcInZpZGVvaW5wdXRcIn07cmV0dXJuIE1lZGlhU3RyZWFtVHJhY2suZ2V0U291cmNlcyhmdW5jdGlvbihyKXtlKHIubWFwKGZ1bmN0aW9uKGUpe3JldHVybntsYWJlbDplLmxhYmVsLGtpbmQ6dFtlLmtpbmRdLE1ZOmUuaWQseFk6XCJcIn19KSl9KX0pfSxrWTpmdW5jdGlvbigpe3JldHVybntNWTohMCxxWTohMCxEWTohMCxHWTohMCxoZWlnaHQ6ITAsd2lkdGg6ITB9fX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXt2YXIgYT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUsZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSkudGhlbihmdW5jdGlvbih0KXtpZihlLkhSJiYhdC5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aHx8ZS52aWRlbyYmIXQuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpdGhyb3cgdC5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSksbmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiTm90Rm91bmRFcnJvclwiKTtyZXR1cm4gdH0sZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KHIoZSkpfSl9KX19ZWxzZSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlKXtyZXR1cm4gbyhlKX07dm9pZCAwPT09bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKCl7aShcIkR1bW15IG1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyIGNhbGxlZC5cIil9KSx2b2lkIDA9PT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtpKFwiRHVtbXkgbWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb1wiPT09ZS5raW5kfSkscj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvXCI9PT1lLmtpbmR9KTtmb3IoZT1bXTt0Lmxlbmd0aHx8ci5sZW5ndGg7KXQubGVuZ3RoJiZlLnB1c2godC5zaGlmdCgpKSxyLmxlbmd0aCYmZS5wdXNoKHIuc2hpZnQoKSk7cmV0dXJuIGV9ZnVuY3Rpb24gbihlKXt2YXIgdD0hMTtyZXR1cm4gZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxlLmZpbHRlcihmdW5jdGlvbihlKXtpZihlJiYoZS5WWXx8ZS51cmwpKXt2YXIgcj1lLlZZfHxlLnVybCxpPVwic3RyaW5nXCI9PXR5cGVvZiByO3JldHVybiBpJiYocj1bcl0pLHI9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmluZGV4T2YoXCJ0dXJuOlwiKXx8LTE9PT1lLmluZGV4T2YoXCJ0cmFuc3BvcnQ9dWRwXCIpfHwtMSE9PWUuaW5kZXhPZihcInR1cm46W1wiKXx8dD8wPT09ZS5pbmRleE9mKFwic3R1bjpcIikmJm8udmVyc2lvbj49MTQzOTM6KHQ9ITAsITApfSksZGVsZXRlIGUudXJsLGUuVlk9aT9yWzBdOnIsISFyLmxlbmd0aH1yZXR1cm4hMX0pfXZhciBzPXIoMTI1KSxvPXIoMTcpLld1LGE9e2FMOmZ1bmN0aW9uKCl7aWYod2luZG93LmpZJiYod2luZG93LlJUQ0ljZUNhbmRpZGF0ZXx8KHdpbmRvdy5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSx3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9ufHwod2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLG8udmVyc2lvbjwxNTAyNSkpe3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsXCJlbmFibGVkXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSxcImVuYWJsZWRcIix7c2V0OmZ1bmN0aW9uKHQpe2Uuc2V0LmNhbGwodGhpcyx0KTt2YXIgcj1uZXcgRXZlbnQoXCJlbmFibGVkXCIpO3IuZW5hYmxlZD10LHRoaXMuZGlzcGF0Y2hFdmVudChyKX19KX13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihbXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1yW2VdLmJpbmQocil9KSx0aGlzLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5vbmFkZHN0cmVhbT1udWxsLHRoaXMuUVk9bnVsbCx0aGlzLm9ucmVtb3Zlc3RyZWFtPW51bGwsdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMuS1k9bnVsbCx0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQ9bnVsbCx0aGlzLm9uZGF0YWNoYW5uZWw9bnVsbCx0aGlzLllZPVtdLHRoaXMuV1k9W10sdGhpcy5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5ZWX0sdGhpcy5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHQuV1l9LHRoaXMubG9jYWxEZXNjcmlwdGlvbj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiXCIsc2RwOlwiXCJ9KSx0aGlzLnJlbW90ZURlc2NyaXB0aW9uPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJcIixzZHA6XCJcIn0pLHRoaXMuc2lnbmFsaW5nU3RhdGU9XCJzdGFibGVcIix0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZT1cIm5ld1wiLHRoaXMuaWNlR2F0aGVyaW5nU3RhdGU9XCJuZXdcIix0aGlzLnpZPXtKWTpcImFsbFwiLGljZVNlcnZlcnM6W119LGUmJmUuU1kpc3dpdGNoKGUuU1kpe2Nhc2VcImFsbFwiOmNhc2VcInJlbGF5XCI6dGhpcy56WS5KWT1lLlNZfXRoaXMuWFk9ZSYmXCJtYXgtYnVuZGxlXCI9PT1lLlpZLGUmJmUuaWNlU2VydmVycyYmKHRoaXMuelkuaWNlU2VydmVycz1uKGUuaWNlU2VydmVycykpLHRoaXMuJFk9ZSx0aGlzLmVXPVtdLHRoaXMudFc9W119LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuclc9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXZlbnQoXCJpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSksbnVsbCE9PXRoaXMuS1kmJnRoaXMuS1koZSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuaVc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cy5uVyhlLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt0aGlzLnRXLmZvckVhY2goZnVuY3Rpb24ocil7aWYoci5jYW5kaWRhdGUmJjAhPT1PYmplY3Qua2V5cyhyLmNhbmRpZGF0ZSkubGVuZ3RoKXRbci5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCsxXSs9XCJhPVwiK3IuY2FuZGlkYXRlLmNhbmRpZGF0ZStcIlxcclxcblwiO2Vsc2UgZm9yKHZhciBpPTE7aTx0Lmxlbmd0aDtpKyspLTE9PT10W2ldLmluZGV4T2YoXCJcXHJcXG5hPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCIpJiYodFtpXSs9XCJhPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCIpO2lmKGUubG9jYWxEZXNjcmlwdGlvbi5zZHA9dC5qb2luKFwiXCIpLGUuZGlzcGF0Y2hFdmVudChyKSxudWxsIT09ZS5vbmljZWNhbmRpZGF0ZSYmZS5vbmljZWNhbmRpZGF0ZShyKSwhci5jYW5kaWRhdGUmJlwiY29tcGxldGVcIiE9PWUuaWNlR2F0aGVyaW5nU3RhdGUpe2UuZVcuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc1cmJlwiY29tcGxldGVkXCI9PT1lLnNXLnN0YXRlfSkmJlwiY29tcGxldGVcIiE9PWUub1cmJihlLmljZUdhdGhlcmluZ1N0YXRlPVwiY29tcGxldGVcIixlLnJXKCkpfX0pLHRoaXMudFc9W119LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRZfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXtpZihvLnZlcnNpb24+PTE1MDI1KXRoaXMuWVkucHVzaChlKTtlbHNle3ZhciB0PWUuY2xvbmUoKTtlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSxyKXt2YXIgaT10LmdldFRyYWNrcygpW3JdO2UuYWRkRXZlbnRMaXN0ZW5lcihcImVuYWJsZWRcIixmdW5jdGlvbihlKXtpLmVuYWJsZWQ9ZS5lbmFibGVkfSl9KSx0aGlzLllZLnB1c2godCl9dGhpcy5hVygpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLllZLmluZGV4T2YoZSk7dD4tMSYmKHRoaXMuWVkuc3BsaWNlKHQsMSksdGhpcy5hVygpKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZVcuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5oV30pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5oV30pfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVXLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWUuY1d9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY1d9KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS51Vz1mdW5jdGlvbihlLHQpe3ZhciByPXtsVzpbXSxwVzpbXSxkVzpbXX0saT1mdW5jdGlvbihlLHQpe2U9cGFyc2VJbnQoZSwxMCk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXS5mVz09PWV8fHRbcl0uZ1c9PT1lKXJldHVybiB0W3JdfSxuPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPWkoZS5wYXJhbWV0ZXJzLkVXLHIpLG89aSh0LnBhcmFtZXRlcnMuRVcsbik7cmV0dXJuIHMmJm8mJnMubmFtZS50b0xvd2VyQ2FzZSgpPT09by5uYW1lLnRvTG93ZXJDYXNlKCl9O3JldHVybiBlLmxXLmZvckVhY2goZnVuY3Rpb24oaSl7Zm9yKHZhciBzPTA7czx0LmxXLmxlbmd0aDtzKyspe3ZhciBvPXQubFdbc107aWYoaS5uYW1lLnRvTG93ZXJDYXNlKCk9PT1vLm5hbWUudG9Mb3dlckNhc2UoKSYmaS52Vz09PW8udlcpe2lmKFwicnR4XCI9PT1pLm5hbWUudG9Mb3dlckNhc2UoKSYmaS5wYXJhbWV0ZXJzJiZvLnBhcmFtZXRlcnMuRVcmJiFuKGksbyxlLmxXLHQubFcpKWNvbnRpbnVlO289SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSksby55Vz1NYXRoLm1pbihpLnlXLG8ueVcpLHIubFcucHVzaChvKSxvLlRXPW8uVFcuZmlsdGVyKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8aS5UVy5sZW5ndGg7dCsrKWlmKGkuVFdbdF0udHlwZT09PWUudHlwZSYmaS5UV1t0XS5tVz09PWUubVcpcmV0dXJuITA7cmV0dXJuITF9KTticmVha319fSksZS5wVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0wO2k8dC5wVy5sZW5ndGg7aSsrKXt2YXIgbj10LnBXW2ldO2lmKGUudXJpPT09bi51cmkpe3IucFcucHVzaChuKTticmVha319fSkscn0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5JVz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1uZXcgUlRDSWNlR2F0aGVyZXIoci56WSksbj1uZXcgUlRDSWNlVHJhbnNwb3J0KGkpO2kuU1c9ZnVuY3Rpb24obyl7dmFyIGE9bmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpO2EuY2FuZGlkYXRlPXtzZHBNaWQ6ZSxzZHBNTGluZUluZGV4OnR9O3ZhciBoPW8uY2FuZGlkYXRlLGM9IWh8fDA9PT1PYmplY3Qua2V5cyhoKS5sZW5ndGg7Yz92b2lkIDA9PT1pLnN0YXRlJiYoaS5zdGF0ZT1cImNvbXBsZXRlZFwiKTooaC5SVz1cIlJUQ1BcIj09PW4uUlc/MjoxLGEuY2FuZGlkYXRlLmNhbmRpZGF0ZT1zLndXKGgpKTt2YXIgdT1zLm5XKHIubG9jYWxEZXNjcmlwdGlvbi5zZHApO3VbYS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCsxXSs9Yz9cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIjpcImE9XCIrYS5jYW5kaWRhdGUuY2FuZGlkYXRlK1wiXFxyXFxuXCIsci5sb2NhbERlc2NyaXB0aW9uLnNkcD11LmpvaW4oXCJcIik7dmFyIGw9ci5iVz9yLmJXOnIuZVcscD1sLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBlLnNXJiZcImNvbXBsZXRlZFwiPT09ZS5zVy5zdGF0ZX0pO3N3aXRjaChyLmljZUdhdGhlcmluZ1N0YXRlKXtjYXNlXCJuZXdcIjpjfHxyLnRXLnB1c2goYSksYyYmcCYmci50Vy5wdXNoKG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSk7YnJlYWs7Y2FzZVwiZ2F0aGVyaW5nXCI6ci5pVygpLGN8fChyLmRpc3BhdGNoRXZlbnQoYSksbnVsbCE9PXIub25pY2VjYW5kaWRhdGUmJnIub25pY2VjYW5kaWRhdGUoYSkpLHAmJihyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKSxudWxsIT09ci5vbmljZWNhbmRpZGF0ZSYmci5vbmljZWNhbmRpZGF0ZShuZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIikpLHIuaWNlR2F0aGVyaW5nU3RhdGU9XCJjb21wbGV0ZVwiLHIuclcoKSl9fSxuLl9XPWZ1bmN0aW9uKCl7ci5QVygpfTt2YXIgbz1uZXcgUlRDRHRsc1RyYW5zcG9ydChuKTtyZXR1cm4gby5BVz1mdW5jdGlvbigpe3IuUFcoKX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7by5zdGF0ZT1cImZhaWxlZFwiLHIuUFcoKX0se3NXOmksT1c6bixOVzpvfX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5EVz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy51VyhlLmtXLGUuTFcpO3QmJmUuaFcmJihpLk1XPWUuRlcsaS5VVz17Qlc6cy5IV30sZS54Vy5sZW5ndGgmJihpLlVXLnFXPWUueFdbMF0ucVcpLGUuaFcuc2VuZChpKSksciYmZS5jVyYmKFwidmlkZW9cIj09PWUua2luZCYmZS54VyYmby52ZXJzaW9uPDE1MDE5JiZlLnhXLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIGUuR1d9KSxpLk1XPWUueFcsaS5VVz17Qlc6ZS5CV30sZS5GVy5sZW5ndGgmJihpLlVXLnFXPWUuRldbMF0ucVcpLGUuY1cuVlcoaSkpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQscixpPXRoaXM7aWYoXCJvZmZlclwiPT09ZS50eXBlKXRoaXMuYlcmJih0PXMublcoZS5zZHApLHI9dC5zaGlmdCgpLHQuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciByPXMualcoZSk7aS5iV1t0XS5rVz1yfSksdGhpcy5lVz10aGlzLmJXLGRlbGV0ZSB0aGlzLmJXKTtlbHNlIGlmKFwiYW5zd2VyXCI9PT1lLnR5cGUpe3Q9cy5uVyhpLnJlbW90ZURlc2NyaXB0aW9uLnNkcCkscj10LnNoaWZ0KCk7dmFyIG49cy5RVyhyLFwiYT1pY2UtbGl0ZVwiKS5sZW5ndGg+MDt0LmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbz1pLmVXW3RdLGE9by5zVyxoPW8uT1csYz1vLk5XLHU9by5rVyxsPW8uTFc7aWYoXCIwXCIhPT1lLnNwbGl0KFwiXFxuXCIsMSlbMF0uc3BsaXQoXCIgXCIsMilbMV0mJiFvLktXKXt2YXIgcD1zLllXKGUsciksZD1zLldXKGUscik7biYmKGQuelc9XCJzZXJ2ZXJcIiksaS5YWSYmMCE9PXR8fChoLnN0YXJ0KGEscCxuP1wiY29udHJvbGxpbmdcIjpcImNvbnRyb2xsZWRcIiksYy5zdGFydChkKSk7dmFyIGY9aS51Vyh1LGwpO2kuRFcobyxmLmxXLmxlbmd0aD4wLCExKX19KX1zd2l0Y2godGhpcy5sb2NhbERlc2NyaXB0aW9uPXt0eXBlOmUudHlwZSxzZHA6ZS5zZHB9LGUudHlwZSl7Y2FzZVwib2ZmZXJcIjp0aGlzLkpXKFwiaGF2ZS1sb2NhbC1vZmZlclwiKTticmVhaztjYXNlXCJhbnN3ZXJcIjp0aGlzLkpXKFwic3RhYmxlXCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgdHlwZSBcIicrZS50eXBlKydcIicpfXZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdO2lmKG8pe3ZhciBhPWFyZ3VtZW50c1sxXTt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKSxcIm5ld1wiPT09aS5pY2VHYXRoZXJpbmdTdGF0ZSYmKGkuaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixpLnJXKCkpLGkuaVcoKX0sMCl9dmFyIGg9UHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIGgudGhlbihmdW5jdGlvbigpe298fChcIm5ld1wiPT09aS5pY2VHYXRoZXJpbmdTdGF0ZSYmKGkuaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixpLnJXKCkpLHdpbmRvdy5zZXRUaW1lb3V0KGkuaVcuYmluZChpKSw1MDApKX0pLGh9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBNZWRpYVN0cmVhbSxpPVtdLG49cy5uVyhlLnNkcCksYT1uLnNoaWZ0KCksaD1zLlFXKGEsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO3N3aXRjaCh0aGlzLlhZPXMuUVcoYSxcImE9Z3JvdXA6QlVORExFIFwiKS5sZW5ndGg+MCxuLmZvckVhY2goZnVuY3Rpb24obixjKXt2YXIgdT1zLlhXKG4pLGw9dVswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpLHA9bFswXSxkPVwiMFwiPT09bFsxXSxmPXMuWlcobixhKSxnPXMuUVcobixcImE9bWlkOlwiKTtpZihnPWcubGVuZ3RoP2dbMF0uc3Vic3RyKDYpOnMuJFcoKSxcImFwcGxpY2F0aW9uXCI9PT1wJiZcIkRUTFMvU0NUUFwiPT09bFsyXSlyZXR1cm4gdm9pZCh0LmVXW2NdPXtlejpnLEtXOiEwfSk7dmFyIEUsdix5LFQsbSxJLFMsUix3LGIsQyxfLFA9cy5qVyhuKTtkfHwoQz1zLllXKG4sYSksXz1zLldXKG4sYSksXy56Vz1cImNsaWVudFwiKSxSPXMudHoobik7dmFyIEEsTz1zLlFXKG4sXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcy5yeihlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImNuYW1lXCI9PT1lLml6fSlbMF07TyYmKEE9Ty52YWx1ZSk7dmFyIE49cy5RVyhuLFwiYT1lbmQtb2YtY2FuZGlkYXRlc1wiLGEpLmxlbmd0aD4wLEQ9cy5RVyhuLFwiYT1jYW5kaWRhdGU6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcy5leChlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIjFcIj09PWUuUld9KTtpZihcIm9mZmVyXCIhPT1lLnR5cGV8fGQpXCJhbnN3ZXJcIiE9PWUudHlwZXx8ZHx8KEU9dC5lV1tjXSx2PUUuc1cseT1FLk9XLFQ9RS5OVyxtPUUuaFcsST1FLmNXLFM9RS5GVyx3PUUua1csdC5lV1tjXS54Vz1SLHQuZVdbY10uTFc9UCx0LmVXW2NdLkJXPUEsKGh8fE4pJiZELmxlbmd0aCYmeS5ueihEKSx0LlhZJiYwIT09Y3x8KHkuc3RhcnQodixDLFwiY29udHJvbGxpbmdcIiksVC5zdGFydChfKSksdC5EVyhFLFwic2VuZHJlY3ZcIj09PWZ8fFwicmVjdm9ubHlcIj09PWYsXCJzZW5kcmVjdlwiPT09Znx8XCJzZW5kb25seVwiPT09ZiksIUl8fFwic2VuZHJlY3ZcIiE9PWYmJlwic2VuZG9ubHlcIiE9PWY/ZGVsZXRlIEUuY1c6KGI9SS50cmFjayxpLnB1c2goW2IsSV0pLHIuYWRkVHJhY2soYikpKTtlbHNle3ZhciBrPXQuWFkmJmM+MD97c1c6dC5lV1swXS5zVyxPVzp0LmVXWzBdLk9XLE5XOnQuZVdbMF0uTld9OnQuSVcoZyxjKTtpZighTnx8dC5YWSYmMCE9PWN8fGsuT1cubnooRCksdz1SVENSdHBSZWNlaXZlci5zeihwKSxvLnZlcnNpb248MTUwMTkmJih3LmxXPXcubFcuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCIhPT1lLm5hbWV9KSksUz1be3FXOjEwMDEqKDIqYysyKX1dLFwic2VuZHJlY3ZcIiE9PWYmJlwic2VuZG9ubHlcIiE9PWZ8fChJPW5ldyBSVENSdHBSZWNlaXZlcihrLk5XLHApLGI9SS50cmFjayxpLnB1c2goW2IsSV0pLHIuYWRkVHJhY2soYikpLHQuWVkubGVuZ3RoPjAmJnQuWVlbMF0uZ2V0VHJhY2tzKCkubGVuZ3RoPj1jKXt2YXIgTDtcImF1ZGlvXCI9PT1wP0w9dC5ZWVswXS5nZXRBdWRpb1RyYWNrcygpWzBdOlwidmlkZW9cIj09PXAmJihMPXQuWVlbMF0uZ2V0VmlkZW9UcmFja3MoKVswXSksTCYmKG8udmVyc2lvbj49MTUwMTkmJlwidmlkZW9cIj09PXAmJihTWzBdLkdXPXtxVzoxMDAxKigyKmMrMikrMX0pLG09bmV3IFJUQ1J0cFNlbmRlcihMLGsuTlcpKX10LmVXW2NdPXtzVzprLnNXLE9XOmsuT1csTlc6ay5OVyxrVzp3LExXOlAsaFc6bSxjVzpJLGtpbmQ6cCxlejpnLEJXOkEsRlc6Uyx4VzpSfSx0LkRXKHQuZVdbY10sITEsXCJzZW5kcmVjdlwiPT09Znx8XCJzZW5kb25seVwiPT09Zil9fSksdGhpcy5yZW1vdGVEZXNjcmlwdGlvbj17dHlwZTplLnR5cGUsc2RwOmUuc2RwfSxlLnR5cGUpe2Nhc2VcIm9mZmVyXCI6dGhpcy5KVyhcImhhdmUtcmVtb3RlLW9mZmVyXCIpO2JyZWFrO2Nhc2VcImFuc3dlclwiOnRoaXMuSlcoXCJzdGFibGVcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlIFwiJytlLnR5cGUrJ1wiJyl9cmV0dXJuIHIuZ2V0VHJhY2tzKCkubGVuZ3RoJiYodC5XWS5wdXNoKHIpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO2Uuc3RyZWFtPXIsdC5kaXNwYXRjaEV2ZW50KGUpLG51bGwhPT10Lm9uYWRkc3RyZWFtJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3Qub25hZGRzdHJlYW0oZSl9LDApLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1lWzBdLG49ZVsxXSxzPW5ldyBFdmVudChcInRyYWNrXCIpO3MudHJhY2s9aSxzLnJlY2VpdmVyPW4scy5zdHJlYW1zPVtyXSx0LmRpc3BhdGNoRXZlbnQocyksbnVsbCE9PXQuUVkmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5RWShzKX0sMCl9KX0sMCkpLGFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sMCksUHJvbWlzZS5yZXNvbHZlKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmVXLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5PVyYmZS5PVy5zdG9wKCksZS5OVyYmZS5OVy5zdG9wKCksZS5oVyYmZS5oVy5zdG9wKCksZS5jVyYmZS5jVy5zdG9wKCl9KSx0aGlzLkpXKFwiY2xvc2VkXCIpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLkpXPWZ1bmN0aW9uKGUpe3RoaXMuc2lnbmFsaW5nU3RhdGU9ZTt2YXIgdD1uZXcgRXZlbnQoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiKTt0aGlzLmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PXRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSYmdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlKHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFXPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIik7dGhpcy5kaXNwYXRjaEV2ZW50KGUpLG51bGwhPT10aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQmJnRoaXMub25uZWdvdGlhdGlvbm5lZWRlZChlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5QVz1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXtvejowLGNsb3NlZDowLGF6OjAsaHo6MCxjb25uZWN0ZWQ6MCxjejowLGxsOjB9O2lmKHRoaXMuZVcuZm9yRWFjaChmdW5jdGlvbihlKXtyW2UuT1cuc3RhdGVdKysscltlLk5XLnN0YXRlXSsrfSksci5jb25uZWN0ZWQrPXIuY3osZT1cIm5ld1wiLHIubGw+MD9lPVwiZmFpbGVkXCI6ci5hej4wfHxyLmh6PjA/ZT1cImNvbm5lY3RpbmdcIjpyLnV6PjA/ZT1cImRpc2Nvbm5lY3RlZFwiOnIub3o+MD9lPVwibmV3XCI6KHIuY29ubmVjdGVkPjB8fHIuY3o+MCkmJihlPVwiY29ubmVjdGVkXCIpLGUhPT10LmljZUNvbm5lY3Rpb25TdGF0ZSl7dC5pY2VDb25uZWN0aW9uU3RhdGU9ZTt2YXIgaT1uZXcgRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5kaXNwYXRjaEV2ZW50KGkpLG51bGwhPT10aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGkpfX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5iVyl0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVPZmZlciBjYWxsZWQgd2hpbGUgdGhlcmUgaXMgYSBwZW5kaW5nIG9mZmVyLlwiKTt2YXIgdDsxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgYXJndW1lbnRzWzBdP3Q9YXJndW1lbnRzWzBdOjM9PT1hcmd1bWVudHMubGVuZ3RoJiYodD1hcmd1bWVudHNbMl0pO3ZhciByPVtdLG49MCxhPTA7aWYodGhpcy5ZWS5sZW5ndGgmJihuPXRoaXMuWVlbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgsYT10aGlzLllZWzBdLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSx0KXtpZih0LlBZfHx0Lm9wdGlvbmFsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuXCIpO3ZvaWQgMCE9PXQubHomJihuPXQubHopLHZvaWQgMCE9PXQucHomJihhPXQucHopfWZvcih0aGlzLllZLmxlbmd0aCYmdGhpcy5ZWVswXS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IucHVzaCh7a2luZDplLmtpbmQsdHJhY2s6ZSxkejpcImF1ZGlvXCI9PT1lLmtpbmQ/bj4wOmE+MH0pLFwiYXVkaW9cIj09PWUua2luZD9uLS06XCJ2aWRlb1wiPT09ZS5raW5kJiZhLS19KTtuPjB8fGE+MDspbj4wJiYoci5wdXNoKHtraW5kOlwiYXVkaW9cIixkejohMH0pLG4tLSksYT4wJiYoci5wdXNoKHtraW5kOlwidmlkZW9cIixkejohMH0pLGEtLSk7cj1pKHIpO3ZhciBoPXMuZnooKSxjPVtdO3IuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPXQudHJhY2ssbj10LmtpbmQsYT1zLiRXKCksaD1lLlhZJiZyPjA/e3NXOmNbMF0uc1csT1c6Y1swXS5PVyxOVzpjWzBdLk5XfTplLklXKGEsciksdT1SVENSdHBTZW5kZXIuc3oobik7by52ZXJzaW9uPDE1MDE5JiYodS5sVz11LmxXLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiIT09ZS5uYW1lfSkpLHUubFcuZm9yRWFjaChmdW5jdGlvbihlKXtcIkgyNjRcIj09PWUubmFtZSYmdm9pZCAwPT09ZS5wYXJhbWV0ZXJzW1wiZ3pcIl0mJihlLnBhcmFtZXRlcnNbXCJnelwiXT1cIjFcIil9KTt2YXIgbCxwLGQ9W3txVzoxMDAxKigyKnIrMSl9XTtpJiYoby52ZXJzaW9uPj0xNTAxOSYmXCJ2aWRlb1wiPT09biYmKGRbMF0uR1c9e3FXOjEwMDEqKDIqcisxKSsxfSksbD1uZXcgUlRDUnRwU2VuZGVyKGksaC5OVykpLHQuZHomJihwPW5ldyBSVENSdHBSZWNlaXZlcihoLk5XLG4pKSxjW3JdPXtzVzpoLnNXLE9XOmguT1csTlc6aC5OVyxrVzp1LExXOm51bGwsaFc6bCxjVzpwLGtpbmQ6bixlejphLEZXOmQseFc6bnVsbH19KSx0aGlzLlhZJiYoaCs9XCJhPWdyb3VwOkJVTkRMRSBcIitjLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5len0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLHIuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPWNbcl07aCs9cy5FeihpLGkua1csXCJvZmZlclwiLGUuWVlbMF0pfSksdGhpcy5iVz1jO3ZhciB1PW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpofSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLDAsdSksUHJvbWlzZS5yZXNvbHZlKHUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1zLmZ6KCk7dGhpcy5YWSYmKHQrPVwiYT1ncm91cDpCVU5ETEUgXCIrdGhpcy5lVy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXp9KS5qb2luKFwiIFwiKStcIlxcclxcblwiKSx0aGlzLmVXLmZvckVhY2goZnVuY3Rpb24ocil7aWYoci5LVylyZXR1cm4gdm9pZCh0Kz1cIm09YXBwbGljYXRpb24gMCBEVExTL1NDVFAgNTAwMFxcclxcbmM9SU4gSVA0IDAuMC4wLjBcXHJcXG5hPW1pZDpcIityLmV6K1wiXFxyXFxuXCIpO3ZhciBpPWUudVcoci5rVyxyLkxXKTt0Kz1zLkV6KHIsaSxcImFuc3dlclwiLGUuWVlbMF0pfSk7dmFyIHI9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0fSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLDAsciksUHJvbWlzZS5yZXNvbHZlKHIpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLnNkcE1MaW5lSW5kZXg7aWYoZS5zZHBNaWQpZm9yKHZhciByPTA7cjx0aGlzLmVXLmxlbmd0aDtyKyspaWYodGhpcy5lV1tyXS5lej09PWUuc2RwTWlkKXt0PXI7YnJlYWt9dmFyIGk9dGhpcy5lV1t0XTtpZihpKXt2YXIgbj1PYmplY3Qua2V5cyhlLmNhbmRpZGF0ZSkubGVuZ3RoPjA/cy5leChlLmNhbmRpZGF0ZSk6e307aWYoXCJ0Y3BcIj09PW4ucHJvdG9jb2wmJigwPT09bi5wb3J0fHw5PT09bi5wb3J0KSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoXCIxXCIhPT1uLlJXKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpLk9XLnZ6KG4pO3ZhciBvPXMublcodGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHApO29bdCsxXSs9KG4udHlwZT9lLmNhbmRpZGF0ZS50cmltKCk6XCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIpK1wiXFxyXFxuXCIsdGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHA9by5qb2luKFwiXCIpfX1lbHNlIGZvcih2YXIgYT0wO2E8dGhpcy5lVy5sZW5ndGg7YSsrKWlmKHRoaXMuZVdbYV0uT1cudnooe30pLHRoaXMuWFkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLDApLFByb21pc2UucmVzb2x2ZSgpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIGU9W107dGhpcy5lVy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1tcInJ0cFNlbmRlclwiLFwicnRwUmVjZWl2ZXJcIixcImljZUdhdGhlcmVyXCIsXCJpY2VUcmFuc3BvcnRcIixcImR0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaChmdW5jdGlvbihyKXt0W3JdJiZlLnB1c2godFtyXS5nZXRTdGF0cygpKX0pfSk7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWZ1bmN0aW9uKGUpe3JldHVybnt5ejpcImluYm91bmQtcnRwXCIsVHo6XCJvdXRib3VuZC1ydHBcIixtejpcImNhbmRpZGF0ZS1wYWlyXCIsYlk6XCJsb2NhbC1jYW5kaWRhdGVcIixDWTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSl7dmFyIG49bmV3IE1hcDtQcm9taXNlLmFsbChlKS50aGVuKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF0udHlwZT1yKGVbdF0pLG4uc2V0KHQsZVt0XSl9KX0pLHQmJndpbmRvdy5zZXRUaW1lb3V0KHQsMCxuKSxpKG4pfSl9KX19fTtlLmk9e2FMOmEuYUwsY0w6cigxMjYpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXt9O2kuJFc9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsMTApfSxpLkhXPWkuJFcoKSxpLlhXPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSl9LGkublc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCJcXG5tPVwiKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD4wP1wibT1cIitlOmUpLnRyaW0oKStcIlxcclxcblwifSl9LGkuUVc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5YVyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YodCl9KX0saS5leD1mdW5jdGlvbihlKXt2YXIgdDt0PTA9PT1lLmluZGV4T2YoXCJhPWNhbmRpZGF0ZTpcIik/ZS5zdWJzdHJpbmcoMTIpLnNwbGl0KFwiIFwiKTplLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO2Zvcih2YXIgcj17SXo6dFswXSxSVzp0WzFdLHByb3RvY29sOnRbMl0udG9Mb3dlckNhc2UoKSxTejpwYXJzZUludCh0WzNdLDEwKSxpcDp0WzRdLHBvcnQ6cGFyc2VJbnQodFs1XSwxMCksdHlwZTp0WzddfSxpPTg7aTx0Lmxlbmd0aDtpKz0yKXN3aXRjaCh0W2ldKXtjYXNlXCJyYWRkclwiOnIuUno9dFtpKzFdO2JyZWFrO2Nhc2VcInJwb3J0XCI6ci53ej1wYXJzZUludCh0W2krMV0sMTApO2JyZWFrO2Nhc2VcInRjcHR5cGVcIjpyLmJ6PXRbaSsxXTticmVhaztkZWZhdWx0OnJbdFtpXV09dFtpKzFdfXJldHVybiByfSxpLndXPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3QucHVzaChlLkl6KSx0LnB1c2goZS5SVyksdC5wdXNoKGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSksdC5wdXNoKGUuU3opLHQucHVzaChlLmlwKSx0LnB1c2goZS5wb3J0KTt2YXIgcj1lLnR5cGU7cmV0dXJuIHQucHVzaChcInR5cFwiKSx0LnB1c2gociksXCJob3N0XCIhPT1yJiZlLlJ6JiZlLnd6JiYodC5wdXNoKFwicmFkZHJcIiksdC5wdXNoKGUuUnopLHQucHVzaChcInJwb3J0XCIpLHQucHVzaChlLnd6KSksZS5ieiYmXCJ0Y3BcIj09PWUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKHQucHVzaChcInRjcHR5cGVcIiksdC5wdXNoKGUuYnopKSxcImNhbmRpZGF0ZTpcIit0LmpvaW4oXCIgXCIpfSxpLkN6PWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpfSxpLl96PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKSxyPXtmVzpwYXJzZUludCh0LnNoaWZ0KCksMTApfTtyZXR1cm4gdD10WzBdLnNwbGl0KFwiL1wiKSxyLm5hbWU9dFswXSxyLnZXPXBhcnNlSW50KHRbMV0sMTApLHIueVc9Mz09PXQubGVuZ3RoP3BhcnNlSW50KHRbMl0sMTApOjEscn0saS5Qej1mdW5jdGlvbihlKXt2YXIgdD1lLmZXO3JldHVybiB2b2lkIDAhPT1lLmdXJiYodD1lLmdXKSxcImE9cnRwbWFwOlwiK3QrXCIgXCIrZS5uYW1lK1wiL1wiK2UudlcrKDEhPT1lLnlXP1wiL1wiK2UueVc6XCJcIikrXCJcXHJcXG5cIn0saS5Bej1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cig5KS5zcGxpdChcIiBcIik7cmV0dXJue2lkOnBhcnNlSW50KHRbMF0sMTApLGRpcmVjdGlvbjp0WzBdLmluZGV4T2YoXCIvXCIpPjA/dFswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTp0WzFdfX0saS5Pej1mdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwOlwiKyhlLmlkfHxlLk56KSsoZS5kaXJlY3Rpb24mJlwic2VuZHJlY3ZcIiE9PWUuZGlyZWN0aW9uP1wiL1wiK2UuZGlyZWN0aW9uOlwiXCIpK1wiIFwiK2UudXJpK1wiXFxyXFxuXCJ9LGkuRHo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9e30saT1lLnN1YnN0cihlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiO1wiKSxuPTA7bjxpLmxlbmd0aDtuKyspdD1pW25dLnRyaW0oKS5zcGxpdChcIj1cIiksclt0WzBdLnRyaW0oKV09dFsxXTtyZXR1cm4gcn0saS5rej1mdW5jdGlvbihlKXt2YXIgdD1cIlwiLHI9ZS5mVztpZih2b2lkIDAhPT1lLmdXJiYocj1lLmdXKSxlLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKGUucGFyYW1ldGVycykubGVuZ3RoKXt2YXIgaT1bXTtPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHQrXCI9XCIrZS5wYXJhbWV0ZXJzW3RdKX0pLHQrPVwiYT1mbXRwOlwiK3IrXCIgXCIraS5qb2luKFwiO1wiKStcIlxcclxcblwifXJldHVybiB0fSxpLkx6PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKGUuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCIgXCIpO3JldHVybnt0eXBlOnQuc2hpZnQoKSxtVzp0LmpvaW4oXCIgXCIpfX0saS5Nej1mdW5jdGlvbihlKXt2YXIgdD1cIlwiLHI9ZS5mVztyZXR1cm4gdm9pZCAwIT09ZS5nVyYmKHI9ZS5nVyksZS5UVyYmZS5UVy5sZW5ndGgmJmUuVFcuZm9yRWFjaChmdW5jdGlvbihlKXt0Kz1cImE9cnRjcC1mYjpcIityK1wiIFwiK2UudHlwZSsoZS5tVyYmZS5tVy5sZW5ndGg/XCIgXCIrZS5tVzpcIlwiKStcIlxcclxcblwifSksdH0saS5yej1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoXCIgXCIpLHI9e3FXOnBhcnNlSW50KGUuc3Vic3RyKDcsdC03KSwxMCl9LGk9ZS5pbmRleE9mKFwiOlwiLHQpO3JldHVybiBpPi0xPyhyLml6PWUuc3Vic3RyKHQrMSxpLXQtMSksci52YWx1ZT1lLnN1YnN0cihpKzEpKTpyLml6PWUuc3Vic3RyKHQrMSkscn0saS5Gej1mdW5jdGlvbihlKXt2YXIgdD1pLlFXKGUsXCJhPW1pZDpcIilbMF07aWYodClyZXR1cm4gdC5zdWJzdHIoNil9LGkuVXo9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoMTQpLnNwbGl0KFwiIFwiKTtyZXR1cm57YWxnb3JpdGhtOnRbMF0udG9Mb3dlckNhc2UoKSx2YWx1ZTp0WzFdfX0saS5XVz1mdW5jdGlvbihlLHQpe3JldHVybnt6VzpcImF1dG9cIixCejppLlFXKGUrdCxcImE9ZmluZ2VycHJpbnQ6XCIpLm1hcChpLlV6KX19LGkuSHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImE9c2V0dXA6XCIrdCtcIlxcclxcblwiO3JldHVybiBlLkJ6LmZvckVhY2goZnVuY3Rpb24oZSl7cis9XCJhPWZpbmdlcnByaW50OlwiK2UuYWxnb3JpdGhtK1wiIFwiK2UudmFsdWUrXCJcXHJcXG5cIn0pLHJ9LGkuWVc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlhXKGUpO3JldHVybiByPXIuY29uY2F0KGkuWFcodCkpLHt4ejpyLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcImE9aWNlLXVmcmFnOlwiKX0pWzBdLnN1YnN0cigxMikscGFzc3dvcmQ6ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJhPWljZS1wd2Q6XCIpfSlbMF0uc3Vic3RyKDEwKX19LGkucXo9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhPWljZS11ZnJhZzpcIitlLnh6K1wiXFxyXFxuYT1pY2UtcHdkOlwiK2UucGFzc3dvcmQrXCJcXHJcXG5cIn0saS5qVz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e2xXOltdLHBXOltdLGRXOltdLFVXOltdfSxyPWkuWFcoZSksbj1yWzBdLnNwbGl0KFwiIFwiKSxzPTM7czxuLmxlbmd0aDtzKyspe3ZhciBvPW5bc10sYT1pLlFXKGUsXCJhPXJ0cG1hcDpcIitvK1wiIFwiKVswXTtpZihhKXt2YXIgaD1pLl96KGEpLGM9aS5RVyhlLFwiYT1mbXRwOlwiK28rXCIgXCIpO3N3aXRjaChoLnBhcmFtZXRlcnM9Yy5sZW5ndGg/aS5EeihjWzBdKTp7fSxoLlRXPWkuUVcoZSxcImE9cnRjcC1mYjpcIitvK1wiIFwiKS5tYXAoaS5MeiksdC5sVy5wdXNoKGgpLGgubmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJSRURcIjpjYXNlXCJVTFBGRUNcIjp0LmRXLnB1c2goaC5uYW1lLnRvVXBwZXJDYXNlKCkpfX19cmV0dXJuIGkuUVcoZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucFcucHVzaChpLkF6KGUpKX0pLHR9LGkuR3o9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIlwiO3IrPVwibT1cIitlK1wiIFwiLHIrPXQubFcubGVuZ3RoPjA/XCI5XCI6XCIwXCIscis9XCIgVURQL1RMUy9SVFAvU0FWUEYgXCIscis9dC5sVy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUuZ1c/ZS5nVzplLmZXfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIixyKz1cImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixyKz1cImE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxyXFxuXCIsdC5sVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IrPWkuUHooZSkscis9aS5reihlKSxyKz1pLk16KGUpfSk7dmFyIG49MDtyZXR1cm4gdC5sVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuVno+biYmKG49ZS5Weil9KSxuPjAmJihyKz1cImE9bWF4cHRpbWU6XCIrbitcIlxcclxcblwiKSxyKz1cImE9cnRjcC1tdXhcXHJcXG5cIix0LnBXLmZvckVhY2goZnVuY3Rpb24oZSl7cis9aS5PeihlKX0pLHJ9LGkudHo9ZnVuY3Rpb24oZSl7dmFyIHQscj1bXSxuPWkualcoZSkscz0tMSE9PW4uZFcuaW5kZXhPZihcIlJFRFwiKSxvPS0xIT09bi5kVy5pbmRleE9mKFwiVUxQRkVDXCIpLGE9aS5RVyhlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkucnooZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbmFtZVwiPT09ZS5pen0pLGg9YS5sZW5ndGg+MCYmYVswXS5xVyxjPWkuUVcoZSxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIgXCIpO3JldHVybiB0LnNoaWZ0KCksdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSl9KTtjLmxlbmd0aD4wJiZjWzBdLmxlbmd0aD4xJiZjWzBdWzBdPT09aCYmKHQ9Y1swXVsxXSksbi5sVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwiUlRYXCI9PT1lLm5hbWUudG9VcHBlckNhc2UoKSYmZS5wYXJhbWV0ZXJzLkVXKXt2YXIgaT17cVc6aCxqejpwYXJzZUludChlLnBhcmFtZXRlcnMuRVcsMTApLEdXOntxVzp0fX07ci5wdXNoKGkpLHMmJihpPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpLGkuUXo9e3FXOnQsS3o6bz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxyLnB1c2goaSkpfX0pLDA9PT1yLmxlbmd0aCYmaCYmci5wdXNoKHtxVzpofSk7dmFyIHU9aS5RVyhlLFwiYj1cIik7cmV0dXJuIHUubGVuZ3RoJiYoMD09PXVbMF0uaW5kZXhPZihcImI9VElBUzpcIik/dT1wYXJzZUludCh1WzBdLnN1YnN0cig3KSwxMCk6MD09PXVbMF0uaW5kZXhPZihcImI9QVM6XCIpJiYodT1wYXJzZUludCh1WzBdLnN1YnN0cig1KSwxMCkpLHIuZm9yRWFjaChmdW5jdGlvbihlKXtlLll6PXV9KSkscn0saS5Xej1mdW5jdGlvbihlKXt2YXIgdD17fSxyPWkuUVcoZSxcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLnJ6KGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuaXp9KVswXTtyJiYodC5CVz1yLnZhbHVlLHQucVc9ci5xVyk7dmFyIG49aS5RVyhlLFwiYT1ydGNwLXJzaXplXCIpO3Queno9bi5sZW5ndGg+MCx0Lkp6PTA9PT1uLmxlbmd0aDt2YXIgcz1pLlFXKGUsXCJhPXJ0Y3AtbXV4XCIpO3JldHVybiB0Llh6PXMubGVuZ3RoPjAsdH0saS5aej1mdW5jdGlvbihlKXt2YXIgdCxyPWkuUVcoZSxcImE9bXNpZDpcIik7aWYoMT09PXIubGVuZ3RoKXJldHVybiB0PXJbMF0uc3Vic3RyKDcpLnNwbGl0KFwiIFwiKSx7c3RyZWFtOnRbMF0sdHJhY2s6dFsxXX07dmFyIG49aS5RVyhlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkucnooZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJtc2lkXCI9PT1lLml6fSk7cmV0dXJuIG4ubGVuZ3RoPjA/KHQ9blswXS52YWx1ZS5zcGxpdChcIiBcIikse3N0cmVhbTp0WzBdLHRyYWNrOnRbMV19KTp2b2lkIDB9LGkuZno9ZnVuY3Rpb24oKXtyZXR1cm5cInY9MFxcclxcbm89dGhpc2lzYWRhcHRlcm9ydGMgODE2OTYzOTkxNTY0Njk0MzEzNyAyIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSxpLkV6PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPWkuR3ooZS5raW5kLHQpO2lmKHMrPWkucXooZS5zVy4keigpKSxzKz1pLkh6KGUuTlcuJHooKSxcIm9mZmVyXCI9PT1yP1wiYWN0cGFzc1wiOlwiYWN0aXZlXCIpLHMrPVwiYT1taWQ6XCIrZS5leitcIlxcclxcblwiLGUuZGlyZWN0aW9uP3MrPVwiYT1cIitlLmRpcmVjdGlvbitcIlxcclxcblwiOmUuaFcmJmUuY1c/cys9XCJhPXNlbmRyZWN2XFxyXFxuXCI6ZS5oVz9zKz1cImE9c2VuZG9ubHlcXHJcXG5cIjplLmNXP3MrPVwiYT1yZWN2b25seVxcclxcblwiOnMrPVwiYT1pbmFjdGl2ZVxcclxcblwiLGUuaFcpe3ZhciBvPVwibXNpZDpcIituLmlkK1wiIFwiK2UuaFcudHJhY2suaWQrXCJcXHJcXG5cIjtzKz1cImE9XCIrbyxzKz1cImE9c3NyYzpcIitlLkZXWzBdLnFXK1wiIFwiK28sZS5GV1swXS5HVyYmKHMrPVwiYT1zc3JjOlwiK2UuRldbMF0uR1cucVcrXCIgXCIrbyxzKz1cImE9c3NyYy1ncm91cDpGSUQgXCIrZS5GV1swXS5xVytcIiBcIitlLkZXWzBdLkdXLnFXK1wiXFxyXFxuXCIpfXJldHVybiBzKz1cImE9c3NyYzpcIitlLkZXWzBdLnFXK1wiIGNuYW1lOlwiK2kuSFcrXCJcXHJcXG5cIixlLmhXJiZlLkZXWzBdLkdXJiYocys9XCJhPXNzcmM6XCIrZS5GV1swXS5HVy5xVytcIiBjbmFtZTpcIitpLkhXK1wiXFxyXFxuXCIpLHN9LGkuWlc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9aS5YVyhlKSxuPTA7bjxyLmxlbmd0aDtuKyspc3dpdGNoKHJbbl0pe2Nhc2VcImE9c2VuZHJlY3ZcIjpjYXNlXCJhPXNlbmRvbmx5XCI6Y2FzZVwiYT1yZWN2b25seVwiOmNhc2VcImE9aW5hY3RpdmVcIjpyZXR1cm4gcltuXS5zdWJzdHIoMil9cmV0dXJuIHQ/aS5aVyh0KTpcInNlbmRyZWN2XCJ9LGkuZUo9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuWFcoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cigyKX0saS56cz1mdW5jdGlvbihlKXtyZXR1cm5cIjBcIj09PWUuc3BsaXQoXCIgXCIsMilbMV19LGUuaT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5pPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6e0ZZOlwiTm90QWxsb3dlZEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxCWTplLkJZLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19fSx0PW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24ocil7cmV0dXJuIHQocikuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUodCkpfSl9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTcpLld1LG49e3BMOmZ1bmN0aW9uKCl7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8XCJvbnRyYWNrXCJpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRVl9LHNldDpmdW5jdGlvbihlKXt0aGlzLkVZJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLkVZKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLnZZKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLkVZPWUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMudlk9ZnVuY3Rpb24oZSl7ZS5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtyLnRyYWNrPXQsci5yZWNlaXZlcj17dHJhY2s6dH0sci5zdHJlYW1zPVtlLnN0cmVhbV0sdGhpcy5kaXNwYXRjaEV2ZW50KHIpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKSl9fSl9LGxMOmZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKCF3aW5kb3cuSFRNTE1lZGlhRWxlbWVudHx8XCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3pTcmNPYmplY3R9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1velNyY09iamVjdD1lfX0pKX0sYUw6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYod2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHx3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24pKXt3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fCh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSx0KXtpZihpLnZlcnNpb248MzgmJmUmJmUuaWNlU2VydmVycyl7Zm9yKHZhciByPVtdLG49MDtuPGUuaWNlU2VydmVycy5sZW5ndGg7bisrKXt2YXIgcz1lLmljZVNlcnZlcnNbbl07aWYocy5oYXNPd25Qcm9wZXJ0eShcInVybHNcIikpZm9yKHZhciBvPTA7bzxzLlZZLmxlbmd0aDtvKyspe3ZhciBhPXt1cmw6cy5WWVtvXX07MD09PXMuVllbb10uaW5kZXhPZihcInR1cm5cIikmJihhLnVzZXJuYW1lPXMudXNlcm5hbWUsYS50Sj1zLnRKKSxyLnB1c2goYSl9ZWxzZSByLnB1c2goZS5pY2VTZXJ2ZXJzW25dKX1lLmljZVNlcnZlcnM9cn1yZXR1cm4gbmV3IG1velJUQ1BlZXJDb25uZWN0aW9uKGUsdCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9bW96UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLG1velJUQ1BlZXJDb25uZWN0aW9uLndZJiZPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24ud1l9fSksd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj1tb3pSVENTZXNzaW9uRGVzY3JpcHRpb24sd2luZG93LlJUQ0ljZUNhbmRpZGF0ZT1tb3pSVENJY2VDYW5kaWRhdGUpLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PWU/UlRDSWNlQ2FuZGlkYXRlOlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdP2UuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9O3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBNYXA7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dC5zZXQocixlW3JdKSx0W3JdPWVbcl19KSx0fSxyPXt5ejpcImluYm91bmQtcnRwXCIsVHo6XCJvdXRib3VuZC1ydHBcIixtejpcImNhbmRpZGF0ZS1wYWlyXCIsYlk6XCJsb2NhbC1jYW5kaWRhdGVcIixDWTpcInJlbW90ZS1jYW5kaWRhdGVcIn0sbj1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKGUscyxvKXtyZXR1cm4gbi5hcHBseSh0aGlzLFtlfHxudWxsXSkudGhlbihmdW5jdGlvbihlKXtpZihpLnZlcnNpb248NDgmJihlPXQoZSkpLGkudmVyc2lvbjw1MyYmIXMpdHJ5e2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU9cltlLnR5cGVdfHxlLnR5cGV9KX1jYXRjaCh0KXtpZihcIlR5cGVFcnJvclwiIT09dC5uYW1lKXRocm93IHQ7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7ZS5zZXQoaSxPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6clt0LnR5cGVdfHx0LnR5cGV9KSl9KX1yZXR1cm4gZX0pLnRoZW4ocyxvKX19fX07ZS5pPXtwTDpuLnBMLGxMOm4ubEwsYUw6bi5hTCxjTDpyKDEyOCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxNykubG9nLG49cigxNykuV3U7ZS5pPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6e3JKOlwiTm90QWxsb3dlZEVycm9yXCIsRlk6XCJOb3RBbGxvd2VkRXJyb3JcIn1bZS5uYW1lXXx8ZS5uYW1lLG1lc3NhZ2U6e1wiVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZS5cIjpcIlRoZSByZXF1ZXN0IGlzIG5vdCBhbGxvd2VkIGJ5IHRoZSB1c2VyIGFnZW50IG9yIHRoZSBwbGF0Zm9ybSBpbiB0aGUgY3VycmVudCBjb250ZXh0LlwifVtlLm1lc3NhZ2VdfHxlLm1lc3NhZ2UsQlk6ZS5CWSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrKHRoaXMubWVzc2FnZSYmXCI6IFwiKSt0aGlzLm1lc3NhZ2V9fX0sdD1mdW5jdGlvbih0LHIscyl7dmFyIG89ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fGUuaUopcmV0dXJuIGU7dmFyIHQ9W107cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24ocil7aWYoXCJyZXF1aXJlXCIhPT1yJiZcImFkdmFuY2VkXCIhPT1yJiZcIm1lZGlhU291cmNlXCIhPT1yKXt2YXIgaT1lW3JdPVwib2JqZWN0XCI9PXR5cGVvZiBlW3JdP2Vbcl06e0FZOmVbcl19O2lmKHZvaWQgMD09PWkubWluJiZ2b2lkIDA9PT1pLm1heCYmdm9pZCAwPT09aS5PWXx8dC5wdXNoKHIpLHZvaWQgMCE9PWkuT1kmJihcIm51bWJlclwiPT10eXBlb2YgaS5PWT9pLm1pbj1pLm1heD1pLk9ZOmVbcl09aS5PWSxkZWxldGUgaS5PWSksdm9pZCAwIT09aS5BWSl7ZS5OWT1lLk5ZfHxbXTt2YXIgbj17fTtcIm51bWJlclwiPT10eXBlb2YgaS5BWT9uW3JdPXttaW46aS5BWSxtYXg6aS5BWX06bltyXT1pLkFZLGUuTlkucHVzaChuKSxkZWxldGUgaS5BWSxPYmplY3Qua2V5cyhpKS5sZW5ndGh8fGRlbGV0ZSBlW3JdfX19KSx0Lmxlbmd0aCYmKGUuaUo9dCksZX07cmV0dXJuIHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksbi52ZXJzaW9uPDM4JiYoaShcInNwZWM6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSx0LkhSJiYodC5IUj1vKHQuSFIpKSx0LnZpZGVvJiYodC52aWRlbz1vKHQudmlkZW8pKSxpKFwiZmYzNzogXCIrSlNPTi5zdHJpbmdpZnkodCkpKSxuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKHQscixmdW5jdGlvbih0KXtzKGUodCkpfSl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsaSl7dChlLHIsaSl9KX07aWYobmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8KG5hdmlnYXRvci5tZWRpYURldmljZXM9e2dldFVzZXJNZWRpYTpyLGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt9fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5MWT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLkxZfHxmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtlKFt7a2luZDpcImF1ZGlvaW5wdXRcIixNWTpcImRlZmF1bHRcIixsYWJlbDpcIlwiLHhZOlwiXCJ9LHtraW5kOlwidmlkZW9pbnB1dFwiLE1ZOlwiZGVmYXVsdFwiLGxhYmVsOlwiXCIseFk6XCJcIn1dKX0pfSxuLnZlcnNpb248NDEpe3ZhciBzPW5hdmlnYXRvci5tZWRpYURldmljZXMuTFkuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLkxZPWZ1bmN0aW9uKCl7cmV0dXJuIHMoKS50aGVuKHZvaWQgMCxmdW5jdGlvbihlKXtpZihcIk5vdEZvdW5kRXJyb3JcIj09PWUubmFtZSlyZXR1cm5bXTt0aHJvdyBlfSl9fWlmKG4udmVyc2lvbjw0OSl7dmFyIG89bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KS50aGVuKGZ1bmN0aW9uKGUpe2lmKHQuSFImJiFlLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHx0LnZpZGVvJiYhZS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIG9iamVjdCBjYW4gbm90IGJlIGZvdW5kIGhlcmUuXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiBlfSxmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSh0KSl9KX19bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLHIsaSl7aWYobi52ZXJzaW9uPDQ0KXJldHVybiB0KGUscixpKTtjb25zb2xlLndhcm4oXCJuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIGhhcyBiZWVuIHJlcGxhY2VkIGJ5IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhXCIpLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4ocixpKX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e2NMOmZ1bmN0aW9uKCl7bmF2aWdhdG9yLmdldFVzZXJNZWRpYXx8KG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWE/bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTpuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKG5hdmlnYXRvci5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSx0LHIpe25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4odCxyKX0uYmluZChuYXZpZ2F0b3IpKSl9fTtlLmk9e2NMOmkuY0x9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDIwKTshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdH0obi5IaXZlQ29tbS5PcHRpb25zLlRwKTtlLmZMPXR9KGUuT3B0aW9uc3x8KGUuT3B0aW9ucz17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmlzTGl2ZT1lLHRoaXMucHJvdG9jb2w9dCx0aGlzLklNPXJ9cmV0dXJuIGUucHJvdG90eXBlLnVCPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm87cmV0dXJuIGUuc3RyZWFtVHlwZT10aGlzLmlzTGl2ZT9TdHJlYW1UeXBlLkxJVkU6U3RyZWFtVHlwZS5rSyxlLnN0cmVhbVByb3RvY29sPXRoaXMucHJvdG9jb2wsZS51cmw9dGhpcy5JTSxlfSxlfSgpO3QuQUw9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig0KSxzPXIoNTUpLG89cig0NCkuUHAsYT1yKDApLGg9cigxMzMpLGM9cig3MyksdT1yKDE5KSxsPXIoNTYpLHA9cigxOTgpLGQ9cigyNiksZj1yKDE4KSxnPXIoMjEpLEU9cig1NCksdj1yKDEpLHk9cig0NSksVD1wLkhpdmVDb21tLk9wdGlvbnMsbT1kLkhpdmVDb21tLkhpdmVUZWNoRXJyb3IsST1kLkhpdmVDb21tLnZFLFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyLGksbil7dmFyIHM9ZS5jYWxsKHRoaXMscixpKXx8dGhpcztyZXR1cm4gcy5vcHRpb25zXz1uZXcgVC5uSix2b2lkIDAhPWlbdC5FTF0mJmcuU3AoaVt0LkVMXSxzLm9wdGlvbnNfKSxzLlVRPW4sc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FTH0sdC5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdMLmdldFBsdWdpblZlcnNpb24oKX0sdC5wcm90b3R5cGUudkw9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUueUw9ZnVuY3Rpb24oKXtyZXR1cm4gYy5sYi5BcGk/dGhpcy5zSigpJiZ0aGlzLlhIKCk/bi5yZXNvbHZlKCEwKTpuLnJlamVjdChuZXcgbShJLnBFLFwiV2ViUlRDIERhdGFDaGFubmVscyBub3Qgc3VwcG9ydGVkIGJ5IGJyb3dzZXJcIikpOm4ucmVqZWN0KG5ldyBtKEkucEUsXCJOb3QgaW5jbHVkZWQgaW4gdGhlIHBhZ2VcIikpfSx0LnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMueUwoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGk9dC50aWNrZXQ7ci5fTCgpO3ZhciBuPWkuTk4oKTswPT09bi5pbmRleE9mKFwiLy9cIikmJihuPWxvY2F0aW9uLnByb3RvY29sK24pO3ZhciBzPXIuVEwoZSxpLG4sdCk7cmV0dXJuIEUuenUucmVnaXN0ZXJUZWNoKHIscy5pZCksRS56dS5yZWdpc3RlckNvbW0oci5nTCxzLmlkKSxmLkhpdmVSZXF1ZXN0RmFjdG9yeS5yZWdpc3RlclRlY2gocy5pZCxyLmdldE5hbWUoKSksd2luZG93JiZ3aW5kb3cuYWN0aXZhdGVYSFJJbnRlcmNlcHRvciYmd2luZG93LmFjdGl2YXRlWEhSSW50ZXJjZXB0b3Ioci5nTC5sb2dnZXJMZXZlbCgpPnkuVE4ucE4uaW5mbyksc30pfSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbihlLHQpe3ZhciByPXQubWFuaWZlc3QudG9Mb3dlckNhc2UoKSxpPWUudG9Mb3dlckNhc2UoKSxuPXIuaW5kZXhPZihcIi5pc20vbWFuaWZlc3RcIik7aWYobj4tMSl7dmFyIHM9ci5zdWJzdHJpbmcoMCxuKTtpZihpLmluZGV4T2Yocyk+LTEpcmV0dXJuIGkuaW5kZXhPZihcIi5pc20vbWFuaWZlc3QoZm9ybWF0PW1wZC10aW1lLWNzZilcIik+LTE/dGhpcy5vSj8odC50aWNrZXQuU291cmNlVVJMPWUsITApOnRoaXMuYUoodCxcIlRoZSBwbGF5ZXIgZG9lcyBub3QgdXNlIEhpdmVSZXF1ZXN0LCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpOnRoaXMuYUoodCxcIlByb3RvY29sIG5vdCBzdXBwb3J0ZWQgYnkgSGl2ZUpTIHRlY2gsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIil9ZWxzZSBpZihpPT09cilyZXR1cm4hIXRoaXMub0p8fHRoaXMuYUoodCxcIlRoZSBwbGF5ZXIgZG9lcyBub3QgdXNlIEhpdmVSZXF1ZXN0LCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpO3JldHVybiExfSx0LnByb3RvdHlwZS5vbD1mdW5jdGlvbih0LHIpe3dpbmRvdyYmd2luZG93LmRlYWN0aXZhdGVYSFJJbnRlcmNlcHRvciYmd2luZG93LmRlYWN0aXZhdGVYSFJJbnRlcmNlcHRvcigpLGUucHJvdG90eXBlLm9sLmNhbGwodGhpcyx0LHIpO3ZhciBpPWMubGIuQXBpKCk7cj8oZi5IaXZlUmVxdWVzdEZhY3RvcnkuY2xlYXJTZXNzaW9uKHQuaWQpLGkmJihpLm5sKHQuaWQsdS5NbC5TVE9QKSxpLmhKKCkpKTppJiZpLm5sKHQuaWQsdS5NbC5JRExFKX0sdC5wcm90b3R5cGUuYUo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50ZWNoPXRoaXMuVVEsZi5IaXZlUmVxdWVzdEZhY3RvcnkucmVnaXN0ZXJUZWNoKGUuaWQsbC5TdGF0c0pTLkVMKSx0aGlzLm9KJiZ0aGlzLm9KLnJlc29sdmUoKSx0aGlzLm9KPXZvaWQgMCx0aGlzLmdMLmxvZ2dlcigpLndhcm4oXCJbSGl2ZUpTXSBcIit0KSx0aGlzLm9uRXJyb3IobmV3IG0oSS5mRSx0KSksd2luZG93JiZ3aW5kb3cuZGVhY3RpdmF0ZVhIUkludGVyY2VwdG9yJiZ3aW5kb3cuZGVhY3RpdmF0ZVhIUkludGVyY2VwdG9yKCksITB9LHQucHJvdG90eXBlLm9MPWZ1bmN0aW9uKGUpe3RoaXMub0o9ZX0sdC5wcm90b3R5cGUub25BY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7YS5GcmFtZXdvcmsuWCgpLmFwcGx5KG5ldyBoLmNKKCEwKSk7dmFyIHI9Yy5sYi5BcGkoKTtpZih0aGlzLnVKKCkmJnIubEooITApLHIuc3RhcnQoZS5ybCwhMSkudGhlbihmdW5jdGlvbihpKXtpZih0Ll9MKCksdC5QTD1lLnJsLHQuUEwuUWwodC5vcHRpb25zXy5yZW5kZXJTdGF0c0NhbGxiYWNrKSx0LlBMLlZsKGMubGIuc3AoKSxjLmxiLmdldFZlcnNpb24oKSksdC5QTC5CbC5pbml0KHQuUEwuVWwsZS50aWNrZXQuc2Vzc2lvbklkKSx0LmdMLm9wdGlvbnMoKS50ZXN0SWQmJnQuUEwuVWwuTkwodC5nTC5vcHRpb25zKCkudGVzdElkKSxlLmF1dGhlbnRpY2F0aW9uVG9rZW4pe3ZhciBuPXIucEooZS50aWNrZXQuc2Vzc2lvbklkKTtuJiZuLmZKLmRKLlVNKGUuYXV0aGVudGljYXRpb25Ub2tlbil9dC5vSiYmci5yZXF1ZXN0KHQub0osZS5ybC50aWNrZXQuc2Vzc2lvbklkKSx0LlBMLkhsLlh1KGUudGlja2V0LnNlc3Npb25JZCx0LmdMLmdldFBsYXllclNvdXJjZSgpLDIwMCk7dmFyIHM9dC5nTC5mbHVzaFRlY2hFdmVudHMoKTtzJiZzLmxlbmd0aD4wJiZ0LlBMLkhsLkNkKHMpLHQuZ0wudXBkYXRlUGxheWVySW5mbyh0LlBMKX0pLHZvaWQgMCE9dGhpcy5vcHRpb25zKCkub25BY3RpdmVTZXNzaW9uKXRyeXt0aGlzLm9wdGlvbnMoKS5vbkFjdGl2ZVNlc3Npb24oZS50b0hpdmVTZXNzaW9uKCkpfWNhdGNoKGUpe3YuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uQWN0aXZlU2Vzc2lvbiBjYWxsYmFja1wiLFwiW0hpdmVKU11cIixlKX19LHQucHJvdG90eXBlLm5sPWZ1bmN0aW9uKGUsdCl7fSx0LnByb3RvdHlwZS5UTD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1uZXcgZi5jbChlLHQscixpKTtyZXR1cm4gbi5NTD0hMCxuLmlkPW4udGlja2V0LnNlc3Npb25JZCxufSx0LnByb3RvdHlwZS5iTD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudUo9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbztyZXR1cm4gZS5BZChuYXZpZ2F0b3IudXNlckFnZW50KSxcIkFuZHJvaWRcIj09ZS5PZCgpLm5hbWV9LHQucHJvdG90eXBlLnNKPWZ1bmN0aW9uKCl7cmV0dXJuXCJzYWZhcmlcIiE9cy5XdS5RdX0sdC5wcm90b3R5cGUuWEg9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG51bGwhPXMuVnUmJm51bGwhPXMuaEwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsLG51bGwpLmNyZWF0ZURhdGFDaGFubmVsfWNhdGNoKGUpe3JldHVybiExfX0sdH0obC5TdGF0c0pTKTtTLkVMPVwiSGl2ZUpTXCIsdC5IaXZlSlM9U30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNDApLG49cigwKSxzPXIoNDUpLG89cig4KSxhPXIoMTkpLGg9cig3NiksYz1yKDc3KSx1PXIoNzkpLGw9cig3NSkscD1yKDIyKSxkPXIoMTUpLGY9cigxMzQpLGc9cigxMzcpLEU9cigxMzgpLHY9cig4OCkseT1yKDE1NSksVD1yKDE1NiksbT1yKDE1NyksST1yKDE1OCksUz1yKDE1OSksUj1yKDk1KSx3PXIoMTcyKSxiPXIoMTczKSxDPXIoMTc0KSxfPXIoNDkpLFA9cigyNSksQT1yKDE3NSksTz1yKDE3OSksTj1yKDE4MCksRD1yKDE4MSksaz1yKDE4MiksTD1yKDE4NCksTT1yKDE4NSksRj1yKDE4NiksVT1yKDE4NyksQj1yKDgwKSxIPXIoMTg4KSx4PXIoMTg5KSxxPXIoMTkxKSxHPXIoNiksVj1yKDE5Miksaj1HLmhlLnZoLFE9Ry5oZS55aCxLPUcuaGUuVGgsWT1HLmhlLkloO2lmKFEpdmFyIFc9cigxOTMpLmdKLHo9cigxOTUpLkVKO2lmKEspdmFyIEo9cig5MikuV0c7aWYoail2YXIgWD1yKDE5Nikudko7aWYoWSl2YXIgWj1yKDgxKS5DSDtlbHNlIHZhciAkPXIoODMpLm54O3ZhciBlZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy55Sj0hMSxlJiYodGhpcy55Sj1lKX1yZXR1cm4gZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7dGhpcy55Sj9ZJiZlLmJpbmQobmV3IGkuWkEoby5wYy5zYyxaLGkuJEEuc08pKTooZS5iaW5kKG5ldyBpLlpBKG8ucGMuaGMsYS5scCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKG8ucGMuRyxoLnFCLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5uYyxjLldCLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5NLHUudkgsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShuLkZyYW1ld29yay5WLlIscy5UTi55TixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKG8ucGMuaWMsbC5TdGF0cy5xbCxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKG8ucGMudWMscC5HbC5CZCxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKG8ucGMubGMscC5HbC5xbCxpLiRBLnBPKSksWT9lLmJpbmQobmV3IGkuWkEoby5wYy5zYyxaLGkuJEEuc08pKTplLmJpbmQobmV3IGkuWkEoby5wYy5zYywkLGkuJEEuc08pKSksZS5iaW5kKG5ldyBpLlpBKGQucXUubHUsVi5USixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKG8ucGMub2MsQi5JSCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuRnUsRi5tSixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuX3UsZi5zaCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuUnUsZy5JSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuUHUsRS5TSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUueXUseS5SYSxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuVHUsdi5ZcSxpLiRBLnBPKSksaiYmZS5iaW5kKG5ldyBpLlpBKGQucXUubXUsWCxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuYnUsVC5SSixpLiRBLnBPKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhpdmVPcmlnaW5hbFhNTEh0dHBSZXF1ZXN0P2UuYmluZChuZXcgaS5aQShuLkZyYW1ld29yay5WLkgsSGl2ZU9yaWdpbmFsWE1MSHR0cFJlcXVlc3QpKTplLmJpbmQobmV3IGkuWkEobi5GcmFtZXdvcmsuVi5ILFhNTEh0dHBSZXF1ZXN0KSksZS5iaW5kKG5ldyBpLlpBKGQucXUuTXUsTS53SixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuRHUsbS5iSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKG4uRnJhbWV3b3JrLlYuRixBLkNKLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5xLE8uX0osaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShkLnF1LlN1LFUuUEosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lkl1LEkuQUosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LnB1LFMuUWEsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LmR1LFIuaVEsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LmZ1LHguT0osaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lmd1LHguTkosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LkV1LHEuREosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LnZ1LHEua0osaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lnh1LEguVm8saS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LkN1LHcuTEosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lnd1LGIuTUosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lmt1LEMuRkosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lk51LGsuVUosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LkF1LF8uQWssaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lk91LEwuQkosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShuLkZyYW1ld29yay5WLlUsUC5SZi5GYSxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuTHUsTi55YSxpLiRBLnBPKSksUSYmKGUuYmluZChuZXcgaS5aQShkLnF1LkJ1LFcsaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1LlV1LHosaS4kQS5wTykpKSxLJiZlLmJpbmQobmV3IGkuWkEoZC5xdS5UaCxKLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5IdSxELkhKLGkuJEEucE8pKX0sZX0oKTt0LmNKPWVlfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMjgpLHM9bi5jZyxvPXIoMCksYT1yKDQzKSxoPXIoMTUpLGM9cig1KSx1PXIoMTkpLGw9cigzKSxwPXIoMTM1KSxkPXIoNDcpLGY9cig4KSxnPXIoMTM2KSxFPXIoNiksdj1yKDEpLHk9cigyKSxUPUUuaGUueWgsbT1FLmhlLlRoLEk9RS5oZS5taCxTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnN0YXRlPXUuTWwuTGwsdGhpcy5yZXF1ZXN0VGltZW91dD0tMTt0cnl7dGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZyhlLnRpY2tldC5zZXNzaW9uSWQpLHRoaXMubG9nZ2VySWQ9XCJbU1dBUk1dIFwiLHRoaXMuTmc9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLkYpLHRoaXMuc2Vzc2lvbklkPWUudGlja2V0LnNlc3Npb25JZCx0aGlzLnJsPWUsdGhpcy5FRD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuUnUpLHRoaXMuc0M9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lnl1KSx0aGlzLm9HPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5wdSksdGhpcy54Sj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuYnUpLHRoaXMuZ0Q9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lkl1KSx0aGlzLlREPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5kdSksdGhpcy51cGxvYWRTY29yZT1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUua3UpLHRoaXMucUo9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lnd1KSx0aGlzLkdKPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5EdSksdGhpcy52RD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuQ3UpLHRoaXMuZko9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LlB1KSx0aGlzLldNPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5MdSksdGhpcy55RD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuSHUpLHRoaXMuek09by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LkF1KSx0aGlzLm1EPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5PdSksdGhpcy5JRD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuU3UpLHRoaXMuelY9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lnh1KSx0aGlzLllNPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5sdSksKFR8fG8uRnJhbWV3b3JrLkMoKSYmZC4kTi5KTikmJih0aGlzLlZKPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5VdSksdGhpcy5qSj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuQnUpKSwobXx8by5GcmFtZXdvcmsuQygpJiZkLiROLlhOKSYmKHRoaXMuUUo9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LlRoKSksdGhpcy5zd2FybUlkPXRoaXMuS0ooZS50aWNrZXQua2QoKSksdGhpcy5ZTS5pbml0KHRoaXMpLHRoaXMueEouaW5pdCh0aGlzKSx0aGlzLklELmluaXQodGhpcyksdGhpcy56Vi5pbml0KHRoaXMpLHRoaXMuVEQuaW5pdCh0aGlzKSx0aGlzLnFKLmluaXQodGhpcyksdGhpcy5HSi5pbml0KHRoaXMpLHRoaXMudkQuaW5pdCh0aGlzKSx0aGlzLmZKLmluaXQodGhpcyksdGhpcy5FRC5pbml0KHRoaXMpLHRoaXMub0cuaW5pdCh0aGlzKSx0aGlzLnpNLmluaXQodGhpcyksdGhpcy5tRC5pbml0KHRoaXMpLHRoaXMuV00uaW5pdCh0aGlzKSwobXx8by5GcmFtZXdvcmsuQygpJiZkLiROLlhOKSYmdGhpcy5RSi5pbml0KHRoaXMpLChUfHxvLkZyYW1ld29yay5DKCkmJmQuJE4uSk4pJiZ0aGlzLmpKLmluaXQodGhpcyl9Y2F0Y2goZSl7dGhyb3cgdi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBzd2FybSBvYmplY3RcIix0aGlzLmxvZ2dlcklkLHkuaHMucnMuWm4sZSksbmV3IEVycm9yKGUpfX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQscil7dHJ5e0k/dGhpcy5ZSighMSk6cj90aGlzLllKKCExKTp0aGlzLllKKCEwKSx0aGlzLnlELnNldFJlcG9ydGluZ0d1aWQodGhpcy5ybC5pZGVudGl0eS5ycCgpKSx0aGlzLnlELldKKHIpLHRoaXMuc0MuaW5pdChjLmhoLlJhLlRhLGMuaGguUmEubWEpO3ZhciBpPXRoaXMuZkouUkQoZSx0KTt0aGlzLnlELnNldENvbnRleHRJZCh0aGlzLmZKLmRKLmdldENvbnRleHRJZCgpKTt2YXIgbj1uZXcgcC56SihpKTt0aGlzLnJsLk9MPW4sdGhpcy5ybC5VbC5PTD1uLHRoaXMuR0ouc3RhcnQodGhpcy5mSix0aGlzLm9HKSwoVHx8by5GcmFtZXdvcmsuQygpJiZkLiROLkpOKSYmdGhpcy5qSi5KSih0aGlzLm9HKTt2YXIgcz1bdGhpcy5vRyx0aGlzLlRELHRoaXMuR0osdGhpcy5ybC5VbCx0aGlzLnJsLkhsLHRoaXMuelZdOyhUfHxvLkZyYW1ld29yay5DKCkmJmQuJE4uSk4pJiZzLnB1c2godGhpcy5qSiksKG18fG8uRnJhbWV3b3JrLkMoKSYmZC4kTi5YTikmJnMucHVzaCh0aGlzLlFKKSwoYT10aGlzLk5nKS5zdGFydC5hcHBseShhLFtlLnNlc3Npb25JZF0uY29uY2F0KHMpKSx0aGlzLnJsLlVsLkRCKHRoaXMuVEQpLHRoaXMucmwuVWwuckIodGhpcy55RCksdGhpcy55RC5YSihlKX1jYXRjaChlKXt0aHJvdyB2LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHN3YXJtIG9iamVjdFwiLHRoaXMubG9nZ2VySWQseS5ocy5ycy4kbixlKSxuZXcgRXJyb3IoZSl9dmFyIGF9LGUucHJvdG90eXBlLllKPWZ1bmN0aW9uKGUpe2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5Pyh0aGlzLnlELlpKKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSx0aGlzLnlELiRKKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSk6KHRoaXMueUQuWkooMSksdGhpcy55RC4kSigxKSksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIk15IHNjb3JlIFwiK3RoaXMueUQuUUcoKSl9LGUucHJvdG90eXBlLktKPWZ1bmN0aW9uKGUpe3JldHVybiBzLm9UKGUpLnRvU3RyaW5nKHMuVXkuQnkpfSxlLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUpe3RoaXMuZVgoKSx0aGlzLkVELnJlcXVlc3QoZSl9LGUucHJvdG90eXBlLnRYPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PXUuTWwuU1RPUClyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5kZWJ1ZyhcIklnbm9yaW5nIGNoYW5naW5nIHN0YXRlIGZyb20gU3RvcCB0byBJZGxlXCIpO3RoaXMub0cuc3RvcCgpLHRoaXMuVEQuc3RvcCgpLHRoaXMubUQuclgoKSx0aGlzLm1ELmlYKCksdGhpcy5HSi5uWCgpLHRoaXMuakomJnRoaXMuakouc1goKSx0aGlzLnJsLm5sKHUuTWwuSURMRSksdGhpcy5zQy5RcSgpLHRoaXMuSUQub1goKSx0aGlzLkVELmFYKCksdGhpcy5ZTS5oWCgpLG8uRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KX0sZS5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSx0KXt0cnl7aWYodGhpcy5zdGF0ZSE9ZSl7c3dpdGNoKHRoaXMubG9nZ2VyLmluZm8oXCJTd2l0Y2hpbmcgc3RhdGUgXCIrdS5NbFt0aGlzLnN0YXRlXStcIiAtPiBcIit1Lk1sW2VdKSxlKXtjYXNlIHUuTWwuU1RPUDp0aGlzLnRYKCksdGhpcy5OZy5zdG9wKHQpO2JyZWFrO2Nhc2UgdS5NbC5JRExFOnRoaXMudFgoKTticmVhaztjYXNlIHUuTWwuTGw6dGhpcy5vRy5zdGFydCgpLHRoaXMuVEQuc3RhcnQodGhpcy5mSi5kSiksdGhpcy5tRC5jWCgpLHRoaXMuR0oudVgoKSx0aGlzLmpKJiZ0aGlzLmpKLmxYKCksdGhpcy5ybC5ubCh1Lk1sLkxsKSx0aGlzLllNLnBYKCl9dGhpcy5zdGF0ZT1lfX1jYXRjaChlKXt2LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hhbmdpbmcgcGVlciBzdGF0dXNcIix0aGlzLmxvZ2dlcklkLHkuaHMucnMuZXMsZSl9fSxlLnByb3RvdHlwZS5lWD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dHJ5e28uRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KSx0aGlzLm5sKHUuTWwuTGwpLHRoaXMucmVxdWVzdFRpbWVvdXQ9by5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2UubmwodS5NbC5JRExFKX0sYy5oaC5zaC5uaCl9Y2F0Y2goZSl7di5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlcXVlc3RpbmcgdGltZW91dFwiLHRoaXMubG9nZ2VySWQseS5ocy5ycy5RbixlKX19LGV9KCk7dC5kWD1TO3ZhciBSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuQWc9bmV3IGEuQ291bnRlcix0aGlzLmZYPSExLHRoaXMuemw9bmV3IGwsdGhpcy5nWD1uZXcgbCx0aGlzLkVYPSExLHRoaXMudlg9ITEsdGhpcy55WD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuTXUpLHRoaXMuVFg9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LkZ1KSx0aGlzLnVkPW8uRnJhbWV3b3JrLnJlc29sdmUoZi5wYy5zYyksdGhpcy5tWD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKGUudGlja2V0LnNlc3Npb25JZCk7dmFyIHI9ZS50aWNrZXQ7dGhpcy5UWC5pbml0KHRoaXMsZSk7dmFyIG49ci5zZXNzaW9uSWQ7aWYodGhpcy56bC5oYXMobikpdGhpcy5sb2dnZXIud2FybihcIlNFU1NJT04gQUxSRUFEWSBBQ1RJVkUgXCIrbik7ZWxzZXtnLklYLmZkKGUueGwuY2xpZW50KTt2YXIgcz1uZXcgUyhlKTtzLmluaXQocix0LHRoaXMubVgpLHRoaXMudWQuZ2V0Q29ubmVjdGl2aXR5SW5mbygpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXROZXR3b3JrQ2hhbmdlZCgpLHI9dC5nZXRQcml2YXRlSXAoKTtyJiZzLnlELkRIKHIpfSkuZG9uZSgpLGUuVWwuTkIodGhpcy51ZCksdGhpcy5sb2dnZXIuaW5mbyhcIlBFRVIgQ09OVEVYVCBTVEFSVEVEXCIpLHRoaXMuemwuc2V0KG4scyksdGhpcy5nWC5zZXQocy5zd2FybUlkLG4pfXJldHVybiAxIT10aGlzLnpsLmxlbmd0aCYmIXRoaXMudlh8fG8uRnJhbWV3b3JrLkMoKXx8KHRoaXMueVguaW5pdCgpLHRoaXMudlg9ITEpLGkucmVzb2x2ZShyLlNvdXJjZVVSTCl9LGUucHJvdG90eXBlLmhKPWZ1bmN0aW9uKCl7dGhpcy52WD0hMH0sZS5wcm90b3R5cGUubWc9ZnVuY3Rpb24oZSl7aWYodGhpcy5nWC5oYXMoZSkpe3ZhciB0PXRoaXMuZ1guZ2V0KGUpO3JldHVybiB0aGlzLnpsLmdldCh0KX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucEo9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemwuZ2V0KGUpfSxlLnByb3RvdHlwZS5TWD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56bC5oYXMoZSk/dGhpcy56bC5nZXQoZSkuRUQ6bnVsbH0sZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlLHQpe3RoaXMucEoodCkucmVxdWVzdChlKX0sZS5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSx0KXt0aGlzLnBKKGUpLm5sKHQsZSl9LGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKGUsdCl7dGhpcy5TWCh0KS5hYm9ydChlKX0sZS5wcm90b3R5cGUubEo9ZnVuY3Rpb24oZSl7dGhpcy5tWD1lfSxlfSgpO3Quc2g9Un0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLndEPWV9cmV0dXJuIGUucHJvdG90eXBlLnVCPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm87cmV0dXJuIGUuc3RyZWFtVHlwZT10aGlzLndELmlzTGl2ZSgpP1N0cmVhbVR5cGUuTElWRTpTdHJlYW1UeXBlLmtLLGUuc3RyZWFtUHJvdG9jb2w9dGhpcy53RC5nZXRTdHJlYW1Qcm90b2NvbCgpLGUudXJsPXRoaXMud0QudU0oKSxlfSxlfSgpO3Queko9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMjIpLG49aS5HbC5yZCxzPXIoMCksbz1yKDIzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5mZD1mdW5jdGlvbihlKXt0aGlzLmNsaWVudD1lfSxlLlJYPWZ1bmN0aW9uKGUsdCxyLGksYSl7dmFyIGg9bmV3IG47aC5hcHA9ZSxoLmd1aWQ9aSxoLmNyZWF0ZWRBdD1zLkZyYW1ld29yay50aW1lKCksaC5uYW1lPXIsaC50YWdzPXQsaC5kYXRhPUpTT04ucGFyc2UoYSk7dmFyIGM9bmV3IG8uSmQoU2VydmljZXMuWGQsMixKU09OLnN0cmluZ2lmeShoKSk7dGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LnpkKCkuc2VuZChjKX0sZX0oKTt0LklYPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig0KSxzPXIoMjQpLG89cig3KSxhPXIoNSksaD1yKDApLGM9cig5KSx1PXIoMTUpLGw9cig0MykscD1yKDEpLGQ9cigyKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMud1g9bmV3IGksdGhpcy5iWD0hMSx0aGlzLkNYPTAsdGhpcy5sb2dnZXJJZD1cIltIaXZlQ2FjaGVdIFwiLHRoaXMuX1g9NSx0aGlzLlRYPWguRnJhbWV3b3JrLnJlc29sdmUodS5xdS5GdSksdGhpcy5QWD1uZXcgbC5ST31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1oLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLmdEPWUuZ0QsdGhpcy5zQz1lLnNDLHRoaXMuVEQ9ZS5URCx0aGlzLlVsPWUucmwuVWwsdGhpcy5zZXNzaW9uSWQ9ZS5ybC50aWNrZXQuc2Vzc2lvbklkLHRoaXMueEo9ZS54Six0aGlzLnZEPWUudkQsdGhpcy5BWD1lLmZKLHRoaXMueUQ9ZS55RCx0aGlzLklEPWUuSUQsdGhpcy5ZTT1lLllNLHRoaXMuVWwuZUIodGhpcy5QWCl9LGUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudXJsO3RoaXMubG9nZ2VyLmluZm8oXCJISVZFIFJFUSBcIit0KSxlLkJmPWguRnJhbWV3b3JrLnRpbWUoKTt2YXIgcj10aGlzLkFYLk9YKGUpLGk9ci5FTShlLnVybCk7dGhpcy5ZTS5OWChpKSx0aGlzLiREKGUsaSxyLHMuYmYuVGYpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiBwbGF5ZXIgcmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsZC5ocy5Xbi5ZbixlKX19LGUucHJvdG90eXBlLiREPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXM7aWYodC5pZygpKXtpZih0LlhmKCk9PWMudmMuZmMpe3ZhciBhPXIuUE0odCxpKTtpZihhLmhGKXJldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRPIE5PVCBDT05USU5VRSBXSVRIIFRIRSBSRVFVRVNUIFwiK3QuWmYoKStcIi4gQUxSRUFEWSBSRVFVRVNURUQgIFwiK2EuckYrXCIgUEVORElORyBSRVFVRVNUIFwiK2EuYUYpLG51bGw7aWYoYS5hRiYmaT09cy5iZi5UZil7dmFyIGg9dGhpcy5EWChlLHQscixpKTtyZXR1cm4gaC5sZW5ndGg+MD8oaC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW4ud1guZ2V0KHQpO24ud1guc2V0KGUuaWQsciksbi53WC5kZWxldGUodCl9KSxudWxsKToodGhpcy5sb2dnZXIuaW5mbyhcIlBSRUZFVENIIFVQR1JBREUgRkFJTEVELiBUSElTIFNIT1VMRCBOT1QgSEFQUEVOLiBDSEVDSyBGT1IgTVVMVElQTEUgUExBWUVSIFJFUVVFU1RTIEZPUiBUSEUgU0FNRSBGUkFHTUVOVFwiKSx0aGlzLmtYKGUsdCxyLGkpKX1yZXR1cm4gdGhpcy5rWChlLHQscixpKX1yZXR1cm4gdGhpcy5rWChlLHQscixpKX12YXIgdT1vLnJjLk9oLm5leHQoKSxsPW5ldyBzLmhnKGUsdSxpLHQscik7cmV0dXJuIHRoaXMud1guc2V0KGUuaWQsbCksbC50eXBlPXMuYmYubWYsdGhpcy5MWChsKSxsfSxlLnByb3RvdHlwZS5rWD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj10aGlzLGE9by5yYy5PaC5uZXh0KCksaD1uZXcgcy5oZyhlLGEsaSx0LHIpO2lmKHRoaXMud1guc2V0KGUuaWQsaCksdC5YZigpPT1jLnZjLmZjJiYoci51RihoKSxpIT09cy5iZi5JZiYmaSE9PXMuYmYud2YpKXt2YXIgdT10LmJpdHJhdGUsbD10aGlzLnlELk1YKCk7MCE9dSYmKHRoaXMueUQuRlgodSksdSE9bCYmKHRoaXMuYlg9ITAsdGhpcy5DWD0wKSx0aGlzLmJYJiZ0aGlzLkNYKyssdGhpcy5DWD09dGhpcy5fWCYmKHRoaXMuVEQuS2ooKSx0aGlzLmJYPSExLHRoaXMuQ1g9MCkpfXJldHVybiB0aGlzLlVYKHQuWmYoKSkudGhlbihmdW5jdGlvbihlKXtudWxsIT1lPyhuLllNLkJYKGgsZSksbi5IWChoLGUpLHIubEYoaC5aZigpLGguJGYoKSksci5nRih0LmJpdHJhdGUpKToobi54WCh0LGgpLGguWGYoKT09Yy52Yy5mYyYmKHIuZEYoaCksaC50eXBlPT1zLmJmLlRmJiZuLlBYLmFkZCgwKSkpfSksaH0sZS5wcm90b3R5cGUuRFg9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHIuY0YoZSx0LGkpfSxlLnByb3RvdHlwZS5VWD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zQy5nZXQoZSl9LGUucHJvdG90eXBlLnhYPWZ1bmN0aW9uKGUsdCl7dGhpcy5nRC5jb250YWlucyhlLlpmKCkpPyh0aGlzLmxvZ2dlci5kZWJ1ZyhcIk9CSiBJRFggQ09OVEFJTlMgXCIrdC5aZigpKSx0LkpmKCk9PXMuYmYuSWYmJih0LnR5cGU9cy5iZi53ZiksdGhpcy5DZih0KSk6dC5KZigpIT1zLmJmLndmP3RoaXMuTFgodCk6KHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJQMlAgUFJFRkVUQ0ggRkFJTEVEIEJFQ0FVU0UgT0JKRUNUIElOREVYIERPRVMgTk9UIENPTlRBSU4gUkVRVUVTVCBFTlRJVFlcIix0aGlzLmxvZ2dlcklkLHtQXzp0LlpmKCl9KSx0LldmLmxGKHQuWmYoKSx0LiRmKCkpKX0sZS5wcm90b3R5cGUuYVg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMud1guZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5hYm9ydCh0LktmKX0pfSxlLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbihlKXtpZih0aGlzLndYLmhhcyhlLmlkKSl7dmFyIHQ9dGhpcy53WC5nZXQoZS5pZCkscj10LiRmKCk7dGhpcy5sb2dnZXIuZGVidWcoXCJSRVFVRVNUIFwiK3IrXCIgQUJPUlRFRCBcIiksdGhpcy52RC5ZcyhyKT90aGlzLnZELnFYKHIpOnRoaXMueEouWXMocikmJnRoaXMueEoucVgociksdGhpcy53WC5kZWxldGUoZS5pZCl9fSxlLnByb3RvdHlwZS5DZj1mdW5jdGlvbihlKXtlLnR5cGU9PXMuYmYuVGYmJihlLnR5cGU9cy5iZi5SZiksZS50eXBlPT1zLmJmLndmJiYoZS5WZj0hMCksdGhpcy52RC5yZXF1ZXN0KGUpfSxlLnByb3RvdHlwZS5HWD1mdW5jdGlvbihlKXtpZigwIT1lLlFmJiYoZS5xZi5BZj1lLlFmLHRoaXMubG9nZ2VyLmluZm8oXCJBTFJFQURZIERPV05MT0FERUQgXCIrZS5xZi5BZitcIiBCWVRFU1wiKSxlLnFmLk9mPWUuUWYpLCFhLmhoLksuTmEmJmUuUWYmJihlLnFmLkFmPTApLHRoaXMuWU0uVlgoZSksZS50eXBlIT1zLmJmLndmKWUudHlwZT1zLmJmLlNmLHRoaXMuTFgoZSk7ZWxzZSBpZihlLlhmKCk9PWMudmMuZmMpe2UuV2YucEYoZS5aZigpKSxlLldmLmxGKGUuWmYoKSxlLiRmKCkpO3ZhciB0PWUuemY7dC5iaXRyYXRlJiZlLldmLmdGKHQuYml0cmF0ZSl9fSxlLnByb3RvdHlwZS5qWD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJTVUNDRVNTIEZST00gUDJQIEZPUiBcIitlLmVnKCkrXCIgW1JFUSBcIitlLllmK1wiXSBbXCIrcy5iZltlLnR5cGVdK1wiXSBBRlRFUiBcIitlLm9nKCkrXCIgW2J3OlwiK2UuYWcoKS5HaCgpK1wiXVwiKSx0aGlzLlFYKGUpLHRoaXMuS1goZSx0aGlzLlhNKGUudHlwZSkpLHRoaXMuSUQuWVgoZSk7dmFyIHI9dGhpcy54Si5XWCgpLkhoKCk7dGhpcy5ZTS56WChlLHIpLHRoaXMuSlgoZSkudGhlbihmdW5jdGlvbigpe2UuV2YuQ00oZSksdC5YWCgpfSkuZmluYWxseShmdW5jdGlvbigpe3QuWE0oZS50eXBlKSYmdC5aWChlKSx0LndYLmRlbGV0ZShlLktmLmlkKX0pfSxlLnByb3RvdHlwZS5MWD1mdW5jdGlvbihlKXt0aGlzLllNLiRYKGUpLHRoaXMueEoucmVxdWVzdChlKX0sZS5wcm90b3R5cGUuZVo9ZnVuY3Rpb24oZSl7dGhpcy5YWCgpO3ZhciB0PXRoaXMueEouV1goKS5IaCgpO3RoaXMuWU0udFooZSx0KSxlLlhmKCk9PWMudmMuZmMmJihlLldmLnBGKGUuWmYoKSksZS5XZi5sRihlLlpmKCksZS4kZigpKSksdGhpcy5yWihlKX0sZS5wcm90b3R5cGUuaVo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLlFYKGUpLHRoaXMuS1goZSx0aGlzLlhNKGUudHlwZSkpLGUudHlwZT09cy5iZi5TZiYmdGhpcy5sb2dnZXIuZGVidWcoXCJDRE4gQ09NUEVOU0FUSU9OIFRJTUUgXCIrKGUucWYuVWYtZS5LZi5CZikrXCIgLyBcIisoZS5xZi5VZi1lLnFmLkxmKStcIiBQMlAgVElNRSBcIisoZS5xZi5GZi1lLnFmLk1mKSksLTE9PVtjLnZjLmdjLGMudmMuRWNdLmluZGV4T2YoZS5YZigpKSYmdGhpcy5JRC5ZWChlKTt2YXIgcj10aGlzLnhKLldYKCkuSGgoKTt0aGlzLllNLm5aKGUsciksdGhpcy5KWChlKS50aGVuKGZ1bmN0aW9uKCl7ZS5YZigpPT1jLnZjLmdjJiZlLldmLlNNKGUpLC0xPT1bYy52Yy5nYyxjLnZjLkVjXS5pbmRleE9mKGUuWGYoKSkmJmUuV2YuQ00oZSksdC5YWCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7dC5YTShlLnR5cGUpJiZ0LlpYKGUpLHQud1guZGVsZXRlKGUuS2YuaWQpfSl9LGUucHJvdG90eXBlLlFYPWZ1bmN0aW9uKGUpe2UudHlwZT09cy5iZi53ZiYmKGUucWYucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9ZS5xZi5BZiksZS50eXBlPT1zLmJmLklmJiYoZS5xZi5rZj1lLnFmLkRmLGUuR2YmJihlLnFmLnNyY090aGVyUmVzcFF0PWUucWYuRGYpKSxlLnFmLlBmPWUucWYuRGYrZS5xZi5BZixlLktmLnRvdGFsPWUucWYuUGZ9LGUucHJvdG90eXBlLktYPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5zWihlKSx0KXt2YXIgcj1vLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJwcm9ncmVzc1wiLHtsZW5ndGhDb21wdXRhYmxlOiEwLHRvdGFsOmUucWYuUGYsbG9hZGVkOmUucWYuUGYsY3VycmVudFRhcmdldDplLktmfSk7ZS5LZi5kaXNwYXRjaEV2ZW50KHIpLGUuemYuT18oKXx8KGUuS2YucmVzcG9uc2U9ZS5STSxlLktmLnJlc3BvbnNlVGV4dD1lLlJNKX19LGUucHJvdG90eXBlLlpYPWZ1bmN0aW9uKGUpe3ZhciB0PWUuS2Y7dGhpcy5sb2dnZXIuaW5mbyhcIlJFU1BPTkQgVE8gVEhFIFBMQVlFUiBcIitlLlpmKCkrXCIgU0laRSBcIisoaC5GcmFtZXdvcmsuQygpP3QudG90YWw6ZS5qZi5ieXRlTGVuZ3RoKSksdC5zdGF0dXM9MjAwLHQucmVhZHlTdGF0ZT00LFwic3RyaW5nXCI9PXR5cGVvZiB0LnJlc3BvbnNlJiZcImFycmF5YnVmZmVyXCI9PT10LnJlc3BvbnNlVHlwZSYmKHQucmVzcG9uc2U9by5yYy50Yyh0LnJlc3BvbnNlKSksXCJ0ZXh0XCIhPXQucmVzcG9uc2VUeXBlJiZcIlwiIT10LnJlc3BvbnNlVHlwZSYmZGVsZXRlIHQucmVzcG9uc2VUZXh0LGUuemYuT18oKSYmKHQucmVzcG9uc2U9aC5GcmFtZXdvcmsuQygpP251bGw6by5yYy5RaChlLmpmKSk7dmFyIHI9by5yYy5jcmVhdGVFdmVudChFdmVudCxcInJlYWR5c3RhdGVjaGFuZ2VcIix7Y3VycmVudFRhcmdldDp0fSksaT1vLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkXCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLHRvdGFsOmUuemYuT18oKT9lLmpmLmJ5dGVMZW5ndGg6ZS5STS5sZW5ndGgsY3VycmVudFRhcmdldDp0fSksbj1vLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkZW5kXCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLGxvYWRlZDp0LnRvdGFsLHRvdGFsOjAsY3VycmVudFRhcmdldDp0fSk7dC5kaXNwYXRjaEV2ZW50KHIpLHQuZGlzcGF0Y2hFdmVudChpKSx0LmRpc3BhdGNoRXZlbnQobil9LGUucHJvdG90eXBlLnJaPWZ1bmN0aW9uKGUpe3RoaXMud1guZGVsZXRlKGUuS2YuaWQpO3ZhciB0PWUuS2Yscj17YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOnQudG90YWwsdG90YWw6MCxjdXJyZW50VGFyZ2V0OnR9O2UueGhyLnN0YXR1cyYmZS54aHIuc3RhdHVzPjA/KHQuc3RhdHVzPWUueGhyLnN0YXR1cyx0LnJlc3BvbnNlSGVhZGVycz1lLnJlc3BvbnNlSGVhZGVycyk6dC5zdGF0dXM9NDA0LHQucmVhZHlTdGF0ZT00LHQuZGlzcGF0Y2hFdmVudChvLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHIpKSx0LmRpc3BhdGNoRXZlbnQoby5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZFwiLHIpKSx0LmRpc3BhdGNoRXZlbnQoby5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZGVuZFwiLHIpKX0sZS5wcm90b3R5cGUuSlg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS56Zi5pZygpP3RoaXMuc0MucHV0KGUpLnRoZW4oZnVuY3Rpb24ocil7ciYmdC5URC5vWihlLnpmLGUucWYuUGYsZS54cSl9KTpuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5IWD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZS5qZj10LmRhdGEsZS5yZXNwb25zZUhlYWRlcnM9dC5oZWFkZXJzLGUucXE9dC5xcSxlLnFmPXQucWY7dmFyIGk9ZS5XZi5kTSgpLmx4KHQubGVuZ3RoKTt0aGlzLmxvZ2dlci5pbmZvKFwiU0NIRURVTEUgREVMSVZFUlkgT0YgXCIrZS5aZigpK1wiIElOIFwiK2krXCIgU0laRSBcIisoaC5GcmFtZXdvcmsuQygpP3QubGVuZ3RoOmUuamYuYnl0ZUxlbmd0aCkrXCIgQllURVNcIiksaC5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuYVooZSl9LGkpfSxlLnByb3RvdHlwZS5hWj1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRFTElWRVJZIE9GIFwiK2UuWmYoKSksdGhpcy5LWChlLCEwKSx0aGlzLndYLmRlbGV0ZShlLktmLmlkKTt2YXIgdD1lLktmLkJmLWUucWYuVWY7dGhpcy5sb2dnZXIuaW5mbyhcIkZSQUdNRU5UIFBSRUZFVENIRUQgXCIrdCtcIiBNU0VDUyBCRUZPUkUgUExBWUVSIFJFUVVFU1RcIiksdD4wJiZlLlhmKCk9PWMudmMuZmMmJnRoaXMuUFguYWRkKHQpO3ZhciByPTA7cj1lLnFmLk1mPjA/ZS5LZi5CZi1lLnFmLk1mOmUuS2YuQmYtZS5xZi5GZix0aGlzLmxvZ2dlci5pbmZvKFwiRlJBR01FTlQgUkVRVUVTVEVEIFwiK3IrXCIgTVNFQ1MgQkVGT1JFIFBMQVlFUiBSRVFVRVNUXCIpLHRoaXMuWlgoZSl9LGUucHJvdG90eXBlLlhNPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1zLmJmLndmJiZlIT1zLmJmLklmfSxlLnByb3RvdHlwZS5zWj1mdW5jdGlvbihlKXtpZihlLnR5cGUhPT1zLmJmLlNmKWUucmVzcG9uc2VIZWFkZXJzPWUuS2YucmVzcG9uc2VIZWFkZXJzPWUucmVzcG9uc2VIZWFkZXJzO2Vsc2V7dmFyIHQ9XCJcXG5Db250ZW50LVJhbmdlOiBieXRlcz0wLVwiKyhlLnNpemUtMSkrXCIvXCIrZS5zaXplK1wiXFxuXCI7dCs9XCJDb250ZW50LUxlbmd0aDogXCIrZS5zaXplK1wiXFxuXCIsZS5yZXNwb25zZUhlYWRlcnM9ZS5LZi5yZXNwb25zZUhlYWRlcnM9dH1udWxsIT1lLnJlc3BvbnNlSGVhZGVycyYmLTEhPWUucmVzcG9uc2VIZWFkZXJzLmluZGV4T2YoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIil8fChlLnJlc3BvbnNlSGVhZGVycys9XCJcXG5BY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46KlwiKX0sZS5wcm90b3R5cGUuWFg9ZnVuY3Rpb24oKXtoLkZyYW1ld29yay5DKCl8fHRoaXMuVFgucmVuZGVyKCl9LGV9KCk7dC5JSj1mfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig1Nyksbj1yKDg3KSxzPXIoMCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlREPW51bGwsdGhpcy5OZz1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuRil9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5zRz1lLHRoaXMuVEQ9ZS5URH0sZS5wcm90b3R5cGUuUkQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsLHM9ZS5fTigpO3JldHVybiBuLmJxLnJNKHMpP3RoaXMuZEo9cj1uZXcgbi5icS5EcShlLHQsdGhpcy5zRyk6aS5EQVNILnJNKHMpP3RoaXMuZEo9cj1uZXcgaS5EQVNILlZNKGUsdGhpcy5zRyk6dGhpcy5sb2dnZXIud2FybihcIkNPVUxEIE5PVCBGSU5EIEEgQ09OVEVYVCBGT1IgXCIrcyksbnVsbCE9ciYmdGhpcy5oWih0aGlzLmRKKSxyfSxlLnByb3RvdHlwZS5oWj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO251bGwhPXRoaXMuVEQ/dGhpcy5URC5zdG9wKCkudGhlbihmdW5jdGlvbihyKXt0LlRELnN0YXJ0KGUpfSk6dGhpcy5URC5zdGFydChlKX0sZS5wcm90b3R5cGUuT1g9ZnVuY3Rpb24oZSl7aWYobnVsbD09dGhpcy5kSil0aGlzLmxvZ2dlci53YXJuKFwiRklSU1QgUkVRVUVTVCwgQ09VTEQgTk9UIEZJTkQgUklHSFQgQ09OVEVYVCBcIitlLnVybCk7ZWxzZSBpZighdGhpcy5kSi5tTShlKSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcIlJFUVVFU1QgRE9FUyBOT1QgQkVMT05HIFRPIFRIRSBDVVJSRU5UIENPTlRFWFQgXCIrZS51cmwpLG51bGw7cmV0dXJuIHRoaXMuZEp9LGV9KCk7dC5TSj1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIsbik7dGhpcy5scz10fHxPYmplY3QuY3MsdGhpcy5BYz1yfHxPYmplY3QuT2MsdGhpcy5kcz1ufHxGdW5jdGlvbi51cyx0aGlzLnJvb3Q9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMuYWRkRWFjaChlKX1mdW5jdGlvbiBuKGUpe3RoaXMudmFsdWU9ZSx0aGlzLmxlZnQ9bnVsbCx0aGlzLnJpZ2h0PW51bGwsdGhpcy5sZW5ndGg9MX1mdW5jdGlvbiBzKGUsdCxyKXtpZih0aGlzLnNldD1lLHRoaXMuT2s9bnVsbCx0aGlzLmVuZD1yLHQpe3ZhciBpPXRoaXMuc2V0LmNaKHQpO2kmJih0aGlzLnNldC51WihpLnZhbHVlKSx0aGlzLk9rPWkubFooKSl9fWUuaT1pO3ZhciBvPShyKDExKSxyKDEyKSksYT1yKDM5KSxoPXIoMTMpLGM9cigzOCksdT1yKDY5KTtpLnBaPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLGkucHJvdG90eXBlLm1GPSEwLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMubHMsdGhpcy5BYyx0aGlzLmRzKX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjaGFzIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7cmV0dXJuISF0aGlzLnJvb3QmJih0aGlzLnVaKGUpLHRoaXMubHMoZSx0aGlzLnJvb3QudmFsdWUpKX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjZ2V0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7cmV0dXJuIHRoaXMucm9vdCYmKHRoaXMudVooZSksdGhpcy5scyhlLHRoaXMucm9vdC52YWx1ZSkpP3RoaXMucm9vdC52YWx1ZTp0aGlzLmRzKGUpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMuTm9kZShlKTtpZighdGhpcy5yb290KXJldHVybiB0aGlzLk1rJiZ0aGlzLlFBKFtlXSxbXSwwKSx0aGlzLnJvb3Q9dCx0aGlzLmxlbmd0aCsrLHRoaXMuTWsmJnRoaXMuR0EoW2VdLFtdLDApLCEwO2lmKHRoaXMudVooZSksIXRoaXMubHMoZSx0aGlzLnJvb3QudmFsdWUpKXt2YXIgcj10aGlzLkFjKGUsdGhpcy5yb290LnZhbHVlKTtpZigwPT09cil0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQgY2Fubm90IGNvbnRhaW4gaW5jb21wYXJhYmxlIGJ1dCBpbmVxdWFsIHZhbHVlczogXCIrZStcIiBhbmQgXCIrdGhpcy5yb290LnZhbHVlKTtyZXR1cm4gdGhpcy5NayYmdGhpcy5RQShbZV0sW10sdGhpcy5yb290LmluZGV4KSxyPDA/KHQucmlnaHQ9dGhpcy5yb290LHQubGVmdD10aGlzLnJvb3QubGVmdCx0aGlzLnJvb3QubGVmdD1udWxsLHRoaXMucm9vdC5kWigpKToodC5sZWZ0PXRoaXMucm9vdCx0LnJpZ2h0PXRoaXMucm9vdC5yaWdodCx0aGlzLnJvb3QucmlnaHQ9bnVsbCx0aGlzLnJvb3QuZFooKSksdC5kWigpLHRoaXMucm9vdD10LHRoaXMubGVuZ3RoKyssdGhpcy5NayYmdGhpcy5HQShbZV0sW10sdGhpcy5yb290LmluZGV4KSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjZGVsZXRlIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7aWYodGhpcy5yb290JiYodGhpcy51WihlKSx0aGlzLmxzKGUsdGhpcy5yb290LnZhbHVlKSkpe3ZhciByPXRoaXMucm9vdC5pbmRleDtpZih0aGlzLk1rJiZ0aGlzLlFBKFtdLFtlXSxyKSx0aGlzLnJvb3QubGVmdCl7dmFyIGk9dGhpcy5yb290LnJpZ2h0O3RoaXMucm9vdD10aGlzLnJvb3QubGVmdCx0aGlzLnVaKGUpLHRoaXMucm9vdC5yaWdodD1pfWVsc2UgdGhpcy5yb290PXRoaXMucm9vdC5yaWdodDtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLnJvb3QmJnRoaXMucm9vdC5kWigpLHRoaXMuTWsmJnRoaXMuR0EoW10sW2VdLHIpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjaW5kZXhPZiBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogc3RhcnRJbmRleFwiKTtyZXR1cm4gdGhpcy5yb290JiYodGhpcy51WihlKSx0aGlzLmxzKGUsdGhpcy5yb290LnZhbHVlKSk/dGhpcy5yb290LmluZGV4Oi0xfSxpLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNmaW5kIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjZmluZCBkb2VzIG5vdCBzdXBwb3J0IHRoaXJkIGFyZ3VtZW50OiBpbmRleFwiKTtpZih0aGlzLnJvb3QmJih0aGlzLnVaKGUpLHRoaXMubHMoZSx0aGlzLnJvb3QudmFsdWUpKSlyZXR1cm4gdGhpcy5yb290fSxpLnByb3RvdHlwZS5mWj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3Qpe2ZvcihlPWV8fHRoaXMucm9vdDtlLnJpZ2h0OyllPWUucmlnaHQ7cmV0dXJuIGV9fSxpLnByb3RvdHlwZS5nWj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3Qpe2ZvcihlPWV8fHRoaXMucm9vdDtlLmxlZnQ7KWU9ZS5sZWZ0O3JldHVybiBlfX0saS5wcm90b3R5cGUuRVo9ZnVuY3Rpb24oZSl7aWYodGhpcy5yb290KXJldHVybiB0aGlzLnVaKGUpLHRoaXMuQWModGhpcy5yb290LnZhbHVlLGUpPjA/dGhpcy5yb290LmxaKCk6dGhpcy5yb290fSxpLnByb3RvdHlwZS52Wj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMudVooZSksdGhpcy5BYyh0aGlzLnJvb3QudmFsdWUsZSk+PTA/dGhpcy5yb290LmxaKCk6dGhpcy5yb290fSxpLnByb3RvdHlwZS5jWj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMudVooZSksdGhpcy5BYyh0aGlzLnJvb3QudmFsdWUsZSk+PTA/dGhpcy5yb290OnRoaXMucm9vdC55WigpfSxpLnByb3RvdHlwZS5UWj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMudVooZSksdGhpcy5BYyh0aGlzLnJvb3QudmFsdWUsZSk8PTA/dGhpcy5yb290LnlaKCk6dGhpcy5yb290fSxpLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZih0aGlzLnJvb3Qpe3ZhciBlPXRoaXMuZlooKTtyZXR1cm4gdGhpcy5kZWxldGUoZS52YWx1ZSksZS52YWx1ZX19LGkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5yb290KXt2YXIgZT10aGlzLmdaKCk7cmV0dXJuIHRoaXMuZGVsZXRlKGUudmFsdWUpLGUudmFsdWV9fSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dGhpcy5hZGRFYWNoKGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXtlPWV8fDAsdD10fHx0aGlzLmxlbmd0aCxlPDAmJihlKz10aGlzLmxlbmd0aCksdDwwJiYodCs9dGhpcy5sZW5ndGgpO3ZhciByPVtdO2lmKHRoaXMucm9vdClmb3IodGhpcy5tWihlKTt0aGlzLnJvb3QuaW5kZXg8dCYmKHIucHVzaCh0aGlzLnJvb3QudmFsdWUpLHRoaXMucm9vdC5yaWdodCk7KXRoaXMudVoodGhpcy5yb290LnlaKCkudmFsdWUpO3JldHVybiByfSxpLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5xayhlLHQsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0saS5wcm90b3R5cGUucWs9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUmJnZvaWQgMD09PXQpcmV0dXJuW107ZT1lfHwwLGU8MCYmKGUrPXRoaXMubGVuZ3RoKSx2b2lkIDA9PT10JiYodD0xLzApO3ZhciBpPVtdO2lmKHRoaXMucm9vdCl7dGhpcy5tWihlKTtmb3IodmFyIG49MDtuPHQ7bisrKXtpLnB1c2godGhpcy5yb290LnZhbHVlKTt2YXIgcz10aGlzLnJvb3QueVooKTtpZih0aGlzLmRlbGV0ZSh0aGlzLnJvb3QudmFsdWUpLCFzKWJyZWFrO3RoaXMudVoocy52YWx1ZSl9fXJldHVybiB0aGlzLmFkZEVhY2gociksaX0saS5wcm90b3R5cGUudVo9ZnVuY3Rpb24oZSl7dmFyIHQscixpLHMsbyxhO2lmKHRoaXMucm9vdCl7Zm9yKHQ9cj1pPW5ldyB0aGlzLk5vZGUsYT1uZXcgdGhpcy5Ob2RlLG89dGhpcy5yb290Ozspe3ZhciBoPXRoaXMuQWMoZSxvLnZhbHVlKTtpZihoPDApe2lmKCFvLmxlZnQpYnJlYWs7aWYodGhpcy5BYyhlLG8ubGVmdC52YWx1ZSk8MCYmKHM9by5sZWZ0LG8ubGVmdD1zLnJpZ2h0LG8uZFooKSxzLnJpZ2h0PW8scy5kWigpLG89cywhby5sZWZ0KSlicmVhaztzPW5ldyBuLHMucmlnaHQ9byxzLmxlZnQ9YS5sZWZ0LGEubGVmdD1zLGkubGVmdD1vLGkuZFooKSxpPW8sbz1vLmxlZnR9ZWxzZXtpZighKGg+MCkpYnJlYWs7aWYoIW8ucmlnaHQpYnJlYWs7aWYodGhpcy5BYyhlLG8ucmlnaHQudmFsdWUpPjAmJihzPW8ucmlnaHQsby5yaWdodD1zLmxlZnQsby5kWigpLHMubGVmdD1vLHMuZFooKSxvPXMsIW8ucmlnaHQpKWJyZWFrO3M9bmV3IG4scy5sZWZ0PW8scy5yaWdodD1hLnJpZ2h0LGEucmlnaHQ9cyxyLnJpZ2h0PW8sci5kWigpLHI9byxvPW8ucmlnaHR9fWZvcihyLnJpZ2h0PW8ubGVmdCxyLmRaKCksaS5sZWZ0PW8ucmlnaHQsaS5kWigpLG8ubGVmdD10LnJpZ2h0LG8ucmlnaHQ9dC5sZWZ0O2EubGVmdDspYS5sZWZ0LnJpZ2h0LmRaKCksYS5sZWZ0PWEubGVmdC5sZWZ0O2Zvcig7YS5yaWdodDspYS5yaWdodC5sZWZ0LmRaKCksYS5yaWdodD1hLnJpZ2h0LnJpZ2h0O28uZFooKSx0aGlzLnJvb3Q9b319LGkucHJvdG90eXBlLm1aPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdCl7Zm9yKHZhciB0PXRoaXMucm9vdCxyPXRoaXMucm9vdC5pbmRleDtyIT09ZTspaWYocj5lJiZ0LmxlZnQpdD10LmxlZnQsci09MSsodC5yaWdodD90LnJpZ2h0Lmxlbmd0aDowKTtlbHNle2lmKCEocjxlJiZ0LnJpZ2h0KSlicmVhazt0PXQucmlnaHQscis9MSsodC5sZWZ0P3QubGVmdC5sZW5ndGg6MCl9cmV0dXJuIHRoaXMudVoodC52YWx1ZSksdGhpcy5yb290LmluZGV4PT09ZX1yZXR1cm4hMX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5yb290JiYodD10aGlzLnJvb3QucmVkdWNlKGUsdCwwLHIsdGhpcykpLHR9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5yb290JiYodD10aGlzLnJvb3QucmVkdWNlUmlnaHQoZSx0LHRoaXMubGVuZ3RoLTEscix0aGlzKSksdH0saS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ1ooZSk7aWYodClyZXR1cm4gdC52YWx1ZX0saS5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZlooZSk7aWYodClyZXR1cm4gdC52YWx1ZX0saS5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW4oKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLk1rJiYoZT10aGlzLnRvQXJyYXkoKSx0aGlzLlFBKFtdLGUsMCkpLHRoaXMucm9vdD1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy5NayYmdGhpcy5HQShbXSxlLDApfSxpLnByb3RvdHlwZS5IYz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdGhpcy5JdGVyYXRvcih0aGlzLGUsdCl9LGkucHJvdG90eXBlLkl0ZXJhdG9yPXMsaS5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3Q/dGhpcy5yb290LnN1bW1hcnkoKTpcIigpXCJ9LGkucHJvdG90eXBlLmxvZz1mdW5jdGlvbihlLHQscixpKXtlPWV8fHUuYVUsdD10fHx0aGlzLnZzLHJ8fChyPWNvbnNvbGUubG9nLGk9Y29uc29sZSkscj1yLmJpbmQoaSksdGhpcy5yb290JiZ0aGlzLnJvb3QubG9nKGUsdCxyLHIpfSxpLnByb3RvdHlwZS52cz1mdW5jdGlvbihlLHQscil7dChcIiBcIitlLnZhbHVlKX0saS5JWj11LGkucHJvdG90eXBlLk5vZGU9bixuLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe2lmKHM9c3x8MCx0aGlzLmxlZnQpe3ZhciBvPXRoaXMubGVmdC5sZW5ndGg7dD10aGlzLmxlZnQucmVkdWNlKGUsdCxyLGksbixzKzEpLHIrPW99cmV0dXJuIHQ9ZS5jYWxsKGksdCx0aGlzLnZhbHVlLHIsbix0aGlzLHMpLHIrPTEsdGhpcy5yaWdodCYmKHQ9dGhpcy5yaWdodC5yZWR1Y2UoZSx0LHIsaSxuLHMrMSkpLHR9LG4ucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCxyLGksbixzKXtyZXR1cm4gcz1zfHwwLHRoaXMucmlnaHQmJih0PXRoaXMucmlnaHQucmVkdWNlKGUsdCxyLGksbixzKzEpLHItPXRoaXMucmlnaHQubGVuZ3RoKSx0PWUuY2FsbChpLHQsdGhpcy52YWx1ZSx0aGlzLnZhbHVlLG4sdGhpcyxzKSxyLT0xLHRoaXMubGVmdCYmKHQ9dGhpcy5sZWZ0LnJlZHVjZShlLHQscixpLG4scysxKSksdH0sbi5wcm90b3R5cGUuZFo9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0xKyh0aGlzLmxlZnQ/dGhpcy5sZWZ0Lmxlbmd0aDowKSsodGhpcy5yaWdodD90aGlzLnJpZ2h0Lmxlbmd0aDowKSx0aGlzLmluZGV4PXRoaXMubGVmdD90aGlzLmxlZnQubGVuZ3RoOjB9LG4ucHJvdG90eXBlLlNaPWZ1bmN0aW9uKCl7dmFyIGU9MTtpZihlKz10aGlzLmxlZnQ/dGhpcy5sZWZ0LlNaKCk6MCxlKz10aGlzLnJpZ2h0P3RoaXMucmlnaHQuU1ooKTowLHRoaXMubGVuZ3RoIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlZ3JpdHkgY2hlY2sgZmFpbGVkOiBcIit0aGlzLnN1bW1hcnkoKSk7cmV0dXJuIGV9LG4ucHJvdG90eXBlLnlaPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlLnJpZ2h0KXtmb3IoZT1lLnJpZ2h0O2UubGVmdDspZT1lLmxlZnQ7cmV0dXJuIGV9fSxuLnByb3RvdHlwZS5sWj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoZS5sZWZ0KXtmb3IoZT1lLmxlZnQ7ZS5yaWdodDspZT1lLnJpZ2h0O3JldHVybiBlfX0sbi5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmFsdWV8fFwiLVwiO3JldHVybiBlKz1cIiA8XCIrdGhpcy5sZW5ndGgsdGhpcy5sZWZ0fHx0aGlzLnJpZ2h0P1wiKFwiK2UrXCIgXCIrKHRoaXMubGVmdD90aGlzLmxlZnQuc3VtbWFyeSgpOlwiKClcIikrXCIsIFwiKyh0aGlzLnJpZ2h0P3RoaXMucmlnaHQuc3VtbWFyeSgpOlwiKClcIikrXCIpXCI6XCIoXCIrZStcIilcIn0sbi5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLHM9dGhpcztuPXRoaXMubGVmdCYmdGhpcy5yaWdodD9lLldBOnRoaXMubGVmdD9lLnRVOnRoaXMucmlnaHQ/ZS5yVTplLmVVO3ZhciBvO3RoaXMubGVmdCYmdGhpcy5sZWZ0LmxvZyhlLHQsZnVuY3Rpb24odCl7bz9pKGUub1UrXCIgXCIrdCk6KG89ITAsaShlLmlVK2UuZVUrdCkpfSxmdW5jdGlvbihlKXtpKFwiICBcIitlKX0pO3ZhciBhO3QodGhpcyxmdW5jdGlvbih0KXthP3IoKHMucmlnaHQ/ZS5vVTpcIiBcIikrdCk6KGE9ITAscihuK3QpKX0sZnVuY3Rpb24odCl7aSgocy5sZWZ0P2Uub1U6XCIgXCIpK3QpfSk7dmFyIGg7dGhpcy5yaWdodCYmdGhpcy5yaWdodC5sb2coZSx0LGZ1bmN0aW9uKHQpe2g/cihcIiAgXCIrdCk6KGg9ITAscihlLm5VK2UuZVUrdCkpfSxmdW5jdGlvbih0KXtyKGUub1UrXCIgXCIrdCl9KX0scy5wcm90b3R5cGUuR2s9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJfaXRlcmF0aW9uT2JqZWN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkdrfHwodGhpcy5Haz17ZG9uZTohMSx2YWx1ZTpudWxsfSl9fSkscy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBlPXRoaXMuT2s/dGhpcy5zZXQuVFoodGhpcy5Pay52YWx1ZSk6dGhpcy5zZXQuZ1ooKSxlP3ZvaWQgMCE9PXRoaXMuZW5kJiZ0aGlzLnNldC5BYyhlLnZhbHVlLHRoaXMuZW5kKT49MD8odGhpcy5Way5kb25lPSEwLHRoaXMuVmsudmFsdWU9dm9pZCAwKToodGhpcy5Paz1lLHRoaXMuVmsudmFsdWU9ZS52YWx1ZSk6KHRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMCksdGhpcy5Wa319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJGPSExLHRoaXMuYUY9ITEsdGhpcy5oRj0hMX1yZXR1cm4gZX0oKTt0LmVGPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixuKTtBcnJheS5pc0FycmF5KGUpPyh0aGlzLk5UPWUsZT1lLnNwbGljZSgwLGUubGVuZ3RoKSk6dGhpcy5OVD1bXSx0aGlzLmxzPXR8fE9iamVjdC5jcyx0aGlzLkFjPXJ8fE9iamVjdC5PYyx0aGlzLmRzPW58fEZ1bmN0aW9uLnVzLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfWZ1bmN0aW9uIG4oZSx0LHIpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGgtMTtpPD1uOyl7dmFyIHM9aStuPj4xLG89cih0LGVbc10pO2lmKG8+MClpPXMrMTtlbHNle2lmKCEobzwwKSlyZXR1cm4gcztuPXMtMX19cmV0dXJuLShpKzEpfWZ1bmN0aW9uIHMoZSx0LHIsaSl7dmFyIHM9bihlLHQscik7aWYoczwwKXJldHVybi0xO2Zvcig7cz4wJiZpKHQsZVtzLTFdKTspcy0tO3JldHVybiBpKHQsZVtzXSk/czotMX1mdW5jdGlvbiBvKGUsdCxyLGkpe3ZhciBzPW4oZSx0LHIpO2lmKHM8MClyZXR1cm4tMTtmb3IoO3M8ZS5sZW5ndGgtMSYmaSh0LGVbcysxXSk7KXMrKztyZXR1cm4gaSh0LGVbc10pP3M6LTF9ZnVuY3Rpb24gYShlLHQscil7dmFyIGk9bihlLHQscik7aWYoaTwwKXJldHVybi1pLTE7Zm9yKHZhciBzPWUubGVuZ3RoLTE7aTxzJiYwPT09cih0LGVbaSsxXSk7KWkrKztyZXR1cm4gaX1lLmk9aTt2YXIgaD0ocigxMSkscigxMikpLGM9cigxMyksdT1yKDM4KTtpLlJaPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsaC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSx1LnByb3RvdHlwZSksaS5wcm90b3R5cGUubUY9ITAsaS5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5scyx0aGlzLkFjLHRoaXMuZHMpfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNoYXMgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj1uKHRoaXMuTlQsZSx0aGlzLkFjKTtyZXR1cm4gcj49MCYmdGhpcy5scyh0aGlzLk5UW3JdLGUpfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2dldCBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPXModGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyk7cmV0dXJuLTEhPT1yP3RoaXMuTlRbcl06dGhpcy5kcyhlKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcy5OVCxlLHRoaXMuQWMpO3JldHVybiB0aGlzLk1rJiZ0aGlzLlFBKFtlXSxbXSx0KSx0aGlzLk5ULnNwbGljZSh0LDAsZSksdGhpcy5sZW5ndGgrKyx0aGlzLk1rJiZ0aGlzLkdBKFtlXSxbXSx0KSwhMH0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj1zKHRoaXMuTlQsZSx0aGlzLkFjLHRoaXMubHMpO3JldHVybi0xIT09ciYmKHRoaXMuTWsmJnRoaXMuUUEoW10sW2VdLHIpLHRoaXMuTlQuc3BsaWNlKHIsMSksdGhpcy5sZW5ndGgtLSx0aGlzLk1rJiZ0aGlzLkdBKFtdLFtlXSxyKSwhMCl9LGkucHJvdG90eXBlLlhBPWZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIHI9dGhpcy5OVC5YQShlLHQpO3JldHVybiB0aGlzLmxlbmd0aC09cixyfXZhciBpPXModGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyk7aWYoLTEhPT1pKXtmb3IodmFyIG49aTt0aGlzLmxzKGUsdGhpcy5OVFtuXSk7KW4rKzt2YXIgbz10aGlzLnNsaWNlKGksbik7cmV0dXJuIHRoaXMuTWsmJnRoaXMuUUEoW10sbyxpKSx0aGlzLk5ULnNwbGljZShpLG8ubGVuZ3RoKSx0aGlzLmxlbmd0aC09by5sZW5ndGgsdGhpcy5NayYmdGhpcy5HQShbXSxvLGkpLG8ubGVuZ3RofXJldHVybiAwfSxpLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUpe3JldHVybiBzKHRoaXMuTlQsZSx0aGlzLkFjLHRoaXMubHMpfSxpLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLk5ULGUsdGhpcy5BYyx0aGlzLmxzKX0saS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlLHQscil7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNmaW5kIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNmaW5kIGRvZXMgbm90IHN1cHBvcnQgdGhpcmQgYXJndW1lbnQ6IGluZGV4XCIpO3JldHVybiBzKHRoaXMuTlQsZSx0aGlzLkFjLHRoaXMubHMpfSxpLnByb3RvdHlwZS5Maz1mdW5jdGlvbihlLHQscil7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNmaW5kTGFzdCBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO2lmKHIpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkQXJyYXkjZmluZExhc3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlyZCBhcmd1bWVudDogaW5kZXhcIik7cmV0dXJuIG8odGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyl9LGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxpLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLk5ULnBvcCgpO3JldHVybiB0aGlzLmxlbmd0aD10aGlzLk5ULmxlbmd0aCxlfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuTlQuc2hpZnQoKTtyZXR1cm4gdGhpcy5sZW5ndGg9dGhpcy5OVC5sZW5ndGgsZX0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OVC5zbGljZS5hcHBseSh0aGlzLk5ULGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnFrKGUsdCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxpLnByb3RvdHlwZS5xaz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmdm9pZCAwPT09dClyZXR1cm5bXTtlPWV8fDAsZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHZvaWQgMD09PXQmJih0PTEvMCk7dmFyIGk9dGhpcy5zbGljZShlLGUrdCk7cmV0dXJuIHRoaXMuTWsmJnRoaXMuUUEocixpLGUpLHRoaXMuTlQuc3BsaWNlKGUsdCksdGhpcy5sZW5ndGgtPWkubGVuZ3RoLHRoaXMuTWsmJnRoaXMuR0EoW10saSxlKSx0aGlzLmFkZEVhY2gociksaX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLk5ULnJlZHVjZShmdW5jdGlvbih0LGksbil7cmV0dXJuIGUuY2FsbChyLHQsaSxuLHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5OVC5yZWR1Y2VSaWdodChmdW5jdGlvbih0LHIsaSl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoZSx0LHIsaSx0aGlzKX0sYmFzaXMsdGhpcyl9LGkucHJvdG90eXBlLm1pbj1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXJldHVybiB0aGlzLk5UWzBdfSxpLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5OVFt0aGlzLmxlbmd0aC0xXX0saS5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OVC5CYygpfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuTWsmJihlPXRoaXMuTlQuc2xpY2UoKSx0aGlzLlFBKFtdLGUsMCkpLHRoaXMubGVuZ3RoPTAsdGhpcy5OVC5jbGVhcigpLHRoaXMuTWsmJnRoaXMuR0EoW10sZSwwKX0saS5wcm90b3R5cGUuY3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5OVC5jcyhlLHQpfSxpLnByb3RvdHlwZS5PYz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLk5ULk9jKGUsdCl9LGkucHJvdG90eXBlLkhjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB0aGlzLkl0ZXJhdG9yKHRoaXMuTlQsZSx0KX0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpfSxpLnByb3RvdHlwZS5JdGVyYXRvcj1BcnJheS5wcm90b3R5cGUuSXRlcmF0b3J9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODQpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShuLlR4KTt0Lm9NPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODUpLHM9cig0KSxvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuYng9ZnVuY3Rpb24oZSx0KXtpZihET01QYXJzZXIpe3ZhciByPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpLGk9ci5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkxvY2F0aW9uXCIpLG49XCJcIjtpZihpJiZpLmxlbmd0aD4wJiZpWzBdLmNoaWxkTm9kZXMubGVuZ3RoPjApe3ZhciBzPWlbMF0uY2hpbGROb2Rlc1swXTtuPXRoaXMuSXgocy5kYXRhKX1lbHNlIG49dGhpcy5JeChlKTt0aGlzLm1hbmlmZXN0PXRoaXMubXgucGFyc2UodCxuKX19LHQucHJvdG90eXBlLlV4PWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cigwLGUubGFzdEluZGV4T2YoXCJfY3NcIikpfSx0LnByb3RvdHlwZS5DTT1mdW5jdGlvbihlKXtyZXR1cm4gcy5yZXNvbHZlKCExKX0sdH0obi4keCk7dC5oTT1vfSxmdW5jdGlvbihlLHQscil7LyohXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cbnZhciBpPXIoMTQ1KSxuPXIoODYpO0Rhc2hQYXJzZXI9ZnVuY3Rpb24oKXt2YXIgZT0vXihbLV0pP1AoKFtcXGQuXSopWSk/KChbXFxkLl0qKU0pPygoW1xcZC5dKilEKT9UPygoW1xcZC5dKilIKT8oKFtcXGQuXSopTSk/KChbXFxkLl0qKVMpPy8sdD0vXihbMC05XXs0fSktKFswLTldezJ9KS0oWzAtOV17Mn0pVChbMC05XXsyfSk6KFswLTldezJ9KSg/OjooWzAtOV0qKShcXC5bMC05XSopPyk/KD86KFsrLV0pKFswLTldezJ9KShbMC05XXsyfSkpPy8scj0vXlstK10/WzAtOV0rWy5dP1swLTldKihbZUVdWy0rXT9bMC05XSspPyQvLHM9W3t0eXBlOlwiZHVyYXRpb25cIix0ZXN0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXCJtaW5CdWZmZXJUaW1lXCIsXCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uXCIsXCJtaW5pbXVtVXBkYXRlUGVyaW9kXCIsXCJ0aW1lU2hpZnRCdWZmZXJEZXB0aFwiLFwibWF4U2VnbWVudER1cmF0aW9uXCIsXCJtYXhTdWJzZWdtZW50RHVyYXRpb25cIixcInN1Z2dlc3RlZFByZXNlbnRhdGlvbkRlbGF5XCIsXCJzdGFydFwiLFwic3RhcnR0aW1lXCIsXCJkdXJhdGlvblwiXSxpPXIubGVuZ3RoLG49MDtuPGk7bisrKWlmKHQubm9kZU5hbWU9PT1yW25dKXJldHVybiBlLnRlc3QodC52YWx1ZSk7cmV0dXJuITF9LHRxOmZ1bmN0aW9uKHQpe3ZhciByPWUuZXhlYyh0KSxpPTMxNTM2ZTMqcGFyc2VGbG9hdChyWzJdfHwwKSsyNTkyZTMqcGFyc2VGbG9hdChyWzRdfHwwKSs4NjQwMCpwYXJzZUZsb2F0KHJbNl18fDApKzM2MDAqcGFyc2VGbG9hdChyWzhdfHwwKSs2MCpwYXJzZUZsb2F0KHJbMTBdfHwwKStwYXJzZUZsb2F0KHJbMTJdfHwwKTtyZXR1cm4gdm9pZCAwIT09clsxXSYmKGk9LWkpLGl9fSx7dHlwZTpcImRhdGV0aW1lXCIsdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUudmFsdWUpfSx0cTpmdW5jdGlvbihlKXt2YXIgcixpPXQuZXhlYyhlKTtpZihyPURhdGUuVVRDKHBhcnNlSW50KGlbMV0sMTApLHBhcnNlSW50KGlbMl0sMTApLTEscGFyc2VJbnQoaVszXSwxMCkscGFyc2VJbnQoaVs0XSwxMCkscGFyc2VJbnQoaVs1XSwxMCksaVs2XSYmcGFyc2VJbnQoaVs2XSwxMCl8fDAsaVs3XSYmMWUzKnBhcnNlRmxvYXQoaVs3XSl8fDApLGlbOV0mJmlbMTBdKXt2YXIgbj02MCpwYXJzZUludChpWzldLDEwKStwYXJzZUludChpWzEwXSwxMCk7cis9KFwiK1wiPT09aVs4XT8tMToxKSpuKjYwKjFlM31yZXR1cm4gbmV3IERhdGUocil9fSx7dHlwZTpcIm51bWVyaWNcIix0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZS52YWx1ZSl9LHRxOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUZsb2F0KGUpfX1dLG89ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaTtyZXR1cm4gaT1be25hbWU6XCJwcm9maWxlc1wiLFB5OiExfSx7bmFtZTpcIndpZHRoXCIsUHk6ITF9LHtuYW1lOlwiaGVpZ2h0XCIsUHk6ITF9LHtuYW1lOlwic2FyXCIsUHk6ITF9LHtuYW1lOlwiZnJhbWVSYXRlXCIsUHk6ITF9LHtuYW1lOlwiYXVkaW9TYW1wbGluZ1JhdGVcIixQeTohMX0se25hbWU6XCJtaW1lVHlwZVwiLFB5OiExfSx7bmFtZTpcInNlZ21lbnRQcm9maWxlc1wiLFB5OiExfSx7bmFtZTpcImNvZGVjc1wiLFB5OiExfSx7bmFtZTpcIm1heGltdW1TQVBQZXJpb2RcIixQeTohMX0se25hbWU6XCJzdGFydHNXaXRoU2FwXCIsUHk6ITF9LHtuYW1lOlwibWF4UGxheW91dFJhdGVcIixQeTohMX0se25hbWU6XCJjb2RpbmdEZXBlbmRlbmN5XCIsUHk6ITF9LHtuYW1lOlwic2NhblR5cGVcIixQeTohMX0se25hbWU6XCJGcmFtZVBhY2tpbmdcIixQeTohMH0se25hbWU6XCJBdWRpb0NoYW5uZWxDb25maWd1cmF0aW9uXCIsUHk6ITB9LHtuYW1lOlwiQ29udGVudFByb3RlY3Rpb25cIixQeTohMH1dLGU9e30sZS5uYW1lPVwiQWRhcHRhdGlvblNldFwiLGUud1o9ITEsZS5pc0FycmF5PSEwLGUucGFyZW50PW51bGwsZS5jaGlsZHJlbj1bXSxlLnByb3BlcnRpZXM9aSx0PXt9LHQubmFtZT1cIlJlcHJlc2VudGF0aW9uXCIsdC53Wj0hMSx0LmlzQXJyYXk9ITAsdC5wYXJlbnQ9ZSx0LmNoaWxkcmVuPVtdLHQucHJvcGVydGllcz1pLGUuY2hpbGRyZW4ucHVzaCh0KSxyPXt9LHIubmFtZT1cIlN1YlJlcHJlc2VudGF0aW9uXCIsci53Wj0hMSxyLmlzQXJyYXk9ITAsci5wYXJlbnQ9dCxyLmNoaWxkcmVuPVtdLHIucHJvcGVydGllcz1pLHQuY2hpbGRyZW4ucHVzaChyKSxlfSxhPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGk7cmV0dXJuIGk9W3tuYW1lOlwiU2VnbWVudEJhc2VcIixQeTohMH0se25hbWU6XCJTZWdtZW50VGVtcGxhdGVcIixQeTohMH0se25hbWU6XCJTZWdtZW50TGlzdFwiLFB5OiEwfV0sZT17fSxlLm5hbWU9XCJQZXJpb2RcIixlLndaPSExLGUuaXNBcnJheT0hMCxlLnBhcmVudD1udWxsLGUuY2hpbGRyZW49W10sZS5wcm9wZXJ0aWVzPWksdD17fSx0Lm5hbWU9XCJBZGFwdGF0aW9uU2V0XCIsdC53Wj0hMSx0LmlzQXJyYXk9ITAsdC5wYXJlbnQ9ZSx0LmNoaWxkcmVuPVtdLHQucHJvcGVydGllcz1pLGUuY2hpbGRyZW4ucHVzaCh0KSxyPXt9LHIubmFtZT1cIlJlcHJlc2VudGF0aW9uXCIsci53Wj0hMSxyLmlzQXJyYXk9ITAsci5wYXJlbnQ9dCxyLmNoaWxkcmVuPVtdLHIucHJvcGVydGllcz1pLHQuY2hpbGRyZW4ucHVzaChyKSxlfSxoPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGksbjtyZXR1cm4gbj1be25hbWU6XCJCYXNlVVJMXCIsUHk6ITAsYlo6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihcImh0dHA6Ly9cIik/dDplK3R9fV0sZT17fSxlLm5hbWU9XCJtcGRcIixlLndaPSEwLGUuaXNBcnJheT0hMCxlLnBhcmVudD1udWxsLGUuY2hpbGRyZW49W10sZS5wcm9wZXJ0aWVzPW4sdD17fSx0Lm5hbWU9XCJQZXJpb2RcIix0LndaPSExLHQuaXNBcnJheT0hMCx0LnBhcmVudD1udWxsLHQuY2hpbGRyZW49W10sdC5wcm9wZXJ0aWVzPW4sZS5jaGlsZHJlbi5wdXNoKHQpLHI9e30sci5uYW1lPVwiQWRhcHRhdGlvblNldFwiLHIud1o9ITEsci5pc0FycmF5PSEwLHIucGFyZW50PXQsci5jaGlsZHJlbj1bXSxyLnByb3BlcnRpZXM9bix0LmNoaWxkcmVuLnB1c2gociksaT17fSxpLm5hbWU9XCJSZXByZXNlbnRhdGlvblwiLGkud1o9ITEsaS5pc0FycmF5PSEwLGkucGFyZW50PXIsaS5jaGlsZHJlbj1bXSxpLnByb3BlcnRpZXM9bixyLmNoaWxkcmVuLnB1c2goaSksZX0sYz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2gobygpKSxlLnB1c2goYSgpKSxlLnB1c2goaCgpKSxlfTtyZXR1cm57cGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixvPW5ldyBuKHMsXCJcIiwhMCksYT1uZXcgaShjKCkpO25ldyBEYXRlO3RyeXtyPW8uV3goZSksbmV3IERhdGUsci5oYXNPd25Qcm9wZXJ0eShcIkJhc2VVUkxcIik/KHIuQmFzZVVSTD1yLkNaWzBdLDAhPT1yLkJhc2VVUkwudG9TdHJpbmcoKS5pbmRleE9mKFwiaHR0cFwiKSYmKHIuQmFzZVVSTD10K3IuQmFzZVVSTCkpOnIuQmFzZVVSTD10LHIuaGFzT3duUHJvcGVydHkoXCJMb2NhdGlvblwiKSYmKHIuTG9jYXRpb249ci5Mb2NhdGlvbl9hc0FycmF5WzBdKSxhLl9aKHIpLG5ldyBEYXRlfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmxvZyhcInBhcnNpbmcgdGhlIG1hbmlmZXN0IGZhaWxlZFwiLFwicGFyc2VcIixlKSxudWxsfXJldHVybiByfX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQ9W10saT0wLGxlbj1lLmxlbmd0aDtpPGxlbjtpKz0xKWVbaV0ud1o/dC5wdXNoKFwicm9vdFwiKTp0LnB1c2goZVtpXS5uYW1lKTt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciByO2lmKG51bGwhPT1lJiZudWxsIT09dClmb3IociBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0Lmhhc093blByb3BlcnR5KHIpfHwodFtyXT1lW3JdKSl9LG49ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHMsbyxhLGg7aWYobnVsbCE9PWUmJjAhPT1lLmxlbmd0aClmb3Iobj0wLHM9ZS5sZW5ndGg7bjxzO24rPTEpbz1lW25dLHQuaGFzT3duUHJvcGVydHkoby5uYW1lKSYmKGkuaGFzT3duUHJvcGVydHkoby5uYW1lKT9vLlB5JiYoYT10W28ubmFtZV0saD1pW28ubmFtZV0sXCJvYmplY3RcIj09dHlwZW9mIGEmJlwib2JqZWN0XCI9PXR5cGVvZiBoP3IoYSxoKTpudWxsIT1vLmJaP2lbby5uYW1lXT1vLmJaKGEsaCk6aVtvLm5hbWVdPWEraCk6aVtvLm5hbWVdPXRbby5uYW1lXSl9LHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sYSxoLGMsdSxsPWU7aWYobnVsbCE9PWwuY2hpbGRyZW4mJjAhPT1sLmNoaWxkcmVuLmxlbmd0aClmb3Iocj0wLGk9bC5jaGlsZHJlbi5sZW5ndGg7cjxpO3IrPTEpaWYoYz1sLmNoaWxkcmVuW3JdLHQuaGFzT3duUHJvcGVydHkoYy5uYW1lKSlpZihjLmlzQXJyYXkpZm9yKGg9dFtjLm5hbWUrXCJfYXNBcnJheVwiXSxvPTAsYT1oLmxlbmd0aDtvPGE7bys9MSl1PWhbb10sbihsLnByb3BlcnRpZXMsdCx1KSxzKGMsdSk7ZWxzZSB1PXRbYy5uYW1lXSxuKGwucHJvcGVydGllcyx0LHUpLHMoYyx1KX0sbz1mdW5jdGlvbihyKXt2YXIgaSxuLGEsaCxjLHUsbDtpZihudWxsPT09cilyZXR1cm4gcjtpZihcIm9iamVjdFwiIT10eXBlb2YgcilyZXR1cm4gcjtmb3IoaT0wLG49dC5sZW5ndGg7aTxuO2krPTEpXCJyb290XCI9PT10W2ldJiYoYz1lW2ldLHU9cixzKGMsdSkpO2ZvcihoIGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eShoKSl7aWYoLTEhPT0oYT10LmluZGV4T2YoaCkpKWlmKGM9ZVthXSxjLmlzQXJyYXkpZm9yKGw9cltoK1wiX2FzQXJyYXlcIl0saT0wLG49bC5sZW5ndGg7aTxuO2krPTEpdT1sW2ldLHMoYyx1KTtlbHNlIHU9cltoXSxzKGMsdSk7byhyW2hdKX1yZXR1cm4gcn07cmV0dXJue19aOm99fTtlLmk9bn0sZnVuY3Rpb24oZSx0LHIpey8qISBjb2RlbS1pc29ib3hlciB2MC4yLjIgaHR0cHM6Ly9naXRodWIuY29tL21hZGVieWhpcm8vY29kZW0taXNvYm94ZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblwidW5kZWZpbmVkXCI9PXR5cGVvZiBJU09Cb3hlciYmKElTT0JveGVyPXt9KSxJU09Cb3hlci5ReD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZSkucGFyc2UoKX0sSVNPQm94ZXIucmM9e30sSVNPQm94ZXIucmMuUFo9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxcInV0Zi04XCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyKXJldHVybiBuZXcgVGV4dERlY29kZXIocikuZGVjb2RlKGUpO3ZhciBpPVtdLG49MDtpZihcInV0Zi04XCI9PT1yKWZvcig7bjxlLmJ5dGVMZW5ndGg7KXt2YXIgcz1lLmdldFVpbnQ4KG4rKyk7czwxMjh8fChzPDIyND8ocz0oMzEmcyk8PDYsc3w9NjMmZS5nZXRVaW50OChuKyspKTpzPDI0MD8ocz0oMTUmcyk8PDEyLHN8PSg2MyZlLmdldFVpbnQ4KG4rKykpPDw2LHN8PTYzJmUuZ2V0VWludDgobisrKSk6KHM9KDcmcyk8PDE4LHN8PSg2MyZlLmdldFVpbnQ4KG4rKykpPDwxMixzfD0oNjMmZS5nZXRVaW50OChuKyspKTw8NixzfD02MyZlLmdldFVpbnQ4KG4rKykpKSxpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9ZWxzZSBmb3IoO248ZS5ieXRlTGVuZ3RoOylpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShlLmdldFVpbnQ4KG4rKykpKTtyZXR1cm4gaS5qb2luKFwiXCIpfSx0LlF4PUlTT0JveGVyLlF4LHQucmM9SVNPQm94ZXIucmMsSVNPQm94ZXIuQVo9ZnVuY3Rpb24oZSl7dGhpcy5vZmZzZXQ9dm9pZCAwPT09ZT8wOmV9O3ZhciBpPWZ1bmN0aW9uKGUpe3RoaXMuT1o9bmV3IERhdGFWaWV3KGUpLHRoaXMuTlo9bmV3IElTT0JveGVyLkFaLHRoaXMuRFo9W119O2kucHJvdG90eXBlLmZldGNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMua1ooZSwhMCk7cmV0dXJuIHQubGVuZ3RoP3RbMF06bnVsbH0saS5wcm90b3R5cGUua1o9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gaS5MWi5jYWxsKHRoaXMsZSxyLHQpLHJ9LGkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuTloub2Zmc2V0PTAsdGhpcy5EWj1bXTt0aGlzLk5aLm9mZnNldDx0aGlzLk9aLmJ5dGVMZW5ndGg7KXt2YXIgZT1uLnBhcnNlKHRoaXMpO2lmKHZvaWQgMD09PWUudHlwZSlicmVhazt0aGlzLkRaLnB1c2goZSl9cmV0dXJuIHRoaXN9LGkuTFo9ZnVuY3Rpb24oZSx0LHIpe3RoaXMudHlwZSYmdGhpcy50eXBlPT1lJiZ0LnB1c2godGhpcyk7Zm9yKHZhciBuIGluIHRoaXMuRFope2lmKHQubGVuZ3RoJiZyKXJldHVybjtpLkxaLmNhbGwodGhpcy5EWltuXSxlLHQscil9fTt2YXIgbj1mdW5jdGlvbigpe3RoaXMuTlo9bmV3IElTT0JveGVyLkFafTtuLnBhcnNlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBuO3JldHVybiB0Lk1aPWUuTloub2Zmc2V0LHQuRlo9ZS5GWj9lLkZaOmUsdC5PWj1lLk9aLHQuVVo9ZSx0LkJaKCksZS5OWi5vZmZzZXQ9dC5PWi5ieXRlT2Zmc2V0K3QuT1ouYnl0ZUxlbmd0aCx0fSxuLnByb3RvdHlwZS5IWj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3N3aXRjaChlKXtjYXNlIDg6dD10aGlzLk9aLmdldEludDgodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDE2OnQ9dGhpcy5PWi5nZXRJbnQxNih0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgMzI6dD10aGlzLk9aLmdldEludDMyKHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSA2NDp2YXIgcj10aGlzLk9aLmdldEludDMyKHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCksaT10aGlzLk9aLmdldEludDMyKHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCs0KTt0PXIqTWF0aC5wb3coMiwzMikraX1yZXR1cm4gdGhpcy5OWi5vZmZzZXQrPWU+PjMsdH0sbi5wcm90b3R5cGUueFo9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtzd2l0Y2goZSl7Y2FzZSA4OnQ9dGhpcy5PWi5nZXRVaW50OCh0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgMTY6dD10aGlzLk9aLmdldFVpbnQxNih0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgMjQ6dmFyIHI9dGhpcy5PWi5nZXRVaW50MTYodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KSxpPXRoaXMuT1ouZ2V0VWludDgodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KzIpO3Q9KHI8PDgpK2k7YnJlYWs7Y2FzZSAzMjp0PXRoaXMuT1ouZ2V0VWludDMyKHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSA2NDp2YXIgcj10aGlzLk9aLmdldFVpbnQzMih0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpLGk9dGhpcy5PWi5nZXRVaW50MzIodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KzQpO3Q9cipNYXRoLnBvdygyLDMyKStpfXJldHVybiB0aGlzLk5aLm9mZnNldCs9ZT4+Myx0fSxuLnByb3RvdHlwZS5xWj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlO3IrKyl7dmFyIGk9dGhpcy54Wig4KTt0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpfXJldHVybiB0fSxuLnByb3RvdHlwZS5HWj1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiOzspe3ZhciB0PXRoaXMueFooOCk7aWYoMD09dClicmVhaztlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpfXJldHVybiBlfSxuLnByb3RvdHlwZS5WWj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54WihlLzIpK3RoaXMueFooZS8yKS9NYXRoLnBvdygyLGUvMil9LG4ucHJvdG90eXBlLkJaPWZ1bmN0aW9uKCl7aWYodGhpcy5OWi5vZmZzZXQ9dGhpcy5NWix0aGlzLk1aKzg+dGhpcy5PWi5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gdm9pZCh0aGlzLkZaLmpaPSEwKTtzd2l0Y2godGhpcy5zaXplPXRoaXMueFooMzIpLHRoaXMudHlwZT10aGlzLnFaKDQpLDE9PXRoaXMuc2l6ZSYmKHRoaXMuUVo9dGhpcy54Wig2NCkpLFwidXVpZFwiPT10aGlzLnR5cGUmJih0aGlzLktaPXRoaXMucVooMTYpKSx0aGlzLnNpemUpe2Nhc2UgMDp0aGlzLk9aPW5ldyBEYXRhVmlldyh0aGlzLk9aLmJ1ZmZlcix0aGlzLk1aLHRoaXMuT1ouYnl0ZUxlbmd0aC10aGlzLk5aLm9mZnNldCk7YnJlYWs7Y2FzZSAxOnRoaXMuTVordGhpcy5zaXplPnRoaXMuT1ouYnVmZmVyLmJ5dGVMZW5ndGg/KHRoaXMualo9ITAsdGhpcy5GWi5qWj0hMCk6dGhpcy5PWj1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5NWix0aGlzLlFaKTticmVhaztkZWZhdWx0OnRoaXMuTVordGhpcy5zaXplPnRoaXMuT1ouYnVmZmVyLmJ5dGVMZW5ndGg/KHRoaXMualo9ITAsdGhpcy5GWi5qWj0hMCk6dGhpcy5PWj1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5NWix0aGlzLnNpemUpfSF0aGlzLmpaJiZ0aGlzLllaW3RoaXMudHlwZV0mJnRoaXMuWVpbdGhpcy50eXBlXS5jYWxsKHRoaXMpfSxuLnByb3RvdHlwZS5XWj1mdW5jdGlvbigpe3RoaXMudmVyc2lvbj10aGlzLnhaKDgpLHRoaXMuelo9dGhpcy54WigyNCl9LG4ucHJvdG90eXBlLllaPXt9LFtcIm1vb3ZcIixcInRyYWtcIixcInRyZWZcIixcIm1kaWFcIixcIm1pbmZcIixcInN0YmxcIixcImVkdHNcIixcImRpbmZcIixcIm12ZXhcIixcIm1vb2ZcIixcInRyYWZcIixcIm1mcmFcIixcInVkdGFcIixcIm1lY29cIixcInN0cmtcIixcInZ0dGNcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtuLnByb3RvdHlwZS5ZWltlXT1mdW5jdGlvbigpe2Zvcih0aGlzLkRaPVtdO3RoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldDx0aGlzLk9aLmJ5dGVMZW5ndGg7KXRoaXMuRFoucHVzaChuLnBhcnNlKHRoaXMpKX19KSxuLnByb3RvdHlwZS5ZWi5KWj1mdW5jdGlvbigpe3RoaXMuV1ooKSx0aGlzLlhaPXRoaXMueFooMzIpLHRoaXMuZW50cmllcz1bXTtmb3IodmFyIGU9MTtlPD10aGlzLlhaO2UrKyl7dmFyIHQ9e307MT09dGhpcy52ZXJzaW9uPyh0LlpaPXRoaXMueFooNjQpLHQuJFo9dGhpcy5IWig2NCkpOih0LlpaPXRoaXMueFooMzIpLHQuJFo9dGhpcy5IWigzMikpLHQuZSQ9dGhpcy5IWigxNiksdC50JD10aGlzLkhaKDE2KSx0aGlzLmVudHJpZXMucHVzaCh0KX19LG4ucHJvdG90eXBlLllaLnIkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuaSQ9dGhpcy5HWigpLHRoaXMudmFsdWU9dGhpcy5HWigpLHRoaXMudGltZXNjYWxlPXRoaXMueFooMzIpLHRoaXMubiQ9dGhpcy54WigzMiksdGhpcy5zJD10aGlzLnhaKDMyKSx0aGlzLmlkPXRoaXMueFooMzIpLHRoaXMubyQ9bmV3IERhdGFWaWV3KHRoaXMuT1ouYnVmZmVyLHRoaXMuTloub2Zmc2V0LHRoaXMuT1ouYnl0ZUxlbmd0aC0odGhpcy5OWi5vZmZzZXQtdGhpcy5NWikpfSxuLnByb3RvdHlwZS5ZWi5hJD1uLnByb3RvdHlwZS5ZWi5NYj1mdW5jdGlvbigpe3RoaXMuZGF0YT1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSl9LG4ucHJvdG90eXBlLllaLmgkPW4ucHJvdG90eXBlLllaLmMkPWZ1bmN0aW9uKCl7Zm9yKHRoaXMudSQ9dGhpcy5xWig0KSx0aGlzLmwkPXRoaXMueFooMzIpLHRoaXMucCQ9W107dGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0PHRoaXMuT1ouYnl0ZUxlbmd0aDspdGhpcy5wJC5wdXNoKHRoaXMucVooNCkpfSxuLnByb3RvdHlwZS5ZWi5kJD1mdW5jdGlvbigpe3RoaXMuV1ooKSx0aGlzLmYkPXRoaXMueFooMzIpLHRoaXMuZyQ9dGhpcy5xWig0KSx0aGlzLllSPVt0aGlzLnhaKDMyKSx0aGlzLnhaKDMyKSx0aGlzLnhaKDMyKV0sdGhpcy5uYW1lPXRoaXMuR1ooKX0sbi5wcm90b3R5cGUuWVouRSQ9ZnVuY3Rpb24oKXt0aGlzLmRhdGE9bmV3IERhdGFWaWV3KHRoaXMuT1ouYnVmZmVyLHRoaXMuTloub2Zmc2V0LHRoaXMuT1ouYnl0ZUxlbmd0aC0odGhpcy5OWi5vZmZzZXQtdGhpcy5NWikpfSxuLnByb3RvdHlwZS5ZWi52JD1mdW5jdGlvbigpe3RoaXMuV1ooKSwxPT10aGlzLnZlcnNpb24/KHRoaXMueSQ9dGhpcy54Wig2NCksdGhpcy5UJD10aGlzLnhaKDY0KSx0aGlzLnRpbWVzY2FsZT10aGlzLnhaKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMueFooNjQpKToodGhpcy55JD10aGlzLnhaKDMyKSx0aGlzLlQkPXRoaXMueFooMzIpLHRoaXMudGltZXNjYWxlPXRoaXMueFooMzIpLHRoaXMuZHVyYXRpb249dGhpcy54WigzMikpO3ZhciBlPXRoaXMueFooMTYpO3RoaXMucGFkPWU+PjE1LHRoaXMubGFuZ3VhZ2U9U3RyaW5nLmZyb21DaGFyQ29kZSg5NisoZT4+MTAmMzEpLDk2KyhlPj41JjMxKSw5NisoMzEmZSkpLHRoaXMuZiQ9dGhpcy54WigxNil9LG4ucHJvdG90eXBlLllaLm0kPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuSSQ9dGhpcy54WigzMil9LG4ucHJvdG90eXBlLllaLlMkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLDE9PXRoaXMudmVyc2lvbj8odGhpcy55JD10aGlzLnhaKDY0KSx0aGlzLlQkPXRoaXMueFooNjQpLHRoaXMudGltZXNjYWxlPXRoaXMueFooMzIpLHRoaXMuZHVyYXRpb249dGhpcy54Wig2NCkpOih0aGlzLnkkPXRoaXMueFooMzIpLHRoaXMuVCQ9dGhpcy54WigzMiksdGhpcy50aW1lc2NhbGU9dGhpcy54WigzMiksdGhpcy5kdXJhdGlvbj10aGlzLnhaKDMyKSksdGhpcy5yYXRlPXRoaXMuVlooMzIpLHRoaXMudm9sdW1lPXRoaXMuVlooMTYpLHRoaXMuUiQ9dGhpcy54WigxNiksdGhpcy53JD1bdGhpcy54WigzMiksdGhpcy54WigzMildLHRoaXMubWF0cml4PVtdO2Zvcih2YXIgZT0wO2U8OTtlKyspdGhpcy5tYXRyaXgucHVzaCh0aGlzLlZaKDMyKSk7dGhpcy5mJD1bXTtmb3IodmFyIGU9MDtlPDY7ZSsrKXRoaXMuZiQucHVzaCh0aGlzLnhaKDMyKSk7dGhpcy5iJD10aGlzLnhaKDMyKX0sbi5wcm90b3R5cGUuWVouQyQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSk7dGhpcy5fJD1JU09Cb3hlci5yYy5QWihlKX0sbi5wcm90b3R5cGUuWVouUCQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksdGhpcy5BJD10aGlzLnhaKDMyKSx0aGlzLnRpbWVzY2FsZT10aGlzLnhaKDMyKSwwPT10aGlzLnZlcnNpb24/KHRoaXMuTyQ9dGhpcy54WigzMiksdGhpcy5OJD10aGlzLnhaKDMyKSk6KHRoaXMuTyQ9dGhpcy54Wig2NCksdGhpcy5OJD10aGlzLnhaKDY0KSksdGhpcy5ZUj10aGlzLnhaKDE2KSx0aGlzLkQkPXRoaXMueFooMTYpLHRoaXMuayQ9W107Zm9yKHZhciBlPTA7ZTx0aGlzLkQkO2UrKyl7dmFyIHQ9e30scj10aGlzLnhaKDMyKTt0LkwkPXI+PjMxJjEsdC5NJD0yMTQ3NDgzNjQ3JnIsdC5GJD10aGlzLnhaKDMyKTt2YXIgaT10aGlzLnhaKDMyKTt0LlUkPWk+PjMxJjEsdC5CJD1pPj4yOCY3LHQuSCQ9MjY4NDM1NDU1JmksdGhpcy5rJC5wdXNoKHQpfX0sbi5wcm90b3R5cGUuWVoueCQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksdGhpcy5xJD10aGlzLnhaKDMyKSx0aGlzLkckPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5xJDtlKyspe3ZhciB0PXt9O3QuViQ9dGhpcy54WigzMiksdC5qJD1bXTtmb3IodmFyIHI9MDtyPHQuViQ7cisrKXt2YXIgaT17fTtpLmxldmVsPXRoaXMueFooOCksaS5RJD10aGlzLnhaKDI0KSx0LmokLnB1c2goaSl9dGhpcy5HJC5wdXNoKHQpfX0sbi5wcm90b3R5cGUuWVouSyQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksMT09dGhpcy52ZXJzaW9uP3RoaXMuWSQ9dGhpcy54Wig2NCk6dGhpcy5ZJD10aGlzLnhaKDMyKX0sbi5wcm90b3R5cGUuWVoudGZoZD1mdW5jdGlvbigpe3RoaXMuV1ooKSx0aGlzLlckPXRoaXMueFooMzIpLDEmdGhpcy56WiYmKHRoaXMueiQ9dGhpcy54Wig2NCkpLDImdGhpcy56WiYmKHRoaXMuSiQ9dGhpcy54WigzMikpLDgmdGhpcy56WiYmKHRoaXMuZGVmYXVsdF9zYW1wbGVfZHVyYXRpb249dGhpcy54WigzMikpLDE2JnRoaXMuelomJih0aGlzLlgkPXRoaXMueFooMzIpKSwzMiZ0aGlzLnpaJiYodGhpcy5aJD10aGlzLnhaKDMyKSl9LG4ucHJvdG90eXBlLllaLiQkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLDE9PXRoaXMudmVyc2lvbj8odGhpcy55JD10aGlzLnhaKDY0KSx0aGlzLlQkPXRoaXMueFooNjQpLHRoaXMuVyQ9dGhpcy54WigzMiksdGhpcy5SJD10aGlzLnhaKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMueFooNjQpKToodGhpcy55JD10aGlzLnhaKDMyKSx0aGlzLlQkPXRoaXMueFooMzIpLHRoaXMuVyQ9dGhpcy54WigzMiksdGhpcy5SJD10aGlzLnhaKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMueFooMzIpKSx0aGlzLnckPVt0aGlzLnhaKDMyKSx0aGlzLnhaKDMyKV0sdGhpcy5lMD10aGlzLnhaKDE2KSx0aGlzLnQwPXRoaXMueFooMTYpLHRoaXMudm9sdW1lPXRoaXMuVlooMTYpLHRoaXMucjA9dGhpcy54WigxNiksdGhpcy5tYXRyaXg9W107Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLm1hdHJpeC5wdXNoKHRoaXMuVlooMzIpKTt0aGlzLndpZHRoPXRoaXMueFooMzIpLHRoaXMuaGVpZ2h0PXRoaXMueFooMzIpfSxuLnByb3RvdHlwZS5ZWi50cnVuPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuaTA9dGhpcy54WigzMiksMSZ0aGlzLnpaJiYodGhpcy5uMD10aGlzLkhaKDMyKSksNCZ0aGlzLnpaJiYodGhpcy5zMD10aGlzLnhaKDMyKSksdGhpcy5LeD1bXTtmb3IodmFyIGU9MDtlPHRoaXMuaTA7ZSsrKXt2YXIgdD17fTsyNTYmdGhpcy56WiYmKHQuc2FtcGxlX2R1cmF0aW9uPXRoaXMueFooMzIpKSw1MTImdGhpcy56WiYmKHQubzA9dGhpcy54WigzMikpLDEwMjQmdGhpcy56WiYmKHQuYTA9dGhpcy54WigzMikpLDIwNDgmdGhpcy56WiYmKDA9PXRoaXMudmVyc2lvbj90LmgwPXRoaXMueFooMzIpOnQuaDA9dGhpcy5IWigzMikpLHRoaXMuS3gucHVzaCh0KX19LG4ucHJvdG90eXBlLllaLmMwPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGFWaWV3KHRoaXMuT1ouYnVmZmVyLHRoaXMuTloub2Zmc2V0LHRoaXMuT1ouYnl0ZUxlbmd0aC0odGhpcy5OWi5vZmZzZXQtdGhpcy5NWikpO3RoaXMudTA9SVNPQm94ZXIucmMuUFooZSl9LG4ucHJvdG90eXBlLllaLmwwPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGFWaWV3KHRoaXMuT1ouYnVmZmVyLHRoaXMuTloub2Zmc2V0LHRoaXMuT1ouYnl0ZUxlbmd0aC0odGhpcy5OWi5vZmZzZXQtdGhpcy5NWikpO3RoaXMuY29uZmlnPUlTT0JveGVyLnJjLlBaKGUpfSxuLnByb3RvdHlwZS5ZWi5wMD1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5feD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMCkscz1yKDEpLG89cigyKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubmFtZT1lLHRoaXMuaXY9dH1yZXR1cm4gZX0oKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5sb2dnZXJJZD1cIltEQVNIIEFFUyBNYW5hZ2VyXSBcIix0aGlzLmQwPVwiQUVTLUNCQ1wiLHRoaXMubGw9ITEsdGhpcy5sb2dnZXI9bi5GcmFtZXdvcmsmJm4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKT9uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuUikubG9nKCk6Y29uc29sZSx0aGlzLmYwPWUsdGhpcy5nMD10LHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTdGFydGluZyBEYXNoIEFFUyBNYW5hZ2VyXCIpLHImJih0aGlzLkUwPXIpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7dGhpcy52MCgpO3ZhciB0PWkuZGVmZXIoKTt0aGlzLnkwKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnJlc29sdmUoITApfSkuZmFpbChmdW5jdGlvbihyKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGtleVwiLGUubG9nZ2VySWQsby5ocy5Vci5EcixyKSx0LnJlc29sdmUoITEpfSksdGhpcy5UMD10LlNzfWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgQUVTIE1hbmFnZXJcIix0aGlzLmxvZ2dlcklkLG8uaHMuVXIuTnIsZSl9fSxlLnByb3RvdHlwZS5OTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlQwP3RoaXMuVDA6aS5yZXNvbHZlKCExKX0sZS5wcm90b3R5cGUueTA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMubTApcmV0dXJuIHRoaXMubTA7dmFyIHQ9aS5kZWZlcigpO3JldHVybiB0aGlzLkkwKCkudGhlbihmdW5jdGlvbihyKXt3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixyLHtuYW1lOmUuZDB9LCExLFtcImRlY3J5cHRcIl0pLnRoZW4oZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChcImVycm9yIGltcG9ydGluZyBrZXk6IFwiK2UudG9TdHJpbmcoKSl9KX0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVqZWN0KGUpfSksdGhpcy5tMD10LlNzLHRoaXMubTB9LGUucHJvdG90eXBlLnYwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTIsdD10aGlzLmcwLmxlbmd0aCxyPVtdO2U8dDtlKz0yKXIucHVzaChwYXJzZUludCh0aGlzLmcwLnN1YnN0cihlLDIpLDE2KSk7dGhpcy5pdj1uZXcgVWludDhBcnJheShyKX0sZS5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9aS5kZWZlcigpLG49bmV3IGEodGhpcy5kMCx0aGlzLml2KTtyZXR1cm4gdGhpcy5tMC50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZWNyeXB0KG4sdCxlKS50aGVuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGRlY3J5cHRpbmcgYXJyYXlidWZmZXJcIix0LmxvZ2dlcklkLG8uaHMuVXIuTHIsZSksdC5sbD0hMCx0LlQwPWkucmVzb2x2ZSghMSksci5yZWplY3QoZSl9KSxyLlNzfSxlLnByb3RvdHlwZS5JMD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCkscj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixyLm9wZW4oXCJHRVRcIix0aGlzLmYwKSx0aGlzLkUwJiZyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsdGhpcy5FMCksci5vbmxvYWQ9ZnVuY3Rpb24oKXtpZigyMDA9PT1yLnN0YXR1cyl7dmFyIGk9bmV3IFVpbnQ4QXJyYXkoci5yZXNwb25zZSk7dC5yZXNvbHZlKGkpfWVsc2Ugcy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGRvd25sb2FkaW5nIGtleVwiLGUubG9nZ2VySWQsby5ocy5Vci5NcixyLnN0YXR1cyksdC5yZWplY3QoXCJlcnJvciBkb3dubG9hZGluZyBrZXkgLSBzdGF0dXM6IFwiK3Iuc3RhdHVzKX0sci5vbmVycm9yPWZ1bmN0aW9uKCl7cy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGRvd25sb2FkaW5nIGtleVwiLGUubG9nZ2VyLG8uaHMuVXIuRnIpLHQucmVqZWN0KFwiZXJyb3IgZG93bmxvYWRpbmcga2V5XCIpfSxyLnNlbmQoKSx0LlNzfSxlLnByb3RvdHlwZS54eD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxsfSxlfSgpO3QucXg9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLk5NPWZ1bmN0aW9uKCl7cmV0dXJuIGkucmVzb2x2ZSghMSl9LGUucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkucmVqZWN0KFwidW5zdXBwb3J0ZWRcIil9LGUucHJvdG90eXBlLnh4PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGV9KCk7dC5HeD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDg1KSxzPXIoNjEpLG89cig1NyksYT1yKDQpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5ieD1mdW5jdGlvbihlLHQpe3RoaXMubWFuaWZlc3Q9dGhpcy5teC5wYXJzZSh0LHRoaXMuSXgoZSkpfSx0LnByb3RvdHlwZS5VeD1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cigwLGUubGFzdEluZGV4T2YoXCI9XCIpKTtyZXR1cm4gdD10LnN1YnN0cigwLHQubGFzdEluZGV4T2YoXCI9XCIpKX0sdC5wcm90b3R5cGUuQ009ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKSxpPXRoaXMuZ00oZS5lZygpKTtpZighaXx8aS5uZXh0KXJldHVybiByLnJlc29sdmUoITEpLHIuU3M7dmFyIGg9YS5kZWZlcigpO2lmKHRoaXMuT00pby5EQVNILlhMP3RoaXMuT00uTk0oKS50aGVuKGZ1bmN0aW9uKHIpe3I/dC5PTS5kZWNyeXB0KGUuamYpLnRoZW4oZnVuY3Rpb24oZSl7aC5yZXNvbHZlKHQuangoZSkpfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gaC5yZWplY3QoITApfSk6aC5yZWplY3QoITEpfSk6aC5yZWplY3QoITEpO2Vsc2UgdHJ5e3ZhciBjPXRoaXMuangoZS5qZik7aC5yZXNvbHZlKGMpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oXCJlcnJvciBleHRyYWN0aW5nIGR1cmF0aW9uXCIsZSksaC5yZWplY3QoITApfXJldHVybiBoLlNzLnRoZW4oZnVuY3Rpb24oZSl7aWYoIWlzTmFOKGUpKXt2YXIgbz1pLmlkK2U7dC5sb2dnZXIuZGVidWcoXCJmb3VuZCBuZXh0IGZyYWdtZW50OiBcIitpLmlkK1wiIC0+IFwiK28rXCIgZHVyYXRpb246IFwiK2UpLHQuU3guZm9yRWFjaChmdW5jdGlvbih0LHIpe2lmKHQudHlwZT09PWkudHlwZSl7dmFyIGE9dC5OeC5yZXBsYWNlKG4uJHguSHgsaS5pZCtcIlwiKSxoPXQuTngucmVwbGFjZShuLiR4Lkh4LG8rXCJcIiksYz10Lmt4LmdldChhKTtpZighdC5reC5oYXMoaCkmJmMpe2MuZHVyYXRpb249ZTt2YXIgdT1uZXcgcy5ERihvLHQuYmFuZHdpZHRoLGUsaCxoKTt1LnR5cGU9Yy50eXBlLGMubmV4dD11LHQua3guc2V0KGgsdSksdC5NeC5zZXQobyx1KX19fSl9ci5yZXNvbHZlKCExKX0pLmZhaWwoZnVuY3Rpb24oaSl7dC5sb2dnZXIuZGVidWcoXCJjb3VsZCBub3QgZXh0cmFjdCBkdXJhdGlvbiBmcm9tIFwiK2UuZWcoKStcIiBbcmVldmFsdWF0ZTogXCIraStcIl1cIiksci5yZXNvbHZlKGkpfSksci5Tc30sdH0obi4keCk7dC5jTT1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxKSxuPXIoMTUyKSxzPXIoMyksbz1yKDE1MyksYT1yKDYxKSxoPXIoMCksYz1yKDcpLHU9cig4NyksbD1yKDIpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltITFMgTUVUQURBVEFdIFwiLHRoaXMuQXE9bmV3IHMsdGhpcy5TMD1udWxsLHRoaXMubG9nZ2VyPShoLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLlYuUil8fGNvbnNvbGUpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj1uZXcgbi5SMDtpZihyLnB1c2godCksci5tYW5pZmVzdC5wbGF5bGlzdHMpdGhpcy53MChlLHIubWFuaWZlc3QpO2Vsc2V7dmFyIHM9dGhpcy5iMChlLHIubWFuaWZlc3QpO2lmKHMmJnMuQzAmJih0aGlzLmxpdmU9IXMuQzAuXzApLHRoaXMubGl2ZSl7dmFyIG89dGhpcy5QMChyLm1hbmlmZXN0LHQpO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkhMUyBtYW5pZmVzdCB0cmltbWVkIFwiK28uQTArXCIgc2VnbWVudHMgKFwiK28uQTArXCJzKSAtIG5ldyBzZWdtZW50czpbXCIrcy5PMC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQrXCI6XCIrZS5kdXJhdGlvbn0pK1wiXVwiKSxvLk4wfX1yZXR1cm4gdH1jYXRjaChyKXtyZXR1cm4gaS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBhcnNpbmcgbWV0YWRhdGFcIix0aGlzLmxvZ2dlcklkLGwuaHMueWkuV3Ise2RldGFpbGVkRXJyb3I6cix1cmw6ZX0pLHR9fSxlLnByb3RvdHlwZS5xTT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuT3EuaGFzKHQpKXtyZXR1cm4gdGhpcy5PcS5nZXQodCkuTXguZ2V0KGUpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5sTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFxLnZhbHVlcygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaXRyYXRlfSl9LGUucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpdmV9LGUucHJvdG90eXBlLmdNPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10aGlzLmt4P251bGw6dGhpcy5reC5nZXQoZSl9LGUucHJvdG90eXBlLnZNPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD10aGlzLmt4LmdldChlKTtpZih0KXt2YXIgcj10LmJpdHJhdGU7cmV0dXJuIHRoaXMuT3EuZ2V0KHIpLk14LmdldCh0LmlkKzEpfXJldHVybiBudWxsfWNhdGNoKHQpe3JldHVybiBpLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgbmV4dCBzZWdtZW50IGluZm9cIix0aGlzLmxvZ2dlcklkLGwuaHMueWkuWHIse2RldGFpbGVkRXJyb3I6dCx1cmw6ZX0pLG51bGx9fSxlLnByb3RvdHlwZS5fcT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5BcS5oYXMoZSl9LGUucHJvdG90eXBlLlBxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRDB9LGUucHJvdG90eXBlLncwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLkQwPWUsdGhpcy5rMD10LHRoaXMuQXE9bmV3IHMsdGhpcy5reD1uZXcgcyx0aGlzLk9xPW5ldyBzLHRoaXMuazAucGxheWxpc3RzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9Yy5yYy4kaChlLHQudXJpKSxuPXQuYXR0cmlidXRlcy5CQU5EV0lEVEgscz1uZXcgby5MMChuLHQudXJpLGkpO3IuQXEuc2V0KGkscyksci5PcS5zZXQobixzKX0pfSxlLnByb3RvdHlwZS5iMD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e3ZhciBuPXRoaXMuQXEuZ2V0KGUpO2lmKCFuKXJldHVybiB2b2lkIGkuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJQbGF5bGlzdCB1cmwgZG9lcyBub3QgbWF0Y2ggYW55IHBsYXlsaXN0IGluIHRoZSBtYXN0ZXIgZmlsZVwiLHRoaXMubG9nZ2VySWQsbC5ocy55aS5maSx7dXJsOmV9KTt2YXIgcz1udWxsIT10Lm1lZGlhU2VxdWVuY2U/dC5tZWRpYVNlcXVlbmNlOjAsbz1bXSxoPXMtMSx1PW4uTXguZ2V0KGgpLHA9W107cmV0dXJuIHQuTnEuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaD1jLnJjLiRoKGUsdC51cmkpLGw9TWF0aC5yb3VuZCgxZTMqdC5kdXJhdGlvbiksZD1uLmJpdHJhdGU7TnVtYmVyLmlzSW50ZWdlcihkKXx8KGkuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTZWdtZW50IEJpdHJhdGUgaXMgYSBGbG9hdFwiLHtiaXRyYXRlOmR9KSxkPU1hdGgucm91bmQoZCkpO3ZhciBmPW5ldyBhLkRGKHMsZCxsLHQudXJpLGgpO3Iua3guaGFzKGgpfHxwLnB1c2goZiksci5reC5zZXQoaCxmKSxuLk14LnNldChzLGYpLG8ucHVzaChmKSx1JiYodS5uZXh0PWYpLHU9ZixzKyt9KSx0aGlzLlMwPW4sbi51cGRhdGUodC5tZWRpYVNlcXVlbmNlLHQuZGlzY29udGludWl0eVNlcXVlbmNlLHQuXzAsdC5NMCxvKSx7QzA6bixPMDpwfX1jYXRjaChlKXtyZXR1cm4gaS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHVwZGF0aW5nIHRoZSBwbGF5bGlzdFwiLHRoaXMubG9nZ2VySWQsbC5ocy55aS5FaSxlKSxudWxsfX0sZS5wcm90b3R5cGUuUDA9ZnVuY3Rpb24oZSx0KXt0cnl7Zm9yKHZhciByPXQuc3BsaXQoXCJcXG5cIiksbj1NYXRoLm1heCgxLHUuYnEudnEpLHM9bnVsbCxvPTAsYT0wLGg9ZS5OcS5sZW5ndGgtMTtoPm4tMSYmKHM9ZS5OcVtoXSwhKG8+PXUuYnEuRXEpKTtoLS0pYSsrLG8rPXMuZHVyYXRpb247Zm9yKHZhciBjPVwiXCIsaD0wO2g8ci5sZW5ndGgmJihjPWMrcltoXStcIlxcblwiLHJbaF0udHJpbSgpIT09cy51cmkpO2grKyk7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiSExTIHRyaW1tZWQgXCIrYStcIiBzZWdtZW50cyBmb3IgdG90YWwgZHVyYXRpb246IFwiK28pLHtOMDpjLEEwOmEsRjA6b319Y2F0Y2goZSl7dGhyb3cgaS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHRyaW1taW5nIHRoZSBwbGF5bGlzdFwiLHRoaXMubG9nZ2VySWQsbC5ocy55aS52aSxlKSxuZXcgRXJyb3IoZSl9fSxlfSgpO3Qud3E9cH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS5NVD17fSxlLk1ULmNyZWF0ZT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZT1lLG5ldyB0fSxlLk1ULlUwPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gZSloYXNPd25Qcm9wLmNhbGwoZSxpKSYmdC5jYWxsKHJ8fHRoaXMsaSxlW2ldKX0sZS5NVC5QeT1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBlO2Zvcih2YXIgciBpbiB0KWhhc093blByb3AuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZX0sZS5NVC5CMD1mdW5jdGlvbih0LHIpe3ZhciBpLG4sczt0PWUuTVQuY0EodCk7Zm9yKGkgaW4gciloYXNPd25Qcm9wLmNhbGwocixpKSYmKG49dFtpXSxzPXJbaV0sZS5NVC5IMChuKSYmZS5NVC5IMChzKT90W2ldPWUuTVQuQjAobixzKTp0W2ldPXJbaV0pO3JldHVybiB0fSxlLk1ULmNBPWZ1bmN0aW9uKHQpe3JldHVybiBlLk1ULlB5KHt9LHQpfSxlLk1ULkgwPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiW29iamVjdCBPYmplY3RdXCI9PT1lLnRvU3RyaW5nKCkmJmUuY29uc3RydWN0b3I9PT1PYmplY3R9LGUuTVQuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LG1lcmdlT3B0aW9ucz1mdW5jdGlvbih0LHIpe3ZhciBpLG4sczt0PWUuTVQuY0EodCk7Zm9yKGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYobj10W2ldLHM9cltpXSxlLk1ULkgwKG4pJiZlLk1ULkgwKHMpP3RbaV09ZS51dGlsLngwKG4scyk6dFtpXT1yW2ldKTtyZXR1cm4gdH0sZS54MD1tZXJnZU9wdGlvbnM7dmFyIHQ9ZnVuY3Rpb24oKXt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT17fTt0aGlzLm9uPWZ1bmN0aW9uKHQscil7ZVt0XXx8KGVbdF09W10pLGVbdF0ucHVzaChyKX0sdGhpcy5vZmY9ZnVuY3Rpb24odCxyKXt2YXIgaTtyZXR1cm4hIWVbdF0mJihpPWVbdF0uaW5kZXhPZihyKSxlW3RdLnNwbGljZShpLDEpLGk+LTEpfSx0aGlzLnEwPWZ1bmN0aW9uKHQpe3ZhciByLGksbixzO2lmKHI9ZVt0XSlmb3Iocz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj1yLmxlbmd0aCxpPTA7aTxuOysraSlyW2ldLmFwcGx5KHRoaXMscyl9LHRoaXMuRzA9ZnVuY3Rpb24oKXtlPXt9fX19O3QucHJvdG90eXBlLlYwPWZ1bmN0aW9uKGUpe3RoaXMub24oXCJkYXRhXCIsZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSl9LGUuajA9dDt2YXIgcixpLG4scz1mdW5jdGlvbigpe30sbz1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKCcoPzpefCwpKCg/OltePV0qKT0oPzpcIlteXCJdKlwifFteLF0qKSknKX0oKSxhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWUuc3BsaXQobyksaT1yLmxlbmd0aCxuPXt9O2ktLTspXCJcIiE9PXJbaV0mJih0PS8oW149XSopPSguKikvLmV4ZWMocltpXSkuc2xpY2UoMSksdFswXT10WzBdLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksdFsxXT10WzFdLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksdFsxXT10WzFdLnJlcGxhY2UoL15bJ1wiXSguKilbJ1wiXSQvZyxcIiQxXCIpLG5bdFswXV09dFsxXSk7cmV0dXJuIG59LHQ9ZS5qMDtyZXR1cm4gcj1mdW5jdGlvbigpe3ZhciBlPVwiXCI7ci5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbih0KXt2YXIgcjtmb3IoZSs9dCxyPWUuaW5kZXhPZihcIlxcblwiKTtyPi0xO3I9ZS5pbmRleE9mKFwiXFxuXCIpKXRoaXMucTAoXCJkYXRhXCIsZS5zdWJzdHJpbmcoMCxyKSksZT1lLnN1YnN0cmluZyhyKzEpfX0sci5wcm90b3R5cGU9bmV3IHQsaT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0saS5wcm90b3R5cGU9bmV3IHQsaS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKGU9ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpLDAhPT1lLmxlbmd0aCl7aWYoXCIjXCIhPT1lWzBdKXJldHVybiB2b2lkIHRoaXMucTAoXCJkYXRhXCIse3R5cGU6XCJ1cmlcIix1cmk6ZX0pO2lmKDAhPT1lLmluZGV4T2YoXCIjRVhUXCIpKXJldHVybiB2b2lkIHRoaXMucTAoXCJkYXRhXCIse3R5cGU6XCJjb21tZW50XCIsdGV4dDplLnNsaWNlKDEpfSk7aWYoZT1lLnJlcGxhY2UoXCJcXHJcIixcIlwiKSx0PS9eI0VYVE0zVS8uZXhlYyhlKSlyZXR1cm4gdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsUTA6XCJtM3VcIn0pO2lmKHQ9L14jRVhUSU5GOj8oWzAtOVxcLl0qKT8sPyguKik/JC8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwiaW5mXCJ9LHRbMV0mJihyLmR1cmF0aW9uPXBhcnNlRmxvYXQodFsxXSkpLHRbMl0mJihyLnRpdGxlPXRbMl0pLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLVRBUkdFVERVUkFUSU9OOj8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJ0YXJnZXRkdXJhdGlvblwifSx0WzFdJiYoci5kdXJhdGlvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jWkVOLVRPVEFMLURVUkFUSU9OOj8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJ0b3RhbGR1cmF0aW9uXCJ9LHRbMV0mJihyLmR1cmF0aW9uPXBhcnNlSW50KHRbMV0sMTApKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1WRVJTSU9OOj8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJ2ZXJzaW9uXCJ9LHRbMV0mJihyLnZlcnNpb249cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLU1FRElBLVNFUVVFTkNFOj8oXFwtP1swLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwibWVkaWEtc2VxdWVuY2VcIn0sdFsxXSYmKHIubnVtYmVyPXBhcnNlSW50KHRbMV0sMTApKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1ESVNDT05USU5VSVRZLVNFUVVFTkNFOj8oXFwtP1swLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwiZGlzY29udGludWl0eS1zZXF1ZW5jZVwifSx0WzFdJiYoci5udW1iZXI9cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLVBMQVlMSVNULVRZUEU6PyguKik/JC8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwicGxheWxpc3QtdHlwZVwifSx0WzFdJiYoci5LMD10WzFdKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1CWVRFUkFOR0U6PyhbMC05Ll0qKT9APyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcImJ5dGVyYW5nZVwifSx0WzFdJiYoci5sZW5ndGg9cGFyc2VJbnQodFsxXSwxMCkpLHRbMl0mJihyLm9mZnNldD1wYXJzZUludCh0WzJdLDEwKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtQUxMT1ctQ0FDSEU6PyhZRVN8Tk8pPy8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwiYWxsb3ctY2FjaGVcIn0sdFsxXSYmKHIuWEQ9IS9OTy8udGVzdCh0WzFdKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtU1RSRUFNLUlORjo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcInN0cmVhbS1pbmZcIn0sdFsxXSYmKHIuYXR0cmlidXRlcz1hKHRbMV0pLHIuYXR0cmlidXRlcy5ZMCYmZnVuY3Rpb24oKXt2YXIgZT1yLmF0dHJpYnV0ZXMuWTAuc3BsaXQoXCJ4XCIpLHQ9e307ZVswXSYmKHQud2lkdGg9cGFyc2VJbnQoZVswXSwxMCkpLGVbMV0mJih0LmhlaWdodD1wYXJzZUludChlWzFdLDEwKSksci5hdHRyaWJ1dGVzLlkwPXR9KCksci5hdHRyaWJ1dGVzLkJBTkRXSURUSCYmKHIuYXR0cmlidXRlcy5CQU5EV0lEVEg9cGFyc2VJbnQoci5hdHRyaWJ1dGVzLkJBTkRXSURUSCwxMCkpLHIuYXR0cmlidXRlc1tcIlcwXCJdJiYoci5hdHRyaWJ1dGVzW1wiVzBcIl09cGFyc2VJbnQoci5hdHRyaWJ1dGVzW1wiVzBcIl0sMTApKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtRU5ETElTVC8uZXhlYyhlKSlyZXR1cm4gdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsUTA6XCJlbmRsaXN0XCJ9KTtpZih0PS9eI0VYVC1YLURJU0NPTlRJTlVJVFkvLmV4ZWMoZSkpcmV0dXJuIHZvaWQgdGhpcy5xMChcImRhdGFcIix7dHlwZTpcInRhZ1wiLFEwOlwiZGlzY29udGludWl0eVwifSk7aWYodD0vXiNFWFQtWC1LRVk6PyguKikkLy5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJrZXlcIn0sdFsxXSYmKHIuYXR0cmlidXRlcz1hKHRbMV0pLHIuYXR0cmlidXRlcy5JViYmKFwiMHhcIj09PXIuYXR0cmlidXRlcy5JVi5zdWJzdHJpbmcoMCwyKSYmKHIuYXR0cmlidXRlcy5JVj1yLmF0dHJpYnV0ZXMuSVYuc3Vic3RyaW5nKDIpKSxyLmF0dHJpYnV0ZXMuSVY9ci5hdHRyaWJ1dGVzLklWLm1hdGNoKC8uezh9L2cpLHIuYXR0cmlidXRlcy5JVlswXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMF0sMTYpLHIuYXR0cmlidXRlcy5JVlsxXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMV0sMTYpLHIuYXR0cmlidXRlcy5JVlsyXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMl0sMTYpLHIuYXR0cmlidXRlcy5JVlszXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbM10sMTYpLHIuYXR0cmlidXRlcy5JVj1uZXcgVWludDMyQXJyYXkoci5hdHRyaWJ1dGVzLklWKSkpLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTt0aGlzLnEwKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsZGF0YTplLnNsaWNlKDQsZS5sZW5ndGgpfSl9fSxuPWZ1bmN0aW9uKCl7dmFyIHQsbz10aGlzLGE9W10saD17fTtuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy56MD1uZXcgcix0aGlzLkowPW5ldyBpLHRoaXMuejAuVjAodGhpcy5KMCksdGhpcy5tYW5pZmVzdD17WDA6ITB9LHRoaXMuSjAub24oXCJkYXRhXCIsZnVuY3Rpb24ocil7KHt0YWc6ZnVuY3Rpb24oKXsoKHtcImFsbG93LWNhY2hlXCI6ZnVuY3Rpb24oKXt0aGlzLm1hbmlmZXN0LlgwPXIuWEQsXCJhbGxvd2VkXCJpbiByfHwodGhpcy5xMChcImluZm9cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcgYWxsb3dDYWNoZSB0byBZRVNcIn0pLHRoaXMubWFuaWZlc3QuWDA9ITApfSxieXRlcmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT17fTtcImxlbmd0aFwiaW4gciYmKGguYnl0ZXJhbmdlPWUsZS5sZW5ndGg9ci5sZW5ndGgsXCJvZmZzZXRcImluIHJ8fCh0aGlzLnEwKFwiaW5mb1wiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBvZmZzZXQgdG8gemVyb1wifSksci5vZmZzZXQ9MCkpLFwib2Zmc2V0XCJpbiByJiYoaC5ieXRlcmFuZ2U9ZSxlLm9mZnNldD1yLm9mZnNldCl9LGVuZGxpc3Q6ZnVuY3Rpb24oKXt0aGlzLm1hbmlmZXN0Ll8wPSEwfSxpbmY6ZnVuY3Rpb24oKXtcIm1lZGlhU2VxdWVuY2VcImluIHRoaXMubWFuaWZlc3R8fCh0aGlzLm1hbmlmZXN0Lm1lZGlhU2VxdWVuY2U9MCx0aGlzLnEwKFwiaW5mb1wiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBtZWRpYSBzZXF1ZW5jZSB0byB6ZXJvXCJ9KSksXCJkaXNjb250aW51aXR5U2VxdWVuY2VcImluIHRoaXMubWFuaWZlc3R8fCh0aGlzLm1hbmlmZXN0LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZT0wLHRoaXMucTAoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdG8gemVyb1wifSkpLHIuZHVyYXRpb24+PTAmJihoLmR1cmF0aW9uPXIuZHVyYXRpb24pLHRoaXMubWFuaWZlc3QuTnE9YX0sa2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYXR0cmlidXRlcz9cIk5PTkVcIj09PXIuYXR0cmlidXRlcy5aMD92b2lkKHQ9bnVsbCk6ci5hdHRyaWJ1dGVzLmxSPyhyLmF0dHJpYnV0ZXMuWjB8fHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIGtleSBtZXRob2QgdG8gQUVTLTEyOFwifSksdD17bWV0aG9kOnIuYXR0cmlidXRlcy5aMHx8XCJBRVMtMTI4XCIsdXJpOnIuYXR0cmlidXRlcy5sUn0sdm9pZCh2b2lkIDAhPT1yLmF0dHJpYnV0ZXMuSVYmJih0Lml2PXIuYXR0cmlidXRlcy5JVikpKTp2b2lkIHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBrZXkgZGVjbGFyYXRpb24gd2l0aG91dCBVUklcIn0pOnZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGtleSBkZWNsYXJhdGlvbiB3aXRob3V0IGF0dHJpYnV0ZSBsaXN0XCJ9KX0sXCJtZWRpYS1zZXF1ZW5jZVwiOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIubnVtYmVyKSlyZXR1cm4gdm9pZCB0aGlzLnEwKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCBtZWRpYSBzZXF1ZW5jZTogXCIrci5udW1iZXJ9KTt0aGlzLm1hbmlmZXN0Lm1lZGlhU2VxdWVuY2U9ci5udW1iZXJ9LFwiZGlzY29udGludWl0eS1zZXF1ZW5jZVwiOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIubnVtYmVyKSlyZXR1cm4gdm9pZCB0aGlzLnEwKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCBkaXNjb250aW51aXR5IHNlcXVlbmNlOiBcIityLm51bWJlcn0pO3RoaXMubWFuaWZlc3QuZGlzY29udGludWl0eVNlcXVlbmNlPXIubnVtYmVyfSxcInBsYXlsaXN0LXR5cGVcIjpmdW5jdGlvbigpe2lmKCEvVk9EfEVWRU5ULy50ZXN0KHIuSzApKXJldHVybiB2b2lkIHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyB1bmtub3duIHBsYXlsaXN0IHR5cGU6IFwiK3IuQzB9KTt0aGlzLm1hbmlmZXN0LkswPXIuSzB9LFwic3RyZWFtLWluZlwiOmZ1bmN0aW9uKCl7aWYodGhpcy5tYW5pZmVzdC5wbGF5bGlzdHM9YSwhci5hdHRyaWJ1dGVzKXJldHVybiB2b2lkIHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBlbXB0eSBzdHJlYW0taW5mIGF0dHJpYnV0ZXNcIn0pO2guYXR0cmlidXRlc3x8KGguYXR0cmlidXRlcz17fSksaC5hdHRyaWJ1dGVzPWUueDAoaC5hdHRyaWJ1dGVzLHIuYXR0cmlidXRlcyl9LGRpc2NvbnRpbnVpdHk6ZnVuY3Rpb24oKXtoLmRpc2NvbnRpbnVpdHk9ITB9LHRhcmdldGR1cmF0aW9uOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIuZHVyYXRpb24pfHxyLmR1cmF0aW9uPDApcmV0dXJuIHZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGludmFsaWQgdGFyZ2V0IGR1cmF0aW9uOiBcIityLmR1cmF0aW9ufSk7dGhpcy5tYW5pZmVzdC5NMD1yLmR1cmF0aW9ufSx0b3RhbGR1cmF0aW9uOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIuZHVyYXRpb24pfHxyLmR1cmF0aW9uPDApcmV0dXJuIHZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGludmFsaWQgdG90YWwgZHVyYXRpb246IFwiK3IuZHVyYXRpb259KTt0aGlzLm1hbmlmZXN0LiQwPXIuZHVyYXRpb259fSlbci5RMF18fHMpLmNhbGwobyl9LHVyaTpmdW5jdGlvbigpe2gudXJpPXIudXJpLGEucHVzaChoKSwhdGhpcy5tYW5pZmVzdC5NMHx8XCJkdXJhdGlvblwiaW4gaHx8KHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIHNlZ21lbnQgZHVyYXRpb24gdG8gdGhlIHRhcmdldCBkdXJhdGlvblwifSksaC5kdXJhdGlvbj10aGlzLm1hbmlmZXN0Lk0wKSx0JiYoaC5rZXk9dCksaD17fX0sZTE6ZnVuY3Rpb24oKXt9fSlbci50eXBlXS5jYWxsKG8pfSl9LG4ucHJvdG90eXBlPW5ldyB0LG4ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy56MC5wdXNoKGUpfSxuLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLnowLnB1c2goXCJcXG5cIil9LGUudDE9cixlLmkxPWksZS5SMD1uLGV9KCk7ZS5pPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLk14PW5ldyBpLHRoaXMuYml0cmF0ZT1lLHRoaXMudXJpPXQsdGhpcy55TT1yfXJldHVybiBlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LHIsaSxuKXt0aGlzLm1lZGlhU2VxdWVuY2U9ZSx0aGlzLmRpc2NvbnRpbnVpdHlTZXF1ZW5jZT10LHRoaXMuXzA9cix0aGlzLk0wPWksdGhpcy5OcT1uLHRoaXMudXBkYXRlZD0hMH0sZX0oKTt0LkwwPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODQpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShuLlR4KTt0LlNxPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDE1KSxuPXIoMCkscz1yKDUpLG89cig0KSxhPXIoNiksaD1yKDIpLGM9cigxKSx1PWEuaGUudmgsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW0NBQ0hFXSBcIix0aGlzLmxvZ2dlcj1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5uMT1uLkZyYW1ld29yay5yZXNvbHZlKGkucXUuVHUpLHUmJnMuaGguUmEuSWEmJih0aGlzLnMxPW4uRnJhbWV3b3JrLnJlc29sdmUoaS5xdS5tdSkpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMubjEuaW5pdChlLHQpLHUmJnMuaGguUmEuSWEmJnRoaXMuczEuaW5pdChlLHQpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgY2FjaGVcIix0aGlzLmxvZ2dlcklkLGguaHMuaHQucnQsZSl9fSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW8uZGVmZXIoKSxpPSExO3RyeXshZS5XZi5pc0xpdmUoKSYmdSYmcy5oaC5SYS5JYT90aGlzLnMxLnB1dChlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSk6dGhpcy5uMS5wdXQoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgbmV3IGZyYWdtZW50IGluIGNhY2hlXCIsdGhpcy5sb2dnZXJJZCxoLmhzLmh0Lml0LGUpLHIucmVzb2x2ZShpKX1yZXR1cm4gci5Tc30sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1vLmRlZmVyKCksaT1udWxsO3RyeXt0aGlzLmNvbnRhaW5zKGUpLnRoZW4oZnVuY3Rpb24obil7bj90Lm4xLmdldChlKS50aGVuKGZ1bmN0aW9uKHIpe251bGw9PXImJnUmJnMuaGguUmEuSWE/dC5zMS5nZXQoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KTppPXJ9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pOnIucmVzb2x2ZShpKX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGZyYWdtZW50IGZyb20gY2FjaGVcIix0aGlzLmxvZ2dlcklkLGguaHMuaHQubnQsZSksci5yZXNvbHZlKGkpfXJldHVybiByLlNzfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9by5kZWZlcigpLGk9ITE7dHJ5e3RoaXMubjEuY29udGFpbnMoZSkudGhlbihmdW5jdGlvbihyKXshaSYmdSYmcy5oaC5SYS5JYT90LnMxLmNvbnRhaW5zKGUpLnRoZW4oZnVuY3Rpb24oZSl7aT1lfSk6aT1yfSkuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyLnJlc29sdmUoaSl9KX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hlY2tpbmcgaWYgY2FjaGUgY29udGFpbnMgdGhlIGZyYWdtZW50XCIsdGhpcy5sb2dnZXJJZCxoLmhzLmh0LnN0LGUpLHIucmVzb2x2ZSghMSl9cmV0dXJuIHIuU3N9LGUucHJvdG90eXBlLmlrPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hZSYmdSYmcy5oaC5SYS5JYT90aGlzLnMxLmlrKGUpOnRoaXMubjEuaWsoZSl9Y2F0Y2goZSl7cmV0dXJuIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBrZXlzIGZyb20gY2FjaGVcIix0aGlzLmxvZ2dlcklkLGguaHMuaHQub3QsZSksW119fSxlLnByb3RvdHlwZS5WcT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9by5kZWZlcigpLGk9W107dHJ5eyFlJiZ1JiZzLmhoLlJhLklhP3RoaXMuczEuVnEoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pOnRoaXMubjEuVnEoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBlbGVtZW50cyBmcm9tIGNhY2hlIFwiLHRoaXMubG9nZ2VySWQsaC5ocy5odC5hdCxlKSxyLnJlc29sdmUoaSl9cmV0dXJuIHIuU3N9LGUucHJvdG90eXBlLlFxPWZ1bmN0aW9uKCl7dGhpcy5uMS5RcSgpfSxlfSgpO3QuUmE9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDI0KSxzPXIoNyksbz1yKDUpLGE9cigwKSxoPXIoOSksYz1yKDEpLHU9cigyKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbRmFsbGJhY2tSZXF1ZXN0ZXJdIFwiLHRoaXMubzE9bmV3IGksdGhpcy5MaD1uZXcgcy5yYy5WaH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLmExPWUuRUR9LGUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5IKSxpPSExLG49ZS4kZigpLGw9ZS5LZixwPWUuZWcoKTtlLnhocj1yLGUucWYuRmY9YS5GcmFtZXdvcmsudGltZSgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiRlJMIElTU1VFIFJFUSBGT1IgRlJBR01FTlQgXCIrZS56Zi50b1N0cmluZygpK1wiLVwiK2UucWYuQWYrXCIgW1wiK2gudmNbZS5YZigpXStcIl0gVE8gRkFMTEJBQ0sgXCIpLGUuemYuT18oKSYmKHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIiksdGhpcy5oMShlLnR5cGUpJiZsLnJhbmdlJiZlLlhmKCkhPWgudmMuZ2MmJnIuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsXCJieXRlcz1cIitsLnJhbmdlKSxvLmhoLksuTmEmJnRoaXMuYzEoZS50eXBlKSYmMCE9ZS5xZi5BZiYmKHRoaXMubG9nZ2VyLmluZm8oXCJTRVQgUkFOR0UgYnl0ZXM9XCIrZS5xZi5BZitcIi1cIiksci5zZXRSZXF1ZXN0SGVhZGVyKFwiUmFuZ2VcIixcImJ5dGVzPVwiK2UucWYuQWYrXCItXCIpKSxsLmxVLmZvckVhY2goZnVuY3Rpb24oZSl7XCJyYW5nZVwiIT09ZS5rZXkudG9Mb3dlckNhc2UoKSYmci5zZXRSZXF1ZXN0SGVhZGVyKGUua2V5LGUudmFsdWUpfSksbC5hc3luYyYmbC50aW1lb3V0PjAmJihyLnRpbWVvdXQ9bC50aW1lb3V0KSxsLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUobC5taW1lVHlwZSksbC53aXRoQ3JlZGVudGlhbHMmJihyLndpdGhDcmVkZW50aWFscz1sLndpdGhDcmVkZW50aWFscyksci5vbmxvYWRzdGFydD1mdW5jdGlvbihlKXt2YXIgdD1zLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwibG9hZHN0YXJ0XCIsZSxsKTtsLmRpc3BhdGNoRXZlbnQodCl9LHIub25hYm9ydD1mdW5jdGlvbihlKXtpZighaSl7dmFyIHQ9cy5yYy5jcmVhdGVFdmVudChFdmVudCxcImFib3J0XCIsZSxsKTtsLmRpc3BhdGNoRXZlbnQodCl9fSxyLm9udGltZW91dD1mdW5jdGlvbihyKXtpZighaSl7dC5lcnJvcihlLG4pO3ZhciBvPXMucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInRpbWVvdXRcIixyLGwpO2wuZGlzcGF0Y2hFdmVudChvKSxjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gZmFsbGJhY2sgcmVxdWVzdCBiZWNhdXNlIG9mIHRpbWVvdXRcIix0LmxvZ2dlcklkLHUuaHMuS24uUW4pfX0sci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7aWYobCYmKHIucmVhZHlTdGF0ZT09PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJihsLnJlc3BvbnNlSGVhZGVycz1yLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxyLnJlYWR5U3RhdGU8WE1MSHR0cFJlcXVlc3QuRE9ORXx8ci5yZWFkeVN0YXRlPT09WE1MSHR0cFJlcXVlc3QuRE9ORSYmMD09PXIuc3RhdHVzKSl7bC5yZWFkeVN0YXRlPXIucmVhZHlTdGF0ZTt2YXIgdD1zLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLGUsbCk7bC5kaXNwYXRjaEV2ZW50KHQpfX0sci5vbnByb2dyZXNzPWZ1bmN0aW9uKGkpe2lmKCF0LmMxKGUudHlwZSkpe3ZhciBuPXMucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInByb2dyZXNzXCIsaSxsKTtsLmRpc3BhdGNoRXZlbnQobiksci50b3RhbD1pLnRvdGFsfWUucWYuRGY9aS50b3RhbH0sci5vbmxvYWQ9ZnVuY3Rpb24oaCl7aWYoaT0hMCxsLnN0YXR1cz1yLnN0YXR1cyxoJiYwIT1oLnRvdGFsJiYoZS5xZi5EZj1oLnRvdGFsKSxlLnJlc3BvbnNlSGVhZGVycz1yLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLHIuc3RhdHVzPDIwMHx8ci5zdGF0dXM+Mjk5KXJldHVybiB0LmxvZ2dlci5kZWJ1ZyhcIkZSTCBTRVJWRVIgUkVUVVJORUQgRVJST1IgQ09ERSBcIityLnN0YXR1cyksdm9pZCB0LmVycm9yKGUsbik7ZS56Zi5PXygpP3QuaDEoZS50eXBlKT9lLmpmPXIucmVzcG9uc2U6dC5jMShlLnR5cGUpJiYoby5oaC5LLk5hP2UuamY9YS5GcmFtZXdvcmsuQygpP251bGw6cy5yYy5hcHBlbmRCdWZmZXIoZS5qZixyLnJlc3BvbnNlKTplLmpmPXIucmVzcG9uc2UpOmUuUk09ci5yZXNwb25zZVRleHQsZS5sb2FkZWQoKSx0Lm8xLmRlbGV0ZShuKSxlLnFmLlVmPWEuRnJhbWV3b3JrLnRpbWUoKSx0LnUxKGUpLHQubDEoZSksdC5hMS5pWihlKSxyPW51bGx9LHIub25lcnJvcj1mdW5jdGlvbigpe2l8fHQuZXJyb3IoZSxuKX0sdGhpcy5vMS5zZXQobixlKSxyLm9wZW4oXCJHRVRcIixwLGwuYXN5bmMsbC51c2VybmFtZSxsLnBhc3N3b3JkKSxyLnNlbmQoKX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIkNPVUxEIE5PVCBET1dOTE9BRCBcIitlLmVnKCkrXCIgc3RhdHVzOiBcIitlLnhoci5zdGF0dXM7ZS50eXBlPT1uLmJmLklmP3RoaXMubG9nZ2VyLmRlYnVnKHIpOnRoaXMubG9nZ2VyLndhcm4ociksdGhpcy5kMShlKSx0aGlzLm8xLmRlbGV0ZSh0KSx0aGlzLmExLmVaKGUpfSxlLnByb3RvdHlwZS5Zcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vMS5oYXMoZSl9LGUucHJvdG90eXBlLmgxPWZ1bmN0aW9uKGUpe3JldHVybiBlPT1uLmJmLklmfHxlPT1uLmJmLm1mfHxlPT1uLmJmLlRmfSxlLnByb3RvdHlwZS5jMT1mdW5jdGlvbihlKXtyZXR1cm4gZT09bi5iZi5TZn0sZS5wcm90b3R5cGUucVg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vMS5nZXQoZSk7dGhpcy5vMS5kZWxldGUoZSksdCYmdC54aHImJnQueGhyLmFib3J0KCl9LGUucHJvdG90eXBlLmwxPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJTVUNDRVNTIEZST00gRkFMTEJBQ0sgRk9SIFwiK2UuZWcoKStcIiBbXCIrbi5iZltlLnR5cGVdK1wiXVtcIitlLnFmLkRmK1wiXSBBRlRFUiBcIitlLnNnKCkrXCIgW2N1cnI6XCIrZS5hZygpLkdoKCkrXCIgYXZnOlwiK3RoaXMuTGguR2goKStcIl1cIil9LGUucHJvdG90eXBlLmQxPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuV1g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MaH0sZS5wcm90b3R5cGUudTE9ZnVuY3Rpb24oZSl7ZS5YZigpPT09aC52Yy5mYyYmdGhpcy5MaC5VaChlLmFnKCkpfSxlfSgpO3QuUko9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCk7cig2MCk7dmFyIG49cigwKSxzPXIoNSksbz1yKDE1KSxhPXIoNDkpLGg9cig1OCksYz1yKDEwKSx1PXIoOTEpLGw9aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5DdXN0b21lcktleSxwPXIoOCksZD1yKDE0KSxmPXIoNiksZz1yKDEpLEU9cigyKSx2PWYuaGUuVGgseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmYxPWlzTmFOKGQuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tlckxvZ3MpPzA6ZC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja2VyTG9ncyx0aGlzLmxvZ2dlcklkPVwiW1RSQUNLRVJdIFwiLHRoaXMuWlU9MCx0aGlzLmcxPTAsdGhpcy5FMT0vKFswLTldezEsM30oXFwuWzAtOV17MSwzfSl7M318W2EtZjAtOV17MSw0fSg6W2EtZjAtOV17MCw0fSl7NX0pLyx0aGlzLnYxPSEwLHRoaXMuTmc9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLkYpLHRoaXMudWQ9bi5GcmFtZXdvcmsucmVzb2x2ZShwLnBjLnNjKSx0aGlzLnlYPW4uRnJhbWV3b3JrLnJlc29sdmUoby5xdS5NdSl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5zZXNzaW9uSWQ9ZS5zZXNzaW9uSWQsdGhpcy54Sj1lLnhKLHRoaXMueUQ9ZS55RCx0aGlzLnpNPWUuek0sdGhpcy5UMT1lLm1ELHRoaXMueVgubTEoZS5zZXNzaW9uSWQsdGhpcyksdGhpcy5JMT11LlhxLkpxfSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmNvbnRleHQ9ZSx0aGlzLnN0cmVhbUlkPWUuZEouZ2V0Q29udGV4dElkKCksdGhpcy50aWNrZXQ9ZS5kSi5TaygpLHRoaXMudmw9dH0sZS5wcm90b3R5cGUuUzE9ZnVuY3Rpb24oZSl7dGhpcy5SMT1lfSxlLnByb3RvdHlwZS51WD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5uWCgpLHRoaXMudzE9bi5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLmIxKCl9LHMuaGguem8uWW8pLHRoaXMuYjEoKX0sZS5wcm90b3R5cGUublg9ZnVuY3Rpb24oKXt0aGlzLncxJiZuLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMudzEpfSxlLnByb3RvdHlwZS5DMT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCkscj1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVxdWVzdCxuPXRoaXMuY29udGV4dC5kSixzPW4uaXNMaXZlKCk/U3RyZWFtVHlwZS5MSVZFOlN0cmVhbVR5cGUua0s7ci5zZXNzaW9uSWQ9dGhpcy5zZXNzaW9uSWQ7dmFyIG89bmV3IGw7cmV0dXJuIHRoaXMuUjE/KG8ucGFydG5lcklkPXRoaXMuUjEucGFydG5lcklkLG8uY3VzdG9tZXJJZD10aGlzLlIxLmN1c3RvbWVySWQpOmQuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLmN1JiZkLkhpdmVDb25maWcuQ2xpZW50SW5mby51dT8oby5wYXJ0bmVySWQ9ZC5IaXZlQ29uZmlnLkNsaWVudEluZm8uY3Usby5jdXN0b21lcklkPWQuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLnV1KTooby5wYXJ0bmVySWQ9dGhpcy50aWNrZXQudXAoKSxvLmN1c3RvbWVySWQ9dGhpcy50aWNrZXQuY3AoKSksci5jdXN0b21lcktleT1vLHIuc3RyZWFtVHlwZT1zLHIuY29udGVudElkPXRoaXMueUQuZ2V0Q29udGV4dElkKCksdGhpcy51ZC5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbih0KXtlLl8xPXQuZ2V0TmV0d29ya0NoYW5nZWQoKS5nZXRQcml2YXRlSXAoKSxlLnlELkRIKGUuXzEpfSkuZmFpbChmdW5jdGlvbih0KXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyBjb25uZWN0aXZpdHkgaW5mb1wiLGUubG9nZ2VySWQsRS5ocy5MaS5faSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7dHJ5e3ZhciBpPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvO2kucHVibGljSXA9ZS5JQixpLnByaXZhdGVJcD1lLl8xLHIuaW5mbz1lLlAxKGksbiksci5xdWVyeT1lLkExKG4sci5pbmZvKSx0LnJlc29sdmUocil9Y2F0Y2gocil7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbGxlY3RpbmcgdGhlIGRhdGEgZm9yIHRoZSB0cmFja2VyIHJlcXVlc3RcIixlLmxvZ2dlcklkLEUuaHMuTGkuUGksciksdC5yZWplY3QoXCJFUlJPUlwiKX19KS5kb25lKCksdC5Tc30sZS5wcm90b3R5cGUuTzE9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuSTE9PXUuWHEuSnE/ZS5wdXNoKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuU0YuUkYpOnRoaXMuSTE9PXUuWHEuQVM/ZS5wdXNoKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuU0YuYkYpOnRoaXMuSTE9PXUuWHEubkQ/ZS5wdXNoKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuU0Yud0YpOnRoaXMubG9nZ2VyLndhcm4oXCJXcm9uZyBsb2NhbGl0eSBtb2RlXCIpLGV9LGUucHJvdG90eXBlLkExPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJRdWVyeTt0cnl7cmV0dXJuIGkucmFuZG9tPXMuaGguSmEuS2EsdC5leHRlcm5hbEFzJiYhdGhpcy5aVSYmKHRoaXMuWlU9dC5leHRlcm5hbEFzKSx0LmludGVybmFsQXMmJiF0aGlzLmcxJiYodGhpcy5nMT10LmludGVybmFsQXMpLGkucmFua2luZ3M9dGhpcy5PMSgpLGkuYXNucz1bXSx0aGlzLlpVPjAmJnRoaXMuTjEoaS5hc25zLGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ0YuRXh0ZXJuYWwsdGhpcy5aVSxzLmhoLkphLllhKSx0aGlzLmcxPjAmJih0aGlzLk4xKGkuYXNucyxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkNGLl9GLHRoaXMuZzEscy5oaC5KYS5XYSksaS53YXRjaGVycz1bXSxlLmxNKCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1yLkQxKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ0YuX0Ysci5nMSxlLC0xKTtpLndhdGNoZXJzLnB1c2goe2tleTp0LHZhbHVlOjF9KX0pLGkuc3RyZWFtZXJzPVtdLHRoaXMueUQuVWooKS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5EMShoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkNGLl9GLHIuZzEsdCxlLnR5cGU9PWEuc0QubkQ/aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi53Yy5TYzotMSk7aS5zdHJlYW1lcnMucHVzaCh7a2V5Om4sdmFsdWU6cy5oaC5KYS56YX0pfSkpLGl9Y2F0Y2goZSl7dGhyb3cgZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHByZXBhcmluZyB0cmFja2VyIHF1ZXJ5XCIsdGhpcy5sb2dnZXJJZCxFLmhzLkxpLkFpLGUpLG5ldyBFcnJvcihlKX19LGUucHJvdG90eXBlLkQxPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJCaXRyYXRlUXVlcnkscz1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeTtyZXR1cm4gcy5hc1R5cGU9ZSxzLmFzbj10LG4uYml0cmF0ZT1yLG4uYXNuPXMsLTEhPWkmJm4uc3RyZWFtU3RhdGUsbn0sZS5wcm90b3R5cGUuTjE9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckFzUXVlcnk7bi5hc1R5cGU9dCxuLmFzbj1yLGUucHVzaCh7a2V5Om4sdmFsdWU6aX0pfSxlLnByb3RvdHlwZS5QMT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mbzt0cnl7aWYobi5GcmFtZXdvcmsuQygpP3IuZ3VpZD10aGlzLmdkOnIuZ3VpZD1idG9hKHRoaXMuZ2QpLHIudGltZXN0YW1wPW4uRnJhbWV3b3JrLnRpbWUoKSxyLm5hdD12b2lkIDAsdGhpcy55RC5GaigpJiYoci5leHRlcm5hbEFzPXRoaXMueUQuRmooKSksdGhpcy55RC5naygpJiYoci5pbnRlcm5hbEFzPXRoaXMueUQuZ2soKSksbnVsbCE9ZSl7ci5wdWJsaWNJcFN0cmluZz1lLnB1YmxpY0lwO3ZhciBpPW5ldyBJbmV0QWRkcmVzcztpLmFkZHJlc3M9ZS5wdWJsaWNJcCxyLnB1YmxpY0lwPWksci5wcml2YXRlSXBTdHJpbmc9ZS5wcml2YXRlSXA7dmFyIHM9bmV3IEluZXRBZGRyZXNzO3MuYWRkcmVzcz1lLnByaXZhdGVJcCxyLnByaXZhdGVJcD1zfWlmKCF0aGlzLnlELmNrKCkmJnRoaXMueUQueWsoKSYmdj9yLnJhbmtWYWx1ZT0xOnIucmFua1ZhbHVlPXRoaXMueUQuTDEoKSx0aGlzLmNvbnRleHQuZEogaW5zdGFuY2VvZiBoLkdNKXtyLnN0cmVhbXM9bmV3IEFycmF5O3ZhciBvPXQuUEQoKTtudWxsIT1vJiYoci53YXRjaGluZ0JpdHJhdGU9by5iaXRyYXRlKTt2YXIgYz10LkpNKCk7dGhpcy55RC5VaigpLmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihlLmJfKXt2YXIgaT1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclN0cmVhbUluZm87c3dpdGNoKGkuYml0cmF0ZT10LGUudHlwZSl7Y2FzZSBhLnNELm1jOmkuc3RhdGU9aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi53Yy5JYzticmVhaztjYXNlIGEuc0QuaUQ6aS5zdGF0ZT1oaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLndjLlJjO2JyZWFrO2Nhc2UgYS5zRC5uRDppLnN0YXRlPWhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYud2MuU2N9aS5kZWx0YT1jLktEKGUuYl8uQV8oKSx0KSxyLnN0cmVhbXMucHVzaChpKX19KX1yZXR1cm4gcn1jYXRjaChlKXt0aHJvdyBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcHJlcGFyaW5nIHRyYWNrZXIgaW5mb1wiLHRoaXMubG9nZ2VySWQsRS5ocy5MaS5OaSxlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5iMT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBQUkVQQVJFIFJFUVVFU1RcIiksdGhpcy5DMSgpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9ZS5sb2dnZXJJZCtcIlNFTkRJTkcgVFJBQ0tFUiBSRVFVRVNUIFsgcHJpdmF0ZUlwOlwiK3QuaW5mby5wcml2YXRlSXBTdHJpbmcrXCIgcmFuazpcIit0LmluZm8ucmFua1ZhbHVlK1wiXVwiO3N3aXRjaChlLmYxKXtjYXNlIDA6ZGVmYXVsdDplLmxvZ2dlci5kZWJ1ZyhyKTticmVhaztjYXNlIDE6ZS5sb2dnZXIuZGVidWcocitcIiBcIitKU09OLnN0cmluZ2lmeSh0KSk7YnJlYWs7Y2FzZSAyOmUubG9nZ2VyLmRlYnVnKHIsdCk7YnJlYWs7Y2FzZSAzOmUubG9nZ2VyLmRlYnVnKHIrXCIgXCIrSlNPTi5zdHJpbmdpZnkodCksdCl9ZS55WC5NMSh0KX0sZnVuY3Rpb24odCl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHByZXBhcmluZyB0aGUgdHJhY2tlciByZXF1ZXN0XCIsZS5sb2dnZXJJZCxFLmhzLkxpLkNpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIHRyYWNrZXIgcmVxdWVzdFwiLGUubG9nZ2VySWQsRS5ocy5MaS5EaSx0KX0pfSxlLnByb3RvdHlwZS5GMT1mdW5jdGlvbihlKXt0aGlzLkkxPWV9LGUucHJvdG90eXBlLktYPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e3N3aXRjaCh0aGlzLmYxKXtjYXNlIDE6dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCt0aGlzLmNvbnRleHQuZEouU2soKStcIiBUcmFja2VyIFJlc3BvbnNlOiBcIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSAyOnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrdGhpcy5jb250ZXh0LmRKLlNrKCkrXCIgVHJhY2tlciBSZXNwb25zZTogXCIsZSk7YnJlYWs7Y2FzZSAzOnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrdGhpcy5jb250ZXh0LmRKLlNrKCkrXCIgVHJhY2tlciBSZXNwb25zZTogXCIrSlNPTi5zdHJpbmdpZnkoZSksZSl9dGhpcy5aVT1lLnBlZXJJbmZvLmV4dGVybmFsQXMsdGhpcy5nMT1lLnBlZXJJbmZvLmludGVybmFsQXMsdGhpcy5JQj1lLnBlZXJJbmZvLnB1YmxpY0lwU3RyaW5nLHRoaXMuXzE9ZS5wZWVySW5mby5wcml2YXRlSXBTdHJpbmcsdGhpcy55RC5fSCh0aGlzLklCKSx0aGlzLnlELlUxKHRoaXMuZzEpLHRoaXMueUQuQjEodGhpcy5aVSksdGhpcy51ZC5iSCh0aGlzLklCLHRoaXMuXzEsdGhpcy5nMSksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlJlcG9ydGluZyBmcm9tIHRyYWNrZXIgcHVibGljIElQOlwiK3RoaXMuSUIrXCIgcHJpdmF0ZSBJUDogXCIrdGhpcy5fMStcIiBFeHRBczpcIit0aGlzLlpVK1wiIGluQXM6XCIrdGhpcy5nMSksIXRoaXMueUQuY2soKSYmdGhpcy55RC55aygpJiZ2P3RoaXMuVDEuTUcoITEpOnRoaXMuVDEuSDEoZS5yYW5raW5ncyxlLmluZm9zKTt2YXIgcj10aGlzLnExKGUpO3RoaXMudmwuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5nRyhyLHQudjEpfSksdGhpcy52MT0hMX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaGFuZGxpbmcgdGhlIHJlc3BvbnNlXCIsdGhpcy5sb2dnZXJJZCxFLmhzLkxpLmtpLGUpfX0sZS5wcm90b3R5cGUucTE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MCxpPWUuaW5mb3M7cjxpLmxlbmd0aDtyKyspe3ZhciBuPWlbcl0scz1uZXcgYy5iYyhjLlRjLnljLG4pO3QucHVzaChzKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuS0c9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt0aGlzLmdkPWUsdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQ09OTkVDVEVEIFwiK3RoaXMuZ2QpLHRoaXMuVDEuRzEoKSx0aGlzLnVYKCl9LGUucHJvdG90eXBlLmVqPWZ1bmN0aW9uKCl7fSxlfSgpO3QuYko9eX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDApLHM9cig3KSxvPXIoMSksYT1yKDIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5pZD1lLHRoaXMuc2l6ZT10fXJldHVybiBlfSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltPYmplY3RJbmRleF0gXCIsdGhpcy5WMT1uZXcgaSx0aGlzLmoxPW5ldyBpLHRoaXMubG9nZ2VyPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPWUuZnJhZ21lbnRJZCxpPWUuc2l6ZTtlLmJpdHJhdGU7dGhpcy5WMS5oYXMocil8fCh0aGlzLlYxLnNldChyLG5ldyBoKHIsaSkpLHRoaXMuajEuc2V0KHIsbmV3IEFycmF5KSksdGhpcy5qMS5nZXQocikucHVzaCh0KX1jYXRjaChlKXt0aHJvdyBvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYWRkaW5nIG5ldyBoYXZlIGluIG9iamVjdCBpbmRleFwiLHRoaXMubG9nZ2VySWQsYS5ocy5Ybi56bixlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5qMS5oYXMoZSl9LGUucHJvdG90eXBlLmZrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmoxLmdldChlKX0sZS5wcm90b3R5cGUuUTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVjEuZ2V0KGUpfSxlLnByb3RvdHlwZS5Haj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RyeXt0aGlzLmoxLmZvckVhY2goZnVuY3Rpb24ocixpKXtzLnJjLktoKHIsZSwhMSksMD09PXIubGVuZ3RoJiYodC5qMS5kZWxldGUoaSksdC5WMS5kZWxldGUoaSkpfSl9Y2F0Y2goZSl7by5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlbW92aW5nIGhhdmVzIHNlbmQgZnJvbSBhIHNwZWNpZmljIHBlZXJcIix0aGlzLmxvZ2dlcklkLGEuaHMuWG4uSm4sZSl9fSxlLnByb3RvdHlwZS5LcT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5qMS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5sb2dnZXIuZGVidWcoXCJPQkpJRFggRlIgXCIrcitcIiBQUyBcIit0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS53ai55Zy5vdGhlckd1aWR9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStcIixcIit0fSkpfSl9LGV9KCk7dC5BSj1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNSkscz1yKDApLG89cig3KSxhPXIoMTApLGg9cigxNjApLGM9cig0NyksdT1yKDkyKSxsPXIoNikscD1yKDEpLGQ9cigyKSxmPWwuaGUuVGgsZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW01lbWJlcnNoaXBdIFwiLHRoaXMuZ2Q9bnVsbCx0aGlzLksxPW5ldyBpLHRoaXMua2o9bmV3IGl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5URD1lLlRELHRoaXMueUQ9ZS55RCx0aGlzLlkxPWUuWU0sKGZ8fHMuRnJhbWV3b3JrLkMoKSYmYy4kTi5YTikmJih0aGlzLlFKPWUuUUopLHRoaXMuc3RhcnQoKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLlcxPSEwfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5XMT0hMX0sZS5wcm90b3R5cGUuZ0c9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RyeXtpZih0aGlzLlcxKXt2YXIgaT1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyLnoxKCksZS5ndWlkIT1yLmdkJiYoZS50eXBlPT1hLlRjLnljP3Q9ci5KMShlKTpmfHxzLkZyYW1ld29yay5DKCkmJmMuJE4uWE4/KHQ9ci5YMShlKSxyLlFKLmFHKGUpLnRoZW4oZnVuY3Rpb24oKXtyLlRELnRqKHIua2ouZ2V0KGUuZ3VpZCkpfSkuZmFpbChmdW5jdGlvbih0KXt0JiZ0IT11LkpHLkVHJiYoci5rai5kZWxldGUoZS5ndWlkKSxwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZWxlY3RpbmcgbGFuIGxlYWRlclwiLHIubG9nZ2VySWQsZC5ocy55dC5kdCkpfSkpOnQ9ci5YMShlKSksdCYmaS5wdXNoKHQucGVlckluZm8uZ3VpZCl9KSx0aGlzLlNMKCksdCYmdGhpcy5URC5oaih0KSxpLmxlbmd0aD4wJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRJU0NPVkVSRUQgTkVXIFwiK2kubGVuZ3RoK1wiL1wiK2UubGVuZ3RoK1wiOiBbXCIraS5qb2luKFwiLCBcIikrXCJdXCIpfX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZGlzY292ZXJpbmcgcGVlcnNcIix0aGlzLmxvZ2dlcklkLGQuaHMueXQucHQsZSl9fSxlLnByb3RvdHlwZS5TTD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuSzEubGVuZ3RoK3RoaXMua2oubGVuZ3RoO3RoaXMuWTEuWjEoZSl9LGUucHJvdG90eXBlLnoxPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuSzEubGVuZ3RoPj1uLmhoLlFhLlZhJiZ0aGlzLmUyKHRoaXMuSzEpLHRoaXMua2oubGVuZ3RoPj1uLmhoLlFhLmphJiZ0aGlzLmUyKHRoaXMua2opfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjbGVhcmluZyBtZW1iZXJzaGlwIHZpZXdzXCIsdGhpcy5sb2dnZXJJZCxkLmhzLnl0LmZ0LGUpfX0sZS5wcm90b3R5cGUuZTI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXlzKClbcy5GcmFtZXdvcmsucmFuZG9tKCkqdGhpcy5LMS5sZW5ndGhdO2UuZGVsZXRlKHQpfSxlLnByb3RvdHlwZS5YMT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXtpZih0aGlzLksxLmhhcyhlLmd1aWQpPyh0PXRoaXMuSzEuZ2V0KGUuZ3VpZCksdGhpcy5LMS5kZWxldGUoZS5ndWlkKSx0aGlzLmtqLnNldChlLmd1aWQsdCkpOnRoaXMua2ouaGFzKGUuZ3VpZCkmJih0PXRoaXMua2ouZ2V0KGUuZ3VpZCkpLCF0KXJldHVybiB0PW5ldyBoLnQyKGUpLHRoaXMua2ouc2V0KGUuZ3VpZCx0KSx0O3QuUzEoZSl9Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgcGVlciB0byBsYW4gdmlld1wiLHRoaXMubG9nZ2VySWQsZC5ocy55dC5ndCxlKSxudWxsfX0sZS5wcm90b3R5cGUuSjE9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDt0cnl7aWYodGhpcy5rai5oYXMoZS5ndWlkKSl0aGlzLlgxKGUpO2Vsc2V7aWYoIXRoaXMuSzEuaGFzKGUuZ3VpZCkpcmV0dXJuIHQ9bmV3IGgudDIoZSksdGhpcy5LMS5zZXQoZS5ndWlkLHQpLHQ7dD10aGlzLksxLmdldChlLmd1aWQpLHQuUzEoZSl9fWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYWRkaW5nIHBlZXIgdG8gcmFuZG9tIHZpZXdcIix0aGlzLmxvZ2dlcklkLGQuaHMueXQuRXQsZSksbnVsbH19LGUucHJvdG90eXBlLmNqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107dHJ5e3JldHVybiB0aGlzLlcxJiYoZnx8cy5GcmFtZXdvcmsuQygpJiZjLiROLlhOP3I9by5yYy56aCh0aGlzLksxLnZhbHVlcygpKToocj10aGlzLksxLnZhbHVlcygpLHRoaXMua2ouZm9yRWFjaChmdW5jdGlvbihlLHQpe3IucHVzaChlKX0pLHI9by5yYy56aChyKSkpLGU/cjp0P3Iuc2xpY2UoMCx0KTpyLnNsaWNlKDAsMipuLmhoLk5vLl9vKX1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNhbXBsaW5nIG1lbWJlcnNoaXBcIix0aGlzLmxvZ2dlcklkLGQuaHMueXQudnQsZSksW119fSxlLnByb3RvdHlwZS5Paj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5LMS5oYXMoZSk/dGhpcy5LMS5nZXQoZSk6dGhpcy5rai5oYXMoZSk/dGhpcy5rai5nZXQoZSk6bnVsbH0sZS5wcm90b3R5cGUuVWQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcIk1FTUJFUlNISVAgU0VSVkVSIENPTk5FQ1RFRFwiKSx0aGlzLmdkPWUsdGhpcy55RC5zZXRJZCh0aGlzLmdkKX0sZS5wcm90b3R5cGUuZWo9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLktHPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiUGVlciBcIitlK1wiIGRpc2Nvbm5lY3RlZFwiKSx0aGlzLksxLmRlbGV0ZShlKSx0aGlzLmtqLmRlbGV0ZShlKSx0aGlzLlNMKCl9LGV9KCk7dC5RYT1nfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxMCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5wZWVySW5mbz1lfXJldHVybiBlLnByb3RvdHlwZS5Jaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlZXJJbmZvLnR5cGU9PT1pLlRjLld9LGUucHJvdG90eXBlLlMxPWZ1bmN0aW9uKGUpe3RoaXMucGVlckluZm8udHlwZT09aS5UYy55YyYmZS50eXBlPT1pLlRjLlc/dGhpcy5wZWVySW5mby50eXBlPWkuVGMuVzp0aGlzLnBlZXJJbmZvLnR5cGU9PWkuVGMueWMmJmUudHlwZT09aS5UYy55Y3x8dGhpcy5wZWVySW5mby50eXBlPT1pLlRjLlcmJmUudHlwZT09aS5UYy5XP3RoaXMuaTIodGhpcy5wZWVySW5mbyxlKTp0aGlzLnBlZXJJbmZvLnR5cGU9PWkuVGMuVyYmZS50eXBlPT1pLlRjLnljJiYodGhpcy5pMih0aGlzLnBlZXJJbmZvLGUpLHRoaXMucGVlckluZm8udHlwZT1pLlRjLlcpfSxlLnByb3RvdHlwZS56aj1mdW5jdGlvbihlKXt0aGlzLnBlZXJJbmZvLndhdGNoaW5nQml0cmF0ZT1lfSxlLnByb3RvdHlwZS5pMj1mdW5jdGlvbihlLHQpe2UuaW50ZXJuYWxBcz10aGlzLm4yKGUuaW50ZXJuYWxBcyx0LmludGVybmFsQXMpLGUuZXh0ZXJuYWxBcz10aGlzLm4yKGUuZXh0ZXJuYWxBcyx0LmV4dGVybmFsQXMpLGUubmF0PXRoaXMubjIoZS5uYXQsdC5uYXQpLGUuYmFuZHdpZHRoPXRoaXMubjIoZS5iYW5kd2lkdGgsdC5iYW5kd2lkdGgpLGUud2F0Y2hpbmdCaXRyYXRlPXRoaXMubjIoZS53YXRjaGluZ0JpdHJhdGUsdC53YXRjaGluZ0JpdHJhdGUpLGUucHJpdmF0ZUlwU3RyaW5nPXRoaXMubjIoZS5wcml2YXRlSXBTdHJpbmcsdC5wcml2YXRlSXBTdHJpbmcpLGUucHVibGljSXBTdHJpbmc9dGhpcy5uMihlLnB1YmxpY0lwU3RyaW5nLHQucHVibGljSXBTdHJpbmcpLGUucmFua1ZhbHVlPXRoaXMubjIoZS5yYW5rVmFsdWUsdC5yYW5rVmFsdWUpLGUudGltZXN0YW1wPXRoaXMubjIoZS50aW1lc3RhbXAsdC50aW1lc3RhbXApLHQuaXNMZWFkZXImJihlLmlzTGVhZGVyPXRoaXMubjIoZS5pc0xlYWRlcix0LmlzTGVhZGVyKSksdC5zdHJlYW1zJiYoZS5zdHJlYW1zPXQuc3RyZWFtcyl9LGUucHJvdG90eXBlLm4yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dCYmZSE9dCYmKGU9dCk6dCYmKGU9dCksZX0sZX0oKTt0LnQyPW59LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7dmFyIGksbixzOy8qKlxuICogQGxpY2Vuc2UgUHJvdG9CdWYuanMgKGMpIDIwMTMgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vUHJvdG9CdWYuanMgZm9yIGRldGFpbHNcbiAqL1xuIWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9e307cmV0dXJuIHQuczI9ZSx0LnFfPWUucV98fG51bGwsdC5WRVJTSU9OPVwiNC4wLjAtYjNcIix0Lm8yPXt9LHQubzIuYTI9MCx0Lm8yLmgyPTEsdC5vMi5jMj0yLHQubzIudTI9Myx0Lm8yLmwyPTQsdC5vMi5kMj01LHQuZjI9W3QubzIuYTIsdC5vMi5oMix0Lm8yLmQyXSx0LmcyPXtpbnQzMjp7bmFtZTpcImludDMyXCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6MH0sdWludDMyOntuYW1lOlwidWludDMyXCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6MH0sc2ludDMyOntuYW1lOlwic2ludDMyXCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6MH0saW50NjQ6e25hbWU6XCJpbnQ2NFwiLEUyOnQubzIuYTIsZGVmYXVsdFZhbHVlOnQucV8/dC5xXy5aRVJPOnZvaWQgMH0sdWludDY0OntuYW1lOlwidWludDY0XCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6dC5xXz90LnFfLnRWOnZvaWQgMH0sc2ludDY0OntuYW1lOlwic2ludDY0XCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6dC5xXz90LnFfLlpFUk86dm9pZCAwfSxib29sOntuYW1lOlwiYm9vbFwiLEUyOnQubzIuYTIsZGVmYXVsdFZhbHVlOiExfSxkb3VibGU6e25hbWU6XCJkb3VibGVcIixFMjp0Lm8yLmgyLGRlZmF1bHRWYWx1ZTowfSxzdHJpbmc6e25hbWU6XCJzdHJpbmdcIixFMjp0Lm8yLmMyLGRlZmF1bHRWYWx1ZTpcIlwifSxieXRlczp7bmFtZTpcImJ5dGVzXCIsRTI6dC5vMi5jMixkZWZhdWx0VmFsdWU6bnVsbH0sZml4ZWQzMjp7bmFtZTpcImZpeGVkMzJcIixFMjp0Lm8yLmQyLGRlZmF1bHRWYWx1ZTowfSxzZml4ZWQzMjp7bmFtZTpcInNmaXhlZDMyXCIsRTI6dC5vMi5kMixkZWZhdWx0VmFsdWU6MH0sZml4ZWQ2NDp7bmFtZTpcImZpeGVkNjRcIixFMjp0Lm8yLmgyLGRlZmF1bHRWYWx1ZTp0LnFfP3QucV8udFY6dm9pZCAwfSxzZml4ZWQ2NDp7bmFtZTpcInNmaXhlZDY0XCIsRTI6dC5vMi5oMixkZWZhdWx0VmFsdWU6dC5xXz90LnFfLlpFUk86dm9pZCAwfSxmbG9hdDp7bmFtZTpcImZsb2F0XCIsRTI6dC5vMi5kMixkZWZhdWx0VmFsdWU6MH0sZW51bTp7bmFtZTpcImVudW1cIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTowfSxtZXNzYWdlOntuYW1lOlwibWVzc2FnZVwiLEUyOnQubzIuYzIsZGVmYXVsdFZhbHVlOm51bGx9LGdyb3VwOntuYW1lOlwiZ3JvdXBcIixFMjp0Lm8yLnUyLGRlZmF1bHRWYWx1ZTpudWxsfX0sdC52Mj1bdC5nMi5pbnQzMix0LmcyLnNpbnQzMix0LmcyLnNmaXhlZDMyLHQuZzIudWludDMyLHQuZzIuZml4ZWQzMix0LmcyLmludDY0LHQuZzIuc2ludDY0LHQuZzIuc2ZpeGVkNjQsdC5nMi51aW50NjQsdC5nMi5maXhlZDY0LHQuZzIuYm9vbCx0LmcyLnN0cmluZyx0LmcyLmJ5dGVzXSx0LlQyPTEsdC5tMj01MzY4NzA5MTEsdC5JMj0hMSx0LlMyPSEwLHQuUjI9ITAsdC5idj1mdW5jdGlvbigpe09iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9aWYoYXJndW1lbnRzLmxlbmd0aD4xKXRocm93IEVycm9yKFwiT2JqZWN0LmNyZWF0ZSBwb2x5ZmlsbCBvbmx5IGFjY2VwdHMgdGhlIGZpcnN0IHBhcmFtZXRlci5cIik7cmV0dXJuIHQucHJvdG90eXBlPWUsbmV3IHR9KTt2YXIgZT17fTtlLncyPSExO3RyeXtlLncyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIoMTYpLmIyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByKDY0KS5yZXNvbHZlfWNhdGNoKGUpe31yZXR1cm4gZS5DMj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMy5YTUxIVFRQXCIpfSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfV0sdD1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dHJ5e3Q9ZVtyXSgpfWNhdGNoKGUpe2NvbnRpbnVlfWJyZWFrfWlmKCF0KXRocm93IEVycm9yKFwiWE1MSHR0cFJlcXVlc3QgaXMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gdH0sZS5mZXRjaD1mdW5jdGlvbih0LGkpe2lmKGkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPW51bGwpLGUudzIpaWYoaSlyKDE2KS5fMih0LGZ1bmN0aW9uKGUsdCl7aShlP251bGw6XCJcIit0KX0pO2Vsc2UgdHJ5e3JldHVybiByKDE2KS5iMih0KX1jYXRjaChlKXtyZXR1cm4gbnVsbH1lbHNle3ZhciBuPWUuQzIoKTtpZihuLm9wZW4oXCJHRVRcIix0LCEhaSksbi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJ0ZXh0L3BsYWluXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub3ZlcnJpZGVNaW1lVHlwZSYmbi5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpblwiKSwhaSlyZXR1cm4gbi5zZW5kKG51bGwpLDIwMD09bi5zdGF0dXN8fDA9PW4uc3RhdHVzJiZcInN0cmluZ1wiPT10eXBlb2Ygbi5yZXNwb25zZVRleHQ/bi5yZXNwb25zZVRleHQ6bnVsbDtpZihuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PW4ucmVhZHlTdGF0ZSYmaSgyMDA9PW4uc3RhdHVzfHwwPT1uLnN0YXR1cyYmXCJzdHJpbmdcIj09dHlwZW9mIG4ucmVzcG9uc2VUZXh0P24ucmVzcG9uc2VUZXh0Om51bGwpfSw0PT1uLnJlYWR5U3RhdGUpcmV0dXJuO24uc2VuZChudWxsKX19LGUuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LGV9KCksdC5MYW5nPXtPUEVOOlwie1wiLFAyOlwifVwiLEEyOlwiW1wiLE8yOlwiXVwiLE4yOlwiLFwiLEVRVUFMOlwiPVwiLEQyOlwiO1wiLEwyOlwiLFwiLE0yOidcIicsRjI6J1wiJyxVMjpcIidcIixCMjpcIidcIixIMjpcIihcIixxMjpcIilcIixHMjpcIjxcIixWMjpcIj5cIixqMjovW1xcc1xce1xcfT07XFxbXFxdLCdcIlxcKFxcKTw+XS9nLFEyOi9eKD86cmVxdWlyZWR8b3B0aW9uYWx8cmVwZWF0ZWR8bWFwKSQvLHROOi9eKD86ZG91YmxlfGZsb2F0fGludDMyfHVpbnQzMnxzaW50MzJ8aW50NjR8dWludDY0fHNpbnQ2NHxmaXhlZDMyfHNmaXhlZDMyfGZpeGVkNjR8c2ZpeGVkNjR8Ym9vbHxzdHJpbmd8Ynl0ZXMpJC8sek86L15bYS16QS1aX11bYS16QS1aXzAtOV0qJC8sSzI6L15bYS16QS1aXVthLXpBLVpfMC05XSokLyxZMjovXig/OlxcLj9bYS16QS1aX11bYS16QS1aXzAtOV0qKSskLyxXMjovXig/OlxcLlthLXpBLVpdW2EtekEtWl8wLTldKikrJC8sejI6L14tPyg/OlsxLTldWzAtOV0qfDB8MFt4WF1bMC05YS1mQS1GXSt8MFswLTddK3woWzAtOV0qKFxcLlswLTldKik/KFtFZV1bKy1dP1swLTldKyk/KXxpbmZ8bmFuKSQvLEoyOi9eKD86WzEtOV1bMC05XSp8MCkkLyxYMjovXjBbeFhdWzAtOWEtZkEtRl0rJC8sWjI6L14wWzAtN10rJC8sZTM6L14oWzAtOV0qKFxcLlswLTldKik/KFtFZV1bKy1dP1swLTldKyk/fGluZnxuYW4pJC8sdDM6L14oPzpbMS05XVswLTldKnwwfDBbeFhdWzAtOWEtZkEtRl0rfDBbMC03XSspJC8scjM6L15cXC0/KD86WzEtOV1bMC05XSp8MHwwW3hYXVswLTlhLWZBLUZdK3wwWzAtN10rKSQvLGkzOi9cXHMvLFNUUklORzovKD86XCIoW15cIlxcXFxdKig/OlxcXFwuW15cIlxcXFxdKikqKVwiKXwoPzonKFteJ1xcXFxdKig/OlxcXFwuW14nXFxcXF0qKSopJykvZyxCT09MOi9eKD86dHJ1ZXxmYWxzZSkkL2l9LHQubjM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPWZ1bmN0aW9uKGUpe3RoaXMuc291cmNlPVwiXCIrZSx0aGlzLmluZGV4PTAsdGhpcy5saW5lPTEsdGhpcy5zdGFjaz1bXSx0aGlzLnMzPSExLHRoaXMubzM9dC5GMn0sbj1pLnByb3RvdHlwZTtuLnFaPWZ1bmN0aW9uKCl7dC5TVFJJTkcubGFzdEluZGV4PXRoaXMuaW5kZXgtMTt2YXIgZTtpZihudWxsIT09KGU9dC5TVFJJTkcuZXhlYyh0aGlzLnNvdXJjZSkpKXt2YXIgcj12b2lkIDAhPT1lWzFdP2VbMV06ZVsyXTtyZXR1cm4gdGhpcy5pbmRleD10LlNUUklORy5sYXN0SW5kZXgsdGhpcy5zdGFjay5wdXNoKHRoaXMubzMpLHJ9dGhyb3cgRXJyb3IoXCJVbnRlcm1pbmF0ZWQgc3RyaW5nIGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiLCBpbmRleCBcIit0aGlzLmluZGV4KX0sbi5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5zdGFjay5sZW5ndGg+MClyZXR1cm4gdGhpcy5zdGFjay5zaGlmdCgpO2lmKHRoaXMuaW5kZXg+PXRoaXMuc291cmNlLmxlbmd0aClyZXR1cm4gbnVsbDtpZih0aGlzLnMzKXJldHVybiB0aGlzLnMzPSExLHRoaXMucVooKTt2YXIgZSxyO2Rve2ZvcihlPSExO3QuaTMudGVzdChyPXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSk7KWlmKHRoaXMuaW5kZXgrKyxcIlxcblwiPT09ciYmdGhpcy5saW5lKyssdGhpcy5pbmRleD09PXRoaXMuc291cmNlLmxlbmd0aClyZXR1cm4gbnVsbDtpZihcIi9cIj09PXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSlpZihcIi9cIj09PXRoaXMuc291cmNlLmNoYXJBdCgrK3RoaXMuaW5kZXgpKXtmb3IoO1wiXFxuXCIhPT10aGlzLnNvdXJjZS5jaGFyQXQodGhpcy5pbmRleCk7KWlmKCsrdGhpcy5pbmRleD09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO3RoaXMuaW5kZXgrKyx0aGlzLmxpbmUrKyxlPSEwfWVsc2V7aWYoXCIqXCIhPT10aGlzLnNvdXJjZS5jaGFyQXQodGhpcy5pbmRleCkpdGhyb3cgRXJyb3IoXCJVbnRlcm1pbmF0ZWQgY29tbWVudCBhdCBsaW5lIFwiK3RoaXMubGluZStcIjogL1wiK3RoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSk7Zm9yKHI9XCJcIjtyKyhyPXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSkhPT1cIiovXCI7KWlmKHRoaXMuaW5kZXgrKyxcIlxcblwiPT09ciYmdGhpcy5saW5lKyssdGhpcy5pbmRleD09PXRoaXMuc291cmNlLmxlbmd0aClyZXR1cm4gbnVsbDt0aGlzLmluZGV4KyssZT0hMH19d2hpbGUoZSk7aWYodGhpcy5pbmRleD09PXRoaXMuc291cmNlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgaT10aGlzLmluZGV4O2lmKHQuajIubGFzdEluZGV4PTAsdC5qMi50ZXN0KHRoaXMuc291cmNlLmNoYXJBdChpKSkpKytpO2Vsc2UgZm9yKCsraTtpPHRoaXMuc291cmNlLmxlbmd0aCYmIXQuajIudGVzdCh0aGlzLnNvdXJjZS5jaGFyQXQoaSkpOylpKys7dmFyIG49dGhpcy5zb3VyY2Uuc3Vic3RyaW5nKHRoaXMuaW5kZXgsdGhpcy5pbmRleD1pKTtyZXR1cm4gbj09PXQuTTI/KHRoaXMuczM9ITAsdGhpcy5vMz10LkYyKTpuPT09dC5VMiYmKHRoaXMuczM9ITAsdGhpcy5vMz10LkIyKSxufSxuLkhrPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuc3RhY2subGVuZ3RoKXt2YXIgZT10aGlzLm5leHQoKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDt0aGlzLnN0YWNrLnB1c2goZSl9cmV0dXJuIHRoaXMuc3RhY2tbMF19LG4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlRva2VuaXplcihcIit0aGlzLmluZGV4K1wiL1wiK3RoaXMuc291cmNlLmxlbmd0aCtcIiBhdCBsaW5lIFwiK3RoaXMubGluZStcIilcIn0sci5hMz1pO3ZhciBzPWZ1bmN0aW9uKGUpe3RoaXMuaDM9bmV3IGkoZSl9LG89cy5wcm90b3R5cGU7cmV0dXJuIG8ucGFyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD17bmFtZTpcIltST09UXVwiLHBhY2thZ2U6bnVsbCxtZXNzYWdlczpbXSxjMzpbXSxpbXBvcnRzOltdLG9wdGlvbnM6e30sc2VydmljZXM6W119LHI9ITA7ZT10aGlzLmgzLm5leHQoKTspc3dpdGNoKGUpe2Nhc2VcInBhY2thZ2VcIjppZighcnx8bnVsbCE9PXQucGFja2FnZSl0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgcGFja2FnZSBhdCBsaW5lIFwiK3RoaXMuaDMubGluZSk7dC5wYWNrYWdlPXRoaXMudTMoZSk7YnJlYWs7Y2FzZVwiaW1wb3J0XCI6aWYoIXIpdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGltcG9ydCBhdCBsaW5lIFwiK3RoaXMuaDMubGluZSk7dC5pbXBvcnRzLnB1c2godGhpcy5sMyhlKSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOnRoaXMuZDModCxudWxsLGUpLHI9ITE7YnJlYWs7Y2FzZVwiZW51bVwiOnRoaXMuZjModCxlKSxyPSExO2JyZWFrO2Nhc2VcIm9wdGlvblwiOnRoaXMuZzModCxlKTticmVhaztjYXNlXCJzZXJ2aWNlXCI6dGhpcy5FMyh0LGUpO2JyZWFrO2Nhc2VcImV4dGVuZFwiOnRoaXMudjModCxlKTticmVhaztjYXNlXCJzeW50YXhcIjp0LnkzPXRoaXMuVDModCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2UpfXJldHVybiBkZWxldGUgdC5uYW1lLHR9LG8ubTM9ZnVuY3Rpb24oZSl7dmFyIHI9MTtpZihcIi1cIj09ZS5jaGFyQXQoMCkmJihyPS0xLGU9ZS5zdWJzdHJpbmcoMSkpLHQuSjIudGVzdChlKSlyZXR1cm4gcipwYXJzZUludChlLDEwKTtpZih0LlgyLnRlc3QoZSkpcmV0dXJuIHIqcGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpO2lmKHQuWjIudGVzdChlKSlyZXR1cm4gcipwYXJzZUludChlLnN1YnN0cmluZygxKSw4KTtpZih0LmUzLnRlc3QoZSkpcmV0dXJuXCJpbmZcIj09PWU/ciooMS8wKTpcIm5hblwiPT09ZT9OYU46cipwYXJzZUZsb2F0KGUpO3Rocm93IEVycm9yKFwiSWxsZWdhbCBudW1iZXIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiKyhyPDA/XCItXCI6XCJcIikrZSl9LG8uSTM9ZnVuY3Rpb24oKXt2YXIgZSxyLGk9XCJcIjtkb3tpZihyPXRoaXMuaDMubmV4dCgpLGkrPXRoaXMuaDMubmV4dCgpLChlPXRoaXMuaDMubmV4dCgpKSE9PXIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiBzdHJpbmcgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2UpO2U9dGhpcy5oMy5IaygpfXdoaWxlKGU9PT10Lk0yfHxlPT09dC5VMik7cmV0dXJuIGl9LG8uUzM9ZnVuY3Rpb24oZSxyKXt2YXIgaT0tMSxuPTE7aWYoXCItXCI9PWUuY2hhckF0KDApJiYobj0tMSxlPWUuc3Vic3RyaW5nKDEpKSx0LkoyLnRlc3QoZSkpaT1wYXJzZUludChlKTtlbHNlIGlmKHQuWDIudGVzdChlKSlpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDIpLDE2KTtlbHNle2lmKCF0LloyLnRlc3QoZSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGlkIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIisobjwwP1wiLVwiOlwiXCIpK2UpO2k9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSksOCl9aWYoaT1uKml8MCwhciYmaTwwKXRocm93IEVycm9yKFwiSWxsZWdhbCBpZCBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrKG48MD9cIi1cIjpcIlwiKStlKTtyZXR1cm4gaX0sby51Mz1mdW5jdGlvbihlKXtpZihlPXRoaXMuaDMubmV4dCgpLCF0LlkyLnRlc3QoZSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHBhY2thZ2UgbmFtZSBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrZSk7dmFyIHI9ZTtpZigoZT10aGlzLmgzLm5leHQoKSkhPXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiBwYWNrYWdlIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitlKTtyZXR1cm4gcn0sby5sMz1mdW5jdGlvbihlKXtpZihlPXRoaXMuaDMuSGsoKSxcInB1YmxpY1wiPT09ZSYmKHRoaXMuaDMubmV4dCgpLGU9dGhpcy5oMy5IaygpKSxlIT09dC5NMiYmZSE9PXQuVTIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIGltcG9ydCBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrZSk7dmFyIHI9dGhpcy5JMygpO2lmKChlPXRoaXMuaDMubmV4dCgpKSE9PXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiBpbXBvcnQgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2UpO3JldHVybiByfSxvLmczPWZ1bmN0aW9uKGUscil7cj10aGlzLmgzLm5leHQoKTt2YXIgaT0hMTtpZihyPT10LkgyJiYoaT0hMCxyPXRoaXMuaDMubmV4dCgpKSwhdC5ZMi50ZXN0KHIpJiYhL2dvb2dsZVxcLnByb3RvYnVmXFwuLy50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBvcHRpb24gbmFtZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIG49cjtpZihyPXRoaXMuaDMubmV4dCgpLGkpe2lmKHIhPT10LnEyKXRocm93IEVycm9yKFwiSWxsZWdhbCBlbmQgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIsIG9wdGlvbiBcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtuPVwiKFwiK24rXCIpXCIscj10aGlzLmgzLm5leHQoKSx0LlcyLnRlc3QocikmJihuKz1yLHI9dGhpcy5oMy5uZXh0KCkpfWlmKHIhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCBvcGVyYXRvciBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiwgb3B0aW9uIFwiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3ZhciBzO2lmKChyPXRoaXMuaDMuSGsoKSk9PT10Lk0yfHxyPT09dC5VMilzPXRoaXMuSTMoKTtlbHNlIGlmKHRoaXMuaDMubmV4dCgpLHQuejIudGVzdChyKSlzPXRoaXMubTMociwhMCk7ZWxzZSBpZih0LkJPT0wudGVzdChyKSlzPVwidHJ1ZVwiPT09cjtlbHNle2lmKCF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9wdGlvbiB2YWx1ZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiwgb3B0aW9uIFwiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3M9cn1pZigocj10aGlzLmgzLm5leHQoKSkhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCBlbmQgb2Ygb3B0aW9uIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiLCBvcHRpb24gXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7ZS5vcHRpb25zW25dPXN9LG8uUjM9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGk7Oyl7aWYobnVsbD09PShpPXRoaXMuaDMubmV4dCgpKSl0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgRU9GIGluIFwiK2UubmFtZStcIiwgXCIrcitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZSk7aWYoaT09PXQuRDIpYnJlYWt9fSxvLkUzPWZ1bmN0aW9uKGUscil7aWYocj10aGlzLmgzLm5leHQoKSwhdC56Ty50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBzZXJ2aWNlIG5hbWUgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3ZhciBpPXIsbj17bmFtZTppLHczOnt9LG9wdGlvbnM6e319O2lmKChyPXRoaXMuaDMubmV4dCgpKSE9PXQuT1BFTil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2Ygc2VydmljZSBcIitpK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtkb3tpZihcIm9wdGlvblwiPT09KHI9dGhpcy5oMy5uZXh0KCkpKXRoaXMuZzMobixyKTtlbHNlIGlmKFwicnBjXCI9PT1yKXRoaXMuYjMobixyKTtlbHNlIGlmKHIhPT10LlAyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIG9mIHNlcnZpY2UgXCIraStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9d2hpbGUociE9PXQuUDIpO2Uuc2VydmljZXMucHVzaChuKX0sby5iMz1mdW5jdGlvbihlLHIpe3ZhciBpPXI7aWYocj10aGlzLmgzLm5leHQoKSwhdC56Ty50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBtZXRob2QgbmFtZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIG49cixzPXtyZXF1ZXN0Om51bGwscmVzcG9uc2U6bnVsbCxDMzohMSxfMzohMSxvcHRpb25zOnt9fTtpZigocj10aGlzLmgzLm5leHQoKSkhPT10LkgyKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiByZXF1ZXN0IHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocj10aGlzLmgzLm5leHQoKSxcInN0cmVhbVwiPT09ci50b0xvd2VyQ2FzZSgpJiYocy5DMz0hMCxyPXRoaXMuaDMubmV4dCgpKSwhdC5ZMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCByZXF1ZXN0IHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocy5yZXF1ZXN0PXIsKHI9dGhpcy5oMy5uZXh0KCkpIT10LnEyKXRocm93IEVycm9yKFwiSWxsZWdhbCBlbmQgb2YgcmVxdWVzdCB0eXBlIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKHI9dGhpcy5oMy5uZXh0KCksXCJyZXR1cm5zXCIhPT1yLnRvTG93ZXJDYXNlKCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZigocj10aGlzLmgzLm5leHQoKSkhPXQuSDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIHJlc3BvbnNlIHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocj10aGlzLmgzLm5leHQoKSxcInN0cmVhbVwiPT09ci50b0xvd2VyQ2FzZSgpJiYocy5fMz0hMCxyPXRoaXMuaDMubmV4dCgpKSxzLnJlc3BvbnNlPXIsKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5xMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHJlc3BvbnNlIHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYoKHI9dGhpcy5oMy5uZXh0KCkpPT09dC5PUEVOKXtkb3tpZihcIm9wdGlvblwiPT09KHI9dGhpcy5oMy5uZXh0KCkpKXRoaXMuZzMocyxyKTtlbHNlIGlmKHIhPT10LlAyKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBvcHRpb24gaW5zZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX13aGlsZShyIT09dC5QMik7dGhpcy5oMy5IaygpPT09dC5EMiYmdGhpcy5oMy5uZXh0KCl9ZWxzZSBpZihyIT09dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZGVsaW1pdGVyIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3ZvaWQgMD09PWVbaV0mJihlW2ldPXt9KSxlW2ldW25dPXN9LG8uZDM9ZnVuY3Rpb24oZSxyLGkpe3ZhciBuPXt9LHM9XCJncm91cFwiPT09aTtpZihpPXRoaXMuaDMubmV4dCgpLCF0LnpPLnRlc3QoaSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIFwiKyhzP1wiZ3JvdXBcIjpcIm1lc3NhZ2VcIikrXCIgbmFtZVwiKyhlP1wiIGluIG1lc3NhZ2UgXCIrZS5uYW1lOlwiXCIpK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtpZihuLm5hbWU9aSxzKXtpZigoaT10aGlzLmgzLm5leHQoKSkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCBpZCBhc3NpZ25tZW50IGFmdGVyIGdyb3VwIFwiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7aT10aGlzLmgzLm5leHQoKTt0cnl7ci5pZD10aGlzLlMzKGkpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBpZCB2YWx1ZSBmb3IgZ3JvdXAgXCIrbi5uYW1lK1wiI1wiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSl9bi5QMz0hMH1pZihuLmZpZWxkcz1bXSxuLmMzPVtdLG4ubWVzc2FnZXM9W10sbi5vcHRpb25zPXt9LG4uQTM9e30saT10aGlzLmgzLm5leHQoKSxpPT09dC5BMiYmciYmKHRoaXMuTzMobixyLGkpLGk9dGhpcy5oMy5uZXh0KCkpLGkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIFwiKyhzP1wiZ3JvdXBcIjpcIm1lc3NhZ2VcIikrXCIgXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtmb3IoOzspe2lmKChpPXRoaXMuaDMubmV4dCgpKT09PXQuUDIpe2k9dGhpcy5oMy5IaygpLGk9PT10LkQyJiZ0aGlzLmgzLm5leHQoKTticmVha31pZih0LlEyLnRlc3QoaSkpdGhpcy5OMyhuLGkpO2Vsc2UgaWYoXCJvbmVvZlwiPT09aSl0aGlzLkQzKG4saSk7ZWxzZSBpZihcImVudW1cIj09PWkpdGhpcy5mMyhuLGkpO2Vsc2UgaWYoXCJtZXNzYWdlXCI9PT1pKXRoaXMuZDMobixudWxsLGkpO2Vsc2UgaWYoXCJvcHRpb25cIj09PWkpdGhpcy5nMyhuLGkpO2Vsc2UgaWYoXCJleHRlbnNpb25zXCI9PT1pKW4uZXh0ZW5zaW9ucz10aGlzLkwzKG4saSk7ZWxzZSBpZihcImV4dGVuZFwiPT09aSl0aGlzLnYzKG4saSk7ZWxzZXtpZighdC5ZMi50ZXN0KGkpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7dGhpcy5OMyhuLFwib3B0aW9uYWxcIixpKX19cmV0dXJuIGUubWVzc2FnZXMucHVzaChuKSxufSxvLk4zPWZ1bmN0aW9uKGUscixpKXt2YXIgbj17fSxzPW51bGw7aWYobi5ydWxlPXIsbi5vcHRpb25zPXt9LHI9dm9pZCAwIT09aT9pOnRoaXMuaDMubmV4dCgpLFwibWFwXCI9PT1uLnJ1bGUpe2lmKHIhPT10LkcyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocj10aGlzLmgzLm5leHQoKSwhdC50Ti50ZXN0KHIpJiYhdC5ZMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYobi5rZXl0eXBlPXIsKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5MMil0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKHI9dGhpcy5oMy5uZXh0KCksIXQudE4udGVzdChyKSYmIXQuWTIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKG4udHlwZT1yLChyPXRoaXMuaDMubmV4dCgpKSE9PXQuVjIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuaDMubmV4dCgpLCF0LnpPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihuLm5hbWU9ciwocj10aGlzLmgzLm5leHQoKSkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBmaWVsZCBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiOiBcIityKTtyPXRoaXMuaDMubmV4dCgpO3RyeXtuLmlkPXRoaXMuUzMocil9Y2F0Y2godCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9aWYocj10aGlzLmgzLm5leHQoKSxyPT09dC5BMiYmKHRoaXMuTzMoZSxuLHIpLHI9dGhpcy5oMy5uZXh0KCkpLHIhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX1lbHNlIGlmKFwiZ3JvdXBcIj09PXIpe2lmKHM9dGhpcy5kMyhlLG4sciksIS9eW0EtWl0vLnRlc3Qocy5uYW1lKSl0aHJvdyBFcnJvcihcIkdyb3VwIG5hbWVzIG11c3Qgc3RhcnQgd2l0aCBhIGNhcGl0YWwgbGV0dGVyXCIpO24udHlwZT1zLm5hbWUsbi5uYW1lPXMubmFtZS50b0xvd2VyQ2FzZSgpLHI9dGhpcy5oMy5IaygpLHI9PT10LkQyJiZ0aGlzLmgzLm5leHQoKX1lbHNle2lmKCF0LnROLnRlc3QocikmJiF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIHR5cGUgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKG4udHlwZT1yLHI9dGhpcy5oMy5uZXh0KCksIXQuek8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgbmFtZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYobi5uYW1lPXIsKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gZmllbGQgXCIrZS5uYW1lK1wiI1wiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7cj10aGlzLmgzLm5leHQoKTt0cnl7bi5pZD10aGlzLlMzKHIpfWNhdGNoKHQpe3Rocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiNcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpfWlmKHI9dGhpcy5oMy5uZXh0KCkscj09PXQuQTImJih0aGlzLk8zKGUsbixyKSxyPXRoaXMuaDMubmV4dCgpKSxyIT09dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZGVsaW1pdGVyIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9cmV0dXJuIGUuZmllbGRzLnB1c2gobiksbn0sby5EMz1mdW5jdGlvbihlLHIpe2lmKHI9dGhpcy5oMy5uZXh0KCksIXQuek8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgb25lb2YgbmFtZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIGksbj1yLHM9W107aWYoKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5PUEVOKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBvbmVvZiBcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtmb3IoO3RoaXMuaDMuSGsoKSE9PXQuUDI7KWk9dGhpcy5OMyhlLFwib3B0aW9uYWxcIiksaS5NMz1uLHMucHVzaChpLmlkKTt0aGlzLmgzLm5leHQoKSxlLkEzW25dPXN9LG8uTzM9ZnVuY3Rpb24oZSxyLGkpe2Zvcih2YXIgbj0hMDs7KXtpZigoaT10aGlzLmgzLm5leHQoKSk9PT10Lk8yKWJyZWFrO2lmKGk9PT10Lk4yKXtpZihuKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBvcHRpb25zIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7aT10aGlzLmgzLm5leHQoKX10aGlzLkYzKGUscixpKSxuPSExfX0sby5GMz1mdW5jdGlvbihlLHIsaSl7dmFyIG49ITE7aWYoaT09PXQuSDImJihpPXRoaXMuaDMubmV4dCgpLG49ITApLCF0LlkyLnRlc3QoaSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIG9wdGlvbiBpbiBcIitlLm5hbWUrXCIjXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTt2YXIgcz1pO2lmKGk9dGhpcy5oMy5uZXh0KCksbil7aWYoaSE9PXQucTIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBcIitlLm5hbWUrXCIjXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtzPVwiKFwiK3MrXCIpXCIsaT10aGlzLmgzLm5leHQoKSx0LlcyLnRlc3QoaSkmJihzKz1pLGk9dGhpcy5oMy5uZXh0KCkpfWlmKGkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBcIitlLm5hbWUrXCIjXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTt2YXIgbztpZigoaT10aGlzLmgzLkhrKCkpPT09dC5NMnx8aT09PXQuVTIpbz10aGlzLkkzKCk7ZWxzZSBpZih0LnoyLnRlc3QoaSwhMCkpbz10aGlzLm0zKHRoaXMuaDMubmV4dCgpLCEwKTtlbHNlIGlmKHQuQk9PTC50ZXN0KGkpKW89XCJ0cnVlXCI9PT10aGlzLmgzLm5leHQoKS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoIXQuWTIudGVzdChpKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrci5uYW1lK1wiLCBvcHRpb24gXCIrcytcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7bz10aGlzLmgzLm5leHQoKX1yLm9wdGlvbnNbc109b30sby5mMz1mdW5jdGlvbihlLHIpe3ZhciBpPXt9O2lmKHI9dGhpcy5oMy5uZXh0KCksIXQuek8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZW51bSBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihpLm5hbWU9ciwocj10aGlzLmgzLm5leHQoKSkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIGVudW0gXCIraS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtmb3IoaS52YWx1ZXM9W10saS5vcHRpb25zPXt9Ozspe2lmKChyPXRoaXMuaDMubmV4dCgpKT09PXQuUDIpe3I9dGhpcy5oMy5IaygpLHI9PT10LkQyJiZ0aGlzLmgzLm5leHQoKTticmVha31pZihcIm9wdGlvblwiPT1yKXRoaXMuZzMoaSxyKTtlbHNle2lmKCF0LnpPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG5hbWUgaW4gZW51bSBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3RoaXMuVTMoaSxyKX19ZS5jMy5wdXNoKGkpfSxvLlUzPWZ1bmN0aW9uKGUscil7dmFyIGk9e307aWYoaS5uYW1lPXIsKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gZW51bSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3I9dGhpcy5oMy5uZXh0KCk7dHJ5e2kuaWQ9dGhpcy5TMyhyLCEwKX1jYXRjaCh0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgaWQgaW4gZW51bSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpfWlmKGUudmFsdWVzLnB1c2goaSksKHI9dGhpcy5oMy5uZXh0KCkpPT09dC5BMil7dmFyIG49e29wdGlvbnM6e319O3RoaXMuTzMoZSxuLHIpLHI9dGhpcy5oMy5uZXh0KCl9aWYociE9PXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBlbnVtIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9LG8uTDM9ZnVuY3Rpb24ocixpKXt2YXIgbj1bXTtpZihpPXRoaXMuaDMubmV4dCgpLFwibWluXCI9PT1pP24ucHVzaChlLlQyKTpcIm1heFwiPT09aT9uLnB1c2goZS5tMik6bi5wdXNoKHRoaXMubTMoaSkpLFwidG9cIiE9PShpPXRoaXMuaDMubmV4dCgpKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZXh0ZW5zaW9ucyBkZWxpbWl0ZXIgaW4gbWVzc2FnZSBcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO2lmKGk9dGhpcy5oMy5uZXh0KCksXCJtaW5cIj09PWk/bi5wdXNoKGUuVDIpOlwibWF4XCI9PT1pP24ucHVzaChlLm0yKTpuLnB1c2godGhpcy5tMyhpKSksKGk9dGhpcy5oMy5uZXh0KCkpIT09dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZXh0ZW5zaW9ucyBkZWxpbWl0ZXIgaW4gbWVzc2FnZSBcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO3JldHVybiBufSxvLnYzPWZ1bmN0aW9uKGUscil7aWYocj10aGlzLmgzLm5leHQoKSwhdC5ZMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBtZXNzYWdlIG5hbWUgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3ZhciBpPXt9O2lmKGkuQjM9cixpLmZpZWxkcz1bXSwocj10aGlzLmgzLm5leHQoKSkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIGV4dGVuZCBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2Zvcig7Oyl7aWYoKHI9dGhpcy5oMy5uZXh0KCkpPT09dC5QMil7cj10aGlzLmgzLkhrKCkscj09dC5EMiYmdGhpcy5oMy5uZXh0KCk7YnJlYWt9aWYodC5RMi50ZXN0KHIpKXRoaXMuTjMoaSxyKTtlbHNle2lmKCF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIGV4dGVuZCBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3RoaXMuTjMoaSxcIm9wdGlvbmFsXCIscil9fXJldHVybiBlLm1lc3NhZ2VzLnB1c2goaSksaX0sby5UMz1mdW5jdGlvbihlKXt2YXIgcj10aGlzLmgzLm5leHQoKTtpZihyIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKChyPXRoaXMuaDMuSGsoKSkhPT10Lk0yJiZyIT09dC5VMil0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO3ZhciBpPXRoaXMuSTMoKTtpZigocj10aGlzLmgzLm5leHQoKSkhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7cmV0dXJuIGl9LG8udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlBhcnNlclwifSxyLlIwPXMscn0odCx0LkxhbmcpLHQuSDM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9dC5nMltyXSksdm9pZCAwPT09ci5kZWZhdWx0VmFsdWUpdGhyb3cgRXJyb3IoXCJkZWZhdWx0IHZhbHVlIGZvciB0eXBlIFwiK3IubmFtZStcIiBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiByPT10LmcyLmJ5dGVzP25ldyBlKDApOnIuZGVmYXVsdFZhbHVlfWZ1bmN0aW9uIGkoZSxyKXtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sb3cmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmhpZ2gmJlwiYm9vbGVhblwiPT10eXBlb2YgZS5GUCYmZS5sb3c9PT1lLmxvdyYmZS5oaWdoPT09ZS5oaWdoKXJldHVybiBuZXcgdC5xXyhlLmxvdyxlLmhpZ2gsdm9pZCAwPT09cj9lLkZQOnIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB0LnFfLmtFKGUscnx8ITEsMTApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiB0LnFfLkRFKGUscnx8ITEpO3Rocm93IEVycm9yKFwibm90IGNvbnZlcnRpYmxlIHRvIExvbmdcIil9ZnVuY3Rpb24gbihlLHIpe3ZhciBpPXIuUFAoKSxzPTcmaSxvPWk+Pj4zO3N3aXRjaChzKXtjYXNlIHQubzIuYTI6ZG97aT1yLlpfKCl9d2hpbGUoMTI4PT0oMTI4JmkpKTticmVhaztjYXNlIHQubzIuaDI6ci5vZmZzZXQrPTg7YnJlYWs7Y2FzZSB0Lm8yLmMyOmk9ci5QUCgpLHIub2Zmc2V0Kz1pO2JyZWFrO2Nhc2UgdC5vMi51MjpuKG8scik7YnJlYWs7Y2FzZSB0Lm8yLmwyOmlmKG89PT1lKXJldHVybiExO3Rocm93IEVycm9yKFwiSWxsZWdhbCBHUk9VUEVORCBhZnRlciB1bmtub3duIGdyb3VwOiBcIitvK1wiIChcIitlK1wiIGV4cGVjdGVkKVwiKTtjYXNlIHQubzIuZDI6ci5vZmZzZXQrPTQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIklsbGVnYWwgd2lyZSB0eXBlIGluIHVua25vd24gZ3JvdXAgXCIrZStcIjogXCIrcyl9cmV0dXJuITB9dmFyIHM9e30sbz1mdW5jdGlvbihlLHQscil7dGhpcy54Mz1lLHRoaXMucGFyZW50PXQsdGhpcy5uYW1lPXIsdGhpcy5jbGFzc05hbWV9LGE9by5wcm90b3R5cGU7YS5xMz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm5hbWUsdD10aGlzOzspe2lmKG51bGw9PSh0PXQucGFyZW50KSlicmVhaztlPXQubmFtZStcIi5cIitlfXJldHVybiBlfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybihlP3RoaXMuY2xhc3NOYW1lK1wiIFwiOlwiXCIpK3RoaXMucTMoKX0sYS5YZz1mdW5jdGlvbigpe3Rocm93IEVycm9yKHRoaXMudG9TdHJpbmcoITApK1wiIGNhbm5vdCBiZSBidWlsdCBkaXJlY3RseVwiKX0scy5HMz1vO3ZhciBoPWZ1bmN0aW9uKGUsdCxyLGksbil7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuY2xhc3NOYW1lPVwiTmFtZXNwYWNlXCIsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLm9wdGlvbnM9aXx8e30sdGhpcy55Mz1ufHxcInByb3RvMlwifSxjPWgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpO2MuVjM9ZnVuY3Rpb24oZSl7aWYobnVsbD09KGU9ZXx8bnVsbCkpcmV0dXJuIHRoaXMuY2hpbGRyZW4uc2xpY2UoKTtmb3IodmFyIHQ9W10scj0wLGk9dGhpcy5jaGlsZHJlbi5sZW5ndGg7cjxpOysrcil0aGlzLmNoaWxkcmVuW3JdaW5zdGFuY2VvZiBlJiZ0LnB1c2godGhpcy5jaGlsZHJlbltyXSk7cmV0dXJuIHR9LGMuajM9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYodD10aGlzLlEzKGUubmFtZSkpaWYodCBpbnN0YW5jZW9mIHAuSzMmJnQubmFtZSE9PXQuWTMmJm51bGw9PT10aGlzLlEzKHQuWTMpKXQubmFtZT10LlkzO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgcC5LMyYmZS5uYW1lIT09ZS5ZMyYmbnVsbD09PXRoaXMuUTMoZS5ZMykpKXRocm93IEVycm9yKFwiRHVwbGljYXRlIG5hbWUgaW4gbmFtZXNwYWNlIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitlLm5hbWUpO2UubmFtZT1lLlkzfXRoaXMuY2hpbGRyZW4ucHVzaChlKX0sYy5RMz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJudW1iZXJcIj09dHlwZW9mIGU/XCJpZFwiOlwibmFtZVwiLHI9MCxpPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3I8aTsrK3IpaWYodGhpcy5jaGlsZHJlbltyXVt0XT09PWUpcmV0dXJuIHRoaXMuY2hpbGRyZW5bcl07cmV0dXJuIG51bGx9LGMucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCIuXCIpOmUsaT10aGlzLG49MDtpZihcIlwiPT09cltuXSl7Zm9yKDtudWxsIT09aS5wYXJlbnQ7KWk9aS5wYXJlbnQ7bisrfXZhciBvO2Rve2Rve2lmKCEobz1pLlEzKHJbbl0pKXx8IShvIGluc3RhbmNlb2Ygcy5HMyl8fHQmJm8gaW5zdGFuY2VvZiBzLkpkLkszKXtpPW51bGw7YnJlYWt9aT1vLG4rK313aGlsZShuPHIubGVuZ3RoKTtpZihudWxsIT1pKWJyZWFrO2lmKG51bGwhPT10aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQucmVzb2x2ZShlLHQpfXdoaWxlKG51bGwhPWkpO3JldHVybiBpfSxjLlczPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9ZTtkb3t0LnVuc2hpZnQoci5uYW1lKSxyPXIucGFyZW50fXdoaWxlKG51bGwhPT1yKTtmb3IodmFyIGk9MTtpPD10Lmxlbmd0aDtpKyspe3ZhciBuPXQuc2xpY2UodC5sZW5ndGgtaSk7aWYoZT09PXRoaXMucmVzb2x2ZShuLCEoZSBpbnN0YW5jZW9mIHMuSmQuSzMpKSlyZXR1cm4gbi5qb2luKFwiLlwiKX1yZXR1cm4gZS5xMygpfSxjLlhnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9e30scj10aGlzLmNoaWxkcmVuLGk9MCxuPXIubGVuZ3RoO2k8bjsrK2kpKGU9cltpXSlpbnN0YW5jZW9mIGgmJih0W2UubmFtZV09ZS5YZygpKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIiRvcHRpb25zXCIse3ZhbHVlOnRoaXMuejMoKX0pLHR9LGMuejM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMpLHI9MCxpPXQubGVuZ3RoO3I8aTsrK3Ipe3ZhciBuPXRbcl0scz10aGlzLm9wdGlvbnNbdFtyXV07ZVtuXT1zfXJldHVybiBlfSxjLkozPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMub3B0aW9uczp2b2lkIDAhPT10aGlzLm9wdGlvbnNbZV0/dGhpcy5vcHRpb25zW2VdOm51bGx9LHMuWDM9aDt2YXIgdT1mdW5jdGlvbihlLHIsaSxuKXtpZih0aGlzLnR5cGU9ZSx0aGlzLlozPXIsdGhpcy5lND1pLHRoaXMueTM9bixpJiZ0LnYyLmluZGV4T2YoZSk8MCl0aHJvdyBFcnJvcihcIkludmFsaWQgbWFwIGtleSB0eXBlOiBcIitlLm5hbWUpfSxsPXUucHJvdG90eXBlO2wudDQ9cixsLnI0PWZ1bmN0aW9uKHIpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHZhbHVlIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIiBvZiB0eXBlIFwiK3RoaXMudHlwZS5uYW1lK1wiOiBcIitlK1wiIChcIit0K1wiKVwiKX0uYmluZCh0aGlzKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6Y2FzZSB0LmcyLnNpbnQzMjpjYXNlIHQuZzIuc2ZpeGVkMzI6cmV0dXJuKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyPT09ciYmciUxIT0wKSYmbih0eXBlb2YgcixcIm5vdCBhbiBpbnRlZ2VyXCIpLHI+NDI5NDk2NzI5NT8wfHI6cjtjYXNlIHQuZzIudWludDMyOmNhc2UgdC5nMi5maXhlZDMyOnJldHVybihcIm51bWJlclwiIT10eXBlb2Ygcnx8cj09PXImJnIlMSE9MCkmJm4odHlwZW9mIHIsXCJub3QgYW4gaW50ZWdlclwiKSxyPDA/cj4+PjA6cjtjYXNlIHQuZzIuaW50NjQ6Y2FzZSB0LmcyLnNpbnQ2NDpjYXNlIHQuZzIuc2ZpeGVkNjQ6aWYodC5xXyl0cnl7cmV0dXJuIGkociwhMSl9Y2F0Y2goZSl7bih0eXBlb2YgcixlLm1lc3NhZ2UpfWVsc2Ugbih0eXBlb2YgcixcInJlcXVpcmVzIExvbmcuanNcIik7Y2FzZSB0LmcyLnVpbnQ2NDpjYXNlIHQuZzIuZml4ZWQ2NDppZih0LnFfKXRyeXtyZXR1cm4gaShyLCEwKX1jYXRjaChlKXtuKHR5cGVvZiByLGUubWVzc2FnZSl9ZWxzZSBuKHR5cGVvZiByLFwicmVxdWlyZXMgTG9uZy5qc1wiKTtjYXNlIHQuZzIuYm9vbDpyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJm4odHlwZW9mIHIsXCJub3QgYSBib29sZWFuXCIpLHI7Y2FzZSB0LmcyLmZsb2F0OmNhc2UgdC5nMi5kb3VibGU6cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHImJm4odHlwZW9mIHIsXCJub3QgYSBudW1iZXJcIikscjtjYXNlIHQuZzIuc3RyaW5nOnJldHVyblwic3RyaW5nXCI9PXR5cGVvZiByfHxyJiZyIGluc3RhbmNlb2YgU3RyaW5nfHxuKHR5cGVvZiByLFwibm90IGEgc3RyaW5nXCIpLFwiXCIrcjtjYXNlIHQuZzIuYnl0ZXM6cmV0dXJuIGUuVl8ocik/cjplLndyYXAocixcImJhc2U2NFwiKTtjYXNlIHQuZzIuZW51bTp2YXIgcz10aGlzLlozLlYzKHQuSDMubjQuaTQpO2ZvcihhPTA7YTxzLmxlbmd0aDthKyspe2lmKHNbYV0ubmFtZT09cilyZXR1cm4gc1thXS5pZDtpZihzW2FdLmlkPT1yKXJldHVybiBzW2FdLmlkfWlmKFwicHJvdG8zXCI9PT10aGlzLnkzKXJldHVybihcIm51bWJlclwiIT10eXBlb2Ygcnx8cj09PXImJnIlMSE9MCkmJm4odHlwZW9mIHIsXCJub3QgYW4gaW50ZWdlclwiKSwocj40Mjk0OTY3Mjk1fHxyPDApJiZuKHR5cGVvZiByLFwibm90IGluIHJhbmdlIGZvciB1aW50MzJcIikscjtuKHIsXCJub3QgYSB2YWxpZCBlbnVtIHZhbHVlXCIpO2Nhc2UgdC5nMi5ncm91cDpjYXNlIHQuZzIubWVzc2FnZTppZihyJiZcIm9iamVjdFwiPT10eXBlb2Ygcnx8bih0eXBlb2YgcixcIm9iamVjdCBleHBlY3RlZFwiKSxyIGluc3RhbmNlb2YgdGhpcy5aMy5zNClyZXR1cm4gcjtpZihyIGluc3RhbmNlb2YgdC5vNC5KZCl7dmFyIG89e307Zm9yKHZhciBhIGluIHIpci5oYXNPd25Qcm9wZXJ0eShhKSYmKG9bYV09clthXSk7cj1vfXJldHVybiBuZXcgdGhpcy5aMy5zNChyKX10aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3IrXCIgKHVuZGVmaW5lZCB0eXBlIFwiK3RoaXMudHlwZStcIilcIil9LGwuYTQ9ZnVuY3Rpb24ocixpKXtpZihudWxsPT09aSlyZXR1cm4gMDt2YXIgbjtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6cmV0dXJuIGk8MD9lLkRQKGkpOmUuUlAoaSk7Y2FzZSB0LmcyLnVpbnQzMjpyZXR1cm4gZS5SUChpKTtjYXNlIHQuZzIuc2ludDMyOnJldHVybiBlLlJQKGUud1AoaSkpO2Nhc2UgdC5nMi5maXhlZDMyOmNhc2UgdC5nMi5zZml4ZWQzMjpjYXNlIHQuZzIuZmxvYXQ6cmV0dXJuIDQ7Y2FzZSB0LmcyLmludDY0OmNhc2UgdC5nMi51aW50NjQ6cmV0dXJuIGUuRFAoaSk7Y2FzZSB0LmcyLnNpbnQ2NDpyZXR1cm4gZS5EUChlLk1QKGkpKTtjYXNlIHQuZzIuZml4ZWQ2NDpjYXNlIHQuZzIuc2ZpeGVkNjQ6cmV0dXJuIDg7Y2FzZSB0LmcyLmJvb2w6cmV0dXJuIDE7Y2FzZSB0LmcyLmVudW06cmV0dXJuIGUuUlAoaSk7Y2FzZSB0LmcyLmRvdWJsZTpyZXR1cm4gODtjYXNlIHQuZzIuc3RyaW5nOnJldHVybiBuPWUudEEoaSksZS5SUChuKStuO2Nhc2UgdC5nMi5ieXRlczppZihpLnZBKCk8MCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpLnZBKCkrXCIgYnl0ZXMgcmVtYWluaW5nXCIpO3JldHVybiBlLlJQKGkudkEoKSkraS52QSgpO2Nhc2UgdC5nMi5tZXNzYWdlOnJldHVybiBuPXRoaXMuWjMuaDQoaSksZS5SUChuKStuO2Nhc2UgdC5nMi5ncm91cDpyZXR1cm4obj10aGlzLlozLmg0KGkpKStlLlJQKHI8PDN8dC5vMi5sMil9dGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIElsbGVnYWwgdmFsdWUgdG8gZW5jb2RlIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpK1wiICh1bmtub3duIHR5cGUpXCIpfSxsLmM0PWZ1bmN0aW9uKHIsaSxuKXtpZihudWxsPT09aSlyZXR1cm4gbjtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6aTwwP24uR1AoaSk6bi5DUChpKTticmVhaztjYXNlIHQuZzIudWludDMyOm4uQ1AoaSk7YnJlYWs7Y2FzZSB0LmcyLnNpbnQzMjpuLl9QKGkpO2JyZWFrO2Nhc2UgdC5nMi5maXhlZDMyOm4uaFAoaSk7YnJlYWs7Y2FzZSB0LmcyLnNmaXhlZDMyOm4ub1AoaSk7YnJlYWs7Y2FzZSB0LmcyLmludDY0OmNhc2UgdC5nMi51aW50NjQ6bi5HUChpKTticmVhaztjYXNlIHQuZzIuc2ludDY0Om4uVlAoaSk7YnJlYWs7Y2FzZSB0LmcyLmZpeGVkNjQ6bi5mUChpKTticmVhaztjYXNlIHQuZzIuc2ZpeGVkNjQ6bi51UChpKTticmVhaztjYXNlIHQuZzIuYm9vbDpcInN0cmluZ1wiPT10eXBlb2YgaT9uLkNQKFwiZmFsc2VcIj09PWkudG9Mb3dlckNhc2UoKT8wOiEhaSk6bi5DUChpPzE6MCk7YnJlYWs7Y2FzZSB0LmcyLmVudW06bi5DUChpKTticmVhaztjYXNlIHQuZzIuZmxvYXQ6bi5FUChpKTticmVhaztjYXNlIHQuZzIuZG91YmxlOm4ubVAoaSk7YnJlYWs7Y2FzZSB0LmcyLnN0cmluZzpuLnNBKGkpO2JyZWFrO2Nhc2UgdC5nMi5ieXRlczppZihpLnZBKCk8MCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpLnZBKCkrXCIgYnl0ZXMgcmVtYWluaW5nXCIpO3ZhciBzPWkub2Zmc2V0O24uQ1AoaS52QSgpKSxuLmFwcGVuZChpKSxpLm9mZnNldD1zO2JyZWFrO2Nhc2UgdC5nMi5tZXNzYWdlOnZhciBvPShuZXcgZSkubEEoKTt0aGlzLlozLmVuY29kZShpLG8pLG4uQ1Aoby5vZmZzZXQpLG4uYXBwZW5kKG8ueGcoKSk7YnJlYWs7Y2FzZSB0LmcyLmdyb3VwOnRoaXMuWjMuZW5jb2RlKGksbiksbi5DUChyPDwzfHQubzIubDIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIElsbGVnYWwgdmFsdWUgdG8gZW5jb2RlIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpK1wiICh1bmtub3duIHR5cGUpXCIpfXJldHVybiBufSxsLmRlY29kZT1mdW5jdGlvbihlLHIsaSl7aWYociE9dGhpcy50eXBlLkUyKXRocm93IEVycm9yKFwiVW5leHBlY3RlZCB3aXJlIHR5cGUgZm9yIGVsZW1lbnRcIik7dmFyIG4scztzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6cmV0dXJuIDB8ZS5QUCgpO2Nhc2UgdC5nMi51aW50MzI6cmV0dXJuIGUuUFAoKT4+PjA7Y2FzZSB0LmcyLnNpbnQzMjpyZXR1cm4gMHxlLk9QKCk7Y2FzZSB0LmcyLmZpeGVkMzI6cmV0dXJuIGUuY1AoKT4+PjA7Y2FzZSB0LmcyLnNmaXhlZDMyOnJldHVybiAwfGUuYVAoKTtjYXNlIHQuZzIuaW50NjQ6cmV0dXJuIGUualAoKTtjYXNlIHQuZzIudWludDY0OnJldHVybiBlLmpQKCkuQlAoKTtjYXNlIHQuZzIuc2ludDY0OnJldHVybiBlLlFQKCk7Y2FzZSB0LmcyLmZpeGVkNjQ6cmV0dXJuIGUuZ1AoKTtjYXNlIHQuZzIuc2ZpeGVkNjQ6cmV0dXJuIGUucFAoKTtjYXNlIHQuZzIuYm9vbDpyZXR1cm4hIWUuUFAoKTtjYXNlIHQuZzIuZW51bTpyZXR1cm4gZS5QUCgpO2Nhc2UgdC5nMi5mbG9hdDpyZXR1cm4gZS5UUCgpO2Nhc2UgdC5nMi5kb3VibGU6cmV0dXJuIGUuRV8oKTtjYXNlIHQuZzIuc3RyaW5nOnJldHVybiBlLm9BKCk7Y2FzZSB0LmcyLmJ5dGVzOmlmKHM9ZS5QUCgpLGUudkEoKTxzKXRocm93IEVycm9yKFwiSWxsZWdhbCBudW1iZXIgb2YgYnl0ZXMgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitzK1wiIHJlcXVpcmVkIGJ1dCBnb3Qgb25seSBcIitlLnZBKCkpO3JldHVybiBuPWUuY2xvbmUoKSxuLkZfPW4ub2Zmc2V0K3MsZS5vZmZzZXQrPXMsbjtjYXNlIHQuZzIubWVzc2FnZTpyZXR1cm4gcz1lLlBQKCksdGhpcy5aMy5kZWNvZGUoZSxzKTtjYXNlIHQuZzIuZ3JvdXA6cmV0dXJuIHRoaXMuWjMuZGVjb2RlKGUsLTEsaSl9dGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIElsbGVnYWwgZGVjb2RlIHR5cGVcIil9LGwudTQ9ZnVuY3Rpb24ocil7aWYoIXRoaXMuZTQpdGhyb3cgRXJyb3IoXCJ2YWx1ZUZyb21TdHJpbmcoKSBjYWxsZWQgb24gbm9uLW1hcC1rZXkgZWxlbWVudFwiKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6Y2FzZSB0LmcyLnNpbnQzMjpjYXNlIHQuZzIuc2ZpeGVkMzI6Y2FzZSB0LmcyLnVpbnQzMjpjYXNlIHQuZzIuZml4ZWQzMjpyZXR1cm4gdGhpcy5yNChwYXJzZUludChyKSk7Y2FzZSB0LmcyLmludDY0OmNhc2UgdC5nMi5zaW50NjQ6Y2FzZSB0LmcyLnNmaXhlZDY0OmNhc2UgdC5nMi51aW50NjQ6Y2FzZSB0LmcyLmZpeGVkNjQ6cmV0dXJuIHRoaXMucjQocik7Y2FzZSB0LmcyLmJvb2w6cmV0dXJuXCJ0cnVlXCI9PT1yO2Nhc2UgdC5nMi5zdHJpbmc6cmV0dXJuIHRoaXMucjQocik7Y2FzZSB0LmcyLmJ5dGVzOnJldHVybiBlLktfKHIpfX0sbC5sND1mdW5jdGlvbihlKXtpZighdGhpcy5lNCl0aHJvdyBFcnJvcihcInZhbHVlVG9TdHJpbmcoKSBjYWxsZWQgb24gbm9uLW1hcC1rZXkgZWxlbWVudFwiKTtyZXR1cm4gdGhpcy50eXBlPT09dC5nMi5ieXRlcz9lLnRvU3RyaW5nKFwiYmluYXJ5XCIpOmUudG9TdHJpbmcoKX0scy5FbGVtZW50PXU7dmFyIHA9ZnVuY3Rpb24oZSxyLGksbixzLG8pe2guY2FsbCh0aGlzLGUscixpLG4sbyksdGhpcy5jbGFzc05hbWU9XCJNZXNzYWdlXCIsdGhpcy5leHRlbnNpb25zPVt0LlQyLHQubTJdLHRoaXMuczQ9bnVsbCx0aGlzLlAzPSEhcyx0aGlzLmQ0PW51bGwsdGhpcy5mND1udWxsLHRoaXMuZzQ9bnVsbH0sZD1wLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGgucHJvdG90eXBlKTtkLlhnPWZ1bmN0aW9uKHIpe2lmKHRoaXMuczQmJiFyKXJldHVybiB0aGlzLnM0O3ZhciBpPWZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaShyLG4scyxvLGEpe3ZhciBoPXZvaWQgMDtpZihudWxsPT09cnx8XCJvYmplY3RcIiE9dHlwZW9mIHIpe2lmKG89PXQuZzIuZW51bSlmb3IodmFyIGM9YS5WMyh0LkgzLm40Lmk0KSx1PTA7dTxjLmxlbmd0aDt1KyspaWYoY1t1XS5pZD09PXIpe3I9Y1t1XS5uYW1lO2JyZWFrfWg9cn1lbHNlIGlmKHIgaW5zdGFuY2VvZiBlKWg9bj9yLm1BKCk6ci55QSgpO2Vsc2UgaWYodC5idi5pc0FycmF5KHIpKXt2YXIgbD1yO2g9W107Zm9yKHZhciBwPTA7cDxsLmxlbmd0aDtwKyspaC5wdXNoKGkobFtwXSxuLHMsbyxhKSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgdC5NYXApe3ZhciBkPXIuZW50cmllcygpO2g9e307Zm9yKHZhciBmPWQubmV4dCgpOyFmLmRvbmU7Zj1kLm5leHQoKSloW3IuRTQubDQoZi52YWx1ZVswXSldPWkoZi52YWx1ZVsxXSxuLHMsci52NC50eXBlLHIudjQuWjMpfWVsc2UgaWYociBpbnN0YW5jZW9mIHQucV8paD1zP3IudG9TdHJpbmcoKTpuZXcgdC5xXyhyKTtlbHNle2g9e307dmFyIGc9ci55NCxFPXZvaWQgMDtmb3IodmFyIHUgaW4gcilpZihyLmhhc093blByb3BlcnR5KHUpKXt2YXIgdj1yW3VdO2cmJihFPWcuUTModSkpLGhbdV09aSh2LG4scyxFLnR5cGUsRS5aMyl9fXJldHVybiBofXZhciBuPXIuVjModC5IMy5KZC5LMykscz1yLlYzKHQuSDMuSmQuVDQpLG89ZnVuY3Rpb24oaSxvKXt0Lm80LkpkLmNhbGwodGhpcyk7Zm9yKHZhciBhPTAsaD1zLmxlbmd0aDthPGg7KythKXRoaXNbc1thXS5uYW1lXT1udWxsO2ZvcihhPTAsaD1uLmxlbmd0aDthPGg7KythKXt2YXIgYz1uW2FdO3RoaXNbYy5uYW1lXT1jLnJlcGVhdGVkP1tdOmMubWFwP25ldyB0Lk1hcChjKTpudWxsLCFjLnJlcXVpcmVkJiZcInByb3RvM1wiIT09ci55M3x8bnVsbD09PWMuZGVmYXVsdFZhbHVlfHwodGhpc1tjLm5hbWVdPWMuZGVmYXVsdFZhbHVlKX1pZihhcmd1bWVudHMubGVuZ3RoPjApe3ZhciB1O2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHxcIm9iamVjdFwiIT10eXBlb2YgaXx8XCJmdW5jdGlvblwiPT10eXBlb2YgaS5lbmNvZGV8fHQuYnYuaXNBcnJheShpKXx8aSBpbnN0YW5jZW9mIHQuTWFwfHxpIGluc3RhbmNlb2YgZXx8aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0LnFfJiZpIGluc3RhbmNlb2YgdC5xXylmb3IoYT0wLGg9YXJndW1lbnRzLmxlbmd0aDthPGg7KythKXZvaWQgMCE9PSh1PWFyZ3VtZW50c1thXSkmJnRoaXMubTQoblthXS5uYW1lLHUpO2Vsc2UgdGhpcy5tNChpKX19LGE9by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0Lm80LkpkLnByb3RvdHlwZSk7YS5hZGQ9ZnVuY3Rpb24oZSxpLG4pe3ZhciBzPXIuZzRbZV07aWYoIW4pe2lmKCFzKXRocm93IEVycm9yKHRoaXMrXCIjXCIrZStcIiBpcyB1bmRlZmluZWRcIik7aWYoIShzIGluc3RhbmNlb2YgdC5IMy5KZC5LMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIitzLnRvU3RyaW5nKCEwKSk7aWYoIXMucmVwZWF0ZWQpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIHJlcGVhdGVkIGZpZWxkXCIpfW51bGw9PT10aGlzW3MubmFtZV0mJih0aGlzW3MubmFtZV09W10pLHRoaXNbcy5uYW1lXS5wdXNoKG4/aTpzLnI0KGksITApKX0sYS5JND1hLmFkZCxhLnNldD1mdW5jdGlvbihlLGksbil7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpe249aTtmb3IodmFyIHMgaW4gZSllLmhhc093blByb3BlcnR5KHMpJiZ2b2lkIDAhPT0oaT1lW3NdKSYmdGhpcy5tNChzLGksbik7cmV0dXJuIHRoaXN9dmFyIG89ci5nNFtlXTtpZihuKXRoaXNbby5uYW1lXT1pO2Vsc2V7aWYoIW8pdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiB1bmRlZmluZWRcIik7aWYoIShvIGluc3RhbmNlb2YgdC5IMy5KZC5LMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIitvLnRvU3RyaW5nKCEwKSk7dGhpc1tvLm5hbWVdPWk9by5yNChpKX1yZXR1cm4gby5NMyYmKG51bGwhPT1pPyhudWxsIT09dGhpc1tvLk0zLm5hbWVdJiYodGhpc1t0aGlzW28uTTMubmFtZV1dPW51bGwpLHRoaXNbby5NMy5uYW1lXT1vLm5hbWUpOm8uTTMubmFtZT09PWUmJih0aGlzW28uTTMubmFtZV09bnVsbCkpLHRoaXN9LGEubTQ9YS5zZXQsYS5nZXQ9ZnVuY3Rpb24oZSxpKXtpZihpKXJldHVybiB0aGlzW2VdO3ZhciBuPXIuZzRbZV07aWYoIShuJiZuIGluc3RhbmNlb2YgdC5IMy5KZC5LMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiB1bmRlZmluZWRcIik7aWYoIShuIGluc3RhbmNlb2YgdC5IMy5KZC5LMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIituLnRvU3RyaW5nKCEwKSk7cmV0dXJuIHRoaXNbbi5uYW1lXX0sYS5TND1hLmdldDtmb3IodmFyIGg9MDtoPG4ubGVuZ3RoO2grKyl7dmFyIGM9bltoXTtjIGluc3RhbmNlb2YgdC5IMy5KZC5SNHx8ci54My5vcHRpb25zLlMyJiZmdW5jdGlvbihlKXt2YXIgdD1lLlkzLnJlcGxhY2UoLyhfW2EtekEtWl0pL2csZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKS5yZXBsYWNlKFwiX1wiLFwiXCIpfSk7dD10LnN1YnN0cmluZygwLDEpLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHJpbmcoMSk7dmFyIGk9ZS5ZMy5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oZSl7cmV0dXJuXCJfXCIrZX0pLG49ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc1tlLm5hbWVdPXI/dDplLnI0KHQpLHRoaXN9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlLm5hbWVdfTtudWxsPT09ci5RMyhcInNldFwiK3QpJiYoYVtcInNldFwiK3RdPW4pLG51bGw9PT1yLlEzKFwic2V0X1wiK2kpJiYoYVtcInNldF9cIitpXT1uKSxudWxsPT09ci5RMyhcImdldFwiK3QpJiYoYVtcImdldFwiK3RdPXMpLG51bGw9PT1yLlEzKFwiZ2V0X1wiK2kpJiYoYVtcImdldF9cIitpXT1zKX0oYyl9YS5lbmNvZGU9ZnVuY3Rpb24odCxpKXtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihpPXQsdD12b2lkIDApO3ZhciBuPSExO3R8fCh0PW5ldyBlLG49ITApO3ZhciBzPXQuVV87dHJ5e3JldHVybiByLmVuY29kZSh0aGlzLHQubEEoKSxpKSwobj90LnhnKCk6dCkubEEocyl9Y2F0Y2goZSl7dGhyb3cgdC5sQShzKSxlfX0sYS5oND1mdW5jdGlvbigpe3JldHVybiByLmg0KHRoaXMpfSxhLnc0PWZ1bmN0aW9uKHQpe3ZhciBpPSExO3R8fCh0PW5ldyBlLGk9ITApO3ZhciBuPShuZXcgZSkubEEoKTtyZXR1cm4gci5lbmNvZGUodGhpcyxuKS54ZygpLHQuQ1Aobi52QSgpKSx0LmFwcGVuZChuKSxpP3QueGcoKTp0fSxhLmI0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmVuY29kZSgpLnRjKCl9Y2F0Y2goZSl7dGhyb3cgZS5DNCYmKGUuQzQ9ZS5DNC50YygpKSxlfX0sYS50Yz1hLmI0LGEuXzQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZW5jb2RlKCkueUEoKX1jYXRjaChlKXt0aHJvdyBlLkM0JiYoZS5DND1lLkM0LnlBKCkpLGV9fSxhLnlBPWEuXzQsYS5QND1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5lbmNvZGUoKS5tQSgpfWNhdGNoKGUpe3Rocm93IGUuQzQmJihlLkM0PWUuQzQubUEoKSksZX19LGEubUE9YS5QNCxhLkE0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmVuY29kZSgpLklBKCl9Y2F0Y2goZSl7dGhyb3cgZS5DNCYmKGUuQzQ9ZS5DNC5JQSgpKSxlfX0sYS5JQT1hLkE0LGEuTzQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gaSh0aGlzLCEhZSwhIXIsdC5nMi5tZXNzYWdlLHRoaXMueTQpfSxhLk40PWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGkodGhpcywhMCwhMCx0LmcyLm1lc3NhZ2UsdGhpcy55NCkpfSxvLmRlY29kZT1mdW5jdGlvbih0LGkpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLndyYXAodCxpfHxcImJhc2U2NFwiKSksdD10IGluc3RhbmNlb2YgZT90OmUud3JhcCh0KTt2YXIgbj10LlVfO3RyeXt2YXIgcz1yLmRlY29kZSh0LmxBKCkpO3JldHVybiB0LmxBKG4pLHN9Y2F0Y2goZSl7dGhyb3cgdC5sQShuKSxlfX0sby5END1mdW5jdGlvbih0LGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLndyYXAodCxpfHxcImJhc2U2NFwiKSksdD10IGluc3RhbmNlb2YgZT90OmUud3JhcCh0KSx0LnZBKCk8MSlyZXR1cm4gbnVsbDt2YXIgbj10Lm9mZnNldCxzPXQuUFAoKTtpZih0LnZBKCk8cylyZXR1cm4gdC5vZmZzZXQ9bixudWxsO3RyeXt2YXIgbz1yLmRlY29kZSh0LnNsaWNlKHQub2Zmc2V0LHQub2Zmc2V0K3MpLmxBKCkpO3JldHVybiB0Lm9mZnNldCs9cyxvfWNhdGNoKGUpe3Rocm93IHQub2Zmc2V0Kz1zLGV9fSxvLkw0PWZ1bmN0aW9uKGUpe3JldHVybiBvLmRlY29kZShlLFwiYmFzZTY0XCIpfSxvLk00PWZ1bmN0aW9uKGUpe3JldHVybiBvLmRlY29kZShlLFwiaGV4XCIpfSxvLkY0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhKU09OLnBhcnNlKGUpKX0sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByLnRvU3RyaW5nKCl9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJihPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIiRvcHRpb25zXCIse3ZhbHVlOnIuejMoKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiJG9wdGlvbnNcIix7dmFsdWU6by5VNH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiJHR5cGVcIix7dmFsdWU6cn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiJHR5cGVcIix7dmFsdWU6cn0pKSxvfSh0LHRoaXMpO3RoaXMuZDQ9W10sdGhpcy5mND17fSx0aGlzLmc0PXt9O2Zvcih2YXIgbixzPTAsbz10aGlzLmNoaWxkcmVuLmxlbmd0aDtzPG87cysrKWlmKChuPXRoaXMuY2hpbGRyZW5bc10paW5zdGFuY2VvZiB5KWlbbi5uYW1lXT1uLlhnKCk7ZWxzZSBpZihuIGluc3RhbmNlb2YgcClpW24ubmFtZV09bi5YZygpO2Vsc2UgaWYobiBpbnN0YW5jZW9mIHAuSzMpbi5YZygpLHRoaXMuZDQucHVzaChuKSx0aGlzLmY0W24uaWRdPW4sdGhpcy5nNFtuLm5hbWVdPW47ZWxzZSBpZighKG4gaW5zdGFuY2VvZiBwLlQ0fHxuIGluc3RhbmNlb2YgbSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHJlZmxlY3QgY2hpbGQgb2YgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2NoaWxkcmVuW3NdLnRvU3RyaW5nKCEwKSk7cmV0dXJuIHRoaXMuczQ9aX0sZC5lbmNvZGU9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxuLHM9bnVsbCxvPTAsYT10aGlzLmQ0Lmxlbmd0aDtvPGE7KytvKWk9dGhpcy5kNFtvXSxuPWVbaS5uYW1lXSxpLnJlcXVpcmVkJiZudWxsPT09bj9udWxsPT09cyYmKHM9aSk6aS5lbmNvZGUocj9uOmkucjQobiksdCk7aWYobnVsbCE9PXMpe3ZhciBoPUVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitzKTt0aHJvdyBoLkM0PXQsaH1yZXR1cm4gdH0sZC5oND1mdW5jdGlvbihlKXtmb3IodmFyIHQscixpPTAsbj0wLHM9dGhpcy5kNC5sZW5ndGg7bjxzOysrbil7aWYodD10aGlzLmQ0W25dLHI9ZVt0Lm5hbWVdLHQucmVxdWlyZWQmJm51bGw9PT1yKXRocm93IEVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIit0KTtpKz10Lmg0KHIpfXJldHVybiBpfSxkLmRlY29kZT1mdW5jdGlvbihlLHIsaSl7cj1cIm51bWJlclwiPT10eXBlb2Ygcj9yOi0xO2Zvcih2YXIgcyxvLGEsaCxjPWUub2Zmc2V0LHU9bmV3IHRoaXMuczQ7ZS5vZmZzZXQ8YytyfHwtMT09PXImJmUudkEoKT4wOyl7aWYocz1lLlBQKCksbz03JnMsYT1zPj4+MyxvPT09dC5vMi5sMil7aWYoYSE9PWkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGdyb3VwIGVuZCBpbmRpY2F0b3IgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIithK1wiIChcIisoaT9pK1wiIGV4cGVjdGVkXCI6XCJub3QgYSBncm91cFwiKStcIilcIik7YnJlYWt9aWYoaD10aGlzLmY0W2FdKWlmKGgucmVwZWF0ZWQmJiFoLm9wdGlvbnMuQjQpdVtoLm5hbWVdLnB1c2goaC5kZWNvZGUobyxlKSk7ZWxzZSBpZihoLm1hcCl7dmFyIGw9aC5kZWNvZGUobyxlKTt1W2gubmFtZV0uc2V0KGxbMF0sbFsxXSl9ZWxzZSB1W2gubmFtZV09aC5kZWNvZGUobyxlKSxoLk0zJiYobnVsbCE9PXRoaXNbaC5NMy5uYW1lXSYmKHRoaXNbdGhpc1toLk0zLm5hbWVdXT1udWxsKSx1W2guTTMubmFtZV09aC5uYW1lKTtlbHNlIHN3aXRjaChvKXtjYXNlIHQubzIuYTI6ZS5QUCgpO2JyZWFrO2Nhc2UgdC5vMi5kMjplLm9mZnNldCs9NDticmVhaztjYXNlIHQubzIuaDI6ZS5vZmZzZXQrPTg7YnJlYWs7Y2FzZSB0Lm8yLmMyOnZhciBwPWUuUFAoKTtlLm9mZnNldCs9cDticmVhaztjYXNlIHQubzIudTI6Zm9yKDtuKGEsZSk7KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiSWxsZWdhbCB3aXJlIHR5cGUgZm9yIHVua25vd24gZmllbGQgXCIrYStcIiBpbiBcIit0aGlzLnRvU3RyaW5nKCEwKStcIiNkZWNvZGU6IFwiK28pfX1mb3IodmFyIGQ9MCxmPXRoaXMuZDQubGVuZ3RoO2Q8ZjsrK2QpaWYoaD10aGlzLmQ0W2RdLG51bGw9PT11W2gubmFtZV0pe2lmKGgucmVxdWlyZWQpe3ZhciBnPUVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitoLm5hbWUpO3Rocm93IGcuSDQ9dSxnfXQuUjImJm51bGwhPT1oLmRlZmF1bHRWYWx1ZSYmKHVbaC5uYW1lXT1oLmRlZmF1bHRWYWx1ZSl9cmV0dXJuIHV9LHMuSmQ9cDt2YXIgZj1mdW5jdGlvbihlLHQscixpLG4scyxhLGgsYyx1KXtvLmNhbGwodGhpcyxlLHQscyksdGhpcy5jbGFzc05hbWU9XCJNZXNzYWdlLkZpZWxkXCIsdGhpcy5yZXF1aXJlZD1cInJlcXVpcmVkXCI9PT1yLHRoaXMucmVwZWF0ZWQ9XCJyZXBlYXRlZFwiPT09cix0aGlzLm1hcD1cIm1hcFwiPT09cix0aGlzLng0PWl8fG51bGwsdGhpcy50eXBlPW4sdGhpcy5aMz1udWxsLHRoaXMuaWQ9YSx0aGlzLm9wdGlvbnM9aHx8e30sdGhpcy5kZWZhdWx0VmFsdWU9bnVsbCx0aGlzLk0zPWN8fG51bGwsdGhpcy55Mz11fHxcInByb3RvMlwiLHRoaXMuWTM9dGhpcy5uYW1lLHRoaXMucTQ9bnVsbCx0aGlzLkc0PW51bGwsIXRoaXMueDMub3B0aW9ucy5JMnx8dGhpcyBpbnN0YW5jZW9mIHAuUjR8fCh0aGlzLm5hbWU9Zi5WNCh0aGlzLm5hbWUpKX07Zi5WND1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9fKFthLXpBLVpdKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfTt2YXIgZz1mLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKTtnLlhnPWZ1bmN0aW9uKCl7dGhpcy5xND1uZXcgdSh0aGlzLnR5cGUsdGhpcy5aMywhMSx0aGlzLnkzKSx0aGlzLm1hcCYmKHRoaXMuRzQ9bmV3IHUodGhpcy54NCx2b2lkIDAsITAsdGhpcy55MykpLHRoaXMuZGVmYXVsdFZhbHVlPXZvaWQgMCE9PXRoaXMub3B0aW9ucy5kZWZhdWx0P3RoaXMucjQodGhpcy5vcHRpb25zLmRlZmF1bHQpOm51bGwsXCJwcm90bzNcIiE9PXRoaXMueTN8fHRoaXMucmVwZWF0ZWR8fHRoaXMubWFwfHwodGhpcy5kZWZhdWx0VmFsdWU9dGhpcy5xNC50NCh0aGlzLnR5cGUpKX0sZy5yND1mdW5jdGlvbihlLHIpe3I9cnx8ITE7dmFyIGk9ZnVuY3Rpb24oZSx0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiIG9mIHR5cGUgXCIrdGhpcy50eXBlLm5hbWUrXCI6IFwiK2UrXCIgKFwiK3QrXCIpXCIpfS5iaW5kKHRoaXMpO2lmKG51bGw9PT1lKXJldHVybiB0aGlzLnJlcXVpcmVkJiZpKHR5cGVvZiBlLFwicmVxdWlyZWRcIiksXCJwcm90bzNcIj09PXRoaXMueTMmJnRoaXMudHlwZSE9PXQuZzIubWVzc2FnZSYmaSh0eXBlb2YgZSxcInByb3RvMyBmaWVsZCB3aXRob3V0IGZpZWxkIHByZXNlbmNlIGNhbm5vdCBiZSBudWxsXCIpLG51bGw7dmFyIG47aWYodGhpcy5yZXBlYXRlZCYmIXIpe3QuYnYuaXNBcnJheShlKXx8KGU9W2VdKTt2YXIgcz1bXTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXMucHVzaCh0aGlzLnE0LnI0KGVbbl0pKTtyZXR1cm4gc31yZXR1cm4gdGhpcy5tYXAmJiFyP2UgaW5zdGFuY2VvZiB0Lk1hcD9lOihlIGluc3RhbmNlb2YgT2JqZWN0fHxpKHR5cGVvZiBlLFwiZXhwZWN0ZWQgUHJvdG9CdWYuTWFwIG9yIHJhdyBvYmplY3QgZm9yIG1hcCBmaWVsZFwiKSxuZXcgdC5NYXAodGhpcyxlKSk6KCF0aGlzLnJlcGVhdGVkJiZ0LmJ2LmlzQXJyYXkoZSkmJmkodHlwZW9mIGUsXCJubyBhcnJheSBleHBlY3RlZFwiKSx0aGlzLnE0LnI0KGUpKX0sZy5qND1mdW5jdGlvbihlKXtpZihcInByb3RvM1wiIT09dGhpcy55MylyZXR1cm4gbnVsbCE9PWU7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSB0LmcyLmludDMyOmNhc2UgdC5nMi5zaW50MzI6Y2FzZSB0LmcyLnNmaXhlZDMyOmNhc2UgdC5nMi51aW50MzI6Y2FzZSB0LmcyLmZpeGVkMzI6cmV0dXJuIDAhPT1lO2Nhc2UgdC5nMi5pbnQ2NDpjYXNlIHQuZzIuc2ludDY0OmNhc2UgdC5nMi5zZml4ZWQ2NDpjYXNlIHQuZzIudWludDY0OmNhc2UgdC5nMi5maXhlZDY0OnJldHVybiAwIT09ZS5sb3d8fDAhPT1lLmhpZ2g7Y2FzZSB0LmcyLmJvb2w6cmV0dXJuIGU7Y2FzZSB0LmcyLmZsb2F0OmNhc2UgdC5nMi5kb3VibGU6cmV0dXJuIDAhPT1lO2Nhc2UgdC5nMi5zdHJpbmc6cmV0dXJuIGUubGVuZ3RoPjA7Y2FzZSB0LmcyLmJ5dGVzOnJldHVybiBlLnZBKCk+MDtjYXNlIHQuZzIuZW51bTpyZXR1cm4gMCE9PWU7Y2FzZSB0LmcyLm1lc3NhZ2U6cmV0dXJuIG51bGwhPT1lO2RlZmF1bHQ6cmV0dXJuITB9fSxnLmVuY29kZT1mdW5jdGlvbihyLGkpe2lmKG51bGw9PT10aGlzLnR5cGV8fFwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLnR5cGUpdGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIFVucmVzb2x2ZWQgdHlwZSBpbiBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy50eXBlKTtpZihudWxsPT09cnx8dGhpcy5yZXBlYXRlZCYmMD09ci5sZW5ndGgpcmV0dXJuIGk7dHJ5e2lmKHRoaXMucmVwZWF0ZWQpe3ZhciBuO2lmKHRoaXMub3B0aW9ucy5CNCYmdC5mMi5pbmRleE9mKHRoaXMudHlwZS5FMik+PTApe2kuQ1AodGhpcy5pZDw8M3x0Lm8yLmMyKSxpLnVBKGkub2Zmc2V0Kz0xKTt2YXIgcz1pLm9mZnNldDtmb3Iobj0wO248ci5sZW5ndGg7bisrKXRoaXMucTQuYzQodGhpcy5pZCxyW25dLGkpO3ZhciBvPWkub2Zmc2V0LXMsYT1lLlJQKG8pO2lmKGE+MSl7dmFyIGg9aS5zbGljZShzLGkub2Zmc2V0KTtzKz1hLTEsaS5vZmZzZXQ9cyxpLmFwcGVuZChoKX1pLkNQKG8scy1hKX1lbHNlIGZvcihuPTA7bjxyLmxlbmd0aDtuKyspaS5DUCh0aGlzLmlkPDwzfHRoaXMudHlwZS5FMiksdGhpcy5xNC5jNCh0aGlzLmlkLHJbbl0saSl9ZWxzZSB0aGlzLm1hcD9yLmZvckVhY2goZnVuY3Rpb24ocixuLHMpe3ZhciBvPWUuUlAoOHx0aGlzLng0LkUyKSt0aGlzLkc0LmE0KDEsbikrZS5SUCgxNnx0aGlzLnR5cGUuRTIpK3RoaXMucTQuYTQoMixyKTtpLkNQKHRoaXMuaWQ8PDN8dC5vMi5jMiksaS5DUChvKSxpLkNQKDh8dGhpcy54NC5FMiksdGhpcy5HNC5jNCgxLG4saSksaS5DUCgxNnx0aGlzLnR5cGUuRTIpLHRoaXMucTQuYzQoMixyLGkpfSx0aGlzKTp0aGlzLmo0KHIpJiYoaS5DUCh0aGlzLmlkPDwzfHRoaXMudHlwZS5FMiksdGhpcy5xNC5jNCh0aGlzLmlkLHIsaSkpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3IrXCIgKFwiK2UrXCIpXCIpfXJldHVybiBpfSxnLmg0PWZ1bmN0aW9uKHIpe2lmKHI9dGhpcy5yNChyKSxudWxsPT09dGhpcy50eXBlfHxcIm9iamVjdFwiIT10eXBlb2YgdGhpcy50eXBlKXRocm93IEVycm9yKFwiW0lOVEVSTkFMXSBVbnJlc29sdmVkIHR5cGUgaW4gXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMudHlwZSk7aWYobnVsbD09PXJ8fHRoaXMucmVwZWF0ZWQmJjA9PXIubGVuZ3RoKXJldHVybiAwO3ZhciBpPTA7dHJ5e2lmKHRoaXMucmVwZWF0ZWQpe3ZhciBuLHM7aWYodGhpcy5vcHRpb25zLkI0JiZ0LmYyLmluZGV4T2YodGhpcy50eXBlLkUyKT49MCl7Zm9yKGkrPWUuUlAodGhpcy5pZDw8M3x0Lm8yLmMyKSxzPTAsbj0wO248ci5sZW5ndGg7bisrKXMrPXRoaXMucTQuYTQodGhpcy5pZCxyW25dKTtpKz1lLlJQKHMpLGkrPXN9ZWxzZSBmb3Iobj0wO248ci5sZW5ndGg7bisrKWkrPWUuUlAodGhpcy5pZDw8M3x0aGlzLnR5cGUuRTIpLGkrPXRoaXMucTQuYTQodGhpcy5pZCxyW25dKX1lbHNlIHRoaXMubWFwP3IuZm9yRWFjaChmdW5jdGlvbihyLG4scyl7dmFyIG89ZS5SUCg4fHRoaXMueDQuRTIpK3RoaXMuRzQuYTQoMSxuKStlLlJQKDE2fHRoaXMudHlwZS5FMikrdGhpcy5xNC5hNCgyLHIpO2krPWUuUlAodGhpcy5pZDw8M3x0Lm8yLmMyKSxpKz1lLlJQKG8pLGkrPW99LHRoaXMpOnRoaXMuajQocikmJihpKz1lLlJQKHRoaXMuaWQ8PDN8dGhpcy50eXBlLkUyKSxpKz10aGlzLnE0LmE0KHRoaXMuaWQscikpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3IrXCIgKFwiK2UrXCIpXCIpfXJldHVybiBpfSxnLmRlY29kZT1mdW5jdGlvbihlLHIsaSl7dmFyIG4scztpZighKCF0aGlzLm1hcCYmZT09dGhpcy50eXBlLkUyfHwhaSYmdGhpcy5yZXBlYXRlZCYmdGhpcy5vcHRpb25zLkI0JiZlPT10Lm8yLmMyfHx0aGlzLm1hcCYmZT09dC5vMi5jMikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHdpcmUgdHlwZSBmb3IgZmllbGQgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2UrXCIgKFwiK3RoaXMudHlwZS5FMitcIiBleHBlY3RlZClcIik7aWYoZT09dC5vMi5jMiYmdGhpcy5yZXBlYXRlZCYmdGhpcy5vcHRpb25zLkI0JiZ0LmYyLmluZGV4T2YodGhpcy50eXBlLkUyKT49MCYmIWkpe3M9ci5QUCgpLHM9ci5vZmZzZXQrcztmb3IodmFyIG89W107ci5vZmZzZXQ8czspby5wdXNoKHRoaXMuZGVjb2RlKHRoaXMudHlwZS5FMixyLCEwKSk7cmV0dXJuIG99aWYodGhpcy5tYXApe3ZhciBhPXRoaXMuRzQudDQodGhpcy54NCk7aWYobj10aGlzLnE0LnQ0KHRoaXMudHlwZSkscz1yLlBQKCksci52QSgpPHMpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG51bWJlciBvZiBieXRlcyBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3MrXCIgcmVxdWlyZWQgYnV0IGdvdCBvbmx5IFwiK3IudkEoKSk7dmFyIGg9ci5jbG9uZSgpO2ZvcihoLkZfPWgub2Zmc2V0K3Msci5vZmZzZXQrPXM7aC52QSgpPjA7KXt2YXIgYz1oLlBQKCk7ZT03JmM7dmFyIHU9Yz4+PjM7aWYoMT09PXUpYT10aGlzLkc0LmRlY29kZShoLGUsdSk7ZWxzZXtpZigyIT09dSl0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgdGFnIGluIG1hcCBmaWVsZCBrZXkvdmFsdWUgc3VibWVzc2FnZVwiKTtuPXRoaXMucTQuZGVjb2RlKGgsZSx1KX19cmV0dXJuW2Esbl19cmV0dXJuIHRoaXMucTQuZGVjb2RlKHIsZSx0aGlzLmlkKX0scy5KZC5LMz1mO3ZhciBFPWZ1bmN0aW9uKGUsdCxyLGksbixzLG8pe2YuY2FsbCh0aGlzLGUsdCxyLG51bGwsaSxuLHMsbyksdGhpcy5RNH07RS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLnByb3RvdHlwZSkscy5KZC5SND1FO3ZhciB2PWZ1bmN0aW9uKGUsdCxyKXtvLmNhbGwodGhpcyxlLHQsciksdGhpcy5maWVsZHM9W119O3MuSmQuVDQ9djt2YXIgeT1mdW5jdGlvbihlLHQscixpLG4pe2guY2FsbCh0aGlzLGUsdCxyLGksbiksdGhpcy5jbGFzc05hbWU9XCJFbnVtXCIsdGhpcy5vYmplY3Q9bnVsbH07KHkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpKS5YZz1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PXRoaXMuVjMoeS5pNCkscj0wLGk9dC5sZW5ndGg7cjxpOysrcillW3Rbcl0ubmFtZV09dFtyXS5pZDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIiRvcHRpb25zXCIse3ZhbHVlOnRoaXMuejMoKX0pLHRoaXMub2JqZWN0PWV9LHMubjQ9eTt2YXIgVD1mdW5jdGlvbihlLHQscixpKXtvLmNhbGwodGhpcyxlLHQsciksdGhpcy5jbGFzc05hbWU9XCJFbnVtLlZhbHVlXCIsdGhpcy5pZD1pfTtULnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzLm40Lmk0PVQ7dmFyIG09ZnVuY3Rpb24oZSx0LHIsaSl7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuSzQ9aX07bS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscy5ZND1tO3ZhciBJPWZ1bmN0aW9uKGUsdCxyLGkpe2guY2FsbCh0aGlzLGUsdCxyLGkpLHRoaXMuY2xhc3NOYW1lPVwiU2VydmljZVwiLHRoaXMuczQ9bnVsbH07KEkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpKS5YZz1mdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5zNCYmIXI/dGhpcy5zNDp0aGlzLnM0PWZ1bmN0aW9uKHQscil7Zm9yKHZhciBpPWZ1bmN0aW9uKGUpe3QubzQuVzQuY2FsbCh0aGlzKSx0aGlzLno0PWV8fGZ1bmN0aW9uKGUsdCxyKXtzZXRUaW1lb3V0KHIuYmluZCh0aGlzLEVycm9yKFwiTm90IGltcGxlbWVudGVkLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL1Byb3RvQnVmLmpzL3dpa2kvU2VydmljZXNcIikpLDApfX0sbj1pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQubzQuVzQucHJvdG90eXBlKSxzPXIuVjModC5IMy5XNC5KNCksbz0wO288cy5sZW5ndGg7bysrKSFmdW5jdGlvbih0KXtuW3QubmFtZV09ZnVuY3Rpb24oaSxuKXt0cnl7dHJ5e2k9dC5YNC5zNC5kZWNvZGUoZS53cmFwKGkpKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKXRocm93IGV9aWYoIShpJiZpIGluc3RhbmNlb2YgdC5YNC5zNCkpcmV0dXJuIHZvaWQgc2V0VGltZW91dChuLmJpbmQodGhpcyxFcnJvcihcIklsbGVnYWwgcmVxdWVzdCB0eXBlIHByb3ZpZGVkIHRvIHNlcnZpY2UgbWV0aG9kIFwiK3IubmFtZStcIiNcIit0Lm5hbWUpKSwwKTt0aGlzLno0KHQucTMoKSxpLGZ1bmN0aW9uKGUsaSl7aWYoZSlyZXR1cm4gdm9pZCBuKGUpO3RyeXtpPXQuWjQuczQuZGVjb2RlKGkpfWNhdGNoKGUpe31pZighKGkmJmkgaW5zdGFuY2VvZiB0Llo0LnM0KSlyZXR1cm4gdm9pZCBuKEVycm9yKFwiSWxsZWdhbCByZXNwb25zZSB0eXBlIHJlY2VpdmVkIGluIHNlcnZpY2UgbWV0aG9kIFwiK3IubmFtZStcIiNcIit0Lm5hbWUpKTtuKG51bGwsaSl9KX1jYXRjaChlKXtzZXRUaW1lb3V0KG4uYmluZCh0aGlzLGUpLDApfX0saVt0Lm5hbWVdPWZ1bmN0aW9uKGUscixuKXtuZXcgaShlKVt0Lm5hbWVdKHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpW3QubmFtZV0sXCIkb3B0aW9uc1wiLHt2YWx1ZTp0LnozKCl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoblt0Lm5hbWVdLFwiJG9wdGlvbnNcIix7dmFsdWU6aVt0Lm5hbWVdLlU0fSkpfShzW29dKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCIkb3B0aW9uc1wiLHt2YWx1ZTpyLnozKCl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIiRvcHRpb25zXCIse3ZhbHVlOmkuVTR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIiR0eXBlXCIse3ZhbHVlOnJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIiR0eXBlXCIse3ZhbHVlOnJ9KSksaX0odCx0aGlzKX0scy5XND1JO3ZhciBTPWZ1bmN0aW9uKGUsdCxyLGkpe28uY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmNsYXNzTmFtZT1cIlNlcnZpY2UuTWV0aG9kXCIsdGhpcy5vcHRpb25zPWl8fHt9fTsoUy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLnozPWMuejMscy5XNC5lNj1TO3ZhciBSPWZ1bmN0aW9uKGUsdCxyLGksbixzLG8sYSl7Uy5jYWxsKHRoaXMsZSx0LHIsYSksdGhpcy5jbGFzc05hbWU9XCJTZXJ2aWNlLlJQQ01ldGhvZFwiLHRoaXMudDY9aSx0aGlzLnI2PW4sdGhpcy5pNj1zLHRoaXMubjY9byx0aGlzLlg0PW51bGwsdGhpcy5aND1udWxsfTtyZXR1cm4gUi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTLnByb3RvdHlwZSkscy5XNC5KND1SLHN9KHQpLHQubzQ9ZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oZSx0KXt0LnkzPWUsdC5tZXNzYWdlcyYmdC5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe24oZSx0KX0pLHQuYzMmJnQuYzMuZm9yRWFjaChmdW5jdGlvbih0KXtuKGUsdCl9KX12YXIgcz1mdW5jdGlvbihlKXt0aGlzLnM2PW5ldyBpLlgzKHRoaXMsbnVsbCxcIlwiKSx0aGlzLm82PXRoaXMuczYsdGhpcy5hNj0hMSx0aGlzLnJlc3VsdD1udWxsLHRoaXMuZmlsZXM9e30sdGhpcy5oNj1udWxsLHRoaXMub3B0aW9ucz1lfHx7fSx0aGlzLnkzPVwicHJvdG8zXCI9PT10aGlzLm9wdGlvbnMueTM/XCJwcm90bzNcIjpcInByb3RvMlwifSxvPXMucHJvdG90eXBlO3JldHVybiBvLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5vNj10aGlzLnM2fSxvLmM2PWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhdC5ZMi50ZXN0KGUpKXRocm93IEVycm9yKFwiSWxsZWdhbCBwYWNrYWdlOiBcIitlKTt2YXIgcixuLHM9ZS5zcGxpdChcIi5cIik7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKylpZighdC56Ty50ZXN0KHNbcl0pKXRocm93IEVycm9yKFwiSWxsZWdhbCBwYWNrYWdlOiBcIitzW3JdKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKW49dGhpcy5vNi5RMyhzW3JdKSxudWxsPT09biYmdGhpcy5vNi5qMyhuPW5ldyBpLlgzKHRoaXMsdGhpcy5vNixzW3JdKSksdGhpcy5vNj1uO3JldHVybiB0aGlzfSxzLnU2PWZ1bmN0aW9uKHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLm5hbWV8fCF0LnpPLnRlc3Qoci5uYW1lKSlyZXR1cm4hMTtpZih2b2lkIDAhPT1yLnZhbHVlc3x8dm9pZCAwIT09ci53MylyZXR1cm4hMTt2YXIgaTtpZih2b2lkIDAhPT1yLmZpZWxkcyl7aWYoIWUuYnYuaXNBcnJheShyLmZpZWxkcykpcmV0dXJuITE7dmFyIG4sbz1bXTtmb3IoaT0wO2k8ci5maWVsZHMubGVuZ3RoO2krKyl7aWYoIXMubDYoci5maWVsZHNbaV0pKXJldHVybiExO2lmKG49cGFyc2VJbnQoci5maWVsZHNbaV0uaWQsMTApLG8uaW5kZXhPZihuKT49MClyZXR1cm4hMTtvLnB1c2gobil9bz1udWxsfWlmKHZvaWQgMCE9PXIuYzMpe2lmKCFlLmJ2LmlzQXJyYXkoci5jMykpcmV0dXJuITE7Zm9yKGk9MDtpPHIuYzMubGVuZ3RoO2krKylpZighcy5wNihyLmMzW2ldKSlyZXR1cm4hMX1pZih2b2lkIDAhPT1yLm1lc3NhZ2VzKXtpZighZS5idi5pc0FycmF5KHIubWVzc2FnZXMpKXJldHVybiExO2ZvcihpPTA7aTxyLm1lc3NhZ2VzLmxlbmd0aDtpKyspaWYoIXMudTYoci5tZXNzYWdlc1tpXSkmJiFzLmQ2KHIubWVzc2FnZXNbaV0pKXJldHVybiExfWlmKHZvaWQgMCE9PXIuZXh0ZW5zaW9ucyYmKCFlLmJ2LmlzQXJyYXkoci5leHRlbnNpb25zKXx8MiE9PXIuZXh0ZW5zaW9ucy5sZW5ndGh8fFwibnVtYmVyXCIhPXR5cGVvZiByLmV4dGVuc2lvbnNbMF18fFwibnVtYmVyXCIhPXR5cGVvZiByLmV4dGVuc2lvbnNbMV0pKXJldHVybiExO2lmKFwicHJvdG8zXCI9PT1yLnkzKXtmb3IoaT0wO2k8ci5maWVsZHMubGVuZ3RoO2krKyl7dmFyIGE9ci5maWVsZHNbaV07aWYoXCJyZXF1aXJlZFwiPT09YS5ydWxlKXJldHVybiExO2lmKGEuZGVmYXVsdClyZXR1cm4hMTtpZihhLm9wdGlvbnMpZm9yKHZhciBoPU9iamVjdC5rZXlzKGEub3B0aW9ucyksYz0wO2M8aC5sZW5ndGg7YysrKWlmKFwiZGVmYXVsdFwiPT09aFtjXSlyZXR1cm4hMX1pZihyLmV4dGVuc2lvbnMpcmV0dXJuITF9cmV0dXJuITB9LHMubDY9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUucnVsZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUubmFtZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUudHlwZXx8dm9pZCAwPT09ZS5pZClyZXR1cm4hMTtpZighKHQuUTIudGVzdChlLnJ1bGUpJiZ0LnpPLnRlc3QoZS5uYW1lKSYmdC5ZMi50ZXN0KGUudHlwZSkmJnQudDMudGVzdChcIlwiK2UuaWQpKSlyZXR1cm4hMTtpZih2b2lkIDAhPT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpcmV0dXJuITE7Zm9yKHZhciByLGk9T2JqZWN0LmtleXMoZS5vcHRpb25zKSxuPTA7bjxpLmxlbmd0aDtuKyspaWYoXCJzdHJpbmdcIiE9dHlwZW9mKHI9aVtuXSl8fFwic3RyaW5nXCIhPXR5cGVvZiBlLm9wdGlvbnNbcl0mJlwibnVtYmVyXCIhPXR5cGVvZiBlLm9wdGlvbnNbcl0mJlwiYm9vbGVhblwiIT10eXBlb2YgZS5vcHRpb25zW3JdKXJldHVybiExfXJldHVybiEwfSxzLnA2PWZ1bmN0aW9uKHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLm5hbWV8fCF0LnpPLnRlc3Qoci5uYW1lKSlyZXR1cm4hMTtpZih2b2lkIDA9PT1yLnZhbHVlc3x8IWUuYnYuaXNBcnJheShyLnZhbHVlcyl8fDA9PXIudmFsdWVzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPHIudmFsdWVzLmxlbmd0aDtpKyspe2lmKFwib2JqZWN0XCIhPXR5cGVvZiByLnZhbHVlc1tpXSlyZXR1cm4hMTtpZihcInN0cmluZ1wiIT10eXBlb2Ygci52YWx1ZXNbaV0ubmFtZXx8dm9pZCAwPT09ci52YWx1ZXNbaV0uaWQpcmV0dXJuITE7aWYoIXQuek8udGVzdChyLnZhbHVlc1tpXS5uYW1lKXx8IXQucjMudGVzdChcIlwiK3IudmFsdWVzW2ldLmlkKSlyZXR1cm4hMX1yZXR1cm5cInByb3RvM1wiIT09ci55M3x8MD09PXIudmFsdWVzWzBdLmlkfSxvLmNyZWF0ZT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpcztpZihlLmJ2LmlzQXJyYXkodCl8fCh0PVt0XSksMD09PXQubGVuZ3RoKXJldHVybiB0aGlzO3ZhciByPVtdO2ZvcihyLnB1c2godCk7ci5sZW5ndGg+MDspe2lmKHQ9ci5wb3AoKSwhZS5idi5pc0FycmF5KHQpKXRocm93IEVycm9yKFwiTm90IGEgdmFsaWQgbmFtZXNwYWNlOiBcIitKU09OLnN0cmluZ2lmeSh0KSk7Zm9yKDt0Lmxlbmd0aD4wOyl7dmFyIG49dC5zaGlmdCgpO2lmKHMudTYobikpe3ZhciBvPW5ldyBpLkpkKHRoaXMsdGhpcy5vNixuLm5hbWUsbi5vcHRpb25zLG4uUDMsbi55MyksYT17fTtpZihuLkEzKWZvcih2YXIgaD1PYmplY3Qua2V5cyhuLkEzKSxjPTAsdT1oLmxlbmd0aDtjPHU7KytjKW8uajMoYVtoW2NdXT1uZXcgaS5KZC5UNCh0aGlzLG8saFtjXSkpO2lmKG4uZmllbGRzJiZuLmZpZWxkcy5sZW5ndGg+MClmb3IoYz0wLHU9bi5maWVsZHMubGVuZ3RoO2M8dTsrK2Mpe3ZhciBsPW4uZmllbGRzW2NdO2lmKG51bGwhPT1vLlEzKGwuaWQpKXRocm93IEVycm9yKFwiRHVwbGljYXRlIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiOiBcIitsLmlkKTtpZihsLm9wdGlvbnMpZm9yKHZhciBwPU9iamVjdC5rZXlzKGwub3B0aW9ucyksZD0wLGY9cC5sZW5ndGg7ZDxmOysrZCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHBbZF0pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIG9wdGlvbiBuYW1lIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiI1wiK2wubmFtZStcIjogXCIrcFtkXSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGwub3B0aW9uc1twW2RdXSYmXCJudW1iZXJcIiE9dHlwZW9mIGwub3B0aW9uc1twW2RdXSYmXCJib29sZWFuXCIhPXR5cGVvZiBsLm9wdGlvbnNbcFtkXV0pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIG9wdGlvbiB2YWx1ZSBpbiBtZXNzYWdlIFwiK28ubmFtZStcIiNcIitsLm5hbWUrXCIjXCIrcFtkXStcIjogXCIrbC5vcHRpb25zW3BbZF1dKX12YXIgZz1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBsLk0zJiZ2b2lkIDA9PT0oZz1hW2wuTTNdKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgb25lb2YgaW4gbWVzc2FnZSBcIitvLm5hbWUrXCIjXCIrbC5uYW1lK1wiOiBcIitsLk0zKTtsPW5ldyBpLkpkLkszKHRoaXMsbyxsLnJ1bGUsbC5rZXl0eXBlLGwudHlwZSxsLm5hbWUsbC5pZCxsLm9wdGlvbnMsZyxuLnkzKSxnJiZnLmZpZWxkcy5wdXNoKGwpLG8uajMobCl9dmFyIEU9W107aWYodm9pZCAwIT09bi5jMyYmbi5jMy5sZW5ndGg+MClmb3IoYz0wO2M8bi5jMy5sZW5ndGg7YysrKUUucHVzaChuLmMzW2NdKTtpZihuLm1lc3NhZ2VzJiZuLm1lc3NhZ2VzLmxlbmd0aD4wKWZvcihjPTA7YzxuLm1lc3NhZ2VzLmxlbmd0aDtjKyspRS5wdXNoKG4ubWVzc2FnZXNbY10pO2lmKG4uZXh0ZW5zaW9ucyYmKG8uZXh0ZW5zaW9ucz1uLmV4dGVuc2lvbnMsby5leHRlbnNpb25zWzBdPGUuVDImJihvLmV4dGVuc2lvbnNbMF09ZS5UMiksby5leHRlbnNpb25zWzFdPmUubTImJihvLmV4dGVuc2lvbnNbMV09ZS5tMikpLHRoaXMubzYuajMobyksRS5sZW5ndGg+MCl7ci5wdXNoKHQpLHQ9RSxFPW51bGwsdGhpcy5vNj1vLG89bnVsbDtjb250aW51ZX1FPW51bGwsbz1udWxsfWVsc2UgaWYocy5wNihuKSl7Zm9yKG89bmV3IGkubjQodGhpcyx0aGlzLm82LG4ubmFtZSxuLm9wdGlvbnMsbi55MyksYz0wO2M8bi52YWx1ZXMubGVuZ3RoO2MrKylvLmozKG5ldyBpLm40Lmk0KHRoaXMsbyxuLnZhbHVlc1tjXS5uYW1lLG4udmFsdWVzW2NdLmlkKSk7dGhpcy5vNi5qMyhvKSxvPW51bGx9ZWxzZSBpZihzLmY2KG4pKXtvPW5ldyBpLlc0KHRoaXMsdGhpcy5vNixuLm5hbWUsbi5vcHRpb25zKTtmb3IoYyBpbiBuLnczKW4udzMuaGFzT3duUHJvcGVydHkoYykmJm8uajMobmV3IGkuVzQuSjQodGhpcyxvLGMsbi53M1tjXS5yZXF1ZXN0LG4udzNbY10ucmVzcG9uc2Usbi53M1tjXS5DMyxuLnczW2NdLl8zLG4udzNbY10ub3B0aW9ucykpO3RoaXMubzYuajMobyksbz1udWxsfWVsc2V7aWYoIXMuZDYobikpdGhyb3cgRXJyb3IoXCJOb3QgYSB2YWxpZCBkZWZpbml0aW9uOiBcIitKU09OLnN0cmluZ2lmeShuKSk7aWYobz10aGlzLm82LnJlc29sdmUobi5CMykpZm9yKGM9MDtjPG4uZmllbGRzLmxlbmd0aDtjKyspe2lmKG51bGwhPT1vLlEzKG4uZmllbGRzW2NdLmlkKSl0aHJvdyBFcnJvcihcIkR1cGxpY2F0ZSBleHRlbmRlZCBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK28ubmFtZStcIjogXCIrbi5maWVsZHNbY10uaWQpO2lmKG4uZmllbGRzW2NdLmlkPG8uZXh0ZW5zaW9uc1swXXx8bi5maWVsZHNbY10uaWQ+by5leHRlbnNpb25zWzFdKXRocm93IEVycm9yKFwiSWxsZWdhbCBleHRlbmRlZCBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK28ubmFtZStcIjogXCIrbi5maWVsZHNbY10uaWQrXCIgKFwiK28uZXh0ZW5zaW9ucy5qb2luKFwiIHRvIFwiKStcIiBleHBlY3RlZClcIik7dmFyIHY9bi5maWVsZHNbY10ubmFtZTt0aGlzLm9wdGlvbnMuSTImJih2PWkuSmQuSzMuVjQobi5maWVsZHNbY10ubmFtZSkpLGw9bmV3IGkuSmQuUjQodGhpcyxvLG4uZmllbGRzW2NdLnJ1bGUsbi5maWVsZHNbY10udHlwZSx0aGlzLm82LnEzKCkrXCIuXCIrdixuLmZpZWxkc1tjXS5pZCxuLmZpZWxkc1tjXS5vcHRpb25zKTt2YXIgeT1uZXcgaS5ZNCh0aGlzLHRoaXMubzYsbi5maWVsZHNbY10ubmFtZSxsKTtsLlE0PXksdGhpcy5vNi5qMyh5KSxvLmozKGwpfWVsc2UgaWYoIS9cXC4/Z29vZ2xlXFwucHJvdG9idWZcXC4vLnRlc3Qobi5CMykpdGhyb3cgRXJyb3IoXCJFeHRlbmRlZCBtZXNzYWdlIFwiK24uQjMrXCIgaXMgbm90IGRlZmluZWRcIil9bj1udWxsfXQ9bnVsbCx0aGlzLm82PXRoaXMubzYucGFyZW50fXJldHVybiB0aGlzLmE2PSExLHRoaXMucmVzdWx0PW51bGwsdGhpc30sby5nNj1mdW5jdGlvbih0LGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXtpZihlLmJ2LncyJiYoaT1yKDY0KS5yZXNvbHZlKGkpKSwhMD09PXRoaXMuZmlsZXNbaV0pcmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzO3RoaXMuZmlsZXNbaV09ITB9ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgaSl7dmFyIHM9aS5yb290O2UuYnYudzImJihzPXIoNjQpLnJlc29sdmUocykpO3ZhciBvPVtzLGkuRTZdLmpvaW4oXCIvXCIpO2lmKCEwPT09dGhpcy5maWxlc1tvXSlyZXR1cm4gdGhpcy5yZXNldCgpLHRoaXM7dGhpcy5maWxlc1tvXT0hMH1pZih0LmltcG9ydHMmJnQuaW1wb3J0cy5sZW5ndGg+MCl7dmFyIGEsaD1cIi9cIixjPSExO1wib2JqZWN0XCI9PXR5cGVvZiBpPyh0aGlzLmg2PWkucm9vdCxjPSEwLGE9dGhpcy5oNixpPWkuRTYsKGEuaW5kZXhPZihcIlxcXFxcIik+PTB8fGkuaW5kZXhPZihcIlxcXFxcIik+PTApJiYoaD1cIlxcXFxcIikpOlwic3RyaW5nXCI9PXR5cGVvZiBpP3RoaXMuaDY/YT10aGlzLmg2OmkuaW5kZXhPZihcIi9cIik+PTA/XCJcIj09PShhPWkucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiXCIpKSYmKGE9XCIvXCIpOmkuaW5kZXhPZihcIlxcXFxcIik+PTA/KGE9aS5yZXBsYWNlKC9cXFxcW15cXFxcXSokLyxcIlwiKSxoPVwiXFxcXFwiKTphPVwiLlwiOmE9bnVsbDtmb3IodmFyIHU9MDt1PHQuaW1wb3J0cy5sZW5ndGg7dSsrKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmltcG9ydHNbdV0pe2lmKCFhKXRocm93IEVycm9yKFwiQ2Fubm90IGRldGVybWluZSBpbXBvcnQgcm9vdDogRmlsZSBuYW1lIGlzIHVua25vd25cIik7dmFyIGw9dC5pbXBvcnRzW3VdO2lmKC9eZ29vZ2xlXFwvcHJvdG9idWZcXC8vLnRlc3QobCkpY29udGludWU7aWYobD1hK2grbCwhMD09PXRoaXMuZmlsZXNbbF0pY29udGludWU7L1xcLnByb3RvJC9pLnRlc3QobCkmJiFlLm4zJiYobD1sLnJlcGxhY2UoL1xcLnByb3RvJC8sXCIuanNvblwiKSk7dmFyIHA9ZS5idi5mZXRjaChsKTtpZihudWxsPT09cCl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBpbXBvcnQgJ1wiK2wrXCInIGluICdcIitpK1wiJzogRmlsZSBub3QgZm91bmRcIik7L1xcLmpzb24kL2kudGVzdChsKT90aGlzLmc2KEpTT04ucGFyc2UocCtcIlwiKSxsKTp0aGlzLmc2KG5ldyBlLm4zLlIwKHArXCJcIikucGFyc2UoKSxsKX1lbHNlIGk/L1xcLihcXHcrKSQvLnRlc3QoaSk/dGhpcy5nNih0LmltcG9ydHNbdV0saS5yZXBsYWNlKC9eKC4rKVxcLihcXHcrKSQvLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCtcIl9pbXBvcnRcIit1K1wiLlwiK3J9KSk6dGhpcy5nNih0LmltcG9ydHNbdV0saStcIl9pbXBvcnRcIit1KTp0aGlzLmc2KHQuaW1wb3J0c1t1XSk7YyYmKHRoaXMuaDY9bnVsbCl9dC5wYWNrYWdlJiZ0aGlzLmM2KHQucGFja2FnZSksdC55MyYmbih0LnkzLHQpO3ZhciBkPXRoaXMubzY7cmV0dXJuIHQub3B0aW9ucyYmT2JqZWN0LmtleXModC5vcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Qub3B0aW9uc1tlXT10Lm9wdGlvbnNbZV19KSx0Lm1lc3NhZ2VzJiYodGhpcy5jcmVhdGUodC5tZXNzYWdlcyksdGhpcy5vNj1kKSx0LmMzJiYodGhpcy5jcmVhdGUodC5jMyksdGhpcy5vNj1kKSx0LnNlcnZpY2VzJiYodGhpcy5jcmVhdGUodC5zZXJ2aWNlcyksdGhpcy5vNj1kKSx0LnY2JiZ0aGlzLmNyZWF0ZSh0LnY2KSx0aGlzLnJlc2V0KCksdGhpc30scy5mNj1mdW5jdGlvbihlKXtyZXR1cm4hKFwic3RyaW5nXCIhPXR5cGVvZiBlLm5hbWV8fCF0LnpPLnRlc3QoZS5uYW1lKXx8XCJvYmplY3RcIiE9dHlwZW9mIGUudzMpfSxzLmQ2PWZ1bmN0aW9uKHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLkIzfHwhdC5ZMi50ZXN0KHIuQjMpKXJldHVybiExO3ZhciBpO2lmKHZvaWQgMCE9PXIuZmllbGRzKXtpZighZS5idi5pc0FycmF5KHIuZmllbGRzKSlyZXR1cm4hMTt2YXIgbixvPVtdO2ZvcihpPTA7aTxyLmZpZWxkcy5sZW5ndGg7aSsrKXtpZighcy5sNihyLmZpZWxkc1tpXSkpcmV0dXJuITE7aWYobj1wYXJzZUludChyLmlkLDEwKSxvLmluZGV4T2Yobik+PTApcmV0dXJuITE7by5wdXNoKG4pfW89bnVsbH1yZXR1cm4hMH0sby55Nj1mdW5jdGlvbigpe3ZhciByO2lmKG51bGwhPXRoaXMubzYmJlwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLm82LnR5cGUpe2lmKHRoaXMubzYgaW5zdGFuY2VvZiBpLlgzKWZvcih2YXIgbj10aGlzLm82LmNoaWxkcmVuLHM9MCxvPW4ubGVuZ3RoO3M8bzsrK3MpdGhpcy5vNj1uW3NdLHRoaXMueTYoKTtlbHNlIGlmKHRoaXMubzYgaW5zdGFuY2VvZiBpLkpkLkszKXtpZih0LnROLnRlc3QodGhpcy5vNi50eXBlKSl0aGlzLm82LnR5cGU9ZS5nMlt0aGlzLm82LnR5cGVdO2Vsc2V7aWYoIXQuWTIudGVzdCh0aGlzLm82LnR5cGUpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIHJlZmVyZW5jZSBpbiBcIit0aGlzLm82LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5vNi50eXBlKTtpZighKHI9KHRoaXMubzYgaW5zdGFuY2VvZiBpLkpkLlI0P3RoaXMubzYuUTQucGFyZW50OnRoaXMubzYucGFyZW50KS5yZXNvbHZlKHRoaXMubzYudHlwZSwhMCkpKXRocm93IEVycm9yKFwiVW5yZXNvbHZhYmxlIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMubzYudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLm82LnR5cGUpO2lmKHRoaXMubzYuWjM9cixyIGluc3RhbmNlb2YgaS5uNCl7aWYodGhpcy5vNi50eXBlPWUuZzIuZW51bSxcInByb3RvM1wiPT09dGhpcy5vNi55MyYmXCJwcm90bzNcIiE9PXIueTMpdGhyb3cgRXJyb3IoXCJQcm90bzMgbWVzc2FnZSByZWZlcnMgdG8gcHJvdG8yIGVudW07IHRoaXMgaXMgbm90IGFsbG93ZWQgZHVlIHRvIGRpZmZlcmluZyBlbnVtIHNlbWFudGljcyBpbiBwcm90bzNcIil9ZWxzZXtpZighKHIgaW5zdGFuY2VvZiBpLkpkKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdHlwZSByZWZlcmVuY2UgaW4gXCIrdGhpcy5vNi50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMubzYudHlwZSk7dGhpcy5vNi50eXBlPXIuUDM/ZS5nMi5ncm91cDplLmcyLm1lc3NhZ2V9fWlmKHRoaXMubzYubWFwKXtpZighdC50Ti50ZXN0KHRoaXMubzYueDQpKXRocm93IEVycm9yKFwiSWxsZWdhbCBrZXkgdHlwZSBmb3IgbWFwIGZpZWxkIGluIFwiK3RoaXMubzYudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLm82LnR5cGUpO3RoaXMubzYueDQ9ZS5nMlt0aGlzLm82Lng0XX19ZWxzZSBpZih0aGlzLm82IGluc3RhbmNlb2YgZS5IMy5uNC5pNCk7ZWxzZSBpZih0aGlzLm82IGluc3RhbmNlb2YgZS5IMy5XNC5lNil7aWYoISh0aGlzLm82IGluc3RhbmNlb2YgZS5IMy5XNC5KNCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHNlcnZpY2UgdHlwZSBpbiBcIit0aGlzLm82LnRvU3RyaW5nKCEwKSk7aWYoISgocj10aGlzLm82LnBhcmVudC5yZXNvbHZlKHRoaXMubzYudDYpKSYmciBpbnN0YW5jZW9mIGUuSDMuSmQpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIHJlZmVyZW5jZSBpbiBcIit0aGlzLm82LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5vNi50Nik7aWYodGhpcy5vNi5YND1yLCEoKHI9dGhpcy5vNi5wYXJlbnQucmVzb2x2ZSh0aGlzLm82LnI2KSkmJnIgaW5zdGFuY2VvZiBlLkgzLkpkKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdHlwZSByZWZlcmVuY2UgaW4gXCIrdGhpcy5vNi50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMubzYucjYpO3RoaXMubzYuWjQ9cn1lbHNlIGlmKCEodGhpcy5vNiBpbnN0YW5jZW9mIGUuSDMuSmQuVDR8fHRoaXMubzYgaW5zdGFuY2VvZiBlLkgzLlk0KSl0aHJvdyBFcnJvcihcIklsbGVnYWwgb2JqZWN0IGluIG5hbWVzcGFjZTogXCIrdHlwZW9mIHRoaXMubzYrXCI6XCIrdGhpcy5vNik7dGhpcy5yZXNldCgpfX0sby5YZz1mdW5jdGlvbihlKXtpZih0aGlzLnJlc2V0KCksdGhpcy5hNnx8KHRoaXMueTYoKSx0aGlzLmE2PSEwLHRoaXMucmVzdWx0PW51bGwpLG51bGw9PT10aGlzLnJlc3VsdCYmKHRoaXMucmVzdWx0PXRoaXMuczYuWGcoKSksZSl7Zm9yKHZhciB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCIuXCIpOmUscj10aGlzLnJlc3VsdCxpPTA7aTx0Lmxlbmd0aDtpKyspe2lmKCFyW3RbaV1dKXtyPW51bGw7YnJlYWt9cj1yW3RbaV1dfXJldHVybiByfXJldHVybiB0aGlzLnJlc3VsdH0sby5UNj1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLnM2LnJlc29sdmUoZSk6dGhpcy5zNn0sby50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQnVpbGRlclwifSxzLkpkPWZ1bmN0aW9uKCl7fSxzLlc0PWZ1bmN0aW9uKCl7fSxzfSh0LHQuTGFuZyx0LkgzKSx0Lk1hcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PTA7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTplW3QrK119Ontkb25lOiEwfX19fXZhciByPWZ1bmN0aW9uKHQscil7aWYoIXQubWFwKXRocm93IEVycm9yKFwiZmllbGQgaXMgbm90IGEgbWFwXCIpO2lmKHRoaXMuSzQ9dCx0aGlzLkU0PW5ldyBlLkgzLkVsZW1lbnQodC54NCxudWxsLCEwLHQueTMpLHRoaXMudjQ9bmV3IGUuSDMuRWxlbWVudCh0LnR5cGUsdC5aMywhMSx0LnkzKSx0aGlzLm1hcD17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubWFwKS5sZW5ndGh9fSkscilmb3IodmFyIGk9T2JqZWN0LmtleXMociksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcz10aGlzLkU0LnU0KGlbbl0pLG89dGhpcy52NC5yNChyW2lbbl1dKTt0aGlzLm1hcFt0aGlzLkU0Lmw0KHMpXT17a2V5OnMsdmFsdWU6b319fSxpPXIucHJvdG90eXBlO3JldHVybiBpLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5tYXA9e319LGkuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuRTQubDQodGhpcy5FNC5yNChlKSkscj10IGluIHRoaXMubWFwO3JldHVybiBkZWxldGUgdGhpcy5tYXBbdF0scn0saS5lbnRyaWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHI9W10saT1PYmplY3Qua2V5cyh0aGlzLm1hcCksbj0wO248aS5sZW5ndGg7bisrKXIucHVzaChbKGU9dGhpcy5tYXBbaVtuXV0pLmtleSxlLnZhbHVlXSk7cmV0dXJuIHQocil9LGkua2V5cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPU9iamVjdC5rZXlzKHRoaXMubWFwKSxpPTA7aTxyLmxlbmd0aDtpKyspZS5wdXNoKHRoaXMubWFwW3JbaV1dLmtleSk7cmV0dXJuIHQoZSl9LGkudmFsdWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9T2JqZWN0LmtleXModGhpcy5tYXApLGk9MDtpPHIubGVuZ3RoO2krKyllLnB1c2godGhpcy5tYXBbcltpXV0udmFsdWUpO3JldHVybiB0KGUpfSxpLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1PYmplY3Qua2V5cyh0aGlzLm1hcCksbj0wO248aS5sZW5ndGg7bisrKWUuY2FsbCh0LChyPXRoaXMubWFwW2lbbl1dKS52YWx1ZSxyLmtleSx0aGlzKX0saS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLkU0LnI0KGUpLGk9dGhpcy52NC5yNCh0KTtyZXR1cm4gdGhpcy5tYXBbdGhpcy5FNC5sNChyKV09e2tleTpyLHZhbHVlOml9LHRoaXN9LGkuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuRTQubDQodGhpcy5FNC5yNChlKSk7aWYodCBpbiB0aGlzLm1hcClyZXR1cm4gdGhpcy5tYXBbdF0udmFsdWV9LGkuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkU0Lmw0KHRoaXMuRTQucjQoZSkpaW4gdGhpcy5tYXB9LHJ9KHQpLHQubTY9ZnVuY3Rpb24oZSxyLGkpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2Ygcnx8ciYmXCJzdHJpbmdcIj09dHlwZW9mIHIuRTYmJlwic3RyaW5nXCI9PXR5cGVvZiByLnJvb3QpJiYoaT1yLHI9dm9pZCAwKSx0LlpnKG5ldyB0Lm4zLlIwKGUpLnBhcnNlKCkscixpKX0sdC5JNj10Lm02LHQuUzY9ZnVuY3Rpb24oZSxyLGkpe2lmKHImJlwib2JqZWN0XCI9PXR5cGVvZiByPyhpPXIscj1udWxsKTpyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByfHwocj1udWxsKSxyKXJldHVybiB0LmJ2LmZldGNoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZS5yb290K1wiL1wiK2UuRTYsZnVuY3Rpb24obil7aWYobnVsbD09PW4pcmV0dXJuIHZvaWQgcihFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmaWxlXCIpKTt0cnl7cihudWxsLHQubTYobixpLGUpKX1jYXRjaChlKXtyKGUpfX0pO3ZhciBuPXQuYnYuZmV0Y2goXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5yb290K1wiL1wiK2UuRTY6ZSk7cmV0dXJuIG51bGw9PT1uP251bGw6dC5tNihuLGksZSl9LHQuUjY9dC5TNix0Lnc2PWZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fHt9LHZvaWQgMD09PWUuSTImJihlLkkyPXQuSTIpLHZvaWQgMD09PWUuUzImJihlLlMyPXQuUzIpLG5ldyB0Lm80KGUpfSx0LlpnPWZ1bmN0aW9uKGUscixpKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIHJ8fHImJlwic3RyaW5nXCI9PXR5cGVvZiByLkU2JiZcInN0cmluZ1wiPT10eXBlb2Ygci5yb290KSYmKGk9cixyPW51bGwpLHImJlwib2JqZWN0XCI9PXR5cGVvZiByfHwocj10Lnc2KCkpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1KU09OLnBhcnNlKGUpKSxyLmc2KGUsaSksci55NigpLHJ9LHQuYjY9ZnVuY3Rpb24oZSxyLGkpe2lmKHImJlwib2JqZWN0XCI9PXR5cGVvZiByPyhpPXIscj1udWxsKTpyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByfHwocj1udWxsKSxyKXJldHVybiB0LmJ2LmZldGNoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZS5yb290K1wiL1wiK2UuRTYsZnVuY3Rpb24obil7aWYobnVsbD09PW4pcmV0dXJuIHZvaWQgcihFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmaWxlXCIpKTt0cnl7cihudWxsLHQuWmcoSlNPTi5wYXJzZShuKSxpLGUpKX1jYXRjaChlKXtyKGUpfX0pO3ZhciBuPXQuYnYuZmV0Y2goXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5yb290K1wiL1wiK2UuRTY6ZSk7cmV0dXJuIG51bGw9PT1uP251bGw6dC5aZyhKU09OLnBhcnNlKG4pLGksZSl9LHR9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P2UuaT1hKHIoMzUpKToobj1bcigxNjIpXSxpPWEsdm9pZCAwIT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KHQsbik6aSkmJihlLmk9cykpfSgpfSkuY2FsbCh0LHIoNjMpKGUpKX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXt2YXIgbixzOy8qKlxuICogQGxpY2Vuc2UgQnl0ZUJ1ZmZlci5qcyAoYykgMjAxMy0yMDE0IERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+XG4gKiBUaGlzIHZlcnNpb24gb2YgQnl0ZUJ1ZmZlci5qcyB1c2VzIGFuIEFycmF5QnVmZmVyIGFzIGl0cyBiYWNraW5nIGJ1ZmZlciB3aGljaCBpcyBhY2Nlc3NlZCB0aHJvdWdoIGEgRGF0YVZpZXcgYW5kIGlzXG4gKiBjb21wYXRpYmxlIHdpdGggbW9kZXJuIGJyb3dzZXJzLlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxuICogc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9CeXRlQnVmZmVyLmpzIGZvciBkZXRhaWxzXG4gKi9cbiFmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD9lLmNoYXJDb2RlQXQodCsrKTpudWxsfX1mdW5jdGlvbiByKCl7dmFyIGU9W10sdD1bXTtyZXR1cm4gZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5qb2luKFwiXCIpK2EuYXBwbHkoU3RyaW5nLGUpO2UubGVuZ3RoK2FyZ3VtZW50cy5sZW5ndGg+MTAyNCYmKHQucHVzaChhLmFwcGx5KFN0cmluZyxlKSksZS5sZW5ndGg9MCksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpfX12YXIgbj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmKGU9bi5EXyksdm9pZCAwPT09dCYmKHQ9bi5rXyksdm9pZCAwPT09ciYmKHI9bi5MXyksIXIpe2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5XCIpO3Q9ISF0LHI9ISFyfXRoaXMuYnVmZmVyPTA9PT1lP286bmV3IEFycmF5QnVmZmVyKGUpLHRoaXMudmlldz0wPT09ZT9udWxsOm5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlciksdGhpcy5vZmZzZXQ9MCx0aGlzLk1fPS0xLHRoaXMuRl89ZSx0aGlzLlVfPXZvaWQgMCE9PXQmJiEhdCx0aGlzLkJfPSEhcn07bi5WRVJTSU9OPVwiMy41LjVcIixuLkhfPSEwLG4ueF89ITEsbi5EXz0xNixuLmtfPW4ueF8sbi5MXz0hMSxuLnFfPWV8fG51bGw7dmFyIHM9bi5wcm90b3R5cGUsbz1uZXcgQXJyYXlCdWZmZXIoMCksYT1TdHJpbmcuZnJvbUNoYXJDb2RlO24uR189ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgbihlLHQscil9LG4uY29uY2F0PWZ1bmN0aW9uKGUsdCxyLGkpe1wiYm9vbGVhblwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChpPXIscj10LHQ9dm9pZCAwKTtmb3IodmFyIHMsbz0wLGE9MCxoPWUubGVuZ3RoO2E8aDsrK2Epbi5WXyhlW2FdKXx8KGVbYV09bi53cmFwKGVbYV0sdCkpLChzPWVbYV0uRl8tZVthXS5vZmZzZXQpPjAmJihvKz1zKTtpZigwPT09bylyZXR1cm4gbmV3IG4oMCxyLGkpO3ZhciBjLHU9bmV3IG4obyxyLGkpLGw9bmV3IFVpbnQ4QXJyYXkodS5idWZmZXIpO2ZvcihhPTA7YTxoOyljPWVbYSsrXSwocz1jLkZfLWMub2Zmc2V0KTw9MHx8KGwuc2V0KG5ldyBVaW50OEFycmF5KGMuYnVmZmVyKS5zdWJhcnJheShjLm9mZnNldCxjLkZfKSx1Lm9mZnNldCksdS5vZmZzZXQrPXMpO3JldHVybiB1LkZfPXUub2Zmc2V0LHUub2Zmc2V0PTAsdX0sbi5WXz1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlIGluc3RhbmNlb2Ygbil9LG4udHlwZT1mdW5jdGlvbigpe3JldHVybiBBcnJheUJ1ZmZlcn0sbi53cmFwPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYobz1yLHI9dCx0PXZvaWQgMCksXCJzdHJpbmdcIj09dHlwZW9mIGUpc3dpdGNoKHZvaWQgMD09PXQmJih0PVwidXRmOFwiKSx0KXtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gbi5qXyhlLHIpO2Nhc2VcImhleFwiOnJldHVybiBuLlFfKGUscik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG4uS18oZSxyKTtjYXNlXCJ1dGY4XCI6cmV0dXJuIG4uWV8oZSxyKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiBuLldfKGUscik7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIit0KX1pZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7dmFyIGE7aWYobi5WXyhlKSlyZXR1cm4gYT1zLmNsb25lLmNhbGwoZSksYS5NXz0tMSxhO2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KWE9bmV3IG4oMCxyLG8pLGUubGVuZ3RoPjAmJihhLmJ1ZmZlcj1lLmJ1ZmZlcixhLm9mZnNldD1lLmJ5dGVPZmZzZXQsYS5GXz1lLmJ5dGVPZmZzZXQrZS5sZW5ndGgsYS52aWV3PWUubGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUuYnVmZmVyKTpudWxsKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilhPW5ldyBuKDAscixvKSxlLmJ5dGVMZW5ndGg+MCYmKGEuYnVmZmVyPWUsYS5vZmZzZXQ9MCxhLkZfPWUuYnl0ZUxlbmd0aCxhLnZpZXc9ZS5ieXRlTGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUpOm51bGwpO2Vsc2V7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYnVmZmVyXCIpO2ZvcihhPW5ldyBuKGUubGVuZ3RoLHIsbyksYS5GXz1lLmxlbmd0aCxpPTA7aTxlLmxlbmd0aDsrK2kpYS52aWV3LnNldFVpbnQ4KGksZVtpXSl9cmV0dXJuIGF9LHMuel89ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0xO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0xLHRoaXMudmlldy5zZXRJbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLmpDPXMuel8scy5KXz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5kXz1zLkpfLHMuWF89ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTE7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTEsdGhpcy52aWV3LnNldFVpbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLlpfPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5lUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTI7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTIsdGhpcy52aWV3LnNldEludDE2KHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMudFA9cy5lUCxzLnJQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50MTYoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLmlQPXMuclAscy5uUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9Mjt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09Mix0aGlzLnZpZXcuc2V0VWludDE2KHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMuc1A9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50MTYoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLm9QPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0SW50MzIodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5CZz1zLm9QLHMuYVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQzMihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LHMuUWc9cy5hUCxzLmhQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRVaW50MzIodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5jUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQzMihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LGUmJihzLnVQPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5ERSh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5rRSh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5rRSh0KSkscis9ODt2YXIgbj10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm4mJnRoaXMucmVzaXplKChuKj0yKT5yP246ciksci09OCx0aGlzLlVfPyh0aGlzLnZpZXcuc2V0SW50MzIocix0LmxvdywhMCksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmhpZ2gsITApKToodGhpcy52aWV3LnNldEludDMyKHIsdC5oaWdoLCExKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQubG93LCExKSksaSYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLmxQPXMudVAscy5wUD1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dGhpcy5VXz9uZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCwhMCksdGhpcy52aWV3LmdldEludDMyKHQrNCwhMCksITEpOm5ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0KzQsITEpLHRoaXMudmlldy5nZXRJbnQzMih0LCExKSwhMSk7cmV0dXJuIHImJih0aGlzLm9mZnNldCs9OCksaX0scy5kUD1zLnBQLHMuZlA9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLkRFKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmtFKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmtFKHQpKSxyKz04O3ZhciBuPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+biYmdGhpcy5yZXNpemUoKG4qPTIpPnI/bjpyKSxyLT04LHRoaXMuVV8/KHRoaXMudmlldy5zZXRJbnQzMihyLHQubG93LCEwKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQuaGlnaCwhMCkpOih0aGlzLnZpZXcuc2V0SW50MzIocix0LmhpZ2gsITEpLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5sb3csITEpKSxpJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMuZ1A9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0Kzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXRoaXMuVV8/bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQsITApLHRoaXMudmlldy5nZXRJbnQzMih0KzQsITApLCEwKTpuZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCExKSx0aGlzLnZpZXcuZ2V0SW50MzIodCwhMSksITApO3JldHVybiByJiYodGhpcy5vZmZzZXQrPTgpLGl9KSxzLkVQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0RmxvYXQzMih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLnZQPXMuRVAscy55UD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEZsb2F0MzIoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz00KSxyfSxzLlRQPXMueVAscy5tUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYSBudW1iZXIpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTg7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTgsdGhpcy52aWV3LnNldEZsb2F0NjQodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5ZQz1zLm1QLHMuSVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRGbG9hdDY0KGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9OCkscn0scy5FXz1zLklQLG4uU1A9NSxuLlJQPWZ1bmN0aW9uKGUpe3JldHVybiBlPj4+PTAsZTwxMjg/MTplPDE2Mzg0PzI6ZTwxPDwyMT8zOmU8MTw8Mjg/NDo1fSxuLndQPWZ1bmN0aW9uKGUpe3JldHVybigoZXw9MCk8PDFeZT4+MzEpPj4+MH0sbi5iUD1mdW5jdGlvbihlKXtyZXR1cm4gZT4+PjFeLSgxJmUpfDB9LHMuQ1A9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxzPW4uUlAoZSk7dCs9czt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0Pm8mJnRoaXMucmVzaXplKChvKj0yKT50P286dCksdC09cyx0aGlzLnZpZXcuc2V0VWludDgodCxpPTEyOHxlKSxlPj4+PTAsZT49MTI4PyhpPWU+Pjd8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzEsaSksZT49MTYzODQ/KGk9ZT4+MTR8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzIsaSksZT49MTw8MjE/KGk9ZT4+MjF8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzMsaSksZT49MTw8Mjg/KHRoaXMudmlldy5zZXRVaW50OCh0KzQsZT4+MjgmMTUpLHM9NSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzMsMTI3JmkpLHM9NCkpOih0aGlzLnZpZXcuc2V0VWludDgodCsyLDEyNyZpKSxzPTMpKToodGhpcy52aWV3LnNldFVpbnQ4KHQrMSwxMjcmaSkscz0yKSk6KHRoaXMudmlldy5zZXRVaW50OCh0LDEyNyZpKSxzPTEpLHI/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuX1A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5DUChuLndQKGUpLHQpfSxzLlBQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcixpLG49MCxzPTA7ZG97aWYoaT1lK24sIXRoaXMuQl8mJmk+dGhpcy5GXyl7dmFyIG89RXJyb3IoXCJUcnVuY2F0ZWRcIik7dGhyb3cgby5BUD0hMCxvfXI9dGhpcy52aWV3LmdldFVpbnQ4KGkpLG48NSYmKHN8PSgxMjcmcik8PDcqbj4+PjApLCsrbn13aGlsZSgxMjg9PSgxMjgmcikpO3JldHVybiBzfD0wLHQ/KHRoaXMub2Zmc2V0Kz1uLHMpOnt2YWx1ZTpzLGxlbmd0aDpufX0scy5PUD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlBQKGUpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P3QudmFsdWU9bi5iUCh0LnZhbHVlKTp0PW4uYlAodCksdH0sZSYmKG4uTlA9MTAsbi5EUD1mdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUua0UodCkpO3ZhciByPXQua1AoKT4+PjAsaT10LkxQKDI4KS5rUCgpPj4+MCxuPXQuTFAoNTYpLmtQKCk+Pj4wO3JldHVybiAwPT1uPzA9PWk/cjwxNjM4ND9yPDEyOD8xOjI6cjwxPDwyMT8zOjQ6aTwxNjM4ND9pPDEyOD81OjY6aTwxPDwyMT83Ojg6bjwxMjg/OToxMH0sbi5NUD1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKSx0LnNoaWZ0TGVmdCgxKS5wVCh0LkhQKDYzKSkuQlAoKX0sbi54UD1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKSx0LkxQKDEpLnBUKHQucVAoZS5PTkUpLlVQKCkucUUoKSkuVVAoKX0scy5HUD1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuREUodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUua0UodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKTt2YXIgcz1uLkRQKHQpLG89dC5rUCgpPj4+MCxhPXQuTFAoMjgpLmtQKCk+Pj4wLGg9dC5MUCg1Nikua1AoKT4+PjA7cis9czt2YXIgYz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3N3aXRjaChyPmMmJnRoaXMucmVzaXplKChjKj0yKT5yP2M6ciksci09cyxzKXtjYXNlIDEwOnRoaXMudmlldy5zZXRVaW50OChyKzksaD4+PjcmMSk7Y2FzZSA5OnRoaXMudmlldy5zZXRVaW50OChyKzgsOSE9PXM/MTI4fGg6MTI3JmgpO2Nhc2UgODp0aGlzLnZpZXcuc2V0VWludDgocis3LDghPT1zP2E+Pj4yMXwxMjg6YT4+PjIxJjEyNyk7Y2FzZSA3OnRoaXMudmlldy5zZXRVaW50OChyKzYsNyE9PXM/YT4+PjE0fDEyODphPj4+MTQmMTI3KTtjYXNlIDY6dGhpcy52aWV3LnNldFVpbnQ4KHIrNSw2IT09cz9hPj4+N3wxMjg6YT4+PjcmMTI3KTtjYXNlIDU6dGhpcy52aWV3LnNldFVpbnQ4KHIrNCw1IT09cz8xMjh8YToxMjcmYSk7Y2FzZSA0OnRoaXMudmlldy5zZXRVaW50OChyKzMsNCE9PXM/bz4+PjIxfDEyODpvPj4+MjEmMTI3KTtjYXNlIDM6dGhpcy52aWV3LnNldFVpbnQ4KHIrMiwzIT09cz9vPj4+MTR8MTI4Om8+Pj4xNCYxMjcpO2Nhc2UgMjp0aGlzLnZpZXcuc2V0VWludDgocisxLDIhPT1zP28+Pj43fDEyODpvPj4+NyYxMjcpO2Nhc2UgMTp0aGlzLnZpZXcuc2V0VWludDgociwxIT09cz8xMjh8bzoxMjcmbyl9cmV0dXJuIGk/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuVlA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5HUChuLk1QKGUpLHQpfSxzLmpQPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10LG49MCxzPTAsbz0wLGE9MDtpZihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG49MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDcsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDE0LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxufD0oMTI3JmEpPDwyMSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKykscz0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8NywxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8MTQsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHN8PSgxMjcmYSk8PDIxLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvfD0oMTI3JmEpPDw3LDEyOCZhKSkpKSkpKSkpKXRocm93IEVycm9yKFwiQnVmZmVyIG92ZXJydW5cIik7dmFyIGg9ZS5xSShufHM8PDI4LHM+Pj40fG88PDI0LCExKTtyZXR1cm4gcj8odGhpcy5vZmZzZXQ9dCxoKTp7dmFsdWU6aCxsZW5ndGg6dC1pfX0scy5RUD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmpQKHQpO3JldHVybiByJiZyLnZhbHVlIGluc3RhbmNlb2YgZT9yLnZhbHVlPW4ueFAoci52YWx1ZSk6cj1uLnhQKHIpLHJ9KSxzLkhnPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpJiYocj10aGlzLm9mZnNldCk7dmFyIG4scz1lLmxlbmd0aDtpZighdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtmb3Iobj0wO248czsrK24paWYoMD09PWUuY2hhckNvZGVBdChuKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIE5VTEwtY2hhcmFjdGVyc1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1zPWMuS1AodChlKSlbMV0scis9cysxO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1zKzEsYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHRoaXMudmlldy5zZXRVaW50OChyKyssMCksaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpzfSxzLllnPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPWUscz0tMTtyZXR1cm4gYy5XUChmdW5jdGlvbigpe2lmKDA9PT1zKXJldHVybiBudWxsO2lmKGU+PXRoaXMuRl8pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiIDwgXCIrdGhpcy5GXyk7cmV0dXJuIDA9PT0ocz10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSk/bnVsbDpzfS5iaW5kKHRoaXMpLGk9cigpLCEwKSx0Pyh0aGlzLm9mZnNldD1lLGkoKSk6e3N0cmluZzppKCksbGVuZ3RoOmUtbn19LHMuelA9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbixzPXI7bj1jLktQKHQoZSksdGhpcy5CXylbMV0scis9NCtuO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7aWYocj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPTQrbix0aGlzLnZpZXcuc2V0VWludDMyKHIsbix0aGlzLlVfKSxyKz00LGMuWVAodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxyIT09cys0K24pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIityK1wiID09IFwiKyhyKzQrbikpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItc30scy5KUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbj0wLHM9ZTtuPXRoaXMudmlldy5nZXRVaW50MzIoZSx0aGlzLlVfKSxlKz00O3ZhciBvLGE9ZStuO3JldHVybiBjLldQKGZ1bmN0aW9uKCl7cmV0dXJuIGU8YT90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLG89cigpLHRoaXMuQl8pLGk9bygpLHQ/KHRoaXMub2Zmc2V0PWUsaSk6e3N0cmluZzppLGxlbmd0aDplLXN9fSxuLlhQPVwiY1wiLG4uWlA9XCJiXCIscy4kUD1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbixzPXI7bj1jLktQKHQoZSkpWzFdLHIrPW47dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPW4sYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1zfSxzLnFiPXMuJFAsbi5lQT1mdW5jdGlvbihlKXtyZXR1cm4gYy5LUCh0KGUpKVswXX0sbi50QT1mdW5jdGlvbihlKXtyZXR1cm4gYy5LUCh0KGUpKVsxXX0scy5yQT1mdW5jdGlvbihlLHQsaSl7XCJudW1iZXJcIj09dHlwZW9mIHQmJihpPXQsdD12b2lkIDApO3ZhciBzPXZvaWQgMD09PWk7aWYocyYmKGk9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PW4uWFApLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbyxhPTAsaD1pO2lmKHQ9PT1uLlhQKXtpZihvPXIoKSxjLmlBKGZ1bmN0aW9uKCl7cmV0dXJuIGE8ZSYmaTx0aGlzLkZfP3RoaXMudmlldy5nZXRVaW50OChpKyspOm51bGx9LmJpbmQodGhpcyksZnVuY3Rpb24oZSl7KythLGMubkEoZSxvKX0uYmluZCh0aGlzKSksYSE9PWUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIithK1wiID09IFwiK2UpO3JldHVybiBzPyh0aGlzLm9mZnNldD1pLG8oKSk6e3N0cmluZzpvKCksbGVuZ3RoOmktaH19aWYodD09PW4uWlApe2lmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aStlPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCtcIitlK1wiKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgdT1pK2U7aWYoYy5XUChmdW5jdGlvbigpe3JldHVybiBpPHU/dGhpcy52aWV3LmdldFVpbnQ4KGkrKyk6bnVsbH0uYmluZCh0aGlzKSxvPXIoKSx0aGlzLkJfKSxpIT09dSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2krXCIgPT0gXCIrdSk7cmV0dXJuIHM/KHRoaXMub2Zmc2V0PWksbygpKTp7c3RyaW5nOm8oKSxsZW5ndGg6aS1ofX10aHJvdyBUeXBlRXJyb3IoXCJVbnN1cHBvcnRlZCBtZXRyaWNzOiBcIit0KX0scy5MYj1zLnJBLHMuc0E9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcyxvLGE9cjtzPWMuS1AodChlKSx0aGlzLkJfKVsxXSxvPW4uUlAocykscis9bytzO3ZhciBoPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7aWYocj5oJiZ0aGlzLnJlc2l6ZSgoaCo9Mik+cj9oOnIpLHItPW8rcyxyKz10aGlzLkNQKHMsciksYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHIhPT1hK3Mrbyl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK3IrXCIgPT0gXCIrKHIrcytvKSk7cmV0dXJuIGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1hfSxzLm9BPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPXRoaXMuUFAoZSkscz1lO2UrPW4ubGVuZ3RoLG49bi52YWx1ZTt2YXIgbz1lK24sYT1yKCk7cmV0dXJuIGMuV1AoZnVuY3Rpb24oKXtyZXR1cm4gZTxvP3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksYSx0aGlzLkJfKSxpPWEoKSx0Pyh0aGlzLm9mZnNldD1lLGkpOntzdHJpbmc6aSxsZW5ndGg6ZS1zfX0scy5hcHBlbmQ9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5GXy1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3IrPXM7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPXMsbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIscikuc2V0KG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zdWJhcnJheShlLm9mZnNldCxlLkZfKSksZS5vZmZzZXQrPXMsaSYmKHRoaXMub2Zmc2V0Kz1zKSx0aGlzfSxzLmFBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwZW5kKHRoaXMsdCksdGhpc30scy5hc3NlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQl89IWUsdGhpc30scy5oQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSxzLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5GXz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoLHRoaXMuTV89LTEsdGhpc30scy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbigwLHRoaXMuVV8sdGhpcy5CXyk7aWYoZSl7dmFyIHI9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO25ldyBVaW50OEFycmF5KHIpLnNldCh0aGlzLmJ1ZmZlciksdC5idWZmZXI9cix0LnZpZXc9bmV3IERhdGFWaWV3KHIpfWVsc2UgdC5idWZmZXI9dGhpcy5idWZmZXIsdC52aWV3PXRoaXMudmlldztyZXR1cm4gdC5vZmZzZXQ9dGhpcy5vZmZzZXQsdC5NXz10aGlzLk1fLHQuRl89dGhpcy5GXyx0fSxzLmNvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZigwPT09ZSYmdD09PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9dC1lO2lmKDA9PT1yKXJldHVybiB0aGlzLmJ1ZmZlcj1vLHRoaXMudmlldz1udWxsLHRoaXMuTV8+PTAmJih0aGlzLk1fLT1lKSx0aGlzLm9mZnNldD0wLHRoaXMuRl89MCx0aGlzO3ZhciBpPW5ldyBBcnJheUJ1ZmZlcihyKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSkuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShlLHQpKSx0aGlzLmJ1ZmZlcj1pLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaSksdGhpcy5NXz49MCYmKHRoaXMuTV8tPWUpLHRoaXMub2Zmc2V0PTAsdGhpcy5GXz1yLHRoaXN9LHMuY0E9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm4gbmV3IG4oMCx0aGlzLlVfLHRoaXMuQl8pO3ZhciByPXQtZSxpPW5ldyBuKHIsdGhpcy5VXyx0aGlzLkJfKTtyZXR1cm4gaS5vZmZzZXQ9MCxpLkZfPXIsaS5NXz49MCYmKGkuTV8tPWUpLHRoaXMuakUoaSwwLGUsdCksaX0scy5qRT1mdW5jdGlvbihlLHQscixpKXt2YXIgcyxvO2lmKCF0aGlzLkJfJiYhbi5WXyhlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHRhcmdldDogTm90IGEgQnl0ZUJ1ZmZlclwiKTtpZih0PShvPXZvaWQgMD09PXQpP2Uub2Zmc2V0OjB8dCxyPShzPXZvaWQgMD09PXIpP3RoaXMub2Zmc2V0OjB8cixpPXZvaWQgMD09PWk/dGhpcy5GXzowfGksdDwwfHx0PmUuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgdGFyZ2V0IHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrZS5idWZmZXIuYnl0ZUxlbmd0aCk7aWYocjwwfHxpPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc291cmNlIHJhbmdlOiAwIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7dmFyIGE9aS1yO3JldHVybiAwPT09YT9lOihlLnVBKHQrYSksbmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocixpKSx0KSxzJiYodGhpcy5vZmZzZXQrPWEpLG8mJihlLm9mZnNldCs9YSksdGhpcyl9LHMudUE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdDxlP3RoaXMucmVzaXplKCh0Kj0yKT5lP3Q6ZSk6dGhpc30scy5maWxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT12b2lkIDA9PT10O2lmKGkmJih0PXRoaXMub2Zmc2V0KSxcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MCYmKGU9ZS5jaGFyQ29kZUF0KDApKSx2b2lkIDA9PT10JiYodD10aGlzLm9mZnNldCksdm9pZCAwPT09ciYmKHI9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYocj4+Pj0wLHQ8MHx8dD5yfHxyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKHQ+PXIpcmV0dXJuIHRoaXM7Zm9yKDt0PHI7KXRoaXMudmlldy5zZXRVaW50OCh0KyssZSk7cmV0dXJuIGkmJih0aGlzLm9mZnNldD10KSx0aGlzfSxzLnhnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRl89dGhpcy5vZmZzZXQsdGhpcy5vZmZzZXQ9MCx0aGlzfSxzLm1hcms9ZnVuY3Rpb24oZSl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiB0aGlzLk1fPWUsdGhpc30scy5vcmRlcj1mdW5jdGlvbihlKXtpZighdGhpcy5CXyYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGl0dGxlRW5kaWFuOiBOb3QgYSBib29sZWFuXCIpO3JldHVybiB0aGlzLlVfPSEhZSx0aGlzfSxzLmxBPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVfPXZvaWQgMD09PWV8fCEhZSx0aGlzfSxzLnBBPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVfPXZvaWQgMCE9PWUmJiFlLHRoaXN9LHMuZEE9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5GXy1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3ZhciBvLGE9cy1yO2lmKGE+MCl7dmFyIGg9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgrYSk7bz1uZXcgVWludDhBcnJheShoKSxvLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocix0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxzKSx0aGlzLmJ1ZmZlcj1oLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaCksdGhpcy5vZmZzZXQrPWEsdGhpcy5NXz49MCYmKHRoaXMuTV8rPWEpLHRoaXMuRl8rPWEscis9YX1lbHNlIG89bmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpO3JldHVybiBvLnNldChuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc3ViYXJyYXkoZS5vZmZzZXQsZS5GXyksci1zKSxlLm9mZnNldD1lLkZfLGkmJih0aGlzLm9mZnNldC09cyksdGhpc30scy5mQT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRBKHRoaXMsdCksdGhpc30scy5nQT1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKSxlKHRoaXMudG9TdHJpbmcoKStcIlxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIit0aGlzLkVBKCEwKSl9LHMudkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GXy10aGlzLm9mZnNldH0scy5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLk1fPj0wPyh0aGlzLm9mZnNldD10aGlzLk1fLHRoaXMuTV89LTEpOnRoaXMub2Zmc2V0PTAsdGhpc30scy5yZXNpemU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5OiAwIDw9IFwiK2UpfWlmKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg8ZSl7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKGUpO25ldyBVaW50OEFycmF5KHQpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpLHRoaXMuYnVmZmVyPXQsdGhpcy52aWV3PW5ldyBEYXRhVmlldyh0KX1yZXR1cm4gdGhpc30scy5yZXZlcnNlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cmV0dXJuIGU9PT10P3RoaXM6KEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KGUsdCkpLHRoaXMudmlldz1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMpfSxzLk1iPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7ZXw9MH12YXIgdD10aGlzLm9mZnNldCtlO2lmKCF0aGlzLkJfJiYodDwwfHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogMCA8PSBcIit0aGlzLm9mZnNldCtcIiArIFwiK2UrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7cmV0dXJuIHRoaXMub2Zmc2V0PXQsdGhpc30scy5zbGljZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMuY2xvbmUoKTtyZXR1cm4gci5vZmZzZXQ9ZSxyLkZfPXQscn0scy55QT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldCxyPXRoaXMuRl87aWYodD5yKXt2YXIgaT10O3Q9cixyPWl9aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGltaXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHI+Pj49MCx0PDB8fHQ+cnx8cj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZighZSYmMD09PXQmJnI9PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB0aGlzLmJ1ZmZlcjtpZih0PT09cilyZXR1cm4gbzt2YXIgbj1uZXcgQXJyYXlCdWZmZXIoci10KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobikuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheSh0LHIpLDApLG59LHMudGM9cy55QSxzLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lKXJldHVyblwiQnl0ZUJ1ZmZlckFCKG9mZnNldD1cIit0aGlzLm9mZnNldCtcIixtYXJrZWRPZmZzZXQ9XCIrdGhpcy5NXytcIixsaW1pdD1cIit0aGlzLkZfK1wiLGNhcGFjaXR5PVwiK3RoaXMuaEEoKStcIilcIjtzd2l0Y2goXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPVwidXRmOFwiLHQ9ZSxyPXQpLGUpe2Nhc2VcInV0ZjhcIjpyZXR1cm4gdGhpcy5UQSh0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiB0aGlzLm1BKHQscik7Y2FzZVwiaGV4XCI6cmV0dXJuIHRoaXMuSUEodCxyKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdGhpcy5TQSh0LHIpO2Nhc2VcImRlYnVnXCI6cmV0dXJuIHRoaXMuRUEoKTtjYXNlXCJjb2x1bW5zXCI6cmV0dXJuIHRoaXMuUkEoKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK2UpfX07dmFyIGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1bNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw0Myw0N10scj1bXSxpPTAsbj10Lmxlbmd0aDtpPG47KytpKXJbdFtpXV09aTtyZXR1cm4gZS5lbmNvZGU9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGksbjtudWxsIT09KGk9ZSgpKTspcih0W2k+PjImNjNdKSxuPSgzJmkpPDw0LG51bGwhPT0oaT1lKCkpPyhufD1pPj40JjE1LHIodFs2MyYobnxpPj40JjE1KV0pLG49KDE1JmkpPDwyLG51bGwhPT0oaT1lKCkpPyhyKHRbNjMmKG58aT4+NiYzKV0pLHIodFs2MyZpXSkpOihyKHRbNjMmbl0pLHIoNjEpKSk6KHIodFs2MyZuXSkscig2MSkscig2MSkpfSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBjb2RlOiBcIitlKX1mb3IodmFyIG4scyxvO251bGwhPT0obj1lKCkpOylpZihzPXJbbl0sdm9pZCAwPT09cyYmaShuKSxudWxsIT09KG49ZSgpKSYmKG89cltuXSx2b2lkIDA9PT1vJiZpKG4pLHQoczw8Mj4+PjB8KDQ4Jm8pPj40KSxudWxsIT09KG49ZSgpKSkpe2lmKHZvaWQgMD09PShzPXJbbl0pKXtpZig2MT09PW4pYnJlYWs7aShuKX1pZih0KCgxNSZvKTw8ND4+PjB8KDYwJnMpPj4yKSxudWxsIT09KG49ZSgpKSl7aWYodm9pZCAwPT09KG89cltuXSkpe2lmKDYxPT09bilicmVhaztpKG4pfXQoKDMmcyk8PDY+Pj4wfG8pfX19LGUudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OltBLVphLXowLTkrXFwvXXs0fSkqKD86W0EtWmEtejAtOStcXC9dezJ9PT18W0EtWmEtejAtOStcXC9dezN9PSk/JC8udGVzdChlKX0sZX0oKTtzLm1BPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk7cmV0dXJuIGguZW5jb2RlKGZ1bmN0aW9uKCl7cmV0dXJuIGU8dD90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGk9cigpKSxpKCl9LG4ual89ZnVuY3Rpb24oZSxyLGkpe2lmKCFpKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKGUubGVuZ3RoJTQhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IExlbmd0aCBub3QgYSBtdWx0aXBsZSBvZiA0XCIpfXZhciBzPW5ldyBuKGUubGVuZ3RoLzQqMyxyLGkpLG89MDtyZXR1cm4gaC5kZWNvZGUodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5GXz1vLHN9LG4uYnRvYT1mdW5jdGlvbihlKXtyZXR1cm4gbi5LXyhlKS5tQSgpfSxuLmF0b2I9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ual8oZSkuU0EoKX0scy5TQT1mdW5jdGlvbihlLHQpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLHQ9dm9pZCAwPT09dD90aGlzLkZfOnQsIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm5cIlwiO2Zvcih2YXIgcj1bXSxpPVtdO2U8dDspci5wdXNoKHRoaXMudmlldy5nZXRVaW50OChlKyspKSxyLmxlbmd0aD49MTAyNCYmKGkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKSkscj1bXSk7cmV0dXJuIGkuam9pbihcIlwiKStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKX0sbi5LXz1mdW5jdGlvbihlLHQscil7aWYoIXImJlwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7Zm9yKHZhciBpLHM9MCxvPWUubGVuZ3RoLGE9bmV3IG4obyx0LHIpO3M8bzspe2lmKGk9ZS5jaGFyQ29kZUF0KHMpLCFyJiZpPjI1NSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjaGFyQ29kZSBhdCBcIitzK1wiOiAwIDw9IFwiK2krXCIgPD0gMjU1XCIpO2Eudmlldy5zZXRVaW50OChzKyssaSl9cmV0dXJuIGEuRl89byxhfSxzLkVBPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPS0xLGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCxuPVwiXCIscz1cIlwiLG89XCJcIjtyPGk7KXtpZigtMSE9PXImJih0PXRoaXMudmlldy5nZXRVaW50OChyKSxuKz10PDE2P1wiMFwiK3QudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk6dC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSxlJiYocys9dD4zMiYmdDwxMjc/U3RyaW5nLmZyb21DaGFyQ29kZSh0KTpcIi5cIikpLCsrcixlJiZyPjAmJnIlMTY9PTAmJnIhPT1pKXtmb3IoO24ubGVuZ3RoPDUxOyluKz1cIiBcIjtvKz1uK3MrXCJcXG5cIixuPXM9XCJcIn1yPT09dGhpcy5vZmZzZXQmJnI9PT10aGlzLkZfP24rPXI9PT10aGlzLk1fP1wiIVwiOlwifFwiOnI9PT10aGlzLm9mZnNldD9uKz1yPT09dGhpcy5NXz9cIltcIjpcIjxcIjpyPT09dGhpcy5GXz9uKz1yPT09dGhpcy5NXz9cIl1cIjpcIj5cIjpuKz1yPT09dGhpcy5NXz9cIidcIjplfHwwIT09ciYmciE9PWk/XCIgXCI6XCJcIn1pZihlJiZcIiBcIiE9PW4pe2Zvcig7bi5sZW5ndGg8NTE7KW4rPVwiIFwiO28rPW4rcytcIlxcblwifXJldHVybiBlP286bn0sbi5XXz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLHMsbz1lLmxlbmd0aCxhPW5ldyBuKChvKzEpLzN8MCx0LHIpLGg9MCxjPTAsdT0hMSxsPSExLHA9ITEsZD0hMSxmPSExO2g8bzspe3N3aXRjaChpPWUuY2hhckF0KGgrKykpe2Nhc2VcIiFcIjppZighcil7aWYobHx8cHx8ZCl7Zj0hMDticmVha31sPXA9ZD0hMH1hLm9mZnNldD1hLk1fPWEuRl89Yyx1PSExO2JyZWFrO2Nhc2VcInxcIjppZighcil7aWYobHx8ZCl7Zj0hMDticmVha31sPWQ9ITB9YS5vZmZzZXQ9YS5GXz1jLHU9ITE7YnJlYWs7Y2FzZVwiW1wiOmlmKCFyKXtpZihsfHxwKXtmPSEwO2JyZWFrfWw9cD0hMH1hLm9mZnNldD1hLk1fPWMsdT0hMTticmVhaztjYXNlXCI8XCI6aWYoIXIpe2lmKGwpe2Y9ITA7YnJlYWt9bD0hMH1hLm9mZnNldD1jLHU9ITE7YnJlYWs7Y2FzZVwiXVwiOmlmKCFyKXtpZihkfHxwKXtmPSEwO2JyZWFrfWQ9cD0hMH1hLkZfPWEuTV89Yyx1PSExO2JyZWFrO2Nhc2VcIj5cIjppZighcil7aWYoZCl7Zj0hMDticmVha31kPSEwfWEuRl89Yyx1PSExO2JyZWFrO2Nhc2VcIidcIjppZighcil7aWYocCl7Zj0hMDticmVha31wPSEwfWEuTV89Yyx1PSExO2JyZWFrO2Nhc2VcIiBcIjp1PSExO2JyZWFrO2RlZmF1bHQ6aWYoIXImJnUpe2Y9ITA7YnJlYWt9aWYocz1wYXJzZUludChpK2UuY2hhckF0KGgrKyksMTYpLCFyJiYoaXNOYU4ocyl8fHM8MHx8cz4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZ1wiKTthLnZpZXcuc2V0VWludDgoYysrLHMpLHU9ITB9aWYoZil0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogSW52YWxpZCBzeW1ib2wgYXQgXCIraCl9aWYoIXIpe2lmKCFsfHwhZCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTWlzc2luZyBvZmZzZXQgb3IgbGltaXRcIik7aWYoYzxhLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZyAoaXMgaXQgaGV4PykgXCIrYytcIiA8IFwiK28pfXJldHVybiBhfSxzLklBPWZ1bmN0aW9uKGUsdCl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsdD12b2lkIDA9PT10P3RoaXMuRl86dCwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWZvcih2YXIgcixpPW5ldyBBcnJheSh0LWUpO2U8dDspcj10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSxyPDE2P2kucHVzaChcIjBcIixyLnRvU3RyaW5nKDE2KSk6aS5wdXNoKHIudG9TdHJpbmcoMTYpKTtyZXR1cm4gaS5qb2luKFwiXCIpfSxuLlFfPWZ1bmN0aW9uKGUsdCxyKXtpZighcil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihlLmxlbmd0aCUyIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBMZW5ndGggbm90IGEgbXVsdGlwbGUgb2YgMlwiKX1mb3IodmFyIGkscz1lLmxlbmd0aCxvPW5ldyBuKHMvMnwwLHQpLGE9MCxoPTA7YTxzO2ErPTIpe2lmKGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoYSxhKzIpLDE2KSwhciYmKCFpc0Zpbml0ZShpKXx8aTwwfHxpPjI1NSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIG5vbi1oZXggY2hhcmFjdGVyc1wiKTtvLnZpZXcuc2V0VWludDgoaCsrLGkpfXJldHVybiBvLkZfPWgsb307dmFyIGM9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS53QT0xMTE0MTExLGUuYkE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8MTI4P3QoMTI3JnIpOnI8MjA0OD8odChyPj42JjMxfDE5MiksdCg2MyZyfDEyOCkpOnI8NjU1MzY/KHQocj4+MTImMTV8MjI0KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSk6KHQocj4+MTgmN3wyNDApLHQocj4+MTImNjN8MTI4KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSkscj1udWxsfSxlLmlBPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGksbixzLG89ZnVuY3Rpb24oZSl7ZT1lLnNsaWNlKDAsZS5pbmRleE9mKG51bGwpKTt2YXIgdD1FcnJvcihlLnRvU3RyaW5nKCkpO3Rocm93IHQubmFtZT1cIlRydW5jYXRlZEVycm9yXCIsdC5ieXRlcz1lLHR9O251bGwhPT0ocj1lKCkpOylpZigwPT0oMTI4JnIpKXQocik7ZWxzZSBpZigxOTI9PSgyMjQmcikpbnVsbD09PShpPWUoKSkmJm8oW3IsaV0pLHQoKDMxJnIpPDw2fDYzJmkpO2Vsc2UgaWYoMjI0PT0oMjQwJnIpKShudWxsPT09KGk9ZSgpKXx8bnVsbD09PShuPWUoKSkpJiZvKFtyLGksbl0pLHQoKDE1JnIpPDwxMnwoNjMmaSk8PDZ8NjMmbik7ZWxzZXtpZigyNDAhPSgyNDgmcikpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc3RhcnRpbmcgYnl0ZTogXCIrcik7KG51bGw9PT0oaT1lKCkpfHxudWxsPT09KG49ZSgpKXx8bnVsbD09PShzPWUoKSkpJiZvKFtyLGksbixzXSksdCgoNyZyKTw8MTh8KDYzJmkpPDwxMnwoNjMmbik8PDZ8NjMmcyl9fSxlLkNBPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bnVsbDs7KXtpZihudWxsPT09KHI9bnVsbCE9PWk/aTplKCkpKWJyZWFrO3I+PTU1Mjk2JiZyPD01NzM0MyYmbnVsbCE9PShpPWUoKSkmJmk+PTU2MzIwJiZpPD01NzM0Mz8odCgxMDI0KihyLTU1Mjk2KStpLTU2MzIwKzY1NTM2KSxpPW51bGwpOnQocil9bnVsbCE9PWkmJnQoaSl9LGUubkE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8PTY1NTM1P3Qocik6KHItPTY1NTM2LHQoNTUyOTYrKHI+PjEwKSksdChyJTEwMjQrNTYzMjApKSxyPW51bGx9LGUuWVA9ZnVuY3Rpb24odCxyKXtlLkNBKHQsZnVuY3Rpb24odCl7ZS5iQSh0LHIpfSl9LGUuV1A9ZnVuY3Rpb24odCxyKXtlLmlBKHQsZnVuY3Rpb24odCl7ZS5uQSh0LHIpfSl9LGUuX0E9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MTI4PzE6ZTwyMDQ4PzI6ZTw2NTUzNj8zOjR9LGUuUEE9ZnVuY3Rpb24odCl7Zm9yKHZhciByLGk9MDtudWxsIT09KHI9dCgpKTspaSs9ZS5fQShyKTtyZXR1cm4gaX0sZS5LUD1mdW5jdGlvbih0KXt2YXIgcj0wLGk9MDtyZXR1cm4gZS5DQSh0LGZ1bmN0aW9uKHQpeysrcixpKz1lLl9BKHQpfSksW3IsaV19LGV9KCk7cmV0dXJuIHMuVEE9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaTt0cnl7Yy5XUChmdW5jdGlvbigpe3JldHVybiBlPHQ/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxpPXIoKSl9Y2F0Y2gocil7aWYoZSE9PXQpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiICE9IFwiK3QpfXJldHVybiBpKCl9LG4uWV89ZnVuY3Rpb24oZSxyLGkpe2lmKCFpJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO3ZhciBzPW5ldyBuKGMuS1AodChlKSwhMClbMV0scixpKSxvPTA7cmV0dXJuIGMuWVAodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5GXz1vLHN9LG59XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P2UuaT1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPXIoOTMpfWNhdGNoKGUpe31yZXR1cm4gYShlKX0oKToobj1bcig5NCldLHZvaWQgMCE9PShzPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfS5hcHBseSh0LG4pKSYmKGUuaT1zKSl9KCl9KS5jYWxsKHQscig2MykoZSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMCkscz1yKDI1KSxvPXIoNDcpLGE9cigxNjQpLGg9cig2KSxjPXIoMSksdT1yKDIpLGw9aC5oZS5SaCxwPWguaGUuVGgsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5sb2dnZXJJZD1cIltQMlBEaXNwYXRjaGVyXSBcIix0aGlzLmxvZ2dlcj1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLlNnPXQsdGhpcy5vdGhlckd1aWQ9cix0aGlzLnN3YXJtSWQ9ZS5zd2FybUlkLHRoaXMueWc9aSx0aGlzLnJlY2VpdmVyPW5ldyBhLkM2KHQscixlKSx0aGlzLnNlbmRlcj1uZXcgYS5fNih0LHIsZSx0aGlzKSx0aGlzLnZEPWUudkQsdGhpcy5URD1lLlRELHRoaXMucUo9ZS5xSiwocHx8bi5GcmFtZXdvcmsuQygpJiZvLiROLlhOKSYmKHRoaXMuUUo9ZS5RSil9cmV0dXJuIGUucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VuZGVyLkRnKCl8fHRoaXMucmVjZWl2ZXIuRGcoKX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5kZWZlcigpO3JldHVybiB0aGlzLnNlbmRlci5QNigpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGUucmVjZWl2ZXIuY2xvc2UocikudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZS5SaihyKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLnlnLmNsb3NlKHIpLnRoZW4oZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24ocil7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNsb3NpbmcgY29ubmVjdGlvbiB0byBwZWVyXCIsZS5sb2dnZXJJZCx1LmhzLldlLnFlLHtkZXRhaWxlZEVycm9yOnIsb3RoZXJHdWlkOmUub3RoZXJHdWlkfSksdC5yZWplY3QoXCJDbG9zZSBwYXJ0bmVyc2hpcCBmYWlsZWRcIil9KSx0LlNzfSxlLnByb3RvdHlwZS5Saj1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNFTkQgQ0xPU0UgVE8gXCIrdGhpcy5vdGhlckd1aWQpO3ZhciB0PW5ldyBzLlJmLkZhLkpnLkNsb3NlO3JldHVybiB0LnNldFR5cGUoZSksdGhpcy5MZyhzLlJmLkVnLkNsb3NlLHQpLGkodGhpcy5zd2FybUlkKX0sZS5wcm90b3R5cGUuQXM9ZnVuY3Rpb24oZSl7dHJ5e3N3aXRjaChsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRJU1BBVENIIFwiK2UubXNnSWQpLGUubXNnSWQpe2Nhc2Ugcy5SZi5FZy5DaHVuazp2YXIgdD1zLlJmLkZhLkpnLkNodW5rLmRlY29kZShlLldnKTt0aGlzLnJlY2VpdmVyLkE2KHQpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5BY2s6dmFyIHI9cy5SZi5GYS5KZy5BY2suZGVjb2RlKGUuV2cpO3RoaXMuc2VuZGVyLk82KHIudHJhbnNmZXJJZCk7YnJlYWs7Y2FzZSBzLlJmLkVnLkNhbmNlbDp2YXIgaT1zLlJmLkZhLkpnLkNhbmNlbC5kZWNvZGUoZS5XZyk7dGhpcy5zZW5kZXIuTjYoaS50cmFuc2ZlcklkKTticmVhaztjYXNlIHMuUmYuRWcubGc6bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBPVVQgUEFSVCxERUNPRElORyBcIik7dmFyIG49cy5SZi5GYS5KZy5PdXRQYXJ0bmVyc2hpcFJlcXVlc3QuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgT1VUIFBBUlQgRlJPTSBcIituLmd1aWQpLHRoaXMuVEQuQ2oobix0aGlzLnlnKTticmVhaztjYXNlIHMuUmYuRWcucGc6bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBPVVQgUEFSVCBSRVNQIFwiKTt2YXIgbz1zLlJmLkZhLkpnLk91dFBhcnRuZXJzaGlwUmVzcG9uc2UuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgT1VUIFBBUlQgUkVTUCBGUk9NIFwiK28uYWNjZXB0KSx0aGlzLlRELlFqKG8sdGhpcy55Zyk7YnJlYWs7Y2FzZSBzLlJmLkVnLkhhdmU6dmFyIGE9cy5SZi5GYS5KZy5IYXZlLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIEhBVkUgRk9SIFwiK2EuZnJhZ21lbnRJZCtcIiBGUk9NIFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLlRELkQ2KHRoaXMub3RoZXJHdWlkLGEpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5DbG9zZTp2YXIgaD1zLlJmLkZhLkpnLkNsb3NlLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIENMT1NFIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuVEQuVmoodGhpcy5vdGhlckd1aWQsaCk7YnJlYWs7Y2FzZSBzLlJmLkVnLlJlcXVlc3Q6dmFyIHA9cy5SZi5GYS5KZy5SZXF1ZXN0LmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFJFUVVFU1QgRk9SIFwiK3AuZnJhZ21lbnRJZCtcIiBGUk9NIFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLnFKLlBNKHRoaXMub3RoZXJHdWlkLHAsdGhpcyk7YnJlYWs7Y2FzZSBzLlJmLkVnLkRvTm90SGF2ZTp2YXIgZD1zLlJmLkZhLkpnLkRvTm90SGF2ZS5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJEb05vdEhhdmUgXCIrZC50cmFuc2ZlcklkKSx0aGlzLnZELms2KGQpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5kZzp2YXIgZj1zLlJmLkZhLkpnLlVEUEhhbmRzaGFrZU1lc3NhZ2UuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiVURQIEhBTkRTSEFLRSBNRVNTQUdFIFJFQ0VJVkVEIEZST00gXCIrZi51dWlkKSx0aGlzLlFKLlNHKGYsdGhpcy55Zyk7YnJlYWs7Y2FzZSBzLlJmLkVnLlVEUEhhbmRzaGFrZVJlc3BvbnNlOnZhciBnPXMuUmYuRmEuSmcuVURQSGFuZHNoYWtlUmVzcG9uc2UuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiVURQIEhBTkRTSEFLRSBNRVNTQUdFIFJFU1BPTlNFIFJFQ0VJVkVEIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuUUouSUcoZyx0aGlzLnlnKTticmVhaztjYXNlIHMuUmYuRWcuVURQU3dpdGNoTGVhZGVyc2hpcFJlcXVlc3Q6dmFyIEU9cy5SZi5GYS5KZy5VRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdC5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJTV0lUQ0ggTEVBREVSU0hJUCBSRVFVRVNUIFJFQ0VJVkVEIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuUUouVUcoRSk7YnJlYWs7Y2FzZSBzLlJmLkVnLmZnOnZhciB2PXMuUmYuRmEuSmcuVURQU3dpdGNoTGVhZGVyc2hpcEFjay5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJVRFAgU1dJVENIIEFDS05PV0xFREdNRU5UIFJFU1BPTlNFIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuUUouVkcodix0aGlzLm90aGVyR3VpZCk7YnJlYWs7Y2FzZSBzLlJmLkVnLkJpdHJhdGU6dmFyIHk9cy5SZi5GYS5KZy5CaXRyYXRlLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkJJVFJBVEUgSU5GTyBcIit5LmJpdHJhdGUrXCIgRlJPTSBcIit5Lmd1aWQpLHRoaXMuVEQuV2ooeSk7YnJlYWs7Y2FzZSBzLlJmLkVnLkhhdmVzOnZhciBUPXMuUmYuRmEuSmcuSGF2ZXMuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgQkFUQ0ggSEFWRVMgRk9SIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuVEQuTDYodGhpcy5vdGhlckd1aWQsVCk7YnJlYWs7Y2FzZSBzLlJmLkVnLm5kOnZhciBtPXMuUmYuRmEuSmcuUGVlckluZm9NZXNzYWdlLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFBFRVIgSU5GTyBGUk9NIFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLlRELlhqKG0pO2JyZWFrO2Nhc2Ugcy5SZi5FZy5QaW5nOnZhciBJPXMuUmYuRmEuSmcuUGluZy5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBQSU5HIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuVEQuTTYoSSk7YnJlYWs7Y2FzZSBzLlJmLkVnLlBvbmc6dmFyIFM9cy5SZi5GYS5KZy5Qb25nLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFBPTkcgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5URC5GNihTKTticmVhaztjYXNlIHMuUmYuRWcuZ2c6dmFyIFI9cy5SZi5GYS5KZy5Ob1BhcnRuZXJzLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIE5PTiBQQVJUTkVSIE1FU1NBR0UgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy52RC5VNih0aGlzLm90aGVyR3VpZCxSKTticmVhaztkZWZhdWx0OnRoaXMubG9nZ2VyLndhcm4oXCJVTktOT1dOIE1FU1NBR0UgVFlQRSBcIitlLm1zZ0lkKX19Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGRpc3BhdGNoaW5nIG1lc3NhZ2VcIix0aGlzLmxvZ2dlcklkLGUsdS5ocy5XZS5ZZSxlKX19LGUucHJvdG90eXBlLkxnPWZ1bmN0aW9uKGUsdCl7dGhpcy55Zy5MZyhlLHRoaXMuc3dhcm1JZCx0KX0sZX0oKTt0LklnPWR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQ4KSxuPXIoMzUpLHM9cig0KSxvPXIoMjUpLGE9cigwKSxoPXIoNyksYz1yKDE2NSksdT1yKDUpLGw9cig5NSkscD1yKDEpLGQ9cigyKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5sb2dnZXJJZD1cIltGcmFnbWVudFJlcXVlc3Rlcl0gXCIsdGhpcy5CNj1uZXcgaSx0aGlzLkg2PW5ldyBpLHRoaXMueDY9bnVsbCx0aGlzLnVnPW8uUmYudWcsdGhpcy5TZz1lLHRoaXMub3RoZXJHdWlkPXQsdGhpcy52RD1yLnZELHRoaXMueUQ9ci55RCx0aGlzLk5nPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5GKSx0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKHIuc2Vzc2lvbklkKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UmVwb3J0aW5nR3VpZD1mdW5jdGlvbihlKXt0aGlzLnE2PWV9LGUucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7cmV0dXJuISgwPT09dGhpcy5CNi5rZXlzKCkubGVuZ3RoJiZudWxsPT09dGhpcy54Nil9LGUucHJvdG90eXBlLkc2PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBvLlJmLkZhLkpnLlJlcXVlc3Q7dHJ5e3QuZnJhZ21lbnRJZD1lLlpmKCksdC50cmFuc2ZlcklkPWUuUGssdGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJJTklUSUFUSU5HIFRSLVwiK2UuUGsrXCIgVElNRU9VVDogXCIrZS5WNitcIiBGUkFHTUVOVDogXCIrZS5aZigpK1wiIEZST006IFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLkI2LnNldChlLlBrLGUpLHRoaXMuSDYuc2V0KGUuUGssYS5GcmFtZXdvcmsudGltZSgpKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uc3RydWN0aW5nIGZyYWdtZW50IHJlcXVlc3QgbWVzc2FnZVwiLHRoaXMubG9nZ2VySWQsZC5ocy5aaS5RaSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pLHQ9bnVsbH10cnl7dCYmZS54cS53ai5MZyhvLlJmLkVnLlJlcXVlc3QsdCl9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgZnJhZ21lbnQgcmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsZC5ocy5aaS5LaSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pfX0sZS5wcm90b3R5cGUuQTY9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudHJhbnNmZXJJZCxyPWUuZGF0YS55QSgpLGk9ZS5jaHVua1NpemUsbj1lLnRvdGFsU2l6ZSxzPWUuaGVhZGVycztpZih0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJDViBDaHVuayBcIityLmJ5dGVMZW5ndGgpLCF0aGlzLkI2Lmhhcyh0KSlyZXR1cm47bnVsbD09dGhpcy54Nj8odGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJJTklUSUFURUQgVFItXCIrdCtcIixTSVpFPVwiK24pLHRoaXMueDY9dGhpcy5CNi5nZXQodCksdGhpcy54Ni5Qaz10LHRoaXMuajYodCx0aGlzLng2LnhxKSxudWxsIT1zP3RoaXMueDYucmVzcG9uc2VIZWFkZXJzPXM6dGhpcy5sb2dnZXIud2FybihcIkhFQURFUlMgTlVMTCBJTiBGSVJTVCBDSFVOS1wiKSx0aGlzLnZELnYxKHRoaXMub3RoZXJHdWlkLHRoaXMueDYsaSxuKSx0aGlzLng2LlFmPWksYS5GcmFtZXdvcmsuQygpfHwodGhpcy54Ni5qZj1yKSk6KHRoaXMuajYodCx0aGlzLng2LnhxKSx0aGlzLng2LlFmKz1pLGEuRnJhbWV3b3JrLkMoKXx8KHRoaXMueDYuamY9aC5yYy5hcHBlbmRCdWZmZXIodGhpcy54Ni5qZixyKSkpO3ZhciBvPWEuRnJhbWV3b3JrLkMoKT90aGlzLng2LlFmOnRoaXMueDYuamYuYnl0ZUxlbmd0aDtpZih0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFwiK28rXCIvXCIrbitcIiBUUklEIFwiK3QpLG89PW4pe3RoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkNWIEFMTCBEQVRBIFwiK28rXCIgVFItXCIrdGhpcy54Ni5ZZiksdGhpcy54Ni5xZi5BZj1vLGEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLng2Lm1HKSx0aGlzLkI2LmRlbGV0ZSh0KTt2YXIgYz1hLkZyYW1ld29yay50aW1lKCktdGhpcy5INi5nZXQodCk7dGhpcy5sb2dnZXIuZGVidWcoXCJSQ1YgQUxMIERBVEEgRlJPTSBcIit0aGlzLm90aGVyR3VpZCtcIiBBRlRFUiBcIitjK1wiIG1zZWNvbmRzXCIpLHRoaXMuSDYuZGVsZXRlKHQpLHRoaXMudkQuVUQodCx0aGlzLng2KSx0aGlzLng2PW51bGx9fWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgY2h1bmtcIix0aGlzLmxvZ2dlcklkLGQuaHMuWmkuWWkse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5vdGhlckd1aWR9KX19LGUucHJvdG90eXBlLmo2PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiU0VORCBBQ0sgXCIrZStcIiBUTyBcIit0aGlzLm90aGVyR3VpZCk7dmFyIHI9bmV3IG8uUmYuRmEuSmcuQWNrO3IudHJhbnNmZXJJZD1lLHQud2ouTGcoby5SZi5FZy5BY2sscil9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgYWNrXCIsdGhpcy5sb2dnZXJJZCxkLmhzLlppLldpLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMub3RoZXJHdWlkfSl9fSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9cy5kZWZlcigpO3JldHVybiBudWxsIT10aGlzLng2JiZ0aGlzLlE2KHRoaXMueDYuUGspLHRoaXMuQjYua2V5cygpLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LlE2KGUpfSksci5yZXNvbHZlKGwueFYuSnEpLHIuU3N9LGUucHJvdG90eXBlLlE2PWZ1bmN0aW9uKGUpe3RyeXtpZih0aGlzLkI2LmhhcyhlKSl7dmFyIHQ9dGhpcy5CNi5nZXQoZSk7dC5xZi5BZj10LlFmLHRoaXMubG9nZ2VyLmRlYnVnKFwiU0VORCBDQU5DRUwgRk9SIFwiK2UrXCIgVE8gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuSDYuZGVsZXRlKGUpO3ZhciByPW5ldyBvLlJmLkZhLkpnLkNhbmNlbDtyLnRyYW5zZmVySWQ9ZSx0LnhxLndqLkxnKG8uUmYuRWcuQ2FuY2VsLHIpLG51bGwhPT10aGlzLng2JiZ0aGlzLng2LiRmKCk9PT10LiRmKCkmJih0aGlzLng2PW51bGwpLHRoaXMuQjYuZGVsZXRlKGUpfWVsc2UgcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNsZWFuaW5nIHVwIGEgbm90IHBlbmRpbmcgdHJhbnNmZXJcIix0aGlzLmxvZ2dlcklkLGQuaHMuWmkuemkpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIHN0b3AgdHJhbnNmZXJcIix0aGlzLmxvZ2dlcklkLGQuaHMuWmkuSmkse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5vdGhlckd1aWR9KX19LGV9KCk7dC5DNj1mO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixuKXt0aGlzLmxvZ2dlcklkPVwiW0ZyYWdtZW50U2VuZGVyXSBcIix0aGlzLnVnPW8uUmYudWcsdGhpcy5LNj1udWxsLHRoaXMuWTY9bmV3IEFycmF5LHRoaXMuVzY9bmV3IGksdGhpcy56Nj0wLHRoaXMuY2xvc2U9bnVsbCx0aGlzLlNnPWUsdGhpcy5vdGhlckd1aWQ9dCx0aGlzLko2PXIucUosdGhpcy53aj1uLHRoaXMuSUQ9ci5JRCx0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKHIuc2Vzc2lvbklkKSx0aGlzLk5nPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5GKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UmVwb3J0aW5nR3VpZD1mdW5jdGlvbihlKXt0aGlzLnE2PWV9LGUucHJvdG90eXBlLlg2PWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIHM9dGhpczt0aGlzLnVnJiZ0aGlzLmxvZ2dlci5pbmZvKFwiU0VORCBGUkFHTUVOVCBcIitlK1wiIFRPIFwiK3RoaXMub3RoZXJHdWlkKTt0cnl7dmFyIG89bmV3IGMuWjY7by50cmFuc2ZlcklkPXQsby5mcmFnbWVudElkPWUsby5lOD1uLG8uaGVhZGVycz1pLG8udDg9cixvLnI4PU1hdGguY2VpbChvLnQ4L3UuaGguRmEuRGEpLG8ubjg9MCx0aGlzLlk2LnB1c2gobyksdGhpcy51ZyYmdGhpcy5ZNi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MubG9nZ2VyLmRlYnVnKHMub3RoZXJHdWlkK1wiIFBFTkRJTkcgT1VUIFwiK2UpfSl9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBjaHVuayByZXNwb25zZVwiLHRoaXMubG9nZ2VySWQsZC5ocy5pbi4kaSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pfW51bGw9PT10aGlzLks2P3RoaXMuczgoKTp0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLm90aGVyR3VpZCtcIiBPVVQgTVNHIE5PVCBOVUxMXCIpfSxlLnByb3RvdHlwZS5PNj1mdW5jdGlvbihlKXt0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIk9OR09JTkcgXCIrZStcIiBHT1QgQUNLXCIpLG51bGwhPT10aGlzLks2JiZ0aGlzLks2LnRyYW5zZmVySWQudG9TdHJpbmcoKT09PWUudG9TdHJpbmcoKT90aGlzLm84KCExKTpwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIGFjayBmb3IgdW5rbm93biB0cmFuc2ZlclwiLHRoaXMubG9nZ2VySWQsZC5ocy5pbi5ybil9LGUucHJvdG90eXBlLk42PWZ1bmN0aW9uKGUpe251bGwhPXRoaXMuSzYmJnRoaXMuSzYudHJhbnNmZXJJZD09PWU/KHRoaXMubG9nZ2VyLmRlYnVnKFwiR09UIENBTkNFTCBGT1IgT05HT0lORyBUUi1cIitlKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRSQU5TUE9SVCBDQU5DRUwgU1RBVFMgXCIrdGhpcy5TZytcIixcIit0aGlzLm90aGVyR3VpZCtcIixcIitlKSx0aGlzLlc2LmRlbGV0ZShlKSwwIT10aGlzLks2Lm44P3RoaXMuSjYuYTgodGhpcy5vdGhlckd1aWQsdGhpcy5xNix0aGlzLks2Lm44LHRoaXMuSzYudDgpOnRoaXMuSjYuaDgodGhpcy5vdGhlckd1aWQsdGhpcy5xNix0aGlzLks2LnQ4KSx0aGlzLks2PW51bGwsdGhpcy5zOCgpKTp0aGlzLlk2PXRoaXMuWTYuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYW5zZmVySWQhPT1lfSl9LGUucHJvdG90eXBlLnM4PWZ1bmN0aW9uKCl7dHJ5e2lmKG51bGw9PT10aGlzLks2JiYwIT09dGhpcy5ZNi5sZW5ndGgpe3ZhciBlPXRoaXMuWTYuc2hpZnQoKTt0aGlzLks2PWUsdGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJEQVRBIFRPIFNFTkQgTEVOR1RIIFwiK3RoaXMuSzYudDgrXCIgSU4gXCIrdGhpcy5LNi5yOCtcIiBDSFVOS1MgV0lUSCBUUi1cIit0aGlzLks2LnRyYW5zZmVySWQpLHRoaXMubzgoITApfX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc3RhcnQgc2VuZGluZyBjaHVua3NcIix0aGlzLmxvZ2dlcklkLGQuaHMuaW4uZW4sZSksdGhpcy5rZygpfX0sZS5wcm90b3R5cGUubzg9ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuVzYuc2V0KHRoaXMuSzYudHJhbnNmZXJJZCxhLkZyYW1ld29yay50aW1lKCkpLHRoaXMuejY9dGhpcy5LNi5yOCk7dHJ5e2lmKG51bGwhPXRoaXMuSzYpaWYoMD09PXRoaXMuSzYucjgpdGhpcy5sb2dnZXIuZGVidWcoXCJGSU5JU0hFRCBTRU5ESU5HIFRSQU5TRkVSIFwiK3RoaXMuSzYudHJhbnNmZXJJZCtcIiBXSVRIIFwiK3RoaXMuSzYubjgrXCIgQllURVNcIiksdGhpcy5XNi5kZWxldGUodGhpcy5LNi50cmFuc2ZlcklkKSx0aGlzLko2LmM4KHRoaXMub3RoZXJHdWlkLHRoaXMucTYsdGhpcy5LNi50OCksdGhpcy5LNj1udWxsLHRoaXMudTgoKSx0aGlzLnM4KCk7ZWxzZXt0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkEgQ0hVTktcIik7dmFyIHQ9TWF0aC5taW4odGhpcy5LNi5uOCt1LmhoLkZhLkRhLHRoaXMuSzYudDgpLHI9dC10aGlzLks2Lm44LGk9bmV3IG8uUmYuRmEuSmcuQ2h1bms7aWYoaS50cmFuc2ZlcklkPXRoaXMuSzYudHJhbnNmZXJJZCxpLnRvdGFsU2l6ZT10aGlzLks2LnQ4LGkuY2h1bmtTaXplPXIsZSYmbnVsbCE9dGhpcy5LNi5oZWFkZXJzJiYoaS5oZWFkZXJzPXRoaXMuSzYuaGVhZGVycyksYS5GcmFtZXdvcmsuQygpfHxudWxsPT10aGlzLks2LmU4KWkuZGF0YT1uLndyYXAobmV3IEFycmF5QnVmZmVyKDApKTtlbHNlIGlmKGkuZGF0YT10aGlzLklELmw4KHRoaXMuSzYuZnJhZ21lbnRJZCx0aGlzLno2LXRoaXMuSzYucjgpLG51bGw9PWkuZGF0YSl7dmFyIHM9dGhpcy5LNi5lOC5zbGljZSh0aGlzLks2Lm44LHQpO2kuZGF0YT1uLndyYXAocyl9dGhpcy5LNi5uOD10aGlzLks2Lm44K3IsdGhpcy53ai5MZyhvLlJmLkVnLkNodW5rLGkpLHRoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiU05EIFtcIit0aGlzLks2Lm44K1wiLVwiKyh0aGlzLks2Lm44K3IpK1wiL1wiK3RoaXMuSzYudDgrXCJdIFRPIFwiK3RoaXMub3RoZXJHdWlkK1wiIE9GIFRSLVwiK3RoaXMuSzYudHJhbnNmZXJJZCksdGhpcy5LNi5yOC0tfWVsc2UgdGhpcy5sb2dnZXIuZGVidWcoXCJOTyBNRVNTQUdFIFRPIFNFTkRcIil9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgY2h1bmtcIix0aGlzLmxvZ2dlcklkLGQuaHMuaW4udG4se2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5vdGhlckd1aWR9KSx0aGlzLmtnKCl9fSxlLnByb3RvdHlwZS5EZz1mdW5jdGlvbigpe3JldHVybiEoMD09PXRoaXMuWTYubGVuZ3RoJiZudWxsPT09dGhpcy5LNil9LGUucHJvdG90eXBlLlA2PWZ1bmN0aW9uKCl7dmFyIGU9cy5kZWZlcigpO3JldHVybiB0aGlzLlk2Lmxlbmd0aD0wLHRoaXMuRGcoKT90aGlzLmNsb3NlPWU6ZS5yZXNvbHZlKFwiQ0xPU0VcIiksZS5Tc30sZS5wcm90b3R5cGUudTg9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlJiZ0aGlzLmNsb3NlLnJlc29sdmUoXCJDTE9TRURcIil9LGUucHJvdG90eXBlLmtnPWZ1bmN0aW9uKCl7dGhpcy5LNj1udWxsfSxlfSgpO3QuXzY9Z30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaGVhZGVycz1udWxsfXJldHVybiBlfSgpO3QuWjY9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDApLHM9cig1KSxvPXIoMTUpLGE9cigyKSxoPXIoMSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIscyxhLGgpe3RoaXMubG9nZ2VySWQ9XCJbUGFydG5lcl0gXCIsdGhpcy5wOD0wLHRoaXMuZDg9MCx0aGlzLmY4PTAsdGhpcy5nOD1uZXcgQXJyYXksdGhpcy5FOD1uZXcgQXJyYXksdGhpcy5CNj1uZXcgaSx0aGlzLmxvZ2dlcj1zLHRoaXMud2o9cix0aGlzLmd1aWQ9ZSx0aGlzLkVrPWgsdGhpcy52OD1hLHRoaXMuS009dCx0aGlzLmdRPW4uRnJhbWV3b3JrLnJlc29sdmUoby5xdS5rdSksdGhpcy52UT1uLkZyYW1ld29yay5yZXNvbHZlKG8ucXUua3UpLHRoaXMueTg9bi5GcmFtZXdvcmsudGltZSgpfXJldHVybiBlLnByb3RvdHlwZS5Eaj1mdW5jdGlvbihlKXt0aGlzLnJlcG9ydGluZ0d1aWQ9ZSx0aGlzLndqJiYodGhpcy53ai5yZWNlaXZlci5zZXRSZXBvcnRpbmdHdWlkKHRoaXMucmVwb3J0aW5nR3VpZCksdGhpcy53ai5zZW5kZXIuc2V0UmVwb3J0aW5nR3VpZCh0aGlzLnJlcG9ydGluZ0d1aWQpKX0sZS5wcm90b3R5cGUuVDg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPU1hdGgubWF4KDEsdCk7Zm9yKHImJih0aGlzLmQ4Kz1pLHRoaXMucDgrPWUpO3RoaXMuZzgubGVuZ3RoPnMuaGguT2Eud2E7KXRoaXMuZzgucG9wKCk7dmFyIG49ZS9pO3RoaXMuZzgudW5zaGlmdChuKX0sZS5wcm90b3R5cGUubTg9ZnVuY3Rpb24oZSl7dGhpcy5CNi5oYXMoZSk/dGhpcy5sb2dnZXIud2Fybih0aGlzLmd1aWQrXCIgRFVQTElDQVRFIHt9IFBFTkRJTkcgUkVRVUVTVFMgXCIrZSk6dGhpcy5CNi5zZXQoZSxuLkZyYW1ld29yay50aW1lKCkpfSxlLnByb3RvdHlwZS5JOD1mdW5jdGlvbihlLHQscixpLHMsbyl7dHJ5e2lmKHRoaXMuQjYuaGFzKGUpKXt2YXIgYz10aGlzLkI2LmdldChlKSx1PW4uRnJhbWV3b3JrLnRpbWUoKS1jO3RoaXMuQjYuZGVsZXRlKGUpLGkmJnRoaXMuVDgodCx1LCEwKSx0aGlzLmdRLnN1Y2Nlc3ModCksdGhpcy5LTS5TOCh0aGlzLnJlcG9ydGluZ0d1aWQsdCxyLHMsbyl9ZWxzZSBoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29tcGxldGluZyBhIG5vbi1leGlzdGluZyByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxhLmhzLkRuLl9uLHtvdGhlckd1aWQ6dGhpcy5ndWlkLHE2OnRoaXMucmVwb3J0aW5nR3VpZH0pfWNhdGNoKGUpe2guRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBoYW5kbGluZyByZXF1ZXN0IGNvbXBsZXRlZFwiLHRoaXMubG9nZ2VySWQsYS5ocy5Ebi5Dbix7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLmd1aWQscTY6dGhpcy5yZXBvcnRpbmdHdWlkfSl9fSxlLnByb3RvdHlwZS5SOD1mdW5jdGlvbihlLHQscixpLG4sbyl7dHJ5e2lmKHRoaXMuQjYuaGFzKGUpKXt2YXIgYz10aGlzLkI2LmdldChlKTt0aGlzLkI2LmRlbGV0ZShlKSxzLmhoLk9hLmJhP3RoaXMuVDgodCxjLCEwKTp0aGlzLlQ4KDAsYywhMCksdGhpcy5nUS53OCh0LGkpLHRoaXMuS00uYjgodGhpcy5yZXBvcnRpbmdHdWlkLHQscixpLG4sbyl9ZWxzZSBoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFydGlhbGx5IGZhaWxlZCBhIG5vbi1leGlzdGluZyByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxhLmhzLkRuLkFuLHtvdGhlckd1aWQ6dGhpcy5ndWlkLHE2OnRoaXMucmVwb3J0aW5nR3VpZH0pfWNhdGNoKGUpe2guRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBoYW5kbGluZyByZXF1ZXN0IHBhcnRpYWxseSBmYWlsZWQgXCIsdGhpcy5sb2dnZXJJZCxhLmhzLkRuLlBuLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMuZ3VpZH0pfX0sZS5wcm90b3R5cGUuX2s9ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLkI2LmhhcyhlKSl7dmFyIGk9dGhpcy5CNi5nZXQoZSk7dGhpcy5CNi5kZWxldGUoZSksdGhpcy5UOCgwLGksITApLHRoaXMuZ1EubGwoKSx0aGlzLktNLkM4KHRoaXMucmVwb3J0aW5nR3VpZCxyLHQpfWVsc2UgaC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGZhaWxlZCBhIG5vbi1leGlzdGluZyByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxhLmhzLkRuLk5uLHtvdGhlckd1aWQ6dGhpcy5ndWlkLHE2OnRoaXMucmVwb3J0aW5nR3VpZH0pfWNhdGNoKGUpe2guRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBoYW5kbGluZyByZXF1ZXN0IGZhaWxlZCBcIix0aGlzLmxvZ2dlcklkLGEuaHMuRG4uT24se2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5ndWlkfSl9fSxlLnByb3RvdHlwZS5fOD1mdW5jdGlvbihlLHQpe3RoaXMuS00uUDgoZSx0LCEwKX0sZS5wcm90b3R5cGUuQTg9ZnVuY3Rpb24oZSx0KXt0aGlzLktNLk84KGUsdCwhMCl9LGUucHJvdG90eXBlLk44PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLktNLkQ4KGUsdCxyLCEwKX0sZS5wcm90b3R5cGUuazg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmc4LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LDApO3JldHVybiB0aGlzLmc4Lmxlbmd0aD4wP2UvdGhpcy5nOC5sZW5ndGg6MH0sZS5wcm90b3R5cGUuTDg9ZnVuY3Rpb24oZSl7dGhpcy5mOD1lfSxlLnByb3RvdHlwZS5NOD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmY4fSxlLnByb3RvdHlwZS5Jaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVrLklqKCl9LGV9KCk7dC5QYXJ0bmVyPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDM1KSxuPXIoMykscz1yKDApLG89cigxMCksYT1yKDI1KSxoPXIoNSksYz1yKDEpLHU9cigxNjgpLGw9cigyKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuak09XCJbUEFSVE5FUlNISVBdIFwiLHRoaXMuYWo9bmV3IG4sdGhpcy5nQj1uZXcgbix0aGlzLmRCPW5ldyBuLHRoaXMuZkI9bmV3IG4sdGhpcy5GOD0hMSx0aGlzLlU4PSExLHRoaXMuQjg9ITAsdGhpcy5hY3RpdmU9ITEsdGhpcy5IOCgpLHRoaXMubGo9W119cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy55RD1lLnlELHRoaXMuc0M9ZS5zQyx0aGlzLnVwbG9hZFNjb3JlPWUudXBsb2FkU2NvcmUsdGhpcy5nRD1lLmdELHRoaXMueWo9ZS5ZTX0sZS5wcm90b3R5cGUuc2o9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ooZS5wZWVySW5mby5ndWlkKX0sZS5wcm90b3R5cGUuX2o9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZkIuaGFzKGUpfHx0aGlzLmRCLmhhcyhlKX0sZS5wcm90b3R5cGUuJGo9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZEIuaGFzKGUpP3RoaXMuZEIuZ2V0KGUpOnRoaXMuZkIuZ2V0KGUpfSxlLnByb3RvdHlwZS5yaj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54aihlLnBlZXJJbmZvLmd1aWQpfSxlLnByb3RvdHlwZS54aj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nQi5oYXMoZSl8fHRoaXMuYWouaGFzKGUpfSxlLnByb3RvdHlwZS5xaj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nQi5oYXMoZSk/dGhpcy5nQi5nZXQoZSk6dGhpcy5hai5nZXQoZSl9LGUucHJvdG90eXBlLkxqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e3ZhciByPXRoaXMueUQueDgoKTtpZih0aGlzLkI4JiYhcilpZih0aGlzLl9qKGUpKXt2YXIgaT10aGlzLiRqKGUpLG49dGhpcy51cGxvYWRTY29yZS5xOCghMSkscz1bXTt0aGlzLnNDLlZxKHRoaXMuY29udGV4dC5pc0xpdmUoKSkudGhlbihmdW5jdGlvbihyKXt0LmxvZ2dlci5kZWJ1Zyh0LmpNK1wiU0VORCBBTEwgSEFWRVMgVE8gXCIrZStcIixcIityLmxlbmd0aCk7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBoPTA7aD10LmNvbnRleHQuaXNMaXZlKCk/cltvXS5zaXplKCk6cltvXS50b3RhbFNpemU7dmFyIGM9cltvXS56Zix1PW5ldyBhLlJmLkZhLkpnLkhhdmU7dS5zZXRGcmFnbWVudElkKGMuWmYoKSksdS5zZXRTaXplKGgpLHUuc2V0VXBsb2FkU2NvcmUobik7dmFyIGw9Yzt1LnNldElkKGwuQV8oKSksdS5zZXRCaXRyYXRlKGwuYml0cmF0ZSksdS5zZXREdXJhdGlvbihsLmR1cmF0aW9uKSx1LnNldFR5cGUobC5YZigpKSxzLnB1c2godSl9aWYocy5sZW5ndGg+MCl7dmFyIHA9bmV3IGEuUmYuRmEuSmcuSGF2ZXM7cC5zZXRIYXZlKHMpLGkud2ouTGcoYS5SZi5FZy5IYXZlcyxwKX19KX1lbHNlIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIGFsbCBoYXZlcyB0byBwZWVyIHdobyBpcyBub3Qgb3V0IHBhcnRuZXJcIix0aGlzLmpNLGwuaHMuVXQuQ3Qse290aGVyR3VpZDplfSl9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgYWxsIGhhdmVzXCIsdGhpcy5qTSxsLmhzLlV0LlR0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmV9KX19LGUucHJvdG90eXBlLm9aPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLG49dGhpcy55RC54OCgpO2lmKHRoaXMuQjgmJiFuKXt2YXIgcz10aGlzLmRCLnZhbHVlcygpO3RoaXMuZkIuZm9yRWFjaChmdW5jdGlvbihlLHQpe3MucHVzaChlKX0pO3ZhciBvPXRoaXMudXBsb2FkU2NvcmUucTgoITEpO3MuZm9yRWFjaChmdW5jdGlvbihuKXsoIXJ8fHImJm4uZ3VpZCE9ci5ndWlkKSYmaS5HOChuLndqLGUsdCxvKX0pfX0sZS5wcm90b3R5cGUuRzg9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5GOCYmdGhpcy5sb2dnZXIuZGVidWcodGhpcy5qTStcIlNFTkQgSEFWRSBUTyBcIitlLm90aGVyR3VpZCtcIiBGT1IgXCIrdC5aZigpKTt0cnl7dmFyIG49bmV3IGEuUmYuRmEuSmcuSGF2ZTtuLnNldEZyYWdtZW50SWQodC5aZigpKSxuLnNldFNpemUociksbi5zZXRVcGxvYWRTY29yZShpKTt2YXIgcz10O24uc2V0SWQocy5BXygpKSxuLnNldEJpdHJhdGUocy5iaXRyYXRlKSxuLnNldER1cmF0aW9uKHMuZHVyYXRpb24pLG4uc2V0VHlwZShzLlhmKCkpLGUuTGcoYS5SZi5FZy5IYXZlLG4pfWNhdGNoKHQpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIGhhdmUgXCIsdGhpcy5qTSxsLmhzLlV0Lkl0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUub3RoZXJHdWlkfSl9fSxlLnByb3RvdHlwZS5ENj1mdW5jdGlvbihlLHQpe3RyeXtpZih0aGlzLnhqKGUpKXt0aGlzLlU4JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmpNK1wiSEFWRSBSRUNFSVZFRCBGUk9NIFwiK2UrXCI6IFwiK3QuZnJhZ21lbnRJZCk7dmFyIHI9dGhpcy5xaihlKTtyLkw4KHQuZ2V0VXBsb2FkU2NvcmUoKSksdGhpcy5nRC5wdXQodCxyKSx0aGlzLmNvbnRleHQudkYodCl9ZWxzZSBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIGhhdmUgZnJvbSB1bmtub3duIHBlZXJcIix0aGlzLmpNLGwuaHMuVXQuU3Qse290aGVyR3VpZDplfSl9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGhhbmRsaW5nIHJlY2VpdmVkIGhhdmVcIix0aGlzLmpNLGwuaHMuVXQud3Qse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sZS5wcm90b3R5cGUuTDY9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RyeXtpZih0aGlzLnhqKGUpKXt0aGlzLlU4JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmpNK1wiQkFUQ0ggSEFWRVMgUkVDRUlWRUQgRlJPTSBcIitlKTt2YXIgaT10aGlzLnFqKGUpO3QuZ2V0SGF2ZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7aS5MOChlLmdldFVwbG9hZFNjb3JlKCkpLHIuZ0QucHV0KGUsaSl9KSx0aGlzLmNvbnRleHQudkYodC5nZXRIYXZlKClbMF0pfWVsc2UgYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBoYXZlcyBmcm9tIHVua25vd24gcGVlclwiLHRoaXMuak0sbC5ocy5VdC5SdCx7b3RoZXJHdWlkOmV9KX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaGFuZGxpbmcgcmVjZWl2ZWQgaGF2ZXNcIix0aGlzLmpNLGwuaHMuVXQuYnQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sZS5wcm90b3R5cGUubWo9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PW5ldyBhLlJmLkZhLkpnLlBpbmc7dC5pZD10aGlzLnlELmdldElkKCksdC5zdGFydFRzPXMuRnJhbWV3b3JrLnRpbWUoKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmpNK1wiUkVRVUVTVCBQSU5HIFRPIFBFRVIgR1VJRCBcIitlLm90aGVyR3VpZCksZS5MZyhhLlJmLkVnLlBpbmcsdCl9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlcXVlc3RpbmcgcGluZ1wiLHRoaXMuak0sbC5ocy5VdC5QdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLm90aGVyR3VpZH0pfX0sZS5wcm90b3R5cGUuTTY9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuaWQ7aWYoIXRoaXMuX2oodCkpcmV0dXJuIHZvaWQgYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBwaW5nIGZyb20gYW4gdW5rbm93biBwZWVyXCIsdGhpcy5qTSxsLmhzLlV0Lk90LHtvdGhlckd1aWQ6dH0pO3ZhciByPS0xO2Uuc3RhcnRUcyYmKHI9ZS5zdGFydFRzKSx0aGlzLlY4KHRoaXMuJGoodCkud2oscil9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGhhbmRsaW5nIHJlY2VpdmVkIHBpbmdcIix0aGlzLmpNLGwuaHMuVXQuQXQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5pZH0pfX0sZS5wcm90b3R5cGUuSDg9ZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciBlPVwiXCIsdD0wO3Q8aC5oaC5GYS5EYTt0KyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgzMys5MypNYXRoLnJhbmRvbSgpKTtmb3IodmFyIHI9bmV3IEFycmF5QnVmZmVyKGUubGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KHIpLHM9ZS5sZW5ndGgsdD0wO3Q8czt0Kyspblt0XT1lLmNoYXJDb2RlQXQodCk7dGhpcy5qOD1pLndyYXAobil9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNyZWF0aW5nIHJhbmRvbSBidWZmZXIgZm9yIHBpbmcgcG9uZ1wiLHRoaXMubG9nZ2VyLGwuaHMuVXQuX3QsZSl9fSxlLnByb3RvdHlwZS5WOD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj1uZXcgYS5SZi5GYS5KZy5Qb25nO3IuaWQ9dGhpcy55RC5nZXRJZCgpLHIuc3RhcnRUcz10LHRoaXMuajh8fHRoaXMuSDgoKSxyLmRhdGE9dGhpcy5qOCxyLmRhdGFTaXplPWguaGguRmEuRGEsdGhpcy5sb2dnZXIuZGVidWcodGhpcy5qTStcIlNFTkQgUE9ORyBUTyBQRUVSIEdVSUQgXCIrZS5vdGhlckd1aWQpLGUuTGcoYS5SZi5FZy5Qb25nLHIpfWNhdGNoKHQpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIHBvbmdcIix0aGlzLmpNLGwuaHMuVXQuTnQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5vdGhlckd1aWR9KX19LGUucHJvdG90eXBlLkY2PWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLmlkO2lmKCF0aGlzLnhqKHQpKXJldHVybiB2b2lkIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgYSBwb25nIGZyb20gYW4gdW5rbm93biBwZWVyXCIsdGhpcy5qTSxsLmhzLlV0LkR0LHtvdGhlckd1aWQ6dH0pO3ZhciByPXMuRnJhbWV3b3JrLnRpbWUoKTtpZihlLnN0YXJ0VHMmJmUuc3RhcnRUcz4wKXt2YXIgaT1yLWUuc3RhcnRUcyxuPXRoaXMucWoodCk7ZS5kYXRhU2l6ZT09ZS5kYXRhLnRjKCkuYnl0ZUxlbmd0aD9uLlQ4KGUuZGF0YVNpemUsaSwhMCk6Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpbmcgcG9uZyB3aXRoIHdyb25nIGRhdGEgc2l6ZVwiLHRoaXMuak0sbC5ocy5VdC5rdCx7b3RoZXJHdWlkOnR9KX1lbHNlIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgcG9uZyB3aXRoIHdyb25nIHRpbWVzdGFtcFwiLHRoaXMuak0sbC5ocy5VdC5MdCx7b3RoZXJHdWlkOnR9KX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIHBvbmdcIix0aGlzLmpNLGwuaHMuVXQuTXQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5pZH0pfX0sZS5wcm90b3R5cGUudkI9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IG47cmV0dXJuIHRoaXMuUTgodGhpcy5nQixlKSx0aGlzLlE4KHRoaXMuYWosZSksZX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgcGFydG5lciBzbmFwc2hvdHNcIix0aGlzLmpNLGwuaHMuVXQuRnQsZSksbmV3IG59fSxlLnByb3RvdHlwZS5ROD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7dmFyIG49bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXI7bi5pblBhcnQ9ITAsbi5vdXRQYXJ0PXIuX2ooaSksbi5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbzt2YXIgcz12b2lkIDA7ZS5Fay5wZWVySW5mby5wdWJsaWNJcFN0cmluZyYmKHM9ZS5Fay5wZWVySW5mby5wdWJsaWNJcFN0cmluZyk7dmFyIGE9dm9pZCAwO2UuRWsucGVlckluZm8ucHJpdmF0ZUlwU3RyaW5nJiYoYT1lLkVrLnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZyksbi5jb25uSW5mby5wdWJsaWNJcD1zLG4uY29ubkluZm8ucHJpdmF0ZUlwPWEsbi5jb25uSW5mby5leHRlcm5hbEFzPWUuRWsucGVlckluZm8uZXh0ZXJuYWxBcyxuLmNvbm5JbmZvLmludGVybmFsQXM9ZS5Fay5wZWVySW5mby5pbnRlcm5hbEFzO3ZhciBoPXIuSzgoKTtoLnJhdGVSZWNlaXZlZD1lLms4KCksbi5tZXRyaWNzPWgsbi51ZHA9ZS5Fay5wZWVySW5mby50eXBlPT1vLlRjLlcsdC5zZXQoZS5yZXBvcnRpbmdHdWlkLG4pfSl9LGUucHJvdG90eXBlLnBCPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1Llk4KHRoaXMuZ0IubGVuZ3RoLHRoaXMuYWoubGVuZ3RoLHRoaXMuZkIubGVuZ3RoLHRoaXMuZEIubGVuZ3RoKX0sZS5wcm90b3R5cGUuSzg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3M7cmV0dXJuIGUucmF0ZVJlY2VpdmVkPTAsZS5yYXRlU2VudD0wLGUuaGFuZHNoYWtlRGVsYXk9MCxlfSxlfSgpO3QuclE9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmdCPWUsdGhpcy5FQj10LHRoaXMuZkI9cix0aGlzLmRCPWl9cmV0dXJuIGV9KCk7dC5ZOD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuS2c9aX0sZnVuY3Rpb24oZSx0KXtlLmk9e3BhY2thZ2U6XCJIaXZlTXNnc1wiLG1lc3NhZ2VzOlt7bmFtZTpcIkNodW5rXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRvdGFsU2l6ZVwiLGlkOjJ9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiY2h1bmtTaXplXCIsaWQ6M30se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJieXRlc1wiLG5hbWU6XCJkYXRhXCIsaWQ6NH0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiaGVhZGVyc1wiLGlkOjV9XX0se25hbWU6XCJIYXZlc1wiLGZpZWxkczpbe3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJIYXZlXCIsbmFtZTpcImhhdmVcIixpZDoxfV19LHtuYW1lOlwiSGF2ZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiZnJhZ21lbnRJZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwic2l6ZVwiLGlkOjJ9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHlwZVwiLGlkOjN9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiaWRcIixpZDo0fSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImJpdHJhdGVcIixpZDo1fSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImR1cmF0aW9uXCIsaWQ6Nn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJmbG9hdFwiLG5hbWU6XCJ1cGxvYWRTY29yZVwiLGlkOjd9XX0se25hbWU6XCJQaW5nXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJpZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwidWludDY0XCIsbmFtZTpcInN0YXJ0VHNcIixpZDoyfV19LHtuYW1lOlwiUG9uZ1wiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiaWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImJ5dGVzXCIsbmFtZTpcImRhdGFcIixpZDoyfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImRhdGFTaXplXCIsaWQ6M30se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJ1aW50NjRcIixuYW1lOlwic3RhcnRUc1wiLGlkOjR9XX0se25hbWU6XCJSZXF1ZXN0XCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJmcmFnbWVudElkXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6Mn1dfSx7bmFtZTpcIkRvTm90SGF2ZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6MX1dfSx7bmFtZTpcIk5vUGFydG5lcnNcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjF9XX0se25hbWU6XCJDYW5jZWxcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjF9XX0se25hbWU6XCJBY2tcIixmaWVsZHM6W3tydWxlOlwib3B0aW9uYWxcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjF9XX0se25hbWU6XCJDbG9zZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0eXBlXCIsaWQ6MX1dfSx7bmFtZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJzdHJlYW1TdGF0ZVwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiYml0cmF0ZVwiLGlkOjJ9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZGVsdGFcIixpZDozfV19LHtuYW1lOlwiT3V0UGFydG5lcnNoaXBSZXF1ZXN0XCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJndWlkXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiY29udGV4dElkXCIsaWQ6Mn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicDJwUHJvdG9jb2xWZXJzaW9uXCIsaWQ6M30se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpbnRlcm5hbEFzXCIsaWQ6NH0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJleHRlcm5hbEFzXCIsaWQ6NX0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicHVibGljSXBTdHJpbmdcIixpZDo2fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwcml2YXRlSXBTdHJpbmdcIixpZDo3fSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJyZXBvcnRpbmdHdWlkXCIsaWQ6OH0se3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJTdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixuYW1lOlwic3RyZWFtQ2hhcmFjdGVyaXN0aWNzXCIsaWQ6OX1dfSx7bmFtZTpcIk91dFBhcnRuZXJzaGlwUmVzcG9uc2VcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiYWNjZXB0XCIsaWQ6MX0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpbnRlcm5hbEFzXCIsaWQ6Mn0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJleHRlcm5hbEFzXCIsaWQ6M30se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicHVibGljSXBTdHJpbmdcIixpZDo0fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwcml2YXRlSXBTdHJpbmdcIixpZDo1fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJyZXBvcnRpbmdHdWlkXCIsaWQ6Nn0se3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJTdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixuYW1lOlwic3RyZWFtQ2hhcmFjdGVyaXN0aWNzXCIsaWQ6N31dfSx7bmFtZTpcIlBlZXJJbmZvTWVzc2FnZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiZ3VpZFwiLGlkOjF9LHtydWxlOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInB1YmxpY0lwU3RyaW5nXCIsaWQ6Mn0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicHJpdmF0ZUlwU3RyaW5nXCIsaWQ6M30se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpbnRlcm5hbEFzXCIsaWQ6NH0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJleHRlcm5hbEFzXCIsaWQ6NX0se3J1bGU6XCJyZXBlYXRlZFwiLHR5cGU6XCJTdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixuYW1lOlwic3RyZWFtQ2hhcmFjdGVyaXN0aWNzXCIsaWQ6Nn1dfSx7bmFtZTpcIlVEUEhhbmRzaGFrZU1lc3NhZ2VcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInV1aWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJzdHJlYW1JZFwiLGlkOjJ9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiZmxvYXRcIixuYW1lOlwidWRwU2NvcmVcIixpZDozfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImJvb2xcIixuYW1lOlwiaXNMZWFkZXJcIixpZDo0fV19LHtuYW1lOlwiVURQSGFuZHNoYWtlUmVzcG9uc2VcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImFjY2VwdFwiLGlkOjF9XX0se25hbWU6XCJVRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdFwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwidXVpZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiZmxvYXRcIixuYW1lOlwidWRwU2NvcmVcIixpZDoyfV19LHtuYW1lOlwiVURQU3dpdGNoTGVhZGVyc2hpcEFja1wiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJib29sXCIsbmFtZTpcIm9rXCIsaWQ6MX1dfSx7bmFtZTpcIkJpdHJhdGVcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImd1aWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImJpdHJhdGVcIixpZDoyfV19XX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDUpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbil7dGhpcy51ZHBTY29yZT0wLHRoaXMuY0c9ITEsdGhpcy5zdHJlYW1JZD1cIlwiLHRoaXMudXVpZD1lLHRoaXMudWRwU2NvcmU9dCxyJiYodGhpcy5hZGRyZXNzPXIpLGkmJih0aGlzLmNHPWkpLG4mJih0aGlzLnN0cmVhbUlkPW4pfXJldHVybiBlLkpFPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MDtyZXR1cm4gcj1lLnVkcFNjb3JlPnQudWRwU2NvcmU/MTplLnVkcFNjb3JlPHQudWRwU2NvcmU/LTE6MCwwIT1yPy1yOmkuaGguVURQQnJvYWRjYXN0LnhhP3QudXVpZC5sb2NhbGVDb21wYXJlKGUudXVpZCk6ZS51dWlkLmxvY2FsZUNvbXBhcmUodC51dWlkKX0sZX0oKTt0LmhHPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig0Mykscz1yKDApLG89cigxNSksYT1yKDkpLGg9cigxMCksYz1yKDEpLHU9cigyKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbUDJQUmVxdWVzdGVyXSBcIix0aGlzLkFnPW5ldyBuLkNvdW50ZXIsdGhpcy5XOD1uZXcgaSx0aGlzLno4PW5ldyBpLHRoaXMuSjg9cy5GcmFtZXdvcmsucmVzb2x2ZShvLnF1Lk51KX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLmdEPWUuZ0QsdGhpcy5URD1lLlRELHRoaXMuRUQ9ZS5FRCx0aGlzLnlEPWUueUQsdGhpcy5LTT1lLllNLHRoaXMuSjguWDgoZS55RCl9LGUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuZGVidWcoXCJGUkwgSVNTVUUgUkVRIEZPUiBGUkFHTUVOVCBcIitlLnpmLnRvU3RyaW5nKCkrXCItXCIrZS5xZi5BZitcIiBbXCIrYS52Y1tlLlhmKCldK1wiXSBUTyBQMlBcIiksdGhpcy5XOC5zZXQoZS4kZigpLGUpO3ZhciB0PXRoaXMuQWcubmV4dCgpO2UuUGs9dCx0aGlzLno4LnNldCh0LGUuJGYoKSksdGhpcy5NMShlKX0sZS5wcm90b3R5cGUuTTE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5aZigpLHI9ZS4kZigpLGk9dGhpcy5aOCh0KTtlLnNpemU9dGhpcy5nRC5RMSh0KS5zaXplO3ZhciBuPXRoaXMuSjguZTUoaSxlLnR5cGUpO251bGwhPW4/KHRoaXMubG9nZ2VyLmluZm8oXCJTRU5EIFJFUVVFU1QgXCIrZS5QaytcIiBGT1IgXCIrcitcIiBUTyBcIituLndqLm90aGVyR3VpZCtcIiAoTEFOIExFQURFUiBcIituLkVrLnBlZXJJbmZvLmlzTGVhZGVyK1wiIGlBUyBcIituLkVrLnBlZXJJbmZvLmludGVybmFsQXMrXCIgZUFTIFwiK24uRWsucGVlckluZm8uZXh0ZXJuYWxBcytcIiBwcml2YXRlSXAgXCIrbi5Fay5wZWVySW5mby5wcml2YXRlSXBTdHJpbmcrXCIgKSBvdXQgb2YgXCIraS5sZW5ndGgrXCIgdHlwZSBcIitoLlRjW24uRWsucGVlckluZm8udHlwZV0rXCIgc2l6ZTpcIitlLnNpemUpLGUueHE9bixlLnFxPW4uRWsucGVlckluZm8sZS54cS5tOChlLlBrKSxlLnFmLkNmPSEwLGUucWYuTWY9cy5GcmFtZXdvcmsudGltZSgpLHRoaXMuS00udDUoZSksdGhpcy5DayhlKT9uLndqLnJlY2VpdmVyLkc2KGUpOnRoaXMuX2soZS5QayxcIlRJTUVELU9VVFwiKSk6KGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIHAycCByZXF1ZXN0IGJlY2F1c2Ugd2UgY2Fubm90IGZpbmQgYSBwYXJ0bmVyXCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLm5uKSx0aGlzLl9rKGUuUGssXCJOTyBQQVJUTkVSUyBGT1VORCBGT1IgUkVRVUVTVFwiKSl9LGUucHJvdG90eXBlLlo4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1bXTt0cnl7dGhpcy5nRC5mayhlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuVEQueGooZS5ndWlkKT9yLnB1c2goZSk6dC5sb2dnZXIud2FybihcIkkgSEFWRSBBIEhBVkUgRlJPTSBBIE5PTiBJTi1QQVJUTkVSIFwiK2UuZ3VpZCl9KX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZmlsdGVyaW5nIGluIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLnNuLGUpfWZpbmFsbHl7cmV0dXJuIHJ9fSxlLnByb3RvdHlwZS5Daz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ITE7dHJ5e3ZhciBpPTA7bnVsbD09ZS5zaXplPyhpPXRoaXMuZ0QuUTEoZS5aZigpKS5zaXplLHRoaXMubG9nZ2VyLndhcm4oXCJyZXF1ZXN0IHNpemUgbm90IHNldCAtIHRoaXMgc2hvdWxkIG5vdCBoYXBwZW5cIikpOmk9ZS5zaXplO3ZhciBuPWUuV2YuZE0oKS5heChlLGkpO3JldHVybiBlLlY2PW4sbj4wJiYocj0hMCxudWxsPT1lLm1HJiYoZS5tRz1zLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5LTS5yNShlKSx0Ll9rKGUuUGssXCJUSU1FRC1PVVRcIil9LG4pKSkscn1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNldHRpbmcgcmVxdWVzdCB0aW1lb3V0XCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLmFuLGUpLCExfX0sZS5wcm90b3R5cGUuX2s9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKHQrXCIgXCIrZSk7dmFyIHI9dGhpcy5pNShlLCEwKTt0aGlzLmxvZ2dlci5pbmZvKFwiUkVRVUVTVCBcIitlK1wiIEZPUiBcIityLiRmKCkrXCIgRkFJTEVEIEJFQ0FVU0UgXCIrdCksciYmdGhpcy5FRC5HWChyKX0sZS5wcm90b3R5cGUuaTU9ZnVuY3Rpb24oZSx0KXt0cnl7aWYodGhpcy56OC5oYXMoZSkpe3ZhciByPXRoaXMuejguZ2V0KGUpO3RoaXMuejguZGVsZXRlKGUpO3ZhciBpPXRoaXMuVzguZ2V0KHIpO2lmKHRoaXMuVzguZGVsZXRlKHIpLHMuRnJhbWV3b3JrLmNsZWFyVGltZW91dChpLm1HKSx0JiZ0aGlzLlRELnhqKGkueHEud2oub3RoZXJHdWlkKSl7aS54cS53ai5yZWNlaXZlci5RNihlKTt2YXIgbj1pLlhmKCk9PWEudmMuZmM7MCE9aS5RZj9pLnhxLlI4KGkuUGssaS5RZixpLnFmLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0LGkuc2l6ZSxuLGkudHlwZSk6aS54cS5fayhpLlBrLG4saS5zaXplKX1yZXR1cm4gaX1yZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNhbmNlbGxpbmcgcmVxdWVzdCBvbiBub24gZXhpc3Rpbmcgc2Vzc2lvblwiLHRoaXMubG9nZ2VySWQsdS5ocy5kbi5jbiksbnVsbH1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlbW92aW5nIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4uaG4sZSksbnVsbH19LGUucHJvdG90eXBlLnFYPWZ1bmN0aW9uKGUpe2lmKHRoaXMuVzguaGFzKGUpKXt2YXIgdD10aGlzLlc4LmdldChlKS5Qazt0aGlzLmk1KHQsITApfX0sZS5wcm90b3R5cGUudjE9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXIuZGVidWcoXCJGUkwgRE9XTkxPQURJTkcgXCIrdC4kZigpK1wiIEZST00gXCIrZStcIiBQMlBcIil9LGUucHJvdG90eXBlLlVEPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGUkwgUFJPTUlTRUQgRlJBR01FTlQgXCIrdC4kZigpK1wiIFJFVFVSTkVEIEZST00gUDJQIFNJWkUgXCIrdC5xZi5BZiksdD10aGlzLmk1KGUsITEpKXt0LnFmLlVmPXMuRnJhbWV3b3JrLnRpbWUoKTt2YXIgcj10LlhmKCk9PWEudmMuZmM7dC54cS5JOCh0LlBrLHQuc2l6ZSx0LnFmLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0LCEwLHIsdC50eXBlKSx0aGlzLkVELmpYKHQpfWVsc2UgdGhpcy5sb2dnZXIud2FybihcIlRSSUVEIFRPIFJFTU9WRSBBIE5PTiBFWElTVElORyBSRVFVRVNUIFwiK2UrXCIgKFRISVMgU0hPVUxEIE5PVCBIQVBQRU4uIEFUIExFQVNUIE5PVCBUT08gT0ZURU4pXCIpfSxlLnByb3RvdHlwZS5rNj1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFRyYW5zZmVySWQoKTtpZih0aGlzLno4Lmhhcyh0KSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBhIGRvIG5vdCBoYXZlIGZvciBteSByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLnVuKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRPIE5PVCBIQVZFIFJFQ0VJVkVEIEZPUiBcIit0KTt2YXIgcj10aGlzLmk1KHQsITEpO2lmKHIpe3ZhciBpPXIuWGYoKT09YS52Yy5mYztyLnhxLl9rKHIuUGssaSxyLnNpemUpLHRoaXMuRUQuR1gocil9fWVsc2UgdGhpcy5sb2dnZXIud2FybihcIlVOS05PV04gRE8gTk9UIEhBVkUgXCIrdCl9LGUucHJvdG90eXBlLlU2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC50cmFuc2ZlcklkO2lmKHRoaXMuejguaGFzKHIpKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVqZWN0ZWQgcmVxdWVzdCBieSBhIG5vbiBwYXJ0bmVyXCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLnBuKSx0aGlzLlRELlNqKGUpO3ZhciBpPXRoaXMuaTUociwhMSk7aSYmdGhpcy5FRC5HWChpKX19LGUucHJvdG90eXBlLllzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlc4LmhhcyhlKX0sZX0oKTt0LkxKPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cigyNSkscz1yKDEpLG89cigyKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbUDJQUmVzcG9uZGVyXSBcIn1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnNHPWUsdGhpcy5nRD1lLmdELHRoaXMuc0M9ZS5zQyx0aGlzLlREPWUuVEQsdGhpcy51cGxvYWRTY29yZT1lLnVwbG9hZFNjb3JlLHRoaXMueUQ9ZS55RCx0aGlzLktNPWUuWU19LGUucHJvdG90eXBlLlBNPWZ1bmN0aW9uKGUsdCxyKXt0cnl7aWYodGhpcy5URC5faihlKSl7dmFyIGk9dGhpcy5URC4kaihlKTt0aGlzLm41KGUsdCxpKX1lbHNlIHRoaXMuczUoZSx0LHIpfWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiByZXNwb25kaW5nIHRvIHAycCByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxvLmhzLm1uLmZuLGUpfX0sZS5wcm90b3R5cGUuYzg9ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLnVwbG9hZFNjb3JlLnN1Y2Nlc3MociksdGhpcy5URC5faihlKSl7dmFyIGk9dGhpcy5URC4kaihlKTtpLnZRLnN1Y2Nlc3MociksaS5fOChyLHQpfX1jYXRjaChlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gcmVxdWVzdCBzYXRpc2ZpZWRcIix0aGlzLmxvZ2dlcklkLG8uaHMubW4uZ24sZSl9fSxlLnByb3RvdHlwZS5hOD1mdW5jdGlvbihlLHQscixpKXt0cnl7aWYodGhpcy51cGxvYWRTY29yZS53OChyLGkpLHRoaXMuVEQuX2ooZSkpe3ZhciBuPXRoaXMuVEQuJGooZSk7bi52US53OChyLGkpLG4uTjgocixpLHQpfX1jYXRjaChlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gcmVxdWVzdCBwYXJ0aWFsbHkgc2F0aXNmaWVkXCIsdGhpcy5sb2dnZXJJZCxvLmhzLm1uLkVuLGUpfX0sZS5wcm90b3R5cGUuaDg9ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLnVwbG9hZFNjb3JlLmxsKCksdGhpcy5URC5faihlKSl7dmFyIGk9dGhpcy5URC4kaihlKTtpLnZRLmxsKCksaS5BOChyLHQpfX1jYXRjaChlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gcmVxdWVzdCBub3Qgc2F0aXNmaWVkXCIsdGhpcy5sb2dnZXJJZCxvLmhzLm1uLnZuLGUpfX0sZS5wcm90b3R5cGUubjU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5zQy5nZXQodC5mcmFnbWVudElkKS50aGVuKGZ1bmN0aW9uKG4pe24/KGkubG9nZ2VyLmRlYnVnKFwiU0VORElORyBUTyBcIitlK1wiLFwiK3QuZnJhZ21lbnRJZCtcIixcIit0LnRyYW5zZmVySWQrXCIsXCIrbi5sZW5ndGgrXCIgREwgXCIrbi5sZW5ndGgpLHIud2ouc2VuZGVyLlg2KHQuZnJhZ21lbnRJZCx0LnRyYW5zZmVySWQsbi5sZW5ndGgsbi5oZWFkZXJzLG4uZGF0YSkpOihpLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFJFUVVFU1QgRk9SIFwiK3QuZnJhZ21lbnRJZCtcIiBGUk9NIFwiK2UrXCIgQ0FOJ1QgQkUgU0VSVkVEXCIpLGkubzUodC50cmFuc2ZlcklkLHIpKX0pfSxlLnByb3RvdHlwZS5vNT1mdW5jdGlvbihlLHQpe3RyeXt0aGlzLmxvZ2dlci5pbmZvKFwiU0VORCBETyBOT1QgSEFWRSBcIitlK1wiIFRPIFwiK3Qud2ouU2cpO3ZhciByPW5ldyBuLlJmLkZhLkpnLkRvTm90SGF2ZTtyLnNldFRyYW5zZmVySWQoZSksdC53ai5MZyhuLlJmLkVnLkRvTm90SGF2ZSxyKX1jYXRjaChlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gc2VuZGluZyBkbyBub3QgaGF2ZVwiLHRoaXMubG9nZ2VySWQsby5ocy5tbi55bixlKX19LGUucHJvdG90eXBlLnM1PWZ1bmN0aW9uKGUsdCxyKXt0cnl7dGhpcy5sb2dnZXIud2FybihcIkdPVCBSRVFVRVNUIEZST00gTk9OLVBBUlRORVIgXCIrZStcIiBGT1IgXCIrdC5mcmFnbWVudElkKTt2YXIgaT1uZXcgbi5SZi5GYS5KZy5Ob1BhcnRuZXJzO2kuc2V0VHJhbnNmZXJJZCh0LnRyYW5zZmVySWQpLHIuTGcobi5SZi5FZy5nZyxpKX1jYXRjaChlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igb24gc2VuZCBubyBwYXJ0bmVyc1wiLHRoaXMubG9nZ2VySWQsby5ocy5tbi5UbixlKX19LGV9KCk7dC5NSj1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbj1yKDQ4KSxzPXIoMCksbz1yKDUpOyFmdW5jdGlvbihlKXtlW2UuUz0wXT1cIlNcIixlW2UuYTU9MV09XCJGXCIsZVtlLmg1PTJdPVwiUEZcIn0oaXx8KGk9e30pKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50cz1lfXJldHVybiBlfSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jNT0wLHRoaXMudTU9MCx0aGlzLmw1PTAsdGhpcy5wNT0wLHRoaXMuZDU9MCx0aGlzLmY1PTB9cmV0dXJuIGV9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmc1PW5ldyBufXJldHVybiBlLnByb3RvdHlwZS5zdWNjZXNzPWZ1bmN0aW9uKGUpe3RoaXMuZXZlbnQoaS5TLGUsZSl9LGUucHJvdG90eXBlLmxsPWZ1bmN0aW9uKCl7dGhpcy5ldmVudChpLmE1LDAsMCl9LGUucHJvdG90eXBlLnc4PWZ1bmN0aW9uKGUsdCl7dGhpcy5ldmVudChpLmg1LGUsdCl9LGUucHJvdG90eXBlLmV2ZW50PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uZXcgYShzLkZyYW1ld29yay50aW1lKCkpO2kudD1lLGkuRTU9dCxpLnY1PXQvcixpLnk1PShyLXQpL3IsdGhpcy5nNS5zZXQoaS50cyxpKSx0aGlzLlQ1KCl9LGUucHJvdG90eXBlLlQ1PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXMuRnJhbWV3b3JrLnRpbWUoKSxyPXQtMipvLmhoLk9hLkNhO2lmKHI+MCl7dmFyIGk9W107dGhpcy5nNS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dDxyJiZpLnB1c2godCl9KSxpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5nNS5kZWxldGUodCl9KX19LGUucHJvdG90eXBlLmZRPWZ1bmN0aW9uKGUpe3ZhciB0PTAscj10aGlzLm01KGUsby5oaC5PYS5DYSk7aWYobnVsbCE9cil7dmFyIGk9ci51NStyLmw1K3IucDU7dD0wPT1pPzA6KHIudTUrci5wNSpvLmhoLk9hLl9hKS9pfXJldHVybiB0fSxlLnByb3RvdHlwZS5xOD1mdW5jdGlvbihlKXt2YXIgdD0wLHI9dGhpcy5tNShlLG8uaGguT2EuQ2EpO2lmKG51bGwhPXIpe3ZhciBpPXIudTUrci5sNStyLnA1O3Q9MD09aT8wOihyLmw1K3IucDUqby5oaC5PYS5QYSkvaX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuSTU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tNSghMSxlKTtyZXR1cm4gbnVsbCE9dD90LmM1OjB9LGUucHJvdG90eXBlLm01PWZ1bmN0aW9uKGUsdCl7aWYoMCE9dGhpcy5nNS5rZXlzKCkubGVuZ3RoKXt2YXIgcj1uZXcgaCxvPXMuRnJhbWV3b3JrLnRpbWUoKSxhPW8tdDthPDAmJihhPTApO3ZhciBjPW5ldyBuO3JldHVybiB0aGlzLmc1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt0Pj1hJiZjLnNldCh0LGUpfSksYy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7c3dpdGNoKHIuYzUrPWUuRTUsZS50KXtjYXNlIGkuUzpyLnU1Kys7YnJlYWs7Y2FzZSBpLmE1OnIubDUrKzticmVhaztkZWZhdWx0OnIucDUrKyxyLmQ1Kz1lLnY1LHIuZjUrPWUueTV9fSkscn1yZXR1cm4gbnVsbH0sZX0oKTtjLlBhPS4yLGMuX2E9LjIsdC5GSj1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDMpLHM9cig0KSxvPXIoMCksYT1yKDE3NiksaD1yKDE3OCksYz1yKDk2KSx1PXIoMiksbD1yKDEpO3QuUzV8fCh0LlM1PXt9KTt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LmxvZ2dlcklkPVwiW0hpdmVOZXR3b3JrTWFuYWdlcl0gXCIsdC5SNT0hMSx0Lnc1PW5ldyBuLHQuQWc9MSx0LkpsPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5NKSx0LmI1PW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5xKSx0LmNoYW5uZWxNYW5hZ2VyPW5ldyBhLkM1KHQubG9nZ2VyLHQuYjUsdCksdC5iNS5pbml0KHQsdC5sb2dnZXIsdC5jaGFubmVsTWFuYWdlciksdC5fNSgpLHR9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt2YXIgaT1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKGUpLG49bnVsbDtyZXR1cm4gMD09dGhpcy52bC5rZXlzKCkubGVuZ3RoPyhpLmRlYnVnKFwiVFJJR0dFUklORyBDT05ORUNUIFwiKSxuPXRoaXMuUDUoKSx0aGlzLkE1KGUsdCkpOihpLmRlYnVnKFwiQUxSRUFEWSBDT05ORUNURUQgXCIpLG49dGhpcy5KbC5abCgpLHRoaXMuQTUoZSx0KSx0aGlzLmI1LnNZKCkmJnRoaXMuTzUodGhpcy5nZCxlKSksbn0sdC5wcm90b3R5cGUuUDU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9by5GcmFtZXdvcmsuTC5rO3JldHVyblwibG9jYWxob3N0XCI9PT10JiYodD1cIjEyNy4wLjAuMTpcIitsb2NhdGlvbi5wb3J0KSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkNPTk5FQ1RJTkcuLlwiKSx0aGlzLkpsLlpsKCkudGhlbihmdW5jdGlvbihyKXt2YXIgaT1yLnRwKCk7cmV0dXJuIGUubG9nZ2VyLmRlYnVnKFwiTVkgSURFTlRJVFkgXCIsaSksZS5nZD1pLGUuYjUuc3RhcnQodCxpKSxyfSl9LHQucHJvdG90eXBlLk41PWZ1bmN0aW9uKCl7cmV0dXJuIHMucmVzb2x2ZShuZXcgbil9LHQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTtyZXR1cm4gdGhpcy53NS5oYXMoZSk/KHRoaXMubG9nZ2VyLmRlYnVnKFwiQWxyZWFkeSBjb25uZWN0ZWQgdG8gXCIrZStcIiwgaWdub3JpbmdcIiksci5yZXNvbHZlKHRoaXMudzUuZ2V0KGUpKSk6dGhpcy5jaGFubmVsTWFuYWdlci5ENSh0aGlzLmdkLGUpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIHQuY29ubmVjdGVkKGUscil9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlc29sdmUoZSl9KS5mYWlsKGZ1bmN0aW9uKGkpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBlc3RhYmxpc2hpbmcgY29ubmVjdGlvblwiLHQubG9nZ2VySWQsdS5ocy5QZS5iZSx7b3RoZXJHdWlkOmV9KSxyLnJlamVjdChcIkNPTk4gVE8gXCIrZStcIiBDQU5OT1QgQkUgRVNUQUJMSVNIRUQgXCIpfSksci5Tc30sdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlLHQscil7cmV0dXJuISF0aGlzLmNoYW5uZWxNYW5hZ2VyLnNlbmQoZSx0KXx8KGwuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIG1lc3NhZ2Ugd2l0aG91dCBjaGFubmVsIGVzdGFibGlzaGVkXCIsdGhpcy5sb2dnZXJJZCx1LmhzLlBlLkNlLHtvdGhlckd1aWQ6ZX0pLHRoaXMuazUoZSksITEpfSx0LnByb3RvdHlwZS5MNT1mdW5jdGlvbihlLHQscil7aWYodGhpcy5SNSYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUMgQlVGIFwiK3IuYnl0ZUxlbmd0aCtcIiBcIityKSx0aGlzLnc1LmhhcyhlKSl7dGhpcy5SNSYmdGhpcy5sb2dnZXIuZGVidWcoXCJQUk9DIE1TRyBGUk9NIFwiK2UpO3RoaXMudzUuZ2V0KGUpLkdnKHIpfWVsc2UgbC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBtc2cgd2l0aG91dCBoYXZpbmcgYSBjb25uZWN0aW9uIGVzdGFibGlzaGVkXCIsdGhpcy5sb2dnZXJJZCx1LmhzLlBlLkNlLHtvdGhlckd1aWQ6ZX0pfSx0LnByb3RvdHlwZS5jb25uZWN0ZWQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnc1LmhhcyhlKSl0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ09OTkVDVEVEIFRPIFwiK2UrXCIsIFJFU0VUVElORyBTVEFURVwiKSx0aGlzLnc1LmdldChlKS5yZXNldCgpO2Vsc2V7dGhpcy5sb2dnZXIuaW5mbyhcIkNPTk5FQ1RFRCBUTyBcIitlKTt2YXIgcj10LnBHO3IuaW5pdCh0aGlzLmdkLGUpLHRoaXMudzUuc2V0KGUscil9cmV0dXJuIHMucmVzb2x2ZSh0aGlzLnc1LmdldChlKSl9LHQucHJvdG90eXBlLk01PWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcoXCJGQUlMRUQgQ09OTiBUTyBcIit0KSxlLnJlamVjdChcIkNPTk4gVE8gXCIrdCtcIiBDQU5OT1QgQkUgRVNUQUJMSVNIRUQgXCIpfSx0LnByb3RvdHlwZS5GNT1mdW5jdGlvbihlLHQpe3RoaXMubG9nZ2VyLmluZm8oZStcIiBjb25uZWN0ZWQgdG8gbWVcIiksdGhpcy5jb25uZWN0ZWQoZSx0KX0sdC5wcm90b3R5cGUuazU9ZnVuY3Rpb24oZSl7dGhpcy53NS5oYXMoZSk/KHRoaXMubG9nZ2VyLmluZm8oXCJDb25uZWN0aW9uIGNsb3NlZCB0byBcIitlKSx0aGlzLnc1LmRlbGV0ZShlKSx0aGlzLlU1KGUpKTp0aGlzLmxvZ2dlci53YXJuKFwiVFJZSU5HIFRPIFJFTU9WRSBBIFBFRVIgVEhBVCBJUyBOT1QgVEhFUkU6IFwiK2UpfSx0LnByb3RvdHlwZS5fNT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7Yy5oUS5uUSYmby5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgdD1vLkZyYW1ld29yay50aW1lKCk7ZS53NS5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7dmFyIG49dC1yLnpnKCk7bj5jLmhRLm9RJiYoZS5sb2dnZXIuZGVidWcoXCJjbG9zaW5nIHN0YWxlIGNvbm5lY3Rpb24gdG8gXCIraStcIiBbdW51c2VkIGZvcjogXCIrbitcIm1zXVwiKSxlLmRpc2Nvbm5lY3QoaSkpfSl9LGMuaFEuc1EpfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKGUpe28uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKS5sb2coZSkuZGVidWcoXCJTVE9QUElORyBDT05ORUNUSU9OUyBBTkQgUkVNT1ZJTkcgTElTVEVORVJTXCIpLHRoaXMuQjUoZSl9LHQucHJvdG90eXBlLkg1PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKGUpe3RoaXMudzUuaGFzKGUpJiZ0aGlzLmNoYW5uZWxNYW5hZ2VyLmRpc2Nvbm5lY3QoZSl9LHR9KGgueDUpO3AuJGE9XCJhdmFpbGFibGVTZW5kUmF0ZVwiLHAuZWg9XCJyZW1vdGVBZGRyZXNzXCIscC50aD1cImxvY2FsQWRkcmVzc1wiLHQuQ0o9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDApLHM9cigxNzcpLG89cig5NiksYT1yKDIpLGg9cigxKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5sb2dnZXI9ZSx0aGlzLmI1PXQsdGhpcy5xNT1yLHRoaXMubG9nZ2VySWQ9XCJbQ2hhbm5lbE1hbmFnZXJdIFwiLHRoaXMuRzU9e2ljZVNlcnZlcnM6W3t1cmw6XCJzdHVuOnN0dW4uaGl2ZXN0cmVhbWluZy5jb206MzQ3OFwifV19LHRoaXMuQWc9MSx0aGlzLlY1PW51bGwsdGhpcy5qNT17fSx0aGlzLlE1PXt9fXJldHVybiBlLnByb3RvdHlwZS5ENT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7aWYodCBpbiB0aGlzLlE1KXt2YXIgbj1pLmRlZmVyKCk7bi5yZWplY3QoXCJPVEhFUiBBTFJFQURZIFRSWUlORyBUTyBDT05ORUNUXCIpLHI9bi5Tc31lbHNle3RoaXMucTUuUjUmJnRoaXMubG9nZ2VyLmluZm8oXCJJbml0aWF0aW5nIGNvbm5lY3Rpb24gdG8gXCIrdCk7dmFyIHM9dGhpcy5LNShlLHQpO3I9dGhpcy5ZNShzLHQpLmNvbm5lY3QodCl9cmV0dXJuIHJ9LGUucHJvdG90eXBlLlc1PWZ1bmN0aW9uKGUpe2UuejUgaW4gdGhpcy5RNSYmKGRlbGV0ZSB0aGlzLmo1W2UubGFiZWxdLGRlbGV0ZSB0aGlzLlE1W2UuejVdKSxlLm9wZW4mJih0aGlzLnE1Lms1KGUuejUpLGUub3Blbj0hMSl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnE1LlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRBVEEgXCIrdC5ieXRlTGVuZ3RoK1wiIFwiK3QpO3ZhciByPXRoaXMuUTVbZV07cmV0dXJuIHImJnIuY2hhbm5lbD8oci5jaGFubmVsLnNlbmQodCksITApOihoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBtZXNzYWdlIHdpaHRvdXQgY2hhbm5lbCBlc3RhYmxpc2hlZFwiLHRoaXMubG9nZ2VySWQsYS5ocy5LZS5WZSx7b3RoZXJHdWlkOmV9KSwhMSl9LGUucHJvdG90eXBlLnEwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5jaGFubmVsO2lmKHImJnIubGFiZWwmJnRoaXMuajVbci5sYWJlbF0pe3ZhciBpPXRoaXMuajVbci5sYWJlbF0sbj1pW2VdO24uY2FsbChpLHQpfWVsc2V7dmFyIHM9XCJoYW5kbGVfXCIrZSxuPXRoaXNbc107bj9uLmNhbGwodGhpcyx0KTpoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2ZWQgYSBtZXNzYWdlIGZvciBhIG5vbiBleGlzdGluZyBmdW5jdGlvblwiLHRoaXMubG9nZ2VySWQsYS5ocy5LZS5qZSx7SjU6c30pfX0sZS5wcm90b3R5cGUuaGFuZGxlX29mZmVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMucTUuUjUmJnRoaXMubG9nZ2VyLmluZm8oXCJyZWNlaXZlZCBhbiBvZmZlciBmcm9tIFwiK2UucGVlci5ndWlkK1wiIG9uIGNoYW5uZWwgXCIrZS5jaGFubmVsLmxhYmVsKSx0aGlzLlE1W2UucGVlci5ndWlkXSYmZS5wZWVyPHRoaXMucTUuZ2QpdGhpcy5iNS5YNSh0aGlzLnE1LmdkLGUucGVlci5ndWlkLGUuY2hhbm5lbC5sYWJlbCk7ZWxzZXt2YXIgdD10aGlzLlk1KGUuY2hhbm5lbC5sYWJlbCxlLnBlZXIuZ3VpZCkscj10aGlzLlo1KHQpO3Qub2ZmZXIoZSxyKX19LGUucHJvdG90eXBlLlo1PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG4uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW5jb21pbmcgY29ubmVjdGlvbiB0aW1lZG91dFwiLHQubG9nZ2VySWQsYS5ocy5LZS5RZSx7b3RoZXJHdWlkOmUuejV9KSxlLmNsb3NlKCl9LG8uaFEuYVEpfSxlLnByb3RvdHlwZS5ZNT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBzLmU5KHRoaXMsdGhpcy5xNSxlLHRoaXMuVjUsdGhpcy5HNSx0KTtyZXR1cm4gdGhpcy5qNVtlXT1yLHRoaXMuUTVbdF09cixyfSxlLnByb3RvdHlwZS5oYW5kbGVfb2ZmZXJfcmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7dGhpcy5xNS5SNSYmdGhpcy5sb2dnZXIuZGVidWcoXCJyZW1vdGUgcGVlciByZWplY3RlZCBcIixlKTt2YXIgdD10aGlzLlE1W2UudDldO3QmJnQuY2xvc2UoKSxkZWxldGUgdGhpcy5RNVtlLnQ5XSxkZWxldGUgdGhpcy5qNVtlLmNoYW5uZWxdfSxlLnByb3RvdHlwZS5LNT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnN1YnN0cmluZygwLE1hdGgubWF4KDgsZS5sZW5ndGgpKStcIjpcIit0LnN1YnN0cmluZygwLE1hdGgubWF4KDgsdC5sZW5ndGgpKStcIjpcIit0aGlzLkFnKyt9LGUucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5RNVtlXTt0JiZ0LmNsb3NlKCl9LGV9KCk7dC5DNT1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig1KSxuPXIoMikscz0ocig1NSkscig0KSksbz1yKDApLGE9cigxKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLHMsaCl7dmFyIGM9dGhpczt0aGlzLmNoYW5uZWxNYW5hZ2VyPWUsdGhpcy5xNT10LHRoaXMubGFiZWw9cix0aGlzLlY1PWksdGhpcy5HNT1zLHRoaXMuejU9aCx0aGlzLlI1PSExLHRoaXMubG9nZ2VySWQ9XCJbQ2hhbm5lbF0gXCIsdGhpcy5yOT0tMSx0aGlzLlNIPW51bGwsdGhpcy5jaGFubmVsPW51bGwsdGhpcy5pOT1udWxsLHRoaXMubjk9NSx0aGlzLnRpbWVvdXQ9NWUzLHRoaXMub3Blbj0hMSx0aGlzLnM5PSExLHRoaXMubzk9bmV3IEFycmF5LHRoaXMuYTk9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuY2hhbm5lbCYmXCJjb25uZWN0aW5nXCI9PT10aGlzLmNoYW5uZWwucmVhZHlTdGF0ZX0sdGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMucEc9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlUpLHRoaXMucEcuaW5pdCh0aGlzLnE1LmdkLGgpLHRoaXMuU0g9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMuRzUsdGhpcy5WNSksdGhpcy5TSC5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXtlJiZlLmNhbmRpZGF0ZSYmKGMubzkucHVzaChlLmNhbmRpZGF0ZSksYy5oOSgpKX0sdGhpcy5TSC5vbm5lZ290aWF0aW9ubmVlZGVkPWZ1bmN0aW9uKCl7Yy5jcmVhdGVPZmZlcigpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGMuYzkoZSl9KS50aGVuKGZ1bmN0aW9uKGUpe2MuUjUmJmMubG9nZ2VyLmRlYnVnKGMubG9nZ2VySWQrXCJTZW5kaW5nIG9mZmVyIHRvIFwiK2MuejUrXCIgW2NhbmRpZGF0ZXM6IFwiK2MubzkubGVuZ3RoK1wiXVwiKTt2YXIgdD1jLm85O2Mubzk9bmV3IEFycmF5O3ZhciByPWMuY2hhbm5lbE1hbmFnZXIuYjUub2ZmZXIoYy5xNS5nZCxjLno1LGMsdCxlKTtyZXR1cm4gYy5zOT0hMCxyfSkuY2F0Y2goZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIG5lZ290aWF0aW5nIHdpdGggcGVlclwiLGMubG9nZ2VySWQsbi5ocy5HZS5rZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDpjLno1fSksYy5jbG9zZSgpfSl9LHRoaXMuU0gub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7XCJkaXNjb25uZWN0ZWRcIj09PWMuU0guaWNlQ29ubmVjdGlvblN0YXRlJiZjLmNsb3NlKCksXCJmYWlsZWRcIj09PWMuU0guaWNlQ29ubmVjdGlvblN0YXRlJiYoYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGVzdGFibGlzaGluZyBJQ0UgY29ubmVjdGlvblwiLGMubG9nZ2VySWQsbi5ocy5HZS5rZSx7b3RoZXJHdWlkOmMuejV9KSxjLmNsb3NlKCkpfSx0aGlzLlNILm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7XCJjbG9zZWRcIj09PWUuc2lnbmFsaW5nU3RhdGUmJmMuY2xvc2UoKX19cmV0dXJuIGUucHJvdG90eXBlLnU5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmNoYW5uZWwmJlwib3BlblwiIT10aGlzLmNoYW5uZWwucmVhZHlTdGF0ZSl7aWYodGhpcy5SNSYmdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkNoZWNrIGNvbm5lY3Rpb24gXCIrdGhpcy56NSksdGhpcy5uOTw9MClyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkNsb3NpbmcgY2hhbm5lbCBzaW5jZSBpdCBjb3VsZG50IGJlIGVzdGFibGlzaGVkIHRvIFwiK3RoaXMuejUpLHZvaWQgdGhpcy5jbG9zZSgpO3RoaXMubjktPTEsdGhpcy5pOT1vLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUudTkoKX0sdGhpcy50aW1lb3V0KX19LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuUjUmJnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJDbG9zaW5nIGNvbm5lY3Rpb24gdG8gXCIrdGhpcy56NSksdGhpcy5sOSghMCksdGhpcy5jaGFubmVsTWFuYWdlci5XNSh0aGlzKSx0aGlzLlNIJiZcImNsb3NlZFwiIT09dGhpcy5TSC5zaWduYWxpbmdTdGF0ZSYmKHRoaXMuU0guY2xvc2UoKSx0aGlzLmNoYW5uZWwmJnRoaXMuY2hhbm5lbC5jbG9zZSgpKX1jYXRjaChlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2xvc2luZyB0aGUgY29ubmVjdGlvblwiLHRoaXMubG9nZ2VySWQsbi5ocy5HZS5xZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLno1fSl9fSxlLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5SNSYmdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkNvbm5lY3RpbmcgdG8gXCIrZSksdGhpcy56NT1lLHRoaXMuY2hhbm5lbD10aGlzLlNILmNyZWF0ZURhdGFDaGFubmVsKHRoaXMubGFiZWwpO3ZhciByPXRoaXMucDkoITAsLTEpO3JldHVybiB0aGlzLmk5PW8uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC51OSgpfSx0aGlzLnRpbWVvdXQpLHJ9LGUucHJvdG90eXBlLmQ5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1zLmRlZmVyKCk7cmV0dXJuIHRoaXMuU0guc2V0UmVtb3RlRGVzY3JpcHRpb24oZSxmdW5jdGlvbigpe3JldHVybiByLnJlc29sdmUoXCJPS1wiKX0sZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNldHRpbmcgcmVtb3RlIGRlc2NyaXB0aW9uXCIsdC5sb2dnZXJJZCxuLmhzLkdlLk5lLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnQuejV9KSxyLnJlamVjdChlKX0pLHIuU3N9LGUucHJvdG90eXBlLmM5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1zLmRlZmVyKCk7cmV0dXJuXCJjbG9zZWRcIiE9PXRoaXMuU0guc2lnbmFsaW5nU3RhdGU/dGhpcy5TSC5zZXRMb2NhbERlc2NyaXB0aW9uKGUsZnVuY3Rpb24oKXtyZXR1cm4gci5yZXNvbHZlKHQuU0gubG9jYWxEZXNjcmlwdGlvbil9LGZ1bmN0aW9uKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZXR0aW5nIGxvY2FsIGRlc2NyaXB0aW9uXCIsdC5sb2dnZXJJZCxuLmhzLkdlLkRlLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnQuejV9KSxyLnJlamVjdChlKX0pOihhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiU2lnbmFsaW5nIHN0YXRlIGlzIGNsb3NlZFwiLHRoaXMubG9nZ2VySWQsbi5ocy5HZS5OZSksci5yZWplY3QoXCJTaWduYWxpbmcgc3RhdGUgaXMgY2xvc2VkXCIpKSxyLlNzfSxlLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1zLmRlZmVyKCk7cmV0dXJuIHRoaXMuU0guY3JlYXRlT2ZmZXIodC5yZXNvbHZlLGZ1bmN0aW9uKHQpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjcmVhdGluZyBvZmZlclwiLGUubG9nZ2VySWQsbi5ocy5HZS5BZSx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLno1fSksZS5jbG9zZSgpfSksdC5Tc30sZS5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXMuZGVmZXIoKTtyZXR1cm4gdGhpcy5TSC5jcmVhdGVBbnN3ZXIodC5yZXNvbHZlLGZ1bmN0aW9uKHIpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjcmVhdGluZyBhbnN3ZXJcIixlLmxvZ2dlcklkLG4uaHMuR2UuT2Use2RldGFpbGVkRXJyb3I6cixvdGhlckd1aWQ6ZS56NX0pLHQucmVqZWN0KHIpfSksdC5Tc30sZS5wcm90b3R5cGUub2ZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuUjUmJih0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUmVjZWl2ZWQgYW4gb2ZmZXIgZnJvbSBcIit0aGlzLno1KSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiT2ZmZXI6XCIsZSkpLHRoaXMuU0gub25kYXRhY2hhbm5lbD1mdW5jdGlvbihlKXtyLmNoYW5uZWw9ZS5jaGFubmVsLHIucDkoITEsdCl9O3ZhciBpPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZS5jaGFubmVsLm9mZmVyKTt0aGlzLno1PWUucGVlci5ndWlkLHRoaXMuZDkoaSkudGhlbihmdW5jdGlvbih0KXtpZihcImNsb3NlZFwiIT09ci5TSC5zaWduYWxpbmdTdGF0ZSlyZXR1cm4gci51cGRhdGVfaWNlX2NhbmRpZGF0ZXMoZSksci5jcmVhdGVBbnN3ZXIoKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIuYzkoZSl9KS50aGVuKGZ1bmN0aW9uKGUpe3IubG9nZ2VyLmRlYnVnKHIubG9nZ2VySWQrXCJTZW5kaW5nIGJhY2sgYW4gYW5zd2VyIFtjYW5kaWRhdGVzOiBcIityLm85Lmxlbmd0aCtcIl1cIik7dmFyIHQ9ci5vOTtyLm85PW5ldyBBcnJheSxyLmNoYW5uZWxNYW5hZ2VyLmI1LmFuc3dlcihyLGUsdCxyLno1KSxyLnM5PSEwfSkuY2F0Y2goZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlc3BvbmRpbmcgdG8gb2ZmZXJcIixyLmxvZ2dlcklkLG4uaHMuR2UuSGUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6ci56NX0pLHIuY2xvc2UoKX0pfSxlLnByb3RvdHlwZS5hbnN3ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLlI1JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiQW5zd2VyOiBcIixlKTt2YXIgcj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGUuYW5zd2VyKTt0aGlzLmQ5KHIpLnRoZW4oZnVuY3Rpb24oKXtcImNsb3NlZFwiIT09dC5TSC5zaWduYWxpbmdTdGF0ZSYmdC51cGRhdGVfaWNlX2NhbmRpZGF0ZXMoZSl9KS5jYXRjaChmdW5jdGlvbihlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2V0dGluZyByZW1vdGUgZGVzY3JpcHRvciBmb3IgdGhlIGFuc3dlciByZWNlaXZlZFwiLHQubG9nZ2VyLG4uaHMuR2UuQmUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dC56NX0pLHQuY2xvc2UoKX0pfSxlLnByb3RvdHlwZS51cGRhdGVfaWNlX2NhbmRpZGF0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmNoYW5uZWwuaWNlX2NhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LlI1JiZ0LmxvZ2dlci5kZWJ1Zyh0LmxvZ2dlcklkK1wiZ290IElDRSBjYW5kOiBcIixlKTt2YXIgcj1uZXcgUlRDSWNlQ2FuZGlkYXRlKGUpO3QuU0guYWRkSWNlQ2FuZGlkYXRlKHIsZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKGUpe3JldHVybiBhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdXBkYXRpbmcgaWNlIGNhbmRpZGF0ZXNcIix0LmxvZ2dlcklkLG4uaHMuR2UuVWUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dC56NX0pfSl9KX0sZS5wcm90b3R5cGUucDk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9cy5kZWZlcigpO3JldHVybiB0aGlzLmNoYW5uZWwub25vcGVuPWZ1bmN0aW9uKG4pe3JldHVybiByLmY5KGksZSx0KX0sdGhpcy5jaGFubmVsLm9uY2xvc2U9ZnVuY3Rpb24oZSl7ci5jbG9zZSgpLGkucmVqZWN0KHIpfSx0aGlzLmNoYW5uZWwub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiByLnBHLkdnKGUuZGF0YSl9LHRoaXMuY2hhbm5lbC5vbmVycm9yPWZ1bmN0aW9uKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZXR0aW5nIHVwIGNoYW5uZWxcIixyLmxvZ2dlcklkLG4uaHMuR2UuTGUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6ci56NX0pLHIuY2xvc2UoKX0saS5Tc30sZS5wcm90b3R5cGUuZjk9ZnVuY3Rpb24oZSx0LHIpe3RoaXMub3Blbj0hMCxlLnJlc29sdmUodGhpcyksdHx8KHRoaXMucTUuRjUodGhpcy56NSx0aGlzKSxyJiZvLkZyYW1ld29yay5jbGVhclRpbWVvdXQocikpfSxlLnByb3RvdHlwZS5oOT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zOSYmLTE9PXRoaXMucjkmJih0aGlzLnI5PW8uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmc5KCksZS5sOSghMSl9LGkuaGguYWgub2gpKX0sZS5wcm90b3R5cGUuZzk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5vOTtpZih0aGlzLm85PW5ldyBBcnJheSx0JiZ0Lmxlbmd0aD4wKXt2YXIgcj10Lmxlbmd0aDt0aGlzLmNoYW5uZWxNYW5hZ2VyLmI1LkU5KHRoaXMucTUuZ2QsdGhpcyx0LHRoaXMuejUpLnRoZW4oZnVuY3Rpb24odCl7ZS5SNSYmZS5sb2dnZXIuZGVidWcoZS5sb2dnZXJJZCtcInNlbnQgXCIrcitcIiBtb3JlIGNhbmRpZGF0ZXNcIil9KS5jYXRjaChmdW5jdGlvbih0KXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBjYW5kaWRhdGVzXCIsZS5sb2dnZXJJZCxuLmhzLkdlLkxlLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuejV9KX0pfX0sZS5wcm90b3R5cGUubDk9ZnVuY3Rpb24oZSl7ZSYmLTEhPXRoaXMucjkmJm8uRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnI5KSx0aGlzLnI5PS0xfSxlfSgpO3QuZTk9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDApLHM9cigyKSxvPXIoMSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmpNPVwiW0Jhc2UgTmV0d29yayBNYW5hZ2VyXSBcIix0aGlzLnZsPW5ldyBpLHRoaXMubG9nZ2VyPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuQTU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKFwiU0VUIExJU1RFTkVSUyBGT1IgXCIrZStcIixcIit0Lmxlbmd0aCksdGhpcy52bC5zZXQoZSx0KX0sZS5wcm90b3R5cGUuQjU9ZnVuY3Rpb24oZSl7dGhpcy52bC5kZWxldGUoZSl9LGUucHJvdG90eXBlLnY5PWZ1bmN0aW9uKCl7dGhpcy52bC5sZW5ndGg+MCYmdGhpcy52bC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZWomJmUuZWooKX0pfSl9LGUucHJvdG90eXBlLk81PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLnZsLmxlbmd0aD4wJiYodD90aGlzLnZsLmdldCh0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RyeXt0LlVkJiZ0LlVkKGUpfWNhdGNoKGUpe28uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBmaXJpbmcgc2VydmVyIGNvbm5lY3Qgd2hlbiB3ZSBoYXZlIHN3YXJtXCIsci5qTSxzLmhzLlBlLlJlLGUpfX0pOnRoaXMudmwuZm9yRWFjaChmdW5jdGlvbih0LGkpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt0cnl7dC5VZCYmdC5VZChlKX1jYXRjaChlKXtvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZmlyaW5nIHNlcnZlciBjb25uZWN0IHdoZW4gd2UgZG8gbm90IGhhdmUgc3dhcm1cIixyLmpNLHMuaHMuUGUud2UsZSl9fSl9KSl9LGUucHJvdG90eXBlLlU1PWZ1bmN0aW9uKGUpe3RoaXMudmwubGVuZ3RoPjAmJnRoaXMudmwuZm9yRWFjaChmdW5jdGlvbih0LHIpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt0LktHJiZ0LktHKGUpfSl9KX0sZX0oKTt0Lng1PWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigwKSxzPXIoMjMpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5BZz0xLHRoaXMuY2xpZW50PW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5HKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQscil7dGhpcy5xNT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5jaGFubmVsTWFuYWdlcj1yfSxlLnByb3RvdHlwZS5zWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsaWVudC56ZCgpLnNZKCl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk1ZIElEIFwiK3QpLHRoaXMuZ2Q9dCx0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKT90aGlzLmNsaWVudC56ZCgpLm9uKFNlcnZpY2VzLmZZLDEsZnVuY3Rpb24oZSl7ci55OShlLm1zZyl9KTp0aGlzLmxvZ2dlci5lcnJvcihcImVycm9yIGdldHRpbmcgYWN0aXZlIHNlcnZpY2VzIGNvbm5lY3Rpb25cIiksdGhpcy5xNS5PNSh0aGlzLmdkKX0sZS5wcm90b3R5cGUueTk9ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKTt0aGlzLnE1LlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJDViBNU0cgRlJPTSBTUlYgXCIsdCksdGhpcy5jaGFubmVsTWFuYWdlci5xMCh0Lm1zZ05hbWUsdC5tc2cpfSxlLnByb3RvdHlwZS5UOT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy53cmFwKHQsZSxyKTtpZih0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKSl7dmFyIG89SlNPTi5zdHJpbmdpZnkobik7dGhpcy5xNS5SNSYmdGhpcy5sb2dnZXIuZGVidWcoXCIgRk9SV0FSRElORyBSRVFVRVNUIDogXCIrbyk7dmFyIGE9bmV3IHMuSmQoU2VydmljZXMuZlksMCxvKTtyZXR1cm4gdGhpcy5jbGllbnQuemQoKS5zZW5kKGEpfXJldHVybiBpLnJlamVjdCgpfSxlLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57bXNnSWQ6dGhpcy5BZysrLGRlc3RpbmF0aW9uOnIsbXNnOmUsbXNnTmFtZTp0fX0sZS5wcm90b3R5cGUuRTk9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49e2NoYW5uZWw6e2xhYmVsOnQubGFiZWwsaWNlX2NhbmRpZGF0ZXM6cn19O3JldHVybiB0aGlzLlQ5KFwidXBkYXRlX2ljZV9jYW5kaWRhdGVzXCIsbixpKX0sZS5wcm90b3R5cGUub2ZmZXI9ZnVuY3Rpb24oZSx0LHIsaSxzKXt2YXIgbz17cGVlcjp7Z3VpZDplLGZpcnN0X3NlZW46bi5GcmFtZXdvcmsudGltZSgpfSxjaGFubmVsOntsYWJlbDpyLmxhYmVsLGljZV9jYW5kaWRhdGVzOmksb2ZmZXI6c319O3JldHVybiB0aGlzLlQ5KFwib2ZmZXJcIixvLHIuejUpfSxlLnByb3RvdHlwZS5YNT1mdW5jdGlvbihlLHQscil7dGhpcy5xNS5SNSYmdGhpcy5sb2dnZXIuZGVidWcoXCJEaXNjb3Zlcnkgc2VydmljZSByZWplY3RzIG9mZmVyIGZyb20gcGVlciBcIit0K1wiIG9uIGNoYW5uZWwgXCIrcik7dmFyIGk9e3Q5OmUsY2hhbm5lbDpyfTtyZXR1cm4gdGhpcy5UOShcImFuc3dlclwiLGksdCl9LGUucHJvdG90eXBlLmFuc3dlcj1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17YW5zd2VyOnQsbTk6dGhpcy5xNS5nZCxjaGFubmVsOntsYWJlbDplLmxhYmVsLGljZV9jYW5kaWRhdGVzOnJ9fTtyZXR1cm4gdGhpcy5UOShcImFuc3dlclwiLG4saSl9LGV9KCk7dC5fSj1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNSkscz1yKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5yRj1uZXcgaSx0aGlzLkk5PVtdLHRoaXMuQjY9bmV3IGksdGhpcy5TOT1uZXcgaX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLkVEPWUuRUQsdGhpcy5SOSgpfSxlLnByb3RvdHlwZS5SOT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cy5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLnc5KCl9LG4uaGgueWEuRWEpfSxlLnByb3RvdHlwZS53OT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5CNi52YWx1ZXMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHMuRnJhbWV3b3JrLnRpbWUoKS1lLnFmLkxmPm4uaGgueWEudmF9KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuRUQuYWJvcnQodC5LZiksZS5sRih0LlpmKCksdC4kZigpKX0pfSxlLnByb3RvdHlwZS51Rj1mdW5jdGlvbihlKXt0aGlzLmI5KGUuWmYoKSxlLiRmKCkpLHRoaXMuQjYuc2V0KGUuJGYoKSxlKX0sZS5wcm90b3R5cGUubEY9ZnVuY3Rpb24oZSx0KXt0aGlzLkI2LmRlbGV0ZSh0KSx0aGlzLkM5KGUsdCl9LGUucHJvdG90eXBlLmZGPWZ1bmN0aW9uKGUpe3RoaXMuXzkoZSl9LGUucHJvdG90eXBlLnBGPWZ1bmN0aW9uKGUpe3RoaXMuckYuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS5fOT1mdW5jdGlvbihlKXtpZih0aGlzLnJGLnNldChlLlpmKCksZS5KZigpKSx0aGlzLkk5LnB1c2goZS5aZigpKSx0aGlzLnJGLmxlbmd0aD5uLmhoLnlhLmdhKXt2YXIgdD10aGlzLkk5WzBdO3RoaXMuckYuZGVsZXRlKHQpLHRoaXMuSTkuc3BsaWNlKDAsMSl9fSxlLnByb3RvdHlwZS50Rj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yRi5oYXMoZSl9LGUucHJvdG90eXBlLmlGPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJGLmdldChlKX0sZS5wcm90b3R5cGUuYjk9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLlM5LmhhcyhlKSl0aGlzLlM5LmdldChlKS5wdXNoKHQpO2Vsc2V7dmFyIHI9W107ci5wdXNoKHQpLHRoaXMuUzkuc2V0KGUscil9fSxlLnByb3RvdHlwZS5DOT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuUzkuaGFzKGUpKXt2YXIgcj10aGlzLlM5LmdldChlKSxpPXIuaW5kZXhPZih0KTstMT09aT90aGlzLmxvZ2dlci53YXJuKFwiSSBDQU5OT1QgRklORCBUSEUgUkVRVUVTVCBJRCBcIit0KTpyLnNwbGljZShpLDEpLDA9PXIubGVuZ3RoJiZ0aGlzLlM5LmRlbGV0ZShlKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4oXCJUUklFRCBUTyBSRU1PVkUgQU4gT0JKRUNUIFRIQVQgRE9FUyBOT1QgRVhJU1RcIil9LGUucHJvdG90eXBlLm9GPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKHRoaXMuUDkoZSkpZm9yKHZhciByPXRoaXMuUzkuZ2V0KGUpLGk9MDtpPHIubGVuZ3RoO2krKyl0aGlzLkI2LmhhcyhyW2ldKSYmdC5wdXNoKHRoaXMuQjYuZ2V0KHJbaV0pKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuUDk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUzkuaGFzKGUpfSxlLnByb3RvdHlwZS5FRj1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLkI2Lmxlbmd0aH0sZS5wcm90b3R5cGUuc0Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUzkuaGFzKGUpfSxlfSgpO3QueWE9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDUpLHM9cigyOCksbz1zLmNnLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy51ZHBTY29yZT0wLHRoaXMuQTk9MCx0aGlzLndhdGNoaW5nQml0cmF0ZT0tMSx0aGlzLk85PSExLHRoaXMuTjk9ITEsdGhpcy5EOT0hMSx0aGlzLms5PSExLHRoaXMuTDk9bmV3IGl9cmV0dXJuIGUucHJvdG90eXBlLnNldElkPWZ1bmN0aW9uKGUpe3RoaXMuTTk9ZX0sZS5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NOX0sZS5wcm90b3R5cGUuWko9ZnVuY3Rpb24oZSl7dGhpcy51ZHBTY29yZT1lfSxlLnByb3RvdHlwZS5RRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVkcFNjb3JlfSxlLnByb3RvdHlwZS4kSj1mdW5jdGlvbihlKXt0aGlzLkE5PWV9LGUucHJvdG90eXBlLkwxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQTl9LGUucHJvdG90eXBlLnNldENvbnRleHRJZD1mdW5jdGlvbihlKXt2YXIgdD1vLm9UKGUrXCJfXCIrbi5oaC5Iby5EbykudG9TdHJpbmcoby5VeS5CeSk7dGhpcy5jb250ZXh0SWQ9dH0sZS5wcm90b3R5cGUuZ2V0Q29udGV4dElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dElkfSxlLnByb3RvdHlwZS5rRz1mdW5jdGlvbihlKXt0aGlzLk85PWV9LGUucHJvdG90eXBlLmNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTzl9LGUucHJvdG90eXBlLllHPWZ1bmN0aW9uKGUpe3RoaXMuRDk9ZX0sZS5wcm90b3R5cGUueWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EOX0sZS5wcm90b3R5cGUuSGo9ZnVuY3Rpb24oZSl7dGhpcy5rOT1lfSxlLnByb3RvdHlwZS5taz1mdW5jdGlvbigpe3JldHVybiB0aGlzLms5fSxlLnByb3RvdHlwZS5VMT1mdW5jdGlvbihlKXt0aGlzLkY5PWV9LGUucHJvdG90eXBlLmdrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRjl9LGUucHJvdG90eXBlLkIxPWZ1bmN0aW9uKGUpe3RoaXMuVTk9ZX0sZS5wcm90b3R5cGUuRmo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VOX0sZS5wcm90b3R5cGUuREc9ZnVuY3Rpb24oZSl7dGhpcy5COT1lfSxlLnByb3RvdHlwZS5Saz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkI5fSxlLnByb3RvdHlwZS5IOT1mdW5jdGlvbihlKXt0aGlzLk45PWV9LGUucHJvdG90eXBlLlRrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTjl9LGUucHJvdG90eXBlLkZYPWZ1bmN0aW9uKGUpe3RoaXMud2F0Y2hpbmdCaXRyYXRlPWV9LGUucHJvdG90eXBlLk1YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2F0Y2hpbmdCaXRyYXRlfSxlLnByb3RvdHlwZS5GRz1mdW5jdGlvbihlKXt0aGlzLm5HPWV9LGUucHJvdG90eXBlLklrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubkd9LGUucHJvdG90eXBlLkRIPWZ1bmN0aW9uKGUpe3RoaXMucHJpdmF0ZUlwPWV9LGUucHJvdG90eXBlLmdldFByaXZhdGVJcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByaXZhdGVJcH0sZS5wcm90b3R5cGUuX0g9ZnVuY3Rpb24oZSl7dGhpcy5wdWJsaWNJcD1lfSxlLnByb3RvdHlwZS5nZXRQdWJsaWNJcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1YmxpY0lwfSxlLnByb3RvdHlwZS5zZXRSZXBvcnRpbmdHdWlkPWZ1bmN0aW9uKGUpe3RoaXMucmVwb3J0aW5nR3VpZD1lfSxlLnByb3RvdHlwZS5nZXRSZXBvcnRpbmdHdWlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwb3J0aW5nR3VpZH0sZS5wcm90b3R5cGUuc2V0RGVsdGE9ZnVuY3Rpb24oZSl7dGhpcy5kZWx0YT1lfSxlLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbHRhfSxlLnByb3RvdHlwZS5GRD1mdW5jdGlvbihlLHQpe3RoaXMuTDkuc2V0KGUsdCl9LGUucHJvdG90eXBlLmtEPWZ1bmN0aW9uKGUpe3RoaXMuTDkuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS5Vaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkw5fSxlLnByb3RvdHlwZS5oQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlRrKCk/dGhpcy5MOS5rZXlzKCk6W119LGUucHJvdG90eXBlLmNCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVGsoKT9bXTp0aGlzLkw5LmtleXMoKX0sZS5wcm90b3R5cGUuWEo9ZnVuY3Rpb24oZSl7dGhpcy50aWNrZXQ9ZX0sZS5wcm90b3R5cGUuU2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWNrZXR9LGUucHJvdG90eXBlLldKPWZ1bmN0aW9uKGUpe3RoaXMubVg9ZX0sZS5wcm90b3R5cGUueDg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tWH0sZX0oKTt0LkhKPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMTApLHM9cigxODMpLG89cigyKSxhPXIoMSksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmU1PWZ1bmN0aW9uKHQscil7dmFyIGk9W10scz1bXSxoPVtdO3RyeXt2YXIgYz10aGlzLnlELmdrKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlLkVrLnBlZXJJbmZvLnR5cGU9PW4uVGMuVyYmaS5wdXNoKGUpO3ZhciB0PWUuRWsucGVlckluZm8uaW50ZXJuYWxBczswIT1jJiZ0JiZjPT10JiZzLnB1c2goZSksZS5Fay5wZWVySW5mby50eXBlPT1uLlRjLnljJiZoLnB1c2goZSl9KSxpLmxlbmd0aD4wP2UucHJvdG90eXBlLmU1LmNhbGwodGhpcyxpLHIpOnMubGVuZ3RoPjA/ZS5wcm90b3R5cGUuZTUuY2FsbCh0aGlzLHMscik6ZS5wcm90b3R5cGUuZTUuY2FsbCh0aGlzLGgscil9Y2F0Y2goZSl7cmV0dXJuIGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjaG9vc2luZyBwYXJ0bmVyIGZvciBwMnBcIix0aGlzLmxvZ2dlcklkLG8uaHMuamkuVmksZSksbnVsbH19LHR9KHMueDkpO3QuVUo9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDUpLHM9cigxKSxvPXIoMiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1BpY2tlclRSU2luZ2xlXSBcIix0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLlg4PWZ1bmN0aW9uKGUpe3RoaXMueUQ9ZX0sZS5wcm90b3R5cGUuZTU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnE5KGUpO3JldHVybiByP3JbMF06bnVsbH0sZS5wcm90b3R5cGUuRzk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5oaC5GYS5MYSooZS5rOCgpL3QpK24uaGguRmEuTWEqKDEtZS5NOCgpKX0sZS5wcm90b3R5cGUucTk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7dmFyIHI9LjE7cis9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuazgoKX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KTt2YXIgaT1lLnNvcnQoZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5HOShpLHIpLXQuRzkoZSxyKX0pLG49W107cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihlKXtuLnB1c2goZS5ndWlkK1wiOlwiK3QuRzkoZSxyKSl9KSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNDIFtcIituLmpvaW4oXCIsIFwiKStcIl1cIiksaX1jYXRjaChlKXtyZXR1cm4gcy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNvcnRpbmcgdGhlIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCxvLmhzLkdpLnFpLGUpLG51bGx9fSxlfSgpO3QueDk9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNDkpLG49cigzKSxzPXIoNTkpLG89cig3KSxhPXIoNSksaD1yKDApLGM9cig0NyksdT1yKDkxKSxsPXIoNikscD1sLmhlLlRoLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5WOT0hMX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1oLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnlEPWUueUQsdGhpcy5HSj1lLkdKLHRoaXMub0c9ZS5vRyx0aGlzLnpNPWUuek19LGUucHJvdG90eXBlLlJEPWZ1bmN0aW9uKGUpe3RoaXMud0Q9ZX0sZS5wcm90b3R5cGUuRzE9ZnVuY3Rpb24oKXt0aGlzLlY5PSEwLHRoaXMuY1goKX0sZS5wcm90b3R5cGUuTEc9ZnVuY3Rpb24oKXtpZihhLmhoLmZhLm5hKXJldHVybiB2b2lkIHRoaXMuajkoKTt2YXIgZT0hdGhpcy55RC55aygpfHx0aGlzLnlELmNrKCl8fCFwO3RoaXMubG9nZ2VyLmRlYnVnKFwiUkVRVUVTVCBSRU1PVEUgRUxFQ1RJT04gXCIrZSksZT90aGlzLmo5KCk6dGhpcy5ROSgpfSxlLnByb3RvdHlwZS5qOT1mdW5jdGlvbigpe3ZhciBlPXRoaXMueUQuZ2soKSx0PWUmJjAhPWU/dS5YcS5uRDp1LlhxLkFTO3RoaXMuR0ouRjEodCl9LGUucHJvdG90eXBlLlE5PWZ1bmN0aW9uKCl7dGhpcy5HSi5GMSh1LlhxLkpxKX0sZS5wcm90b3R5cGUuY1g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuclgoKSx0aGlzLks5PWguRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5MRygpfSxhLmhoLmZhLm9hKSx0aGlzLnpNLlNEKCksdGhpcy5MRygpfSxlLnByb3RvdHlwZS5yWD1mdW5jdGlvbigpe3RoaXMuSzkmJmguRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5LOSl9LGUucHJvdG90eXBlLmlYPWZ1bmN0aW9uKCl7dGhpcy56TS5laygpLHRoaXMud0QuTE0oKX0sZS5wcm90b3R5cGUuTUc9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG47aWYoZSl7dGhpcy5ZOSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5zZXQoZSxpLnNELmlEKX0pO3ZhciByPSExLHM9aS5zRC5pRDt0aGlzLnlELlRrKCkmJihzPWkuc0QubkQscj0hMCksdGhpcy56TS5fRCh0LHMscil9ZWxzZSB0aGlzLnpNLl9EKHQsaS5zRC5tYywhMSl9LGUucHJvdG90eXBlLkgxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxoPXRoaXMuVzkodCksYz10aGlzLnpNLkNEKCkuaXNMaXZlKCk7aWYoZSYmZS5sZW5ndGg+MCl7dmFyIHU9bmV3IHM7dS5hZGRFYWNoKGUpO3ZhciBsPWEuaGguZmEuZWF8fHUuc29tZShmdW5jdGlvbihlKXt2YXIgdD1vLnJjLlpoKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuU0YsZS5rZXkucmFua1R5cGUpO3JldHVybiByLmxvZ2dlci5pbmZvKFwiR09UIFJBTktJTkcgXCIrdCtcIixDUlYgXCIrZS5jdW11bGF0ZWRSYW5rVmFsdWUrXCIsUlYgXCIrZS5yYW5raW5nK1wiLEdTIFwiK2UuZ3JvdXBTaXplKSxyLno5KGUpfSkscD1udWxsIT1oJiYwIT1oLmxlbmd0aDtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRyYWNrZXIgcmVwb3J0cyBbXCIraC5rZXlzKCkuam9pbihcIiwgXCIpK1wiXSAgYml0cmF0ZXNcIiksdGhpcy5sb2dnZXIuZGVidWcoXCJJU0xpdmUgXCIrYytcIiBEb0VsZWN0IFwiK2wpLGEuaGguZmEuJG8mJmMpe3ZhciBkPXRoaXMuWTkoKTtpZihwJiZsKXt0aGlzLnlELkg5KCEwKSx0aGlzLmxvZ2dlci5pbmZvKFwiQkVDT01JTkcgU0lURSBMRUFERVJcIik7dmFyIGY9bmV3IG47ZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Yuc2V0KGUsaS5zRC5pRCl9KSxoLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyLm9HLmtqLmhhcyhlKXx8Zi5zZXQodCxpLnNELm5EKX0pLHRoaXMuek0uX0QoZixpLnNELm5ELCExKX1lbHNle3RoaXMueUQuSDkoITEpO3ZhciBnPWkuc0QubWMsRT1uZXcgbjt0aGlzLnlELnlrKCkmJnRoaXMueUQuY2soKSYmKGc9aS5zRC5pRCxkLmZvckVhY2goZnVuY3Rpb24oZSl7RS5zZXQoZSxpLnNELmlEKX0pKSx0aGlzLnpNLl9EKEUsZywhMSl9fX1lbHNlIGlmKGMpe2EuaGguZmEuZWE/dGhpcy55RC5IOSghMCk6dGhpcy55RC5IOSghMSk7dmFyIHY9bmV3IG4sZz1pLnNELm1jO2lmKHRoaXMueUQueWsoKSYmdGhpcy55RC5jaygpKXt2YXIgeT10aGlzLlk5KCk7eS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Yuc2V0KGUsaS5zRC5pRCl9KSxnPWkuc0QuaUR9YS5oaC5mYS5lYSYmKGc9aS5zRC5uRCksdGhpcy56TS5fRCh2LGcsITEpfX0sZS5wcm90b3R5cGUuSmo9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlk5KCksdD1uZXcgbjtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5zZXQoZSxpLnNELmlEKX0pO3ZhciByPSExLHM9aS5zRC5pRDt0aGlzLnlELlRrKCkmJihzPWkuc0QubkQscj0hMCksdGhpcy56TS5fRCh0LHMscil9LGUucHJvdG90eXBlLlk5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHM7cmV0dXJuIHRoaXMub0cua2ouZm9yRWFjaChmdW5jdGlvbih0LHIpe3QucGVlckluZm8ud2F0Y2hpbmdCaXRyYXRlJiYhZS5oYXModC5wZWVySW5mby53YXRjaGluZ0JpdHJhdGUpJiZlLmFkZCh0LnBlZXJJbmZvLndhdGNoaW5nQml0cmF0ZSl9KSxlLnRvQXJyYXkoKX0sZS5wcm90b3R5cGUuVzk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG4scj10aGlzLnlELmdrKCk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT1lLndhdGNoaW5nQml0cmF0ZSYmKHI+MD9yPT09ZS5pbnRlcm5hbEFzJiZ0LnNldChlLndhdGNoaW5nQml0cmF0ZSxlLmd1aWQpOnQuc2V0KGUud2F0Y2hpbmdCaXRyYXRlLGUuZ3VpZCkpfSksdH0sZS5wcm90b3R5cGUuejk9ZnVuY3Rpb24oZSl7aWYoZS5ncm91cFNpemU8MilyZXR1cm4hMTt2YXIgdD1NYXRoLm1heCgxLE1hdGgucm91bmQoZS5ncm91cFNpemUqYS5oaC5mYS5yYSkpO3JldHVybiBwfHxoLkZyYW1ld29yay5DKCkmJmMuJE4uWE4/ZS5yYW5raW5nPHQmJih0aGlzLnlELmNrKCl8fCF0aGlzLnlELnlrKCkpOmUucmFua2luZzx0fSxlLnByb3RvdHlwZS5aRD1mdW5jdGlvbihlLHQscixuKXt2YXIgcz0xLG89dGhpcy53RC5sayhyLHQpLGM9YS5oaC5mYS5oYSpoLkZyYW1ld29yay5yYW5kb20oKTtpZihlPT1pLnNELmlEKXt2YXIgdT10aGlzLndELnhNKCksbD11LWM7cz1NYXRoLm1heCgxLG8tbCl9ZWxzZSBpZihlPT1pLnNELm5EKXt2YXIgcD1hLmhoLmZhLmNhLWM7cz1NYXRoLm1heCgxLG8tcCkrbn1yZXR1cm4gcz1NYXRoLnJvdW5kKHMpfSxlfSgpO3QuQko9ZH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDMpLHM9cigyMyksbz1yKDMzKSxhPXIoMSksaD1yKDIpO3IoNjApO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuSjk9ITEsdGhpcy5sb2dnZXJJZD1cIltUUkFDS0VSXSBcIix0aGlzLlg5PW5ldyBuLHRoaXMueWc9bmV3IG8uWWIsdGhpcy5wcm90b2NvbD1uZXcgby5iQyh0aGlzLnlnKSx0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKCksaS5GcmFtZXdvcmsuQygpfHwodGhpcy5jbGllbnQ9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5WLkcpKX1yZXR1cm4gZS5wcm90b3R5cGUubTE9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiVFJBQ0tFUiBDTElFTlQgUkVHSVNURVJFRCBcIitlKSx0aGlzLlg5LmhhcyhlKXx8dGhpcy5YOS5zZXQoZSx0KSx0aGlzLlg5LmdldChlKX1jYXRjaChlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYWRkaW5nIG5ldyB0cmFja2VyIGNsaWVudFwiLHRoaXMubG9nZ2VySWQsaC5ocy54aS5NaSxlKX19LGUucHJvdG90eXBlLlJnPWZ1bmN0aW9uKGUpe3RoaXMuWDkuZGVsZXRlKGUpfSxlLnByb3RvdHlwZS53Zz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5YOS5nZXQoZSl9LGUucHJvdG90eXBlLk0xPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LnpkKCkpe3ZhciByPXRoaXMuWjkoZSksaT1uZXcgcy5KZChTZXJ2aWNlcy5wWSwxLHIpLG49dGhpcy5jbGllbnQuemQoKS5zZW5kKGkpO24udGhlbihmdW5jdGlvbigpe3JldHVybiB0LmxvZ2dlci5pbmZvKFwiVFJBQ0tFUiBSRVFVRVNUIFNFTlRcIil9KSxuLmZhaWwoZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgdHJhY2tlciByZXF1ZXN0XCIsdC5sb2dnZXJJZCxoLmhzLnhpLkRpKX0pfWVsc2UgYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgdHJhY2tlciByZXF1ZXN0IGJlY2F1c2Ugb2YgY29ubmVjdGlvblwiLHRoaXMubG9nZ2VySWQsaC5ocy54aS5CaSl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubG9nZ2VyLmRlYnVnKFwiVFJBQ0tFUiBNQU5BR0VSIElOSVRcIiksdGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LnpkKCk/dGhpcy5jbGllbnQuemQoKS5vbihTZXJ2aWNlcy5wWSwxMCxmdW5jdGlvbih0KXt0cnl7dmFyIHI9ZS5lNyh0Lm1zZyk7aWYociYmZS5YOS5oYXMoci5zZXNzaW9uSWQpKXtlLlg5LmdldChyLnNlc3Npb25JZCkuS1gocil9ZWxzZSBlLmxvZ2dlci53YXJuKFwiU0VTU0lPTiBJRCBOT1QgVkFMSUQgT1IgTlVMTCBcIityLnNlc3Npb25JZCl9Y2F0Y2godCl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyB0aGUgdHJhY2tlciBtYW5hZ2VyXCIsZS5sb2dnZXJJZCxoLmhzLnhpLkhpLHQpfX0pOmkuRnJhbWV3b3JrLkMoKXx8dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK1wiIENBTk5PVCBHRVQgQUNUSVZFIENPTk5FQ1RJT05cIil9LGUucHJvdG90eXBlLmU3PWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD0nWzEsIFwiVFJBQ0tFUl9SRVNQXCIsIDQsIDAsJytlK1wiXVwiO3RoaXMueWcuZUModCk7dmFyIHI9KHRoaXMucHJvdG9jb2wuekMoKSxuZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVzcG9uc2UpO3JldHVybiByLnJlYWQodGhpcy5wcm90b2NvbCksci5pbmZvcy5tYXAoZnVuY3Rpb24oZSl7ZS5ndWlkPWF0b2IoZS5ndWlkKSxlLnB1YmxpY0lwPW5ldyBJbmV0QWRkcmVzcyxlLnB1YmxpY0lwLmFkZHJlc3M9ZS5wdWJsaWNJcFN0cmluZyxlLnByaXZhdGVJcD1uZXcgSW5ldEFkZHJlc3MsZS5wcml2YXRlSXAuYWRkcmVzcz1lLnByaXZhdGVJcFN0cmluZ30pLHIucGVlckluZm8uZ3VpZD1hdG9iKHIucGVlckluZm8uZ3VpZCksci5wZWVySW5mby5wdWJsaWNJcD1uZXcgSW5ldEFkZHJlc3Msci5wZWVySW5mby5wdWJsaWNJcC5hZGRyZXNzPXIucGVlckluZm8ucHVibGljSXBTdHJpbmcsci5wZWVySW5mby5wcml2YXRlSXA9bmV3IEluZXRBZGRyZXNzLHIucGVlckluZm8ucHJpdmF0ZUlwLmFkZHJlc3M9ci5wZWVySW5mby5wcml2YXRlSXBTdHJpbmcsdGhpcy5wcm90b2NvbC50XygpLHRoaXMuSjkmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVTUCBcIitKU09OLnN0cmluZ2lmeShyKSkscn1jYXRjaChlKXtyZXR1cm4gYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGRlc2VyaWFsaXppbmcgdGhlIHRyYWNrZXIgcmVzcG9uc2VcIix0aGlzLmxvZ2dlcklkLGguaHMueGkuVWksZSksbnVsbH19LGUucHJvdG90eXBlLlo5PWZ1bmN0aW9uKGUpe3RyeXt0aGlzLnByb3RvY29sLkFDKFwiVFJBQ0tFUl9SRVFcIixvLmdiLk9ORVdBWSwwKSxlLndyaXRlKHRoaXMucHJvdG9jb2wpLHRoaXMucHJvdG9jb2wuREMoKTt2YXIgdD10aGlzLnlnLnBDKCkscj10aGlzLkZCKHQsXCIsXCIsNCk7cmV0dXJuIHQuc2xpY2UocisxLHQubGVuZ3RoLTEpfWNhdGNoKGUpe3Rocm93IGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZXJpYWxpemluZyB0aGUgbmV3IHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLGguaHMueGkuRmksZSksbmV3IEVycm9yKGUpfX0sZS5wcm90b3R5cGUuRkI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnNwbGl0KHQscikuam9pbih0KS5sZW5ndGh9LGV9KCk7dC53Sj1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyNiksbj1pLkhpdmVDb21tLiRnLHM9aS5IaXZlQ29tbS5lRSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe3RoaXMucGVlcj1lLHRoaXMucmw9dH0sZS5wcm90b3R5cGUudDc9ZnVuY3Rpb24oZSl7ZS51dWlkPXRoaXMucmwuVWwuZ2Q7dmFyIHQ9dGhpcy5ybC5VbC5pQi5LVSxyPXRoaXMucjcodC5wMnBTdWJSZXNwUXQpLGk9dGhpcy5yNyh0LnNyY1Jlc3BRdCk7ZS5jZG5SZXF1ZXN0cys9dGhpcy5yNyh0LnNyY1JlcU4pLGUuY2RuUmVzcG9uc2VzKz10aGlzLnI3KHQuc3JjUmVzcE4pLGUuY2RuUmVzcG9uc2VFcnJvcnMrPXRoaXMucjcodC5zcmNSZXNwRXJyTiksZS5jZG5SZXNwb25zZUJ5dGVzKz10aGlzLnI3KHQuc3JjUmVzcFF0KSxlLnAycFJlcXVlc3RzKz10aGlzLnI3KHQucDJwU3ViUmVxTiksZS5wMnBSZXNwb25zZXMrPXRoaXMucjcodC5wMnBTdWJSZXNwTiksZS5wMnBSZXNwb25zZUVycm9ycys9dGhpcy5yNyh0LnAycFN1YlJlc3BFcnJOKSxlLnAycFJlc3BvbnNlQnl0ZXMrPXRoaXMucjcodC5wMnBTdWJSZXNwUXQpLGUuc2F2aW5ncz10aGlzLnI3KHIvKGkrcikqMTAwKX0sZS5wcm90b3R5cGUucjc9ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fDB9LGUucHJvdG90eXBlLmk3PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS51dWlkPXRoaXMucmwuVWwuZ2QsdGhpcy5ybC5VbC5pQi5XVS5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7ZS5wYXJ0bmVyc1tpXXx8KGUucGFydG5lcnNbaV09bmV3IHMpO3ZhciBuPWUucGFydG5lcnNbaV07bi51dWlkPWksbi5zZW50Qnl0ZXMrPXQucjcoci5wMnBTdWNjU2VudCksbi5yZWNlaXZlZEJ5dGVzKz10LnI3KHIucDJwU3VjY1JlY2VpdmVkKSxuLnN1Y2Nlc3NUcmFuc2ZlcnMrPXQucjcoci5wMnBTdWNjUmVxKSxuLmZhaWxlZFRyYW5zZmVycys9dC5yNyhyLnAycEZhaWxSZXEpfSl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmwucmVuZGVyU3RhdHNDYWxsYmFjaztpZihlKXt2YXIgdD1uZXcgbjt0aGlzLnQ3KHQpLHRoaXMuaTcodCk7dHJ5e2UodCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiZXJyb3IgaW4gcmVuZGVyaW5nIGxvY2FsIHN0YXRzXCIsZSl9fX0sZX0oKTt0Lm1KPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDM1KSxuPXIoMykscz1yKDApLG89cig1KSxhPXIoMSksaD1yKDIpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltDaHVua0hhbmRsZXJdIFwiLHRoaXMubjc9bmV3IG4sdGhpcy5zNz1uZXcgbn1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKX0sZS5wcm90b3R5cGUuWVg9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuWmYoKSxyPWUuamYsbj1lLnFmLlBmLGM9TWF0aC5jZWlsKG4vby5oaC5GYS5EYSksdT1lLnpmLmJpdHJhdGUsbD0wLHA9TWF0aC5taW4oby5oaC5GYS5EYSxuKTt0aGlzLm83KHQsdSk7Zm9yKHZhciBkPXAtbDtjPjA7KXt2YXIgZj1udWxsO3RyeXtzLkZyYW1ld29yay5DKCl8fChmPWkud3JhcChyLnNsaWNlKGwscCkpKSxsKz1kfWNhdGNoKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB3cmFwcGluZyBjaHVua1wiLHRoaXMubG9nZ2VySWQsaC5ocy5Pci5QcixlKX10aGlzLm43LmdldCh0KS5wdXNoKGYpLGMtLSxwPU1hdGgubWluKGwrby5oaC5GYS5EYSxuKSxkPXAtbH19Y2F0Y2goZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFkZGluZyBmcmFnbWVudCB0byB0aGUgZnJhZ21lbnRNYXBcIix0aGlzLmxvZ2dlcklkLGguaHMuT3IuQ3IsZSl9fSxlLnByb3RvdHlwZS5vNz1mdW5jdGlvbihlLHQpe3RyeXtpZih0aGlzLnM3Lmhhcyh0KSYmdGhpcy5zNy5nZXQodCkubGVuZ3RoPm8uaGguUmEuU2Epe3ZhciByPXRoaXMuczcuZ2V0KHQpWzBdO3RoaXMubjcuZGVsZXRlKHIpLHRoaXMuczcuZ2V0KHQpLnNoaWZ0KCl9aWYodGhpcy5zNy5oYXModCkpdGhpcy5zNy5nZXQodCkucHVzaChlKSx0aGlzLm43LnNldChlLFtdKTtlbHNle3ZhciBpPVtlXTt0aGlzLnM3LnNldCh0LGkpLHRoaXMubjcuc2V0KGUsW10pfX1jYXRjaChlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyB0aGUgY2h1bmsgaGFuZGxlciBoYXNobWFwc1wiLHRoaXMubG9nZ2VySWQsaC5ocy5Pci5BcixlKX19LGUucHJvdG90eXBlLmw4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubjcuaGFzKGUpP3RoaXMubjcuZ2V0KGUpW3RdOm51bGx9LGUucHJvdG90eXBlLmE3PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnM3LmdldChlKX0sZS5wcm90b3R5cGUub1g9ZnVuY3Rpb24oKXt0aGlzLm43PW5ldyBuLHRoaXMuczc9bmV3IG59LGV9KCk7dC5QSj1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNSkscz1yKDApLG89cigyKSxhPXIoMSksaD1yKDI4KSxjPShoLmNnLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbSVBTcG9vZmluZ10gXCIsdGhpcy5oNz1uLmhoLlZvLnhvfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuVEQ9ZS5URCx0aGlzLmM3PW5ldyBpLHRoaXMudTc9bmV3IGksdGhpcy5oNyYmdGhpcy5sNygpfSxlLnByb3RvdHlwZS5maj1mdW5jdGlvbihlLHQscil7dHJ5e2lmKCF0aGlzLmg3KXJldHVybiExO2lmKHRoaXMuYzcuaGFzKGUpfHwhdHx8IXIpcmV0dXJuITE7dmFyIGk9dGhpcy5wNyh0LHIpO2lmKGkmJnRoaXMudTcuaGFzKGkpKXtpZih0aGlzLnU3LmdldChpKS5sZW5ndGg+PW4uaGguVm8ucW8pcmV0dXJuIGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBwZWVyIHZpb2xhdGVzIGlwIHNwb29maW5nIHJ1bGVzXCIsdGhpcy5sb2dnZXJJZCxvLmhzLmJuLlNuLHtwcml2YXRlSXA6dCxwdWJsaWNJcDpyLG90aGVyR3VpZDplfSksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlNwb29maW5nIHJ1bGUgdmlvbGF0ZWQgZm9yIFwiK2UrXCIgd2l0aCBwcml2YXRlSXAgXCIrdCtcIiBwdWJsaWNJcCBcIityKSwhMH1yZXR1cm4hMX1jYXRjaCh0KXtyZXR1cm4gYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNoZWNraW5nIGlmIHBlZXIgdmlvbGF0ZXMgaXAgc3Bvb2ZpbmcgcnVsZXNcIix0aGlzLmxvZ2dlcklkLG8uaHMuYm4uSW4se2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pLCExfX0sZS5wcm90b3R5cGUuVGo9ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLmg3JiZyJiZ0KXt2YXIgaT10aGlzLnA3KHQsciksbj10aGlzLmM3LmdldChlKTtuJiZuIT1pJiZ0aGlzLmQ3KGUsbiksdGhpcy5mNyhlLGkpfX1jYXRjaCh0KXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYWRkaW5nIG9yIHVwZGF0aW5nIGlwIHNwb29maW5nIG1hcHNcIix0aGlzLmxvZ2dlcklkLG8uaHMuYm4uUm4se2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sZS5wcm90b3R5cGUuZzc9ZnVuY3Rpb24oZSl7dGhpcy5oNyYmdGhpcy5HaihlKX0sZS5wcm90b3R5cGUuS0c9ZnVuY3Rpb24oZSl7dGhpcy5oNyYmdGhpcy5HaihlKX0sZS5wcm90b3R5cGUuZjc9ZnVuY3Rpb24oZSx0KXt0aGlzLmM3LnNldChlLHQpO3ZhciByPVtdO3RoaXMudTcuaGFzKHQpJiYocj10aGlzLnU3LmdldCh0KSwtMSE9ci5pbmRleE9mKGUpKXx8KHIucHVzaChlKSx0aGlzLnU3LnNldCh0LHIpKX0sZS5wcm90b3R5cGUuR2o9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jNy5nZXQoZSk7dD8odGhpcy5kNyhlLHQpLHRoaXMuYzcuZGVsZXRlKGUpKTp0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrXCJubyBpcCBwYWlyIGZvciBndWlkIFwiK2UpfSxlLnByb3RvdHlwZS5kNz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMudTcuZ2V0KHQpLGk9ci5pbmRleE9mKGUpOy0xIT1pPyhyLnNwbGljZShpLDEpLDA9PXIubGVuZ3RoP3RoaXMudTcuZGVsZXRlKHQpOnRoaXMudTcuc2V0KGUscikpOnRoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtcInBhaXIgbGlzdCBcIit0K1wiIGRvZXMgbm90IGNvbnRhaW4gZ3VpZCBcIitlKX0sZS5wcm90b3R5cGUucDc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCtcIjpcIitlfSxlLnByb3RvdHlwZS5sNz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cy5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0cnl7dmFyIHQ9W107ZS51Ny5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7aWYoci5sZW5ndGg+bi5oaC5Wby5xbyl7Zm9yKHZhciBzPVtdLG89bi5oaC5Wby5xbztvPHIubGVuZ3RoO28rKylzLnB1c2gocltvXSk7ZS5sb2dnZXIud2FybihcIklwU3Bvb2ZpbmcgdmlvbGF0aW9uIGZvciBcIitpK1wiIC0gY2xvc2luZzogXCIrcyksdC5jb25jYXQocyl9fSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuVEQuYmoodCl9KX1jYXRjaCh0KXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hlY2tpbmcgcGVyaW9kaWMgaXAgc3Bvb2ZpbmcgdGFibGVzXCIsZS5sb2dnZXJJZCxvLmhzLmJuLnduLHQpfX0sbi5oaC5Wby5Hbyl9LGV9KCkpO3QuVm89Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxOTApLHM9cig1KSxvPXIoOTgpLGE9cigwKSxoPXIoMiksYz1yKDEpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5FNz1cIltTY29yZSBQYXJ0bmVyIFNlbGVjdGlvbl0gXCIsdC50eXBlPVwiU2NvcmVcIix0fXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUudjc9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHQuc29ydChvLkVRLmRRKSx0LnNsaWNlKDAsZSl9Y2F0Y2goZSl7cmV0dXJuIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZWxlY3RpbmcgcGFydG5lcnMgdG8gcmVtb3ZlXCIsdGhpcy5FNyxoLmhzLnZyLnByLGUpLFtdfX0sdC5wcm90b3R5cGUueTc9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3JldHVybiBpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gdC5ndWlkIT1lLnBlZXJJbmZvLmd1aWR9KSYmLTE9PXIuaW5kZXhPZihlLnBlZXJJbmZvLmd1aWQpfSkuc2xpY2UoMCxlKX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbGVjdGluZyBwYXJ0bmVycyB0byBhZGRcIix0aGlzLkU3LGguaHMudnIuZHIsZSksW119fSx0fShuLlQ3KTt0Lk9KPXU7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5FNz1cIltTY29yZSBQYXJ0bmVyIFNlbGVjdGlvbl0gXCJ9cmV0dXJuIGUucHJvdG90eXBlLk5qPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS53ai55Zy5EZygpfSkscj1hLkZyYW1ld29yay50aW1lKCksaT10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gci1lLnk4PnMuaGguSG8uQm99KTtyZXR1cm4gaS5sZW5ndGg+MD8oaS5zb3J0KG8ueVEuZFEpLGkuc2xpY2UoMCwxKVswXSk6bnVsbH1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHVwZGF0aW5nIHBhcnRuZXJzIG91dFwiLHRoaXMuRTcsaC5ocy52ci5ncixlKSxudWxsfX0sZX0oKTt0Lk5KPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDk3KSxuPXIoNSkscz1yKDApLG89cigxKSxhPXIoMiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmpNPVwiW0Jhc2VJblBhcnRuZXJTZWxlY3Rpb25dIFwiLHRoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUudWo9ZnVuY3Rpb24oZSx0LHIsaCl7dHJ5e3ZhciBjPVtdLHU9W10sbD1NYXRoLnJvdW5kKGUqKDEtbi5oaC5Oby5BbykpLHA9TWF0aC5tYXgodC5sZW5ndGgtbCwwKSxkPWUtdC5sZW5ndGgrcDtpZihwPjApe3ZhciBmPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLndqLnlnLkRnKCl9KSxnPXMuRnJhbWV3b3JrLnRpbWUoKSxFPWYuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBnLWUueTg+bi5oaC5Iby5Cb30pLHY9TWF0aC5taW4oRS5sZW5ndGgscCk7dT10aGlzLnY3KHYsRSk7dmFyIHk9W10sVD1bXTt1LmZvckVhY2goZnVuY3Rpb24oZSl7eS5wdXNoKGUuZ3VpZCksVC5wdXNoKGUuZ1EuZlEoITEpKX0pfXJldHVybiBkPjAmJihjPXRoaXMueTcoZCx0LHIsaCkpLHRoaXMubG9nZ2VyLmRlYnVnKFwiW1BBUlRdIEEvUjogXCIrZCtcIi9cIitwK1wiIFtcIitjLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5wZWVySW5mby5ndWlkLnN1YnN0cmluZygwLDgpfSkrXCIvXCIrdS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ3VpZC5zdWJzdHJpbmcoMCw4KX0pK1wiXSBQOltcIit0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ndWlkLnN1YnN0cmluZygwLDgpfSkrXCJdIE06W1wiK2gubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBlZXJJbmZvLmd1aWQuc3Vic3RyaW5nKDAsOCl9KStcIl1cIiksbmV3IGkucFEoYyx1KX1jYXRjaChlKXtyZXR1cm4gby5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHVwZGF0aW5nIGluIHBhcnRuZXJzXCIsdGhpcy5qTSxhLmhzLmxyLnVyLGUpLG5ldyBpLnBRKFtdLFtdKX19LGV9KCk7dC5UNz1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoOTcpLHM9cig1KSxvPXIoMCksYT1yKDcpLGg9cig5OCksYz1yKDIpLHU9cigxKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubTc9XCJbRGVsdGEgUGFydG5lciBTZWxlY3Rpb25dIFwifXJldHVybiBlLnByb3RvdHlwZS51aj1mdW5jdGlvbihlLHQscixpLGEpe3RyeXt0aGlzLnlEPWU7dmFyIGg9W10sbD1bXSxwPU1hdGgucm91bmQodCooMS1zLmhoLk5vLkFvKSksZD1NYXRoLm1heChyLmxlbmd0aC1wLDApLGY9dC1yLmxlbmd0aCtkO2lmKGQ+MCl7dmFyIGc9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUud2oueWcuRGcoKX0pLEU9by5GcmFtZXdvcmsudGltZSgpLHY9Zy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIEUtZS55OD5zLmhoLkhvLkJvfSkseT1NYXRoLm1pbih2Lmxlbmd0aCxkKTtsPXRoaXMudjcoeSx2KSxsLmxlbmd0aD55JiYoZis9bC5sZW5ndGgteSk7dmFyIFQ9W10sbT1bXTtsLmZvckVhY2goZnVuY3Rpb24oZSl7VC5wdXNoKGUuZ3VpZCksbS5wdXNoKGUuZ1EuZlEoITEpKX0pfXJldHVybiBmPjAmJihoPXRoaXMueTcoZixyLGksYSkpLG5ldyBuLnBRKGgsbCl9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB1cGRhdGluZyBpbiBwYXJ0bmVyc1wiLHRoaXMubTcsYy5ocy5Sci51cixlKSxuZXcgbi5wUShbXSxbXSl9fSxlLnByb3RvdHlwZS52Nz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e3Quc29ydChoLkVRLmRRKTt2YXIgaT10LnNsaWNlKDAsZSk7cmV0dXJuIHQuc2xpY2UoZSx0Lmxlbmd0aCkuZm9yRWFjaChmdW5jdGlvbihlKXtyLkk3KGUuRWspJiZpLnB1c2goZSl9KSxpfWNhdGNoKGUpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VsZWN0aW5nIHBhcnRuZXJzIHRvIHJlbW92ZVwiLHRoaXMubTcsYy5ocy5Sci5wcixlKSxbXX19LGUucHJvdG90eXBlLnk3PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXM7dHJ5e3ZhciBvPVtdLGE9W10saD1bXSxsPVtdLHA9W10sZD10aGlzLnlELmdrKCk7ZHx8KGQ9LTEpO3ZhciBmPVtdO3QuZm9yRWFjaChmdW5jdGlvbihlKXtmLnB1c2goZS5ndWlkKX0pO3ZhciBnPU1hdGguZmxvb3IoZSpzLmhoLkhvLk1vKSxFPXRoaXMueUQuVWooKTtpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wZWVySW5mby5zdHJlYW1zO2lmKHQpe3ZhciByPW4uaXNMZWFkZXIoZSx0LGQsRSk7ci5jRz9yLlM3P28ucHVzaChlKTphLnB1c2goZSk6bi5SNyhlLHMuaGguSG8uTG8pP24uSTcoZSk/cC5wdXNoKGUpOmwucHVzaChlKTpoLnB1c2goZSl9ZWxzZSBwLnB1c2goZSl9KTt2YXIgdj10aGlzLnc3KG8sYSxoLGwscCxlLGUsZyk7cmV0dXJuIHYuc2xpY2UoMCxNYXRoLm1pbih2Lmxlbmd0aCxlKSl9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZWxlY3RpbmcgcGFydG5lcnMgdG8gYWRkXCIsdGhpcy5tNyxjLmhzLlJyLmRyLGUpLFtdfX0sZS5wcm90b3R5cGUudzc9ZnVuY3Rpb24oZSx0LHIsaSxuLGgsbCxwKXt0cnl7dmFyIGQ9W10sZj1bXTtlLmxlbmd0aD4wJiZvLkZyYW1ld29yay5yYW5kb20oKTxzLmhoLkhvLkZvJiYoZT1hLnJjLnpoKGUpLGY9ZS5zbGljZSgwLE1hdGgubWluKGUubGVuZ3RoLHApKSxkLnB1c2guYXBwbHkoZCxmKSxsPWgtZi5sZW5ndGgpO3ZhciBnPVtdO3QubGVuZ3RoPjAmJih0PWEucmMuemgodCksZz10LnNsaWNlKDAsTWF0aC5taW4odC5sZW5ndGgscCkpLGQucHVzaC5hcHBseShkLGcpLGw9aC1nLmxlbmd0aCk7dmFyIEU9W107ci5sZW5ndGg+MCYmKHI9YS5yYy56aChyKSxFPXIuc2xpY2UoMCxNYXRoLm1pbihyLmxlbmd0aCxwKSksZC5wdXNoLmFwcGx5KGQsRSksbD1oLUUubGVuZ3RoKTt2YXIgdj1udWxsO2lmKGkubGVuZ3RoPjApe2k9YS5yYy56aChpKSx2PWkuc2xpY2UoMCxNYXRoLm1pbihpLmxlbmd0aCxsKSk7bD1oLSgoRS5sZW5ndGg+MD9FLmxlbmd0aDowKS12Lmxlbmd0aCl9dmFyIHk9W107cmV0dXJuIGw+MCYmbi5sZW5ndGg+MCYmKG49YS5yYy56aChuKSx5PW4uc2xpY2UoMCxNYXRoLm1pbihuLmxlbmd0aCxsKSksZC5wdXNoLmFwcGx5KGQseSkpLGR9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBncm91cGluZyBwYXJ0bmVyc1wiLHRoaXMubTcsYy5ocy5Sci55cixlKSxbXX19LGUucHJvdG90eXBlLmlzTGVhZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgcz0hMSxvPSExLGE9bmV3IGk7dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Euc2V0KGUuYml0cmF0ZSxlKX0pO3ZhciBoPW5ldyBpO3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oZSx0KXtuLmhhcyh0KSYmaC5zZXQodCxlKX0pLGgua2V5cygpLmxlbmd0aD4wJiZoLmZvckVhY2goZnVuY3Rpb24odCxpKXt2YXIgYT1uLmdldChpKTtpZihhJiZ0LnN0YXRlPj0yJiZhLnR5cGU+PTEpe3ZhciBoPWUucGVlckluZm8uaW50ZXJuYWxBcztoPjAmJmg9PXImJihvPSEwKSxzPSEwfX0pLHtjRzpzLFM3Om99fWNhdGNoKHQpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaWRlbnRpZnlpbmcgaWYgbWVtYmVyIGlzIGxlYWRlciBvciBzYW1lIHNpdGVcIix0aGlzLm03LGMuaHMuUnIuVHIse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5wZWVySW5mby5ndWlkfSkse2NHOiExLFM3OiExfX19LGUucHJvdG90eXBlLlI3PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPXRoaXMueUQuZ2V0RGVsdGEoKSxpPXRoaXMueUQuTVgoKSxuPXRoaXMuYjcoZSxpKTtyZXR1cm4oMCE9cnx8MCE9bikmJihyPG4mJnI+bit0KX1jYXRjaCh0KXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGlkZW50aWZ5aW5nIGlmIG1lbWJlciBpcyBhaGVhZCBvciBiZWhpbmQgZGVsdGFcIix0aGlzLm03LGMuaHMuUnIubXIse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5wZWVySW5mby5ndWlkfSksITF9fSxlLnByb3RvdHlwZS5JNz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9dGhpcy55RC5nZXREZWx0YSgpLHI9dGhpcy55RC5NWCgpLGk9dGhpcy5iNyhlLHIpO3JldHVybiAwPT10JiYwPT1pfHx0Pml9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpZGVudGlmeWluZyBpZiBtZW1iZXIgaXMgYmVoaW5kIG9yIG5vdCByZXRyaWV2ZWluZyB0aGUgc2FtZSBiaXRyYXRlXCIsdGhpcy5tNyxjLmhzLlJyLklyLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUucGVlckluZm8uZ3VpZH0pLCExfX0sZS5wcm90b3R5cGUuYjc9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9ZS5wZWVySW5mby5zdHJlYW1zLGk9MDtyZXR1cm4gciYmci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYml0cmF0ZT09dCYmKGk9ZS5kZWx0YSl9KSxpfWNhdGNoKHQpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmV0cmlldmluZyBkZWx0YSBmb3IgbWVtYmVyJ3MgYml0cmF0ZVwiLHRoaXMubTcsYy5ocy5Sci5Tcix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLnBlZXJJbmZvLmd1aWR9KSwwfX0sZX0oKTt0LkRKPWw7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltUaHJvdWdocHV0IFBhcnRuZXIgU2VsZWN0aW9uXSBcIix0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLk5qPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3RyeXt0aGlzLnlEPWU7dmFyIGE9dGhpcy55RC5VaigpLGg9dC5zdHJlYW1zO2lmKGgpe3ZhciBsPXIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLndqLnlnLkRnKCl9KSxwPW8uRnJhbWV3b3JrLnRpbWUoKSxkPWwuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBwLWUueTg+cy5oaC5Iby5Cb30pO2lmKDA9PWguZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlLmJpdHJhdGUpfSkubGVuZ3RoKXJldHVybiBudWxsO3ZhciBmPXRoaXMuQzcoZCksZz10aGlzLl83KGEsZik7aWYoZylyZXR1cm4gZzt2YXIgRT1hLmtleXMoKS5sZW5ndGgsdj1kLmxlbmd0aCx5PU1hdGgucm91bmQodi9FKSxUPWYua2V5cygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYS5oYXMoZSl9KSxtPW5ldyBpO1QuZm9yRWFjaChmdW5jdGlvbihlKXttLnNldChlLGYuZ2V0KGUpKX0pO3ZhciBJPXRoaXMuUDcobSx5KTtyZXR1cm4gbnVsbCE9ST9JOihoLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bS5nZXQoZS5iaXRyYXRlKTtpZihudWxsIT10KXt2YXIgcj1uLkE3KHQpO2lmKHIubGVuZ3RoPjAmJiFzLmhoLkhvLlVvKXJldHVybiByWzBdfX0pLG51bGwpfXJldHVybiBudWxsfWNhdGNoKGUpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VsZWN0aW5nIHBhcnRuZXIgdG8gdXBkYXRlIG91dFwiLHRoaXMubG9nZ2VySWQsYy5ocy5ici53cixlKSxudWxsfX0sZS5wcm90b3R5cGUuQzc9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1lLkVrLnBlZXJJbmZvLndhdGNoaW5nQml0cmF0ZTtpZihyfHwocj0tMSksdC5oYXMocikpe3ZhciBpPXQuZ2V0KHIpO2kucHVzaChlKSx0LnNldChyLGkpfWVsc2UgdC5zZXQocixbZV0pfSksdH0sZS5wcm90b3R5cGUuQTc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKDA9PWUudlEuSTUocy5oaC5PYS5BYSkpcmV0dXJuIGV9KX0sZS5wcm90b3R5cGUuUDc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyLnB1c2goe2JpdHJhdGU6dCxPNzplLmxlbmd0aH0pfSksci5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuTzc+dC5PNz8xOmUuTzc8dC5PNz8wOi0xfSk7dmFyIGk9bnVsbDtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKGUuZ2V0KHIuYml0cmF0ZSkubGVuZ3RoPnQpe3ZhciBuPWUuZ2V0KHIuYml0cmF0ZSk7bi5sZW5ndGg+MCYmKG4uc29ydChoLnlRLmRRKSxpPW5bMF0pfX0pLGl9LGUucHJvdG90eXBlLl83PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPW51bGw7aWYodC5oYXMoLTEpKWk9dC5nZXQoLTEpWzBdO2Vsc2V7dC5maWx0ZXIoZnVuY3Rpb24odCxyKXtyZXR1cm4hZS5oYXMocil9KS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5BNyhlKTtpZihuLmxlbmd0aD4wKXJldHVybiB2b2lkKGk9blswXSl9KX1yZXR1cm4gaX0sZX0oKTt0LmtKPXB9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig5KSxzPXIoMzQpLG89cigyNCksYT1yKDEwKSxoPXIoMTQpLGM9cig1KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuTjc9ITA9PT1oLkhpdmVDb25maWcuU3RhdHMuQXVkaW9BY2NvdW50aW5nLHRoaXMuRDc9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLmxvZ2dlcklkPVwiU1tcIitlLnNlc3Npb25JZCtcIl1cIix0aGlzLlVsPWUucmwuVWwsdGhpcy55RD1lLnlELHRoaXMucFgoKX0sZS5wcm90b3R5cGUuWjE9ZnVuY3Rpb24oZSl7dGhpcy5VbC5GTC5tZXRyaWNzLm1lbU49ZSx0aGlzLlVsLmlCLm1ldHJpY3MubWVtTj1lfSxlLnByb3RvdHlwZS52aj1mdW5jdGlvbihlLHQpe3RoaXMuVWwuRkwubWV0cmljcy5sb29rdXBUb3RhbCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBUb3RhbCsrLGU/KHRoaXMuVWwuRkwubWV0cmljcy5sb29rdXBOb3RGb3VuZCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBOb3RGb3VuZCsrLHRoaXMuVWwuRkwubWV0cmljcy5sb29rdXBGYWlsZWQrKyx0aGlzLlVsLmlCLm1ldHJpY3MubG9va3VwRmFpbGVkKyspOnQ/KHRoaXMuVWwuRkwubWV0cmljcy5sb29rdXBGYWlsZWQrKyx0aGlzLlVsLmlCLm1ldHJpY3MubG9va3VwRmFpbGVkKyspOih0aGlzLlVsLkZMLm1ldHJpY3MubG9va3VwUmVxRXN0YWJsaXNoZWQrKyx0aGlzLlVsLmlCLm1ldHJpY3MubG9va3VwUmVxRXN0YWJsaXNoZWQrKyl9LGUucHJvdG90eXBlLk1qPWZ1bmN0aW9uKCl7dGhpcy5VbC5GTC5tZXRyaWNzLmxvb2t1cFJlcUFjY2VwdCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBSZXFBY2NlcHQrK30sZS5wcm90b3R5cGUuUzg9ZnVuY3Rpb24oZSx0LHIsaSxuKXtpZih0aGlzLk43fHxpKXt2YXIgcz1uPT1vLmJmLndmLGE9dGhpcy5VbC5PQihlKSxoPXRoaXMuVWwuQUIoZSk7YS5wMnBTdWNjUmVxKyssYS5wMnBTdWNjUmVjZWl2ZWQrPXQsaC5wMnBTdWNjUmVxKyssaC5wMnBTdWNjUmVjZWl2ZWQrPXQscyYmKGEucDJwU3VjY1JlY2VpdmVkTG93Kz10LGgucDJwU3VjY1JlY2VpdmVkTG93Kz10KSxyPjAmJiFzJiYoYS5wMnBTdWNjUmVjZWl2ZWRMb3crPXQsaC5wMnBTdWNjUmVjZWl2ZWRMb3crPXQpfX0sZS5wcm90b3R5cGUuYjg9ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe2lmKHRoaXMuTjd8fG4pe3ZhciBhPXM9PW8uYmYud2YsaD10aGlzLlVsLk9CKGUpLGM9dGhpcy5VbC5BQihlKTtoLnAycEZhaWxSZXErKyxoLnAycFN1Y2NSZWNlaXZlZCs9dCxoLnAycEZhaWxSZWNlaXZlZCs9aS10LGMucDJwU3VjY1JlcSsrLGMucDJwU3VjY1JlY2VpdmVkKz10LGMucDJwRmFpbFJlY2VpdmVkKz1pLXQsYSYmKGgucDJwU3VjY1JlY2VpdmVkTG93Kz10LGMucDJwU3VjY1JlY2VpdmVkTG93Kz10KSxyPjAmJiFhJiYoaC5wMnBTdWNjUmVjZWl2ZWRMb3crPXQsYy5wMnBTdWNjUmVjZWl2ZWRMb3crPXQpfX0sZS5wcm90b3R5cGUuQzg9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMuTjd8fHIpe3ZhciBpPXRoaXMuVWwuT0IoZSksbj10aGlzLlVsLkFCKGUpO2kucDJwRmFpbFJlcSsrLGkucDJwRmFpbFJlY2VpdmVkKz10LG4ucDJwRmFpbFJlcSsrLG4ucDJwRmFpbFJlY2VpdmVkKz10fX0sZS5wcm90b3R5cGUuUDg9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMuTjd8fHIpe3ZhciBpPXRoaXMuVWwuT0IodCksbj10aGlzLlVsLkFCKHQpO2kucDJwU3VjY1Jlc3ArKyxpLnAycFN1Y2NTZW50Kz1lLG4ucDJwU3VjY1Jlc3ArKyxuLnAycFN1Y2NTZW50Kz1lfX0sZS5wcm90b3R5cGUuRDg9ZnVuY3Rpb24oZSx0LHIsaSl7aWYodGhpcy5ON3x8aSl7dmFyIG49dGhpcy5VbC5PQihyKSxzPXRoaXMuVWwuQUIocik7bi5wMnBQYXJ0UmVzcCsrLG4ucDJwU3VjY1NlbnQrPWUsbi5wMnBGYWlsU2VudCs9dC1lLHMucDJwUGFydFJlc3ArKyxzLnAycFN1Y2NTZW50Kz1lLHMucDJwRmFpbFNlbnQrPXQtZX19LGUucHJvdG90eXBlLk84PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLk43fHxyKXt2YXIgaT10aGlzLlVsLk9CKHQpLG49dGhpcy5VbC5BQih0KTtpLnAycEZhaWxSZXNwKyssaS5wMnBGYWlsU2VudCs9ZSxuLnAycEZhaWxSZXNwKyssbi5wMnBGYWlsU2VudCs9ZX19LGUucHJvdG90eXBlLlpNPWZ1bmN0aW9uKGUpe2U/dGhpcy5VbC5GTC5tZXRyaWNzLmJpdHJhdGVVcE4rKzp0aGlzLlVsLkZMLm1ldHJpY3MuYml0cmF0ZUR3bk4rK30sZS5wcm90b3R5cGUuTlg9ZnVuY3Rpb24oZSl7aWYoLTE9PVtuLnZjLmdjLG4udmMuRWNdLmluZGV4T2YoZS5YZigpKSl7dmFyIHQ9ZS5YZigpIT1uLnZjLmRjO2lmKCh0aGlzLk43fHx0KSYmKHRoaXMuVWwuYkIoKS5yZXFOKyssdGhpcy5VbC54TCgpLnJlcU4rKyxlLlhmKCk9PW4udmMuZmMpKXt2YXIgcj1lO2lmKHIuYml0cmF0ZSl7dmFyIGk9ci5iaXRyYXRlO3RoaXMuVWwuQ0IoaSkucmVxTisrLHRoaXMuVWwuQkwoaSkucmVxTisrfX19ZWxzZSB0aGlzLlVsLmJCKCkucmVxT3RoZXJOKyssdGhpcy5VbC54TCgpLnJlcU90aGVyTisrfSxlLnByb3RvdHlwZS4kWD1mdW5jdGlvbihlKXt2YXIgdD1lLlhmKCkhPW4udmMuZGM7aWYodGhpcy5ON3x8dCl7dmFyIHI9dGhpcy5VbC5iQigpLGk9dGhpcy5VbC54TCgpLHM9bnVsbCxhPW51bGw7aWYoLTE9PVtuLnZjLmdjLG4udmMuRWNdLmluZGV4T2YoZS5YZigpKSl7aWYoci5zcmNSZXFOKyssaS5zcmNSZXFOKyssdCl7dmFyIGg9dGhpcy5rNyhlKTtoJiYocz10aGlzLlVsLkNCKGgpLGE9dGhpcy5VbC5CTChoKSxzLnNyY1JlcU4rKyxhLnNyY1JlcU4rKyl9aWYoZS5KZigpPT1vLmJmLklmJiYoci5zcmNPdGhlclJlcU4rKyxpLnNyY090aGVyUmVxTisrLHQpKXt2YXIgaD10aGlzLms3KGUpO2gmJihzLnNyY090aGVyUmVxTisrLGEuc3JjT3RoZXJSZXFOKyspfX19fSxlLnByb3RvdHlwZS50NT1mdW5jdGlvbihlKXtpZih0aGlzLlVsLmJCKCkucDJwU3ViUmVxTisrLHRoaXMuVWwueEwoKS5wMnBTdWJSZXFOKyssZS5YZigpPT1uLnZjLmZjKXt2YXIgdD10aGlzLms3KGUpO3QmJih0aGlzLlVsLkNCKHQpLnAycFN1YlJlcU4rKyx0aGlzLlVsLkJMKHQpLnAycFN1YlJlcU4rKyl9fSxlLnByb3RvdHlwZS5MNz1mdW5jdGlvbihlLHQpe3RoaXMuTTcoZSx0aGlzLlVsLnhMKCkpLHRoaXMuTTcoZSx0aGlzLlVsLmJCKCkpO3ZhciByPXRoaXMuazcoZSk7ciYmZS5YZigpPT09bi52Yy5mYyYmKHRoaXMuTTcoZSx0aGlzLlVsLkNCKHIpKSx0aGlzLk03KGUsdGhpcy5VbC5CTChyKSkpLGlzTmFOKHQpfHwodGhpcy5VbC5GTC5tZXRyaWNzLnNyY1Rocm91Z2hwdXQ9dCl9LGUucHJvdG90eXBlLm5aPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5YZigpIT1uLnZjLmRjOyh0aGlzLk43fHxyKSYmKC0xIT1bbi52Yy5nYyxuLnZjLkVjXS5pbmRleE9mKGUuWGYoKSk/KHRoaXMuVWwuYkIoKS5yZXNwRmFsbGJhY2tPdGhlck4rKyx0aGlzLlVsLnhMKCkucmVzcEZhbGxiYWNrT3RoZXJOKyspOnRoaXMuTDcoZSx0KSl9LGUucHJvdG90eXBlLnRaPWZ1bmN0aW9uKGUsdCl7aWYoLTEhPVtuLnZjLmdjLG4udmMuRWNdLmluZGV4T2YoZS5YZigpKSl0aGlzLlVsLmJCKCkucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTisrLHRoaXMuVWwueEwoKS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOKys7ZWxzZXt2YXIgcj1lLlhmKCkhPW4udmMuZGM7aWYodGhpcy5ON3x8cilpZih0aGlzLlhNKGUudHlwZSkpe2lmKHRoaXMuVWwueEwoKS5yZXNwRmFsbGJhY2tFcnJOKyssdGhpcy5VbC5iQigpLnJlc3BGYWxsYmFja0Vyck4rKyxyKXt2YXIgaT10aGlzLms3KGUpO2kmJih0aGlzLlVsLkNCKGkpLnJlc3BGYWxsYmFja0Vyck4rKyx0aGlzLlVsLkJMKGkpLnJlc3BGYWxsYmFja0Vyck4rKyl9aWYoMD09ZS5xZi5EZiYmKHRoaXMuVWwueEwoKS5zcmNSZXNwRXJyTisrLHRoaXMuVWwuYkIoKS5zcmNSZXNwRXJyTisrLHIpKXt2YXIgaT10aGlzLms3KGUpO2kmJmUuWGYoKT09PW4udmMuZmMmJih0aGlzLlVsLkNCKGkpLnNyY1Jlc3BFcnJOKyssdGhpcy5VbC5CTChpKS5zcmNSZXNwRXJyTisrKX10aGlzLkw3KGUsdCl9ZWxzZSBpZigtMSE9Yy5oaC5Yby5Kby5pbmRleE9mKGUuS2Yuc3RhdHVzKSl0aGlzLlVsLmJCKCkuZmFsbEFnZW50RmFpbGVkUmVzcE4rKyx0aGlzLlVsLnhMKCkuZmFsbEFnZW50RmFpbGVkUmVzcE4rKyx0aGlzLlVsLmJCKCkucmVxTi0tLHRoaXMuVWwueEwoKS5yZXFOLS07ZWxzZXtpZigwPT1lLnFmLkRmJiYodGhpcy5VbC5iQigpLnNyY090aGVyUmVzcEVyck4rKyx0aGlzLlVsLnhMKCkuc3JjT3RoZXJSZXNwRXJyTisrKSwhcil7dmFyIGk9dGhpcy5rNyhlKTtpJiZlLlhmKCk9PT1uLnZjLmZjJiYodGhpcy5VbC5DQihpKS5zcmNPdGhlclJlc3BFcnJOKyssdGhpcy5VbC5CTChpKS5zcmNPdGhlclJlc3BFcnJOKyspfXRoaXMuTDcoZSx0KX19fSxlLnByb3RvdHlwZS5CWD1mdW5jdGlvbihlLHQpe2lmKHQuV3E9PW8uYmYud2YpdGhpcy5VbC54TCgpLnJlc3BQMnBOKyssdGhpcy5VbC5iQigpLnJlc3BQMnBOKys7ZWxzZSBpZih0LldxPT1vLmJmLklmKXRoaXMuVWwueEwoKS5yZXNwRmFsbGJhY2tOKyssdGhpcy5VbC5iQigpLnJlc3BGYWxsYmFja04rKztlbHNlIGlmKHQuV3E9PW8uYmYuVGYpe3RoaXMuVWwueEwoKS5sQ2FjaGVSZXNwTisrLHRoaXMuVWwuYkIoKS5sQ2FjaGVSZXNwTisrO3ZhciByPWkuRnJhbWV3b3JrLkMoKT90Lmxlbmd0aDplLmpmLmJ5dGVMZW5ndGg7dGhpcy5VbC54TCgpLmxDYWNoZVJlc3BRdCs9cix0aGlzLlVsLmJCKCkubENhY2hlUmVzcFF0Kz1yfX0sZS5wcm90b3R5cGUuelg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLlhmKCkhPW4udmMuZGM7KHRoaXMuTjd8fHIpJiZ0aGlzLkw3KGUsdCl9LGUucHJvdG90eXBlLlZYPWZ1bmN0aW9uKGUpe2lmKDAhPWUuUWYpe3RoaXMuVWwuYkIoKS5wMnBTdWJSZXNwRXJyTisrLHRoaXMuVWwueEwoKS5wMnBTdWJSZXNwRXJyTisrO2lmKGUuWGYoKT09bi52Yy5mYyl7dmFyIHQ9dGhpcy5rNyhlKTt0JiYodGhpcy5VbC5DQih0KS5wMnBTdWJSZXNwRXJyTisrLHRoaXMuVWwuQkwodCkucDJwU3ViUmVzcEVyck4rKyl9fX0sZS5wcm90b3R5cGUucjU9ZnVuY3Rpb24oZSl7aWYodGhpcy5VbC5iQigpLnAycFN1YlJlc3BFeHBOKyssdGhpcy5VbC54TCgpLnAycFN1YlJlc3BFeHBOKyssZS5YZigpPT1uLnZjLmZjKXt2YXIgdD10aGlzLms3KGUpO3QmJih0aGlzLlVsLkNCKHQpLnAycFN1YlJlc3BFeHBOKyssdGhpcy5VbC5CTCh0KS5wMnBTdWJSZXNwRXhwTisrKX19LGUucHJvdG90eXBlLk03PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5xZi5QZixpPWUucWYuRGYscz1lLnFmLkFmLG89ZS5xZi5PZixoPWUucWYuTmY7aWYoZS5YZigpIT1uLnZjLmdjKXtpZihlLnFmLkNmJiZvJiZvPHIpe3ZhciBjPW8vcjt0LnAycFN1YlJlc3BQYXJ0Tis9Yyx0aGlzLlhNKGUudHlwZSl8fCh0LnAycEFnZW5UcmFmZmljRmFpbHVyZVF0Kz1yLXMpfWlmKDAhPWgmJihoPT1yJiZ0LmxDYWNoZVJlc3BOKyssdC5sQ2FjaGVSZXNwUXQrPWUucWYuTmYpLDAhPXMpaWYocz09ciYmKHRoaXMuWE0oZS50eXBlKSYmdC5yZXNwUDJwTisrLHQucDJwU3ViUmVzcE4rKyksdC5wMnBTdWJSZXFRdCs9cix0LnAycFN1YlJlc3BRdCs9cyx0LnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0Kz1lLnFmLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0LHQucDJwRGlyZWN0UXQrPXMsZS54cS5Fay5wZWVySW5mby50eXBlPT1hLlRjLlcpdC5wMnBVZHBiUXQrPXMsdC5wMnBOYXRRdCs9cztlbHNle3ZhciB1PXRoaXMueUQuZ2soKTtpZih1JiZ1PjApaWYobnVsbCE9ZS5xcSl7dmFyIGw9ZS5xcS5pbnRlcm5hbEFzO3U9PT1sJiYodC5wMnBOYXRRdCs9cyl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiTWlzc2luZyBwYXJ0bmVyIGluZm9cIil9fWlmKDAhPWkpe2lmKHRoaXMuRjcoZS50eXBlKSYmKHQuc3JjT3RoZXJSZXFRdCs9ZS5xZi5EZiksaT09cil0aGlzLkY3KGUudHlwZSk/KHQuc3JjT3RoZXJSZXNwTisrLHQuc3JjT3RoZXJSZXNwUXQrPWUucWYuRGYsdC5zcmNPdGhlck92ZXJRdCs9ZS5xZi5EZix0LmZhbGxBZ2VudFJlc3BOKyspOnQucmVzcEZhbGxiYWNrTisrLHQuc3JjUmVzcE4rKztlbHNle3Quc3JjUmVzcEVyck4rKzt2YXIgcD1pLyhzK2kpO3QucmVzcEZhbGxiYWNrTj1wLHQucmVzcFAycE49MS1wLHRoaXMuRjcoZS50eXBlKSYmKHQuc3JjT3RoZXJSZXNwRXJyTisrLHQuc3JjT3RoZXJSZXNwUXQrPWUucWYuRGYsdC5zcmNPdGhlck92ZXJRdCs9ZS5xZi5EZix0LmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCs9ZS5xZi5EZil9dC5zcmNSZXFRdCs9ZS5xZi5EZix0LnNyY1Jlc3BRdCs9ZS5xZi5EZix0LnNyY092ZXJRdCs9ZS5xZi5EZix0aGlzLkY3KGUudHlwZSkmJih0LmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCs9ZS5xZi5rZil9fSxlLnByb3RvdHlwZS5rNz1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKGUuemYgaW5zdGFuY2VvZiBzLk5fKXt2YXIgcj1lLnpmO3IuYml0cmF0ZSYmKHQ9ci5iaXRyYXRlKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuWE09ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW8uYmYud2YmJmUhPW8uYmYuSWZ9LGUucHJvdG90eXBlLkY3PWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLlhNKGUpfSxlLnByb3RvdHlwZS5wWD1mdW5jdGlvbigpe3RoaXMuVTcoKX0sZS5wcm90b3R5cGUuaFg9ZnVuY3Rpb24oKXtpLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuRDcpLHRoaXMuRDc9bnVsbH0sZS5wcm90b3R5cGUuVTc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO251bGwhPXRoaXMuRDcmJih0aGlzLkQ3PWkuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5VbC5aVT1lLnlELkZqKCksZS5VbC5YVT1lLnlELmdrKCksZS5VbC5JQj1lLnlELmdldFB1YmxpY0lwKCl9LGMuaGguaWgucmgpKX0sZX0oKTt0LlRKPXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig1KSxzPXIoMTApLG89cigxOTQpLGE9cigxNCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkI3PSExLHRoaXMubG9nZ2VySWQ9XCJbVURQQkRpc2NvdmVyeV0gXCIsdGhpcy5INz0tMX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLng3PWUuVkosdGhpcy55RD1lLnlEfSxlLnByb3RvdHlwZS5KSj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLnZsPWUsdGhpcy5jb250ZXh0SWQ9dGhpcy55RC5nZXRDb250ZXh0SWQoKX0sZS5wcm90b3R5cGUuc3RhcnRTZXJ2ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTVEFSVCBVRFAgQlJPQURDQVNUIFNFUlZFUlwiKSx0aGlzLng3LnN0YXJ0U2VydmVyKG4uaGguVURQQnJvYWRjYXN0LlVhLGZ1bmN0aW9uKHQscil7aWYoZS5INz4tMSl7dmFyIGk9by5xNy55ZihyKTtpZihpLnV1aWQhPWUuZ3VpZCYmaS5zdHJlYW1JZD09ZS5jb250ZXh0SWQmJmkucDJwUHJvdG9jb2xWZXJzaW9uPT09bi5oaC5Iby5Ebyl7ZS5sb2dnZXIuZGVidWcoZS5sb2dnZXJJZCtcIkkgUkVDRUlWRUQgQSBNRVNTQUdFIEZST00gXCIraS51dWlkKTt2YXIgYT1uZXcgcy5iYyhzLlRjLlcsbnVsbCxpLmlzTGVhZGVyKTthLmd1aWQ9aS51dWlkLGEucHJpdmF0ZUlwU3RyaW5nPXQsYS5yYW5rVmFsdWU9aS5yYW5rVmFsdWUsZS52bC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdHKFthXSwhMSl9KX19fSl9LGUucHJvdG90eXBlLmxYPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJTVEFSVCBCUk9BRENBU1QgRVZFUlkgXCIrbi5oaC5VRFBCcm9hZGNhc3QuQmEpLC0xIT10aGlzLkg3JiZpLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuSDcpLHRoaXMuSDc9aS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLkc3KCl9LG4uaGguVURQQnJvYWRjYXN0LkJhKSx0aGlzLkc3KCl9LGUucHJvdG90eXBlLnNYPWZ1bmN0aW9uKCl7LTEhPXRoaXMuSDcmJmkuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5INyl9LGUucHJvdG90eXBlLkc3PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG8ucTcodGhpcy5jb250ZXh0SWQsdGhpcy55RC5nZXRJZCgpLHRoaXMueUQuUUcoKSx0aGlzLnlELmNrKCksbi5oaC5Iby5Ebyk7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiQlJPQURDQVNUIE1FU1NBR0UgY29udGV4dElkIFwiK2Uuc3RyZWFtSWQrXCIgaWQgXCIrZS51dWlkK1wiIHVkcHNjb3JlIFwiK2UucmFua1ZhbHVlK1wiIGxhbiBsZWFkZXIgXCIrZS5pc0xlYWRlcitcIiBwcm90b2J1ZlZlcnNpb24gXCIrZS5wMnBQcm90b2NvbFZlcnNpb24pLGEuSGl2ZUNvbmZpZy5VRFBCcm9hZGNhc3QudXNpeiYmKG4uaGguVURQQnJvYWRjYXN0LkhhPWEuSGl2ZUNvbmZpZy5VRFBCcm9hZGNhc3QudXNpeiksdGhpcy54Ny5icm9hZGNhc3Qobi5oaC5VRFBCcm9hZGNhc3QuVWEsbi5oaC5VRFBCcm9hZGNhc3QuSGEsZS52ZigpKX0sZS5wcm90b3R5cGUuVWQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcIlVEUERJU0NPVkVSWSBTRVJWRVIgQ09OTkVDVEVEXCIpLHRoaXMuQjd8fCh0aGlzLmd1aWQ9ZSx0aGlzLnN0YXJ0U2VydmVyKCksdGhpcy5sWCgpKX0sZX0oKTt0LmdKPWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuKXt0aGlzLnN0cmVhbUlkPWUsdGhpcy51dWlkPXQsdGhpcy5yYW5rVmFsdWU9cix0aGlzLmlzTGVhZGVyPWksdGhpcy5wMnBQcm90b2NvbFZlcnNpb249bn1yZXR1cm4gZS5wcm90b3R5cGUudmY9ZnVuY3Rpb24oKXt2YXIgZT17c3RyZWFtSWQ6dGhpcy5zdHJlYW1JZCx1dWlkOnRoaXMudXVpZCxyYW5rVmFsdWU6dGhpcy5yYW5rVmFsdWUsaXNMZWFkZXI6dGhpcy5pc0xlYWRlcixwMnBQcm90b2NvbFZlcnNpb246dGhpcy5wMnBQcm90b2NvbFZlcnNpb259O3JldHVybiBKU09OLnN0cmluZ2lmeShlLHRoaXMuVjcpfSxlLnByb3RvdHlwZS5WNz1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT10KXJldHVybiB0fSxlLnlmPWZ1bmN0aW9uKHQpe3ZhciByPXQsaT1KU09OLnBhcnNlKHIpO3JldHVybiBuZXcgZShpLnN0cmVhbUlkLGkudXVpZCxpLnJhbmtWYWx1ZSxpLmlzTGVhZGVyLGkucDJwUHJvdG9jb2xWZXJzaW9uKX0sZX0oKTt0LnE3PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltQcm94eVVEUEJdXCIsdGhpcy5sb2dnZXI9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMueDc9d2luZG93Lm15VWRwQnJvYWRjYXN0ZXIsdGhpcy54N3x8dGhpcy5sb2dnZXIuZXJyb3IodGhpcy5sb2dnZXJJZCtcIiBoZWxwZXIgdW5kZWZpbmVkXCIpfXJldHVybiBlLnByb3RvdHlwZS5zdGFydFNlcnZlcj1mdW5jdGlvbihlLHQpe3RyeXt0aGlzLng3JiZ0aGlzLng3LnN0YXJ0U2VydmVyKGUsdCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK2UpfX0sZS5wcm90b3R5cGUuajc9ZnVuY3Rpb24oKXt0cnl7dGhpcy54NyYmdGhpcy54Ny5qNygpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtlKX19LGUucHJvdG90eXBlLmJyb2FkY2FzdD1mdW5jdGlvbihlLHQscil7dHJ5e3RoaXMueDcmJnRoaXMueDcuYnJvYWRjYXN0KGUsdCxyKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrZSl9fSxlLnByb3RvdHlwZS5zWD1mdW5jdGlvbigpe3RyeXt0aGlzLng3JiZ0aGlzLng3LnNYKCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK2UpfX0sZS5wcm90b3R5cGUuUTc9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy54NyYmdGhpcy54Ny5RNyhlLHQpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtlKX19LGV9KCk7dC5FSj1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDg4KSxzPXIoMTk3KSxvPXIoODkpLGE9cig5MCksaD1yKDYyKSxjPXIoMjQpLHU9cigzNCksbD1yKDQpLHA9cigxKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuSzcub25lcnJvcj1mdW5jdGlvbihlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiU2hhcmVkIFdvcmtlciBlcnJvclwiLHtlcnJvcjplLm1lc3NhZ2V9KX0sdC5ZNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJXZWIgV29ya2VyIGVycm9yXCIse2Vycm9yOmUudHlwZX0pfSx0Lks3LnBvcnQuc3RhcnQoKSx0fXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuVzc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLno3KCl9LDFlMyl9LHQucHJvdG90eXBlLno3PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLks3LnBvcnQub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2UubG9nZ2VyLmRlYnVnKFwiTFJVIGxlbmd0aCA6IFwiK3QuZGF0YS5yZXNwb25zZSl9LHRoaXMubG9nZ2VyLmRlYnVnKFwiU2VuZCBtZXNzYWdlXCIpLHRoaXMuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3Lko3fSksdGhpcy5XNygpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpO2lmKHRoaXMua3EuaGFzKGUpKXIucmVzb2x2ZSghMCk7ZWxzZXt2YXIgaT0hMSxuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPSEwLHQubG9nZ2VyLmRlYnVnKFwiVk9EIENPTlRBSU5TIFRJTUVET1VUIDogXCIrZSksci5yZXNvbHZlKCExKX0sMWUzKTt0aGlzLks3LnBvcnQub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChuKSxpfHwoZS5kYXRhLnJlc3BvbnNlP3IucmVzb2x2ZSghMCk6ci5yZXNvbHZlKCExKSl9LHRoaXMuSzcub25lcnJvcj1mdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX0sdGhpcy5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuWjcsZWVlOmV9KX1yZXR1cm4gci5Tc30sdC5wcm90b3R5cGUudGVlPWZ1bmN0aW9uKGUpe3ZhciB0PWwuZGVmZXIoKSxyPXRoaXMua3EuZ2V0KGUpO2lmKG51bGwhPXIpe3ZhciBpPW51bGw7ci5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihoLkhGLkJGKHQpLmtGKCkpcmV0dXJuIGk9ZSxpLmhlYWRlcnM9ci5oZWFkZXJzLHZvaWQoaS5xcT1yLnFxKX0pLHQucmVzb2x2ZShpKX1lbHNlIHQucmVzb2x2ZShudWxsKTtyZXR1cm4gdC5Tc30sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCk7aWYodGhpcy5rcS5oYXMoZSkpdGhpcy50ZWUoZSkudGhlbihmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9KTtlbHNle3RoaXMubG9nZ2VyLmRlYnVnKFwiU0hBUkVEV09SS0VSOiBQZXJtaXNzaW9uIFJlcXVlc3QgdG8gUkVBRFwiKTt2YXIgaT1EYXRlLm5vdygpO3RoaXMucmVlKHMuWDcuaWVlLGkpLnRoZW4oZnVuY3Rpb24obil7dC5sb2dnZXIuZGVidWcoXCJTSEFSRURXT1JLRVI6IFBlcm1pc3Npb24gUmVxdWVzdCBUbyBSRUFEIDogXCIrbiksbj90Lm5lZShlKS50aGVuKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmRlYnVnKFwiU0hBUkVEV09SS0VSOiAgUmVhZCBDb21wbGV0ZWQgXCIpLHQuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnNlZSxpZDppfSksci5yZXNvbHZlKGUpfSk6ci5yZXNvbHZlKG51bGwpfSl9cmV0dXJuIHIuU3N9LHQucHJvdG90eXBlLm5lZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpLGk9bnVsbCxuPSExLGE9c2V0VGltZW91dChmdW5jdGlvbigpe249ITAsci5yZXNvbHZlKGkpfSwxZTMpO3JldHVybiB0aGlzLlk3Lm9ubWVzc2FnZT1mdW5jdGlvbihoKXtpZihjbGVhclRpbWVvdXQoYSksIW4pe2lmKGguZGF0YS5yZXNwb25zZSl7dmFyIHU9bmV3IGMuSGY7dS5DZj0hMSx1Ll9mPSEwLHUuUGY9aC5kYXRhLmRhdGEubGVuZ3RoLHUuQWY9MCx1Lk5mPWguZGF0YS5kYXRhLmxlbmd0aCx1LkRmPTAsaT1uZXcgby5HcShoLmRhdGEuZGF0YS5sZW5ndGgsaC5kYXRhLmRhdGEuY29udGVudCx1LGMuYmYuVGYpLGkuaGVhZGVycz1oLmRhdGEuZGF0YS5vZWV9ZWxzZSB0Lks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5hZWUsZWVlOmV9KTtyLnJlc29sdmUoaSl9fSx0aGlzLlk3LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuaGVlLGVlZTplfSksci5Tc30sdC5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIuZGVidWcoXCJGTFVTSElORyBJTi1NRU1PUlkgQ0FDSEVcIik7Zm9yKHZhciB0PVtdLHI9MDtyPHRoaXMuTXEubGVuZ3RoO3IrKyl0aGlzLmtxLmdldCh0aGlzLk1xW3JdKS56cXx8dC5wdXNoKHRoaXMuTXFbcl0pO3RoaXMubG9nZ2VyLmRlYnVnKFwiRmx1c2ggXCIrdC5sZW5ndGgrXCIgaW4gbWVtb3J5XCIpLHQubGVuZ3RoPjA/dGhpcy5jZWUodCkudGhlbihmdW5jdGlvbih0KXtlLnVlZSgpfSk6dGhpcy51ZWUoKX0sdC5wcm90b3R5cGUudWVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PTAscj0wO3RoaXMubG9nZ2VyLmRlYnVnKFwiUFVSR0lORyBQRVJTSVNURU5UREIncyBJTi1NRU1PUlkgQ0FDSEVcIiksdGhpcy5NcS5ldmVyeShmdW5jdGlvbihpLG4pe3ZhciBzPWUua3EuZ2V0KGkpLnNpemUoKTtyZXR1cm4gdCtzPmUuRnE/KHI9bixlLmxvZ2dlci5kZWJ1ZyhcIkNBQ0hFIFRPTyBCSUcgXCIrKHQrcykpLCExKToodCs9cywhMCl9KXx8dGhpcy5NcS5zcGxpY2Uocix0aGlzLk1xLmxlbmd0aC0xKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uua3EuZGVsZXRlKHQpfSksdGhpcy5CcSgpfSx0LnByb3RvdHlwZS5jZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIFBlcm1pc3Npb24gUmVxdWVzdCBUbyBXcml0ZSBcIik7dmFyIGk9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5yZWUocy5YNy5sZWUsaSkudGhlbihmdW5jdGlvbihuKXt0LmxvZ2dlci5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIFBlcm1pc3Npb24gUmVxdWVzdCBUbyBXUklURSA6IFwiK24pLG4/KHQubG9nZ2VyLmRlYnVnKFwiRmx1c2ggdGhlIGNvbnRlbnRzXCIpLHQucGVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5sb2dnZXIuZGVidWcoXCJTSEFSRURXT1JLRVI6ICBXUklURSBDT01QTEVURURcIiksdC5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuZGVlLGlkOml9KSxyLnJlc29sdmUoZSl9KSk6ci5yZXNvbHZlKG4pfSksci5Tc30sdC5wcm90b3R5cGUucGVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCk7cmV0dXJuIHRoaXMuZmVlKGVbMF0pLnRoZW4oZnVuY3Rpb24oaSl7aWYoaSllLnNoaWZ0KCksMD09ZS5sZW5ndGg/ci5yZXNvbHZlKCEwKTp0LnBlZShlKS50aGVuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pO2Vsc2V7dmFyIG49ITEsbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMCxlLnNoaWZ0KCksMD09ZS5sZW5ndGg/ci5yZXNvbHZlKCExKTp0LnBlZShlKS50aGVuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pfSwxZTMpO3QuWTcub25tZXNzYWdlPWZ1bmN0aW9uKGkpe2kuZGF0YSYmKHQua3EuZ2V0KGVbMF0pLnpxPSEwLHQuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LmdlZSxlZWU6ZVswXSxzaXplOnQua3EuZ2V0KGVbMF0pLnNpemUoKX0pKSxjbGVhclRpbWVvdXQobyksbnx8KGUuc2hpZnQoKSwwPT1lLmxlbmd0aD9pLmRhdGE/ci5yZXNvbHZlKCEwKTpyLnJlc29sdmUoITEpOnQucGVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSkpfSx0Llk3Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9O3ZhciBhPXQua3EuZ2V0KGVbMF0pLGM9bnVsbCx1PW51bGw7YS5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihoLkhGLkJGKHQpLmtGKCkpcmV0dXJuIGM9ZSx1PXQsdm9pZChjLmhlYWRlcnM9YS5oZWFkZXJzKX0pO3ZhciBsPXtQXzphLnpmLlpmKCksaGVhZGVyczphLmhlYWRlcnMsbGVuZ3RoOmEuc2l6ZSgpLEVlZTp1LGNvbnRlbnQ6Yy5kYXRhLHpmOmEuemZ9O3QuWTcucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy52ZWUsZGF0YTpsfSl9fSksci5Tc30sdC5wcm90b3R5cGUuZmVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCksaT0hMSxuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPSEwLHIucmVzb2x2ZSghMSl9LDFlMyk7cmV0dXJuIHRoaXMuSzcucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24ocyl7Y2xlYXJUaW1lb3V0KG4pLGl8fCh0LmxvZ2dlci5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIENPTlRBSU5TIFJFUVVFU1QgOiBcIitlK1wiIDogXCIrcy5kYXRhLnJlc3BvbnNlKSxzLmRhdGEucmVzcG9uc2U/ci5yZXNvbHZlKCEwKTpyLnJlc29sdmUoITEpKX0sdGhpcy5LNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpLHIucmVzb2x2ZSghMSl9LHRoaXMuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3Llo3LGVlZTplfSksci5Tc30sdC5wcm90b3R5cGUucmVlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWwuZGVmZXIoKSxuPSExLG89c2V0VGltZW91dChmdW5jdGlvbigpe249ITAsaS5yZXNvbHZlKCExKX0sMmUzKTtyZXR1cm4gdGhpcy5LNy5wb3J0Lm9ubWVzc2FnZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQobyksbj9lPT1zLlg3LmllZT9yLks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5zZWV9KTplPT1zLlg3LmxlZSYmci5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuZGVlfSk6aS5yZXNvbHZlKHQuZGF0YS5yZXNwb25zZSl9LHRoaXMuSzcub25lcnJvcj1mdW5jdGlvbihlKXtyLmxvZ2dlci5lcnJvcihlKX0sdGhpcy5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOmUsaWQ6dH0pLGkuU3N9LHQucHJvdG90eXBlLmlrPWZ1bmN0aW9uKGUpe3JldHVybltdfSx0LnByb3RvdHlwZS5WcT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpLGk9W10sbj1EYXRlLm5vdygpO3JldHVybiB0aGlzLnJlZShzLlg3LmllZSxuKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBvPSExLGg9c2V0VGltZW91dChmdW5jdGlvbigpe289ITAsdC5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuc2VlLGlkOm59KSxyLnJlc29sdmUoaSl9LDRlMyk7dC5ZNy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoY2xlYXJUaW1lb3V0KGgpLGUuZGF0YS5yZXNwb25zZSYmbnVsbCE9ZS5kYXRhKWZvcih2YXIgYz0wO2M8ZS5kYXRhLmVsZW1lbnRzLmxlbmd0aDtjKyspe3ZhciBsPW5ldyB1Lk5fKGUuZGF0YS5lbGVtZW50c1tjXS51cmwsZS5kYXRhLmVsZW1lbnRzW2NdLmJfLGUuZGF0YS5lbGVtZW50c1tjXS53XyxlLmRhdGEuZWxlbWVudHNbY10uQ18sZS5kYXRhLmVsZW1lbnRzW2NdLmR1cmF0aW9uLGUuZGF0YS5lbGVtZW50c1tjXS5iaXRyYXRlLGUuZGF0YS5lbGVtZW50c1tjXS5fXykscD1uZXcgYS5IcShsKTtwLmhlYWRlcnM9ZS5kYXRhLmVsZW1lbnRzW2NdLm9lZSxwLnRvdGFsU2l6ZT1lLmRhdGEuZWxlbWVudHNbY10ubGVuZ3RoLGkucHVzaChwKX10Lks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5zZWUsaWQ6bn0pLG98fHIucmVzb2x2ZShpKX0sdC5ZNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJHRVQgRUxFTUVOVFMgRVJST1JcIix7ZXJyb3I6ZX0pLHQuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnNlZSxpZDpufSl9LHQuWTcucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy55ZWV9KX19KSxyLnJlc29sdmUobnVsbCksci5Tc30sdH0obi5ZcSk7dC52Sj1kfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kubGVlPVwid3JpdGVfcmVxdWVzdFwiLGkuWjc9XCJjb250YWluc19yZXF1ZXN0XCIsaS5nZWU9XCJ3cml0ZV9pZF9vcGVyYXRpb25cIixpLmllZT1cInJlYWRfcmVxdWVzdFwiLGkuc2VlPVwicmVhZF9jb21wbGV0ZWRcIixpLmRlZT1cIndyaXRlX2NvbXBsZXRlZFwiLGkuYWVlPVwidXBkYXRlX2xydVwiLGkuSjc9XCJscnVfc3RhdHNcIixpLmhlZT1cInJlYWRfb3BlcmF0aW9uXCIsaS55ZWU9XCJyZWFkX2VsZW1lbnRzX29wZXJhdGlvblwiLGkuVGVlPVwicmVhZF9rZXlzX29wZXJhdGlvblwiLGkudmVlPVwid3JpdGVfb3BlcmF0aW9uXCIsdC5YNz1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDIwKTshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQubWluVmVyc2lvbj1cIjMuMC4wXCIsdC5yZW5kZXJTdGF0c0NhbGxiYWNrPXZvaWQgMCx0fXJldHVybiBpKHQsZSksdH0obi5IaXZlQ29tbS5PcHRpb25zLlRwKTtlLm5KPXR9KGUuT3B0aW9uc3x8KGUuT3B0aW9ucz17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMTgpLHM9cigyMSksbz1yKDIwMCksYT1yKDI2KSxoPWEuSGl2ZUNvbW0uSGl2ZVRlY2hFcnJvcixjPWEuSGl2ZUNvbW0udkUsdT1yKDcwKSxsPXIoMTkpLHA9cigyMiksZD1yKDQ2KSxmPXIoNTMpLGc9cigxNCksRT1yKDEpLHY9cig1NikseT1yKDMyKSxUPXIoNzIpLG09cigyOSksST0ocig0NCksbmF2aWdhdG9yKSxTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5sb2dnZXJJZD1cIltIaXZlSnNQcm94eV1cIix0aGlzLm1lZT0wLHRoaXMuZ0w9ZSx0aGlzLm9wdGlvbnNfPW5ldyBvLkhpdmVDb21tLk9wdGlvbnMuSWVlLHRoaXMuU2VlKHQpLHRoaXMueUwoKSx0aGlzLlVRPXJ9cmV0dXJuIGUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5FTH0sZS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LGUucHJvdG90eXBlLnZMPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnlMPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihudWxsPT10aGlzLlJlZXx8RGF0ZS5ub3coKS10aGlzLm1lZT4xZTQpe3ZhciB0PVwiLy9cIit1LnRMLmRPK1wiOlwiK3UudEwuckwrXCIvdmVyc2lvbi5qc29uXCI7dGhpcy5SZWU9cy5icCh0KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodCk7cmV0dXJuIGUuc3RhdGU9ci5zdGF0ZSxlLnZlcnNpb249ci52ZXJzaW9uLFwicmVhZHlcIj09PWUuc3RhdGU/XCJyZWFkeVwiOihlLmxvZ2dlcigpLndhcm4oZS5pZCgpK1wiQ2xpZW50IG5vdCByZWFkeTogXCIrZS5zdGF0ZSksaS5yZWplY3QobmV3IGgoYy5wRSxcInN0YXRlIFwiK2Uuc3RhdGUpKSl9LGZ1bmN0aW9uKHQpe3ZhciByPVwiQ2xpZW50IG5vdCByZWFjaGFibGVcIjtyZXR1cm4gdm9pZCAwIT10JiZ2b2lkIDAhPXQuc3RhdHVzJiYtMSE9dC5zdGF0dXMmJihyPVwiQ2xpZW50IGNoZWNrIHJldHVybmVkIFwiK3Quc3RhdHVzKSxlLmxvZ2dlcigpLndhcm4oZS5pZCgpK3IpLGkucmVqZWN0KG5ldyBoKGMucEUscikpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBoP2kucmVqZWN0KGUpOmkucmVqZWN0KG5ldyBoKGMucEUsXCJlcnJvciBwYXJzaW5nIHJlc3BvbnNlXCIpKX0pLHRoaXMubWVlPURhdGUubm93KCl9cmV0dXJuIHRoaXMuUmVlfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMueUwoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzb2x2ZVRpY2tldFByb21pc2UoZSkudGhlbihmdW5jdGlvbih0KXt2YXIgaT1yLlRMKGUsdCk7aWYobnVsbCE9aSlyZXR1cm4gVC4kdS5yZWdpc3RlckNvbW0oci5nTCxpLmlkKSxULiR1LnJlZ2lzdGVyVGVjaChyLGkuaWQpLG4uSGl2ZVJlcXVlc3RGYWN0b3J5LnJlZ2lzdGVyVGVjaChpLmlkLHIuZ2V0TmFtZSgpKSxpO3Rocm93IG5ldyBoKGMuc0UsXCJlcnJvciBnZW5lcmF0aW5nIHNlc3Npb25cIil9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaD9pLnJlamVjdChlKTppLnJlamVjdChuZXcgaChjLnNFLFwiZ2VuZXJpYyBlcnJvciByZXNvbHZpbmcgdGlja2V0XCIpKX0pfSxlLnByb3RvdHlwZS5vTD1mdW5jdGlvbihlKXt0aGlzLm9KPWV9LGUucHJvdG90eXBlLm1MPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc18uaW5pdFRpbWVvdXR9LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5tYW5pZmVzdC50b0xvd2VyQ2FzZSgpLGk9ZS50b0xvd2VyQ2FzZSgpLG49ci5pbmRleE9mKFwiLmlzbS9tYW5pZmVzdFwiKTtpZihuPi0xKXt2YXIgcz1yLnN1YnN0cmluZygwLG4pO2lmKGkuaW5kZXhPZihzKT4tMSlyZXR1cm4gaS5pbmRleE9mKFwiLmlzbS9tYW5pZmVzdChmb3JtYXQ9bXBkLXRpbWUtY3NmKVwiKT4tMT90aGlzLm9KPyh0LnRpY2tldC5Tb3VyY2VVUkw9ZSwhMCk6dGhpcy5hSih0LFwiVGhlIHBsYXllciBkb2VzIG5vdCB1c2UgSGl2ZVJlcXVlc3QsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIik6dGhpcy5hSih0LFwiUHJvdG9jb2wgbm90IHN1cHBvcnRlZCBieSBIaXZlSnNQcm94eSB0ZWNoLCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpfWVsc2UgaWYoaT09PXIpcmV0dXJuISF0aGlzLm9KfHx0aGlzLmFKKHQsXCJUaGUgcGxheWVyIGRvZXMgbm90IHVzZSBIaXZlUmVxdWVzdCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKTtyZXR1cm4hMX0sZS5wcm90b3R5cGUuYUo9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBlLnRlY2g9dGhpcy5VUSx5LkhpdmUuUmVwb3J0aW5nKCkuaW5pdFNlc3Npb24oZS50aWNrZXQudGlja2V0VXJsLCExKS50aGVuKGZ1bmN0aW9uKHQpe2UuaGwodCk7dC50aWNrZXQ7ci5sb2dnZXIoKS5kZWJ1ZyhcIltIaXZlSlNQcm94eV0gZG93bmdyYWRlIHZlcmlmaWVkIHRpY2tldCBcIitlLnRpY2tldC50aWNrZXRVcmwpLHIuZ0wudXBkYXRlUGxheWVySW5mbyh0KX0pLmZhaWwoZnVuY3Rpb24oZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBzZXNzaW9uIHdoZW4gZG93bmdyYWRpbmcgc2Vzc2lvbiB0ZWNoXCIsci5sb2dnZXJJZCx7ZXJyb3I6ZX0pfSksdGhpcy5vSiYmdGhpcy5vSi5kVSgpLHRoaXMub0o9dm9pZCAwLG4uSGl2ZVJlcXVlc3RGYWN0b3J5LnJlZ2lzdGVyVGVjaChlLmlkLHYuU3RhdHNKUy5FTCksdGhpcy5nTC5sb2dnZXIoKS53YXJuKFwiW0hpdmVKc1Byb3h5XSBcIit0KSx0aGlzLm9uRXJyb3IobmV3IGgoYy5mRSx0KSksITB9LGUucHJvdG90eXBlLm9sPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcIlN0b3BwaW5nIHNlc3Npb24gXCIrZS5pZCtcIiBbb25VbmxvYWQ6XCIrdCtcIl1cIik7dmFyIGk9XCIvL1wiK3UudEwuZE8rXCI6XCIrdS50TC5yTCtcIi9wcm94eS9cIitlLmlkK1wiL3N0b3BcIjt0JiZJLnNlbmRCZWFjb24/KEkuc2VuZEJlYWNvbihpKSx0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrZS5pZCtcIl1bYmVhY29uXVwiKSk6cy5icChpLG51bGwsIXQpLnRoZW4oZnVuY3Rpb24oKXtyLmxvZ2dlcigpLmRlYnVnKHIuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrZS5pZCtcIl1cIisodD9cIltzeW5jXVwiOlwiXCIpKX0sZnVuY3Rpb24oaSl7ci5sb2dnZXIoKS53YXJuKHIuaWQoKStcInNlc3Npb24gY2xvc2UgZXJyb3IgW1wiK2UuaWQrXCJdXCIrKHQ/XCJbc3luY11cIjpcIlwiKSxpKX0pfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlLHQpe3ZhciByPXQ/bC5NbC5JRExFOmwuTWwuTGw7dGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJpZGxlIHN0YXRlOiBcIitsLk1sW3JdKX0sZS5wcm90b3R5cGUuU0w9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49XCJwbGF5aW5nLXBvaW50PVwiK3QuUGw7bis9XCImYnVmZmVyLWxlbmd0aD1cIit0LkFsLG4rPVwiJnRvdGFsLWJ1ZmZlcmluZz1cIit0Lk9sLG4rPVwiJndpZHRoPVwiK3Qud2lkdGgsbis9XCImaGVpZ2h0PVwiK3QuaGVpZ2h0LG4rPVwiJmZ1bGxzY3JlZW49XCIrdC5ZUTt2YXIgbz1cIi8vXCIrdS50TC5kTytcIjpcIit1LnRMLnJMK1wiL3Byb3h5L1wiK2UuaWQrXCIvc3RhdHMvcHV0P1wiK247cmV0dXJuIHMuYnAobykuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gci5sb2dnZXIoKS53YXJuKHIuaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgdG8gSGl2ZSBDbGllbnRcIixlKSxpLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5DTD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPVwiLy9cIit1LnRMLmRPK1wiOlwiK3UudEwuckwrXCIvcHJveHkvXCIrZS5pZCtcIi9ldmVudD90eXBlPVwiK3Q7aWYodm9pZCAwIT1yKWZvcih2YXIgYSBpbiByKW8rPVwiJlwiK2ErXCI9XCIrclthXTtyZXR1cm4gdGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJldmVudCBcIitwLkdsLllwW3RdLHZvaWQgMCE9cj9yOlwiXCIpLHMuYnAobykuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gbi5sb2dnZXIoKS53YXJuKG4uaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgZXZlbnQgdG8gSGl2ZSBDbGllbnRcIixlKSxpLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5iZD1mdW5jdGlvbihlLHQpe3JldHVybiBpLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkVycm9yKXRyeXt0PXRoaXMub3B0aW9uc18ub25FcnJvcihlKX1jYXRjaChlKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkVycm9yIGNhbGxiYWNrXCIsdGhpcy5pZCgpLGUpfXJldHVybiB0fSxlLnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nTC5nZXRQbGF5ZXJTb3VyY2UoKTswPT09dC5pbmRleE9mKFwiLy9cIikmJih0PWxvY2F0aW9uLnByb3RvY29sK3QpO3ZhciByPXMuSXAodS50TC5jVSx1LnRMLmRPLHUudEwuckwsZS5pZCx0KTtpZihlLmF1dGhlbnRpY2F0aW9uVG9rZW4mJnRoaXMudmVyc2lvbj49XCIzLjAuMVwiP3MuX3AocixKU09OLnN0cmluZ2lmeSh7YXV0aGVudGljYXRpb25Ub2tlbjplLmF1dGhlbnRpY2F0aW9uVG9rZW59KSk6cy5icChyKSx0aGlzLnVwZGF0ZVBsYXllckluZm8oZSksZi5adS5tZSh0aGlzLmxvZ2dlcigpKSx0aGlzLm9KJiZ0aGlzLm9KLmZVKCksdGhpcy53ZWUoZSksdm9pZCAwIT10aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbil0cnl7dGhpcy5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24oZS50b0hpdmVTZXNzaW9uKCkpfWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uQWN0aXZlU2Vzc2lvbiBjYWxsYmFja1wiLHRoaXMuaWQoKSxlKX19LGUucHJvdG90eXBlLkRMPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5rTD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuTEw9ZnVuY3Rpb24oZSl7dGhpcy5nTD1lfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVyblwiW1wiK2UuRUwrXCJdIFwifSxlLnByb3RvdHlwZS5TZWU9ZnVuY3Rpb24odCl7dm9pZCAwIT10W2UuRUxdJiZzLlNwKHRbZS5FTF0sdGhpcy5vcHRpb25zXyl9LGUucHJvdG90eXBlLnJlc29sdmVUaWNrZXRQcm9taXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJyZXNvbHZpbmcgdGlja2V0OiBcIitlKTt2YXIgcj10aGlzLmJlZShlKSxuPUpTT04uc3RyaW5naWZ5KHRoaXMuQ2VlKCkpLG89bnVsbDtyZXR1cm4gdGhpcy5nTC5vcHRpb25zKCkudGVzdElkJiYoYT17fSxhW20uTC5jUl09dGhpcy5nTC5vcHRpb25zKCkudGVzdElkLG89YSksdGhpcy5sb2dnZXIoKS5kZWJ1ZyhcIk15IGhlYWRlciBcIixvKSxzLl9wKHIsbixcImFwcGxpY2F0aW9uL2pzb25cIixvKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPUpTT04ucGFyc2Uocik7cmV0dXJuIHQubG9nZ2VyKCkuZGVidWcodC5pZCgpK1wicmVzb2x2ZWQgdGlja2V0IFwiK2UrXCIgLT4gXCIraS5tYW5pZmVzdCksaX0sZnVuY3Rpb24ocil7cmV0dXJuIHQubG9nZ2VyKCkud2Fybih0LmlkKCkrXCJ0aWNrZXQgXCIrZStcIiByZXNvbHZlIGVycm9yOiBcIixyKSxpLnJlamVjdChuZXcgaChjLnNFLHIpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaD9pLnJlamVjdChlKTppLnJlamVjdChuZXcgaChjLmRFLGUpKX0pO3ZhciBhfSxlLnByb3RvdHlwZS5iZWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZW5jb2RlVVJJQ29tcG9uZW50KGUpLHMuSXAodS50TC5mTyx1LnRMLmRPLHUudEwuckwsZSxcIiZcIix0aGlzLmdMLmdldFBsdWdpbklkKCkpfSxlLnByb3RvdHlwZS5UTD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBkLkJOO3IuUk4oZSk7dmFyIGk9bmV3IG4uY2woZSxyLHQubWFuaWZlc3QsbnVsbCk7cmV0dXJuIGkuTUw9ITAsaS5pZD10LnNlc3Npb25JZCxpLnRpY2tldC5zZXNzaW9uSWQ9aS5pZCxpfSxlLnByb3RvdHlwZS5DZWU9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLkhpdmVDb25maWc9e307Zm9yKHZhciB0IGluIHdpbmRvdy5IaXZlQ29uZmlnKXtlLkhpdmVDb25maWdbdF09e307Zm9yKHZhciByIGluIHdpbmRvdy5IaXZlQ29uZmlnW3RdKWUuSGl2ZUNvbmZpZ1t0XVtyXT13aW5kb3cuSGl2ZUNvbmZpZ1t0XVtyXX1yZXR1cm4gZX0sZS5wcm90b3R5cGUud2VlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodm9pZCAwIT09Zy5IaXZlQ29uZmlnLlN0YXRzLnJlbmRlcil7dmFyIHI9XCIvL1wiK3UudEwuZE8rXCI6XCIrdS50TC5yTCtcIi9wcm94eS9cIitlLmlkK1wiL3N0YXRzL2dldFwiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBFdmVudFNvdXJjZSl7dmFyIGk9bmV3IEV2ZW50U291cmNlKHIpO2kub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3QuX2VlKGUuZGF0YSl9LGkub25lcnJvcj1mdW5jdGlvbihlKXtpLmNsb3NlKCl9fWVsc2UgdGhpcy5QZWU9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7cy5icChyKS50aGVuKGZ1bmN0aW9uKGUpe3QuX2VlKGUpfSl9LDRlMyl9fSxlLnByb3RvdHlwZS51cGRhdGVQbGF5ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1cImNvbW0tdmVyc2lvbj1cIit0aGlzLmdMLmdldENvbW1WZXJzaW9uKCk7cis9XCImcGx1Z2luLW5hbWU9XCIrdGhpcy5nTC5nZXRQbHVnaW5OYW1lKCkscis9XCImcGx1Z2luLXZlcnNpb249XCIrdGhpcy5nTC5nZXRQbHVnaW5WZXJzaW9uKCkscis9XCImcGxheWVyLXRlY2g9XCIrdGhpcy5nTC5nZXRQbGF5ZXJUZWNoKCkscis9XCImcGxheWVyLXZlcnNpb249XCIrdGhpcy5nTC5nZXRQbGF5ZXJWZXJzaW9uKCksdGhpcy5nTC5nZXRUZWxlbWV0cnlJZCgpJiYocis9XCImdGVsZW1ldHJ5LWlkPVwiK3RoaXMuZ0wuZ2V0VGVsZW1ldHJ5SWQoKSk7dmFyIG49cy5JcCh1LnRMLnVVLHUudEwuZE8sdS50TC5yTCxlLmlkLHIpO3JldHVybiBzLmJwKG4pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQubG9nZ2VyKCkuZGVidWcodC5pZCgpK1wiZXJyb3Igc2VuZGluZyBwbGF5ZXIgSW5mbyB0byBIaXZlIENsaWVudFwiLGUpLGkucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLl9lZT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9SlNPTi5wYXJzZShlKTtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYodFtyXS5odW1hbj1mdW5jdGlvbihlKXtyZXR1cm4gZT4xZTY/KGUvMWU2KS50b0ZpeGVkKDIpK1wiTUJcIjplPjFlMz8oZS8xZTMpLnRvRml4ZWQoMikrXCJLQlwiOmUrXCJCXCJ9KTtnLkhpdmVDb25maWcuU3RhdHMucmVuZGVyKHQpfWNhdGNoKGUpe2NvbnNvbGUudHJhY2UoZSl9fSxlLnByb3RvdHlwZS5sb2dnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nTC5sb2dnZXIoKX0sZX0oKTtTLkVMPVwiSGl2ZUpzUHJveHlcIix0LkhpdmVKc1Byb3h5PVN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5taW5WZXJzaW9uPVwiMy4zLjBcIix0fXJldHVybiBpKHQsZSksdH0obi5IaXZlQ29tbS5PcHRpb25zLlRwKTtlLkllZT10fShlLk9wdGlvbnN8fChlLk9wdGlvbnM9e30pKX0odC5IaXZlQ29tbXx8KHQuSGl2ZUNvbW09e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig0KSxzPXIoMTgpLG89cigyMSksYT1yKDIwKSxoPXIoMjAyKSxjPXIoMjYpLHU9cig0MiksbD1yKDI5KSxwPXIoMTkpLGQ9cigyMiksZj1yKDQ2KSxnPXIoMSksRT1oLkhpdmVDb21tLk9wdGlvbnMsdj1hLkhpdmVDb21tLk9wdGlvbnMubXAseT1jLkhpdmVDb21tLkhpdmVUZWNoRXJyb3IsVD1jLkhpdmVDb21tLnZFLG09cig0NCk7dC5BZWU9bmF2aWdhdG9yO3ZhciBJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdH0ocy5jbCksUz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLm1lZT0wLHRoaXMuZ0w9ZSx0aGlzLm9wdGlvbnNfPW5ldyBFLk9lZSx0aGlzLlNlZSh0KSxvLlJwKHdpbmRvdy5sb2NhdGlvbi5ocmVmLG5ldyB2LHRoaXMub3B0aW9uc18pfXJldHVybiBlLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGUuRUx9LGUucHJvdG90eXBlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJzaW9ufSxlLnByb3RvdHlwZS52TD1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS55TD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYobnVsbD09dGhpcy5SZWV8fERhdGUubm93KCktdGhpcy5tZWU+MWU0KXt2YXIgdD1uZXcgbTt0LkFkKG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciByPXQuak8oKTtpZihcIklFXCI9PT1yLm5hbWUmJnIudmVyc2lvbiYmcGFyc2VJbnQoci52ZXJzaW9uKTwxMClyZXR1cm4gbi5yZWplY3QobmV3IHkoVC5wRSxcIkludGVybmV0IEV4cGxvcmVyIDwgdi4xMCBub3Qgc3VwcG9ydGVkXCIpKTt0aGlzLk5lZT1EYXRlLm5vdygpLHRoaXMuRGVlPTA7dmFyIGk9XCIvL1wiK3UuZnAuZE8rXCI6XCIrdGhpcy5nTC5vcHRpb25zKCkubW9uaXRvclBvcnQrXCIvdmVyc2lvbi5qc29uXCI7dGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJ2ZXJpZnlpbmcgSGl2ZSBDbGllbnQgdmVyc2lvblwiKSx0aGlzLlJlZT1vLmJwKGkpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9SlNPTi5wYXJzZSh0KTtyZXR1cm4gZS5zdGF0ZT1yLnN0YXRlLGUudmVyc2lvbj1yLnZlcnNpb24sXCJyZWFkeVwiPT09ZS5zdGF0ZT9cImRldmVsb3BlclwiPT09ZS52ZXJzaW9ufHxlLnZlcnNpb24+PWUub3B0aW9uc18ubWluVmVyc2lvbj8oZS5EZWU9RGF0ZS5ub3coKSxlLmxvZ2dlcigpLmRlYnVnKGUuaWQoKStcIkhpdmUgQ2xpZW50IHJlYWR5IC0gdmVyc2lvbiBcIitlLnZlcnNpb24rXCIgW1wiKyhlLkRlZS1lLk5lZSkrXCJdXCIpLFwicmVhZHlcIik6KGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJDbGllbnQgdmVyc2lvbiByZXF1aXJlbWVudCBub3Qgc2F0aXNmaWVkXCIsZS5pZCgpLHt2ZXJzaW9uOmUudmVyc2lvbixtaW5WZXJzaW9uOmUub3B0aW9uc18ubWluVmVyc2lvbn0pLGUuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5KcCkpLG4ucmVqZWN0KG5ldyB5KFQuZ0UsXCJ2ZXJzaW9uIFwiK2UudmVyc2lvbikpKTooZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkNhbm5vdCBjaGVjayB2ZXJzaW9uOiBjbGllbnQgc3RhdGUgbm90IHJlYWR5XCIsZS5pZCgpLHtzdGF0ZTplLnN0YXRlfSksZS5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLnpwKSksbi5yZWplY3QobmV3IHkoVC5wRSxcInN0YXRlIFwiK2Uuc3RhdGUpKSl9LGZ1bmN0aW9uKHQpe3ZhciByPVwiQ2xpZW50IG5vdCByZWFjaGFibGVcIjtyZXR1cm4gdm9pZCAwIT10JiZ2b2lkIDAhPXQuc3RhdHVzJiYtMSE9dC5zdGF0dXMmJihyPVwiQ2xpZW50IGNoZWNrIHJldHVybmVkIGVycm9yXCIpLGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IocixlLmlkKCksdm9pZCAwIT10JiZ2b2lkIDAhPXQuc3RhdHVzJiYtMSE9dC5zdGF0dXM/e3N0YXR1czp0LnN0YXR1c306dm9pZCAwKSxlLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuV3ApKSxuLnJlamVjdChuZXcgeShULnBFLHIpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiB5KXJldHVybiBuLnJlamVjdCh0KTt2YXIgcj1cIkVycm9yIGZldGNoaW5nIEhpdmUgQ2xpZW50IHZlcnNpb25cIjtyZXR1cm4gZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihyLGUuaWQoKSx0KSxuLnJlamVjdChuZXcgeShULnBFLHIpKX0pLHRoaXMubWVlPURhdGUubm93KCl9cmV0dXJuIHRoaXMuUmVlfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMub3B0aW9uc18ubWluVmVyc2lvbiE9dS5mcC52T3x8dGhpcy5nTC5vcHRpb25zKCkudGVzdElkP3RoaXMueUwoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIua2VlKGUpLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlamVjdChlKX0pfSk6dGhpcy5rZWUoZSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLm1MPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc18uaW5pdFRpbWVvdXR9LGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXhPZih0LkxlZSk+LTF9LGUucHJvdG90eXBlLm9sPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpczt0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcIlN0b3BwaW5nIHNlc3Npb24gXCIrZS5pZCtcIiBbY29tcGxldGUgY2xvc2U6XCIrcitcIl1cIik7dmFyIG49XCIvL1wiK3UuZnAuZE8rXCI6XCIrdGhpcy5nTC5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uP2FjdGlvbj1zdG9wXCI7bis9XCImY3VycmVudFNlc3Npb249XCIrZS5pZCxyJiYobis9XCImY29tcGxldGVTdG9wPXRydWVcIiksciYmdC5BZWUuc2VuZEJlYWNvbj8odC5BZWUuc2VuZEJlYWNvbihuKSx0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrZS5pZCtcIl1bYmVhY29uXVwiKSk6by5icChuLG51bGwsIXIpLnRoZW4oZnVuY3Rpb24oKXtpLmxvZ2dlcigpLmRlYnVnKGkuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrZS5pZCtcIl1cIisocj9cIltzeW5jXVwiOlwiXCIpKX0sZnVuY3Rpb24odCl7aS5sb2dnZXIoKS53YXJuKGkuaWQoKStcInNlc3Npb24gY2xvc2UgZXJyb3IgW1wiK2UuaWQrXCJdXCIrKHI/XCJbc3luY11cIjpcIlwiKSx0KX0pfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlLHQpe3RoaXMuTWVlPXQ/cC5NbC5JRExFOnAuTWwuTGwsdGhpcy5sb2dnZXIoKS5ub3RpY2UoXCJbSGl2ZUNvbW1dIGNsaWVudCBzdGF0ZTogXCIrcC5NbFt0aGlzLk1lZV0pfSxlLnByb3RvdHlwZS5TTD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuTWVlPT1wLk1sLklETEUpcmV0dXJuIG4ucmVzb2x2ZSghMCk7dmFyIHI9XCJwbGF5aW5nLXBvaW50PVwiK3QuUGw7cis9XCImYnVmZmVyLWxlbmd0aD1cIit0LkFsLHIrPVwiJnRvdGFsLWJ1ZmZlcmluZz1cIit0Lk9sLHIrPVwiJndpZHRoPVwiK3Qud2lkdGgscis9XCImaGVpZ2h0PVwiK3QuaGVpZ2h0LHIrPVwiJmZ1bGxzY3JlZW49XCIrdC5ZUTt2YXIgaT1lLkxlZStcInN0YXRzP1wiK3I7cmV0dXJuIHRoaXMubG9nZ2VyKCkudHJhY2UoaSksby5icChpKX0sZS5wcm90b3R5cGUuQ0w9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7aWYoISh0IT09ZC5HbC5ZcC5LcCYmdCE9PWQuR2wuWXAuSElEREVOfHx0aGlzLnZlcnNpb24mJihcImRldmVsb3BlclwiPT09dGhpcy52ZXJzaW9ufHx0aGlzLnZlcnNpb24+PVwiMjAxN1wiKSkpcmV0dXJuIG4ucmVzb2x2ZSghMCk7dmFyIHM9ZS5MZWUrXCJwbGF5ZXItZXZlbnQ/dHlwZT1cIitkLkdsLllwW3RdO2lmKHZvaWQgMCE9cilmb3IodmFyIGEgaW4gcilzKz1cIiZcIithK1wiPVwiK3JbYV07cmV0dXJuIHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wiZXZlbnQgXCIrZC5HbC5ZcFt0XSx2b2lkIDAhPXI/cjpcIlwiKSxvLmJwKHMpLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIGkubG9nZ2VyKCkud2FybihpLmlkKCkrXCJlcnJvciBzZW5kaW5nIGZlZWRiYWNrIGV2ZW50IHRvIEhpdmUgQ2xpZW50XCIsZSksbi5yZWplY3QoZSl9KX0sZS5wcm90b3R5cGUuYmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5yZXNvbHZlKCEwKX0sZS5wcm90b3R5cGUudXBkYXRlUGxheWVySW5mbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuRmVlKCkpcmV0dXJuIHRoaXMubG9nZ2VyKCkud2FybihcIlBsYXllciBpbmZvIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBKYXZhIGNsaWVudCB2ZXJzaW9uXCIpLG4ucmVzb2x2ZSghMCk7dmFyIHI9XCJjb21tLXZlcnNpb249XCIrdGhpcy5nTC5nZXRDb21tVmVyc2lvbigpO3IrPVwiJnBsdWdpbi1uYW1lPVwiK3RoaXMuZ0wuZ2V0UGx1Z2luTmFtZSgpLHIrPVwiJnBsdWdpbi12ZXJzaW9uPVwiK3RoaXMuZ0wuZ2V0UGx1Z2luVmVyc2lvbigpLHIrPVwiJnBsYXllci10ZWNoPVwiK3RoaXMuZ0wuZ2V0UGxheWVyVGVjaCgpLHIrPVwiJnBsYXllci12ZXJzaW9uPVwiK3RoaXMuZ0wuZ2V0UGxheWVyVmVyc2lvbigpLHRoaXMuZ0wuZ2V0VGVsZW1ldHJ5SWQoKSYmKHIrPVwiJnRlbGVtZXRyeS1pZD1cIit0aGlzLmdMLmdldFRlbGVtZXRyeUlkKCkpO3ZhciBpPWUuTGVlK1wicGxheWVyLWluZm8/XCIrcjtyZXR1cm4gby5icChpKS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmxvZ2dlcigpLmRlYnVnKHQuaWQoKStcImVycm9yIHNlbmRpbmcgcGxheWVyIEluZm8gdG8gSGl2ZSBDbGllbnRcIixlKSxuLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkVycm9yKXRyeXt0PXRoaXMub3B0aW9uc18ub25FcnJvcihlKX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkVycm9yIGNhbGxiYWNrXCIsdGhpcy5pZCgpLGUpfXJldHVybiB0fSxlLnByb3RvdHlwZS5ETD1mdW5jdGlvbihlLHQscil7dmFyIGk9e2lzUmVhZHlJbjp0aGlzLk5lZSxpc1JlYWR5T3V0OnRoaXMuRGVlLGxlYXNlSW46dGhpcy5VZWUsbGVhc2VPdXQ6dGhpcy5CZWUscmVzb2x2ZUluOnRoaXMuSGVlLHJlc29sdmVPdXQ6dGhpcy54ZWV9O3ZvaWQgMCE9PXQmJm51bGwhPXQmJihpLnNlc3Npb25JZD10LmlkKSx2b2lkIDAhPT1yJiYoaS50b3RhbD1yKTt2YXIgbj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKTtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKGUubWVzc2FnZSx0aGlzLmlkKCksbiksdGhpcy5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLiRwLGkpKSx0aGlzLnFlZSgpfSxlLnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7aWYodGhpcy51cGRhdGVQbGF5ZXJJbmZvKGUpLHMuUmwuc2V0SXRlbShcImhpdmVBY3RpdmVTZXNzaW9uSWRcIixlLmlkKSx2b2lkIDAhPXRoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKXRyeXt0aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbihlLnRvSGl2ZVNlc3Npb24oKSl9Y2F0Y2goZSl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsdGhpcy5pZCgpLGUpfX0sZS5wcm90b3R5cGUuTEw9ZnVuY3Rpb24oZSl7dGhpcy5nTD1lfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVyblwiW1wiK2UuRUwrXCJdIFwifSxlLnByb3RvdHlwZS5TZWU9ZnVuY3Rpb24odCl7dm9pZCAwIT10W2UuRUxdJiZvLlNwKHRbZS5FTF0sdGhpcy5vcHRpb25zXyl9LGUucHJvdG90eXBlLmtlZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHRoaXMuR2VlKGUpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGk/dC5WZWUoZSxpLHIpOnQucmVzb2x2ZVRpY2tldFByb21pc2UoZSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gdC5WZWUoZSxpLHIpfSl9KX0sZS5wcm90b3R5cGUuR2VlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodGhpcy5VZWU9RGF0ZS5ub3coKSx0aGlzLmdMLm9wdGlvbnMoKS51c2VTZXNzaW9uQ2hlY2spe3ZhciBpPVwiLy9cIit1LmZwLmRPK1wiOlwiK3RoaXMuZ0wub3B0aW9ucygpLnBsYXllclBvcnQrXCIvc2Vzc2lvbj8mYWN0aW9uPWNoZWNrXCI7aSs9XCImaGl2ZVBsdWdpbklkPVwiK3RoaXMuZ0wuZ2V0UGx1Z2luSWQoKSxpKz1cIiZjYWxsYmFjaz1cIitlbmNvZGVVUklDb21wb25lbnQodCk7dmFyIG89cy5SbC5nZXRJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiKTtyZXR1cm4gcy5SbC5yZW1vdmVJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiKSxvJiYoaSs9XCImY3VycmVudFNlc3Npb249XCIrbyksdGhpcy5qZWUoKSx0aGlzLlFlZShpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLkJlZT1EYXRlLm5vdygpLGU/ci5LZWUoZSxpLHQsci5VZWUpOihyLmxvZ2dlcigpLmRlYnVnKHIuaWQoKStcInNlc3Npb24gYWxsb3dlZCBbXCIrKHIuQmVlLXIuVWVlKStcIl1cIiksITEpfSxmdW5jdGlvbih0KXtpZig0MDA9PXQuc3RhdHVzKXJldHVybiByLlllZShcImJhZCByZXF1ZXN0XCIsXCJlcnJvciByZXNvbHZpbmcgdGlja2V0XCIsdCk7aWYoNDAxPT10LnN0YXR1cylyZXR1cm4gci5ZZWUoXCJ1bmF1dGhvcml6ZWRcIixcImVycm9yIHZlcmlmeWluZyB0aGUgdGlja2V0XCIsdCk7aWYoNDAzPT10LnN0YXR1cyl7dmFyIGk9ZS5XZWUodCx2b2lkIDAsXCJzZXNzaW9uXCIpLHM9aT97emVlOml9OnZvaWQgMDtyZXR1cm4gZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcInJlcG9ydHMgYW5vdGhlciBhY3RpdmUgc2Vzc2lvblwiLHIuaWQoKSxzKSxyLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuWHAscykpLG4ucmVqZWN0KG5ldyB5KFQuZkUsXCJhbm90aGVyIGFjdGl2ZSBzZXNzaW9uXCIrKHM/XCIgW1wiK3MuemVlK1wiXVwiOlwiXCIpKSl9cmV0dXJuIDQwND09dC5zdGF0dXM/KHIubG9nZ2VyKCkuZGVidWcoci5pZCgpK1wiaW5zdGFsbGVkIHZlcnNpb24gZG9lcyBub3Qgc3VwcG9ydCBhY3RpdmUgc2Vzc2lvbiBjaGVja1wiKSxyLkJlZT1EYXRlLm5vdygpLCExKTotMT09dC5zdGF0dXM/KGNsZWFyVGltZW91dChyLkplZSksci5YZWUoKSk6KGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJ1bmhhbmRsZWQgZXJyb3IgZnJvbSBKYXZhXCIsci5pZCgpLHtlcnJvcjp0LnN0YXR1c30pLHIuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5acCkpLG4ucmVqZWN0KG5ldyB5KFQuZEUsdCkpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgeT9uLnJlamVjdChlKTooZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcInVuaGFuZGxlZCBlcnJvciBvbiByZXF1ZXN0TGVhc2VEaXJlY3RcIixyLmlkKCkse2Vycm9yOmV9KSxyLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuWnApKSxuLnJlamVjdChuZXcgeShULmRFLGUpKSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIuSmVlKX0pfXJldHVybiB0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcIkhpdmUgc2Vzc2lvbiBjaGVjayBkaXNhYmxlZCAtIHdpbGwgZGlyZWN0bHkgcmVzb2x2ZSB0aWNrZXQgKG90aGVyIGFjdGl2ZSBzZXNzaW9ucyBtYXkgZmFpbClcIiksbi5yZXNvbHZlKCExKX0sZS5wcm90b3R5cGUuUWVlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZ0wub3B0aW9ucygpLnRlc3RJZCl7aWYoIShcImRldmVsb3BlclwiIT09dGhpcy52ZXJzaW9ufHx0aGlzLnZlcnNpb248dS5mcC55TykpcmV0dXJuIG8uYnAoZSx2b2lkIDAsITAsKHQ9e30sdFtsLkwuY1JdPXRoaXMuZ0wub3B0aW9ucygpLnRlc3RJZCx0KSk7dGhpcy5sb2dnZXIoKS53YXJuKHRoaXMuaWQoKStcIlRoZSBIaXZlIENsaWVudCBWZXJzaW9uIGluc3RhbGxlZCBkb2VzIG5vdCBzdXBwb3J0IHRoZSB0ZXN0IGlkIGluIGl0cyBnZW5lcmF0ZWQgbWV0cmljc1wiKX1yZXR1cm4gby5icChlKTt2YXIgdH0sZS5wcm90b3R5cGUuWWVlPWZ1bmN0aW9uKHQscixpKXt2YXIgcz1lLldlZShpLHQpO3JldHVybiBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKHIsdGhpcy5pZCgpKSx0aGlzLnhlZT1EYXRlLm5vdygpLG4ucmVqZWN0KG5ldyB5KFQuc0UscykpfSxlLldlZT1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9XCJzdGF0dXNcIik7dmFyIGk9dDtpZihlLmJvZHkpdHJ5e2k9SlNPTi5wYXJzZShlLmJvZHkpW3JdfWNhdGNoKGUpe31yZXR1cm4gaX0sZS5wcm90b3R5cGUucmVzb2x2ZVRpY2tldFByb21pc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLkhlZT1EYXRlLm5vdygpLHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wicmVzb2x2aW5nIHRpY2tldDogXCIrZSk7dmFyIHI9dGhpcy5iZWUoZSk7cmV0dXJuIG8uYnAocixcImFwcGxpY2F0aW9uL2pzb25cIikudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gdC5LZWUoaSxyLGUsdC5IZWUpfSxmdW5jdGlvbihyKXtyZXR1cm4gciYmLTE9PXIuc3RhdHVzP3QuWGVlKCk6KGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJlcnJvciByZXNvbHZpbmcgdGlja2V0XCIsdC5pZCgpLHt0aWNrZXQ6ZX0pLG4ucmVqZWN0KG5ldyB5KFQuc0UscikpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiZXJyb3IgcGFyc2luZyB0aWNrZXQgcmVzcG9uc2VcIix0LmlkKCksZSksbi5yZWplY3QobmV3IHkoVC5kRSxlKSl9KX0sZS5wcm90b3R5cGUuS2VlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPUpTT04ucGFyc2UoZSkscz1vLiRoKHQsbi5sb2NhdGlvbik7cmV0dXJuIG4udmVyc2lvbiYmIXRoaXMudmVyc2lvbiYmKHRoaXMudmVyc2lvbj1uLnZlcnNpb24pLHRoaXMueGVlPURhdGUubm93KCksdGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJyZXNvbHZlZCB0aWNrZXQgXCIrcitcIiAtPiBcIitzK1wiIFtcIisodGhpcy54ZWUtaSkrXCJdXCIpLHN9LGUucHJvdG90eXBlLlZlZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5UTChlLHQpO2lmKG51bGwhPWkpe3ZhciBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG89bi1yO3JldHVybiBvPj10aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQmJnRoaXMuREwobmV3IHkoVC5FRSx0aGlzLmlkKCkrXCIgVGhlIHRlY2ggaW5pdGlhbGl6YXRpb24gdG9vayBtb3JlIHRoYW4gXCIrdGhpcy5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0K1wiIG1pbGxpc2Vjb25kc1wiKSxpLG8pLHMuSGl2ZVJlcXVlc3RGYWN0b3J5LnJlZ2lzdGVyVGVjaChpLmlkLHRoaXMuZ2V0TmFtZSgpKSxpfXRocm93IG5ldyB5KFQuc0UsXCJlcnJvciBnZW5lcmF0aW5nIHNlc3Npb25cIil9LGUucHJvdG90eXBlLlRMPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGYuQk47ci5STihlKTt2YXIgaT1uZXcgSShlLHIsdCxudWxsKTtpLk1MPSEwO3ZhciBuPXUuZnAuRU8scz1uLmV4ZWMoaS5tYW5pZmVzdCk7cmV0dXJuIG51bGwhPXM/KGkuTGVlPXNbMV0saS5pZD1zWzVdLGkpOm51bGx9LGUucHJvdG90eXBlLmJlZT1mdW5jdGlvbihlKXt2YXIgdD0tMT09ZS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIjtyZXR1cm4gdGhpcy5GZWUoKT9vLklwKHUuZnAuZ08sdS5mcC5kTyx0aGlzLmdMLm9wdGlvbnMoKS5wbGF5ZXJQb3J0LGUpOm8uSXAodS5mcC5mTyx1LmZwLmRPLHRoaXMuZ0wub3B0aW9ucygpLnBsYXllclBvcnQsZSx0LHRoaXMuZ0wuZ2V0UGx1Z2luSWQoKSl9LGUucHJvdG90eXBlLmplZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5KZWUmJmNsZWFyVGltZW91dCh0aGlzLkplZSksdGhpcy5KZWU9c2V0VGltZW91dChmdW5jdGlvbigpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJUaGUgTGVhc2UgUmVxdWVzdCBpcyB0YWtpbmcgbW9yZSB0aGFuIFwiK2Uub3B0aW9uc18ud2FyblNsb3dSZXNwVGltZW91dCtcIiBzZWNzXCIsZS5pZCgpKX0sdGhpcy5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0KX0sZS5wcm90b3R5cGUucWVlPWZ1bmN0aW9uKCl7dGhpcy5VZWU9MCx0aGlzLkJlZT0wLHRoaXMuSGVlPTAsdGhpcy54ZWU9MH0sZS5wcm90b3R5cGUubG9nZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ0wubG9nZ2VyKCl9LGUucHJvdG90eXBlLmtMPWZ1bmN0aW9uKCl7dGhpcy5xZWUoKX0sZS5wcm90b3R5cGUuWGVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVwiLy9cIit1LmZwLmRPK1wiOlwiK3RoaXMuZ0wub3B0aW9ucygpLm1vbml0b3JQb3J0K1wiL3ZlcnNpb24uanNvblwiO3JldHVybiB0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcImNoZWNraW5nIGlmIHRoZSBtb25pdG9yIHBvcnQgaXMgcmVhY2hhYmxlXCIpLG8uYnAodCkudGhlbihmdW5jdGlvbih0KXt2YXIgcj1KU09OLnBhcnNlKHQpO3Rocm93IGUuc3RhdGU9ci5zdGF0ZSxnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiVmVyaWZ5IGNsaWVudCBzdGF0ZVwiLGUuaWQoKSx7c3RhdGU6ZS5zdGF0ZX0pLGUuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC56cCkpLG5ldyB5KFQucEUsXCJzdGF0ZSBcIitlLnN0YXRlKX0pLmZhaWwoZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIHkpcmV0dXJuIG4ucmVqZWN0KHQpO2lmKHQmJi0xPT10LnN0YXR1cyl7dmFyIHI9XCJjbGllbnQgbm90IHJlYWNoYWJsZVwiO3JldHVybiBlLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuV3ApKSxlLmxvZ2dlcigpLndhcm4oZS5pZCgpK3IpLG4ucmVqZWN0KG5ldyB5KFQucEUscikpfXZhciByPVwiVmVyaWZ5Q2xpZW50U3RhdGUgZXJyb3JcIjtyZXR1cm4gZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihyLGUuaWQoKSx7ZXJyb3I6dH0pLGUuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC56cCkpLG4ucmVqZWN0KG5ldyB5KFQuZEUscikpfSl9LGUucHJvdG90eXBlLkZlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNfLnN1cHBvcnRMZWdhY3lDbGllbnQmJighdGhpcy52ZXJzaW9ufHx0aGlzLnZlcnNpb24uc3Vic3RyKDAsNCk8XCIyMDE2XCIpfSxlfSgpO1MuRUw9XCJIaXZlSmF2YVwiLHQuSGl2ZUphdmE9U30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyMCkscz1yKDQyKTshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQubWluVmVyc2lvbj1zLmZwLnZPLHQuaW5pdFRpbWVvdXQ9NmU0LHQud2FyblNsb3dSZXNwVGltZW91dD01ZTMsdC5zdXBwb3J0TGVnYWN5Q2xpZW50PSExLHR9cmV0dXJuIGkodCxlKSx0fShuLkhpdmVDb21tLk9wdGlvbnMuVHApO2UuT2VlPXR9KGUuT3B0aW9uc3x8KGUuT3B0aW9ucz17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpfV0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5oaXZlLm1pbi5qcy5tYXBcbiFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0ubzt2YXIgbz1uW3JdPXtpOnIsczohMSxvOnt9fTtyZXR1cm4gdFtyXS5jYWxsKG8ubyxvLG8ubyxlKSxvLnM9ITAsby5vfXZhciBuPXt9O2UudT10LGUuYz1uLGUuZD1mdW5jdGlvbih0LG4scil7ZS5wKHQsbil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2w6ITEsaDohMCxnZXQ6cn0pfSxlLm49ZnVuY3Rpb24odCl7dmFyIG49dCYmdC52P2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChuLFwiYVwiLG4pLG59LGUucD1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sZS5nPVwiXCIsZShlLm09MSl9KFtmdW5jdGlvbih0LGUsbil7LyohXG4gKlxuICogQ29weXJpZ2h0IDIwMDktMjAxNiBLcmlzIEtvd2FsIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUXG4gKiBsaWNlbnNlIGZvdW5kIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL3YxL0xJQ0VOU0VcbiAqXG4gKiBXaXRoIHBhcnRzIGJ5IFR5bGVyIENsb3NlXG4gKiBDb3B5cmlnaHQgMjAwNy0yMDA5IFR5bGVyIENsb3NlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIFggbGljZW5zZSBmb3VuZFxuICogYXQgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sXG4gKiBGb3JrZWQgYXQgcmVmX3NlbmQuanMgdmVyc2lvbjogMjAwOS0wNS0xMVxuICpcbiAqIFdpdGggcGFydHMgYnkgTWFyayBNaWxsZXJcbiAqIENvcHlyaWdodCAoQykgMjAxMSBHb29nbGUgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGJvb3RzdHJhcClib290c3RyYXAoXCJwcm9taXNlXCIsZSk7ZWxzZXt0Lm89ZSgpfX0oZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBKLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD09PU9iamVjdCh0KX1mdW5jdGlvbiBuKHQpe3JldHVyblwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiPT09dHQodCl8fHQgaW5zdGFuY2VvZiBGfWZ1bmN0aW9uIHIodCxlKXtpZihCJiZlLnN0YWNrJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJnQuc3RhY2smJi0xPT09dC5zdGFjay5pbmRleE9mKGV0KSl7Zm9yKHZhciBuPVtdLHI9ZTtyO3I9ci5zb3VyY2Upci5zdGFjayYmbi51bnNoaWZ0KHIuc3RhY2spO24udW5zaGlmdCh0LnN0YWNrKTt2YXIgaT1uLmpvaW4oXCJcXG5cIitldCtcIlxcblwiKTt0LnN0YWNrPW8oaSl9fWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlPXQuc3BsaXQoXCJcXG5cIiksbj1bXSxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPWVbcl07dShvKXx8aShvKXx8IW98fG4ucHVzaChvKX1yZXR1cm4gbi5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIGkodCl7cmV0dXJuLTEhPT10LmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKXx8LTEhPT10LmluZGV4T2YoXCIobm9kZS5qczpcIil9ZnVuY3Rpb24gcyh0KXt2YXIgZT0vYXQgLisgXFwoKC4rKTooXFxkKyk6KD86XFxkKylcXCkkLy5leGVjKHQpO2lmKGUpcmV0dXJuW2VbMV0sTnVtYmVyKGVbMl0pXTt2YXIgbj0vYXQgKFteIF0rKTooXFxkKyk6KD86XFxkKykkLy5leGVjKHQpO2lmKG4pcmV0dXJuW25bMV0sTnVtYmVyKG5bMl0pXTt2YXIgcj0vLipAKC4rKTooXFxkKykkLy5leGVjKHQpO3JldHVybiByP1tyWzFdLE51bWJlcihyWzJdKV06dm9pZCAwfWZ1bmN0aW9uIHUodCl7dmFyIGU9cyh0KTtpZighZSlyZXR1cm4hMTt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm4gbj09PU0mJnI+PXEmJnI8PXN0fWZ1bmN0aW9uIGEoKXtpZihCKXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gocil7dmFyIHQ9ci5zdGFjay5zcGxpdChcIlxcblwiKSxlPXRbMF0uaW5kZXhPZihcIkBcIik+MD90WzFdOnRbMl0sbj1zKGUpO2lmKCFuKXJldHVybjtyZXR1cm4gTT1uWzBdLG5bMV19fWZ1bmN0aW9uIGModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBkP3Q6Zyh0KT9OKHQpOncodCl9ZnVuY3Rpb24gcCgpe2Z1bmN0aW9uIHQodCl7ZT10LGMuVCYmQiYmKGkuc291cmNlPXQpLEcobixmdW5jdGlvbihlLG4pe2MuXyhmdW5jdGlvbigpe3QuSS5hcHBseSh0LG4pfSl9LHZvaWQgMCksbj12b2lkIDAscj12b2lkIDB9dmFyIGUsbj1bXSxyPVtdLG89eihwLnByb3RvdHlwZSksaT16KGQucHJvdG90eXBlKTtpZihpLkk9ZnVuY3Rpb24odCxvLGkpe3ZhciBzPVgoYXJndW1lbnRzKTtuPyhuLnB1c2gocyksXCJ3aGVuXCI9PT1vJiZpWzFdJiZyLnB1c2goaVsxXSkpOmMuXyhmdW5jdGlvbigpe2UuSS5hcHBseShlLHMpfSl9LGkudmFsdWVPZj1mdW5jdGlvbigpe2lmKG4pcmV0dXJuIGk7dmFyIHQ9eShlKTtyZXR1cm4gdih0KSYmKGU9dCksdH0saS5OPWZ1bmN0aW9uKCl7cmV0dXJuIGU/ZS5OKCk6e3N0YXRlOlwicGVuZGluZ1wifX0sYy5UJiZCKXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2godCl7aS5zdGFjaz10LnN0YWNrLnN1YnN0cmluZyh0LnN0YWNrLmluZGV4T2YoXCJcXG5cIikrMSl9cmV0dXJuIG8uaz1pLG8ucmVzb2x2ZT1mdW5jdGlvbihuKXtlfHx0KGMobikpfSxvLlI9ZnVuY3Rpb24obil7ZXx8dCh3KG4pKX0sby5yZWplY3Q9ZnVuY3Rpb24obil7ZXx8dChJKG4pKX0sby5ub3RpZnk9ZnVuY3Rpb24odCl7ZXx8RyhyLGZ1bmN0aW9uKGUsbil7Yy5fKGZ1bmN0aW9uKCl7bih0KX0pfSx2b2lkIDApfSxvfWZ1bmN0aW9uIGYodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgZT1wKCk7dHJ5e3QoZS5yZXNvbHZlLGUucmVqZWN0LGUubm90aWZ5KX1jYXRjaCh0KXtlLnJlamVjdCh0KX1yZXR1cm4gZS5rfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGYoZnVuY3Rpb24oZSxuKXtmb3IodmFyIHI9MCxvPXQubGVuZ3RoO3I8bztyKyspYyh0W3JdKS50aGVuKGUsbil9KX1mdW5jdGlvbiBkKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1mdW5jdGlvbih0KXtyZXR1cm4gSShuZXcgRXJyb3IoXCJQcm9taXNlIGRvZXMgbm90IHN1cHBvcnQgb3BlcmF0aW9uOiBcIit0KSl9KSx2b2lkIDA9PT1uJiYobj1mdW5jdGlvbigpe3JldHVybntzdGF0ZTpcInVua25vd25cIn19KTt2YXIgcj16KGQucHJvdG90eXBlKTtpZihyLkk9ZnVuY3Rpb24obixvLGkpe3ZhciBzO3RyeXtzPXRbb10/dFtvXS5hcHBseShyLGkpOmUuY2FsbChyLG8saSl9Y2F0Y2godCl7cz1JKHQpfW4mJm4ocyl9LHIuTj1uLG4pe3ZhciBvPW4oKTtcInJlamVjdGVkXCI9PT1vLnN0YXRlJiYoci5leGNlcHRpb249by5yZWFzb24pLHIudmFsdWVPZj1mdW5jdGlvbigpe3ZhciB0PW4oKTtyZXR1cm5cInBlbmRpbmdcIj09PXQuc3RhdGV8fFwicmVqZWN0ZWRcIj09PXQuc3RhdGU/cjp0LnZhbHVlfX1yZXR1cm4gcn1mdW5jdGlvbiBoKHQsZSxuLHIpe3JldHVybiBjKHQpLnRoZW4oZSxuLHIpfWZ1bmN0aW9uIHkodCl7aWYodih0KSl7dmFyIGU9dC5OKCk7aWYoXCJmdWxmaWxsZWRcIj09PWUuc3RhdGUpcmV0dXJuIGUudmFsdWV9cmV0dXJuIHR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGR9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gZSh0KSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50aGVufWZ1bmN0aW9uIEUodCl7cmV0dXJuIHYodCkmJlwicGVuZGluZ1wiPT09dC5OKCkuc3RhdGV9ZnVuY3Rpb24gbSh0KXtyZXR1cm4hdih0KXx8XCJmdWxmaWxsZWRcIj09PXQuTigpLnN0YXRlfWZ1bmN0aW9uIFQodCl7cmV0dXJuIHYodCkmJlwicmVqZWN0ZWRcIj09PXQuTigpLnN0YXRlfWZ1bmN0aW9uIFMoKXtudC5sZW5ndGg9MCxydC5sZW5ndGg9MCxpdHx8KGl0PSEwKX1mdW5jdGlvbiBfKHQsZSl7aXQmJihcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy5PJiZjLl8uRChmdW5jdGlvbigpey0xIT09SyhydCx0KSYmKHByb2Nlc3MuTyhcInVuaGFuZGxlZFJlamVjdGlvblwiLGUsdCksb3QucHVzaCh0KSl9KSxydC5wdXNoKHQpLGUmJnZvaWQgMCE9PWUuc3RhY2s/bnQucHVzaChlLnN0YWNrKTpudC5wdXNoKFwiKG5vIHN0YWNrKSBcIitlKSl9ZnVuY3Rpb24gYih0KXtpZihpdCl7dmFyIGU9SyhydCx0KTstMSE9PWUmJihcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy5PJiZjLl8uRChmdW5jdGlvbigpe3ZhciBuPUsob3QsdCk7LTEhPT1uJiYocHJvY2Vzcy5PKFwicmVqZWN0aW9uSGFuZGxlZFwiLG50W2VdLHQpLG90LnNwbGljZShuLDEpKX0pLHJ0LnNwbGljZShlLDEpLG50LnNwbGljZShlLDEpKX19ZnVuY3Rpb24gSSh0KXt2YXIgZT1kKHt3aGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZiKHRoaXMpLGU/ZSh0KTp0aGlzfX0sZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJyZWplY3RlZFwiLHJlYXNvbjp0fX0pO3JldHVybiBfKGUsdCksZX1mdW5jdGlvbiB3KHQpe3JldHVybiBkKHt3aGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0sc2V0OmZ1bmN0aW9uKGUsbil7dFtlXT1ufSxkZWxldGU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19LFA6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWU/dC5hcHBseSh2b2lkIDAsbik6dFtlXS5hcHBseSh0LG4pfSxhcHBseTpmdW5jdGlvbihlLG4pe3JldHVybiB0LmFwcGx5KGUsbil9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gWih0KX19LHZvaWQgMCxmdW5jdGlvbigpe3JldHVybntzdGF0ZTpcImZ1bGZpbGxlZFwiLHZhbHVlOnR9fSl9ZnVuY3Rpb24gTih0KXt2YXIgZT1wKCk7cmV0dXJuIGMuXyhmdW5jdGlvbigpe3RyeXt0LnRoZW4oZS5yZXNvbHZlLGUucmVqZWN0LGUubm90aWZ5KX1jYXRjaCh0KXtlLnJlamVjdCh0KX19KSxlLmt9ZnVuY3Rpb24gayh0KXtyZXR1cm4gZCh7QzpmdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsbil7cmV0dXJuIEModCxlLG4pfSxmdW5jdGlvbigpe3JldHVybiBjKHQpLk4oKX0pfWZ1bmN0aW9uIFIodCxlLG4pe3JldHVybiBjKHQpLkEoZSxuKX1mdW5jdGlvbiB4KHQpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlKXt2YXIgcztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3RvcEl0ZXJhdGlvbil7dHJ5e3M9clt0XShlKX1jYXRjaCh0KXtyZXR1cm4gSSh0KX1yZXR1cm4gcy5kb25lP2Mocy52YWx1ZSk6aChzLnZhbHVlLG8saSl9dHJ5e3M9clt0XShlKX1jYXRjaCh0KXtyZXR1cm4gbih0KT9jKHQudmFsdWUpOkkodCl9cmV0dXJuIGgocyxvLGkpfXZhciByPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLG89ZS5iaW5kKGUsXCJuZXh0XCIpLGk9ZS5iaW5kKGUsXCJ0aHJvd1wiKTtyZXR1cm4gbygpfX1mdW5jdGlvbiBPKHQpe2MuZG9uZShjLmFzeW5jKHQpKCkpfWZ1bmN0aW9uIEQodCl7dGhyb3cgbmV3IEYodCl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gUihbdGhpcyxBKGFyZ3VtZW50cyldLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX0pfX1mdW5jdGlvbiBDKHQsZSxuKXtyZXR1cm4gYyh0KS5MKGUsbil9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gaCh0LGZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1wKCk7cmV0dXJuIEcodCxmdW5jdGlvbihyLG8saSl7dmFyIHM7dihvKSYmXCJmdWxmaWxsZWRcIj09PShzPW8uTigpKS5zdGF0ZT90W2ldPXMudmFsdWU6KCsrZSxoKG8sZnVuY3Rpb24ocil7dFtpXT1yLDA9PS0tZSYmbi5yZXNvbHZlKHQpfSxuLnJlamVjdCxmdW5jdGlvbih0KXtuLm5vdGlmeSh7aW5kZXg6aSx2YWx1ZTp0fSl9KSl9LHZvaWQgMCksMD09PWUmJm4ucmVzb2x2ZSh0KSxuLmt9KX1mdW5jdGlvbiBMKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYy5yZXNvbHZlKCk7dmFyIGU9Yy5kZWZlcigpLG49MDtyZXR1cm4gRyh0LGZ1bmN0aW9uKHIsbyxpKXtmdW5jdGlvbiBzKHQpe2UucmVzb2x2ZSh0KX1mdW5jdGlvbiB1KHQpezA9PT0tLW4mJih0Lm1lc3NhZ2U9XCJRIGNhbid0IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBmcm9tIGFueSBwcm9taXNlLCBhbGwgcHJvbWlzZXMgd2VyZSByZWplY3RlZC4gTGFzdCBlcnJvciBtZXNzYWdlOiBcIit0Lm1lc3NhZ2UsZS5yZWplY3QodCkpfWZ1bmN0aW9uIGEodCl7ZS5ub3RpZnkoe2luZGV4OmksdmFsdWU6dH0pfXZhciBjPXRbaV07bisrLGgoYyxzLHUsYSl9LHZvaWQgMCksZS5rfWZ1bmN0aW9uIFYodCl7cmV0dXJuIGgodCxmdW5jdGlvbih0KXtyZXR1cm4gdD1XKHQsYyksaChBKFcodCxmdW5jdGlvbih0KXtyZXR1cm4gaCh0LFEsUSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSl9ZnVuY3Rpb24gSCh0KXtyZXR1cm4gYyh0KS5WKCl9ZnVuY3Rpb24gVSh0LGUpe3JldHVybiBjKHQpLnRoZW4odm9pZCAwLHZvaWQgMCxlKX1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIGModCkuSChlKX12YXIgQj0hMTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHQpe0I9ISF0LnN0YWNrfXZhciBNLEYscT1hKCksUT1mdW5jdGlvbigpe30sWT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHQscjtuLm5leHQ7KW49bi5uZXh0LHQ9bi5VLG4uVT12b2lkIDAscj1uLmRvbWFpbixyJiYobi5kb21haW49dm9pZCAwLHIuaigpKSxlKHQscik7Zm9yKDthLmxlbmd0aDspdD1hLnBvcCgpLGUodCk7bz0hMX1mdW5jdGlvbiBlKGUsbil7dHJ5e2UoKX1jYXRjaChlKXtpZihzKXRocm93IG4mJm4uQigpLHNldFRpbWVvdXQodCwwKSxuJiZuLmooKSxlO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSwwKX1uJiZuLkIoKX12YXIgbj17VTp2b2lkIDAsbmV4dDpudWxsfSxyPW4sbz0hMSxpPXZvaWQgMCxzPSExLHU9ITE7dHJ5e3U9bmF2aWdhdG9yJiYoXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PW5hdmlnYXRvci5hcHBOYW1lfHxudWxsIT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvKHRyaWRlbnQpLitydls6XFxzXShbXFx3XFwuXSspLitsaWtlXFxzZ2Vja28vaSkpfWNhdGNoKHQpe312YXIgYT1bXTtpZihZPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBGcmFtZXdvcmsmJkZyYW1ld29yay5NKCk/RnJhbWV3b3JrLnNldFRpbWVvdXQodCwwKToocj1yLm5leHQ9e1U6dCxkb21haW46cyYmcHJvY2Vzcy5kb21haW4sbmV4dDpudWxsfSxvfHwobz0hMCxpKCkpKX0sXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09cHJvY2Vzcy50b1N0cmluZygpJiZwcm9jZXNzLl8pcz0hMCxpPWZ1bmN0aW9uKCl7cHJvY2Vzcy5fKHQpfTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHNldEltbWVkaWF0ZXx8dSlpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgTWVzc2FnZUNoYW5uZWx8fHUpaT1mdW5jdGlvbigpe3NldFRpbWVvdXQodCwwKX07ZWxzZXt2YXIgYz1uZXcgTWVzc2FnZUNoYW5uZWw7Yy5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtpPXAsYy5wb3J0MS5vbm1lc3NhZ2U9dCx0KCl9O3ZhciBwPWZ1bmN0aW9uKCl7Yy5wb3J0Mi5wb3N0TWVzc2FnZSgwKX07aT1mdW5jdGlvbigpe3NldFRpbWVvdXQodCwwKSxwKCl9fWVsc2UgaT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3NldEltbWVkaWF0ZS5iaW5kKHdpbmRvdyx0KTpmdW5jdGlvbigpe3NldEltbWVkaWF0ZSh0KX07cmV0dXJuIFkuRD1mdW5jdGlvbih0KXthLnB1c2godCksb3x8KG89ITAsaSgpKX0sWX0oKSxKPUZ1bmN0aW9uLmNhbGwsWD10KEFycmF5LnByb3RvdHlwZS5zbGljZSksRz10KEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPXRoaXMubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7Oyl7aWYobiBpbiB0aGlzKXtlPXRoaXNbbisrXTticmVha31pZigrK24+PXIpdGhyb3cgbmV3IFR5cGVFcnJvcn1mb3IoO248cjtuKyspbiBpbiB0aGlzJiYoZT10KGUsdGhpc1tuXSxuKSk7cmV0dXJuIGV9KSxLPXQoQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKWlmKHRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfSksVz10KEFycmF5LnByb3RvdHlwZS5tYXB8fGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPVtdO3JldHVybiBHKG4sZnVuY3Rpb24obyxpLHMpe3IucHVzaCh0LmNhbGwoZSxpLHMsbikpfSx2b2lkIDApLHJ9KSx6PU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9LCQ9dChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KSxaPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCkkKHQsbikmJmUucHVzaChuKTtyZXR1cm4gZX0sdHQ9dChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtGPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZXR1cm5WYWx1ZT9SZXR1cm5WYWx1ZTpmdW5jdGlvbih0KXt0aGlzLnZhbHVlPXR9O3ZhciBldD1cIkZyb20gcHJldmlvdXMgZXZlbnQ6XCI7Yy5yZXNvbHZlPWMsYy5fPVksYy5UPSExLFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLkYmJnByb2Nlc3MuRi5xJiYoYy5UPSEwKSxjLmRlZmVyPXAscC5wcm90b3R5cGUuWT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZT90LnJlamVjdChlKTphcmd1bWVudHMubGVuZ3RoPjI/dC5yZXNvbHZlKFgoYXJndW1lbnRzLDEpKTp0LnJlc29sdmUobil9fSxjLlByb21pc2U9ZixjLms9ZixmLnJhY2U9bCxmLmFsbD1BLGYucmVqZWN0PUksZi5yZXNvbHZlPWMsYy5KPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxkLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGMuam9pbj1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLmpvaW4oZSl9LGQucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24odCl7cmV0dXJuIGMoW3RoaXMsdF0pLkEoZnVuY3Rpb24odCxlKXtpZih0PT09ZSlyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGpvaW46IG5vdCB0aGUgc2FtZTogXCIrdCtcIiBcIitlKX0pfSxjLnJhY2U9bCxkLnByb3RvdHlwZS5yYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbihjLnJhY2UpfSxjLlg9ZCxkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBQcm9taXNlXVwifSxkLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKGUpe3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QoZSk6ZX1jYXRjaCh0KXtyZXR1cm4gSSh0KX19ZnVuY3Rpb24gaSh0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXtyKHQsdSk7dHJ5e3JldHVybiBlKHQpfWNhdGNoKHQpe3JldHVybiBJKHQpfX1yZXR1cm4gSSh0KX1mdW5jdGlvbiBzKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih0KTp0fXZhciB1PXRoaXMsYT1wKCksZj0hMTtyZXR1cm4gYy5fKGZ1bmN0aW9uKCl7dS5JKGZ1bmN0aW9uKHQpe2Z8fChmPSEwLGEucmVzb2x2ZShvKHQpKSl9LFwid2hlblwiLFtmdW5jdGlvbih0KXtmfHwoZj0hMCxhLnJlc29sdmUoaSh0KSkpfV0pfSksdS5JKHZvaWQgMCxcIndoZW5cIixbdm9pZCAwLGZ1bmN0aW9uKHQpe3ZhciBlLG49ITE7dHJ5e2U9cyh0KX1jYXRjaCh0KXtpZihuPSEwLCFjLm9uZXJyb3IpdGhyb3cgdDtjLm9uZXJyb3IodCl9bnx8YS5ub3RpZnkoZSl9XSksYS5rfSxjLkc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS5HKGUpfSxkLnByb3RvdHlwZS5HPWZ1bmN0aW9uKHQpe3JldHVybiB0PWModCksdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LlcoZSkuSyhlKX0pfSxjLndoZW49aCxkLnByb3RvdHlwZS5LPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxjLks9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS5LKGUpfSxkLnByb3RvdHlwZS4kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9LGMuJD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLiQoZSl9LGMuWj15LGMudHQ9dixjLmV0PWcsYy5udD1FLGQucHJvdG90eXBlLm50PWZ1bmN0aW9uKCl7cmV0dXJuXCJwZW5kaW5nXCI9PT10aGlzLk4oKS5zdGF0ZX0sYy5ydD1tLGQucHJvdG90eXBlLnJ0PWZ1bmN0aW9uKCl7cmV0dXJuXCJmdWxmaWxsZWRcIj09PXRoaXMuTigpLnN0YXRlfSxjLm90PVQsZC5wcm90b3R5cGUub3Q9ZnVuY3Rpb24oKXtyZXR1cm5cInJlamVjdGVkXCI9PT10aGlzLk4oKS5zdGF0ZX07dmFyIG50PVtdLHJ0PVtdLG90PVtdLGl0PSEwO2MuaXQ9UyxjLnN0PWZ1bmN0aW9uKCl7cmV0dXJuIG50LnNsaWNlKCl9LGMudXQ9ZnVuY3Rpb24oKXtTKCksaXQ9ITF9LFMoKSxjLnJlamVjdD1JLGMuUj13LGMuYXQ9ayxjLkE9UixkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWxsKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsZSl9LGUpfSxjLmFzeW5jPXgsYy5jdD1PLGMucHQ9RCxjLmZ0PVAsYy5MPUMsZC5wcm90b3R5cGUuTD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1wKCk7cmV0dXJuIGMuXyhmdW5jdGlvbigpe24uSShyLnJlc29sdmUsdCxlKX0pLHIua30sYy5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS5MKFwiZ2V0XCIsW2VdKX0sZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkwoXCJnZXRcIixbdF0pfSxjLnNldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGModCkuTChcInNldFwiLFtlLG5dKX0sZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuTChcInNldFwiLFt0LGVdKX0sYy5sdD1jLmRlbGV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLkwoXCJkZWxldGVcIixbZV0pfSxkLnByb3RvdHlwZS5sdD1kLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTChcImRlbGV0ZVwiLFt0XSl9LGMuZHQ9Yy5QPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyh0KS5MKFwicG9zdFwiLFtlLG5dKX0sZC5wcm90b3R5cGUuZHQ9ZC5wcm90b3R5cGUuUD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkwoXCJwb3N0XCIsW3QsZV0pfSxjLnNlbmQ9Yy5odD1jLnl0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuTChcInBvc3RcIixbZSxYKGFyZ3VtZW50cywyKV0pfSxkLnByb3RvdHlwZS5zZW5kPWQucHJvdG90eXBlLmh0PWQucHJvdG90eXBlLnl0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkwoXCJwb3N0XCIsW3QsWChhcmd1bWVudHMsMSldKX0sYy52dD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLkwoXCJhcHBseVwiLFt2b2lkIDAsZV0pfSxkLnByb3RvdHlwZS52dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5MKFwiYXBwbHlcIixbdm9pZCAwLHRdKX0sYy5ndD1jLlc9ZnVuY3Rpb24odCl7cmV0dXJuIGModCkuTChcImFwcGx5XCIsW3ZvaWQgMCxYKGFyZ3VtZW50cywxKV0pfSxkLnByb3RvdHlwZS5XPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTChcImFwcGx5XCIsW3ZvaWQgMCxYKGFyZ3VtZW50cyldKX0sYy5FdD1mdW5jdGlvbih0KXt2YXIgZT1jKHQpLG49WChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuTChcImFwcGx5XCIsW3RoaXMsbi5jb25jYXQoWChhcmd1bWVudHMpKV0pfX0sZC5wcm90b3R5cGUuRXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9WChhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LkwoXCJhcHBseVwiLFt0aGlzLGUuY29uY2F0KFgoYXJndW1lbnRzKSldKX19LGMua2V5cz1mdW5jdGlvbih0KXtyZXR1cm4gYyh0KS5MKFwia2V5c1wiLFtdKX0sZC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkwoXCJrZXlzXCIsW10pfSxjLmFsbD1BLGQucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiBBKHRoaXMpfSxjLlR0PUwsZC5wcm90b3R5cGUuVHQ9ZnVuY3Rpb24oKXtyZXR1cm4gTCh0aGlzKX0sYy5TdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGUrXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwiK24rXCIgaW5zdGVhZC5cIixuZXcgRXJyb3IoXCJcIikuc3RhY2spLHQuYXBwbHkodCxhcmd1bWVudHMpfX0oVixcImFsbFJlc29sdmVkXCIsXCJhbGxTZXR0bGVkXCIpLGQucHJvdG90eXBlLlN0PWZ1bmN0aW9uKCl7cmV0dXJuIFYodGhpcyl9LGMuVj1ILGQucHJvdG90eXBlLlY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBBKFcodCxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQuTigpfXJldHVybiB0PWModCksdC50aGVuKGUsZSl9KSl9KX0sYy5mYWlsPWMuY2F0Y2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS50aGVuKHZvaWQgMCxlKX0sZC5wcm90b3R5cGUuZmFpbD1kLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX0sYy5wcm9ncmVzcz1VLGQucHJvdG90eXBlLnByb2dyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHZvaWQgMCx0KX0sYy5fdD1jLmZpbmFsbHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS5maW5hbGx5KGUpfSxkLnByb3RvdHlwZS5fdD1kLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe2lmKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmFwcGx5KXRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3QgYXBwbHkgZmluYWxseSBjYWxsYmFja1wiKTtyZXR1cm4gdD1jKHQpLHRoaXMudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5XKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LlcoKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgZX0pfSl9LGMuZG9uZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYyh0KS5kb25lKGUsbixyKX0sZC5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUsbil7dmFyIG89ZnVuY3Rpb24odCl7Yy5fKGZ1bmN0aW9uKCl7aWYocih0LGkpLCFjLm9uZXJyb3IpdGhyb3cgdDtjLm9uZXJyb3IodCl9KX0saT10fHxlfHxuP3RoaXMudGhlbih0LGUsbik6dGhpcztcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmcHJvY2Vzcy5kb21haW4mJihvPXByb2Nlc3MuZG9tYWluLmJpbmQobykpLGkudGhlbih2b2lkIDAsbyl9LGMudGltZW91dD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGModCkudGltZW91dChlLG4pfSxkLnByb3RvdHlwZS50aW1lb3V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49cCgpLHI9c2V0VGltZW91dChmdW5jdGlvbigpe2UmJlwic3RyaW5nXCIhPXR5cGVvZiBlfHwoZT1uZXcgRXJyb3IoZXx8XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdCtcIiBtc1wiKSxlLmNvZGU9XCJFVElNRURPVVRcIiksbi5yZWplY3QoZSl9LHQpO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHIpLG4ucmVzb2x2ZSh0KX0sZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHIpLG4ucmVqZWN0KHQpfSxuLm5vdGlmeSksbi5rfSxjLmRlbGF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXQsdD12b2lkIDApLGModCkuZGVsYXkoZSl9LGQucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49cCgpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5yZXNvbHZlKGUpfSx0KSxuLmt9KX0sYy5idD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLmJ0KGUpfSxkLnByb3RvdHlwZS5idD1mdW5jdGlvbih0KXt2YXIgZT1wKCksbj1YKHQpO3JldHVybiBuLnB1c2goZS5ZKCkpLHRoaXMudnQobikuZmFpbChlLnJlamVjdCksZS5rfSxjLkl0PWZ1bmN0aW9uKHQpe3ZhciBlPVgoYXJndW1lbnRzLDEpO3JldHVybiBjKHQpLmJ0KGUpfSxkLnByb3RvdHlwZS5JdD1mdW5jdGlvbigpe3ZhciB0PVgoYXJndW1lbnRzKSxlPXAoKTtyZXR1cm4gdC5wdXNoKGUuWSgpKSx0aGlzLnZ0KHQpLmZhaWwoZS5yZWplY3QpLGUua30sYy53dD1jLk50PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCB3cmFwIGFuIHVuZGVmaW5lZCBmdW5jdGlvblwiKTt2YXIgZT1YKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1lLmNvbmNhdChYKGFyZ3VtZW50cykpLHI9cCgpO3JldHVybiBuLnB1c2goci5ZKCkpLGModCkudnQobikuZmFpbChyLnJlamVjdCksci5rfX0sZC5wcm90b3R5cGUud3Q9ZC5wcm90b3R5cGUuTnQ9ZnVuY3Rpb24oKXt2YXIgdD1YKGFyZ3VtZW50cyk7cmV0dXJuIHQudW5zaGlmdCh0aGlzKSxjLk50LmFwcGx5KHZvaWQgMCx0KX0sYy5rdD1mdW5jdGlvbih0LGUpe3ZhciBuPVgoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9dmFyIG89bi5jb25jYXQoWChhcmd1bWVudHMpKSxpPXAoKTtyZXR1cm4gby5wdXNoKGkuWSgpKSxjKHIpLnZ0KG8pLmZhaWwoaS5yZWplY3QpLGkua319LGQucHJvdG90eXBlLmt0PWZ1bmN0aW9uKCl7dmFyIHQ9WChhcmd1bWVudHMsMCk7cmV0dXJuIHQudW5zaGlmdCh0aGlzKSxjLmt0LmFwcGx5KHZvaWQgMCx0KX0sYy5SdD1jLnh0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyh0KS54dChlLG4pfSxkLnByb3RvdHlwZS5SdD1kLnByb3RvdHlwZS54dD1mdW5jdGlvbih0LGUpe3ZhciBuPVgoZXx8W10pLHI9cCgpO3JldHVybiBuLnB1c2goci5ZKCkpLHRoaXMuTChcInBvc3RcIixbdCxuXSkuZmFpbChyLnJlamVjdCksci5rfSxjLk90PWMuRHQ9Yy5QdD1mdW5jdGlvbih0LGUpe3ZhciBuPVgoYXJndW1lbnRzLDIpLHI9cCgpO3JldHVybiBuLnB1c2goci5ZKCkpLGModCkuTChcInBvc3RcIixbZSxuXSkuZmFpbChyLnJlamVjdCksci5rfSxkLnByb3RvdHlwZS5PdD1kLnByb3RvdHlwZS5EdD1kLnByb3RvdHlwZS5QdD1mdW5jdGlvbih0KXt2YXIgZT1YKGFyZ3VtZW50cywxKSxuPXAoKTtyZXR1cm4gZS5wdXNoKG4uWSgpKSx0aGlzLkwoXCJwb3N0XCIsW3QsZV0pLmZhaWwobi5yZWplY3QpLG4ua30sYy5IPWosZC5wcm90b3R5cGUuSD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpczt0aGlzLnRoZW4oZnVuY3Rpb24oZSl7Yy5fKGZ1bmN0aW9uKCl7dChudWxsLGUpfSl9LGZ1bmN0aW9uKGUpe2MuXyhmdW5jdGlvbigpe3QoZSl9KX0pfSxjLkN0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUS5ub0NvbmZsaWN0IG9ubHkgd29ya3Mgd2hlbiBRIGlzIHVzZWQgYXMgYSBnbG9iYWxcIil9O3ZhciBzdD1hKCk7cmV0dXJuIGN9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuQXR8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG89bigwKSxpPW4oMikscz1uKDMpLHU9aS5WdC5MdDstMT09dSYmKHU9M2U0KTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIHIucGx1Z2luTmFtZT1cImJpdG1vdmluXCIsci5IdD1bXSxyLlV0PXZvaWQgMCxyLnBsYXllcj1lLHIucGxheWVyLm9yaWdpbmFsU2V0dXA9ci5wbGF5ZXIuc2V0dXAsci5wbGF5ZXIuanQ9ci5wbGF5ZXIubG9hZCxyLnBsYXllci5sb2FkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5wbGF5ZXIuY2xvc2VIaXZlU2Vzc2lvbigpLHIucGxheWVyLmp0KHQsZSxuKX0sci5wbGF5ZXIuY2xvc2VIaXZlU2Vzc2lvbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCksci5jbG9zZUhpdmVTZXNzaW9uKCksdCYmci5CdCgpfSxyLnBsYXllci5zZXR1cD1mdW5jdGlvbih0LGUpe3IuY2xvc2VIaXZlU2Vzc2lvbigpLHQuc291cmNlLmhsc190aWNrZXQmJnQuc291cmNlLmRhc2hfdGlja2V0JiYoci5sb2dnZXIoKS53YXJuKFwiVGhlIEhpdmUgcGx1Z2luIGRvZXMgbm90IHN1cHBvcnQgcHJvdmlkaW5nIGEgdGlja2V0IGZvciBib3RoIERBU0ggYW5kIEhMUyBzaW11bHRhbmVvdXNseS4gVXNpbmcgSExTIHNvdXJjZS5cIiksZGVsZXRlIHQuc291cmNlLmRhc2hfdGlja2V0KTt2YXIgbj10LnNvdXJjZS5obHNfdGlja2V0P1wiaGxzXCI6dC5zb3VyY2UuZGFzaF90aWNrZXQ/XCJkYXNoXCI6XCJcIixpPXQuc291cmNlLmhsc190aWNrZXR8fHQuc291cmNlLmRhc2hfdGlja2V0O3JldHVybiBpPyhkZWxldGUgdC5zb3VyY2VbbitcIl90aWNrZXRcIl0sci5yZXNvbHZlVGlja2V0UHJvbWlzZShpKS50aW1lb3V0KHUsci5sb2dnZXJJZCtcIkhpdmUgUGx1Z2luIGluaXRpYWxpemF0aW9uIHRpbWVvdXRcIikudGhlbihmdW5jdGlvbihvKXtyZXR1cm4gci5NdCgpLG8udGVjaC5nZXROYW1lKCk9PT1IaXZlQ29tbS5UZWNoTmFtZS5IaXZlSlMmJih0Lm5ldHdvcms9e3NlbmRIdHRwUmVxdWVzdDpyLnNlbmRIdHRwUmVxdWVzdChvLmlkKX0pLHQuc291cmNlW25dPW8ubWFuaWZlc3Qsci5wbGF5ZXIub3JpZ2luYWxTZXR1cCh0LGUpfSkuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIHIub25TZXR1cFRpbWVvdXQoKSxyLnJlc2V0U2Vzc2lvbigpLHIubG9nZ2VyKCkuZGVidWcoci5sb2dnZXJJZCtcImVycm9yIG9jY3VycmVkIHJlc29sdmluZyB0aGUgdGlja2V0IC0gXCIrKHQuc3RhY2t8fHQubWVzc2FnZXx8dCkpLG8ucmVqZWN0KHQpfSkpOihyLmxvZ2dlcigpLmRlYnVnKHIubG9nZ2VySWQrXCJObyBIaXZlIHRpY2tldCBwcm92aWRlZCwgZmFsbGluZyBiYWNrIHRvIG9yaWdpbmFsU2V0dXBcIiksci5wbGF5ZXIub3JpZ2luYWxTZXR1cCh0LGUpKX0sci5sb2dnZXIoKS5ub3RpY2Uoci5sb2dnZXJJZCtcInJlZ2lzdGVyZWQgcGx1Z2luIFtuYW1lOlwiK3IuZ2V0UGx1Z2luTmFtZSgpK1wiXVtpZDogXCIrci5nZXRQbHVnaW5JZCgpK1wiXVt2ZXJzaW9uOiBcIityLmdldFBsdWdpblZlcnNpb24oKStcIl1cIikscn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLnNlbmRIdHRwUmVxdWVzdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBlLmxvZ2dlcigpLmRlYnVnKFwic2VuZEh0dHBSZXF1ZXN0IGNhbGxlZFwiLG4sciksZS5nZXRQb3RlbnRpYWxTZXNzaW9uKCkmJm4ubWF0Y2goL21hbmlmZXN0XFwvZGFzaHxtYW5pZmVzdFxcL2hsc3xhdWRpb3x2aWRlby8pPyhlLmxvZ2dlcigpLmRlYnVnKFwiVXNpbmcgSGl2ZVJlcXVlc3RcIixuLHIpLG5ldyBzLkZ0KHIsdCkpOm51bGx9fSxlLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50PWZ1bmN0aW9uKHQsZSl7dGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHQsZSksdGhpcy5IdC5wdXNoKHtxdDp0LFF0OmV9KX0sZS5wcm90b3R5cGUuQnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5sb2dnZXJJZCtcIlVucmVnaXN0ZXJpbmcgZXZlbnRzXCIpLHRoaXMuSHQuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLnF0LHI9ZS5RdDt0LnBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIobixyKX0pLHRoaXMuSHQubGVuZ3RoPTB9LGUucHJvdG90eXBlLk10PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLkh0Lmxlbmd0aHx8KHRoaXMucmVnaXN0ZXJFdmVudChcIm9uUmVhZHlcIixmdW5jdGlvbigpe2lmKHQubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUkVBRFlcIiksdC5vbkFjdGl2YXRlU2Vzc2lvbigpKXshIXQucGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrJiZ0LnBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjay5hdXRvJiZ0Lm9uU3RhcnRCdWZmZXJpbmcoITEpLHQuZ2V0QWN0aXZlU2Vzc2lvbigpJiYodC5ZdD1uZXcgSGl2ZUNvbW0uSGl2ZVBsYXllckV4dGVuZGVkU3RhdHMpfX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uUGxheVwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QTEFZXCIpLHQuSnQoMCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvbkVycm9yXCIsZnVuY3Rpb24oZSl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9FUlJPUlwiKTt2YXIgbj0tMSxyPW51bGw7aWYobnVsbCE9ZSl0cnl7bj1lLmNvZGUscj1KU09OLnN0cmluZ2lmeShlLG51bGwpfWNhdGNoKHQpe3I9ZX10Lm9uRXJyb3IobixyKSx0LkJ0KCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblBsYXliYWNrRmluaXNoZWRcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRURcIiksdC5vbkV2ZW50RmVlZGJhY2soNCx7Y29kZToxfSl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblNlZWtcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU0VFS1wiKSx0Lm9uRXZlbnRGZWVkYmFjaygzKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uRnVsbHNjcmVlbkVudGVyXCIsZnVuY3Rpb24oKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVJcIiksdC5vbkV2ZW50RmVlZGJhY2soNyx7dmFsdWU6ITB9KX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uRnVsbHNjcmVlbkV4aXRcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElUXCIpLHQub25FdmVudEZlZWRiYWNrKDcse3ZhbHVlOiExfSl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblNlZ21lbnRSZXF1ZXN0RmluaXNoZWRcIixmdW5jdGlvbihlKXtpZih0Lll0KXt2YXIgbj1lLm1pbWVUeXBlLmluZGV4T2YoXCJ2aWRlb1wiKT49MDtpZih2b2lkIDA9PT10Llh0KXt2YXIgcj10LnBsYXllci5nZXRQbGF5YmFja1ZpZGVvRGF0YSgpO3ImJnIuYml0cmF0ZSYmdC5HdChyLmJpdHJhdGUpfWlmKGUuc3VjY2Vzcyl7aWYoIWUuaXNJbml0JiZ0Llh0KXt2YXIgbz04KmUuc2l6ZS9lLmRvd25sb2FkVGltZTt0Lll0LmFjY291bnRDb21wbGV0ZWQobix0Llh0LGUuc2l6ZSksdC5ZdC51cGRhdGVCYW5kd2lkdGgobyl9fWVsc2UgdC5ZdC5hY2NvdW50RmFpbGVkKG4sdC5YdCl9fSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25EZXN0cm95XCIsZnVuY3Rpb24oKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX0RFU1RST1lcIiksdC5wbGF5ZXIuY2xvc2VIaXZlU2Vzc2lvbighMSl9KSwwPT09dGhpcy5nZXRQbGF5ZXJWZXJzaW9uKCkuaW5kZXhPZihcIjdcIik/dGhpcy5LdCgpOjA9PT10aGlzLmdldFBsYXllclZlcnNpb24oKS5pbmRleE9mKFwiNlwiKSYmdGhpcy5XdCgpKX0sZS5wcm90b3R5cGUuV3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucmVnaXN0ZXJFdmVudChcIm9uU3RhcnRCdWZmZXJpbmdcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBUlRfQlVGRkVSSU5HXCIpLHQub25TdGFydEJ1ZmZlcmluZygpfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25TdG9wQnVmZmVyaW5nXCIsZnVuY3Rpb24oKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1NUT1BfQlVGRkVSSU5HXCIpLHQub25FbmRCdWZmZXJpbmcoKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uUGF1c2VcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUEFVU0VcIiksdC5KdCgyKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uVmlkZW9Eb3dubG9hZFF1YWxpdHlDaGFuZ2VcIixmdW5jdGlvbihlKXt0LmdldFN0cmVhbVByb3RvY29sKCk9PT1TdHJlYW1Qcm90b2NvbC56dD90Lkd0KGUudGFyZ2V0UXVhbGl0eSk6dC5HdChlLnRhcmdldFF1YWxpdHkuc3BsaXQoXCJiclwiKVsxXSl9KX0sZS5wcm90b3R5cGUuS3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucmVnaXN0ZXJFdmVudChcIm9uU3RhbGxTdGFydGVkXCIsZnVuY3Rpb24oKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURURcIiksdC5vblN0YXJ0QnVmZmVyaW5nKCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblN0YWxsRW5kZWRcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERURcIiksdC5vbkVuZEJ1ZmZlcmluZygpfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25QYXVzZWRcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUEFVU0VEXCIpLHQuSnQoMil9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblZpZGVvRG93bmxvYWRRdWFsaXR5Q2hhbmdlZFwiLGZ1bmN0aW9uKGUpe3QuR3QoZS50YXJnZXRRdWFsaXR5JiZlLnRhcmdldFF1YWxpdHkuYml0cmF0ZXx8ZS50YXJnZXRRdWFsaXR5SWQmJmUudGFyZ2V0UXVhbGl0eUlkLmJpdHJhdGUpfSl9LGUucHJvdG90eXBlLkd0PWZ1bmN0aW9uKHQpe3RoaXMubG9nZ2VyKCkuZGVidWcoXCJuZXdCaXRyYXRlXCIsdCksdGhpcy5YdCYmdD50aGlzLlh0JiZ0aGlzLll0P3RoaXMuWXQuYml0cmF0ZVN3aXRjaFVwKCk6dGhpcy5YdCYmdGhpcy5YdD50JiZ0aGlzLll0JiZ0aGlzLll0LmJpdHJhdGVTd2l0Y2hEb3duKCksdGhpcy5YdD10fSxlLnByb3RvdHlwZS5KdD1mdW5jdGlvbih0KXt2b2lkIDAhPXRoaXMuVXQmJnRoaXMuVXQ9PT10fHwodGhpcy5vbkV2ZW50RmVlZGJhY2sodCksdGhpcy5VdD10KX0sZS5wcm90b3R5cGUuZ2V0UGxheWVyU291cmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTdHJlYW1Qcm90b2NvbCgpO3JldHVybiB0PT09U3RyZWFtUHJvdG9jb2wuenQ/dGhpcy5wbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlLmhsczp0PT09U3RyZWFtUHJvdG9jb2wuREFTSD90aGlzLnBsYXllci5nZXRDb25maWcoKS5zb3VyY2UuZGFzaDp2b2lkIDB9LGUucHJvdG90eXBlLmdldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucGxheWVyP01hdGgucm91bmQoMWUzKnRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkpOjB9LGUucHJvdG90eXBlLmdldEJ1ZmZlckxlbj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnBsYXllciYmbnVsbCE9dGhpcy5wbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgmJnRoaXMucGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoKCk+MD9NYXRoLm1heCgwLE1hdGgucm91bmQoMWUzKnRoaXMucGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoKCkpKTowfSxlLnByb3RvdHlwZS5nZXRXaW5kb3dTaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5wbGF5ZXIpe3ZhciB0PXRoaXMucGxheWVyLmdldEZpZ3VyZSgpO3JldHVybnt3aWR0aDp0Lm9mZnNldFdpZHRoLGhlaWdodDp0Lm9mZnNldEhlaWdodH19fSxlLnByb3RvdHlwZS5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGF5ZXIuaXNGdWxsc2NyZWVuKCl9LGUucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5pc0xpdmUoKX0sZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvdG9jb2w9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcil7dmFyIHQ9dGhpcy5wbGF5ZXIuZ2V0U3RyZWFtVHlwZSgpO2lmKFwiaGxzXCI9PT10KXJldHVybiBTdHJlYW1Qcm90b2NvbC56dDtpZihcImRhc2hcIj09PXQpcmV0dXJuIFN0cmVhbVByb3RvY29sLkRBU0h9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEV4dGVuZGVkU3RhdHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLll0O3JldHVybiB0aGlzLll0PW5ldyBIaXZlQ29tbS5IaXZlUGxheWVyRXh0ZW5kZWRTdGF0cyx0fSxlLnByb3RvdHlwZS5nZXRQbHVnaW5OYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGx1Z2luTmFtZX0sZS5wcm90b3R5cGUuZ2V0UGx1Z2luVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbW1WZXJzaW9uKCl9LGUucHJvdG90eXBlLmdldFBsYXllclRlY2g9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcilyZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0UGxheWVyVHlwZSgpfSxlLnByb3RvdHlwZS5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PWJpdG1vdmluLnBsYXllci52ZXJzaW9uP2JpdG1vdmluLnBsYXllci52ZXJzaW9uOnRoaXMucGxheWVyLmdldFZlcnNpb24oKX0sZX0oSGl2ZUNvbW0uUGx1Z2luKTtlLiR0PWE7dmFyIGM9ZnVuY3Rpb24odCxlKXtuZXcgYSh0LGUpfTtiaXRtb3Zpbi5pbml0SGl2ZVNETj1jfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3IuWnQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfQ09NTV9KUyYmSElWRV9DT01NX0pTLHIudGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfQ09NTV9KQVZBJiZISVZFX0NPTU1fSkFWQSxyLmVlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX0NPTU1fSlNfUFJPWFkmJkhJVkVfQ09NTV9KU19QUk9YWSxyLm5lPVwiNC4xLjBcIixyLnJlPVwiYml0bW92aW5cIixyLm9lPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX1NFUlZJQ0VfRU5EUE9JTlRfVEVTVCYmSElWRV9TRVJWSUNFX0VORFBPSU5UX1RFU1Qsci5pZT1cInVuZGVmaW5lZFwiPT10eXBlb2YgSElWRV9QRVJTSVNURU5UX0lERU5USVRZfHxISVZFX1BFUlNJU1RFTlRfSURFTlRJVFksci5zZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSU5DTFVERV9WT0RfQ0FDSEUmJklOQ0xVREVfVk9EX0NBQ0hFLHIudWU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVURQX0JST0FEQ0FTVCYmSU5DTFVERV9VRFBfQlJPQURDQVNULHIuYWU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVURQX0xFQURFUl9FTEVDVElPTiYmSU5DTFVERV9VRFBfTEVBREVSX0VMRUNUSU9OLHIuY2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIExFQURFUl9TQ09SRV9FUVVBTElUWSYmTEVBREVSX1NDT1JFX0VRVUFMSVRZLHIucGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfREVGQVVMVF9ORVRXT1JLJiZJTkNMVURFX0RFRkFVTFRfTkVUV09SSyxyLmZlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX1JFU1RSSUNURURfQ09OTklORk8mJkhJVkVfUkVTVFJJQ1RFRF9DT05OSU5GTyxyLmxlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX0RJU0NPVkVSWT9ISVZFX0RJU0NPVkVSWTpcIndzOi8vMTI3LjAuMC4xOjgwMDAvaGl2ZVwiLHIuZGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFAyUERpc3BhdGNoZXJEZXRhaWxlZExvZyYmUDJQRGlzcGF0Y2hlckRldGFpbGVkTG9nLHIuaGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE5ldHdvcmtNYW5hZ2VyRGV0YWlsZWRMb2cmJk5ldHdvcmtNYW5hZ2VyRGV0YWlsZWRMb2csci55ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQVRBVFVTX0tFWT9BVEFUVVNfS0VZOlwiNTkyODM1YTZiNDIwNGRkMTk3YzAwNDg4NjEwMDAzZTBcIixyLnZlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBVEFUVVNfVkVSU0lPTj9BVEFUVVNfVkVSU0lPTjpcIjAuOFwiLHIuZ2U9XCJ1bmRlZmluZWRcIj09dHlwZW9mIEFUQVRVU19ERUZBVUxUX0VOQUJMRUR8fEFUQVRVU19ERUZBVUxUX0VOQUJMRUQsci5FZT01LHIuTHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfUExVR0lOX1RJTUVPVVQ/SElWRV9QTFVHSU5fVElNRU9VVDotMSxyLm1lPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBISVZFX0RFVEVDVF9QUklWQVRFSVB8fEhJVkVfREVURUNUX1BSSVZBVEVJUCxyLlRlPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBISVZFX1NUT1JFX0lQX0RCfHxISVZFX1NUT1JFX0lQX0RCLGUuVnQ9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNCksbz1uKDApLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5zZXNzaW9uSWQ9ZSx0aGlzLnJlcXVlc3Q9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UmVzcG9uc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9by5kZWZlcigpO3JldHVybiB0aGlzLlNlPW5ldyByLl9lKHt4aHJTZXR1cDpmdW5jdGlvbihlLG4pe2U9bmV3IEhpdmVDb21tLkhpdmVSZXF1ZXN0RmFjdG9yeSh0LnNlc3Npb25JZCksZS5vcGVuKHQucmVxdWVzdC5tZXRob2Qsbi51cmwsITApO2Zvcih2YXIgcj0wLG89dC5yZXF1ZXN0LmhlYWRlcnM7cjxvLmxlbmd0aDtyKyspe3ZhciBpPW9bcl07ZS5zZXRSZXF1ZXN0SGVhZGVyKGkubmFtZSxpLnZhbHVlKX1yZXR1cm4gZS5yZXNwb25zZVR5cGU9dC5yZXF1ZXN0LnJlc3BvbnNlVHlwZSxlfX0pLHRoaXMuU2UubG9hZCh0aGlzLnJlcXVlc3Qse30se29uU3VjY2VzczpmdW5jdGlvbihuLHIsbyl7Y29uc29sZS5sb2coXCJTVUNDRVNTIFJFUVVFU1RcIixuLHIsbyksZS5yZXNvbHZlKHtyZXF1ZXN0OnQucmVxdWVzdCx1cmw6dC5yZXF1ZXN0LnVybCxoZWFkZXJzOnQucmVxdWVzdC5oZWFkZXJzLHN0YXR1czpuLnN0YXR1cyxsZW5ndGg6bi5kYXRhLmxlbmd0aHx8bi5kYXRhLmJ5dGVMZW5ndGgsc3RhdHVzVGV4dDpcIk9LXCIsYm9keTpuLmRhdGF9KX0sb25FcnJvcjpmdW5jdGlvbih0LG4pe3ZhciByPXQuY29kZTt0LnRleHQ7ZS5yZWplY3Qocil9LG9uVGltZW91dDpmdW5jdGlvbih0LG4pe2UucmVqZWN0KFwidGltZW91dFwiKX19KSxlLmt9LHQucHJvdG90eXBlLnNldFByb2dyZXNzTGlzdGVuZXI9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLlNlJiZ0aGlzLlNlLmFib3J0KCl9LHR9KCk7ZS5GdD1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubG9nZ2VySWQ9XCJbSGl2ZVhockxvYWRlcl1cIix0aGlzLmJlPXQsdCYmdC54aHJTZXR1cCYmKHRoaXMueGhyU2V0dXA9dC54aHJTZXR1cCl9cmV0dXJuIHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFib3J0KCksdGhpcy5sb2FkZXI9bnVsbCx0aGlzLnhocj1udWxsfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubG9hZGVyfHx0aGlzLnhocjt0JiY0IT09dC5yZWFkeVN0YXRlJiYodGhpcy5zdGF0cy5JZT0hMCx0LmFib3J0KCkpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCksdGhpcy5yZXF1ZXN0VGltZW91dD1udWxsLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVvdXQpLHRoaXMucmV0cnlUaW1lb3V0PW51bGx9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuY29udGV4dD10LHRoaXMuY29uZmlnPWUsdGhpcy5jYWxsYmFja3M9bix0aGlzLnN0YXRzPXt0cmVxdWVzdDpwZXJmb3JtYW5jZS5ub3coKSxyZXRyeTowfSx0aGlzLnJldHJ5RGVsYXk9ZS5yZXRyeURlbGF5LHRoaXMud2UoKX0sdC5wcm90b3R5cGUud2U9ZnVuY3Rpb24oKXt0aGlzLnhocj1udWxsO3ZhciB0PXRoaXMuY29udGV4dCxlPXRoaXMuc3RhdHM7ZS50Zmlyc3Q9MCxlLmxvYWRlZD0wLHRoaXMueGhyU2V0dXA/dGhpcy54aHI9dGhpcy54aHJTZXR1cCh0aGlzLnhocix0KTpIaXZlQ29tbS5sb2dFcnJvcihcIkhpdmUgWEhSIHNldHVwIG1pc3NpbmdcIix0aGlzLmxvZ2dlcklkKSx0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy5yZWFkeXN0YXRlY2hhbmdlLmJpbmQodGhpcyksdGhpcy54aHIub25wcm9ncmVzcz10aGlzLmxvYWRwcm9ncmVzcy5iaW5kKHRoaXMpLHRoaXMuY29uZmlnLnRpbWVvdXQmJih0aGlzLnJlcXVlc3RUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSx0aGlzLmNvbmZpZy50aW1lb3V0KSksdGhpcy54aHIuc2VuZCgpfSx0LnByb3RvdHlwZS5yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY3VycmVudFRhcmdldCxuPWUucmVhZHlTdGF0ZSxyPXRoaXMuc3RhdHMsbz10aGlzLmNvbnRleHQsaT10aGlzLmNvbmZpZztpZighci5JZSYmbj49MilpZih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpLDA9PT1yLnRmaXJzdCYmKHIudGZpcnN0PU1hdGgubWF4KHBlcmZvcm1hbmNlLm5vdygpLHIudHJlcXVlc3QpKSw0PT09bil7dmFyIHM9ZS5zdGF0dXM7aWYocz49MjAwJiZzPDMwMCl7ci50bG9hZD1NYXRoLm1heChyLnRmaXJzdCxwZXJmb3JtYW5jZS5ub3coKSk7dmFyIHU9dm9pZCAwLGE9dm9pZCAwO1wiYXJyYXlidWZmZXJcIj09PW8ucmVzcG9uc2VUeXBlPyh1PWUucmVzcG9uc2UsYT11LmJ5dGVMZW5ndGgpOih1PWUucmVzcG9uc2VUZXh0LGE9dS5sZW5ndGgpLHIubG9hZGVkPXIudG90YWw9YTt2YXIgYz17dXJsOmUucmVzcG9uc2VVUkwsZGF0YTp1fTt0aGlzLmNhbGxiYWNrcy5vblN1Y2Nlc3MoYyxyLG8pfWVsc2Ugci5yZXRyeT49aS5OZXx8cz49NDAwJiZzPDQ5OT8oY29uc29sZS53YXJuKHMrXCIgd2hpbGUgbG9hZGluZyBcIitvLnVybCksdGhpcy5jYWxsYmFja3Mub25FcnJvcih7Y29kZTpzLHRleHQ6ZS5zdGF0dXNUZXh0fSxvKSk6KGNvbnNvbGUud2FybihzK1wiIHdoaWxlIGxvYWRpbmcgXCIrby51cmwrXCIsIHJldHJ5aW5nIGluIFwiK3RoaXMucmV0cnlEZWxheStcIi4uLlwiKSx0aGlzLmRlc3Ryb3koKSx0aGlzLnJldHJ5VGltZW91dD13aW5kb3cuc2V0VGltZW91dCh0aGlzLndlLmJpbmQodGhpcyksdGhpcy5yZXRyeURlbGF5KSx0aGlzLnJldHJ5RGVsYXk9TWF0aC5taW4oMip0aGlzLnJldHJ5RGVsYXksaS5rZSksci5yZXRyeSsrKX1lbHNlIGkudGltZW91dCYmKHRoaXMucmVxdWVzdFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLGkudGltZW91dCkpfSx0LnByb3RvdHlwZS5sb2FkdGltZW91dD1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcInRpbWVvdXQgd2hpbGUgbG9hZGluZyBcIit0aGlzLmNvbnRleHQudXJsKSx0aGlzLmNhbGxiYWNrcy5vblRpbWVvdXQodGhpcy5zdGF0cyx0aGlzLmNvbnRleHQpfSx0LnByb3RvdHlwZS5sb2FkcHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0cztlLmxvYWRlZD10LmxvYWRlZCx0Lmxlbmd0aENvbXB1dGFibGUmJihlLnRvdGFsPXQudG90YWwpO3ZhciBuPXRoaXMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3M7biYmbihlLHRoaXMuY29udGV4dCxudWxsKX0sdH0oKTtlLl9lPXJ9XSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtb3Zpbi5jb21tLmhpdmUxNTMyNDQ0NTc2NzIxLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi9oaXZlL2JpdG1vdmluLmhpdmUubWluLmpzXG4vLyBtb2R1bGUgaWQgPSA4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9