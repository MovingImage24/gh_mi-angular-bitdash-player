!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=26)}([function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-container",components:[]},n.config),n}return i(e,t),e.prototype.addComponent=function(t){this.config.components.push(t)},e.prototype.removeComponent=function(t){return null!=s.ArrayUtils.remove(this.config.components,t)},e.prototype.getComponents=function(){return this.config.components},e.prototype.removeComponents=function(){for(var t=0,e=this.getComponents();t<e.length;t++){var n=e[t];this.removeComponent(n)}},e.prototype.updateComponents=function(){this.innerContainerElement.empty();for(var t=0,e=this.config.components;t<e.length;t++){var n=e[t];this.innerContainerElement.append(n.getDomElement())}},e.prototype.toDomElement=function(){var t=new o.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()}),e=new o.DOM(this.config.tag,{class:this.prefixCss("container-wrapper")});return this.innerContainerElement=e,this.updateComponents(),t.append(e),t},e}(r.Component);e.Container=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32),r=n(2),o=n(4),s=function(){function t(t){void 0===t&&(t={}),this.componentEvents={onShow:new o.EventDispatcher,onHide:new o.EventDispatcher,onHoverChanged:new o.EventDispatcher},this.config=this.mergeConfig(t,{tag:"div",id:"mi-wbc-id-"+i.Guid.next(),cssPrefix:"mi-wbc",cssClass:"ui-component",cssClasses:[],hidden:!1},{})}return t.prototype.initialize=function(){this.hidden=this.config.hidden,this.isHidden()&&(this.hidden=!1,this.hide())},t.prototype.configure=function(t,e){var n=this;this.onShow.subscribe(function(){e.onComponentShow.dispatch(n)}),this.onHide.subscribe(function(){e.onComponentHide.dispatch(n)}),this.getDomElement().on("mouseenter",function(){n.onHoverChangedEvent(!0)}),this.getDomElement().on("mouseleave",function(){n.onHoverChangedEvent(!1)})},t.prototype.release=function(){},t.prototype.toDomElement=function(){return new r.DOM(this.config.tag,{id:this.config.id,class:this.getCssClasses()})},t.prototype.getDomElement=function(){return this.element||(this.element=this.toDomElement()),this.element},t.prototype.mergeConfig=function(t,e,n){return Object.assign({},n,e,t)},t.prototype.getCssClasses=function(){var t=this,e=[this.config.cssClass].concat(this.config.cssClasses);return e=e.map(function(e){return t.prefixCss(e)}),e.join(" ").trim()},t.prototype.prefixCss=function(t){return this.config.cssPrefix+"-"+t},t.prototype.getConfig=function(){return this.config},t.prototype.hide=function(){this.hidden||(this.hidden=!0,this.getDomElement().addClass(this.prefixCss(t.CLASS_HIDDEN)),this.onHideEvent())},t.prototype.show=function(){this.hidden&&(this.getDomElement().removeClass(this.prefixCss(t.CLASS_HIDDEN)),this.hidden=!1,this.onShowEvent())},t.prototype.isHidden=function(){return this.hidden},t.prototype.isShown=function(){return!this.isHidden()},t.prototype.toggleHidden=function(){this.isHidden()?this.show():this.hide()},t.prototype.isHovered=function(){return this.hovered},t.prototype.onShowEvent=function(){this.componentEvents.onShow.dispatch(this)},t.prototype.onHideEvent=function(){this.componentEvents.onHide.dispatch(this)},t.prototype.onHoverChangedEvent=function(t){this.hovered=t,this.componentEvents.onHoverChanged.dispatch(this,{hovered:t})},Object.defineProperty(t.prototype,"onShow",{get:function(){return this.componentEvents.onShow.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this.componentEvents.onHide.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHoverChanged",{get:function(){return this.componentEvents.onHoverChanged.getEvent()},enumerable:!0,configurable:!0}),t}();s.CLASS_HIDDEN="hidden",e.Component=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){if(this.document=document,t instanceof Array){if(t.length>0&&t[0]instanceof HTMLElement){var n=t;this.elements=n}}else if(t instanceof HTMLElement){var i=t;this.elements=[i]}else if(t instanceof Document)this.elements=null;else if(e){var r=t,i=document.createElement(r);for(var o in e){var s=e[o];i.setAttribute(o,s)}this.elements=[i]}else{var a=t;this.elements=this.findChildElements(a)}}return Object.defineProperty(t.prototype,"length",{get:function(){return this.elements?this.elements.length:0},enumerable:!0,configurable:!0}),t.prototype.getElements=function(){return this.elements},t.prototype.forEach=function(t){this.elements.forEach(function(e){t(e)})},t.prototype.findChildElementsOfElement=function(t,e){var n=t.querySelectorAll(e);return[].slice.call(n)},t.prototype.findChildElements=function(t){var e=this,n=[];return this.elements?(this.forEach(function(i){n=n.concat(e.findChildElementsOfElement(i,t))}),n):this.findChildElementsOfElement(document,t)},t.prototype.find=function(e){return new t(this.findChildElements(e))},t.prototype.html=function(t){return arguments.length>0?this.setHtml(t):this.getHtml()},t.prototype.getHtml=function(){return this.elements[0].innerHTML},t.prototype.setHtml=function(t){return void 0!==t&&null!=t||(t=""),this.forEach(function(e){e.innerHTML=t}),this},t.prototype.empty=function(){return this.forEach(function(t){t.innerHTML=""}),this},t.prototype.val=function(){var t=this.elements[0];if(t instanceof HTMLSelectElement||t instanceof HTMLInputElement)return t.value;throw new Error("val() not supported for "+typeof t)},t.prototype.attr=function(t,e){return arguments.length>1?this.setAttr(t,e):this.getAttr(t)},t.prototype.getAttr=function(t){return this.elements[0].getAttribute(t)},t.prototype.setAttr=function(t,e){return this.forEach(function(n){n.setAttribute(t,e)}),this},t.prototype.data=function(t,e){return arguments.length>1?this.setData(t,e):this.getData(t)},t.prototype.getData=function(t){return this.elements[0].getAttribute("data-"+t)},t.prototype.setData=function(t,e){return this.forEach(function(n){n.setAttribute("data-"+t,e)}),this},t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.forEach(function(e){t.forEach(function(t){t.elements.forEach(function(n,i){e.appendChild(t.elements[i])})})}),this},t.prototype.remove=function(){this.forEach(function(t){var e=t.parentNode;e&&e.removeChild(t)})},t.prototype.offset=function(){var t=this.elements[0],e=t.getBoundingClientRect(),n=document.body.parentElement.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left}},t.prototype.width=function(){return this.elements[0].offsetWidth},t.prototype.height=function(){return this.elements[0].offsetHeight},t.prototype.on=function(t,e){var n=this;return t.split(" ").forEach(function(t){null==n.elements?n.document.addEventListener(t,e):n.forEach(function(n){n.addEventListener(t,e)})}),this},t.prototype.off=function(t,e){var n=this;return t.split(" ").forEach(function(t){null==n.elements?n.document.removeEventListener(t,e):n.forEach(function(n){n.removeEventListener(t,e)})}),this},t.prototype.addClass=function(t){return this.forEach(function(e){e.classList?e.classList.add(t):e.className+=" "+t}),this},t.prototype.removeClass=function(t){return this.forEach(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},t.prototype.hasClass=function(t){var e=!1;return this.forEach(function(n){n.classList?n.classList.contains(t)&&(e=!0):new RegExp("(^| )"+t+"( |$)","gi").test(n.className)&&(e=!0)}),e},t.prototype.css=function(t,e){if("string"==typeof t){var n=t;return 2===arguments.length?this.setCss(n,e):this.getCss(n)}var i=t;return this.setCssCollection(i)},t.prototype.getCss=function(t){return getComputedStyle(this.elements[0])[t]},t.prototype.setCss=function(t,e){return this.forEach(function(n){n.style[t]=e}),this},t.prototype.setCssCollection=function(t){return this.forEach(function(e){Object.assign(e.style,t)}),this},t}();e.DOM=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(0);!function(t){function e(t,e){var n=t.indexOf(e);return n>-1?t.splice(n,1)[0]:null}t.remove=e}(e.ArrayUtils||(e.ArrayUtils={}));!function(t){function e(e,i){void 0===i&&(i=t.FORMAT_HHMMSS);var r=e<0;r&&(e=-e);var o=Math.floor(e/3600),s=Math.floor(e/60)-60*o,a=Math.floor(e)%60;return(r?"-":"")+i.replace("hh",n(o,2)).replace("mm",n(s,2)).replace("ss",n(a,2))}function n(t,e){var n=t+"";return"0000000000".substr(0,e-n.length)+n}function i(t,e,n){var i=new RegExp("\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})","g");return t.replace(i,function(t){var i=0;return t.indexOf("remainingTime")>-1?i=e?Math.ceil(e-n.getCurrentTime()):n.getDuration()-n.getCurrentTime():t.indexOf("playedTime")>-1?i=n.getCurrentTime():t.indexOf("adDuration")>-1&&(i=n.getDuration()),r(i,t)})}function r(t,i){var r=/%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/,o=/(%0[1-9]\d*)(?=(\.\d+f|f|d))/,s=/\.\d*(?=f)/;r.test(i)||(i="%d");var a=0,u=i.match(o);u&&(a=parseInt(u[0].substring(2)));var c=null,h=i.match(s);if(h&&!isNaN(parseInt(h[0].substring(1)))&&(c=parseInt(h[0].substring(1)))>20&&(c=20),i.indexOf("f")>-1){var p="";return p=null!==c?t.toFixed(c):""+t,p.indexOf(".")>-1?n(p,p.length+(a-p.indexOf("."))):n(p,a)}if(i.indexOf(":")>-1){var l=Math.ceil(t);if(i.indexOf("hh")>-1)return e(l);var f=Math.floor(l/60),d=l%60;return n(f,2)+":"+n(d,2)}return n(Math.ceil(t),a)}t.FORMAT_HHMMSS="hh:mm:ss",t.FORMAT_MMSS="mm:ss",t.secondsToTime=e,t.replaceAdMessagePlaceholders=i}(e.StringUtils||(e.StringUtils={}));!function(t){function e(t){return void 0!==t.getConfig().source}function n(t){return t.isLive()&&0!==t.getMaxTimeShift()}function r(t){return t.hasEnded()?s.FINISHED:t.isPlaying()?s.PLAYING:t.isPaused()?s.PAUSED:e(t)?s.PREPARED:s.IDLE}var s;!function(t){t[t.IDLE=0]="IDLE",t[t.PREPARED=1]="PREPARED",t[t.PLAYING=2]="PLAYING",t[t.PAUSED=3]="PAUSED",t[t.FINISHED=4]="FINISHED"}(s=t.PlayerState||(t.PlayerState={})),t.isSourceLoaded=e,t.isTimeShiftAvailable=n,t.getState=r;var a=function(){function e(t){var e=this;this.timeShiftAvailabilityChangedEvent=new i.EventDispatcher,this.player=t,this.timeShiftAvailable=void 0;var n=function(){e.detect()};t.addEventHandler(t.EVENT.ON_READY,n),t.addEventHandler(t.EVENT.ON_TIME_CHANGED,n)}return e.prototype.detect=function(){if(this.player.isLive()){var e=t.isTimeShiftAvailable(this.player);e!==this.timeShiftAvailable&&(this.timeShiftAvailabilityChangedEvent.dispatch(this.player,{timeShiftAvailable:e}),this.timeShiftAvailable=e)}},Object.defineProperty(e.prototype,"onTimeShiftAvailabilityChanged",{get:function(){return this.timeShiftAvailabilityChangedEvent.getEvent()},enumerable:!0,configurable:!0}),e}();t.TimeShiftAvailabilityDetector=a;var u=function(){function t(t){var e=this;this.liveChangedEvent=new i.EventDispatcher,this.player=t,this.live=void 0;var n=function(){e.detect()};t.addEventHandler(t.EVENT.ON_READY,n),t.addEventHandler(t.EVENT.ON_PLAY,n),o.isAndroid&&o.isChrome&&t.addEventHandler(t.EVENT.ON_TIME_CHANGED,n)}return t.prototype.detect=function(){var t=this.player.isLive();t!==this.live&&(this.liveChangedEvent.dispatch(this.player,{live:t}),this.live=t)},Object.defineProperty(t.prototype,"onLiveChanged",{get:function(){return this.liveChangedEvent.getEvent()},enumerable:!0,configurable:!0}),t}();t.LiveStreamDetector=u}(e.PlayerUtils||(e.PlayerUtils={}));!function(t){function e(t,e){var n=function(t,i){if(e(t,i),t instanceof r.Container)for(var o=0,s=t.getComponents();o<s.length;o++){var a=s[o];n(a,t)}};n(t)}t.traverseTree=e}(e.UIUtils||(e.UIUtils={}));var o;!function(t){t.isMobile=navigator&&navigator.userAgent&&/Mobi/.test(navigator.userAgent),t.isChrome=navigator&&navigator.userAgent&&/Chrome/.test(navigator.userAgent),t.isAndroid=navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)}(o=e.BrowserUtils||(e.BrowserUtils={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(){this.listeners=[]}return t.prototype.subscribe=function(t){this.listeners.push(new s(t))},t.prototype.subscribeOnce=function(t){this.listeners.push(new s(t,!0))},t.prototype.subscribeRateLimited=function(t,e){this.listeners.push(new a(t,e))},t.prototype.unsubscribe=function(t){for(var e=0;e<this.listeners.length;e++){var n=this.listeners[e];if(n.listener===t)return r.ArrayUtils.remove(this.listeners,n),!0}return!1},t.prototype.unsubscribeAll=function(){this.listeners=[]},t.prototype.dispatch=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,o=this.listeners;i<o.length;i++){var s=o[i];s.fire(t,e),s.isOnce()&&n.push(s)}for(var a=0,u=n;a<u.length;a++){var c=u[a];r.ArrayUtils.remove(this.listeners,c)}},t.prototype.getEvent=function(){return this},t}();e.EventDispatcher=o;var s=function(){function t(t,e){void 0===e&&(e=!1),this.eventListener=t,this.once=e}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.eventListener},enumerable:!0,configurable:!0}),t.prototype.fire=function(t,e){this.eventListener(t,e)},t.prototype.isOnce=function(){return this.once},t}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.rateMs=n,i.lastFireTime=0,i.rateLimitingEventListener=function(t,e){Date.now()-i.lastFireTime>i.rateMs&&(i.fireSuper(t,e),i.lastFireTime=Date.now())},i}return i(e,t),e.prototype.fireSuper=function(e,n){t.prototype.fire.call(this,e,n)},e.prototype.fire=function(t,e){this.rateLimitingEventListener(t,e)},e}(s)},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=n(4),a=function(t){function e(e){var n=t.call(this,e)||this;return n.buttonEvents={onClick:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-button"},n.config),n}return i(e,t),e.prototype.toDomElement=function(){var t=this,e=new o.DOM("button",{type:"button",id:this.config.id,class:this.getCssClasses()}).append(new o.DOM("span",{class:this.prefixCss("label")}).html(this.config.text));return e.on("click",function(){t.onClickEvent()}),e},e.prototype.setText=function(t){this.getDomElement().find("."+this.prefixCss("label")).html(t)},e.prototype.onClickEvent=function(){this.buttonEvents.onClick.dispatch(this)},Object.defineProperty(e.prototype,"onClick",{get:function(){return this.buttonEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),e}(r.Component);e.Button=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=n(4),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.labelEvents={onClick:new s.EventDispatcher,onTextChanged:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-label"},n.config),n.text=n.config.text,n}return i(e,t),e.prototype.toDomElement=function(){var t=this,e=new o.DOM("span",{id:this.config.id,class:this.getCssClasses()}).html(this.text);return e.on("click",function(){t.onClickEvent()}),e},e.prototype.setText=function(t){this.text=t,this.getDomElement().html(t),this.onTextChangedEvent(t)},e.prototype.getText=function(){return this.text},e.prototype.clearText=function(){this.getDomElement().html(""),this.onTextChangedEvent(null)},e.prototype.isEmpty=function(){return!this.text},e.prototype.onClickEvent=function(){this.labelEvents.onClick.dispatch(this)},e.prototype.onTextChangedEvent=function(t){this.labelEvents.onTextChanged.dispatch(this,t)},Object.defineProperty(e.prototype,"onClick",{get:function(){return this.labelEvents.onClick.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTextChanged",{get:function(){return this.labelEvents.onTextChanged.getEvent()},enumerable:!0,configurable:!0}),e}(r.Component);e.Label=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){void 0===n&&(n=!1),this.delay=t,this.callback=e,this.repeat=n,this.timeoutHandle=0}return t.prototype.start=function(){return this.reset(),this},t.prototype.clear=function(){clearTimeout(this.timeoutHandle)},t.prototype.reset=function(){var t=this,e=0,n=0;this.clear();var i=function(){if(t.callback(),t.repeat){var r=Date.now(),o=r-e;n=t.delay-o+n,e=r,t.timeoutHandle=setTimeout(i,t.delay+n)}};e=Date.now(),this.timeoutHandle=setTimeout(i,this.delay)},t}();e.Timeout=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(4),s=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleButtonEvents={onToggle:new o.EventDispatcher,onToggleOn:new o.EventDispatcher,onToggleOff:new o.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-togglebutton"},n.config),n}return i(e,t),e.prototype.on=function(){this.isOff()&&(this.onState=!0,this.getDomElement().removeClass(this.prefixCss(e.CLASS_OFF)),this.getDomElement().addClass(this.prefixCss(e.CLASS_ON)),this.onToggleEvent(),this.onToggleOnEvent())},e.prototype.off=function(){this.isOn()&&(this.onState=!1,this.getDomElement().removeClass(this.prefixCss(e.CLASS_ON)),this.getDomElement().addClass(this.prefixCss(e.CLASS_OFF)),this.onToggleEvent(),this.onToggleOffEvent())},e.prototype.toggle=function(){this.isOn()?this.off():this.on()},e.prototype.isOn=function(){return this.onState},e.prototype.isOff=function(){return!this.isOn()},e.prototype.onClickEvent=function(){t.prototype.onClickEvent.call(this),this.onToggleEvent()},e.prototype.onToggleEvent=function(){this.toggleButtonEvents.onToggle.dispatch(this)},e.prototype.onToggleOnEvent=function(){this.toggleButtonEvents.onToggleOn.dispatch(this)},e.prototype.onToggleOffEvent=function(){this.toggleButtonEvents.onToggleOff.dispatch(this)},Object.defineProperty(e.prototype,"onToggle",{get:function(){return this.toggleButtonEvents.onToggle.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onToggleOn",{get:function(){return this.toggleButtonEvents.onToggleOn.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onToggleOff",{get:function(){return this.toggleButtonEvents.onToggleOff.getEvent()},enumerable:!0,configurable:!0}),e}(r.Button);s.CLASS_ON="on",s.CLASS_OFF="off",e.ToggleButton=s},function(t,e){t.exports=angular},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(3),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-playbacktogglebutton",text:"Play/Pause"},n.config),n}return i(e,t),e.prototype.configure=function(n,i,r){var s=this;void 0===r&&(r=!0),t.prototype.configure.call(this,n,i);var a=!1,u=function(t){a||(n.isPlaying()?s.on():s.off())};n.addEventHandler(n.EVENT.ON_PLAY,u),n.addEventHandler(n.EVENT.ON_PAUSED,u),n.addEventHandler(n.EVENT.ON_PLAYBACK_FINISHED,u),n.addEventHandler(n.EVENT.ON_CAST_STARTED,u),n.addEventHandler(n.EVENT.ON_CAST_PLAYING,u),n.addEventHandler(n.EVENT.ON_CAST_PAUSED,u),n.addEventHandler(n.EVENT.ON_CAST_PLAYBACK_FINISHED,u);var c=new o.PlayerUtils.TimeShiftAvailabilityDetector(n);c.onTimeShiftAvailabilityChanged.subscribe(function(t,n){n.timeShiftAvailable?s.getDomElement().removeClass(s.prefixCss(e.CLASS_STOPTOGGLE)):s.getDomElement().addClass(s.prefixCss(e.CLASS_STOPTOGGLE))}),c.detect(),r&&this.onClick.subscribe(function(){n.isPlaying()?n.pause("ui-button"):n.play("ui-button")}),i.onSeek.subscribe(function(){a=!0}),i.onSeeked.subscribe(function(){a=!1}),u()},e}(r.ToggleButton);s.CLASS_STOPTOGGLE="stoptoggle",e.PlaybackToggleButton=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=n(4),a=n(7),u=n(3),c=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.playbackPositionPercentage=0,n.touchSupported="ontouchstart"in window,n.seekBarEvents={onSeek:new s.EventDispatcher,onSeekPreview:new s.EventDispatcher,onSeeked:new s.EventDispatcher},n.config=n.mergeConfig(e,{cssClass:"ui-seekbar",vertical:!1,smoothPlaybackPositionUpdateIntervalMs:50,hideInLivePlayback:!0},n.config),n.label=n.config.label,n.timelineMarkers=[],n}return i(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.hasLabel()&&this.getLabel().initialize()},e.prototype.configure=function(n,i,r){var o=this;void 0===r&&(r=!0),t.prototype.configure.call(this,n,i);this.getConfig();if(r){var s=!0,a=!1,c=!1,h=function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=!1),s=!1,!c)if(n.isLive()){if(0===n.getMaxTimeShift())o.setPlaybackPosition(100);else{var r=100-100/n.getMaxTimeShift()*n.getTimeShift();o.setPlaybackPosition(r)}o.setBufferPosition(100),o.hide()}else{var r=100/n.getDuration()*n.getCurrentTime(),a=n.getVideoBufferLength(),u=n.getAudioBufferLength(),h=Math.min(null!=a?a:Number.MAX_VALUE,null!=u?u:Number.MAX_VALUE);h===Number.MAX_VALUE&&(h=0);var p=100/n.getDuration()*h;(o.config.smoothPlaybackPositionUpdateIntervalMs===e.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED||i||n.isPaused()||n.isPaused()===n.isPlaying())&&o.setPlaybackPosition(r),o.setBufferPosition(r+p)}};n.addEventHandler(n.EVENT.ON_READY,h),n.addEventHandler(n.EVENT.ON_TIME_CHANGED,h),n.addEventHandler(n.EVENT.ON_STALL_ENDED,h),n.addEventHandler(n.EVENT.ON_SEEKED,h),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,h),n.addEventHandler(n.EVENT.ON_SEGMENT_REQUEST_FINISHED,h),n.addEventHandler(n.EVENT.ON_CAST_TIME_UPDATED,h),n.addEventHandler(n.EVENT.ON_SEEK,function(){o.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_SEEKED,function(){o.setSeeking(!1)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFT,function(){o.setSeeking(!0)}),n.addEventHandler(n.EVENT.ON_TIME_SHIFTED,function(){o.setSeeking(!1)});var p=function(t){n.isLive()?n.timeShift(n.getMaxTimeShift()-n.getMaxTimeShift()*(t/100)):n.seek(n.getDuration()*(t/100))};this.onSeek.subscribe(function(t){c=!0,i.onSeek.dispatch(t),(a=n.isPlaying())&&n.pause("ui-seek")}),this.onSeekPreview.subscribe(function(t,e){i.onSeekPreview.dispatch(t,e)}),this.onSeekPreview.subscribeRateLimited(function(t,e){e.scrubbing&&p(e.position)},200),this.onSeeked.subscribe(function(t,e){c=!1,p(e),a&&n.play("ui-seek"),i.onSeeked.dispatch(t)}),this.hasLabel()&&this.getLabel().configure(n,i);var l=!1,f=!1,d=function(t,e){t&&!e?o.hide():o.show(),h(null,!0),o.refreshPlaybackPosition()},v=new u.PlayerUtils.LiveStreamDetector(n);v.onLiveChanged.subscribe(function(t,e){l=e.live,d(l,f)});var g=new u.PlayerUtils.TimeShiftAvailabilityDetector(n);g.onTimeShiftAvailabilityChanged.subscribe(function(t,e){f=e.timeShiftAvailable,d(l,f)}),v.detect(),g.detect(),n.addEventHandler(n.EVENT.ON_PLAYER_RESIZE,function(){o.refreshPlaybackPosition()}),i.onConfigured.subscribe(function(){o.refreshPlaybackPosition()}),n.addEventHandler(n.EVENT.ON_READY,function(){o.refreshPlaybackPosition()}),h(),this.setBufferPosition(0),this.setSeekPosition(0),this.config.smoothPlaybackPositionUpdateIntervalMs!==e.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED&&this.configureSmoothPlaybackPositionUpdater(n,i),this.configureMarkers(n,i)}},e.prototype.configureSmoothPlaybackPositionUpdater=function(t,e){var n=this,i=0,r=0;this.smoothPlaybackPositionUpdater=new a.Timeout(50,function(){i+=.05,r=t.getCurrentTime();var e=i-r;Math.abs(e)>2?i=r:e<=-.05?i+=.05:e>=.05&&(i-=.05);var o=100/t.getDuration()*i;n.setPlaybackPosition(o)},!0);var o=function(){t.isLive()||(i=t.getCurrentTime(),n.smoothPlaybackPositionUpdater.start())},s=function(){n.smoothPlaybackPositionUpdater.clear()};t.addEventHandler(t.EVENT.ON_PLAY,o),t.addEventHandler(t.EVENT.ON_CAST_PLAYING,o),t.addEventHandler(t.EVENT.ON_PAUSED,s),t.addEventHandler(t.EVENT.ON_CAST_PAUSED,s),t.addEventHandler(t.EVENT.ON_SEEKED,function(){i=t.getCurrentTime()}),t.isPlaying()&&o()},e.prototype.configureMarkers=function(t,e){var n=this,i=function(){n.timelineMarkers=[],n.updateMarkers()},r=function(){i();var r=e.getConfig().metadata&&e.getConfig().metadata.markers&&e.getConfig().metadata.markers.length>0,o=t.getConfig().source&&t.getConfig().source.markers&&t.getConfig().source.markers.length>0,s=r?e.getConfig().metadata.markers:o?t.getConfig().source.markers:null;if(s&&t.getDuration()!==1/0)for(var a=0,u=s;a<u.length;a++){var c=u[a];n.timelineMarkers.push({time:100/t.getDuration()*c.time,title:c.title})}n.updateMarkers()};t.addEventHandler(t.EVENT.ON_READY,r),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,i),r()},e.prototype.release=function(){t.prototype.release.call(this),this.smoothPlaybackPositionUpdater&&this.smoothPlaybackPositionUpdater.clear()},e.prototype.toDomElement=function(){var t=this;this.config.vertical&&this.config.cssClasses.push("vertical");var e=new o.DOM("div",{id:this.config.id,class:this.getCssClasses()}),n=new o.DOM("div",{class:this.prefixCss("seekbar")});this.seekBar=n;var i=new o.DOM("div",{class:this.prefixCss("seekbar-bufferlevel")});this.seekBarBufferPosition=i;var r=new o.DOM("div",{class:this.prefixCss("seekbar-playbackposition")});this.seekBarPlaybackPosition=r;var s=new o.DOM("div",{class:this.prefixCss("seekbar-playbackposition-marker")});this.seekBarPlaybackPositionMarker=s;var a=new o.DOM("div",{class:this.prefixCss("seekbar-seekposition")});this.seekBarSeekPosition=a;var u=new o.DOM("div",{class:this.prefixCss("seekbar-backdrop")});this.seekBarBackdrop=u;var c=new o.DOM("div",{class:this.prefixCss("seekbar-markers")});this.seekBarMarkersContainer=c,n.append(u,i,a,r,c,s);var h=!1,p=function(e){e.preventDefault(),e.stopPropagation();var n=100*t.getOffset(e);t.setSeekPosition(n),t.setPlaybackPosition(n),t.onSeekPreviewEvent(n,!0)},l=function(e){e.preventDefault(),new o.DOM(document).off("touchmove mousemove",p),new o.DOM(document).off("touchend mouseup",l);var n=100*t.getOffset(e),i=t.getMarkerAtPosition(n);t.setSeeking(!1),h=!1,t.onSeekedEvent(i?i.time:n)};return n.on("touchstart mousedown",function(e){var n=t.touchSupported&&e instanceof TouchEvent;e.preventDefault(),e.stopPropagation(),t.setSeeking(!0),h=!0,t.onSeekEvent(),new o.DOM(document).on(n?"touchmove":"mousemove",p),new o.DOM(document).on(n?"touchend":"mouseup",l)}),n.on("touchmove mousemove",function(e){e.preventDefault(),h&&(e.stopPropagation(),p(e));var n=100*t.getOffset(e);t.setSeekPosition(n),t.onSeekPreviewEvent(n,!1),t.hasLabel()&&t.getLabel().isHidden()&&t.getLabel().show()}),n.on("touchend mouseleave",function(e){e.preventDefault(),t.setSeekPosition(0),t.hasLabel()&&t.getLabel().hide()}),e.append(n),this.label&&e.append(this.label.getDomElement()),e},e.prototype.updateMarkers=function(){this.seekBarMarkersContainer.empty();for(var t=0,e=this.timelineMarkers;t<e.length;t++){var n=e[t];this.seekBarMarkersContainer.append(new o.DOM("div",{class:this.prefixCss("seekbar-marker"),"data-marker-time":String(n.time),"data-marker-title":String(n.title)}).css({width:n.time+"%"}))}},e.prototype.getMarkerAtPosition=function(t){var e=null;if(this.timelineMarkers.length>0)for(var n=0,i=this.timelineMarkers;n<i.length;n++){var r=i[n];if(t>=r.time-1&&t<=r.time+1){e=r;break}}return e},e.prototype.getHorizontalOffset=function(t){var e=this.seekBar.offset().left,n=this.seekBar.width(),i=t-e,r=1/n*i;return this.sanitizeOffset(r)},e.prototype.getVerticalOffset=function(t){var e=this.seekBar.offset().top,n=this.seekBar.height(),i=t-e,r=1/n*i;return 1-this.sanitizeOffset(r)},e.prototype.getOffset=function(t){return this.touchSupported&&t instanceof TouchEvent?this.config.vertical?this.getVerticalOffset("touchend"===t.type?t.changedTouches[0].pageY:t.touches[0].pageY):this.getHorizontalOffset("touchend"===t.type?t.changedTouches[0].pageX:t.touches[0].pageX):t instanceof MouseEvent?this.config.vertical?this.getVerticalOffset(t.pageY):this.getHorizontalOffset(t.pageX):(console&&console.warn("invalid event"),0)},e.prototype.sanitizeOffset=function(t){return t<0?t=0:t>1&&(t=1),t},e.prototype.setPlaybackPosition=function(t){this.playbackPositionPercentage=t,this.setPosition(this.seekBarPlaybackPosition,t);var e=(this.config.vertical?this.seekBar.height():this.seekBar.width())/100*t;this.config.vertical&&(e=this.seekBar.height()-e);var n=this.config.vertical?{transform:"translateY("+e+"px)","-ms-transform":"translateY("+e+"px)"}:{transform:"translateX("+e+"px)","-ms-transform":"translateX("+e+"px)"};this.seekBarPlaybackPositionMarker.css(n)},e.prototype.refreshPlaybackPosition=function(){this.setPlaybackPosition(this.playbackPositionPercentage)},e.prototype.setBufferPosition=function(t){this.setPosition(this.seekBarBufferPosition,t)},e.prototype.setSeekPosition=function(t){this.setPosition(this.seekBarSeekPosition,t)},e.prototype.setPosition=function(t,e){var n=e/100,i=this.config.vertical?{transform:"scaleY("+n+")","-ms-transform":"scaleY("+n+")"}:{transform:"scaleX("+n+")","-ms-transform":"scaleX("+n+")"};t.css(i)},e.prototype.setSeeking=function(t){t?this.getDomElement().addClass(this.prefixCss(e.CLASS_SEEKING)):this.getDomElement().removeClass(this.prefixCss(e.CLASS_SEEKING))},e.prototype.isSeeking=function(){return this.getDomElement().hasClass(this.prefixCss(e.CLASS_SEEKING))},e.prototype.hasLabel=function(){return null!=this.label},e.prototype.getLabel=function(){return this.label},e.prototype.onSeekEvent=function(){this.seekBarEvents.onSeek.dispatch(this)},e.prototype.onSeekPreviewEvent=function(t,e){var n=this.getMarkerAtPosition(t);this.label&&this.label.getDomElement().css({left:(n?n.time:t)+"%"}),this.seekBarEvents.onSeekPreview.dispatch(this,{scrubbing:e,position:t,marker:n})},e.prototype.onSeekedEvent=function(t){this.seekBarEvents.onSeeked.dispatch(this,t)},Object.defineProperty(e.prototype,"onSeek",{get:function(){return this.seekBarEvents.onSeek.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeekPreview",{get:function(){return this.seekBarEvents.onSeekPreview.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this.seekBarEvents.onSeeked.getEvent()},enumerable:!0,configurable:!0}),e.prototype.onShowEvent=function(){t.prototype.onShowEvent.call(this),this.refreshPlaybackPosition()},e}(r.Component);c.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED=-1,c.CLASS_SEEKING="seeking",e.SeekBar=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),s=n(7),a=n(3),u=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-uicontainer",hideDelay:2500},n.config),n}return i(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),this.configureUIShowHide(e,n),this.configurePlayerStates(e,n)},e.prototype.configureUIShowHide=function(t,e){var n=this,i=this.getDomElement(),r=this.getConfig(),o=!1,a=!1,u=!0,c=function(){o||(e.onControlsShow.dispatch(n),o=!0),a||t.isCasting()||n.uiHideTimeout.start()},h=function(){if(o&&!t.isCasting()){var i={};e.onPreviewControlsHide.dispatch(n,i),i.cancel?c():(e.onControlsHide.dispatch(n),o=!1)}};this.uiHideTimeout=new s.Timeout(r.hideDelay,h),i.on("touchend",function(t){o||(u&&(u=!1),c())}),i.on("mouseenter",function(){c()}),i.on("mousemove",function(){c()}),i.on("mouseleave",function(){a||n.uiHideTimeout.start()}),e.onSeek.subscribe(function(){n.uiHideTimeout.clear(),a=!0}),e.onSeeked.subscribe(function(){a=!1,n.uiHideTimeout.start()}),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(){c()})},e.prototype.configurePlayerStates=function(t,n){var i=this,r=this.getDomElement(),s=[];for(var u in a.PlayerUtils.PlayerState)if(isNaN(Number(u))){var c=a.PlayerUtils.PlayerState[a.PlayerUtils.PlayerState[u]];s[a.PlayerUtils.PlayerState[u]]=this.prefixCss(e.STATE_PREFIX+c.toLowerCase())}var h=function(){r.removeClass(s[a.PlayerUtils.PlayerState.IDLE]),r.removeClass(s[a.PlayerUtils.PlayerState.PREPARED]),r.removeClass(s[a.PlayerUtils.PlayerState.PLAYING]),r.removeClass(s[a.PlayerUtils.PlayerState.PAUSED]),r.removeClass(s[a.PlayerUtils.PlayerState.FINISHED])};t.addEventHandler(t.EVENT.ON_READY,function(){h(),r.addClass(s[a.PlayerUtils.PlayerState.PREPARED])}),t.addEventHandler(t.EVENT.ON_PLAY,function(){h(),r.addClass(s[a.PlayerUtils.PlayerState.PLAYING])}),t.addEventHandler(t.EVENT.ON_PAUSED,function(){h(),r.addClass(s[a.PlayerUtils.PlayerState.PAUSED])}),t.addEventHandler(t.EVENT.ON_PLAYBACK_FINISHED,function(){h(),r.addClass(s[a.PlayerUtils.PlayerState.FINISHED])}),t.addEventHandler(t.EVENT.ON_SOURCE_UNLOADED,function(){h(),r.addClass(s[a.PlayerUtils.PlayerState.IDLE])}),r.addClass(s[a.PlayerUtils.getState(t)]),t.addEventHandler(t.EVENT.ON_FULLSCREEN_ENTER,function(){r.addClass(i.prefixCss(e.FULLSCREEN))}),t.addEventHandler(t.EVENT.ON_FULLSCREEN_EXIT,function(){r.removeClass(i.prefixCss(e.FULLSCREEN))}),t.isFullscreen()&&r.addClass(this.prefixCss(e.FULLSCREEN)),t.addEventHandler(t.EVENT.ON_STALL_STARTED,function(){r.addClass(i.prefixCss(e.BUFFERING))}),t.addEventHandler(t.EVENT.ON_STALL_ENDED,function(){r.removeClass(i.prefixCss(e.BUFFERING))}),t.isStalled()&&r.addClass(this.prefixCss(e.BUFFERING)),t.addEventHandler(t.EVENT.ON_CAST_STARTED,function(){r.addClass(i.prefixCss(e.REMOTE_CONTROL))}),t.addEventHandler(t.EVENT.ON_CAST_STOPPED,function(){r.removeClass(i.prefixCss(e.REMOTE_CONTROL))}),t.isCasting()&&r.addClass(this.prefixCss(e.REMOTE_CONTROL)),n.onControlsShow.subscribe(function(){r.removeClass(i.prefixCss(e.CONTROLS_HIDDEN)),r.addClass(i.prefixCss(e.CONTROLS_SHOWN))}),n.onControlsHide.subscribe(function(){r.removeClass(i.prefixCss(e.CONTROLS_SHOWN)),r.addClass(i.prefixCss(e.CONTROLS_HIDDEN))});var p=function(t,e){r.removeClass(i.prefixCss("layout-max-width-400")),r.removeClass(i.prefixCss("layout-max-width-600")),r.removeClass(i.prefixCss("layout-max-width-800")),r.removeClass(i.prefixCss("layout-max-width-1200")),t<=400?r.addClass(i.prefixCss("layout-max-width-400")):t<=600?r.addClass(i.prefixCss("layout-max-width-600")):t<=800?r.addClass(i.prefixCss("layout-max-width-800")):t<=1200&&r.addClass(i.prefixCss("layout-max-width-1200"))};t.addEventHandler(t.EVENT.ON_PLAYER_RESIZE,function(t){var e=Math.round(Number(t.width.substring(0,t.width.length-2)));Math.round(Number(t.height.substring(0,t.height.length-2)));p(e)}),p(new o.DOM(t.getFigure()).width(),new o.DOM(t.getFigure()).height())},e.prototype.release=function(){t.prototype.release.call(this),this.uiHideTimeout.clear()},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return document&&void 0!==document.createElement("p").style.flex?e.addClass(this.prefixCss("flexbox")):e.addClass(this.prefixCss("no-flexbox")),e},e}(r.Container);u.STATE_PREFIX="player-state-",u.FULLSCREEN="fullscreen",u.BUFFERING="buffering",u.REMOTE_CONTROL="remote-control",u.CONTROLS_SHOWN="controls-shown",u.CONTROLS_HIDDEN="controls-hidden",e.UIContainer=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),s=n(3);!function(t){t[t.CurrentTime=0]="CurrentTime",t[t.TotalTime=1]="TotalTime",t[t.CurrentAndTotalTime=2]="CurrentAndTotalTime"}(r=e.PlaybackTimeLabelMode||(e.PlaybackTimeLabelMode={}));var a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-playbacktimelabel",timeLabelMode:r.CurrentAndTotalTime,hideInLivePlayback:!1},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=this.getConfig(),o=!1,a=this.prefixCss("ui-playbacktimelabel-live"),u=this.prefixCss("ui-playbacktimelabel-live-edge"),c=0,h=function(){e.timeShift(0)},p=function(){o=e.isLive(),o?(i.getDomElement().addClass(a),i.setText("Live"),r.hideInLivePlayback&&i.hide(),i.onClick.subscribe(h),l()):(i.getDomElement().removeClass(a),i.getDomElement().removeClass(u),i.show(),i.onClick.unsubscribe(h))},l=function(){0===e.getTimeShift()?i.getDomElement().addClass(u):i.getDomElement().removeClass(u)},f=new s.PlayerUtils.LiveStreamDetector(e);f.onLiveChanged.subscribe(function(t,e){o=e.live,p()}),f.detect();var d=function(){o||e.getDuration()===1/0||i.setTime(e.getCurrentTime(),e.getDuration());var t=i.getDomElement().width();t>c&&(c=t,i.getDomElement().css({"min-width":c+"px"}))};e.addEventHandler(e.EVENT.ON_TIME_CHANGED,d),e.addEventHandler(e.EVENT.ON_SEEKED,d),e.addEventHandler(e.EVENT.ON_CAST_TIME_UPDATED,d),e.addEventHandler(e.EVENT.ON_TIME_SHIFT,l),e.addEventHandler(e.EVENT.ON_TIME_SHIFTED,l);var v=function(){c=0,i.getDomElement().css({"min-width":null}),i.timeFormat=Math.abs(e.isLive()?e.getMaxTimeShift():e.getDuration())>=3600?s.StringUtils.FORMAT_HHMMSS:s.StringUtils.FORMAT_MMSS,d()};e.addEventHandler(e.EVENT.ON_READY,v),v()},e.prototype.setTime=function(t,e){var n=s.StringUtils.secondsToTime(t,this.timeFormat),i=s.StringUtils.secondsToTime(e,this.timeFormat);switch(this.config.timeLabelMode){case r.CurrentTime:this.setText(""+n);break;case r.TotalTime:this.setText(""+i);break;case r.CurrentAndTotalTime:this.setText(n+" / "+i)}},e}(o.Label);e.PlaybackTimeLabel=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(3),s=n(15),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.config=i.mergeConfig(e,{cssClass:"ui-controlbar",hidden:n},i.config),i}return i(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n);var i=this,a=0;o.UIUtils.traverseTree(this,function(t){t instanceof r.Container||t instanceof s.Spacer||t.onHoverChanged.subscribe(function(t,e){e.hovered?a++:a--})}),n.onControlsShow.subscribe(function(){i.config.hidden&&i.show()}),n.onPreviewControlsHide.subscribe(function(t,e){e.cancel=a>0}),n.onControlsHide.subscribe(function(){i.config.hidden&&i.hide()})},e}(r.Container);e.ControlBar=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-spacer"},n.config),n}return i(e,t),e.prototype.onShowEvent=function(){},e.prototype.onHideEvent=function(){},e.prototype.onHoverChangedEvent=function(t){},e}(r.Component);e.Spacer=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(6),s=n(1),a=n(3),u=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.timeLabel=new o.Label({cssClasses:["seekbar-label-time"]}),n.titleLabel=new o.Label({cssClasses:["seekbar-label-title"]}),n.thumbnail=new s.Component({cssClasses:["seekbar-thumbnail"]}),n.config=n.mergeConfig(e,{cssClass:"ui-seekbar-label",components:[new r.Container({components:[new r.Container({components:[n.titleLabel,n.timeLabel],cssClass:"seekbar-label-metadata"})],cssClass:"seekbar-label-inner"})],hidden:!0},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n),n.onSeekPreview.subscribe(function(t,n){if(e.isLive()){var r=e.getMaxTimeShift()-e.getMaxTimeShift()*(n.position/100);i.setTime(r)}else{var o=0;n.marker?(o=n.marker.time,i.setTitleText(n.marker.title)):(o=n.position,i.setTitleText(null));var r=e.getDuration()*(o/100);i.setTime(r),i.setThumbnail(e.getThumb(r))}});var r=function(){i.timeFormat=Math.abs(e.isLive()?e.getMaxTimeShift():e.getDuration())>=3600?a.StringUtils.FORMAT_HHMMSS:a.StringUtils.FORMAT_MMSS};e.addEventHandler(e.EVENT.ON_READY,r),r()},e.prototype.setText=function(t){this.timeLabel.setText(t)},e.prototype.setTime=function(t){this.setText(a.StringUtils.secondsToTime(t,this.timeFormat))},e.prototype.setTitleText=function(t){this.titleLabel.setText(t)},e.prototype.setThumbnail=function(t){void 0===t&&(t=null);var e=this.thumbnail.getDomElement();null==t?e.css({"background-image":null,display:null,width:null,height:null}):e.css({display:"inherit","background-image":"url("+t.url+")",width:t.w+"px",height:t.h+"px","background-position":"-"+t.x+"px -"+t.y+"px"})},e}(r.Container);e.SeekBarLabel=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(18),s=n(19),a=n(7),u=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.volumeToggleButton=new s.VolumeToggleButton,n.volumeSlider=new o.VolumeSlider({vertical:null==e.vertical||e.vertical,hidden:!0}),n.config=n.mergeConfig(e,{cssClass:"ui-volumecontrolbutton",components:[n.volumeToggleButton,n.volumeSlider],hideDelay:500},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=this.getVolumeToggleButton(),o=this.getVolumeSlider();this.volumeSliderHideTimeout=new a.Timeout(this.getConfig().hideDelay,function(){o.hide()});var s=!1;r.getDomElement().on("mouseenter",function(){o.isHidden()&&o.show(),i.volumeSliderHideTimeout.clear()}),r.getDomElement().on("mouseleave",function(){i.volumeSliderHideTimeout.reset()}),o.getDomElement().on("mouseenter",function(){i.volumeSliderHideTimeout.clear(),s=!0}),o.getDomElement().on("mouseleave",function(){o.isSeeking()?i.volumeSliderHideTimeout.clear():i.volumeSliderHideTimeout.reset(),s=!1}),o.onSeeked.subscribe(function(){s||i.volumeSliderHideTimeout.reset()})},e.prototype.release=function(){t.prototype.release.call(this),this.volumeSliderHideTimeout.clear()},e.prototype.getVolumeToggleButton=function(){return this.volumeToggleButton},e.prototype.getVolumeSlider=function(){return this.volumeSlider},e}(r.Container);e.VolumeControlButton=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-volumeslider",hideIfVolumeControlProhibited:!0},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;if(t.prototype.configure.call(this,e,n,!1),this.getConfig().hideIfVolumeControlProhibited&&!this.detectVolumeControlAvailability(e))return void this.hide();var r=function(){e.isMuted()?(i.setPlaybackPosition(0),i.setBufferPosition(0)):(i.setPlaybackPosition(e.getVolume()),i.setBufferPosition(e.getVolume()))};e.addEventHandler(e.EVENT.ON_READY,r),e.addEventHandler(e.EVENT.ON_VOLUME_CHANGED,r),e.addEventHandler(e.EVENT.ON_MUTED,r),e.addEventHandler(e.EVENT.ON_UNMUTED,r),this.onSeekPreview.subscribe(function(t,n){n.scrubbing&&e.setVolume(n.position)}),this.onSeeked.subscribe(function(t,n){e.setVolume(n)}),e.addEventHandler(e.EVENT.ON_PLAYER_RESIZE,function(){i.refreshPlaybackPosition()}),e.addEventHandler(e.EVENT.ON_READY,function(){i.refreshPlaybackPosition()}),n.onConfigured.subscribe(function(){i.refreshPlaybackPosition()}),r()},e.prototype.detectVolumeControlAvailability=function(t){var e=t.getVolume(),n=t.isMuted(),i=t.isPlaying();return 100!==e||(t.setVolume(0),100!==t.getVolume()&&(t.setVolume(e),n&&t.mute(),i&&t.play(),!0))},e}(r.SeekBar);e.VolumeSlider=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-volumetogglebutton",text:"Volume/Mute"},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=function(){e.isMuted()?i.on():i.off()},o=function(){e.getVolume()<50?i.getDomElement().addClass(i.prefixCss("low")):i.getDomElement().removeClass(i.prefixCss("low"))};e.addEventHandler(e.EVENT.ON_MUTED,r),e.addEventHandler(e.EVENT.ON_UNMUTED,r),e.addEventHandler(e.EVENT.ON_VOLUME_CHANGED,o),this.onClick.subscribe(function(){e.isMuted()?e.unmute():e.mute()}),r(),o()},e}(r.ToggleButton);e.VolumeToggleButton=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(6),s=n(34),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.errorLabel=new o.Label({cssClass:"ui-errormessage-label"}),n.tvNoiseBackground=new s.TvNoiseCanvas,n.config=n.mergeConfig(e,{cssClass:"ui-errormessage-overlay",components:[n.tvNoiseBackground,n.errorLabel],hidden:!0},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=this.getConfig();e.addEventHandler(e.EVENT.ON_ERROR,function(t){var e=t.message;if(r.messages)if("function"==typeof r.messages)e=r.messages(t);else if(r.messages[t.code]){var n=r.messages[t.code];e="string"==typeof n?n:n(t)}i.errorLabel.setText(e),i.tvNoiseBackground.start(),i.show()}),e.addEventHandler(e.EVENT.ON_SOURCE_LOADED,function(t){i.isShown()&&(i.tvNoiseBackground.stop(),i.hide())})},e}(r.Container);e.ErrorMessageOverlay=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(22),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.playbackToggleButton=new o.HugePlaybackToggleButton,n.config=n.mergeConfig(e,{cssClass:"ui-playbacktoggle-overlay",components:[n.playbackToggleButton]},n.config),n}return i(e,t),e}(r.Container);e.PlaybackToggleOverlay=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(2),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-hugeplaybacktogglebutton",text:"Play/Pause"},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n,!1);var r=function(){e.isPlaying()?e.pause("ui-overlay"):e.play("ui-overlay")},o=function(){e.isFullscreen()&&e.exitFullscreen()},s=!0,a=0,u=0;this.onClick.subscribe(function(){if(s)return void r();var t=Date.now();return t-a<200?(o(),void(u=t)):t-a<500?(o(),r(),void(u=t)):(a=t,void setTimeout(function(){Date.now()-u>200&&r()},200))}),e.addEventHandler(e.EVENT.ON_PLAY,function(){s=!1});var c=function(t){t.type===e.EVENT.ON_CAST_START?i.hide():i.show()};e.addEventHandler(e.EVENT.ON_CAST_START,c),e.addEventHandler(e.EVENT.ON_CAST_STARTED,c),e.addEventHandler(e.EVENT.ON_CAST_STOPPED,c)},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return e.append(new o.DOM("div",{class:this.prefixCss("image")})),e},e}(r.PlaybackToggleButton);e.HugePlaybackToggleButton=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(36),o=n(2),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-selectbox"},n.config),n}return i(e,t),e.prototype.toDomElement=function(){var t=this,e=new o.DOM("select",{id:this.config.id,class:this.getCssClasses()});return this.selectElement=e,this.updateDomItems(),e.on("change",function(){var n=e.val();t.onItemSelectedEvent(n,!1)}),e},e.prototype.updateDomItems=function(t){void 0===t&&(t=null),this.selectElement.empty();for(var e=0,n=this.items;e<n.length;e++){var i=n[e],r=new o.DOM("option",{value:i.key}).html(i.label);i.key===t+""&&r.attr("selected","selected"),this.selectElement.append(r)}},e.prototype.onItemAddedEvent=function(e){t.prototype.onItemAddedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemRemovedEvent=function(e){t.prototype.onItemRemovedEvent.call(this,e),this.updateDomItems(this.selectedItem)},e.prototype.onItemSelectedEvent=function(e,n){void 0===n&&(n=!0),t.prototype.onItemSelectedEvent.call(this,e),n&&this.updateDomItems(e)},e}(r.ListSelector);e.SelectBox=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-clickoverlay"},n.config),n}return i(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.setUrl(this.config.url);var e=this.getDomElement();e.on("click",function(){e.data("url")&&window.open(e.data("url"),"_blank")})},e.prototype.getUrl=function(){return this.getDomElement().data("url")},e.prototype.setUrl=function(t){void 0!==t&&null!=t||(t=""),this.getDomElement().data("url",t)},e}(r.Button);e.ClickOverlay=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);!function(t){t[t.Title=0]="Title",t[t.Description=1]="Description"}(r=e.MetadataLabelContent||(e.MetadataLabelContent={}));var s=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClasses:["label-metadata","label-metadata-"+r[e.content].toLowerCase()]},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var o=this.getConfig(),s=n.getConfig(),a=function(){switch(o.content){case r.Title:s&&s.metadata&&s.metadata.title?i.setText(s.metadata.title):e.getConfig().source&&e.getConfig().source.title&&i.setText(e.getConfig().source.title);break;case r.Description:s&&s.metadata&&s.metadata.description?i.setText(s.metadata.description):e.getConfig().source&&e.getConfig().source.description&&i.setText(e.getConfig().source.description)}},u=function(){i.setText(null)};a(),e.addEventHandler(e.EVENT.ON_SOURCE_LOADED,a),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,u)},e}(o.Label);e.MetadataLabel=s},function(t,e,n){n(27),n(30),t.exports=n(43)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(28),o=n(29);e.default=i.module("mi.BitdashPlayer",[]).controller("MiBitdashController",r.default).directive("miBitdashPlayer",o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t,e){this.$scope=t,this.$log=e,this.config={},this.options={},this.$scope=t,this.$log=e}return t.prototype.$onInit=function(){i.isDefined(this.$scope.config)&&i.isDefined(this.$scope.config.key)?this.config=this.$scope.config:this.$log.error("basic config for bitdash player is missing!"),i.isDefined(this.$scope.options)&&(this.options=this.$scope.options),i.isDefined(this.$scope.webcast)&&this.processWebcast(this.$scope.webcast)},t.prototype.processWebcast=function(t){var e=t.state+"StateData";i.isDefined(this.options.forcedState)&&(e=this.options.forcedState+"StateData"),this.config.source=this.getPlayerConfigSource(t,e),this.config.style={ux:!1}},t.prototype.getPlayerConfigSource=function(t,e){return!0===t.useDVRPlaybackInPostlive&&"postliveStateData"===e?this.getDVRPlaybackToPostlive(t):this.getPlayerConfigSourceByState(t,e)},t.prototype.getDVRPlaybackToPostlive=function(t){var e=t.liveStateData.playout.hlsDvrUrl,n=t.name;if(i.isDefined(t.postliveStateData.playout.offset)){var r=parseInt(t.postliveStateData.playout.offset,10);if(r>0){var o=void 0,s=document.createElement("a");s.href=t.liveStateData.playout.hlsDvrUrl,o=s.search?"&":"?",e+=o+"wowzadvrplayliststart="+r+"000"}}return{hls:e,title:n}},t.prototype.getPlayerConfigSourceByState=function(t,e){var n=t[e].playout.hlsUrl,r=t.name,o=this.getHiveServiceUrlByLang(t);if(i.isDefined(t[e].playout.videoManagerHlsUrl)&&t[e].playout.videoManagerHlsUrl&&(n=t[e].playout.videoManagerHlsUrl),i.isDefined(t[e].playout.offset)){var s=parseInt(t[e].playout.offset,10);if(s>0){var a=void 0,u=document.createElement("a");u.href=n,a=u.search?"&":"?",n+=a+"start="+s}}return{hls:n,title:r,hiveServiceUrl:o}},t.prototype.getHiveServiceUrlByLang=function(t){var e=null;return t.languages&&t.language&&t.languages.forEach(function(n){n.language===t.language&&(e=i.copy(n.hiveServiceUrl))}),e},t}();r.$inject=["$scope","$log"],e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(t,e){return{controller:"MiBitdashController",controllerAs:"bitdashVm",replace:!0,restrict:"EA",scope:{config:"=",options:"=?",webcast:"="},template:'<div id="mi-bitdash-player" width="100%" height="auto"></div>',link:function(n){function r(n){u.setup(n).then(function(){c=t.window.bitmovin.playerui.UIManager.Factory,o()?(c.buildAudioOnlyUI(u),s()):c.buildAudioVideoUI(u),h=a("bitmovinplayer-container"),i.isDefined(h)&&(h.style.minWidth="175px",h.style.minHeight="101px",document.getElementById("bitmovinplayer-video-mi-bitdash-player").setAttribute("title",l.name))},function(t){e.log("Error: "+t.code+" - "+t.message)})}function o(){return i.isDefined(n.webcast[f].playout.audioOnly)&&n.webcast[f].playout.audioOnly}function s(){if(i.isDefined(n.webcast[f].playout.audioOnlyStillUrl)&&""!==n.webcast[f].playout.audioOnlyStillUrl){var t=a("mi-wbc-ui-audioonly-overlay");t.style.backgroundImage="url("+n.webcast[f].playout.audioOnlyStillUrl+")",t.style.backgroundSize="contain",t.style.backgroundPosition="center"}}function a(t){return document.getElementsByClassName(t)[0]}var u,c,h,p=n.config,l=n.webcast,f=n.webcast.state+"StateData";!function(){u=t.window.bitmovin.player("mi-bitdash-player"),i.isDefined(u)&&!0===u.isReady()&&(u.destroy(),u=t.window.bitmovin.player("mi-bitdash-player")),"liveStateData"===f&&p.source.hiveServiceUrl?(t.window.bitmovin.initHiveSDN(u,{debugLevel:"off"}),u.initSession(p.source.hiveServiceUrl).then(function(t){var e=i.copy(p);e.source.hls=t.manifest,r(e)},function(t){e.warn("Hive init fails: "+t.code+" - "+t.message),r(p)})):r(p)}()}}};e.default=r,r.$inject=["$window","$log"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),r=n(5),o=n(14),s=n(22),a=n(13),u=n(10),c=n(11),h=n(23),p=n(8),l=n(37),f=n(19),d=n(38),v=n(12),g=n(0),y=n(6),m=n(1),b=n(20),w=n(16),E=n(39),O=n(17),S=n(24),T=n(40),k=n(41),C=n(21),R=n(42),I=n(25),P=n(18),A=n(15),N=n(3);"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),window.bitmovin.playerui={UIManager:i.UIManager,UIInstanceManager:i.UIInstanceManager,ArrayUtils:N.ArrayUtils,StringUtils:N.StringUtils,PlayerUtils:N.PlayerUtils,UIUtils:N.UIUtils,BrowserUtils:N.BrowserUtils,BufferingOverlay:k.BufferingOverlay,Button:r.Button,ClickOverlay:S.ClickOverlay,CloseButton:R.CloseButton,Component:m.Component,Container:g.Container,ControlBar:o.ControlBar,ErrorMessageOverlay:b.ErrorMessageOverlay,HugePlaybackToggleButton:s.HugePlaybackToggleButton,HugeReplayButton:T.HugeReplayButton,Label:y.Label,MetadataLabel:I.MetadataLabel,MetadataLabelContent:I.MetadataLabelContent,PlaybackTimeLabel:a.PlaybackTimeLabel,PlaybackTimeLabelMode:a.PlaybackTimeLabelMode,PlaybackToggleButton:u.PlaybackToggleButton,PlaybackToggleOverlay:C.PlaybackToggleOverlay,SeekBar:c.SeekBar,SeekBarLabel:w.SeekBarLabel,SelectBox:h.SelectBox,Spacer:A.Spacer,TitleBar:E.TitleBar,ToggleButton:p.ToggleButton,UIContainer:v.UIContainer,VideoQualitySelectBox:l.VideoQualitySelectBox,VolumeControlButton:O.VolumeControlButton,VolumeSlider:P.VolumeSlider,VolumeToggleButton:f.VolumeToggleButton,Watermark:d.Watermark}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(2),s=n(1),a=n(0),u=n(10),c=n(11),h=n(13),p=n(14),l=n(4),f=n(16),d=n(17),v=n(33),g=n(20),y=n(3),m=n(35),b=n(21),w=function(){function t(t,e,n){void 0===n&&(n={});var i=this;if(e instanceof r.UIContainer){var s=e,a=[];a.push({ui:s}),this.uiVariants=a}else this.uiVariants=e;this.player=t,this.config=n,this.managerPlayerWrapper=new S(t),this.playerElement=new o.DOM(t.getFigure()),this.uiInstanceManagers=[];for(var u=[],c=0,h=this.uiVariants;c<h.length;c++){var p=h[c];null==p.condition&&u.push(p),this.uiInstanceManagers.push(new O(t,p.ui,this.config))}if(u.length>1)throw Error("Too many UIs without a condition: You cannot have more than one default UI");if(u.length>0&&u[0]!==this.uiVariants[this.uiVariants.length-1])throw Error("Invalid UI variant order: the default UI (without condition) must be at the end of the list");var l=null,f=y.BrowserUtils.isMobile,d=function(e){if(null!=e)switch(e.type){case t.EVENT.ON_AD_STARTED:l=e;break;case t.EVENT.ON_AD_FINISHED:case t.EVENT.ON_AD_SKIPPED:case t.EVENT.ON_AD_ERROR:l=null}for(var n=null!=l,r=n&&"vast"===l.clientType,o={isAd:n,isAdWithUI:r,isFullscreen:i.player.isFullscreen(),isMobile:f,width:i.playerElement.width(),documentWidth:document.body.clientWidth},s=null,a=!1,u=0,c=i.uiVariants;u<c.length;u++){var h=c[u];if(null==h.condition||!0===h.condition(o)){s=i.uiInstanceManagers[i.uiVariants.indexOf(h)];break}}s!==i.currentUi&&(a=!0),a&&(i.currentUi&&i.currentUi.getUI().hide(),i.currentUi=s,null!=i.currentUi&&(i.currentUi.isConfigured()||i.addUi(i.currentUi),o.isAd&&i.currentUi.getWrappedPlayer().fireEventInUI(i.player.EVENT.ON_AD_STARTED,l),i.currentUi.getUI().show()))};this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER,d),this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT,d),d(null)}return t.prototype.getConfig=function(){return this.config},t.prototype.addUi=function(t){var e=t.getUI().getDomElement();t.configureControls(),this.playerElement.append(e),window.requestAnimationFrame?requestAnimationFrame(function(){t.onConfigured.dispatch(t.getUI())}):setTimeout(function(){t.onConfigured.dispatch(t.getUI())},0)},t.prototype.releaseUi=function(t){t.releaseControls(),t.getUI().getDomElement().remove(),t.clearEventHandlers()},t.prototype.release=function(){for(var t=0,e=this.uiInstanceManagers;t<e.length;t++){var n=e[t];this.releaseUi(n)}this.managerPlayerWrapper.clearEventHandlers()},t}();e.UIManager=w,function(t){!function(e){function n(e,n){void 0===n&&(n={});var i=new p.ControlBar({components:[new u.PlaybackToggleButton,new c.SeekBar({label:new f.SeekBarLabel}),new h.PlaybackTimeLabel,new d.VolumeControlButton({vertical:!0}),new v.FullscreenToggleButton,new s.Component({cssClass:"spacer"})]},!0),o=new r.UIContainer({components:[new b.PlaybackToggleOverlay,i,new g.ErrorMessageOverlay],cssClasses:["ui-skin"]});return new t(e,o,n)}function i(e,n){void 0===n&&(n={});var i=new p.ControlBar({components:[new u.PlaybackToggleButton,new c.SeekBar({label:new f.SeekBarLabel,hideInLivePlayback:!0}),new h.PlaybackTimeLabel,new d.VolumeControlButton({vertical:!0}),new s.Component({cssClass:"spacer"})]},!1),o=new r.UIContainer({components:[new m.AudioOnlyOverlay,new b.PlaybackToggleOverlay,i,new g.ErrorMessageOverlay],cssClasses:["ui-skin"]});return new t(e,o,n)}e.buildAudioVideoUI=n,e.buildAudioOnlyUI=i}(t.Factory||(t.Factory={}))}(w=e.UIManager||(e.UIManager={})),e.UIManager=w;var E=function(){function t(t,e,n){void 0===n&&(n={}),this.events={onConfigured:new l.EventDispatcher,onSeek:new l.EventDispatcher,onSeekPreview:new l.EventDispatcher,onSeeked:new l.EventDispatcher,onComponentShow:new l.EventDispatcher,onComponentHide:new l.EventDispatcher,onControlsShow:new l.EventDispatcher,onPreviewControlsHide:new l.EventDispatcher,onControlsHide:new l.EventDispatcher},this.playerWrapper=new S(t),this.ui=e,this.config=n}return t.prototype.getConfig=function(){return this.config},t.prototype.getUI=function(){return this.ui},t.prototype.getPlayer=function(){return this.playerWrapper.getPlayer()},Object.defineProperty(t.prototype,"onConfigured",{get:function(){return this.events.onConfigured},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeek",{get:function(){return this.events.onSeek},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeekPreview",{get:function(){return this.events.onSeekPreview},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSeeked",{get:function(){return this.events.onSeeked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onComponentShow",{get:function(){return this.events.onComponentShow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onComponentHide",{get:function(){return this.events.onComponentHide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onControlsShow",{get:function(){return this.events.onControlsShow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPreviewControlsHide",{get:function(){return this.events.onPreviewControlsHide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onControlsHide",{get:function(){return this.events.onControlsHide},enumerable:!0,configurable:!0}),t.prototype.clearEventHandlers=function(){this.playerWrapper.clearEventHandlers();var t=this.events;for(var e in t){t[e].unsubscribeAll()}},t}();e.UIInstanceManager=E;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getWrappedPlayer=function(){return this.getPlayer()},e.prototype.configureControls=function(){this.configureControlsTree(this.getUI()),this.configured=!0},e.prototype.isConfigured=function(){return this.configured},e.prototype.configureControlsTree=function(t){var e=this,n=[];y.UIUtils.traverseTree(t,function(t){for(var i=0,r=n;i<r.length;i++){if(r[i]===t)throw console&&console.error("Circular reference in UI tree",t),Error("Circular reference in UI tree: "+t.constructor.name)}t.initialize(),t.configure(e.getPlayer(),e),n.push(t)})},e.prototype.releaseControls=function(){this.configured&&(this.releaseControlsTree(this.getUI()),this.configured=!1),this.released=!0},e.prototype.isReleased=function(){return this.released},e.prototype.releaseControlsTree=function(t){if(t.release(),t instanceof a.Container)for(var e=0,n=t.getComponents();e<n.length;e++){var i=n[e];this.releaseControlsTree(i)}},e.prototype.clearEventHandlers=function(){t.prototype.clearEventHandlers.call(this)},e}(E),S=function(){function t(t){var e=this;this.eventHandlers={},this.player=t;var n=[];for(var i in t)"function"==typeof t[i]&&n.push(i);for(var r={},o=0,s=n;o<s.length;o++){var i=s[o];!function(e){r[e]=function(){return t[e].apply(t,arguments)}}(i)}for(var i in t)"function"!=typeof t[i]&&(r[i]=t[i]);r.addEventHandler=function(n,i){return t.addEventHandler(n,i),e.eventHandlers[n]||(e.eventHandlers[n]=[]),e.eventHandlers[n].push(i),r},r.removeEventHandler=function(n,i){return t.removeEventHandler(n,i),e.eventHandlers[n]&&y.ArrayUtils.remove(e.eventHandlers[n],i),r},r.fireEventInUI=function(t,n){if(e.eventHandlers[t])for(var i=Object.assign({},{timestamp:Date.now(),type:t,uiSourced:!0},n),r=0,o=e.eventHandlers[t];r<o.length;r++){var s=o[r];s(i)}},this.wrapper=r}return t.prototype.getPlayer=function(){return this.wrapper},t.prototype.clearEventHandlers=function(){for(var t in this.eventHandlers)for(var e=0,n=this.eventHandlers[t];e<n.length;e++){var i=n[e];this.player.removeEventHandler(t,i)}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(){return n++}var n=1;t.next=e}(e.Guid||(e.Guid={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-fullscreentogglebutton",text:"Fullscreen"},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=function(){e.isFullscreen()?i.on():i.off()};e.addEventHandler(e.EVENT.ON_FULLSCREEN_ENTER,r),e.addEventHandler(e.EVENT.ON_FULLSCREEN_EXIT,r),this.onClick.subscribe(function(){e.isFullscreen()?e.exitFullscreen():e.enterFullscreen()}),r()},e}(r.ToggleButton);e.FullscreenToggleButton=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.canvasWidth=160,n.canvasHeight=90,n.interferenceHeight=50,n.lastFrameUpdate=0,n.frameInterval=60,n.useAnimationFrame=!!window.requestAnimationFrame,n.config=n.mergeConfig(e,{cssClass:"ui-tvnoisecanvas"},n.config),n}return i(e,t),e.prototype.toDomElement=function(){return this.canvas=new o.DOM("canvas",{class:this.getCssClasses()})},e.prototype.start=function(){this.canvasElement=this.canvas.getElements()[0],this.canvasContext=this.canvasElement.getContext("2d"),this.noiseAnimationWindowPos=-this.canvasHeight,this.lastFrameUpdate=0,this.canvasElement.width=this.canvasWidth,this.canvasElement.height=this.canvasHeight,this.renderFrame()},e.prototype.stop=function(){this.useAnimationFrame?cancelAnimationFrame(this.frameUpdateHandlerId):clearTimeout(this.frameUpdateHandlerId)},e.prototype.renderFrame=function(){if(this.lastFrameUpdate+this.frameInterval>(new Date).getTime())return void this.scheduleNextRender();for(var t,e=this.canvasWidth,n=this.canvasHeight,i=this.canvasContext.createImageData(e,n),r=0;r<n;r++)for(var o=0;o<e;o++)t=e*r*4+4*o,i.data[t]=255*Math.random(),(r<this.noiseAnimationWindowPos||r>this.noiseAnimationWindowPos+this.interferenceHeight)&&(i.data[t]*=.85),i.data[t+1]=i.data[t],i.data[t+2]=i.data[t],i.data[t+3]=50;this.canvasContext.putImageData(i,0,0),this.lastFrameUpdate=(new Date).getTime(),this.noiseAnimationWindowPos+=7,this.noiseAnimationWindowPos>n&&(this.noiseAnimationWindowPos=-n),this.scheduleNextRender()},e.prototype.scheduleNextRender=function(){this.useAnimationFrame?this.frameUpdateHandlerId=window.requestAnimationFrame(this.renderFrame.bind(this)):this.frameUpdateHandlerId=setTimeout(this.renderFrame.bind(this),this.frameInterval)},e}(r.Component);e.TvNoiseCanvas=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.audioonly=[new o.Component({tag:"div",cssClass:"ui-audioonly-overlay-indicator"})],n.config=n.mergeConfig(e,{cssClass:"ui-audioonly-overlay",components:n.audioonly,hidden:!1},n.config),n}return i(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n);var i=this;i.getDomElement().css("background-image")},e}(r.Container);e.AudioOnlyOverlay=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(4),s=n(3),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.listSelectorEvents={onItemAdded:new o.EventDispatcher,onItemRemoved:new o.EventDispatcher,onItemSelected:new o.EventDispatcher},n.config=n.mergeConfig(e,{items:[],cssClass:"ui-listselector"},n.config),n.items=n.config.items,n}return i(e,t),e.prototype.getItemIndex=function(t){for(var e in this.items)if(t===this.items[e].key)return parseInt(e);return-1},e.prototype.hasItem=function(t){return this.getItemIndex(t)>-1},e.prototype.addItem=function(t,e){this.removeItem(t),this.items.push({key:t,label:e}),this.onItemAddedEvent(t)},e.prototype.removeItem=function(t){var e=this.getItemIndex(t);return e>-1&&(s.ArrayUtils.remove(this.items,this.items[e]),this.onItemRemovedEvent(t),!0)},e.prototype.selectItem=function(t){return t===this.selectedItem||this.getItemIndex(t)>-1&&(this.selectedItem=t,this.onItemSelectedEvent(t),!0)},e.prototype.getSelectedItem=function(){return this.selectedItem},e.prototype.clearItems=function(){var t=this.items;this.items=[];for(var e=0,n=t;e<n.length;e++){var i=n[e];this.onItemRemovedEvent(i.key)}},e.prototype.itemCount=function(){return Object.keys(this.items).length},e.prototype.onItemAddedEvent=function(t){this.listSelectorEvents.onItemAdded.dispatch(this,t)},e.prototype.onItemRemovedEvent=function(t){this.listSelectorEvents.onItemRemoved.dispatch(this,t)},e.prototype.onItemSelectedEvent=function(t){this.listSelectorEvents.onItemSelected.dispatch(this,t)},Object.defineProperty(e.prototype,"onItemAdded",{get:function(){return this.listSelectorEvents.onItemAdded.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onItemRemoved",{get:function(){return this.listSelectorEvents.onItemRemoved.getEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onItemSelected",{get:function(){return this.listSelectorEvents.onItemSelected.getEvent()},enumerable:!0,configurable:!0}),e}(r.Component);e.ListSelector=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),o=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=function(){var t=e.getAvailableVideoQualities();i.clearItems(),i.addItem("auto","auto");for(var n=0,r=t;n<r.length;n++){var o=r[n];i.addItem(o.id,o.label)}};this.onItemSelected.subscribe(function(t,n){e.setVideoQuality(n)}),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,r),e.addEventHandler(e.EVENT.ON_READY,r),e.addEventHandler(e.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE,function(){var t=e.getDownloadedVideoData();i.selectItem(t.isAuto?"auto":t.id)}),r()},e}(r.SelectBox);e.VideoQualitySelectBox=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-watermark",url:"https://www.movingimage.com"},n.config),n}return i(e,t),e}(r.ClickOverlay);e.Watermark=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(25),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-titlebar",hidden:!0,components:[new o.MetadataLabel({content:o.MetadataLabelContent.Title}),new o.MetadataLabel({content:o.MetadataLabelContent.Description})],keepHiddenWithoutMetadata:!1},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);for(var r=this.getConfig(),s=!this.isHidden(),a=!0,u=function(){a=!1;for(var t=0,e=i.getComponents();t<e.length;t++){var n=e[t];if(n instanceof o.MetadataLabel&&!n.isEmpty()){a=!0;break}}i.isShown()?r.keepHiddenWithoutMetadata&&!a&&i.hide():s&&i.show()},c=0,h=this.getComponents();c<h.length;c++){var p=h[c];p instanceof o.MetadataLabel&&p.onTextChanged.subscribe(u)}n.onControlsShow.subscribe(function(){s=!0,r.keepHiddenWithoutMetadata&&!a||i.show()}),n.onControlsHide.subscribe(function(){s=!1,i.hide()}),u()},e}(r.Container);e.TitleBar=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(2),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-hugereplaybutton",text:"Replay"},n.config),n}return i(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n),this.onClick.subscribe(function(){e.play("ui-overlay")})},e.prototype.toDomElement=function(){var e=t.prototype.toDomElement.call(this);return e.append(new o.DOM("div",{class:this.prefixCss("image")})),e},e}(r.Button);e.HugeReplayButton=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),s=n(7),a=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.indicators=[new o.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new o.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"}),new o.Component({tag:"div",cssClass:"ui-buffering-overlay-indicator"})],n.config=n.mergeConfig(e,{cssClass:"ui-buffering-overlay",hidden:!0,components:n.indicators,showDelayMs:1e3},n.config),n}return i(e,t),e.prototype.configure=function(e,n){var i=this;t.prototype.configure.call(this,e,n);var r=this.getConfig(),o=new s.Timeout(r.showDelayMs,function(){i.show()}),a=function(){o.start()},u=function(){o.clear(),i.hide()};e.addEventHandler(e.EVENT.ON_STALL_STARTED,a),e.addEventHandler(e.EVENT.ON_STALL_ENDED,u),e.addEventHandler(e.EVENT.ON_SOURCE_UNLOADED,u),e.isStalled()&&this.show()},e}(r.Container);e.BufferingOverlay=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(t){function e(e){var n=t.call(this,e)||this;return n.config=n.mergeConfig(e,{cssClass:"ui-closebutton",text:"Close"},n.config),n}return i(e,t),e.prototype.configure=function(e,n){t.prototype.configure.call(this,e,n);var i=this.getConfig();this.onClick.subscribe(function(){i.target.hide()})},e}(r.Button);e.CloseButton=o},function(module,exports){/*! Hive Stats Pack build 3.2.0 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(t){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){return void 0===t}if(t){var i={},r=t.TraceKit,o=[].slice,s="?";i.noConflict=function(){return t.TraceKit=r,i},i.wrap=function(t){function e(){try{return t.apply(this,arguments)}catch(t){throw i.report(t),t}}return e},i.report=function(){function n(t){u(),l.push(t)}function r(t){for(var e=l.length-1;e>=0;--e)l[e]===t&&l.splice(e,1)}function s(t,n){var r=null;if(!n||i.collectWindowErrors){for(var s in l)if(e(l,s))try{l[s].apply(null,[t].concat(o.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function a(t,e,n,r,o){var a=null;if(o)a=i.computeStackTrace(o);else if(d)i.computeStackTrace.augmentStackTraceWithInitialElement(d,e,n,t),a=d,d=null,f=null;else{var u={url:e,line:n,column:r};u.func=i.computeStackTrace.guessFunctionName(u.url,u.line),u.context=i.computeStackTrace.gatherContext(u.url,u.line),a={mode:"onerror",message:t,url:document.location.href,stack:[u],useragent:navigator.userAgent}}return s(a,"from window.onerror"),!!h&&h.apply(this,arguments)}function u(){!0!==p&&(h=t.onerror,t.onerror=a,p=!0)}function c(e){var n=o.call(arguments,1);if(d){if(f===e)return;var r=d;d=null,f=null,s.apply(null,[r,null].concat(n))}var a=i.computeStackTrace(e);throw d=a,f=e,t.setTimeout(function(){f===e&&(d=null,f=null,s.apply(null,[a,null].concat(n)))},a.incomplete?2e3:0),e}var h,p,l=[],f=null,d=null;return c.subscribe=n,c.unsubscribe=r,c}(),i.computeStackTrace=function(){function r(e){if(!i.remoteFetching)return"";try{var n=function(){try{return new t.XMLHttpRequest}catch(e){return new t.ActiveXObject("Microsoft.XMLHTTP")}}();return n.open("GET",e,!1),n.send(""),n.responseText}catch(t){return""}}function o(t){if("string"!=typeof t)return[];if(!e(O,t)){var n="",i="";try{i=document.domain}catch(t){}-1!==t.indexOf(i)&&(n=r(t)),O[t]=n?n.split("\n"):[]}return O[t]}function a(t,e){var i,r=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,u="",c=o(t);if(!c.length)return s;for(var h=0;10>h;++h)if(u=c[e-h]+u,!n(u)){if(i=a.exec(u))return i[1];if(i=r.exec(u))return i[1]}return s}function u(t,e){var r=o(t);if(!r.length)return null;var s=[],a=Math.floor(i.linesOfContext/2),u=a+i.linesOfContext%2,c=Math.max(0,e-a-1),h=Math.min(r.length,e+u-1);e-=1;for(var p=c;h>p;++p)n(r[p])||s.push(r[p]);return s.length>0?s:null}function c(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function h(t){return c(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function p(t,e){for(var n,i,r=0,s=e.length;s>r;++r)if((n=o(e[r])).length&&(n=n.join("\n"),i=t.exec(n)))return{url:e[r],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1};return null}function l(t,e,n){var i,r=o(e),s=new RegExp("\\b"+c(t)+"\\b");return n-=1,r&&r.length>n&&(i=s.exec(r[n]))?i.index:null}function f(e){for(var n,i,r,o,s=[t.location.href],a=document.getElementsByTagName("script"),u=""+e,l=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,f=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=0;d<a.length;++d){var v=a[d];v.src&&s.push(v.src)}if(r=l.exec(u)){var g=r[1]?"\\s+"+r[1]:"",y=r[2].split(",").join("\\s*,\\s*");n=c(r[3]).replace(/;$/,";?"),i=new RegExp("function"+g+"\\s*\\(\\s*"+y+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else i=new RegExp(c(u).replace(/\s+/g,"\\s+"));if(o=p(i,s))return o;if(r=f.exec(u)){var m=r[1];if(n=h(r[2]),i=new RegExp("on"+m+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),o=p(i,s[0]))return o;if(i=new RegExp(n),o=p(i,s))return o}return null}function d(t){if(!t.stack)return null;for(var e,i,r=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=t.stack.split("\n"),p=[],f=/^(.*) is undefined$/.exec(t.message),d=0,v=h.length;v>d;++d){if(e=o.exec(h[d]))i={url:e[3],func:e[1]||s,args:e[2]?e[2].split(","):"",line:+e[4],column:e[5]?+e[5]:null};else if(e=r.exec(h[d]))i={url:e[2],func:e[1]||s,line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=c.exec(h[d])))continue;i={url:e[2],func:e[1]||s,line:+e[3],column:e[4]?+e[4]:null}}!i.func&&i.line&&(i.func=a(i.url,i.line)),i.line&&(i.context=u(i.url,i.line)),p.push(i)}return p.length?(p[0]&&p[0].line&&!p[0].column&&f?p[0].column=l(f[1],p[0].url,p[0].line):p[0].column||n(t.columnNumber)||(p[0].column=t.columnNumber+1),{mode:"stack",name:t.name,message:t.message,url:document.location.href,stack:p,useragent:navigator.userAgent}):null}function v(t){for(var e,n=t.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,r=n.split("\n"),o=[],s=0,c=r.length;c>s;s+=2)if(e=i.exec(r[s])){var h={line:+e[1],column:+e[2],func:e[3]||e[4],args:e[5]?e[5].split(","):[],url:e[6]};if(!h.func&&h.line&&(h.func=a(h.url,h.line)),h.line)try{h.context=u(h.url,h.line)}catch(t){}h.context||(h.context=[r[s+1]]),o.push(h)}return o.length?{mode:"stacktrace",name:t.name,message:t.message,url:document.location.href,stack:o,useragent:navigator.userAgent}:null}function g(n){var i=n.message.split("\n");if(i.length<4)return null;var r,s,c,l,f=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,v=/^\s*Line (\d+) of function script\s*$/i,g=[],y=document.getElementsByTagName("script"),m=[];for(s in y)e(y,s)&&!y[s].src&&m.push(y[s]);for(s=2,c=i.length;c>s;s+=2){var b=null;if(r=f.exec(i[s]))b={url:r[2],func:r[3],line:+r[1]};else if(r=d.exec(i[s])){b={url:r[3],func:r[4]};var w=+r[1],E=m[r[2]-1];if(E&&(l=o(b.url))){l=l.join("\n");var O=l.indexOf(E.innerText);O>=0&&(b.line=w+l.substring(0,O).split("\n").length)}}else if(r=v.exec(i[s])){var S=t.location.href.replace(/#.*$/,""),T=r[1],k=new RegExp(h(i[s+1]));l=p(k,[S]),b={url:S,line:l?l.line:T,func:""}}if(b){b.func||(b.func=a(b.url,b.line));var C=u(b.url,b.line),R=C?C[Math.floor(C.length/2)]:null;b.context=C&&R.replace(/^\s*/,"")===i[s+1].replace(/^\s*/,"")?C:[i[s+1]],g.push(b)}}return g.length?{mode:"multiline",name:n.name,message:i[0],url:document.location.href,stack:g,useragent:navigator.userAgent}:null}function y(t,e,n,i){var r={url:e,line:n};if(r.url&&r.line){t.incomplete=!1,r.func||(r.func=a(r.url,r.line)),r.context||(r.context=u(r.url,r.line));var o=/ '([^']+)' /.exec(i);if(o&&(r.column=l(o[1],r.url,r.line)),t.stack.length>0&&t.stack[0].url===r.url){if(t.stack[0].line===r.line)return!1;if(!t.stack[0].line&&t.stack[0].func===r.func)return t.stack[0].line=r.line,t.stack[0].context=r.context,!1}return t.stack.unshift(r),t.partial=!0,!0}return t.incomplete=!0,!1}function m(t,e){for(var n,r,o,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],h={},p=!1,d=m.caller;d&&!p;d=d.caller)if(d!==b&&d!==i.report){if(r={url:null,func:s,line:null,column:null},d.name?r.func=d.name:(n=u.exec(d.toString()))&&(r.func=n[1]),void 0===r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(t){}if(o=f(d)){r.url=o.url,r.line=o.line,r.func===s&&(r.func=a(r.url,r.line));var v=/ '([^']+)' /.exec(t.message||t.description);v&&(r.column=l(v[1],o.url,o.line))}h[""+d]?p=!0:h[""+d]=!0,c.push(r)}e&&c.splice(0,e);var g={mode:"callers",name:t.name,message:t.message,url:document.location.href,stack:c,useragent:navigator.userAgent};return y(g,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),g}function b(t,e){var n=null;e=null==e?0:+e;try{if(n=v(t))return n}catch(t){if(E)throw t}try{if(n=d(t))return n}catch(t){if(E)throw t}try{if(n=g(t))return n}catch(t){if(E)throw t}try{if(n=m(t,e+1))return n}catch(t){if(E)throw t}return{mode:"failed"}}function w(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return b(e,t+1)}}var E=!1,O={};return b.augmentStackTraceWithInitialElement=y,b.guessFunctionName=a,b.gatherContext=u,b.ofCaller=w,b.getSource=o,b}(),i.extendToAsynchronousCallbacks=function(){var e=function(e){var n=t[e];t[e]=function(){var t=o.call(arguments),e=t[0];return"function"==typeof e&&(t[0]=i.wrap(e)),n.apply?n.apply(this,t):n(t[0],t[1])}};e("setTimeout"),e("setInterval")},i.remoteFetching||(i.remoteFetching=!0),i.collectWindowErrors||(i.collectWindowErrors=!0),(!i.linesOfContext||i.linesOfContext<1)&&(i.linesOfContext=11),t.TraceKit=i}}("undefined"!=typeof window?window:global),function(t,e){"use strict";if(t){var n=t.event.add;t.event.add=function(i,r,o,s,a){if("function"!=typeof o&&"function"!=typeof o.handler)return n.call(this,i,r,o,s,a);var u;return o.handler?(u=o.handler,o.handler=e.wrap(o.handler)):(u=o,o=e.wrap(o)),o.guid=u.guid?u.guid:u.guid=t.guid++,n.call(this,i,r,o,s,a)};var i=t.fn.ready;t.fn.ready=function(t){return i.call(this,e.wrap(t))};var r=t.ajax;t.ajax=function(n,i){"object"==typeof n&&(i=n,n=void 0),i=i||{};for(var o,s=["complete","error","success"];o=s.pop();)t.isFunction(i[o])&&(i[o]=e.wrap(i[o]));try{return n?r.call(this,n,i):r.call(this,i)}catch(t){throw e.report(t),t}}}}(window.jQuery,window.TraceKit),function(t,e,n,i){function r(t){var e=t,n=t.split("//")[1];if(n){var i=n.indexOf("?"),r=n.toString().substring(0,i),o=r.split("/").slice(0,4).join("/"),s=r.substring(0,48);(e=o.length<s.length?o:s)!==r&&(e+="..")}return e}function o(t,e,n,o){if(M&&(L||e.getAllResponseHeaders())){var s="AJAX Error: "+(e.statusText||"unknown")+" "+(n.type||"unknown")+" "+(r(n.url)||"unknown");J.send(o||t.type,{status:e.status,statusText:e.statusText,type:n.type,url:n.url,ajaxErrorMessage:s,contentType:n.contentType,requestData:n.data&&n.data.slice?n.data.slice(0,10240):i,responseData:e.responseText&&e.responseText.slice?e.responseText.slice(0,10240):i,activeTarget:t.target&&t.target.activeElement?t.target.activeElement.outerHTML:i})}}function s(){return!(!d||""===d)||(F.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function a(){var n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}function u(t){var e=(new Date).toJSON();try{var n="atatusjs="+e+"="+F.getRandomInt();void 0===localStorage[n]&&(localStorage[n]=t)}catch(t){F.log("Atatus: LocalStorage full, cannot save exception")}}function c(){try{return"localStorage"in t&&null!==t.localStorage}catch(t){return!1}}function h(){if(c()&&localStorage.length>0)for(var t in localStorage)if("atatusjs="===t.substring(0,9)){try{var e=JSON.parse(localStorage[t]);"apikey"in e&&l(U,e)}catch(t){F.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(t)}}function p(t,n){if(n=n||{},!t.stack||!t.stack.length)return void F.log("Atatus: Canceling send due to no stacktrace.");F.isEmpty(n.customData)&&(n.customData="function"==typeof v?v():v),F.isEmpty(n.tags)&&(n.tags=A);var i=n.customData&&n.customData.ajaxErrorMessage||t.message;if(i&&0===i.indexOf("Uncaught ")&&(i=t.message.substring(9)),i=i||n.status||"Script error.",O&&O.test(i))return void F.log("Atatus: canceling send due to ignore errors");var r=[];t.stack&&t.stack.length&&F.forEach(t.stack,function(t,e){F.endsWith(e.url,"/atatus.js")||r.push({ln:e.line||0,cn:e.column||0,f:e.url||"anonymous",m:e.func||"[anonymous]"})});var o=[t.name,i,JSON.stringify(r)].join("|");if(o===S)return void F.log("Atatus: canceling send due to duplicate errors");S=o;var s=n.customData;try{JSON.stringify(s)}catch(t){var a="Cannot add custom data; may contain circular reference";s={error:a},F.log("Atatus: "+a)}var u=Q.getAllEvents();B.clear();var c={class:t.name,name:i,backTraces:r,userActions:u,net:null,customData:s||null,tags:n.tags,sourcemap:D,request:{url:e.location.href,ua:navigator.userAgent}};if("function"==typeof T&&(c.groupingKey=T(c)),"function"==typeof k){k(c)&&l(U,c)}else l(U,c)}function l(n,i){if(x&&x.length&&-1===x.indexOf(location.host))return void F.log("Atatus: canceling send due to not a allowed domain");if(s()){if(!i.ts){var r=t.screen||a();i.ts=(new Date).getTime(),i.apikey=d,i.request=i.request||{},i.request.url=i.request.url||e.location.href,i.request.ua=i.request.ua||navigator.userAgent,i.request.w=r.width,i.request.h=r.height,i.v=y||"",i._v=R||""}g&&(i.cid=g.userId||null),F.log("Sending data to Atatus Receiver:",i),f(n,JSON.stringify(i))}}function f(t,e){var n=new Image,i=H+t+"?data="+encodeURIComponent(e);n.crossOrigin="anonymous",n.onload=function(){h()},n.onerror=n.onabort=function(){j&&t===U&&u(e)},n.src=i}var d,v,g,y,m,b,w,E,O,S,T,k,C,R="2.3.12",I=TraceKit.noConflict(),P=t.atatus,A=[],N=!1,x=[],_=!1,j=!1,D=!1,M=!1,L=!1,H="https://br-rx.atatus.com",U="/track/browser/errors";n&&(C=n(e));var F={isBoolean:function(t){return void 0!==t&&"boolean"==typeof t},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},endsWith:function(t,e){return!(!t||!e)&&-1!==t.indexOf(e,t.length-e.length)},joinRegExp:function(t){for(var e,n=[],i=0,r=t.length;r>i;i++)e=t[i],F.isString(e)?n.push(e.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")},getTargetUrl:function(e){return t.XDomainRequest&&_&&(e=e.slice(6)),e},now:function(){return(new Date).getTime()},pad:function(t){return t=String(t),1===t.length&&(t="0"+t),t},merge:function(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i},mergeArray:function(t,e){return null!=e?t.concat(e):t},forEach:function(t,e){for(var n=0;n<t.length;n++)e.call(null,n,t[n])},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(e,n){N&&t.console&&t.console.log&&(t.console.log(e),n&&t.console.log(n))},bind:function(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var e=t.navigator.userAgent,n=e.match(/Trident\/([\d.]+)/),i=n&&"7.0"===n[1]?11:!!(e=e.match(/MSIE ([\d.]+)/))&&parseInt(e[1],10);return i&&9>=i},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},addEventListener:function(e,n,i){return void 0!==t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,i):void 0},arrayFromObject:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}},B={eventObject:{},all:function(t){for(var e=this.getEventObject(t),n=[],i=0;i<e.length;i++)n.push(e[i].value);return n},clear:function(){for(var t in this.eventObject)this.eventObject.hasOwnProperty(t)&&(this.eventObject[t].length=0)},add:function(t,e){var n=this.getEventObject(t),i=F.uuid4();return n.push({key:i,value:e}),this.truncateEventObject(t,10),i},get:function(t,e){for(var n=this.getEventObject(t),i=0;i<n.length;i++)if(n[i].key===e)return n[i].value;return!1},getEventObject:function(t){return this.eventObject[t]||(this.eventObject[t]=[]),this.eventObject[t]},truncateEventObject:function(t,e){var n=this.getEventObject(t);n.length>e&&(this.eventObject[t]=n.slice(n.length-e))}},V={attach:function(e,n,i,r,o){e=e||t.console||{};for(var s=o||["log","debug","info","warn","error"],a=s.pop(),u=function(t,e,i){n&&B.add("user",{ts:F.now(),c:"console",l:t,m:e}),"error"===t&&r&&J.notify(new Error(e),i)};a;)this.wrapConsoleMethod(e,a,i,u),a=s.pop()},wrapConsoleMethod:function(t,e,n,i){var r=t[e],o=t;e in t&&(t[e]=function(){var t=[].slice.call(arguments),s=""+t.join(" "),a={level:e,logger:"console"};i&&i(e,s,a),r&&n&&Function.prototype.apply.call(r,o,t)})}},Q={attach:function(){var t=F.bind(this.onDocumentClicked,this),n=F.bind(this.onInputChanged,this);e.addEventListener?(e.addEventListener("click",t,!0),e.addEventListener("blur",n,!0)):e.attachEvent&&(e.attachEvent("onclick",t),e.attachEvent("onfocusout",n))},writeUserEvent:function(t,e,n,i){"password"===this.getElementType(t)&&(n=void 0),B.add("user",{ts:F.now(),a:e,e:this.getOuterHTML(t),v:this.getValueKind(n,i)})},onDocumentClicked:function(t){var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isTarget(e,"a")||this.isTarget(e,"button")||this.isTarget(e,"input",["button","submit"])?this.writeUserEvent(e,"click"):this.isTarget(e,"input",["checkbox","radio"])&&this.writeUserEvent(e,"check",e.value,e.checked))},onInputChanged:function(t){var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isTarget(e,"textarea")?this.writeUserEvent(e,"input",e.value):this.isTarget(e,"select")&&e.options&&e.options.length?this.onSelectInputChanged(e):this.isTarget(e,"input")&&!this.isTarget(e,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(e,"input",e.value))},onSelectInputChanged:function(t){if(t.multiple){for(var e=0;e<t.options.length;e++)if(t.options[e].selected){this.writeUserEvent(t,"select",t.options[e].value);break}}else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeUserEvent(t,"select",t.options[t.selectedIndex].value)},getElementFromEvent:function(t){return t.target||e.elementFromPoint(t.clientX,t.clientY)},isTarget:function(t,e,n){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!n)return!0;for(var i=this.getElementType(t),r=0;r<n.length;r++)if(n[r]===i)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(t){for(var e="<"+t.tagName.toLowerCase(),n=t.attributes,i=0,r=n.length;r>i;i++){var o=n[i].name;"value"!==o.toLowerCase()&&(e+=" "+o+'="'+n[i].value+'"')}return e+=" >"},getValueKind:function(t,e){return null==t?null:{length:t.length,checked:e,pattern:this.matchInputPattern(t)}},matchInputPattern:function(t){return""===t?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"phone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":"character"},getAllEvents:function(){return B.all("user")}},J={noConflict:function(){return t.atatus=P,J},isConfigured:function(){return!!d},config:function(e,n){return n=n||{},d=e,I.remoteFetching=!1,O=[],n&&(v=n.customData,A=n.tags||[],D=!(!n.enableSourcemap&&!n.sourcemap),m=!!n.disableUserActions,b=!!n.disableAjaxMonitoring,w=!!n.disableRUM,N=!!n.debugMode,n.ignoreErrors&&F.isArray(n.ignoreErrors)&&(O=n.ignoreErrors),J.setAllowedDomains(n.allowedDomains),J.setVersion(n.version),J.enableOffline(n.enableOffline||n.offline),J.onBeforeErrorSend(n.beforeErrorSend),J.setGroupingKeyCallback(n.groupingKeyCallback)),_=F.canAllowInsecureSubmissions(),O.push(/^Script error\.?$/),O.push(/^Javascript error: Script error\.? on line 0$/),O=F.joinRegExp(O),h(),E={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},F.isBoolean(n.console)&&(E.enabled=n.console),F.isBoolean(n.consoleTimeline)&&(E.timeline=n.consoleTimeline),F.isBoolean(n.consoleDisplay)&&(E.display=n.consoleDisplay),F.isBoolean(n.consoleErrorNotify)&&(E.error=n.consoleErrorNotify),F.isArray(n.consoleTimelineLevels)&&(E.levels=n.consoleTimelineLevels),E.enabled&&"console"in t&&t.console.log&&V.attach(t.console,E.timeline,E.display,E.error,E.levels),m||Q.attach(),b||w||J.__attachAjaxHooks(),J},install:function(){return s()?(I.report.subscribe(p),I.extendToAsynchronousCallbacks(),C&&M&&C.ajaxError(o),J):void 0},uninstall:function(){return d=null,I.report.unsubscribe(p),C&&M&&C.unbind("ajaxError",o),J},setCustomData:function(t){return v=t,J},setTags:function(t){return A=t,J},setAllowedDomains:function(t){return t&&F.isArray(t)&&(x=t),J},getAllowedDomains:function(){return x},setUser:function(t,e,n,i){return g={},t&&(g.userId=""+t),e&&(g.email=""+e),n&&(g.firstName=""+n),i&&(g.lastName=""+i),J},setVersion:function(t){return t&&(y=""+t),J},enableOffline:function(t){return F.isBoolean(t)&&(j=t),J},onBeforeErrorSend:function(t){return"function"==typeof t&&(k=t),J},setGroupingKeyCallback:function(t){return"function"==typeof t&&(T=t),J},setAPIEndpoint:function(t){return H=t,J},init:function(t,e,n){return n&&(e=e||{},e.customData=n),J.config(t,e)},withCustomData:function(t){return J.setCustomData(t)},withTags:function(t){return J.setTags(t)},attach:function(){return J.install()},detach:function(){return J.uninstall()},notify:function(t,e,n){return J.send(t,e,n)},sendPerf:function(t){return w?void F.log("RUM is disabled. Please enable it in the config options."):l("/track/browser/perf",t)},sendAjaxPerf:function(t){return w?void F.log("RUM is disabled. Please enable it in the config options."):l("/track/browser/perf/ajax",t)},sendTxnPerf:function(t){return l("/track/browser/perf/txn",t)},send:function(t,e,n){try{p(I.computeStackTrace(t),{customData:F.merge(v,e),tags:F.mergeArray(A,n)})}catch(e){if(t!==e)throw e}return J},_helper:F};t.atatus=J}(window,document,window.jQuery),function(t,e,n){function i(t){t.pl<=0||atatus.sendPerf(t)}function r(){var e=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance,n=e.timing,r=e.navigation;if(0===n.loadEventEnd)return!1;clearInterval(u),u=null;var o=n.navigationStart;0>=o&&(o=n.fetchStart);var s={};for(var a in c)s[c[a]]=-1,a in n&&(n[a]<=0||(s[c[a]]=n[a]-o));i({nty:r.type,rc:r.redirectCount,nt:s.rps-s.ns,dp:s.dce-s.rps,pr:s.le-s.dce,fe:s.le-s.rps,pl:s.le-s.ns})}function o(){if(!a||!a.bDone)return!1;clearInterval(u),u=!1;var t=a.getMeasures();if(null!=t&&null!=t.backend&&null!=t.frontend&&null!=t["page load time"]&&null!=t["total load time"]){var e=t.backend,n=t.backend+t.frontend;i({nty:0,rc:0,nt:e,dp:n-e,pr:t["total load time"]-n,fe:t["total load time"]-e,pl:t["total load time"]})}}var s=(new Date).getTime(),a=a||{};a.q=a.q||[],a.version="0.3",a.targetOrigin=e.location.protocol+"//"+e.location.hostname,a.bPostMessage=!1,a.beaconUrl=a.beaconUrl||"/images/beacon.gif",a.autorun=!1,a.init=function(){if(a.bDone=!1,a.bUnloaded=!1,a.marks={},a.measures={},a.starts={},a.findStartTime(),a.addEventListener("beforeunload",a.beforeUnload,!1),a.addEventListener("pagehide",a.beforeUnload,!1),a.addEventListener("unload",a.beforeUnload,!1),a.processQ(),"complete"===e.readyState){var n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;n&&void 0!==n.timing&&void 0!==n.timing.loadEventEnd&&(a.mark("firstbyte",n.timing.responseStart),a.mark("onload",n.timing.loadEventEnd)),a.done()}else a.addEventListener("load",a.onload,!1)},a.processQ=function(){for(var t=a.q.length,e=0;t>e;e++){var n=a.q[e],i=n[0];"mark"===i?a.mark(n[1],n[2]):"measure"===i?a.measure(n[1],n[2],n[3]):"done"===i&&a.done(n[1])}},a.mark=function(e,n){return a.dprint("RUM_EPISODES.mark: "+e+", "+n),e?(a.marks[e]=parseInt(n||(new Date).getTime()),a.bPostMessage&&t.postMessage("RUM_EPISODES:mark:"+e+":"+n,a.targetOrigin),void("firstbyte"===e?a.measure("backend","starttime","firstbyte"):"onload"===e?(a.measure("frontend","firstbyte","onload"),a.measure("page load time","starttime","onload")):"done"===e&&a.measure("total load time","starttime","done"))):void a.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},a.measure=function(e,n,i){if(a.dprint("RUM_EPISODES.measure: "+e+", "+n+", "+i),!e)return void a.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var r;if(void 0===n)r="number"==typeof a.marks[e]?a.marks[e]:(new Date).getTime();else if("number"==typeof a.marks[n])r=a.marks[n];else{if("number"!=typeof n)return void a.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+n);r=n}var o;if(void 0===i)o=(new Date).getTime();else if("number"==typeof a.marks[i])o=a.marks[i];else{if("number"!=typeof i)return void a.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+i);o=i}a.starts[e]=parseInt(r),a.measures[e]=parseInt(o-r),a.bPostMessage&&t.postMessage("RUM_EPISODES:measure:"+e+":"+r+":"+o,a.targetOrigin)},a.done=function(e){a.bDone=!0,a.mark("done"),a.bPostMessage&&t.postMessage("RUM_EPISODES:done",a.targetOrigin),"function"==typeof e&&e()},a.getMarks=function(){return a.marks},a.getMeasures=function(){return a.measures},a.getStarts=function(){return a.starts},a.findStartTime=function(){var t=a.findStartWebTiming()||a.findStartCookie();t&&a.mark("starttime",t)},a.findStartWebTiming=function(){var e,n=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;return n&&void 0!==n.timing&&void 0!==n.timing.navigationStart&&(e=n.timing.navigationStart,a.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+e)),e},a.findStartCookie=function(){for(var n=e.cookie.split(" "),i=0;i<n.length;i++)if(0===n[i].indexOf("RUM_EPISODES=")){for(var r,o,s=n[i].substring("RUM_EPISODES=".length).split("&"),u=0;u<s.length;u++)if(0===s[u].indexOf("s="))r=s[u].substring(2);else if(0===s[u].indexOf("r=")){var c=s[u].substring(2);c=c.replace(/;$/,""),o=t.escape(e.referrer)===c}if(o&&r)return a.dprint("RUM_EPISODES.findStartCookie: startTime = "+r),r}},a.beforeUnload=function(){a.bUnloaded||(e.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+t.escape(e.location)+"; path=/",a.bUnloaded=!0)},a.onload=function(){a.mark("onload"),a.done()},a.addEventListener=function(e,n,i){return void 0!==t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,i):void 0},a.dprint=function(){},a.init();var u=null,c={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},h=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;h&&void 0!==h.timing&&void 0!==h.navigation?u=setInterval(r,100):(a.mark("firstbyte",s),u=setInterval(o,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(t,e){var n=atatus._helper,i={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(t){"string"==typeof t.url&&t.url.indexOf(".html")>0||(this.queue.push(t),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var t={},e={},i=0;i<this.queue.length;i++){var r,o=this.queue[i];if(o.status<400){r=o.method+o.url;var s=o.respAvailTime-o.sendTime,a=o.respProcTime-o.respAvailTime,u=o.receivedSize,c=o.sendSize,h=t[r];if(h){h.c++;var p=h.re;p.t=p.t+s,p.lo=p.lo<s?p.lo:s,p.hi=p.hi>s?p.hi:s,p.ssq=p.ssq+s*s;var l=h.cb;l.t=l.t+a,l.lo=l.lo<a?l.lo:a,l.hi=l.hi>a?l.hi:a,l.ssq=l.ssq+a*a;var f=h.rs;f.t=f.t+u,f.lo=f.lo<u?f.lo:u,f.hi=f.hi>u?f.hi:u,f.ssq=f.ssq+u*u;var d=h.ss;d.t=d.t+c,d.lo=d.lo<c?d.lo:c,d.hi=d.hi>c?d.hi:c,d.ssq=d.ssq+c*c}else t[r]={m:o.method,url:o.url,c:1,re:{t:s,lo:s,hi:s,ssq:s*s},cb:{t:a,lo:a,hi:a,ssq:a*a},rs:{t:o.receivedSize,lo:o.receivedSize,hi:o.receivedSize,ssq:o.receivedSize*o.receivedSize},ss:{t:o.sendSize,lo:o.sendSize,hi:o.sendSize,ssq:o.sendSize*o.sendSize}}}else r=o.method+o.status+o.url,e[r]?e[r].c++:e[r]={m:o.method,url:o.url,st:o.status,c:1}}var v={xhr:n.arrayFromObject(t),xhrError:n.arrayFromObject(e)};atatus.sendAjaxPerf(v)}catch(t){n.log("Error while processing queue: ",t)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){i.bUnloaded||(i._processQueue(),i.bUnloaded=!0)}};n.addEventListener("beforeunload",i.beforeUnload,!1);var r={support:function(t){return!t||"apply"in t},around:function(t,e,i,r){return t=t||function(){},function(){var o,s=Array.prototype.slice.call(arguments);try{e&&(o=e.apply(this,s))}catch(t){n.log(r,t)}var a;try{a=t.apply(this,o||s)}finally{try{i&&i.apply(this,s)}catch(t){n.log(r,t)}}return a}},before:function(t,e){return r.around(t,e)},after:function(t,e){return r.around(t,null,e)},timeout:function(t){setTimeout(t,0)},wrapAddEventListener:function(){return function(t,e){if(("load"===t||"error"===t)&&e&&this._atrumXhrData){var n;e.__atrumInterceptor?n=e.__atrumInterceptor:r.support(e)?(n=s.wrapXHR(e,this,"XHR.invokeEventListener"),e.__atrumInterceptor=n):n=null;var i;return n&&(i=Array.prototype.slice.call(arguments),i[1]=n),i}}},wrapRemoveEventListener:function(){return function(t,e){if(this._atrumXhrData){var n=Array.prototype.slice.call(arguments);return e.__atrumInterceptor&&(n[1]=e.__atrumInterceptor),n}}},aroundWithHandleEvent:function(t,e,n,i){var o=t;return t&&"object"==typeof t&&"toString"in t&&"[xpconnect wrapped nsIDOMEventListener]"===t.toString()&&"handleEvent"in t&&(o=function(){t.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),r.around(o,e,n,i)},getFullyQualifiedUrl:function(t){var n=e.createElement("a");return n.href=t,n.href}};if(t.XMLHttpRequest&&t.XMLHttpRequest.prototype){var o=t.XMLHttpRequest.prototype;if(!("open"in o&&"send"in o))return;if(!r.support(o.open)||!r.support(o.send))return;var s={};s.captureAjaxTimings=function(t){var e=t._atrumXhrData;if(e){var n=(new Date).getTime();2===t.readyState?e.firstByteTime=e.firstByteTime||n:4===t.readyState&&(e.respAvailTime=e.respAvailTime||n,e.firstByteTime=e.firstByteTime||n)}},s.sendPayload=function(t,e){e.receivedSize=0,t.responseType&&"text"!==t.responseType||"string"==typeof t.responseText&&(e.receivedSize=t.responseText.length),e.status=t.status,i.push(e)},s.wrapXHR=function(t,e,n){return r.aroundWithHandleEvent(t,function(){s.captureAjaxTimings(this)},function(){var t=e._atrumXhrData;if(t&&4===e.readyState){var n=(new Date).getTime();t.respProcTime=t.respProcTime||n,s.sendPayload(e,t),delete e._atrumXhrData}},n)},s.ajaxDone=function(t){if(t._atrumXhrData){var e=(new Date).getTime()+3e4,n=function(){s.captureAjaxTimings(t);var i=t._atrumXhrData;if(i){var r=(new Date).getTime();4===t.readyState?(i.respProcTime=i.respProcTime||r,s.sendPayload(t,i),delete t._atrumXhrData):e>r?setTimeout(n,50):delete t._atrumXhrData}};n()}},o.open=r.around(o.open,function(){var t=1<=arguments.length?String(arguments[0]):"",e=2<=arguments.length?String(arguments[1]):"",n=atatus.getAllowedDomains(),i=!0;if((e=r.getFullyQualifiedUrl(e))&&n&&n.length){i=!1;for(var o=0;o<n.length;o++){var s=n[o];if(s&&e.indexOf(s)>-1){i=!0;break}}}i&&(e=e&&e.split("?")[0],this._atrumXhrData={method:t,url:e,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),o.send=r.around(o.send,function(){var t=this,e=t._atrumXhrData;if(e){var n=(new Date).getTime();e.sendTime=e.sendTime||n,e.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var i=0,o=function(){if(4===t.readyState)s.ajaxDone(t);else{var e=null;try{e=t.onreadystatechange}catch(e){return void s.ajaxDone(t)}i++,e?r.support(e)?t.onreadystatechange=s.wrapXHR(e,t,"XHR.onReadyStateChange"):s.ajaxDone(t):5>i?r.timeout(o):s.ajaxDone(t)}};o()}},null,"XHR.send"),"addEventListener"in o&&"removeEventListener"in o&&r.support(o.addEventListener)&&r.support(o.removeEventListener)&&(o.addEventListener=r.around(o.addEventListener,r.wrapAddEventListener(),null,"XHR.addEventListener"),o.removeEventListener=r.around(o.removeEventListener,r.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(t){function e(t,e,n){if(!(0>=e)){var i={name:t,dur:e,st:n};atatus.sendTxnPerf(i)}}function n(t){return a+" "+t}function i(){try{return"localStorage"in t&&null!==t.localStorage}catch(t){return!1}}function r(t){var e=u.now();try{localStorage.setItem(n(t),e)}catch(t){}}function o(t){var e=null,i=n(t);try{e=localStorage.getItem(i),localStorage.removeItem(i)}catch(t){}var r=0;return e&&(r=u.now()-e),r}function s(t){try{var e=n(t);localStorage.removeItem(e)}catch(t){}}var a="atatus.com/",u=atatus._helper;atatus.beginTransaction=function(t){i()&&r(t)},atatus.endTransaction=function(t){if(i()){e(t,o(t),1)}},atatus.failTransaction=function(t){if(i()){e(t,o(t),0)}},atatus.cancelTransaction=function(t){i()&&s(t)}}(window,document),function(t){"use strict";function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,n){var i=this.byteLength,r=e(t,i),o=i;if(void 0!==n&&(o=e(n,i)),r>o)return new ArrayBuffer(0);var s=o-r,a=new ArrayBuffer(s),u=new Uint8Array(a),c=new Uint8Array(this,r,s);return u.set(c),a})}(),function(t){function e(i){if(n[i])return n[i].t;var r=n[i]={t:{},id:i,loaded:!1};return t[i].call(r.t,r,r.t,e),r.loaded=!0,r.t}var n={};e.i=t,e.c=n,e.o="",e(0)}([function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(25),o=n(7),s=n(9),a=n(1);if(void 0===u)var u=3e4;var c=function(t){function e(e,n){var i=t.call(this,n)||this;return i.pluginName="bitmovin",i.s=!1,i.player=e,i.player.initSession=function(t){return i.h(),i.p(t).timeout(u,i.u+" Hive Plugin initialization timeout").then(function(t){return i.l(),t.g()}).catch(function(t){return i.v(),i.h(),i.m().debug(i.u+" error occurred resolving the ticket - "+t.stack),a.reject(t)})},i.m().notice(i.u+"registered plugin [name:"+i.T()+"][id: "+i.S()+"][version: "+i.I()+"]"),i}return i(e,t),e.prototype.l=function(){var t=this;this.s||(this.player.addEventHandler("onReady",function(){if(t.m().debug("bitmovin.player.EVENT.ON_READY"),t.R()){!!t.player.getConfig().playback&&t.player.getConfig().playback.auto&&t.k(!1),t.C()&&(t.O=new o.P)}}),this.player.addEventHandler("onPlay",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAY"),t.A(s.F.B.N)}),this.player.addEventHandler("onError",function(e){t.m().debug("bitmovin.player.EVENT.ON_ERROR");var n=-1,i=null;if(null!=e)try{n=e.code,i=JSON.stringify(e,null)}catch(t){i=e}t.onError(n,i)}),this.player.addEventHandler("onPlaybackFinished",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t._(s.F.B.D,{code:1})}),this.player.addEventHandler("onSeek",function(){t.m().debug("bitmovin.player.EVENT.ON_SEEK"),t._(s.F.B.H)}),this.player.addEventHandler("onFullscreenEnter",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t._(s.F.B.L,{value:!0})}),this.player.addEventHandler("onFullscreenExit",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t._(s.F.B.L,{value:!1})}),this.player.addEventHandler("onSegmentRequestFinished",function(e){var n=e.mimeType.indexOf("video")>=0;if(e.success){var i=8*e.size/e.downloadTime;t.O.M(n,t.j,e.size),t.O.U(i)}else t.O.V(n,t.j)}),0===this.q().indexOf("7")?this.J():0===this.q().indexOf("6")&&this.K(),this.s=!0)},e.prototype.K=function(){var t=this;this.player.addEventHandler("onStartBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.k()}),this.player.addEventHandler("onStopBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.G()}),this.player.addEventHandler("onPause",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSE"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChange",function(e){t.$()===StreamProtocol.Y?t.X(e.targetQuality):t.X(e.targetQuality.split("br")[1])})},e.prototype.J=function(){var t=this;this.player.addEventHandler("onStallStarted",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.k()}),this.player.addEventHandler("onStallEnded",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.G()}),this.player.addEventHandler("onPaused",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSED"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChanged",function(e){t.X(e.targetQualityId.bitrate)})},e.prototype.X=function(t){this.m().debug("newBitrate",t),this.j&&t>this.j?this.O.Z():this.j&&this.j>t&&this.O.tt(),this.j=t},e.prototype.A=function(t){void 0!==this.et&&this.et!==t&&(this._(t),this.et=t)},e.prototype.it=function(){var t=this.$();return t===StreamProtocol.Y?this.player.getConfig().source.hls:t===StreamProtocol.rt?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.nt=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.ot=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.st=function(){return!0},e.prototype.$=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.Y;if("dash"===t)return StreamProtocol.rt}return null},e.prototype.at=function(){var t=this.O;return this.O=new o.P,t},e.prototype.T=function(){return this.pluginName},e.prototype.I=function(){return this.ct()},e.prototype.ht=function(){if(this.player)return this.player.getPlayerType()},e.prototype.q=function(){return void 0!==bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(r.pt.Plugin);e.ut=c;var h=function(t,e){new c(t,e)};bitmovin.initHiveSDN=h},function(t,e,n){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";"function"==typeof bootstrap?bootstrap("promise",e):t.t=e()}(function(){"use strict";function t(t){return function(){return q.apply(t,arguments)}}function e(t){return t===Object(t)}function n(t){return"[object StopIteration]"===tt(t)||t instanceof V}function i(t,e){if(F&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(et)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var o=n.join("\n"+et+"\n");t.stack=r(o)}}function r(t){for(var e=t.split("\n"),n=[],i=0;i<e.length;++i){var r=e[i];a(r)||o(r)||!r||n.push(r)}return n.join("\n")}function o(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function a(t){var e=s(t);if(!e)return!1;var n=e[0],i=e[1];return n===B&&i>=Q&&i<=st}function u(){if(F)try{throw new Error}catch(i){var t=i.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=s(e);if(!n)return;return B=n[0],n[1]}}function c(t){return t instanceof f?t:y(t)?C(t):k(t)}function h(){function t(t){e=t,c.lt&&F&&(o.source=t),Y(n,function(e,n){c.dt(function(){t.ft.apply(t,n)})},void 0),n=void 0,i=void 0}var e,n=[],i=[],r=G(h.prototype),o=G(f.prototype);if(o.ft=function(t,r,o){var s=$(arguments);n?(n.push(s),"when"===r&&o[1]&&i.push(o[1])):c.dt(function(){e.ft.apply(e,s)})},o.valueOf=function(){if(n)return o;var t=v(e);return g(t)&&(e=t),t},o.gt=function(){return e?e.gt():{state:"pending"}},c.lt&&F)try{throw new Error}catch(t){o.stack=t.stack.substring(t.stack.indexOf("\n")+1)}return r.vt=o,r.resolve=function(n){e||t(c(n))},r.yt=function(n){e||t(k(n))},r.reject=function(n){e||t(T(n))},r.notify=function(t){e||Y(i,function(e,n){c.dt(function(){n(t)})},void 0)},r}function p(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=h();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.vt}function l(t){return p(function(e,n){for(var i=0,r=t.length;i<r;i++)c(t[i]).then(e,n)})}function f(t,e,n){void 0===e&&(e=function(t){return T(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=G(f.prototype);if(i.ft=function(n,r,o){var s;try{s=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(t){s=T(t)}n&&n(s)},i.gt=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function d(t,e,n,i){return c(t).then(e,n,i)}function v(t){if(g(t)){var e=t.gt();if("fulfilled"===e.state)return e.value}return t}function g(t){return t instanceof f}function y(t){return e(t)&&"function"==typeof t.then}function m(t){return g(t)&&"pending"===t.gt().state}function b(t){return!g(t)||"fulfilled"===t.gt().state}function w(t){return g(t)&&"rejected"===t.gt().state}function E(){nt.length=0,it.length=0,ot||(ot=!0)}function O(t,e){ot&&("object"==typeof process&&"function"==typeof process.emit&&c.dt.wt(function(){-1!==W(it,t)&&(process.emit("unhandledRejection",e,t),rt.push(t))}),it.push(t),e&&void 0!==e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function S(t){if(ot){var e=W(it,t);-1!==e&&("object"==typeof process&&"function"==typeof process.emit&&c.dt.wt(function(){var n=W(rt,t);-1!==n&&(process.emit("rejectionHandled",nt[e],t),rt.splice(n,1))}),it.splice(e,1),nt.splice(e,1))}}function T(t){var e=f({when:function(e){return e&&S(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return O(e,t),e}function k(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},Tt:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return Z(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=h();return c.dt(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.vt}function R(t){return f({St:function(){}},function(e,n){return _(t,e,n)},function(){return c(t).gt()})}function I(t,e,n){return c(t).bt(e,n)}function P(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=i[t](e)}catch(t){return T(t)}return s.done?c(s.value):d(s.value,r,o)}try{s=i[t](e)}catch(t){return n(t)?c(t.value):T(t)}return d(s,r,o)}var i=t.apply(this,arguments),r=e.bind(e,"next"),o=e.bind(e,"throw");return r()}}function A(t){c.done(c.async(t)())}function N(t){throw new V(t)}function x(t){return function(){return I([this,j(arguments)],function(e,n){return t.apply(e,n)})}}function _(t,e,n){return c(t).Et(e,n)}function j(t){return d(t,function(t){var e=0,n=h();return Y(t,function(i,r,o){var s;g(r)&&"fulfilled"===(s=r.gt()).state?t[o]=s.value:(++e,d(r,function(i){t[o]=i,0==--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.vt})}function D(t){if(0===t.length)return c.resolve();var e=c.defer(),n=0;return Y(t,function(i,r,o){function s(t){e.resolve(t)}function a(t){0===--n&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function u(t){e.notify({index:o,value:t})}var c=t[o];n++,d(c,s,a,u)},void 0),e.vt}function M(t){return d(t,function(t){return t=z(t,c),d(j(z(t,function(t){return d(t,J,J)})),function(){return t})})}function L(t){return c(t).It()}function H(t,e){return c(t).then(void 0,void 0,e)}function U(t,e){return c(t).Rt(e)}var F=!1;try{throw new Error}catch(t){F=!!t.stack}var B,V,Q=u(),J=function(){},K=function(){function t(){for(var t,i;n.next;)n=n.next,t=n.kt,n.kt=void 0,i=n.domain,i&&(n.domain=void 0,i.enter()),e(t,i);for(;u.length;)t=u.pop(),e(t);r=!1}function e(e,n){try{e()}catch(e){if(s)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout(function(){throw e},0)}n&&n.exit()}var n={kt:void 0,next:null},i=n,r=!1,o=void 0,s=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(t){}var u=[];if(K=function(t){"undefined"!=typeof Framework&&Framework.Ct()?Framework.setTimeout(t,0):(i=i.next={kt:t,domain:s&&process.domain,next:null},r||(r=!0,o()))},"object"==typeof process&&"[object process]"===process.toString()&&process.dt)s=!0,o=function(){process.dt(t)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)o=function(){setTimeout(t,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){o=h,c.port1.onmessage=t,t()};var h=function(){c.port2.postMessage(0)};o=function(){setTimeout(t,0),h()}}else o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return K.wt=function(t){u.push(t),r||(r=!0,o())},K}(),q=Function.call,$=t(Array.prototype.slice),Y=t(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;n<i;n++)n in this&&(e=t(e,this[n],n));return e}),W=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),z=t(Array.prototype.map||function(t,e){var n=this,i=[];return Y(n,function(r,o,s){i.push(t.call(e,o,s,n))},void 0),i}),G=Object.create||function(t){function e(){}return e.prototype=t,new e},X=t(Object.prototype.hasOwnProperty),Z=Object.keys||function(t){var e=[];for(var n in t)X(t,n)&&e.push(n);return e},tt=t(Object.prototype.toString);V="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var et="From previous event:";c.resolve=c,c.dt=K,c.lt=!1,"object"==typeof process&&process&&process.Ot&&process.Ot.Q_DEBUG&&(c.lt=!0),c.defer=h,h.prototype.Pt=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve($(arguments,1)):t.resolve(n)}},c.Promise=p,c.vt=p,p.race=l,p.all=j,p.reject=T,p.resolve=c,c.At=function(t){return t},f.prototype.At=function(){return this},c.join=function(t,e){return c(t).join(e)},f.prototype.join=function(t){return c([this,t]).bt(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},c.race=l,f.prototype.race=function(){return this.then(c.race)},c.Nt=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(t){return T(t)}}function o(t){if("function"==typeof e){i(t,a);try{return e(t)}catch(t){return T(t)}}return T(t)}function s(t){return"function"==typeof n?n(t):t}var a=this,u=h(),p=!1;return c.dt(function(){a.ft(function(t){p||(p=!0,u.resolve(r(t)))},"when",[function(t){p||(p=!0,u.resolve(o(t)))}])}),a.ft(void 0,"when",[void 0,function(t){var e,n=!1;try{e=s(t)}catch(t){if(n=!0,!c.onerror)throw t;c.onerror(t)}n||u.notify(e)}]),u.vt},c.xt=function(t,e){return c(t).xt(e)},f.prototype.xt=function(t){return t=c(t),this.then(function(e){return t.Ft(e).Bt(e)})},c.when=d,f.prototype.Bt=function(t){return this.then(function(){return t})},c.Bt=function(t,e){return c(t).Bt(e)},f.prototype._t=function(t){return this.then(function(){throw t})},c._t=function(t,e){return c(t)._t(e)},c.Dt=v,c.Ht=g,c.Lt=y,c.Mt=m,f.prototype.Mt=function(){return"pending"===this.gt().state},c.jt=b,f.prototype.jt=function(){return"fulfilled"===this.gt().state},c.Ut=w,f.prototype.Ut=function(){return"rejected"===this.gt().state};var nt=[],it=[],rt=[],ot=!0;c.Vt=E,c.Qt=function(){return nt.slice()},c.qt=function(){E(),ot=!1},E(),c.reject=T,c.yt=k,c.Jt=R,c.bt=I,f.prototype.bt=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},c.async=P,c.Kt=A,c.Gt=N,c.zt=x,c.Et=_,f.prototype.Et=function(t,e){var n=this,i=h();return c.dt(function(){n.ft(i.resolve,t,e)}),i.vt},c.get=function(t,e){return c(t).Et("get",[e])},f.prototype.get=function(t){return this.Et("get",[t])},c.set=function(t,e,n){return c(t).Et("set",[e,n])},f.prototype.set=function(t,e){return this.Et("set",[t,e])},c.Wt=c.delete=function(t,e){return c(t).Et("delete",[e])},f.prototype.Wt=f.prototype.delete=function(t){return this.Et("delete",[t])},c.$t=c.Tt=function(t,e,n){return c(t).Et("post",[e,n])},f.prototype.$t=f.prototype.Tt=function(t,e){return this.Et("post",[t,e])},c.send=c.Yt=c.Xt=function(t,e){return c(t).Et("post",[e,$(arguments,2)])},f.prototype.send=f.prototype.Yt=f.prototype.Xt=function(t){return this.Et("post",[t,$(arguments,1)])},c.Zt=function(t,e){return c(t).Et("apply",[void 0,e])},f.prototype.Zt=function(t){return this.Et("apply",[void 0,t])},c.te=c.Ft=function(t){return c(t).Et("apply",[void 0,$(arguments,1)])},f.prototype.Ft=function(){return this.Et("apply",[void 0,$(arguments)])},c.ee=function(t){var e=c(t),n=$(arguments,1);return function(){return e.Et("apply",[this,n.concat($(arguments))])}},f.prototype.ee=function(){var t=this,e=$(arguments);return function(){return t.Et("apply",[this,e.concat($(arguments))])}},c.keys=function(t){return c(t).Et("keys",[])},f.prototype.keys=function(){return this.Et("keys",[])},c.all=j,f.prototype.all=function(){return j(this)},c.ie=D,f.prototype.ie=function(){return D(this)},c.re=function(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}(M,"allResolved","allSettled"),f.prototype.re=function(){return M(this)},c.It=L,f.prototype.It=function(){return this.then(function(t){return j(z(t,function(t){function e(){return t.gt()}return t=c(t),t.then(e,e)}))})},c.fail=c.catch=function(t,e){return c(t).then(void 0,e)},f.prototype.fail=f.prototype.catch=function(t){return this.then(void 0,t)},c.progress=H,f.prototype.progress=function(t){return this.then(void 0,void 0,t)},c.ne=c.finally=function(t,e){return c(t).finally(e)},f.prototype.ne=f.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=c(t),this.then(function(e){return t.Ft().then(function(){return e})},function(e){return t.Ft().then(function(){throw e})})},c.done=function(t,e,n,i){return c(t).done(e,n,i)},f.prototype.done=function(t,e,n){var r=function(t){c.dt(function(){if(i(t,o),!c.onerror)throw t;c.onerror(t)})},o=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),o.then(void 0,r)},c.timeout=function(t,e,n){return c(t).timeout(e,n)},f.prototype.timeout=function(t,e){var n=h(),i=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.vt},c.delay=function(t,e){return void 0===e&&(e=t,t=void 0),c(t).delay(e)},f.prototype.delay=function(t){return this.then(function(e){var n=h();return setTimeout(function(){n.resolve(e)},t),n.vt})},c.oe=function(t,e){return c(t).oe(e)},f.prototype.oe=function(t){var e=h(),n=$(t);return n.push(e.Pt()),this.Zt(n).fail(e.reject),e.vt},c.se=function(t){var e=$(arguments,1);return c(t).oe(e)},f.prototype.se=function(){var t=$(arguments),e=h();return t.push(e.Pt()),this.Zt(t).fail(e.reject),e.vt},c.ae=c.ce=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=$(arguments,1);return function(){var n=e.concat($(arguments)),i=h();return n.push(i.Pt()),c(t).Zt(n).fail(i.reject),i.vt}},f.prototype.ae=f.prototype.ce=function(){var t=$(arguments);return t.unshift(this),c.ce.apply(void 0,t)},c.he=function(t,e){var n=$(arguments,2);return function(){function i(){return t.apply(e,arguments)}var r=n.concat($(arguments)),o=h();return r.push(o.Pt()),c(i).Zt(r).fail(o.reject),o.vt}},f.prototype.he=function(){var t=$(arguments,0);return t.unshift(this),c.he.apply(void 0,t)},c.pe=c.ue=function(t,e,n){return c(t).ue(e,n)},f.prototype.pe=f.prototype.ue=function(t,e){var n=$(e||[]),i=h();return n.push(i.Pt()),this.Et("post",[t,n]).fail(i.reject),i.vt},c.le=c.de=c.fe=function(t,e){var n=$(arguments,2),i=h();return n.push(i.Pt()),c(t).Et("post",[e,n]).fail(i.reject),i.vt},f.prototype.le=f.prototype.de=f.prototype.fe=function(t){var e=$(arguments,1),n=h();return e.push(n.Pt()),this.Et("post",[t,e]).fail(n.reject),n.vt},c.Rt=U,f.prototype.Rt=function(t){return t?void this.then(function(e){c.dt(function(){t(null,e)})},function(e){c.dt(function(){t(e)})}):this},c.ge=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var st=u();return c})},function(t,e,n){"use strict";var i,r=n(15),o=n(4),s=o.ve;!function(t){function e(e){N&&console.log("Framework already initialized"),t.ye(),P=new Date,e.apply(j),N=j.resolve(C.me),_=j.resolve(C.we),M=N.Ct()}function n(){x=j.resolve(C.Te),x.init()}function i(){return x}function o(){return j}function a(){return _}function u(){return N}function c(t){return D.get(t)}function h(t,e){var n=new R(t);return n.apply(e),D.set(t,n),n}function p(e){I=t.Se(e)}function l(t){return null!=I?I.context.resolve(t):(console.warn("undefined context"),null)}function f(){return I}function d(){return N.time()}function v(t,e){return N.setTimeout(t,e)}function g(t){return N.clearTimeout(t)}function y(t,e){return N.setInterval(t,e)}function m(t){return N.clearInterval(t)}function b(){N.be()}function w(){j.Ee(),j=new r.Ie,D=new s,I=null,P=null,M=!1,A=null,N=null,x=null,_=null}function E(t){A=t}function O(){return A||(A=(new Date).getTime()),(A=(9301*A+49297)%233280)/233280}function S(){return P}function T(){return M}var k=function(){function t(){}return t}();k.Re="ws://127.0.0.1:8000/hive",t.ke=k;var C=function(){function t(){}return t}();C.me="TimerScheduler",C.Ce="identityProvider",C.Te="NetworkComponent",C.Oe="rtcManager",C.Pe="transport",C.Ae="httpManager",C.Ne="httpRequest",C.we="logger",C.xe="serverManager",C.Be="servicesClient",t.Fe=C;var R=function(){function t(t){this.id=t,this.context=new r.Ie}return t.prototype.apply=function(t){t.apply(this.context)},t}();t._e=R;!function(t){t[t.De=0]="HTTP",t[t.He=1]="RTC",t[t.Le=2]="UDP"}(t.Me||(t.Me={}));!function(e){function n(){return"["+d()+"] ["+t.je().id+"]"}e.Ue=n}(t.Ve||(t.Ve={}));var I,P,A,N,x,_,j=new r.Ie,D=new s,M=!1;t.Qe=e,t.qe=n,t.Je=i,t.system=o,t.m=a,t.Ke=u,t.Se=c,t.Ge=h,t.ze=p,t.resolve=l,t.je=f,t.time=d,t.setTimeout=v,t.clearTimeout=g,t.setInterval=y,t.clearInterval=m,t.be=b,t.ye=w,t.We=E,t.random=O,t.$e=S,t.Ct=T}(i=e.Framework||(e.Framework={})),"undefined"!=typeof global&&(global.Framework=i)},function(t,e){"use strict";var n=!0,i={Ye:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(n=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Xe:function(t,e,n){var i=t.match(e);return i&&i.length>=n&&parseInt(i[n],10)},Ze:function(){var t={};if(t.ti=null,t.version=null,"undefined"==typeof window||!window.navigator)return t.ti="Not a browser.",t;if(navigator.mozGetUserMedia)t.ti="firefox",t.version=this.Xe(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.ti="chrome",t.version=this.Xe(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.ti="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.ti="edge",t.version=this.Xe(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t.ti="Not a supported browser.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t},ei:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var t=URL.createObjectURL.bind(URL),e=URL.revokeObjectURL.bind(URL),n=new Map,i=0;URL.createObjectURL=function(e){if("getTracks"in e){var r="polyblob:"+ ++i;return n.set(r,e),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),r}return t(e)},URL.revokeObjectURL=function(t){e(t),n.delete(t)};var r=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return r.get.apply(this)},set:function(t){return this.ii=n.get(t)||null,r.set.apply(this,[t])}});var o=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.ii=n.get(arguments[1])||null),o.apply(this,arguments)}}}};t.t={log:i.log,Ye:i.Ye,ri:i.Ze(),Xe:i.Xe,ei:i.ei,Ze:i.Ze.bind(i)}},function(t,e,n){var i=n(32);t.t={ve:i.Map,ni:i.ni,oi:i.oi}},function(t,e){"use strict";!function(t){t.si="statsClient",t.Be="servicesClient",t.ai="ticketResolver",t.Ce="identityProvider",t.ci="connInfoProvider",t.hi="peerInfo",t.pi="streamInfoProvider",t.ui="reporting",t.li="statsStore",t.di="trackManager",t.fi="trackClient"}(e.gi||(e.gi={}))},function(t,e){t.t=function(){return new Function}},function(t,e,n){"use strict";function i(t,e){function n(){return t()?void g.when(e(),n,i.reject):i.resolve(!0)}var i=g.defer();return g.dt(n),i.vt}function r(t,e,n){return void 0===n&&(n=!0),o("GET",t,e,n)}function o(t,e,n,i){void 0===i&&(i=!0);var r=g.defer();try{var o=new XMLHttpRequest;o.open(t,e,i),void 0!=n&&null!=n&&o.setRequestHeader("Content-Type",n),o.onload=function(){200==o.status?r.resolve(o.response):r.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(t){r.reject({status:-1,reason:"Network Error"})},o.send()}catch(t){r.reject({status:-1,reason:t})}return r.vt}function s(t,e,n,i){void 0===i&&(i=!0);var r=g.defer();try{var o=new XMLHttpRequest;o.open("POST",t,i),void 0!=n&&null!=n&&o.setRequestHeader("Content-Type",n),o.onload=function(){200==o.status?r.resolve(o.response):r.reject({status:o.status,reason:o.statusText})},o.onerror=function(t){r.reject({status:-1,reason:"Network Error"})},o.send(e)}catch(t){r.reject({status:-1,reason:t})}return r.vt}function a(t,e){var n,i,r=document.querySelector("base"),o=document.querySelector("head"),s=document.createElement("a"),a=r;return r?n=r.href:a=o.appendChild(document.createElement("base")),a.href=t,s.href=e,i=s.href,r?r.href=n:o.removeChild(a),i}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=new RegExp("\\{"+(i-1)+"\\}","gm");n=n.replace(r,t[i])}return n}function c(t,e){for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(e[n]=t[n])}function h(t,e,n){var i=v(t).vi(!0);for(var r in i)try{if(i.hasOwnProperty(r)&&e.hasOwnProperty(r)&&n.hasOwnProperty(e[r])){var o=e[r],s=i[r];n[o]=p(s,n[o])}}catch(t){}}function p(t,e){var n;switch(typeof e){case"number":n=parseInt(t);break;case"boolean":n="true"===t;break;default:n=t}return n}function l(t,e,n){var i=new m;return i.ticketUrl=t,i.code=e,i.message=b(e),i.detailedMessage=n,i}var f=n(4),d=f.ve,v=n(21),g=n(1),y=n(17),m=y.pt.HiveSessionError,b=y.pt.getHiveSessionErrorMessage,w=y.pt.HiveSession,E=n(26),O=n(46),S=function(){function t(e){if(!e){if(0==Object.keys(t.mapping).length&&!t.yi)return console.error("no registered default HiveRequestFactory tech"),t.yi=!0,t.mi();e=Object.keys(t.mapping)[0]}if(!(e in t.mapping))return t.yi||(console.error("no registered HiveRequestFactory tech for  "+e),t.yi=!0),t.mi();var n=t.mapping[e];switch(n.tech){case"HiveJS":return t.mi();case"HiveJsProxy":return n.wi?new E.Ti(e):(n.wi=!0,new O.Si(e));case"HiveJava":case"StatsJS":return t.mi()}}return t.mi=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},t.clear=function(){t.mapping={}},t.bi=function(e,n){e in t.mapping||(t.mapping[e]={}),t.mapping[e].tech=n},t}();S.mapping={},S.yi=!1,e.HiveRequestFactory=S;var T=function(){function t(t,e,n,i){this.Ei=!1,this.ticketUrl=t,this.ticket=e,this.manifest=n,this.Ii=g.defer(),this.Ri=i,this.Ri&&this.Ii.resolve(this.Ri)}return t.prototype.st=function(t){return null!==this.tech&&this.tech.st(t,this)},t.prototype.ki=function(t){this.Ei!=t&&(this.Ei=t,this.tech&&this.tech.Ci(this,t))},t.prototype.Oi=function(){return this.Ei},t.prototype.close=function(t){if(null!=this.tech)return this.tech.Pi(this,t)},t.prototype.toString=function(){return this.ticket.toString()},t.prototype.g=function(){var t=new w;return t.id=this.id,t.ticketUrl=this.ticketUrl,t.manifest=this.manifest,t.tech=this.tech.Ai(),t},t.prototype.Ni=function(){return this.Ii.vt},t.prototype.xi=function(t){this.Ri=t,this.Ii.resolve(this.Ri)},t}();e.Bi=T;var k=function(){function t(){}return t}();e.Fi=k;var C=function(){function t(){this.success=0,this._i=0,this.Di=0}return t}();e.Hi=C;var R=function(){function t(){this.Li=0,this.Mi=0,this.ji=new d,this.Ui=new d}return t.prototype.M=function(t,e,n,i){void 0===i&&(i=!0);var r=t?this.ji:this.Ui;r.has(e)||r.set(e,new C);var o=r.get(e);o.Di+=n,i&&o.success++},t.prototype.V=function(t,e){var n=t?this.ji:this.Ui;n.has(e)||n.set(e,new C),n.get(e)._i++},t.prototype.U=function(t){this.bandwidth=t},t.prototype.Z=function(){this.Li++},t.prototype.tt=function(){this.Mi++},t.prototype.Vi=function(){return this.bandwidth},t.prototype.Qi=function(){return this.ji},t.prototype.qi=function(){return this.Ui},t.prototype.Ji=function(){return this.Li},t.prototype.Ki=function(){return this.Mi},t}();e.P=R;var I=function(){function t(){var e=this;if(t.Gi)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var n,i;void 0!==document.hidden?(n="hidden",i="visibilitychange"):void 0!==document.msHidden?(n="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",i="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==document[n]?document.addEventListener(i,function(){var t=!document[n];e.zi.forEach(function(n){n.call(e,t)})},!1):t.m&&t.m.debug("warn - visibilityChange listener not supported"),this.zi=new Array}return t.Wi=function(e){return e&&(this.m=e),void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.$i=function(t){this.zi.push(t)},t}();e.Yi=I,e.Xi=i,e.Zi=r,e.tr=o,e.er=s,e.ir=a,e.rr=u,e.nr=c,e.or=h,e.sr=l;var P=function(){function t(){}return t.getItem=function(t){try{return window.sessionStorage?window.sessionStorage.getItem(t):null}catch(t){return null}},t.setItem=function(t,e){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(t,e),!0)}catch(t){return!1}},t.removeItem=function(t){try{window.sessionStorage&&window.sessionStorage.removeItem(t)}catch(t){return null}},t}();e.ar=P;var A=function(){function t(t){this.cr=t}return t.prototype.hr=function(t){var e=Date.now();return this.isEqual(this.pr,t)||(this.ur=e),this.pr=t,e-this.ur>=this.cr},t.prototype.isEqual=function(t,e){if(t&&e){return[e.lr-t.lr,e.dr-t.dr,e.gr-t.gr].reduce(function(t,e){return t&&Math.abs(e)<10},!0)}return!1},t}();e.vr=A},function(t,e,n){"use strict";var i=n(11),r=n(18),o=n(12);!function(t){!function(t){var e=function(){function t(){this.monitorPort=r.ke.yr?o.wr.mr:o.wr.Tr,this.playerPort=r.ke.yr?o.wr.Sr:o.wr.br,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=r.ke.Er,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=i.HiveConfig.Framework.LoggerTimestamp,this.onSourceSetCompleted=function(t){},this.onLoadingCompleted=function(t){}}return t}();t.Ir=e;var n=function(){function t(){this.initTimeout=3e4,this.onError=function(t){return!0},this.onActiveSession=function(t){}}return t}();t.Rr=n;var s=function(){function t(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout"}return t}();t.kr=s}(t.Ir||(t.Ir={}))}(e.pt||(e.pt={}));var s;!function(t){var e=function(){function t(){}return t}();e.enabledRUM=!1,e.enableKeyCombination=!0,e.enabledErrorFilter=!0,t.ErrorMonitor=e}(s=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=s.ErrorMonitor)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(28).Cr,o=n(1),s=n(2),a=n(5),u=n(13),c=n(10),h=n(23);!function(t){var e="[TRACK] ";t.Or="hive-client-track",t.Pr="trackevent",t.Ar="NULLID",t.Nr="";var n=function(){function t(){}return t}();n.xr=0,n.Br=1,n.Fr=2,n._r=100,n.Dr=200,t.Hr=n;!function(t){t[t.N=0]="PLAYING",t[t.Lr=1]="BUFFERING",t[t.W=2]="PAUSED",t[t.H=3]="SKIP",t[t.D=4]="STOPPED",t[t.ERROR=5]="ERROR",t[t.Mr=6]="WINDOW_SIZE",t[t.L=7]="FULLSCREEN",t[t.jr=8]="VISIBLE",t[t.HIDDEN=9]="HIDDEN"}(t.B||(t.B={}));!function(t){t[t.Ur=0]="JAVA_NOT_REACHABLE",t[t.Vr=1]="JAVA_NOT_READY",t[t.Qr=2]="JAVA_WRONG_VERSION",t[t.qr=3]="JAVA_SESSION_BUSY",t[t.Jr=4]="JAVA_SESSION_ERROR",t[t.Kr=5]="JAVA_TICKET_TIMEOUT"}(t.Gr||(t.Gr={}));var p=function(){function t(){}return t}();t.zr=p;var l=function(){function t(){}return t}();t.Wr=l;var f=function(){function t(){}return t}();t.$r=f;var d=function(){function t(){this.type=n.Fr}return t}(),v=function(){function t(){this.sessions=new Array}return t.prototype.Yr=function(t,e){var n;this.sessions.forEach(function(e){e.sessionId==t&&(n=e)}),n||(n=new g,n.sessionId=t,this.sessions.push(n)),n.events.push(e)},t}();t.Xr=v;var g=function(){function t(){this.events=new Array}return t}();t.Zr=g;var y=function(){function n(){this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.tn=s.Framework.resolve(a.gi.ci),this.en=new Array,this.in=new Array,this.rn=new Array}return n.prototype.nn=function(t){this.client=t},n.prototype.init=function(t,n){this.sn=t,this.an(n),this.m.debug(e+"INIT ID: "+t)},n.prototype.an=function(t,e){this.app=t,e&&(this.cn=e)},n.prototype.hn=function(t){this.pn=t},n.prototype.un=function(t){var e=new b(t,this);this.en.push(e),this.ln=null,this.client.dn(!0)},n.prototype.wi=function(t,n,i){if(!this.ln)for(var r=0;r<this.en.length;r++){var o=this.en[r];if(o.ticket.sessionId===t){this.m.debug(e+"Activating Track for session "+t),this.ln=o;break}}if(this.ln){if(this.ln.ticket.sessionId!=t)return void this.m.warn(e+"ignoring manifest not matching event "+this.ln.ticket.sessionId+" != "+t);if(!this.ln.fn){var s=new w(t,n,i);this.ln.gn(s),this.client.dn()}}},n.prototype.vn=function(t,e,n){null!=this.ln&&(this.ln.fn||this.ln.yn.push(new T(t,e,n)))},n.prototype.mn=function(t,e,n){this.in.push(new O(t,e,n)),this.client.dn()},n.prototype.wn=function(t,e,n){this.rn.push(new S(t,e,n)),this.client.dn()},n.prototype.Tn=function(t){var e=this;t&&t.forEach(function(t){e.rn.push(t)})},n.prototype.Sn=function(){var t=new l;this.cn?(t.partnerId=this.cn.partnerId,t.customerId=this.cn.customerId):this.ln&&(t.partnerId=this.ln.ticket.bn(),t.customerId=this.ln.ticket.En()),t.version=this.app.app+"_"+(this.cn?this.cn.version:this.app.version),this.cn&&(t.installVersion=this.cn.installVersion,t.installTs=this.cn.installTs);var e=new r;return e.In(navigator.userAgent),t.os=e.Rn().name+" "+e.Rn().version,this.pn&&(t.commVersion=this.pn.commVersion,t.pluginName=this.pn.pluginName,t.pluginVersion=this.pn.pluginVersion,t.playerTech=this.pn.playerTech,t.playerVersion=this.pn.playerVersion,this.pn.telemetryId&&(t.telemetryId=this.pn.telemetryId)),t},n.prototype.kn=function(){return this.ln?this.ln:this.en&&this.en.length>0?this.en[this.en.length-1]:void 0},n.prototype.Cn=function(){var e=this,n=o.defer();0==this.en.length&&0==this.in.length&&n.reject("nothing to send");var i=new p;i.app=t.Or,i.createdAt=s.Framework.time(),i.guid=this.sn,i.name=t.Pr;var r=this.kn();if(r){var a=r.ticket.On().replace(/[\[\]]/g,"");i.tags=[a],i.tags.push(r.ticket.bn()),i.tags.push(r.ticket.En())}else i.tags=new Array;var u=new v;return u.peer=this.Sn(),this.en.forEach(function(t){t.fn||u.Yr(t.ticket.sessionId,t)}),this.in.forEach(function(t){u.Yr(t.sessionId,t)}),this.rn.forEach(function(t){u.Yr(t.sessionId,t)}),i.data=u,this.tn.Pn().then(function(t){var n=e.An(t);u.Yr("null",n)}).fail(function(t){}).finally(function(){return n.resolve(i)}).done(),n.vt},n.prototype.An=function(t){var e=new d;e.ts=s.Framework.time();var n=t.Nn();return n.xn()&&(e.pubIp=n.xn()),n.Bn()&&(e.privIp=n.Bn()),t.Fn()&&(e.hostname=t.Fn()),n._n()&&(e.netmask=n._n()),n.Dn()&&(e.nic=n.Dn()),n.Hn()&&(e.nicName=n.Hn()),n.Ln()&&(e.mac=n.Ln()),e},n.prototype.Mn=function(){return this.cn?this.cn.userAgent:navigator.userAgent},n.prototype.reset=function(){this.en=new Array,this.in=new Array,this.rn=new Array},n.prototype.jn=function(t){},n}();t.Un=y;var m=function(){function t(t){this.Vn=isNaN(h.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:h.HiveConfig.DebugLogs.TrackSnapshotLogs,this.Qn=t,this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.client=s.Framework.resolve(a.gi.Be),this.Qn.nn(this)}return t.prototype.dn=function(t){void 0===t&&(t=!1);var e=t?u.Kn.Jn.qn:u.Kn.Jn.Gn;if(this.zn){this.Wn-(new Date).getTime()>e&&(s.Framework.clearTimeout(this.zn),this.Wn=null,this.$n(e))}else this.$n(e)},t.prototype.$n=function(t){var e=this;this.zn=s.Framework.setTimeout(function(){e.Yn()},t),this.Wn=(new Date).getTime()+t},t.prototype.Yn=function(){var t=this;this.zn=null,this.Wn=null,this.m.debug(e+"TAKING A TRACK SNAPSHOT"),this.Qn.Cn().then(function(e){return t.forward(e)}).finally(function(){return t.Qn.reset()})},t.prototype.forward=function(t){if(this.client&&this.client.Xn()){var n=JSON.stringify(t);switch(this.Vn){case 0:default:this.m.debug(e+"TRACK EVENT");break;case 1:this.m.debug(e+"TRACK EVENT:"+n)}var i=new c.Zn(Services.to,2,n);this.client.Xn().send(i)}},t}();t.eo=m;var b=function(){function t(t,e){this.createdAt=(new Date).getTime(),this.fn=!1,this.ticket=t,this.manifests=new Array,this.yn=new Array,this.Qn=e}return t.prototype.gn=function(t){this.manifests.push(t)},t.prototype.toJSON=function(){var t={};t.type=n.xr,t.ticket={},t.ticket.url=this.ticket.ticketUrl,t.ticket.reqTs=this.ticket.io,t.ticket.respTs=this.ticket.ro,t.ticket.userAgent=this.Qn.Mn(),t.manifests=[],this.manifests.forEach(function(e){var n={};n.url=e.url,n.respTs=e.ro,n.respCode=e.respCode,t.manifests.push(n)});var e=-1,i=-1,r=-1;return this.yn.forEach(function(t){t.no>0&&(-1==e&&(e=t.ts,i=t.no),r=t.no)}),-1!=e&&(t.playTs=e),-1!=r&&(t.buffTime=r),-1!=i&&(t.initBuffTime=i),t},t}();t.oo=b;var w=function(){function t(t,e,n){this.eventId=t,this.url=e,this.ro=(new Date).getTime(),this.respCode=n}return t}();t.so=w;var E=function(){function t(t,e,n,i){this.ts=(new Date).getTime(),this.sessionId=t,this.sessionId||(this.sessionId="null"),this.event=e,this.ao=n,i&&(this.ts=i)}return t.prototype.toJSON=function(){var t={};return t.type=this.co+this.event,t.ts=this.ts,this.ao&&(t.parameters=this.ao),t},t}();t.ho=E;var O=function(t){function e(e,i,r,o){var s=t.call(this,e,i,r,o)||this;return s.co=n._r,s}return i(e,t),e}(E);t.po=O;var S=function(t){function e(e,i,r,o){var s=t.call(this,e,i,r,o)||this;return s.co=n.Dr,s}return i(e,t),e}(E);t.uo=S;var T=function(){function t(t,e,n){this.ts=(new Date).getTime(),this.lr=t,this.lo=e,this.no=n}return t}();t.do=T}(e.F||(e.F={}))},function(t,e){"use strict";function n(){if(this.fo)return this.fo;var t=window&&window.window?window.window.vo:void 0;if(void 0!==t&&t.log&&t.debug&&t.info&&t.warn&&t.error&&(this.fo=t),!this.fo){var e=!(void 0===window.console),n=e?console.log.bind(console):function(){};this.fo={log:n,debug:e&&window.console.debug?window.console.debug.bind(console):n,info:e&&window.console.info?window.console.info.bind(console):n,warn:e&&window.console.warn?window.console.warn.bind(console):n,error:e&&window.console.error?window.console.error.bind(console):n}}return this.fo}e.u="[HiveServices] ";var i=function(){function t(){}return t}();i.yo=250,e.ke=i;var r=function(){function t(t,e,n){this.msgId=e,this.service=t,this.msg=n}return t.prototype.mo=function(){var t=new Uint8Array([this.service>>8,255&this.service]),e=new Uint8Array([this.msgId]),n=[t,e,this.msg];return new Blob(n,{type:"application/octet-binary"})},t.wo=function(e){var n=(String.fromCharCode.apply(null,new Uint8Array(e)),String.fromCharCode.apply(null,new Uint8Array(e.slice(3)))),i=new Uint8Array(e.slice(0,2)),r=new Uint8Array(e.slice(2,3));return new t((i[0]<<8)+i[1],r[0],n)},t}();e.Zn=r,e.m=n},function(t,e){"use strict";var n;!function(t){var e=function(){function t(){}return t}();e.LoggerTimestamp=!0,t.Framework=e;var n=function(){function t(){}return t}();n.MetricSnapshotLogs=0,n.TrackSnapshotLogs=0,t.DebugLogs=n}(n=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=n.Framework,window.HiveConfig.DebugLogs=n.DebugLogs)},function(t,e){"use strict";var n=function(){function t(){}return t}();n.To="127.0.0.1",n.br=8999,n.Sr=8998,n.Tr=8899,n.mr=8898,n.So="//{0}:{1}/?callback={2}{3}hivePluginId={4}",n.bo="//{0}:{1}/?callback={2}",n.Er=!0,n.Eo=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,n.Io="2013.1.1",e.wr=n},function(t,e,n){"use strict";!function(t){t.Ro=!0;var e=function(){function t(){}return t}();e.ko="wss://bee.hivestreaming.com:443/v1/hivejs",e.Co="wss://bee-test.hivestreaming.com:443/v1/hivejs",e.Oo={iceServers:[{url:"stun:stun.hivestreaming.com:3678"}]},e.Po=3e4,e.Gn=3e5,e.qn=8e4,e.Ao=3e4,e.No=100,e.xo=1e4,t.Jn=e}(e.Kn||(e.Kn={}))},function(t,e,n){"use strict";var i=n(4),r=i.ve,o=n(1),s=n(2),a=n(9),u=n(5),c=n(27);!function(t){t[t.IDLE=0]="IDLE",t[t.Bo=1]="PLAY"}(e.Fo||(e.Fo={}));var h=function(){function t(t,e,n,i){this.ticket=t,this._o=e,this.app=n,this.identity=i,this.Do=s.Framework.resolve(u.gi.li),this.Ho=s.Framework.resolve(u.gi.si),this.Qn=s.Framework.resolve(u.gi.di),this.Lo=new a.F.eo(this.Qn)}return t.prototype.an=function(t,e,n){this.app=new p(t,e),this.Do.an(this.app),this.Qn.an(this.app,n)},t.prototype.Ci=function(t){this.Ho.Ci(t)},t}();e.Mo=h;var p=function(){function t(t,e){this.app=t,this.version=e}return t}();e.jo=p;var l=function(){function t(){this.Uo=null,this.Vo=null,this.Qo=new r,this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.m.debug("INIT REPORTING"),this._o=s.Framework.resolve(u.gi.Be),this.qo=s.Framework.resolve(u.gi.Ce),this.Jo=s.Framework.resolve(u.gi.ai)}return t.prototype.initSession=function(t,e){var n=this,i=o.defer(),r=this.qo.Ko(),s=this.Jo.Go(t);return null!=s?r.then(function(t){return n.zo(t,s,i,e)}).fail(i.reject):i.reject("Ticket URL not valid"),i.vt},t.prototype.close=function(){this._o.close()},t.prototype.zo=function(t,e,n,i){var r=this;this.Uo=t.Wo(),this.Vo=t.$o();var o=this._o.init(this.Uo,e),s=this.Jo.resolve(o.Yo,e,i);o.vt.then(function(e){s.then(function(e){var i=e.sessionId;if(r.Qo.has(i)){var o=r.Qo.get(i);r.m.warn("SESSION ALREADY EXISTING "+o.Do.ticket)}else{var s=new p(c.Hive.Xo(),c.Hive.getVersion()),a=new h(e,r._o,s,t);a.Do.init(r.Vo,e,s,i),a.Qn.init(r.Vo,s),a.Qn.un(e),r.Qo.set(i,a),r.m.debug("SESSION SET ",i),n.resolve(a)}}).fail(function(t){return n.reject(t||"Error resolving the ticket")}),e.onerror(function(t){n.reject("Error establishing connection to Hive Services")})}).fail(function(t){return n.reject(t)}),this._o.connect()},t.prototype.Zo=function(t,e){return t.es()===e.es()&&t.En()===e.En()&&t.bn()===e.bn()},t}();e.rs=l},function(t,e,n){var i,i;!function(e){t.t=function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var c="function"==typeof i&&i;if(!u&&c)return i(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[a]={t:{}};e[a][0].call(p.t,function(t){var n=e[a][1][t];return o(n||t)},p,p.t,t,e,n,r)}return n[a].t}for(var s="function"==typeof i&&i,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){var i=t("./kernel");n.Ie=i.Ie;var r=t("./type_binding");n.ns=r.ns;var o=t("./type_binding_scope");n.ss=o.ss},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(t,e,n){var i=t("./type_binding_scope"),r=t("./lookup"),o=function(){function t(){this.as=new r.cs}return t.prototype.bind=function(t){this.as.add(t.hs,t)},t.prototype.ps=function(t){try{this.as.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.Ee=function(){this.as=new r.cs},t.prototype.resolve=function(t){var e;if(!this.as.us(t))return null;e=this.as.get(t);var n=e[0];if(n.scope===i.ss.ls&&null!==n.ds)return n.ds;var r=this.fs(n.gs);return n.ds=r,r},t.prototype.vs=function(t){var e,n,i,r,o,s;return o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g,e=t.toString().replace(o,""),n=e.indexOf("(")+1,i=e.indexOf(")"),r="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(n,i).match(s),null===r&&(r=[]),r},t.prototype.fs=function(t){var e=this.vs(t);if(0===e.length)return new t;for(var n=[],i=null,r=0;r<e.length;r++){var o=e[r];i=this.resolve(o),n.push(i)}return this.ys(t,n)},t.prototype.ys=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t}();n.Ie=o},{"./lookup":3,"./type_binding_scope":5}],3:[function(t,e,n){var i=function(){function t(t,e){this.key=t,this.value=new Array,this.value.push(e)}return t}(),r=function(){function t(){this.ms=new Array}return t.prototype.ws=function(t){for(var e=-1,n=0;n<this.ms.length;n++){this.ms[n].key===t&&(e=n)}return e},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error("Argument Null");if(null===e||void 0===e)throw new Error("Argument Null");var n=this.ws(t);if(-1!==n){var r=this.ms[n];r.key===t&&r.value.push(e)}else this.ms.push(new i(t,e))},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");var n=this.ms[e];return n.key===t?n.value:void 0},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");this.ms.splice(e,1)},t.prototype.us=function(t){if(null===t||void 0===t)throw new Error("Argument Null");return-1!==this.ws(t)},t}();n.cs=r},{}],4:[function(t,e,n){var i=t("./type_binding_scope"),r=function(){function t(t,e,n){if(this.hs=t,this.gs=e,this.ds=null,void 0===n)this.scope=i.ss.Ts;else{if(!i.ss[n]){var r="Invalid scope type "+n;throw new Error(r)}this.scope=n}}return t}();n.ns=r},{"./type_binding_scope":5}],5:[function(t,e,n){var i;!function(t){t[t.Ts=0]="Transient",t[t.ls=1]="Singleton"}(i||(i={})),n.ss=i},{}]},{},[1])(1)}()}()},function(module,exports,__webpack_require__){var Thrift={Ss:"0.9.2",bs:{Es:0,Is:1,BOOL:2,BYTE:3,Rs:3,ks:4,Cs:6,Os:8,Ps:10,As:11,Ns:11,xs:12,Bs:13,Fs:14,_s:15,Ds:16,Hs:17},Ls:{Ms:1,js:2,Us:3,Vs:4},Qs:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},qs:function(t,e,n){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.name=n||""}};Thrift.Js=function(t){this.message=t},Thrift.qs(Thrift.Js,Error,"TException"),Thrift.Js.prototype.Ks=function(){return this.message},Thrift.Gs={zs:0,Ws:1,$s:2,Ys:3,Xs:4,Zs:5,ta:6,ea:7,ia:8,ra:9,na:10},Thrift.oa=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.qs(Thrift.oa,Thrift.Js,"TApplicationException"),Thrift.oa.prototype.read=function(t){for(;;){var e=t.sa();if(e.aa==Thrift.bs.Es)break;switch(e.ca){case 1:e.aa==Thrift.bs.As?(e=t.ha(),this.message=e.value):e=t.pa(e.aa);break;case 2:e.aa==Thrift.bs.Os?(e=t.ua(),this.code=e.value):e=t.pa(e.aa);break;default:e=t.pa(e.aa)}t.la()}t.da()},Thrift.oa.prototype.write=function(t){t.fa("TApplicationException"),this.message&&(t.ga("message",Thrift.bs.As,1),t.va(this.Ks()),t.ya()),this.code&&(t.ga("type",Thrift.bs.Os,2),t.ma(this.code),t.ya()),t.wa(),t.Ta()},Thrift.oa.prototype.Sa=function(){return this.code},Thrift.ba=Thrift.Ea=function(t,e){this.url=t,this.Ia=0,this.Ra=0,this.ka=e&&e.ka,this.Ca="",this.Oa=""},Thrift.Ea.prototype={Pa:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw"Your browser doesn't support XHR."},flush:function(t,e){var n=this;if(t&&!e||void 0===this.url||""===this.url)return this.Ca;var i=this.Pa();if(i.overrideMimeType&&i.overrideMimeType("application/json"),e&&(i.onreadystatechange=function(){var t=e;return function(){4==this.readyState&&200==this.status&&(n.Aa(this.responseText),t())}}()),i.open("POST",this.url,!!t),i.send(this.Ca),!t||!e){if(4!=i.readyState)throw"encountered an unknown ajax ready state: "+i.readyState;if(200!=i.status)throw"encountered a unknown request status: "+i.status;this.Oa=i.responseText,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0}},xa:function(t,e,n,i){if("undefined"==typeof jQuery||void 0===jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var r=this;return jQuery.ajax({url:this.url,data:e,type:"POST",ds:!1,contentType:"application/json",Ba:"text thrift",Fa:{_a:function(e){return r.Aa(e),i.call(t)}},context:t,success:jQuery.makeArray(n).pop()})},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var n=t;e<t&&(n=e);var i=this.read_buf.substr(this.Ra,n);return this.Ra+=n,i},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.La=function(t){this.Ma(t)},Thrift.La.prototype={Ma:function(t){this.url=t,this.ja=null,this.callbacks=[],this.Ua=[],this.Ca="",this.Oa="",this.Va=0,this.Qa=0},flush:function(t,e){var n=this;this.isOpen()?(this.ja.send(this.Ca),this.callbacks.push(function(){var t=e;return function(e){n.Aa(e),t()}}())):this.Ua.push({qa:this.Ca,Ja:e})},Ka:function(){var t=this;this.Ua.length>0&&(this.Ua.forEach(function(e){this.ja.send(e.qa),this.callbacks.push(function(){var n=e.Ja;return function(e){t.Aa(e),n()}}())}),this.Ua=[])},Ga:function(t){this.Ma(this.url)},za:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},Wa:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.ja.close()},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return this.ja&&this.ja.readyState==this.ja.OPEN},open:function(){this.ja&&this.ja.readyState!=this.ja.CLOSED||(this.ja=new WebSocket(this.url),this.ja.onopen=this.Ka.bind(this),this.ja.onmessage=this.za.bind(this),this.ja.onerror=this.Wa.bind(this),this.ja.onclose=this.Ga.bind(this))},close:function(){this.ja.close()},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var n=t;e<t&&(n=e);var i=this.read_buf.substr(this.Ra,n);return this.Ra+=n,i},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.$a=Thrift.Ya=function(t){this.Xa=t},Thrift.Ya.bs={},Thrift.Ya.bs[Thrift.bs.BOOL]='"tf"',Thrift.Ya.bs[Thrift.bs.BYTE]='"i8"',Thrift.Ya.bs[Thrift.bs.Cs]='"i16"',Thrift.Ya.bs[Thrift.bs.Os]='"i32"',Thrift.Ya.bs[Thrift.bs.Ps]='"i64"',Thrift.Ya.bs[Thrift.bs.ks]='"dbl"',Thrift.Ya.bs[Thrift.bs.xs]='"rec"',Thrift.Ya.bs[Thrift.bs.As]='"str"',Thrift.Ya.bs[Thrift.bs.Bs]='"map"',Thrift.Ya.bs[Thrift.bs._s]='"lst"',Thrift.Ya.bs[Thrift.bs.Fs]='"set"',Thrift.Ya.Za={},Thrift.Ya.Za.tc=Thrift.bs.BOOL,Thrift.Ya.Za.ec=Thrift.bs.BYTE,Thrift.Ya.Za.ic=Thrift.bs.Cs,Thrift.Ya.Za.rc=Thrift.bs.Os,Thrift.Ya.Za.nc=Thrift.bs.Ps,Thrift.Ya.Za.oc=Thrift.bs.ks,Thrift.Ya.Za.sc=Thrift.bs.xs,Thrift.Ya.Za.ac=Thrift.bs.As,Thrift.Ya.Za.map=Thrift.bs.Bs,Thrift.Ya.Za.cc=Thrift.bs._s,Thrift.Ya.Za.set=Thrift.bs.Fs,Thrift.Ya.Ss=1,Thrift.Ya.prototype={hc:function(){return this.Xa},pc:function(t,e,n){this.uc=[],this.lc=[],this.uc.push([Thrift.Ya.Ss,'"'+t+'"',e,n])},dc:function(){var t=this.uc.pop();this.fc=this.uc.pop(),this.fc.push(t),this.gc="["+this.fc.join(",")+"]",this.Xa.write(this.gc)},fa:function(t){this.lc.push(this.uc.length),this.uc.push({})},Ta:function(){var t=this.lc.pop(),e=this.uc[t],n="{",i=!0;for(var r in e)i?i=!1:n+=",",n+=r+":"+e[r];n+="}",this.uc[t]=n},ga:function(t,e,n){this.lc.push(this.uc.length),this.uc.push({vc:'"'+n+'"',yc:Thrift.Ya.bs[e]})},ya:function(){var t=this.uc.pop(),e=this.uc.pop();this.uc[this.uc.length-1][e.vc]="{"+e.yc+":"+t+"}",this.lc.pop()},wa:function(){},mc:function(t,e,n){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],Thrift.Ya.bs[e],0])},wc:function(){var t=this.lc.pop();if(t!=this.uc.length){(this.uc.length-t-1)%2!=0&&this.uc.push("");var e=(this.uc.length-t-1)/2;this.uc[t][this.uc[t].length-1]=e;for(var n="}",i=!0;this.uc.length>t+1;){var r=this.uc.pop(),o=this.uc.pop();i?i=!1:n=","+n,isNaN(o)||(o='"'+o+'"'),n=o+":"+r+n}n="{"+n,this.uc[t].push(n),this.uc[t]="["+this.uc[t].join(",")+"]"}},Tc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Sc:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},bc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Ec:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},Ic:function(t){this.uc.push(t?1:0)},Rc:function(t){this.uc.push(t)},kc:function(t){this.uc.push(t)},ma:function(t){this.uc.push(t)},Cc:function(t){this.uc.push(t)},Oc:function(t){this.uc.push(t)},va:function(t){if(null===t)this.uc.push(null);else{for(var e="",n=0;n<t.length;n++){var i=t.charAt(n);e+='"'===i?'\\"':"\\"===i?"\\\\":"\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":i}this.uc.push('"'+e+'"')}},Pc:function(t){this.va(t)},Ac:function(){this.Nc=[],this.Ra=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.xc=JSON.parse(this.Xa.Da()):"undefined"!=typeof jQuery?this.xc=jQuery.parseJSON(this.Xa.Da()):this.xc=eval(this.Xa.Da());var r={},version=this.xc.shift();if(version!=Thrift.Ya.Ss)throw"Wrong thrift protocol version: "+version;return r.Bc=this.xc.shift(),r.Fc=this.xc.shift(),r._c=this.xc.shift(),this.Nc.push(this.xc.shift()),r},Dc:function(){},Hc:function(t){var e={};return e.Bc="",this.Nc[this.Nc.length-1]instanceof Array&&this.Nc.push(this.Nc[this.Nc.length-1].shift()),e},da:function(){this.Nc[this.Nc.length-2]instanceof Array&&this.Nc.pop()},sa:function(){var t={},e=-1,n=Thrift.bs.Es;for(var i in this.Nc[this.Nc.length-1])if(null!==i){e=parseInt(i,10),this.Ra.push(this.Nc.length);var r=this.Nc[this.Nc.length-1][e];delete this.Nc[this.Nc.length-1][e],this.Nc.push(r);break}if(-1!=e)for(var o in this.Nc[this.Nc.length-1])null!==Thrift.Ya.Za[o]&&(n=Thrift.Ya.Za[o],this.Nc[this.Nc.length-1]=this.Nc[this.Nc.length-1][o]);return t.Bc="",t.aa=n,t.ca=e,t},la:function(){for(var t=this.Ra.pop();this.Nc.length>t;)this.Nc.pop()},Lc:function(){var t=this.Nc.pop(),e=t.shift();e instanceof Array&&(this.Nc.push(t),t=e,e=t.shift());var n={};return n.Mc=Thrift.Ya.Za[e],n.jc=Thrift.Ya.Za[t.shift()],n.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t.shift()),n},Uc:function(){this.la()},Vc:function(){var t=this.Nc[this.Nc.length-1],e={};return e.Qc=Thrift.Ya.Za[t.shift()],e.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t),e},qc:function(){this.la()},Jc:function(t,e){return this.Vc(t,e)},Kc:function(){return this.qc()},Gc:function(){var t=this.ua();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},zc:function(){return this.ua()},Wc:function(){return this.ua()},ua:function(t){void 0===t&&(t=this.Nc[this.Nc.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var n in t)if(null!==n){this.Nc.push(t[n]),delete t[n],e.value=n;break}}else e.value=t,this.Nc.pop();return e},$c:function(){return this.ua()},Yc:function(){return this.ua()},ha:function(){return this.ua()},Xc:function(){return this.ha()},pa:function(t){var e,n;switch(t){case Thrift.bs.Es:return null;case Thrift.bs.BOOL:return this.Gc();case Thrift.bs.BYTE:return this.zc();case Thrift.bs.Cs:return this.Wc();case Thrift.bs.Os:return this.ua();case Thrift.bs.Ps:return this.$c();case Thrift.bs.ks:return this.Yc();case Thrift.bs.As:return this.ha();case Thrift.bs.xs:for(this.Hc();e=this.sa(),e.aa!=Thrift.bs.Es;)this.pa(e.aa),this.la();return this.da(),null;case Thrift.bs.Bs:for(e=this.Lc(),n=0;n<e.size;n++)n>0&&this.Nc.length>this.Ra[this.Ra.length-1]+1&&this.Nc.pop(),this.pa(e.Mc),this.pa(e.jc);return this.Uc(),null;case Thrift.bs.Fs:for(e=this.Jc(),n=0;n<e.size;n++)this.pa(e.Qc);return this.Kc(),null;case Thrift.bs._s:for(e=this.Vc(),n=0;n<e.size;n++)this.pa(e.Qc);return this.qc(),null}}},Thrift.Zc=function(t,e,n,i){Thrift.Ya.call(this,e,n,i),this.th=t},Thrift.qs(Thrift.Zc,Thrift.Ya,"multiplexProtocol"),Thrift.Zc.prototype.pc=function(t,e,n){e===Thrift.Ls.Ms||e===Thrift.Ls.Vs?Thrift.Ya.prototype.pc.call(this,this.th+":"+t,e,n):Thrift.Ya.prototype.pc.call(this,t,e,n)},Thrift.eh=function(){this.ih=0},Thrift.eh.prototype.rh=function(t,e,n){e.eo&&(e=e.eo);var i=this;return e.prototype.nh=function(){return i.ih+=1,i.ih},new e(new Thrift.Zc(t,n))},module.t=Thrift},function(t,e){"use strict";var n;!function(t){function e(t){return i[t]}var n=function(){function t(){}return t}();t.HiveSession=n;!function(t){t[t.oh=0]="GENERIC_ERROR",t[t.sh=1]="NO_TECH_AVAILABLE",t[t.ah=2]="NO_TECH_RESOLVED",t[t.hh=3]="TECH_ERROR",t[t.ph=4]="TICKET_ERROR"}(t.uh||(t.uh={}));var i;!function(t){t[t.lh=0]="Generic Undefined Error",t[t.dh=1]="No Tech available to resolve the ticket",t[t.fh=2]="No available Tech could resolved the ticket",t[t.gh=3]="Stopped resolving session on last tech onError",t[t.vh=4]="The ticket could not be resolved"}(i||(i={}));var r=function(){function t(){}return t}();t.HiveSessionError=r;var o=function(){function t(t,e){this.code=t,this.message=e}return t}();t.HiveTechError=o;!function(t){t[t.yh=0]="NOT_READY",t[t.mh=1]="PLUGIN_ERROR",t[t.wh=2]="SESSION_ERROR",t[t.ph=3]="TICKET_ERROR",t[t.Th=4]="VERSION_ERROR",t[t.Sh=5]="TIMEOUT_ERROR"}(t.bh||(t.bh={}));!function(t){t[t.Eh=0]="OK",t[t.Ih=1]="HIVE_NOT_ALLOWED",t[t.Rh=2]="TICKET_NOT_RESOLVED",t[t.kh=3]="TIMEOUT_RESOLVING_TICKET"}(t.Ch||(t.Ch={})),t.getHiveSessionErrorMessage=e;var s=function(){function t(t){this.Oh=t}return t.prototype.getPluginStatusCode=function(){return this.Oh.Ph()},t}();t.Ah=s}(n=e.pt||(e.pt={})),"undefined"!=typeof window&&(void 0===window.pt&&(window.pt={}),window.pt.getHiveSessionErrorMessage=n.getHiveSessionErrorMessage)},function(t,e){"use strict";var n=function(){function t(){}return t}();n.yr="https:"===location.protocol,n.Er=!0,n.Nh=1e4,n.xh=6e4,e.ke=n},function(t,e,n){"use strict";var i=n(41),r=n(8),o=n(25);if(void 0===s)var s="592835a6b4204dd197c00488610003e0";if(void 0===a)var a="0.8";if(void 0===u)var u=!0;var c=function(){function t(){if(this.st=!1,t.Gi)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var e,n=void 0!=r.HiveConfig.ErrorMonitor.key?r.HiveConfig.ErrorMonitor.key:s,i=1==r.HiveConfig.ErrorMonitor.enabledRUM,a=1==r.HiveConfig.ErrorMonitor.enableKeyCombination,c=1==r.HiveConfig.ErrorMonitor.enabledErrorFilter;c&&(e=this.Bh()),atatus&&(void 0==r.HiveConfig.ErrorMonitor.enabled&&u||void 0!=r.HiveConfig.ErrorMonitor.enabled&&1==r.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(n,{enableSourcemap:!0,disableRUM:!i,version:o.version,beforeErrorSend:function(t){var n=!1;if(t&&t.customData&&void 0!==t.customData.forceSend&&(n=t.customData.forceSend,delete t.customData.forceSend,0===Object.keys(t.customData).length&&(t.customData=null)),!c||n)return!0;if(!e)return!1;try{var i=!1;if(t.backTraces){for(var r=0,o=t.backTraces;r<o.length;r++){var s=o[r];if(s.f.indexOf(e)>-1&&s.ln>5){i=!0;break}}i&&(t.name=t.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),t.name.indexOf("Status Code Error:")>=0&&(t.tags=["Plugin Error Code",t.name.split(":")[1].trim()]))}return i}catch(t){return!1}}}).install(),a&&this.Fh(),this.st=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+i+", KeyHandler:"+a+"]"),c&&!e&&this._h("Could not extract error filter"))}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Fh=function(){i.Hh.Wi().Dh([16,17,88],function(){try{throw new Error("Upload console logs")}catch(t){atatus.notify(t),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},t.prototype.Bh=function(){try{throw new Error("test")}catch(e){var t=e.stack.match(/(\/\/.*\.js)/i);if(t&&t.length>0)return t[0]}},t.prototype.setUser=function(t){atatus&&this.st&&atatus.setUser(t)},t.prototype.Lh=function(t){this.m=t},t.prototype.setCustomData=function(t){atatus&&this.st&&atatus.setCustomData(t)},t.prototype._h=function(t,e){if(this.m&&this.m.warn(t),atatus&&this.st)try{throw new Error(t)}catch(t){e||(e={}),e.forceSend=!0,atatus.notify(t,e)}},t.prototype.setTags=function(t){atatus&&this.st&&atatus.setTags(t)},t.prototype.notify=function(t,e){atatus&&this.st&&(e||(e={}),e.forceSend=!0,atatus.notify(t,e))},t}();e.ErrorMonitor=c},function(t,e,n){"use strict";var i=n(21),r=n(34),o=r.Mh,s=r.jh,a=function(){function t(){this.SourceURLParams={}}return t.prototype.Uh=function(t){for(var e in t)if("SourceURLParams"===e)for(var n in t[e])this[e][n]=t[e][n];else this[e]=t[e];this.Vh()},t.prototype.Qh=function(){var t=this.ContentId+this.SiteId+this.CROId+this.SourceURL,e=new o;e.qh("b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253","010001");var n=s(this.Signature);return e.Jh(t,n)},t.prototype.Kh=function(t){this.ticketUrl=t;var e=i.parse(t),n=e.path.split("/").slice(3);if(this.SiteId=n[0],this.CROId=n[1],this.ContentId=n[2],this.Gh=n[3],e.vi)try{var r=e.vi.split("&");for(var o in r){var s=r[o].split(/=(.+)/);this.SourceURLParams[s[0]]=s[1]}}catch(t){}this.zh=t.indexOf("api-test")>-1},t.prototype.bn=function(){return this.SiteId},t.prototype.En=function(){return this.CROId},t.prototype.es=function(){return this.ContentId},t.prototype.Wh=function(){return this.Gh},t.prototype.$h=function(){return this.SourceURL},t.prototype.Yh=function(){if(this.Xh=this.SourceURL,void 0!=this.SourceURLParams){var t=new Array;for(var e in this.SourceURLParams)t.push(e+"="+this.SourceURLParams[e]);t.length>0&&this.Xh&&(this.Xh+=(this.Xh.indexOf("?")>0?"&":"?")+t.join("&"))}},t.prototype.Vh=function(){var t=n(22);this.sessionId=t.Zh()},t.prototype.tp=function(){return this.Xh||this.Yh(),this.Xh},t.prototype.On=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.ep=function(){return[this.SiteId,this.CROId,this.ContentId]},t.prototype.ip=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.toString=function(){return this.On()},t}();a.rp="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.np="CROId",a.op="SiteId",a.sp="ContentId",e.ap=a},function(t,e,n){var i,r,o;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(s,a){"use strict";"object"==typeof t&&t.t?t.t=a(n(6),n(6),n(6)):(r=[n(6),n(6),n(6)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.t=o))}(0,function(t,e,n,i){"use strict";function r(t,e){var n=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof r))return n?i?new r(t,e):new r(t):new r;if(void 0===t){if(n)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&n)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.cp(e):this}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function u(t,e){var n,i,r={};if("RegExp"===s(e))r=null;else if(a(e))for(n=0,i=e.length;n<i;n++)r[e[n]]=!0;else r[e]=!0;for(n=0,i=t.length;n<i;n++){(r&&void 0!==r[t[n]]||!r&&e.test(t[n]))&&(t.splice(n,1),i--,n--)}return t}function c(t,e){var n,i;if(a(e)){for(n=0,i=e.length;n<i;n++)if(!c(t,e[n]))return!1;return!0}var r=s(e);for(n=0,i=t.length;n<i;n++)if("RegExp"===r){if("string"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function h(t,e){if(!a(t)||!a(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function p(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function f(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function d(t){return function(e,n){return void 0===e?this.hp[t]||"":(this.hp[t]=e||null,this.pp(!n),this)}}function v(t,e){return function(n,i){return void 0===n?this.hp[t]||"":(null!==n&&(n+="",n.charAt(0)===e&&(n=n.substring(1))),this.hp[t]=n,this.pp(!i),this)}}var g=i&&i.up;r.version="1.18.10";var y=r.prototype,m=Object.prototype.hasOwnProperty;r.hp=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,vi:null,lp:null,dp:r.dp,fp:r.fp}},r.dp=!1,r.fp=!0,r.gp=/^[a-z][a-z0-9.+-]*$/i,r.vp=/[^a-z0-9\.-]/i,r.yp=/(xn--)/i,r.mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.wp=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.Tp=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r.Sp={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,bp:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},r.Ep={Ip:"80",Rp:"443",kp:"21",Cp:"70",Op:"80",Pp:"443"},r.Ap=/[^a-zA-Z0-9\.-]/,r.Np={a:"href",xp:"cite",link:"href",Bp:"href",Fp:"src",form:"action",_p:"src",Dp:"href",Hp:"src",Lp:"src",source:"src",track:"src",input:"src",Mp:"src",video:"src"},r.jp=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return r.Np[e]}},r.encode=f,r.decode=decodeURIComponent,r.Up=function(){r.encode=escape,r.decode=unescape},r.Vp=function(){r.encode=f,r.decode=decodeURIComponent},r.Qp={pathname:{encode:{qp:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{qp:/[\/\?#]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23"}}},zp:{encode:{qp:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",Wp:"/",$p:"?",Yp:"#",Xp:"[",Zp:"]","%40":"@",tu:"!","%24":"$","%26":"&",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},ou:{encode:{qp:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{tu:"!","%24":"$",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{qp:/[\/\?#:]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23",su:"%3A"}}}},r.au=function(t,e){var n=r.encode(t+"");return void 0===e&&(e=r.fp),e?n.replace(/%20/g,"+"):n},r.cu=function(t,e){t+="",void 0===e&&(e=r.fp);try{return r.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};var b,w={encode:"encode",decode:"decode"},E=function(t,e){return function(n){try{return r[e](n+"").replace(r.Qp[t][e].qp,function(n){return r.Qp[t][e].map[n]})}catch(t){return n}}};for(b in w)r[b+"PathSegment"]=E("pathname",w[b]),r[b+"UrnPathSegment"]=E("urnpath",w[b]);var O=function(t,e,n){return function(i){var o;o=n?function(t){return r[e](r[n](t))}:r[e];for(var s=(i+"").split(t),a=0,u=s.length;a<u;a++)s[a]=o(s[a]);return s.join(t)}};r.hu=O("/","decodePathSegment"),r.pu=O(":","decodeUrnPathSegment"),r.uu=O("/","encodePathSegment","decode"),r.lu=O(":","encodeUrnPathSegment","decode"),r.du=E("reserved","encode"),r.parse=function(t,e){var n;return e||(e={}),n=t.indexOf("#"),n>-1&&(e.lp=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf("?"),n>-1&&(e.vi=t.substring(n+1)||null,t=t.substring(0,n)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=r.fu(t,e)):(n=t.indexOf(":"))>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(r.gp)?e.protocol=void 0:"//"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=r.fu(t,e)):(t=t.substring(n+1),e.urn=!0)),e.path=t,e},r.gu=function(t,e){t=t.replace(/\\/g,"/");var n,i,r=t.indexOf("/");if(-1===r&&(r=t.length),"["===t.charAt(0))n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,r)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),s=t.indexOf("/"),a=t.indexOf(":",o+1);-1!==a&&(-1===s||a<s)?(e.hostname=t.substring(0,r)||null,e.port=null):(i=t.substring(0,r).split(":"),e.hostname=i[0]||null,e.port=i[1]||null)}return e.hostname&&"/"!==t.substring(r).charAt(0)&&(r++,t="/"+t),t.substring(r)||"/"},r.fu=function(t,e){return t=r.vu(t,e),r.gu(t,e)},r.vu=function(t,e){var n,i=t.indexOf("/"),o=t.lastIndexOf("@",i>-1?i:t.length-1);return o>-1&&(-1===i||o<i)?(n=t.substring(0,o).split(":"),e.username=n[0]?r.decode(n[0]):null,n.shift(),e.password=n[0]?r.decode(n.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},r.yu=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,o,s={},a=t.split("&"),u=a.length,c=0;c<u;c++)n=a[c].split("="),i=r.cu(n.shift(),e),o=n.length?r.cu(n.join("="),e):null,m.call(s,i)?("string"!=typeof s[i]&&null!==s[i]||(s[i]=[s[i]]),s[i].push(o)):s[i]=o;return s},r.pp=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=r.mu(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.vi&&t.vi&&(e+="?"+t.vi),"string"==typeof t.lp&&t.lp&&(e+="#"+t.lp),e},r.wu=function(t){var e="";return t.hostname?(e+=r.wp.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},r.mu=function(t){return r.Tu(t)+r.wu(t)},r.Tu=function(t){var e="";return t.username&&(e+=r.encode(t.username)),t.password&&(e+=":"+r.encode(t.password)),e&&(e+="@"),e},r.Su=function(t,e,n){var i,o,s,u,c="";for(o in t)if(m.call(t,o)&&o)if(a(t[o]))for(i={},s=0,u=t[o].length;s<u;s++)void 0!==t[o][s]&&void 0===i[t[o][s]+""]&&(c+="&"+r.bu(o,t[o][s],n),!0!==e&&(i[t[o][s]+""]=!0));else void 0!==t[o]&&(c+="&"+r.bu(o,t[o],n));return c.substring(1)},r.bu=function(t,e,n){return r.au(t,n)+(null!==e?"="+r.au(e,n):"")},r.Eu=function(t,e,n){if("object"==typeof e)for(var i in e)m.call(e,i)&&r.Eu(t,i,e[i]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=n);"string"==typeof t[e]&&(t[e]=[t[e]]),a(n)||(n=[n]),t[e]=(t[e]||[]).concat(n)}},r.Iu=function(t,e,n){var i,o,c;if(a(e))for(i=0,o=e.length;i<o;i++)t[e[i]]=void 0;else if("RegExp"===s(e))for(c in t)e.test(c)&&(t[c]=void 0);else if("object"==typeof e)for(c in e)m.call(e,c)&&r.Iu(t,c,e[c]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===s(n)?!a(t[e])&&n.test(t[e])?t[e]=void 0:t[e]=u(t[e],n):t[e]!==String(n)||a(n)&&1!==n.length?a(t[e])&&(t[e]=u(t[e],n)):t[e]=void 0:t[e]=void 0}},r.Ru=function(t,e,n,i){switch(s(e)){case"String":break;case"RegExp":for(var o in t)if(m.call(t,o)&&e.test(o)&&(void 0===n||r.Ru(t,o,n)))return!0;return!1;case"Object":for(var u in e)if(m.call(e,u)&&!r.Ru(t,u,e[u]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(n)){case"Undefined":return e in t;case"Boolean":return n===Boolean(a(t[e])?t[e].length:t[e]);case"Function":return!!n(t[e],e,t);case"Array":if(!a(t[e]))return!1;return(i?c:h)(t[e],n);case"RegExp":return a(t[e])?!!i&&c(t[e],n):Boolean(t[e]&&t[e].match(n));case"Number":n=String(n);case"String":return a(t[e])?!!i&&c(t[e],n):t[e]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.ku=function(){for(var t=[],e=[],n=0,i=0;i<arguments.length;i++){var o=new r(arguments[i]);t.push(o);for(var s=o.Cu(),a=0;a<s.length;a++)"string"==typeof s[a]&&e.push(s[a]),s[a]&&n++}if(!e.length||!n)return new r("");var u=new r("").Cu(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},r.Ou=function(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return n<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(n)&&"/"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},r.Pu=function(t,e,n){n||(n={});var i=n.start||r.Sp.start,o=n.end||r.Sp.end,s=n.trim||r.Sp.trim,a=n.bp||r.Sp.bp,u=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(t);if(!c)break;var h=c.index;if(n.ignoreHtml){var p=t.slice(Math.max(h-3,0),h);if(p&&u.test(p))continue}for(var l=h+t.slice(h).search(o),f=t.slice(h,l),d=-1;;){var v=a.exec(f);if(!v)break;var g=v.index+v[0].length;d=Math.max(d,g)}if(f=d>-1?f.slice(0,d)+f.slice(d).replace(s,""):f.replace(s,""),!(f.length<=c[0].length||n.ignore&&n.ignore.test(f))){l=h+f.length;var y=e(f,h,l,t);void 0!==y?(y=String(y),t=t.slice(0,h)+y+t.slice(l),i.lastIndex=h+y.length):i.lastIndex=l}}return i.lastIndex=0,t},r.Au=function(e){if(e.match(r.Ap)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(r.Ap))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},r.ge=function(t){if(t){var e={up:this.ge()};return i.Nu&&"function"==typeof i.Nu.ge&&(e.Nu=i.Nu.ge()),i.xu&&"function"==typeof i.xu.ge&&(e.xu=i.xu.ge()),i.Bu&&"function"==typeof i.Bu.ge&&(e.Bu=i.Bu.ge()),e}return i.up===this&&(i.up=g),this},y.pp=function(t){return!0===t?this.Fu=!0:(void 0===t||this.Fu)&&(this._u=r.pp(this.hp),this.Fu=!1),this},y.clone=function(){return new r(this)},y.valueOf=y.toString=function(){return this.pp(!1)._u},y.protocol=d("protocol"),y.username=d("username"),y.password=d("password"),y.hostname=d("hostname"),y.port=d("port"),y.vi=v("query","?"),y.lp=v("fragment","#"),y.search=function(t,e){var n=this.vi(t,e);return"string"==typeof n&&n.length?"?"+n:n},y.hash=function(t,e){var n=this.lp(t,e);return"string"==typeof n&&n.length?"#"+n:n},y.pathname=function(t,e){if(void 0===t||!0===t){var n=this.hp.path||(this.hp.hostname?"/":"");return t?(this.hp.urn?r.pu:r.hu)(n):n}return this.hp.urn?this.hp.path=t?r.lu(t):"":this.hp.path=t?r.uu(t):"/",this.pp(!e),this},y.path=y.pathname,y.href=function(t,e){var n;if(void 0===t)return this.toString();this._u="",this.hp=r.hp();var i=t instanceof r,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){t=t[r.jp(t)]||"",o=!1}if(!i&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this.hp=r.parse(String(t),this.hp);else{if(!i&&!o)throw new TypeError("invalid input");var s=i?t.hp:t;for(n in s)m.call(this.hp,n)&&(this.hp[n]=s[n])}return this.pp(!e),this},y.is=function(t){var e=!1,i=!1,o=!1,s=!1,a=!1,u=!1,c=!1,h=!this.hp.urn;switch(this.hp.hostname&&(h=!1,i=r.mp.test(this.hp.hostname),o=r.wp.test(this.hp.hostname),e=i||o,s=!e,a=s&&n&&n.has(this.hp.hostname),u=s&&r.vp.test(this.hp.hostname),c=s&&r.yp.test(this.hp.hostname)),t.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this.hp.urn;case"urn":return!!this.hp.urn;case"punycode":return c}return null};var S=y.protocol,T=y.port,k=y.hostname;y.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(r.gp)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,t,e)},y.scheme=y.protocol,y.port=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return T.call(this,t,e)},y.hostname=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t){var n={};if("/"!==r.gu(t,n))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=n.hostname}return k.call(this,t,e)},y.origin=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var n=this.protocol();return this.Du()?(n?n+"://":"")+this.Du():""}var i=r(t);return this.protocol(i.protocol()).Du(i.Du()).pp(!e),this},y.host=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?r.wu(this.hp):"";if("/"!==r.gu(t,this.hp))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Du=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?r.mu(this.hp):"";if("/"!==r.fu(t,this.hp))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Hu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var n=r.Tu(this.hp);return n?n.substring(0,n.length-1):n}return"@"!==t[t.length-1]&&(t+="@"),r.vu(t,this.hp),this.pp(!e),this},y.Lu=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=r.parse(t),this.hp.path=n.path,this.hp.vi=n.vi,this.hp.lp=n.lp,this.pp(!e),this)},y.Mu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var n=this.hp.hostname.length-this.domain().length-1;return this.hp.hostname.substring(0,n)||""}var i=this.hp.hostname.length-this.domain().length,s=this.hp.hostname.substring(0,i),a=new RegExp("^"+o(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&r.Au(t),this.hp.hostname=this.hp.hostname.replace(a,t),this.pp(!e),this},y.domain=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var n=this.hp.hostname.match(/\./g);if(n&&n.length<2)return this.hp.hostname;var i=this.hp.hostname.length-this.ju(e).length-1;return i=this.hp.hostname.lastIndexOf(".",i-1)+1,this.hp.hostname.substring(i)||""}if(!t)throw new TypeError("cannot set domain empty");if(r.Au(t),!this.hp.hostname||this.is("IP"))this.hp.hostname=t;else{var s=new RegExp(o(this.domain())+"$");this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.ju=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var i=this.hp.hostname.lastIndexOf("."),r=this.hp.hostname.substring(i+1);return!0!==e&&n&&n.list[r.toLowerCase()]?n.get(this.hp.hostname)||r:r}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}else{if(!this.hp.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.Uu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this.hp.path&&!this.hp.hostname)return"";if("/"===this.hp.path)return"/";var n=this.hp.path.length-this.filename().length-1,i=this.hp.path.substring(0,n)||(this.hp.hostname?"/":"");return t?r.hu(i):i}var s=this.hp.path.length-this.filename().length,a=this.hp.path.substring(0,s),u=new RegExp("^"+o(a));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=r.uu(t),this.hp.path=this.hp.path.replace(u,t),this.pp(!e),this},y.filename=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this.hp.path||"/"===this.hp.path)return"";var n=this.hp.path.lastIndexOf("/"),i=this.hp.path.substring(n+1);return t?r.decodePathSegment(i):i}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return t=r.uu(t),this.hp.path=this.hp.path.replace(a,t),s?this.Vu(e):this.pp(!e),this},y.suffix=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this.hp.path||"/"===this.hp.path)return"";var n,i,s=this.filename(),a=s.lastIndexOf(".");return-1===a?"":(n=s.substring(a+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",t?r.decodePathSegment(i):i)}"."===t.charAt(0)&&(t=t.substring(1));var u,c=this.suffix();if(c)u=t?new RegExp(o(c)+"$"):new RegExp(o("."+c)+"$");else{if(!t)return this;this.hp.path+="."+r.uu(t)}return u&&(t=r.uu(t),this.hp.path=this.hp.path.replace(u,t)),this.pp(!e),this},y.Cu=function(t,e,n){var i=this.hp.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),s=r.split(i);if(void 0!==t&&"number"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&s.shift(),t<0&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(a(e)){s=[];for(var u=0,c=e.length;u<c;u++)(e[u].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(p(e[u])))}else(e||"string"==typeof e)&&(e=p(e),""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e?s[t]=p(e):s.splice(t,1);return o&&s.unshift(""),this.path(s.join(i),n)},y.Qu=function(t,e,n){var i,o,s;if("number"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(i=this.Cu(t,e,n),a(i))for(o=0,s=i.length;o<s;o++)i[o]=r.decode(i[o]);else i=void 0!==i?r.decode(i):void 0;return i}if(a(e))for(o=0,s=e.length;o<s;o++)e[o]=r.encode(e[o]);else e="string"==typeof e||e instanceof String?r.encode(e):e;return this.Cu(t,e,n)};var C=y.vi;return y.vi=function(t,e){if(!0===t)return r.yu(this.hp.vi,this.hp.fp);if("function"==typeof t){var n=r.yu(this.hp.vi,this.hp.fp),i=t.call(this,n);return this.hp.vi=r.Su(i||n,this.hp.dp,this.hp.fp),this.pp(!e),this}return void 0!==t&&"string"!=typeof t?(this.hp.vi=r.Su(t,this.hp.dp,this.hp.fp),this.pp(!e),this):C.call(this,t,e)},y.qu=function(t,e,n){var i=r.yu(this.hp.vi,this.hp.fp);if("string"==typeof t||t instanceof String)i[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)m.call(t,o)&&(i[o]=t[o])}return this.hp.vi=r.Su(i,this.hp.dp,this.hp.fp),"string"!=typeof t&&(n=e),this.pp(!n),this},y.Eu=function(t,e,n){var i=r.yu(this.hp.vi,this.hp.fp);return r.Eu(i,t,void 0===e?null:e),this.hp.vi=r.Su(i,this.hp.dp,this.hp.fp),"string"!=typeof t&&(n=e),this.pp(!n),this},y.Iu=function(t,e,n){var i=r.yu(this.hp.vi,this.hp.fp);return r.Iu(i,t,e),this.hp.vi=r.Su(i,this.hp.dp,this.hp.fp),"string"!=typeof t&&(n=e),this.pp(!n),this},y.Ru=function(t,e,n){var i=r.yu(this.hp.vi,this.hp.fp);return r.Ru(i,t,e,n)},y.Ju=y.qu,y.Ku=y.Eu,y.Gu=y.Iu,y.zu=y.Ru,y.normalize=function(){return this.hp.urn?this.Yu(!1).Vu(!1).$u(!1).Wu(!1).pp():this.Yu(!1).Zu(!1).Xu(!1).Vu(!1).$u(!1).Wu(!1).pp()},y.Yu=function(t){return"string"==typeof this.hp.protocol&&(this.hp.protocol=this.hp.protocol.toLowerCase(),this.pp(!t)),this},y.Zu=function(n){return this.hp.hostname&&(this.is("IDN")&&t?this.hp.hostname=t.toASCII(this.hp.hostname):this.is("IPv6")&&e&&(this.hp.hostname=e.best(this.hp.hostname)),this.hp.hostname=this.hp.hostname.toLowerCase(),this.pp(!n)),this},y.Xu=function(t){return"string"==typeof this.hp.protocol&&this.hp.port===r.Ep[this.hp.protocol]&&(this.hp.port=null,this.pp(!t)),this},y.Vu=function(t){var e=this.hp.path;if(!e)return this;if(this.hp.urn)return this.hp.path=r.lu(this.hp.path),this.pp(!t),this;if("/"===this.hp.path)return this;e=r.uu(e);var n,i,o,s="";for("/"!==e.charAt(0)&&(n=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(s=e.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(i=e.search(/\/\.\.(\/|$)/));)0!==i?(o=e.substring(0,i).lastIndexOf("/"),-1===o&&(o=i),e=e.substring(0,o)+e.substring(i+3)):e=e.substring(3);return n&&this.is("relative")&&(e=s+e.substring(1)),this.hp.path=e,this.pp(!t),this},y.tl=y.Vu,y.$u=function(t){return"string"==typeof this.hp.vi&&(this.hp.vi.length?this.vi(r.yu(this.hp.vi,this.hp.fp)):this.hp.vi=null,this.pp(!t)),this},y.Wu=function(t){return this.hp.lp||(this.hp.lp=null,this.pp(!t)),this},y.el=y.$u,y.il=y.Wu,y.Up=function(){var t=r.encode,e=r.decode;r.encode=escape,r.decode=decodeURIComponent;try{this.normalize()}finally{r.encode=t,r.decode=e}return this},y.Vp=function(){var t=r.encode,e=r.decode;r.encode=f,r.decode=unescape;try{this.normalize()}finally{r.encode=t,r.decode=e}return this},y.rl=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e.hp.protocol&&(n+=e.hp.protocol+"://"),e.hp.hostname&&(e.is("punycode")&&t?(n+=t.toUnicode(e.hp.hostname),e.hp.port&&(n+=":"+e.hp.port)):n+=e.host()),e.hp.hostname&&e.hp.path&&"/"!==e.hp.path.charAt(0)&&(n+="/"),n+=e.path(!0),e.hp.vi){for(var i="",o=0,s=e.hp.vi.split("&"),a=s.length;o<a;o++){var u=(s[o]||"").split("=");i+="&"+r.cu(u[0],this.hp.fp).replace(/&/g,"%26"),void 0!==u[1]&&(i+="="+r.cu(u[1],this.hp.fp).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=r.cu(e.hash(),!0)},y.cp=function(t){var e,n,i,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof r||(t=new r(t)),o.hp.protocol)return o;if(o.hp.protocol=t.hp.protocol,this.hp.hostname)return o;for(n=0;i=s[n];n++)o.hp[i]=t.hp[i];return o.hp.path?(".."===o.hp.path.substring(-2)&&(o.hp.path+="/"),"/"!==o.path().charAt(0)&&(e=t.Uu(),e=e||(0===t.path().indexOf("/")?"/":""),o.hp.path=(e?e+"/":"")+o.hp.path,o.Vu())):(o.hp.path=t.hp.path,o.hp.vi||(o.hp.vi=t.hp.vi)),o.pp(),o},y.nl=function(t){var e,n,i,o,s,a=this.clone().normalize();if(a.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new r(t).normalize(),e=a.hp,n=t.hp,o=a.path(),s=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password)return a.pp();if(null!==e.protocol||null!==e.username||null!==e.password)return a.pp();if(e.hostname!==n.hostname||e.port!==n.port)return a.pp();if(e.hostname=null,e.port=null,o===s)return e.path="",a.pp();if(!(i=r.Ou(o,s)))return a.pp();var u=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=u+e.path.substring(i.length)||"./",a.pp()},y.ol=function(t){var e,n,i,o=this.clone(),s=new r(t),u={},c={},p={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(e=o.vi(),n=s.vi(),o.vi(""),s.vi(""),o.toString()!==s.toString())return!1;if(e.length!==n.length)return!1;u=r.yu(e,this.hp.fp),c=r.yu(n,this.hp.fp);for(i in u)if(m.call(u,i)){if(a(u[i])){if(!h(u[i],c[i]))return!1}else if(u[i]!==c[i])return!1;p[i]=!0}for(i in c)if(m.call(c,i)&&!p[i])return!1;return!0},y.dp=function(t){return this.hp.dp=!!t,this},y.fp=function(t){return this.hp.fp=!!t,this},r})},function(t,e,n){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
!function(e){"use strict";function i(t,e,n){var i=e&&n||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){r<16&&(e[i+r++]=d[t])});r<16;)e[i+r++]=0;return e}function r(t,e){var n=e||0,i=f;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}function o(t,e,n){var i=e&&n||0,o=e||[];t=t||{};var s=null!=t.clockseq?t.clockseq:m,a=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:w+1,c=a-b+(u-w)/1e4;if(c<0&&null==t.clockseq&&(s=s+1&16383),(c<0||a>b)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,w=u,m=s,a+=122192928e5;var h=(1e4*(268435455&a)+u)%4294967296;o[i++]=h>>>24&255,o[i++]=h>>>16&255,o[i++]=h>>>8&255,o[i++]=255&h;var p=a/4294967296*1e4&268435455;o[i++]=p>>>8&255,o[i++]=255&p,o[i++]=p>>>24&15|16,o[i++]=p>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var l=t.node||y,f=0;f<6;f++)o[i+f]=l[f];return e||r(o)}function s(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new l(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[i+s]=o[s];return e||r(o)}var a,u,c,h,p;e?function(){var t=e.crypto||e.msCrypto;if(!a&&t&&t.getRandomValues)try{var n=new Uint8Array(16);h=a=function(){return t.getRandomValues(n),n},a()}catch(t){}if(!a){var i=new Array(16);u=a=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var t=n(33).randomBytes;c=a=t&&function(){return t(16)},a()}catch(t){}}();for(var l="function"==typeof Buffer?Buffer:Array,f=[],d={},v=0;v<256;v++)f[v]=(v+256).toString(16).substr(1),d[f[v]]=v;var g=a(),y=[1|g[0],g[1],g[2],g[3],g[4],g[5]],m=16383&(g[6]<<8|g[7]),b=0,w=0,E=s;E.sl=o,E.Zh=s,E.parse=i,E.al=r,E.cl=l,E.hl=a,E.pl=u,E.ul=c,E.ll=h,void 0!==t&&t.t?t.t=E:(p=e.dl,E.ge=function(){return e.dl=p,E},e.dl=E)}("undefined"!=typeof window?window:null)},function(t,e,n){"use strict";var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11);!function(t){var e=function(){function t(){}return t}();e.DashFilterBitrates=null,e.DashRemoveBitrateSize=!1,t.Dash=e;var n=function(){function t(){}return t}();n.fl=!0,t.Stats=n;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.HiveConfig.DebugLogs);i.gl=0,t.DebugLogs=i;var s=function(){function t(){}return t}();s.usiz=null,t.UDPBroadcast=s}(i=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=i.Dash,window.HiveConfig.Stats=i.Stats,window.HiveConfig.UDPBroadcast=i.UDPBroadcast,window.HiveConfig.DebugLogs=i.DebugLogs)},function(t,e,n){"use strict";var i=n(11),r=n(4),o=r.ve;!function(t){var e;!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warn=2]="warn",t[t.notice=3]="notice",t[t.info=4]="info",t[t.debug=5]="debug",t[t.trace=6]="trace"}(e=t.vl||(t.vl={}));var n=function(){function t(){this.timestamp=function(){},this.yl=new o,this.level=e.debug,this.timestamp.toString=function(){var t=new Date;return"["+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)+":"+t.getUTCMilliseconds()+"]"},this.m="undefined"==typeof console?{log:function(){}}:console,this.m.trace||(this.m.trace=this.m.log),this.m.debug||(this.m.debug=this.m.log),this.m.info||(this.m.info=this.m.log),this.m.warn||(this.m.warn=this.m.log),this.m.error||(this.m.error=this.m.log),this.ml(e[this.level])}return t.prototype.ml=function(t,n){i.HiveConfig.Framework.HiveDebugLevel&&void 0!=e[i.HiveConfig.Framework.HiveDebugLevel]?this.level=e[i.HiveConfig.Framework.HiveDebugLevel]:void 0!=e[t]?this.level=e[t]:console.log("Wrong logging level: "+t,e),this.wl(n)},t.prototype.wl=function(t){var n={log:this.Tl(this.m.log,e.error,t),error:this.Tl(this.m.error,e.error,t),warn:this.Tl(this.m.warn,e.warn,t),notice:this.Tl(this.m.info,e.notice,t),info:this.Tl(this.m.info,e.info,t),debug:this.Tl(this.m.debug,e.debug,t),trace:this.Tl(this.m.trace,e.trace,t)};t?this.yl.set(t,n):this.Sl=n},t.prototype.Tl=function(t,e,n){if(!(this.level>=e))return function(){};try{return i.HiveConfig.Framework.LoggerTimestamp?n?Function.prototype.bind.call(t,console,"%s %s",this.timestamp,n):Function.prototype.bind.call(t,console,"%s",this.timestamp):Function.prototype.bind.call(t,console)}catch(t){}},t.prototype.log=function(t){return t?(this.yl.has(t)||this.ml(e[this.level],t),this.yl.get(t)):this.Sl},t}();t.bl=n}(e.El||(e.El={}))},function(t,e,n){"use strict";var i=n(4),r=i.ve,o=n(1),s=n(2),a=n(40),u=n(49),c=n(17),h=n(11),p=n(7),l=n(42),f=n(9),d=n(37),v=n(5),g=n(50),y=n(48),m=n(27),b=n(19),w=n(20),E=n(18),O=a.pt.Ir,S=u.pt.Il,T=c.pt.uh,k=c.pt.Ch,C=c.pt.HiveTechError,R=c.pt.bh,I=c.pt.Ah;e.version="3.2.0";!function(t){var i=function(){function t(t){this.Rl=[S[S.HiveJava],S[S.HiveJsProxy],S[S.HiveJS],S[S.StatsJS]],this.kl=new r,this.Cl=new Array,this.Ol=new Array,this.Pl=null,this.Al=0,this.Nl=0,this.u="[HiveComm] ",this.xl=0,this.Bl=p.ar.getItem("hivePluginId"),this.Bl||(this.Bl=Math.abs(Math.floor(68719476736*Math.random())).toString(16),p.ar.setItem("hivePluginId",this.Bl)),b.ErrorMonitor.Wi(),this.options_=new O.Fl,this._l(t),p.nr(t,this.options_),p.or(window.location.href,new O.Dl,this.options_),a.Ll.Hl(this.options_),this.fo=s.Framework.resolve(s.Framework.Fe.we),h.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.fo.ml(this.options().debugLevel),b.ErrorMonitor.Wi().Lh(this.fo.log());var e=s.Framework.resolve(v.gi.Ce),n=s.Framework.resolve(v.gi.ci);e.Ko().then(function(t){b.ErrorMonitor.Wi().setUser(t.Wo())});var i={};n.Pn().then(function(t){i={pIPAddr:t.Nn().Bn()},b.ErrorMonitor.Wi().setCustomData(i)}),window.vo=this.fo.log(),this.Ml(),this.jl=new I(this),new l.Ul(this);var o=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:E.ke.xh;this.Vl=new p.vr(o)}return t.prototype.options=function(){return this.options_},t.prototype.m=function(){return this.fo.log()},t.prototype.S=function(){return this.Bl},t.prototype.ct=function(){return e.version},t.prototype.Ql=function(){for(var t=0,e=this.Ol;t<e.length;t++){e[t].tech.ql(this)}},t.prototype._l=function(t){var e=new y.StatsJS(this,t);this.kl.set(y.StatsJS.Jl,e);var i=n(43).HiveJava;this.kl.set(i.Jl,new i(this,t));var r=t.hiveTechOrder;if(!r||r instanceof Array)if(r&&r.length>0)for(var o=r.length;o--;){var s=r[o];"string"!=typeof s||-1==this.Rl.indexOf(s)?(console.warn(this.u+'The "'+s+'" Hive tech is undefined'),r.splice(o,1)):"string"==typeof s&&this.kl.has(s)||console.warn(this.u+'The "'+s+'" Hive tech is not enabled on this plugin')}else r=this.Rl;else console.warn(this.u+"hiveTechOrder value not accepted. It must be an array of strings"),r=this.Rl;t.hiveTechOrder=r},t.prototype.p=function(t){var e=this;this.m().notice(this.u+"resolving "+t),this.Kl(t);var n=o.defer(),i=this.Gl().values();0==i.length&&n.reject(p.sr(t,T.sh));var r,s,a=!1,u=!1,c=0,h=null;return p.Xi(function(){return!a&&!u&&c<i.length&&!r},function(){var n=i[c++];n.zl();var p;return p=n.Wl()&&!s?e.$l(t):o.resolve(null),p.then(function(i){null!=i&&(s=i);var r=n.Yl();return n.initSession(t,s).timeout(r,"["+n.Ai()+"] Error: initialization timed out after "+r+"ms").then(function(t){h=t,e.Xl(h,n),a=!0,!n.Wl()&&s&&s.Qn.reset(),e.m().notice(e.u+"initializing Session:["+h.id+"] Ticket:"+h.ticket.toString()+" HiveTech:["+h.tech.Ai()+"]"),o.resolve(!0)},function(i){i instanceof Error&&(i=new C(R.Sh,i.message),n.Zl(i)),i.ticketUrl=t,u=!n.onError(i),e.m().debug(e.u+"tech "+n.Ai()+": "+i.message),o.resolve(!0)})},function(t){r=t,o.resolve(!0)})}).then(function(){r?n.reject(p.sr(t,T.ph,r)):u?n.reject(p.sr(t,T.hh)):a?n.resolve(h):n.reject(p.sr(t,T.sh))}).catch(function(e){b.ErrorMonitor.Wi()._h(e),n.reject(p.sr(t,T.oh,e.toString()))}).done(),n.vt},t.prototype.$l=function(t){var e=this;return m.Hive.Reporting().initSession(t,!1).then(function(n){return e.m().debug(e.u+"verified ticket "+t),e.hn(n),n}).catch(function(t){return o.reject("Ticket not verified, error: "+t.message)})},t.prototype.Gl=function(){var t=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),e=new r;for(var n in t)this.kl.has(t[n])&&e.set(t[n],this.kl.get(t[n]));return e},t.prototype.Kl=function(t){var e=b.ErrorMonitor.Wi();try{var n=new w.ap;n.Kh(t),n.bn()&&n.En()&&n.es()?e.setTags([n.bn(),n.En(),n.es()]):e._h(this.u+" Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId: "+n.bn()+"/"+n.En()+"/"+n.es())}catch(t){this.m().warn(this.u+" "+t.message,t),e.notify(t)}},t.prototype.hn=function(t){var n={commVersion:e.version,pluginName:this.T(),pluginVersion:this.I(),playerTech:this.ht(),playerVersion:this.q(),telemetryId:this.td()};t.Qn.hn(n)},t.prototype.v=function(){window.HiveRequest=XMLHttpRequest,p.HiveRequestFactory.clear(),m.Hive.Reporting().close()},t.prototype.ed=function(t){this.Pl&&this.Pl.tech?(t.sessionId=this.Pl.id,this.Pl.tech.wn(this.Pl,t)):this.Cl.push(t)},t.prototype.rd=function(){var t=this.Cl;return this.Cl=new Array,t},t.prototype.Ml=function(){var t=this,e=window;e.addEventListener?e.addEventListener("beforeunload",function(){t.nd(!0)},!1):e.attachEvent("onbeforeunload",function(){t.nd(!0)})},t.prototype.h=function(t){this.nd(t),this.Pl=null,this.Ol=new Array,this.Al=0,this.Nl=0,this.od()},t.prototype.Xl=function(t,e){t.tech=e,this.Ol.push(t)},t.prototype.R=function(t){if(null==this.Pl){for(var e=t||this.it(),n=0;n<this.Ol.length;n++){var i=this.Ol[n];if(i.st(e))return this.Pl=i,this.Pl.Ri?this.Pl.Ri._o.sd(this.Pl.ticket):this.ad(),this.Ol=new Array,this.Pl.tech.onActiveSession(this.Pl),this.m().notice(this.u+"activating Session:["+this.Pl.id+"] Ticket:"+this.Pl.ticket.toString()+" HiveTech:["+this.Pl.tech.Ai()+"]"),this.hd(),!0}this.m().warn(this.u+"Closing sessions - the active stream doesn't match any initialized sessions"),this.m().warn(this.u+"Active:"+e+" - initialized: "+this.Ol.length),this.h()}return!1},t.prototype.C=function(){if(this.Pl)return this.Pl.g()},t.prototype.ad=function(){var t=!1;this.Ol.forEach(function(e){e.Ri&&(t=!0)}),t&&m.Hive.Reporting().close()},t.prototype.pd=function(){if(null!=this.Pl){if(this.Pl.st(this.it()))return!0;this.m().warn(this.u+"Session src mismatch: "+this.it()+" != "+this.Pl.manifest),this.h()}return!1},t.prototype.nd=function(t){if(null!=this.Pl)this.m().notice(this.u+"Stopping session ["+this.Pl.id+"]"),this.Pl.close(t);else if(this.Ol.length>0){var e=this.Ol[0];this.m().notice(this.u+"Attempt to stopping session ["+e.id+"]"),e.close(t)}},t.prototype.hd=function(){var t=this;null==this.ud&&(this.ud=setInterval(function(){t.ld()},this.options().feedbackPeriod),this.ld())},t.prototype.od=function(){clearInterval(this.ud),this.ud=null},t.prototype.ld=function(){var t=this;if(this.pd()){if(!this.st())return void this.h();var e=new p.Fi;e.lr=this.getCurrentTime(),e.dr=this.nt(),e.gr=this.Al,e.width=this.ot().width,e.height=this.ot().height,e.dd=this.isFullscreen(),this.Pl.ki(this.Vl.hr(e)),this.Pl.tech.fd(this.Pl,e).fail(function(e){t.m().warn(t.u+"stats handling failed",e),t.od()})}},t.prototype.gd=function(){var t=this;try{p.Yi.Wi(this.m()).$i(function(e){var n=t.vd();n&&!n.Oi()&&(t._(e?f.F.B.jr:f.F.B.HIDDEN),t.m().debug(e?"visible":"hidden"))})}catch(t){b.ErrorMonitor.Wi()._h("error setting up the visibilityChange listener",{error:t})}},t.prototype.k=function(t){this.pd()&&this.Nl<=0&&(this.Nl=Date.now(),(void 0==t||t)&&this._(f.F.B.Lr))},t.prototype.G=function(){var t=0==this.Al;if(this.Nl>0){var e=Date.now()-this.Nl;return this.Al+=e,this.m().debug(this.u+"reporting new buffering event of "+e),this.Nl=0,t&&this.ld(),!0}return!1},t.prototype.onError=function(t,e,n){void 0===n&&(n=!0),this._(f.F.B.ERROR,{code:-1,"player-code":t}),n&&this.h()},t.prototype._=function(t,e){var n=this,i=this.vd();null==i||i!=this.Pl&&i.tech.Ai()===S[S.HiveJava]||i.tech.yd(i,t,e).fail(function(t){n.m().warn(n.u+"error in forwarding player event to tech",t)})},t.prototype.vd=function(){return this.Pl?this.Pl:this.Ol&&this.Ol.length>0?this.Ol[0]:void 0},t.prototype.md=function(){this.xl=0},t.prototype.wd=function(t,e){this.md();this.xl+=t<<28,e&&0===t&&(this.xl+=1<<4*(6-S[e.Ai()])),t>0&&b.ErrorMonitor.Wi()._h(this.u+"Status Code Error: "+k[t])},t.prototype.Ph=function(){return this.xl},t.prototype.td=function(){return this.options().telemetryId},t}();t.Plugin=i}(e.pt||(e.pt={})),s.Framework.Qe(new d.Td),s.Framework.Ge("peer0",new g.Sd),s.Framework.ze("peer0"),window.HiveRequestFactory=p.HiveRequestFactory},function(t,e,n){"use strict";var i=n(45),r=n(7),o=function(){function t(t){this.readyState=3,this.status=0,t&&(this.sessionId=t)}return t.Lh=function(e){t.m=e},t.register=function(e,n){t.bd[e]=n},t.prototype.Ed=function(e){this.sessionId||(this.sessionId=t.bd[e])},t.prototype.open=function(t,e,n){void 0===n&&(n=!1),this.method=t,this.url=e,this.Id=n},t.prototype.getAllResponseHeaders=function(){return this.Rd},t.prototype.getResponseHeader=function(t){var e=this.getAllResponseHeaders();if(e){var n=[];return e.split("\n").forEach(function(t){var e=t.split(":");n[e[0]]=e[1]}),n[t]}},t.prototype.send=function(){if(t.m&&t.m.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.bd);e.length>0&&(this.sessionId=t.bd[e[0]])}var n=this,o=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var s=r.rr(i.Cd.kd,i.Cd.To,i.Cd.Od,this.sessionId,encodeURIComponent(this.url));o.open("GET",s),this.responseType&&(o.responseType=this.responseType),o.onreadystatechange=function(){},o.onload=function(){if(4===o.readyState)try{n.Rd=o.getAllResponseHeaders(),n.response=o.response;var e=o.response.byteLength;"arraybuffer"!==o.responseType&&(n.responseText=o.response),n.readyState=4,n.status=o.status,n.onprogress({lengthComputable:!0,loaded:e,total:e}),n.onreadystatechange({type:"loadend",target:n,currentTarget:n,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:e}),n.onload(),n.onloadend({type:"loadend",target:n,currentTarget:n,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})}catch(e){t.m&&t.m.warn(e)}},o.onerror=function(e){t.m&&t.m.warn("onError: "+JSON.stringify(e)),n.onerror(e)},o.onabort=function(e){t.m&&t.m.warn("onAbort: "+JSON.stringify(e))},o.send()},t.prototype.abort=function(){},t.prototype.onload=function(){},t.prototype.onloadend=function(t){},t.prototype.onerror=function(t){},t.prototype.onprogress=function(t){},t.prototype.onreadystatechange=function(t){},t}();o.bd={},e.Ti=o},function(t,e,n){"use strict";var i=n(2),r=n(5),o=function(){function t(){}return t.Reporting=function(){return t.app="STATS",i.Framework.resolve(r.gi.ui)},t.Xo=function(){return this.app},t.getVersion=function(){return this.version},t}();o.version="3.2.0",e.Hive=o},function(t,e,n){var i;!function(r,o){"use strict";var s="function",a="undefined",u="object",c="model",h="name",p="type",l="vendor",f="version",d="architecture",v="console",g="mobile",y="tablet",m="smarttv",b="wearable",w={extend:function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},Pd:function(t){return t.toLowerCase()},Ad:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},E={Nd:function(){for(var t,e,n,i,r,c,h,p=0,l=arguments;p<l.length&&!c;){var f=l[p],d=l[p+1];if(typeof t===a){t={};for(i in d)d.hasOwnProperty(i)&&(r=d[i],typeof r===u?t[r[0]]=o:t[r]=o)}for(e=n=0;e<f.length&&!c;)if(c=f[e++].exec(this.xd()))for(i=0;i<d.length;i++)h=c[++n],r=d[i],typeof r===u&&r.length>0?2==r.length?typeof r[1]==s?t[r[0]]=r[1].call(this,h):t[r[0]]=r[1]:3==r.length?typeof r[1]!==s||r[1].exec&&r[1].test?t[r[0]]=h?h.replace(r[1],r[2]):o:t[r[0]]=h?r[1].call(this,h,r[2]):o:4==r.length&&(t[r[0]]=h?r[3].call(this,h.replace(r[1],r[2])):o):t[r]=h||o;p+=2}return t},ac:function(t,e){for(var n in e)if(typeof e[n]===u&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(w.has(e[n][i],t))return"?"===n?o:n}else if(w.has(e[n],t))return"?"===n?o:n;return t}},O={ti:{Bd:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",Kp:"/"}}},Fd:{_d:{Dd:{Hd:["SD","KF"]}},Ld:{Dd:{Md:"7373KT"},vendor:{jd:"APA",Ud:"Sprint"}}},os:{Vd:{version:{Qd:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",qd:["NT 5.1","NT 5.2"],Jd:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],Kd:"ARM"}}}},S={ti:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[h,f],[/(opios)[\/\s]+([\w\.]+)/i],[[h,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[h,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[h,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[h,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[h,f],[/(yabrowser)\/([\w\.]+)/i],[[h,"Yandex"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],f],[/(micromessenger)\/([\w\.]+)/i],[[h,"WeChat"],f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[h,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,/(.+)/,"$1 WebView"],f],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[h,f],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[h,"UCBrowser"],f],[/(dolfin)\/([\w\.]+)/i],[[h,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[h,"Chrome"],f],[/;fbav\/([\w\.]+);/i],[f,[h,"Facebook"]],[/fxios\/([\w\.-]+)/i],[f,[h,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[h,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[f,E.ac,O.ti.Bd.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[h,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,f]],Gd:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,w.Pd]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[d,/ower/,"",w.Pd]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[d,w.Pd]]],Fd:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,l,[p,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[l,"Apple"],[p,y]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,c,[p,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[c,[l,"Amazon"],[p,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[c,E.ac,O.Fd._d.Dd],[l,"Amazon"],[p,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,l,[p,g]],[/\((ip[honed|\s\w*]+);/i],[c,[l,"Apple"],[p,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,c,[p,g]],[/\(bb10;\s(\w+)/i],[c,[l,"BlackBerry"],[p,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[l,"Asus"],[p,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[c,"Xperia Tablet"],[p,y]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[l,"Sony"],[c,"Xperia Phone"],[p,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,c,[p,v]],[/android.+;\s(shield)\sbuild/i],[c,[l,"Nvidia"],[p,v]],[/(playstation\s[34portablevi]+)/i],[c,[l,"Sony"],[p,v]],[/(sprint\s(\w+))/i],[[l,E.ac,O.Fd.Ld.vendor],[c,E.ac,O.Fd.Ld.Dd],[p,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,c,[p,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[c,/_/g," "],[p,g]],[/(nexus\s9)/i],[c,[l,"HTC"],[p,y]],[/(nexus\s6p)/i],[c,[l,"Huawei"],[p,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,c,[p,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[l,"Microsoft"],[p,v]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[l,"Microsoft"],[p,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[l,"Motorola"],[p,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[l,"Motorola"],[p,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,w.trim],[c,w.trim],[p,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[l,"Samsung"],[p,m]],[/\(dtv[\);].+(aquos)/i],[c,[l,"Sharp"],[p,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],c,[p,y]],[/smart-tv.+(samsung)/i],[l,[p,m],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],c,[p,g]],[/sie-(\w+)*/i],[c,[l,"Siemens"],[p,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],c,[p,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[l,"Acer"],[p,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],c,[p,y]],[/(lg) netcast\.tv/i],[l,c,[p,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[c,[l,"LG"],[p,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[l,"Lenovo"],[p,y]],[/linux;.+((jolla));/i],[l,c,[p,g]],[/((pebble))app\/[\d\.]+\s/i],[l,c,[p,b]],[/android.+;\s(glass)\s\d/i],[c,[l,"Google"],[p,b]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[c,/_/g," "],[l,"Xiaomi"],[p,g]],[/android.+a000(1)\s+build/i],[c,[l,"OnePlus"],[p,g]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,w.Pd],l,c]],zd:[[/windows.+\sedge\/([\w\.]+)/i],[f,[h,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,f],[/rv\:([\w\.]+).*(gecko)/i],[f,h]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[h,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[h,[f,E.ac,O.os.Vd.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[f,E.ac,O.os.Vd.version]],[/\((bb)(10);/i],[[h,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[h,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[h,"Symbian"],f],[/\((series40);/i],[h],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[h,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[h,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[h,f],[/(haiku)\s(\w+)/i],[h,f],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[h,"iOS"],[f,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[h,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[h,f]]},T=function(t,e){if(!(this instanceof T))return new T(t,e).Wd();var n=t||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=e?w.extend(S,e):S;return this.$d=function(){var t=E.Nd.apply(this,i.ti);return t.Ad=w.Ad(t.version),t},this.Yd=function(){return E.Nd.apply(this,i.Gd)},this.Xd=function(){return E.Nd.apply(this,i.Fd)},this.Zd=function(){return E.Nd.apply(this,i.zd)},this.Rn=function(){return E.Nd.apply(this,i.os)},this.Wd=function(){return{tf:this.xd(),ti:this.$d(),zd:this.Zd(),os:this.Rn(),Fd:this.Xd(),Gd:this.Yd()}},this.xd=function(){return n},this.In=function(t){return n=t,this},this};T.VERSION="0.7.12",T.ef={if:h,rf:"major",VERSION:f},T.nf={sf:d},T.af={cf:c,VENDOR:l,hf:p,pf:v,uf:g,lf:m,df:y,ff:b,gf:"embedded"},T.vf={if:h,VERSION:f},T.yf={if:h,VERSION:f},typeof e!==a?(typeof t!==a&&t.t&&(e=t.t=T),e.Cr=T):n(64)?(i=function(){return T}.call(e,n,e,t))!==o&&(t.t=i):r.Cr=T;var k=r.jQuery||r.Zepto;if(typeof k!==a){var C=new T;k.tf=C.Wd(),k.tf.get=function(){return C.xd()},k.tf.set=function(t){C.In(t);var e=C.Wd();for(var n in e)k.tf[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e){Services={1:"REMOTE_EXECUTOR",mf:1,2:"PEER_FORWARDER",wf:2,3:"PEER_INDEX",Tf:3,4:"PEER_BROADCAST",Sf:4,5:"PEER_FILTER",bf:5,6:"PEER_LOGGING",Ef:6,7:"HIVEJS_TRACKER",If:7,8:"PEER_SYSTEM",Rf:8,9:"HIVEJS_SNAPSHOTS",to:9,10:"HIVEJS_TICKETS",kf:10,11:"HIVEJS_KEEPALIVE",Cf:11,12:"HIVEJS_FORWARDING",Of:12}},function(t,e,n){var i=n(16);StreamType={1:"LIVE",LIVE:1,2:"VOD",Pf:2},StreamProtocol={1:"DASH",rt:1,2:"HDS",Af:2,3:"HLS",Y:3,4:"SS",Nf:4},ClientType={1:"JAVA",xf:1,2:"STATS_ONLY",Bf:2,3:"JS_DIRECT",Ff:3,4:"JS_PROXY",_f:4},EventId=function(t){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,t&&(void 0!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&(this.customerId=t.customerId),void 0!==t.contentId&&(this.contentId=t.contentId),void 0!==t.tags&&(this.tags=t.tags))},EventId.prototype={},EventId.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.As?this.partnerId=t.ha().value:t.pa(n);break;case 2:n==i.bs.As?this.customerId=t.ha().value:t.pa(n);break;case 3:n==i.bs.As?this.contentId=t.ha().value:t.pa(n);break;case 4:if(n==i.bs._s){var o,s=0;this.tags=[];o=t.Vc(),o.Qc,s=o.size;for(var a=0;a<s;++a){var u=null;u=t.ha().value,this.tags.push(u)}t.qc()}else t.pa(n);break;default:t.pa(n)}t.la()}t.da()},EventId.prototype.write=function(t){if(t.fa("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(t.ga("partnerId",i.bs.As,1),t.va(this.partnerId),t.ya()),null!==this.customerId&&void 0!==this.customerId&&(t.ga("customerId",i.bs.As,2),t.va(this.customerId),t.ya()),null!==this.contentId&&void 0!==this.contentId&&(t.ga("contentId",i.bs.As,3),t.va(this.contentId),t.ya()),null!==this.tags&&void 0!==this.tags){t.ga("tags",i.bs._s,4),t.Tc(i.bs.As,this.tags.length);for(var e in this.tags)this.tags.hasOwnProperty(e)&&(e=this.tags[e],t.va(e));t.Sc(),t.ya()}t.wa(),t.Ta()},SnapshotInfo=function(t){this.timestamp=null,this.apiServer=null,this.clientIp=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.apiServer&&(this.apiServer=t.apiServer),void 0!==t.clientIp&&(this.clientIp=t.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Ps?this.timestamp=t.$c().value:t.pa(n);break;case 2:n==i.bs.As?this.apiServer=t.ha().value:t.pa(n);break;case 3:n==i.bs.As?this.clientIp=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},SnapshotInfo.prototype.write=function(t){t.fa("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",i.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.apiServer&&void 0!==this.apiServer&&(t.ga("apiServer",i.bs.As,2),t.va(this.apiServer),t.ya()),null!==this.clientIp&&void 0!==this.clientIp&&(t.ga("clientIp",i.bs.As,3),t.va(this.clientIp),t.ya()),t.wa(),t.Ta()},InetAddress=function(t){this.address=null,this.port=null,t&&(void 0!==t.address&&(this.address=t.address),void 0!==t.port&&(this.port=t.port))},InetAddress.prototype={},InetAddress.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.As?this.address=t.Xc().value:t.pa(n);break;case 2:n==i.bs.Os?this.port=t.ua().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},InetAddress.prototype.write=function(t){t.fa("InetAddress"),null!==this.address&&void 0!==this.address&&(t.ga("address",i.bs.As,1),t.Pc(this.address),t.ya()),null!==this.port&&void 0!==this.port&&(t.ga("port",i.bs.Os,2),t.ma(this.port),t.ya()),t.wa(),t.Ta()}},function(t,e,n){var i=n(16);"undefined"==typeof hive&&(hive={}),void 0===hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(t){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,t&&(void 0!==t.reqN&&(this.reqN=t.reqN),void 0!==t.respFallbackN&&(this.respFallbackN=t.respFallbackN),void 0!==t.respFallbackErrN&&(this.respFallbackErrN=t.respFallbackErrN),void 0!==t.respP2pN&&(this.respP2pN=t.respP2pN),void 0!==t.reqOtherN&&(this.reqOtherN=t.reqOtherN),void 0!==t.respFallbackOtherN&&(this.respFallbackOtherN=t.respFallbackOtherN),void 0!==t.respFallbackOthertErrN&&(this.respFallbackOthertErrN=t.respFallbackOthertErrN),void 0!==t.srcReqN&&(this.srcReqN=t.srcReqN),void 0!==t.srcRespN&&(this.srcRespN=t.srcRespN),void 0!==t.srcRespErrN&&(this.srcRespErrN=t.srcRespErrN),void 0!==t.srcReqQt&&(this.srcReqQt=t.srcReqQt),void 0!==t.srcRespQt&&(this.srcRespQt=t.srcRespQt),void 0!==t.srcOverQt&&(this.srcOverQt=t.srcOverQt),void 0!==t.srcOtherReqN&&(this.srcOtherReqN=t.srcOtherReqN),void 0!==t.srcOtherRespN&&(this.srcOtherRespN=t.srcOtherRespN),void 0!==t.srcOtherRespErrN&&(this.srcOtherRespErrN=t.srcOtherRespErrN),void 0!==t.srcOtherReqQt&&(this.srcOtherReqQt=t.srcOtherReqQt),void 0!==t.srcOtherRespQt&&(this.srcOtherRespQt=t.srcOtherRespQt),void 0!==t.srcOtherOverQt&&(this.srcOtherOverQt=t.srcOtherOverQt),void 0!==t.p2pSubReqN&&(this.p2pSubReqN=t.p2pSubReqN),void 0!==t.p2pSubRespN&&(this.p2pSubRespN=t.p2pSubRespN),void 0!==t.p2pSubRespPartN&&(this.p2pSubRespPartN=t.p2pSubRespPartN),void 0!==t.p2pSubRespErrN&&(this.p2pSubRespErrN=t.p2pSubRespErrN),void 0!==t.p2pSubRespExpN&&(this.p2pSubRespExpN=t.p2pSubRespExpN),void 0!==t.p2pSubReqQt&&(this.p2pSubReqQt=t.p2pSubReqQt),void 0!==t.p2pSubRespQt&&(this.p2pSubRespQt=t.p2pSubRespQt),void 0!==t.p2pDirectQt&&(this.p2pDirectQt=t.p2pDirectQt),void 0!==t.p2pRelayQt&&(this.p2pRelayQt=t.p2pRelayQt),void 0!==t.p2pNatQt&&(this.p2pNatQt=t.p2pNatQt),void 0!==t.p2pUdpbQt&&(this.p2pUdpbQt=t.p2pUdpbQt),void 0!==t.fallAgentRespN&&(this.fallAgentRespN=t.fallAgentRespN),void 0!==t.fallAgentPredHitN&&(this.fallAgentPredHitN=t.fallAgentPredHitN),void 0!==t.fallAgentFailedRespN&&(this.fallAgentFailedRespN=t.fallAgentFailedRespN),void 0!==t.fallAgentPredMissN&&(this.fallAgentPredMissN=t.fallAgentPredMissN),void 0!==t.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=t.fallAgentPredPartialHitN),void 0!==t.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=t.fallAgenTrafficSuccessQt),void 0!==t.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=t.fallAgenTrafficFailureQt),void 0!==t.p2pAgentPredHitN&&(this.p2pAgentPredHitN=t.p2pAgentPredHitN),void 0!==t.p2pAgentPredMissN&&(this.p2pAgentPredMissN=t.p2pAgentPredMissN),void 0!==t.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=t.p2pAgentPredPartialHitN),void 0!==t.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=t.p2pAgenTrafficSuccessQt),void 0!==t.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=t.p2pAgenTrafficFailureQt),void 0!==t.respP2pOtherN&&(this.respP2pOtherN=t.respP2pOtherN),void 0!==t.lCacheRespN&&(this.lCacheRespN=t.lCacheRespN),void 0!==t.lCacheRespQt&&(this.lCacheRespQt=t.lCacheRespQt),void 0!==t.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=t.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.reqN=t.ua().value:t.pa(n);break;case 2:n==i.bs.ks?this.respFallbackN=t.Yc().value:t.pa(n);break;case 3:n==i.bs.Os?this.respFallbackErrN=t.ua().value:t.pa(n);break;case 4:n==i.bs.ks?this.respP2pN=t.Yc().value:t.pa(n);break;case 5:n==i.bs.Os?this.reqOtherN=t.ua().value:t.pa(n);break;case 6:n==i.bs.Os?this.respFallbackOtherN=t.ua().value:t.pa(n);break;case 7:n==i.bs.Os?this.respFallbackOthertErrN=t.ua().value:t.pa(n);break;case 8:n==i.bs.Os?this.srcReqN=t.ua().value:t.pa(n);break;case 9:n==i.bs.Os?this.srcRespN=t.ua().value:t.pa(n);break;case 10:n==i.bs.Os?this.srcRespErrN=t.ua().value:t.pa(n);break;case 11:n==i.bs.Ps?this.srcReqQt=t.$c().value:t.pa(n);break;case 12:n==i.bs.Ps?this.srcRespQt=t.$c().value:t.pa(n);break;case 13:n==i.bs.Ps?this.srcOverQt=t.$c().value:t.pa(n);break;case 14:n==i.bs.Os?this.srcOtherReqN=t.ua().value:t.pa(n);break;case 15:n==i.bs.Os?this.srcOtherRespN=t.ua().value:t.pa(n);break;case 16:n==i.bs.Os?this.srcOtherRespErrN=t.ua().value:t.pa(n);break;case 17:n==i.bs.Ps?this.srcOtherReqQt=t.$c().value:t.pa(n);break;case 18:n==i.bs.Ps?this.srcOtherRespQt=t.$c().value:t.pa(n);break;case 19:n==i.bs.Ps?this.srcOtherOverQt=t.$c().value:t.pa(n);break;case 20:n==i.bs.Os?this.p2pSubReqN=t.ua().value:t.pa(n);break;case 21:n==i.bs.Os?this.p2pSubRespN=t.ua().value:t.pa(n);break;case 22:n==i.bs.ks?this.p2pSubRespPartN=t.Yc().value:t.pa(n);break;case 23:n==i.bs.ks?this.p2pSubRespErrN=t.Yc().value:t.pa(n);break;case 24:n==i.bs.Os?this.p2pSubRespExpN=t.ua().value:t.pa(n);break;case 25:n==i.bs.Ps?this.p2pSubReqQt=t.$c().value:t.pa(n);break;case 26:n==i.bs.Ps?this.p2pSubRespQt=t.$c().value:t.pa(n);break;case 27:n==i.bs.Ps?this.p2pDirectQt=t.$c().value:t.pa(n);break;case 28:n==i.bs.Ps?this.p2pRelayQt=t.$c().value:t.pa(n);break;case 29:n==i.bs.Ps?this.p2pNatQt=t.$c().value:t.pa(n);break;case 30:n==i.bs.Ps?this.p2pUdpbQt=t.$c().value:t.pa(n);break;case 31:n==i.bs.Os?this.fallAgentRespN=t.ua().value:t.pa(n);break;case 32:n==i.bs.Os?this.fallAgentPredHitN=t.ua().value:t.pa(n);break;case 33:n==i.bs.Os?this.fallAgentFailedRespN=t.ua().value:t.pa(n);break;case 34:n==i.bs.Os?this.fallAgentPredMissN=t.ua().value:t.pa(n);break;case 35:n==i.bs.Os?this.fallAgentPredPartialHitN=t.ua().value:t.pa(n);break;case 36:n==i.bs.Ps?this.fallAgenTrafficSuccessQt=t.$c().value:t.pa(n);break;case 37:n==i.bs.Ps?this.fallAgenTrafficFailureQt=t.$c().value:t.pa(n);break;case 38:n==i.bs.Os?this.p2pAgentPredHitN=t.ua().value:t.pa(n);break;case 39:n==i.bs.Os?this.p2pAgentPredMissN=t.ua().value:t.pa(n);break;case 40:n==i.bs.Os?this.p2pAgentPredPartialHitN=t.ua().value:t.pa(n);break;case 41:n==i.bs.Ps?this.p2pAgenTrafficSuccessQt=t.$c().value:t.pa(n);break;case 42:n==i.bs.Ps?this.p2pAgenTrafficFailureQt=t.$c().value:t.pa(n);break;case 43:n==i.bs.Os?this.respP2pOtherN=t.ua().value:t.pa(n);break;case 44:n==i.bs.Os?this.lCacheRespN=t.ua().value:t.pa(n);break;case 45:n==i.bs.Ps?this.lCacheRespQt=t.$c().value:t.pa(n);break;case 46:n==i.bs.Ps?this.p2pOutSiteLowPrio=t.$c().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.Traffic.prototype.write=function(t){t.fa("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(t.ga("reqN",i.bs.Os,1),t.ma(this.reqN),t.ya()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(t.ga("respFallbackN",i.bs.ks,2),t.Oc(this.respFallbackN),t.ya()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(t.ga("respFallbackErrN",i.bs.Os,3),t.ma(this.respFallbackErrN),t.ya()),null!==this.respP2pN&&void 0!==this.respP2pN&&(t.ga("respP2pN",i.bs.ks,4),t.Oc(this.respP2pN),t.ya()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(t.ga("reqOtherN",i.bs.Os,5),t.ma(this.reqOtherN),t.ya()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(t.ga("respFallbackOtherN",i.bs.Os,6),t.ma(this.respFallbackOtherN),t.ya()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(t.ga("respFallbackOthertErrN",i.bs.Os,7),t.ma(this.respFallbackOthertErrN),t.ya()),null!==this.srcReqN&&void 0!==this.srcReqN&&(t.ga("srcReqN",i.bs.Os,8),t.ma(this.srcReqN),t.ya()),null!==this.srcRespN&&void 0!==this.srcRespN&&(t.ga("srcRespN",i.bs.Os,9),t.ma(this.srcRespN),t.ya()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(t.ga("srcRespErrN",i.bs.Os,10),t.ma(this.srcRespErrN),t.ya()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(t.ga("srcReqQt",i.bs.Ps,11),t.Cc(this.srcReqQt),t.ya()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(t.ga("srcRespQt",i.bs.Ps,12),t.Cc(this.srcRespQt),t.ya()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(t.ga("srcOverQt",i.bs.Ps,13),t.Cc(this.srcOverQt),t.ya()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(t.ga("srcOtherReqN",i.bs.Os,14),t.ma(this.srcOtherReqN),t.ya()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(t.ga("srcOtherRespN",i.bs.Os,15),t.ma(this.srcOtherRespN),t.ya()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(t.ga("srcOtherRespErrN",i.bs.Os,16),t.ma(this.srcOtherRespErrN),t.ya()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(t.ga("srcOtherReqQt",i.bs.Ps,17),t.Cc(this.srcOtherReqQt),t.ya()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(t.ga("srcOtherRespQt",i.bs.Ps,18),t.Cc(this.srcOtherRespQt),t.ya()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(t.ga("srcOtherOverQt",i.bs.Ps,19),t.Cc(this.srcOtherOverQt),t.ya()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(t.ga("p2pSubReqN",i.bs.Os,20),t.ma(this.p2pSubReqN),t.ya()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(t.ga("p2pSubRespN",i.bs.Os,21),t.ma(this.p2pSubRespN),t.ya()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(t.ga("p2pSubRespPartN",i.bs.ks,22),t.Oc(this.p2pSubRespPartN),t.ya()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(t.ga("p2pSubRespErrN",i.bs.ks,23),t.Oc(this.p2pSubRespErrN),t.ya()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(t.ga("p2pSubRespExpN",i.bs.Os,24),t.ma(this.p2pSubRespExpN),t.ya()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(t.ga("p2pSubReqQt",i.bs.Ps,25),t.Cc(this.p2pSubReqQt),t.ya()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(t.ga("p2pSubRespQt",i.bs.Ps,26),t.Cc(this.p2pSubRespQt),t.ya()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(t.ga("p2pDirectQt",i.bs.Ps,27),t.Cc(this.p2pDirectQt),t.ya()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(t.ga("p2pRelayQt",i.bs.Ps,28),t.Cc(this.p2pRelayQt),t.ya()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(t.ga("p2pNatQt",i.bs.Ps,29),t.Cc(this.p2pNatQt),t.ya()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(t.ga("p2pUdpbQt",i.bs.Ps,30),t.Cc(this.p2pUdpbQt),t.ya()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(t.ga("fallAgentRespN",i.bs.Os,31),t.ma(this.fallAgentRespN),t.ya()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(t.ga("fallAgentPredHitN",i.bs.Os,32),t.ma(this.fallAgentPredHitN),t.ya()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(t.ga("fallAgentFailedRespN",i.bs.Os,33),t.ma(this.fallAgentFailedRespN),t.ya()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(t.ga("fallAgentPredMissN",i.bs.Os,34),t.ma(this.fallAgentPredMissN),t.ya()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(t.ga("fallAgentPredPartialHitN",i.bs.Os,35),t.ma(this.fallAgentPredPartialHitN),t.ya()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(t.ga("fallAgenTrafficSuccessQt",i.bs.Ps,36),t.Cc(this.fallAgenTrafficSuccessQt),t.ya()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(t.ga("fallAgenTrafficFailureQt",i.bs.Ps,37),t.Cc(this.fallAgenTrafficFailureQt),t.ya()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(t.ga("p2pAgentPredHitN",i.bs.Os,38),t.ma(this.p2pAgentPredHitN),t.ya()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(t.ga("p2pAgentPredMissN",i.bs.Os,39),t.ma(this.p2pAgentPredMissN),t.ya()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(t.ga("p2pAgentPredPartialHitN",i.bs.Os,40),t.ma(this.p2pAgentPredPartialHitN),t.ya()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(t.ga("p2pAgenTrafficSuccessQt",i.bs.Ps,41),t.Cc(this.p2pAgenTrafficSuccessQt),t.ya()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(t.ga("p2pAgenTrafficFailureQt",i.bs.Ps,42),t.Cc(this.p2pAgenTrafficFailureQt),t.ya()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(t.ga("respP2pOtherN",i.bs.Os,43),t.ma(this.respP2pOtherN),t.ya()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(t.ga("lCacheRespN",i.bs.Os,44),t.ma(this.lCacheRespN),t.ya()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(t.ga("lCacheRespQt",i.bs.Ps,45),t.Cc(this.lCacheRespQt),t.ya()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(t.ga("p2pOutSiteLowPrio",i.bs.Ps,46),t.Cc(this.p2pOutSiteLowPrio),t.ya()),t.wa(),t.Ta()},hive.snapshots.Metrics=function(t){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.memN&&(this.memN=t.memN),void 0!==t.prtInN&&(this.prtInN=t.prtInN),void 0!==t.prtOutN&&(this.prtOutN=t.prtOutN),void 0!==t.initVideoBufQt&&(this.initVideoBufQt=t.initVideoBufQt),void 0!==t.videoAvgBufQt&&(this.videoAvgBufQt=t.videoAvgBufQt),void 0!==t.videoBufQt&&(this.videoBufQt=t.videoBufQt),void 0!==t.videoBufN&&(this.videoBufN=t.videoBufN),void 0!==t.initAudioBufQt&&(this.initAudioBufQt=t.initAudioBufQt),void 0!==t.audioAvgBufQt&&(this.audioAvgBufQt=t.audioAvgBufQt),void 0!==t.audioBufQt&&(this.audioBufQt=t.audioBufQt),void 0!==t.audioBufN&&(this.audioBufN=t.audioBufN),void 0!==t.bitrateUpN&&(this.bitrateUpN=t.bitrateUpN),void 0!==t.bitrateDwnN&&(this.bitrateDwnN=t.bitrateDwnN),void 0!==t.delay&&(this.delay=t.delay),void 0!==t.delayEnforcement&&(this.delayEnforcement=t.delayEnforcement),void 0!==t.lookupReqEstablished&&(this.lookupReqEstablished=t.lookupReqEstablished),void 0!==t.lookupReqAccept&&(this.lookupReqAccept=t.lookupReqAccept),void 0!==t.fallbackAvgTp&&(this.fallbackAvgTp=t.fallbackAvgTp),void 0!==t.srcThroughput&&(this.srcThroughput=t.srcThroughput),void 0!==t.diskReadTimeout&&(this.diskReadTimeout=t.diskReadTimeout),void 0!==t.diskReadRate&&(this.diskReadRate=t.diskReadRate),void 0!==t.diskStoreRate&&(this.diskStoreRate=t.diskStoreRate),void 0!==t.diskRemoveRate&&(this.diskRemoveRate=t.diskRemoveRate),void 0!==t.diskCacheSize&&(this.diskCacheSize=t.diskCacheSize),void 0!==t.clientBufferMs&&(this.clientBufferMs=t.clientBufferMs),void 0!==t.lookupTotal&&(this.lookupTotal=t.lookupTotal),void 0!==t.lookupNotFound&&(this.lookupNotFound=t.lookupNotFound),void 0!==t.lookupFailed&&(this.lookupFailed=t.lookupFailed),void 0!==t.lookupLatency&&(this.lookupLatency=t.lookupLatency),void 0!==t.trackerFailed&&(this.trackerFailed=t.trackerFailed),void 0!==t.trackerLatency&&(this.trackerLatency=t.trackerLatency),void 0!==t.snapshotFailed&&(this.snapshotFailed=t.snapshotFailed),void 0!==t.snapshotLatency&&(this.snapshotLatency=t.snapshotLatency))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.upBW=t.ua().value:t.pa(n);break;case 2:n==i.bs.Os?this.downBW=t.ua().value:t.pa(n);break;case 3:n==i.bs.Os?this.memN=t.ua().value:t.pa(n);break;case 4:n==i.bs.Os?this.prtInN=t.ua().value:t.pa(n);break;case 5:n==i.bs.Os?this.prtOutN=t.ua().value:t.pa(n);break;case 6:n==i.bs.Ps?this.initVideoBufQt=t.$c().value:t.pa(n);break;case 7:n==i.bs.ks?this.videoAvgBufQt=t.Yc().value:t.pa(n);break;case 8:n==i.bs.Ps?this.videoBufQt=t.$c().value:t.pa(n);break;case 9:n==i.bs.Os?this.videoBufN=t.ua().value:t.pa(n);break;case 10:n==i.bs.Os?this.initAudioBufQt=t.ua().value:t.pa(n);break;case 11:n==i.bs.ks?this.audioAvgBufQt=t.Yc().value:t.pa(n);break;case 12:n==i.bs.Ps?this.audioBufQt=t.$c().value:t.pa(n);break;case 13:n==i.bs.Os?this.audioBufN=t.ua().value:t.pa(n);break;case 14:n==i.bs.Os?this.bitrateUpN=t.ua().value:t.pa(n);break;case 15:n==i.bs.Os?this.bitrateDwnN=t.ua().value:t.pa(n);break;case 16:n==i.bs.Os?this.delay=t.ua().value:t.pa(n);break;case 17:n==i.bs.Os?this.delayEnforcement=t.ua().value:t.pa(n);break;case 18:n==i.bs.Os?this.lookupReqEstablished=t.ua().value:t.pa(n);break;case 19:n==i.bs.Os?this.lookupReqAccept=t.ua().value:t.pa(n);break;case 20:n==i.bs.ks?this.fallbackAvgTp=t.Yc().value:t.pa(n);break;case 21:n==i.bs.ks?this.srcThroughput=t.Yc().value:t.pa(n);break;case 22:n==i.bs.Os?this.diskReadTimeout=t.ua().value:t.pa(n);break;case 23:n==i.bs.ks?this.diskReadRate=t.Yc().value:t.pa(n);break;case 24:n==i.bs.ks?this.diskStoreRate=t.Yc().value:t.pa(n);break;case 25:n==i.bs.ks?this.diskRemoveRate=t.Yc().value:t.pa(n);break;case 26:n==i.bs.Ps?this.diskCacheSize=t.$c().value:t.pa(n);break;case 27:n==i.bs.Os?this.clientBufferMs=t.ua().value:t.pa(n);break;case 28:n==i.bs.Os?this.lookupTotal=t.ua().value:t.pa(n);break;case 29:n==i.bs.Os?this.lookupNotFound=t.ua().value:t.pa(n);break;case 30:n==i.bs.Os?this.lookupFailed=t.ua().value:t.pa(n);break;case 31:n==i.bs.Os?this.lookupLatency=t.ua().value:t.pa(n);break;case 32:n==i.bs.Os?this.trackerFailed=t.ua().value:t.pa(n);break;case 33:n==i.bs.Os?this.trackerLatency=t.ua().value:t.pa(n);break;case 34:n==i.bs.Os?this.snapshotFailed=t.ua().value:t.pa(n);break;case 35:n==i.bs.Os?this.snapshotLatency=t.ua().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.Metrics.prototype.write=function(t){t.fa("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",i.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",i.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.memN&&void 0!==this.memN&&(t.ga("memN",i.bs.Os,3),t.ma(this.memN),t.ya()),null!==this.prtInN&&void 0!==this.prtInN&&(t.ga("prtInN",i.bs.Os,4),t.ma(this.prtInN),t.ya()),null!==this.prtOutN&&void 0!==this.prtOutN&&(t.ga("prtOutN",i.bs.Os,5),t.ma(this.prtOutN),t.ya()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(t.ga("initVideoBufQt",i.bs.Ps,6),t.Cc(this.initVideoBufQt),t.ya()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(t.ga("videoAvgBufQt",i.bs.ks,7),t.Oc(this.videoAvgBufQt),t.ya()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(t.ga("videoBufQt",i.bs.Ps,8),t.Cc(this.videoBufQt),t.ya()),null!==this.videoBufN&&void 0!==this.videoBufN&&(t.ga("videoBufN",i.bs.Os,9),t.ma(this.videoBufN),t.ya()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(t.ga("initAudioBufQt",i.bs.Os,10),t.ma(this.initAudioBufQt),t.ya()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(t.ga("audioAvgBufQt",i.bs.ks,11),t.Oc(this.audioAvgBufQt),t.ya()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(t.ga("audioBufQt",i.bs.Ps,12),t.Cc(this.audioBufQt),t.ya()),null!==this.audioBufN&&void 0!==this.audioBufN&&(t.ga("audioBufN",i.bs.Os,13),t.ma(this.audioBufN),t.ya()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(t.ga("bitrateUpN",i.bs.Os,14),t.ma(this.bitrateUpN),t.ya()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(t.ga("bitrateDwnN",i.bs.Os,15),t.ma(this.bitrateDwnN),t.ya()),null!==this.delay&&void 0!==this.delay&&(t.ga("delay",i.bs.Os,16),t.ma(this.delay),t.ya()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(t.ga("delayEnforcement",i.bs.Os,17),t.ma(this.delayEnforcement),t.ya()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(t.ga("lookupReqEstablished",i.bs.Os,18),t.ma(this.lookupReqEstablished),t.ya()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(t.ga("lookupReqAccept",i.bs.Os,19),t.ma(this.lookupReqAccept),t.ya()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(t.ga("fallbackAvgTp",i.bs.ks,20),t.Oc(this.fallbackAvgTp),t.ya()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(t.ga("srcThroughput",i.bs.ks,21),t.Oc(this.srcThroughput),t.ya()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(t.ga("diskReadTimeout",i.bs.Os,22),t.ma(this.diskReadTimeout),t.ya()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(t.ga("diskReadRate",i.bs.ks,23),t.Oc(this.diskReadRate),t.ya()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(t.ga("diskStoreRate",i.bs.ks,24),t.Oc(this.diskStoreRate),t.ya()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(t.ga("diskRemoveRate",i.bs.ks,25),t.Oc(this.diskRemoveRate),t.ya()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(t.ga("diskCacheSize",i.bs.Ps,26),t.Cc(this.diskCacheSize),t.ya()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(t.ga("clientBufferMs",i.bs.Os,27),t.ma(this.clientBufferMs),t.ya()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(t.ga("lookupTotal",i.bs.Os,28),t.ma(this.lookupTotal),t.ya()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(t.ga("lookupNotFound",i.bs.Os,29),t.ma(this.lookupNotFound),t.ya()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(t.ga("lookupFailed",i.bs.Os,30),t.ma(this.lookupFailed),t.ya()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(t.ga("lookupLatency",i.bs.Os,31),t.ma(this.lookupLatency),t.ya()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(t.ga("trackerFailed",i.bs.Os,32),t.ma(this.trackerFailed),t.ya()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(t.ga("trackerLatency",i.bs.Os,33),t.ma(this.trackerLatency),t.ya()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(t.ga("snapshotFailed",i.bs.Os,34),t.ma(this.snapshotFailed),t.ya()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(t.ga("snapshotLatency",i.bs.Os,35),t.ma(this.snapshotLatency),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerTraffic=function(t){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,t&&(void 0!==t.p2pSuccReq&&(this.p2pSuccReq=t.p2pSuccReq),void 0!==t.p2pFailReq&&(this.p2pFailReq=t.p2pFailReq),void 0!==t.p2pPartReq&&(this.p2pPartReq=t.p2pPartReq),void 0!==t.p2pSuccReceived&&(this.p2pSuccReceived=t.p2pSuccReceived),void 0!==t.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=t.p2pSuccReceivedLow),void 0!==t.p2pFailReceived&&(this.p2pFailReceived=t.p2pFailReceived),void 0!==t.p2pSuccResp&&(this.p2pSuccResp=t.p2pSuccResp),void 0!==t.p2pFailResp&&(this.p2pFailResp=t.p2pFailResp),void 0!==t.p2pPartResp&&(this.p2pPartResp=t.p2pPartResp),void 0!==t.p2pSuccSent&&(this.p2pSuccSent=t.p2pSuccSent),void 0!==t.p2pSuccSentLow&&(this.p2pSuccSentLow=t.p2pSuccSentLow),void 0!==t.p2pFailSent&&(this.p2pFailSent=t.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Ps?this.p2pSuccReq=t.$c().value:t.pa(n);break;case 2:n==i.bs.Ps?this.p2pFailReq=t.$c().value:t.pa(n);break;case 3:n==i.bs.Ps?this.p2pPartReq=t.$c().value:t.pa(n);break;case 4:n==i.bs.Ps?this.p2pSuccReceived=t.$c().value:t.pa(n);break;case 5:n==i.bs.Ps?this.p2pSuccReceivedLow=t.$c().value:t.pa(n);break;case 10:n==i.bs.Ps?this.p2pFailReceived=t.$c().value:t.pa(n);break;case 6:n==i.bs.Ps?this.p2pSuccResp=t.$c().value:t.pa(n);break;case 11:n==i.bs.Ps?this.p2pFailResp=t.$c().value:t.pa(n);break;case 7:n==i.bs.Ps?this.p2pPartResp=t.$c().value:t.pa(n);break;case 8:n==i.bs.Ps?this.p2pSuccSent=t.$c().value:t.pa(n);break;case 9:n==i.bs.Ps?this.p2pSuccSentLow=t.$c().value:t.pa(n);break;case 12:n==i.bs.Ps?this.p2pFailSent=t.$c().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.PartnerTraffic.prototype.write=function(t){t.fa("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(t.ga("p2pSuccReq",i.bs.Ps,1),t.Cc(this.p2pSuccReq),t.ya()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(t.ga("p2pFailReq",i.bs.Ps,2),t.Cc(this.p2pFailReq),t.ya()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(t.ga("p2pPartReq",i.bs.Ps,3),t.Cc(this.p2pPartReq),t.ya()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(t.ga("p2pSuccReceived",i.bs.Ps,4),t.Cc(this.p2pSuccReceived),t.ya()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(t.ga("p2pSuccReceivedLow",i.bs.Ps,5),t.Cc(this.p2pSuccReceivedLow),t.ya()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(t.ga("p2pFailReceived",i.bs.Ps,10),t.Cc(this.p2pFailReceived),t.ya()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(t.ga("p2pSuccResp",i.bs.Ps,6),t.Cc(this.p2pSuccResp),t.ya()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(t.ga("p2pFailResp",i.bs.Ps,11),t.Cc(this.p2pFailResp),t.ya()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(t.ga("p2pPartResp",i.bs.Ps,7),t.Cc(this.p2pPartResp),t.ya()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(t.ga("p2pSuccSent",i.bs.Ps,8),t.Cc(this.p2pSuccSent),t.ya()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(t.ga("p2pSuccSentLow",i.bs.Ps,9),t.Cc(this.p2pSuccSentLow),t.ya()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(t.ga("p2pFailSent",i.bs.Ps,12),t.Cc(this.p2pFailSent),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerMetrics=function(t){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,t&&(void 0!==t.rateReceived&&(this.rateReceived=t.rateReceived),void 0!==t.rateSent&&(this.rateSent=t.rateSent),void 0!==t.handshakeDelay&&(this.handshakeDelay=t.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.ks?this.rateReceived=t.Yc().value:t.pa(n);break;case 2:n==i.bs.ks?this.rateSent=t.Yc().value:t.pa(n);break;case 3:n==i.bs.Ps?this.handshakeDelay=t.$c().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.PartnerMetrics.prototype.write=function(t){t.fa("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(t.ga("rateReceived",i.bs.ks,1),t.Oc(this.rateReceived),t.ya()),null!==this.rateSent&&void 0!==this.rateSent&&(t.ga("rateSent",i.bs.ks,2),t.Oc(this.rateSent),t.ya()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(t.ga("handshakeDelay",i.bs.Ps,3),t.Cc(this.handshakeDelay),t.ya()),t.wa(),t.Ta()},hive.snapshots.ConnectivityInfo=function(t){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.privateIp&&(this.privateIp=t.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.upBW=t.ua().value:t.pa(n);break;case 2:n==i.bs.Os?this.downBW=t.ua().value:t.pa(n);break;case 3:n==i.bs.Os?this.externalAs=t.ua().value:t.pa(n);break;case 4:n==i.bs.Os?this.internalAs=t.ua().value:t.pa(n);break;case 5:n==i.bs.As?this.publicIp=t.ha().value:t.pa(n);break;case 6:n==i.bs.As?this.privateIp=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.ConnectivityInfo.prototype.write=function(t){t.fa("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",i.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",i.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.externalAs&&void 0!==this.externalAs&&(t.ga("externalAs",i.bs.Os,3),t.ma(this.externalAs),t.ya()),null!==this.internalAs&&void 0!==this.internalAs&&(t.ga("internalAs",i.bs.Os,4),t.ma(this.internalAs),t.ya()),null!==this.publicIp&&void 0!==this.publicIp&&(t.ga("publicIp",i.bs.As,5),t.va(this.publicIp),t.ya()),null!==this.privateIp&&void 0!==this.privateIp&&(t.ga("privateIp",i.bs.As,6),t.va(this.privateIp),t.ya()),t.wa(),t.Ta()},hive.snapshots.Partner=function(t){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,t&&(void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.inPart&&(this.inPart=t.inPart),void 0!==t.outPart&&(this.outPart=t.outPart),void 0!==t.udp&&(this.udp=t.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(n);break;case 2:n==i.bs.xs?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(t)):t.pa(n);break;case 3:n==i.bs.xs?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(t)):t.pa(n);break;case 4:n==i.bs.BOOL?this.inPart=t.Gc().value:t.pa(n);break;case 5:n==i.bs.BOOL?this.outPart=t.Gc().value:t.pa(n);break;case 6:n==i.bs.BOOL?this.udp=t.Gc().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.Partner.prototype.write=function(t){t.fa("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",i.bs.xs,1),this.connInfo.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic&&(t.ga("traffic",i.bs.xs,2),this.traffic.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",i.bs.xs,3),this.metrics.write(t),t.ya()),null!==this.inPart&&void 0!==this.inPart&&(t.ga("inPart",i.bs.BOOL,4),t.Ic(this.inPart),t.ya()),null!==this.outPart&&void 0!==this.outPart&&(t.ga("outPart",i.bs.BOOL,5),t.Ic(this.outPart),t.ya()),null!==this.udp&&void 0!==this.udp&&(t.ga("udp",i.bs.BOOL,6),t.Ic(this.udp),t.ya()),t.wa(),t.Ta()},hive.snapshots.StreamInfo=function(t){this.url=null,this.streamType=null,this.streamProtocol=null,t&&(void 0!==t.url&&(this.url=t.url),void 0!==t.streamType&&(this.streamType=t.streamType),void 0!==t.streamProtocol&&(this.streamProtocol=t.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.As?this.url=t.ha().value:t.pa(n);break;case 2:n==i.bs.Os?this.streamType=t.ua().value:t.pa(n);break;case 3:n==i.bs.Os?this.streamProtocol=t.ua().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.StreamInfo.prototype.write=function(t){t.fa("StreamInfo"),null!==this.url&&void 0!==this.url&&(t.ga("url",i.bs.As,1),t.va(this.url),t.ya()),null!==this.streamType&&void 0!==this.streamType&&(t.ga("streamType",i.bs.Os,2),t.ma(this.streamType),t.ya()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(t.ga("streamProtocol",i.bs.Os,3),t.ma(this.streamProtocol),t.ya()),t.wa(),t.Ta()},hive.snapshots.ClientInfo=function(t){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,t&&(void 0!==t.clientType&&(this.clientType=t.clientType),void 0!==t.majorVersion&&(this.majorVersion=t.majorVersion),void 0!==t.minorVersion&&(this.minorVersion=t.minorVersion),void 0!==t.patchVersion&&(this.patchVersion=t.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.clientType=t.ua().value:t.pa(n);break;case 2:n==i.bs.BYTE?this.majorVersion=t.zc().value:t.pa(n);break;case 3:n==i.bs.BYTE?this.minorVersion=t.zc().value:t.pa(n);break;case 4:n==i.bs.Cs?this.patchVersion=t.Wc().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.ClientInfo.prototype.write=function(t){t.fa("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(t.ga("clientType",i.bs.Os,1),t.ma(this.clientType),t.ya()),null!==this.majorVersion&&void 0!==this.majorVersion&&(t.ga("majorVersion",i.bs.BYTE,2),t.Rc(this.majorVersion),t.ya()),null!==this.minorVersion&&void 0!==this.minorVersion&&(t.ga("minorVersion",i.bs.BYTE,3),t.Rc(this.minorVersion),t.ya()),null!==this.patchVersion&&void 0!==this.patchVersion&&(t.ga("patchVersion",i.bs.Cs,4),t.kc(this.patchVersion),t.ya()),t.wa(),t.Ta()},hive.snapshots.AgentInfo=function(t){this.firstTierBitrates=null,this.secondTierBitrates=null,t&&(void 0!==t.firstTierBitrates&&(this.firstTierBitrates=t.firstTierBitrates),void 0!==t.secondTierBitrates&&(this.secondTierBitrates=t.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:if(n==i.bs.Fs){var o,s=0;this.firstTierBitrates=[];o=t.Jc(),o.Qc,s=o.size;for(var a=0;a<s;++a){var u=null;u=t.ua().value,this.firstTierBitrates.push(u)}t.Kc()}else t.pa(n);break;case 2:if(n==i.bs.Fs){var c,h=0;this.secondTierBitrates=[];c=t.Jc(),c.Qc,h=c.size;for(var p=0;p<h;++p){var l=null;l=t.ua().value,this.secondTierBitrates.push(l)}t.Kc()}else t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.AgentInfo.prototype.write=function(t){if(t.fa("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){t.ga("firstTierBitrates",i.bs.Fs,1),t.bc(i.bs.Os,this.firstTierBitrates.length);for(var e in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(e)&&(e=this.firstTierBitrates[e],t.ma(e));t.Ec(),t.ya()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){t.ga("secondTierBitrates",i.bs.Fs,2),t.bc(i.bs.Os,this.secondTierBitrates.length);for(var n in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(n)&&(n=this.secondTierBitrates[n],t.ma(n));t.Ec(),t.ya()}t.wa(),t.Ta()},hive.snapshots.TrafficKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.bitrate=t.ua().value:t.pa(n);break;case 2:n==i.bs.Os?this.AS=t.ua().value:t.pa(n);break;case 3:n==i.bs.As?this.partnerGuid=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.TrafficKey.prototype.write=function(t){t.fa("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",i.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",i.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",i.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Os?this.bitrate=t.ua().value:t.pa(n);break;case 2:n==i.bs.Os?this.AS=t.ua().value:t.pa(n);break;case 3:n==i.bs.As?this.partnerGuid=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.PartnerKey.prototype.write=function(t){t.fa("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",i.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",i.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",i.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.Player=function(t){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,t&&(void 0!==t.bufferingN&&(this.bufferingN=t.bufferingN),void 0!==t.bufferingMs&&(this.bufferingMs=t.bufferingMs),void 0!==t.initBufferingN&&(this.initBufferingN=t.initBufferingN),void 0!==t.initBufferingMs&&(this.initBufferingMs=t.initBufferingMs),void 0!==t.seekBufferingN&&(this.seekBufferingN=t.seekBufferingN),void 0!==t.seekBufferingMs&&(this.seekBufferingMs=t.seekBufferingMs),void 0!==t.playerBufferMs&&(this.playerBufferMs=t.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Cs?this.bufferingN=t.Wc().value:t.pa(n);break;case 2:n==i.bs.Os?this.bufferingMs=t.ua().value:t.pa(n);break;case 3:n==i.bs.Cs?this.initBufferingN=t.Wc().value:t.pa(n);break;case 4:n==i.bs.Os?this.initBufferingMs=t.ua().value:t.pa(n);break;case 5:n==i.bs.Cs?this.seekBufferingN=t.Wc().value:t.pa(n);break;case 6:n==i.bs.Os?this.seekBufferingMs=t.ua().value:t.pa(n);break;case 36:n==i.bs.Os?this.playerBufferMs=t.ua().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.Player.prototype.write=function(t){t.fa("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(t.ga("bufferingN",i.bs.Cs,1),t.kc(this.bufferingN),t.ya()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(t.ga("bufferingMs",i.bs.Os,2),t.ma(this.bufferingMs),t.ya()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(t.ga("initBufferingN",i.bs.Cs,3),t.kc(this.initBufferingN),t.ya()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(t.ga("initBufferingMs",i.bs.Os,4),t.ma(this.initBufferingMs),t.ya()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(t.ga("seekBufferingN",i.bs.Cs,5),t.kc(this.seekBufferingN),t.ya()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(t.ga("seekBufferingMs",i.bs.Os,6),t.ma(this.seekBufferingMs),t.ya()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(t.ga("playerBufferMs",i.bs.Os,36),t.ma(this.playerBufferMs),t.ya()),t.wa(),t.Ta()},hive.snapshots.MetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Ps?this.timestamp=t.$c().value:t.pa(n);break;case 2:n==i.bs.As?this.guid=t.ha().value:t.pa(n);break;case 3:n==i.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(n);break;case 4:n==i.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(n);break;case 5:n==i.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(n);break;case 6:if(n==i.bs.Bs){var o,s=0;this.traffic={};o=t.Lc(),o.Mc,o.jc,s=o.size;for(var a=0;a<s;++a){a>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var u=null,c=null;u=new hive.snapshots.TrafficKey,u.read(t),c=new hive.snapshots.Traffic,c.read(t),this.traffic[u]=c}t.Uc()}else t.pa(n);break;case 7:n==i.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(n);break;case 8:n==i.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(n);break;case 9:n==i.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(n);break;case 10:if(n==i.bs.Bs){var h,p=0;this.partners={};h=t.Lc(),h.Mc,h.jc,p=h.size;for(var l=0;l<p;++l){l>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var f=null,d=null;f=new hive.snapshots.PartnerKey,f.read(t),d=new hive.snapshots.Partner,d.read(t),this.partners[f]=d}t.Uc()}else t.pa(n);break;case 11:n==i.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(n);break;case 12:n==i.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(n);break;case 13:n==i.bs.As?this.sessionId=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.MetricSnapshot.prototype.write=function(t){if(t.fa("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",i.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",i.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",i.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",i.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",i.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",i.bs.Bs,6),t.mc(i.bs.xs,i.bs.xs,i.Qs(this.traffic));for(var e=0;e<this.traffic.length;e++){var n=this.traffic[e],r=n.key,o=n.value;r.write(t),o.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",i.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",i.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",i.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",i.bs.Bs,10),t.mc(i.bs.xs,i.bs.xs,i.Qs(this.partners));for(var e=0;e<this.partners.length;e++){var n=this.partners[e],s=n.key,a=n.value;s.write(t),a.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",i.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",i.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",i.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()},hive.snapshots.JsonMetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),n=(e.Bc,e.aa),r=e.ca;if(n==i.bs.Es)break;switch(r){case 1:n==i.bs.Ps?this.timestamp=t.$c().value:t.pa(n);break;case 2:n==i.bs.As?this.guid=t.ha().value:t.pa(n);break;case 3:n==i.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(n);break;case 4:n==i.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(n);break;case 5:n==i.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(n);break;case 6:if(n==i.bs.Bs){var o,s=0;this.traffic={};o=t.Lc(),o.Mc,o.jc,s=o.size;for(var a=0;a<s;++a){a>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var u=null,c=null;u=t.ha().value,c=new hive.snapshots.Traffic,c.read(t),this.traffic[u]=c}t.Uc()}else t.pa(n);break;case 7:n==i.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(n);break;case 8:n==i.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(n);break;case 9:n==i.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(n);break;case 10:if(n==i.bs.Bs){var h,p=0;this.partners={};h=t.Lc(),h.Mc,h.jc,p=h.size;for(var l=0;l<p;++l){l>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var f=null,d=null;f=t.ha().value,d=new hive.snapshots.Partner,d.read(t),this.partners[f]=d}t.Uc()}else t.pa(n);break;case 11:n==i.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(n);break;case 12:n==i.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(n);break;case 13:n==i.bs.As?this.sessionId=t.ha().value:t.pa(n);break;default:t.pa(n)}t.la()}t.da()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(t){if(t.fa("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",i.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",i.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",i.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",i.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",i.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",i.bs.Bs,6),t.mc(i.bs.As,i.bs.xs,i.Qs(this.traffic));for(var e in this.traffic)if(this.traffic.hasOwnProperty(e)){var n=this.traffic[e];t.va(e),n.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",i.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",i.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",i.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",i.bs.Bs,10),t.mc(i.bs.As,i.bs.xs,i.Qs(this.partners));for(var r in this.partners)if(this.partners.hasOwnProperty(r)){var o=this.partners[r];t.va(r),o.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",i.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",i.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",i.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()}},function(t,e){/*! collections.min.js v 3.0.0 github.com/montagejs/collections */
!function(t){function e(){throw Error("Can't construct. GenericCollection is a mixin.")}function n(){throw Error("Can't construct. GenericSet is a mixin.")}function i(){}function r(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function o(){throw Error("Can't construct. RangeChanges is a mixin.")}function s(){throw Error("Can't construct. GenericOrder is a mixin.")}function a(t){if(!(this instanceof a))return new a(t);if(Array.isArray(t)||"string"==typeof t)return a.Df(t);if((t=lt(t))instanceof a)return t;if(t.next)this.next=function(){return t.next()};else if(t.Df){var e=t.Df();this.next=function(){return e.next()}}else{if("[object Function]"!==lt.prototype.toString.call(t))throw new TypeError("Cannot iterate");this.next=t}}function u(t,e,n){this.Hf=t,this.start=null==e?0:e,this.end=n}function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);var i=this.head=new this.Node;i.next=i,i.Lf=i,this.Mf=e||Object.ol,this.content=n||Function.jf,this.length=0,this.addEach(t)}function h(t){this.head=t,this.Uf=t.next}function p(t){this.value=t,this.next=this.Lf=null}function l(){throw Error("Can't construct. MapChanges is a mixin.")}function f(){throw Error("Can't construct. GenericMap is a mixin.")}function d(t,e){return this instanceof d?(this.content=e||Function.jf,this.Vf={},this.length=0,void this.addEach(t)):new d(t,e)}function v(t,e,n,i){return this instanceof v?(e=e||Object.ol,n=n||Object.hash,i=i||Function.jf,this.Mf=e,this.Qf=n,this.content=i,this.qf=new this.Jf(null,this.Kf),this.length=0,void this.addEach(t)):new v(t,e,n)}function g(t,e,n,i){return this instanceof g?(e=e||Object.ol,n=n||Object.hash,i=i||Function.jf,this.Mf=e,this.Qf=n,this.content=i,this.Vf=new Ut(void 0,function(t,n){return e(t.key,n.key)},function(t){return n(t.key)}),this.length=0,void this.addEach(t)):new g(t,e,n)}function y(t,e,n,i){return this instanceof y?(e=e||Object.ol,n=n||Object.hash,i=i||Function.jf,this.Mf=e,this.Qf=n,this.content=i,this.order=new this.Gf(void 0,e),this.Vf=new this.zf(void 0,function(t,n){return e(t.value,n.value)},function(t){return n(t.value)}),this.length=0,void this.addEach(t)):new y(t,e,n)}function m(t,e,n,i,r){return this instanceof m?(e=e||1/0,n=n||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Vf=new Gt(void 0,n,i),this.Mf=n,this.Qf=i,this.content=r,this.maxLength=e,this.length=0,void this.addEach(t)):new m(t,e,n,i)}function b(t,e,n,i,r){return this instanceof b?(n=n||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=n,this.Qf=i,this.content=r,this.Vf=new ne(void 0,e,function(t,e){return n(t.key,e.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new b(t,e,n,i)}function w(t,e,n,i){return this instanceof w?(e=e||Object.ol,n=n||Object.hash,i=i||Function.jf,this.Mf=e,this.Qf=n,this.content=i,this.Vf=new ae(void 0,function(t,n){return e(t.key,n.key)},function(t){return n(t.key)}),this.length=0,void this.addEach(t)):new w(t,e,n)}function E(t,e,n,i){return this instanceof E?(this.Wf=e||this.Wf,void le.call(this,t,n,i,function(t){var e=this.Wf();return le.prototype.set.call(this,t,e),e})):new E(t,e,n,i)}function O(t,e,n,i){return this instanceof O?(Array.isArray(t)?(this.Hf=t,t=t.splice(0,t.length)):this.Hf=[],this.Mf=e||Object.ol,this.$f=n||Object.Yf,this.content=i||Function.jf,this.length=0,void this.addEach(t)):new O(t,e,n,i)}function S(t,e,n){for(var i=0,r=t.length-1;i<=r;){var o=i+r>>1,s=n(e,t[o]);if(0<s)i=o+1;else{if(!(0>s))return o;r=o-1}}return-(i+1)}function T(t,e,n,i){if(0>(n=S(t,e,n)))return-1;for(;0<n&&i(e,t[n-1]);)n--;return i(e,t[n])?n:-1}function k(t,e,n,i){if(0>(n=S(t,e,n)))return-1;for(;n<t.length-1&&i(e,t[n+1]);)n++;return i(e,t[n])?n:-1}function C(t,e,n,i){return this instanceof C?void ye.call(this,t,e,n,i):new C(t,e,n,i)}function R(t,e,n,i){return this instanceof R?(e=e||Object.ol,n=n||Object.Yf,i=i||Function.jf,this.Mf=e,this.$f=n,this.content=i,this.Vf=new Ee(null,function(t,n){return e(t.key,n.key)},function(t,e){return n(t.key,e.key)}),this.length=0,void this.addEach(t)):new R(t,e,n,i)}function I(t,e,n,i){return this instanceof I?(this.Mf=e||Object.ol,this.$f=n||Object.Yf,this.content=i||Function.jf,this.root=null,this.length=0,void this.addEach(t)):new I(t,e,n,i)}function P(t){this.value=t,this.right=this.left=null,this.length=1}function A(t,e,n){this.set=t,this.Lf=null,this.end=n,e&&(t=this.set.Xf(e))&&(this.set.Zf(t.value),this.Lf=t.tg())}function N(t,e,n,i){return this instanceof N?(e=e||Object.ol,n=n||Object.Yf,i=i||Function.jf,this.Mf=e,this.$f=n,this.content=i,this.Vf=new Ne(null,function(t,n){return e(t.key,n.key)},function(t,e){return n(t.key,e.key)}),this.length=0,void this.addEach(t)):new N(t,e,n,i)}var x={};x.eg=e,e.prototype.addEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)t.forEach(this.add,this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.add(t[e],e);else Object.keys(t).forEach(function(e){this.add(t[e],e)},this)},e.prototype.ig=function(t){t.forEach(function(t){this.delete(t)},this)},e.prototype.forEach=function(t,e){return this.reduce(function(n,i,r,o,s){t.call(e,i,r,o,s)},void 0)},e.prototype.map=function(t,e){var n=[];return this.reduce(function(i,r,o,s,a){n.push(t.call(e,r,o,s,a))},void 0),n},e.prototype.toArray=function(){return this.map(Function.identity)},e.prototype.rg=function(){var t={};return this.reduce(function(e,n,i){t[i]=n},void 0),t},e.prototype.filter=function(t,e){var n=this.ng();return this.reduce(function(i,r,o,s,a){t.call(e,r,o,s,a)&&n.add(r)},void 0),n},e.prototype.every=function(t,e){return this.reduce(function(n,i,r,o,s){return n&&t.call(e,i,r,o,s)},!0)},e.prototype.some=function(t,e){return this.reduce(function(n,i,r,o,s){return n||t.call(e,i,r,o,s)},!1)},e.prototype.all=function(){return this.every(Boolean)},e.prototype.ie=function(){return this.some(Boolean)},e.prototype.min=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,n){return 0>t(n,e)?n:e},1/0)},e.prototype.max=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,n){return 0<t(n,e)?n:e},-1/0)},e.prototype.og=function(t){return this.reduce(function(t,e){return t+e},void 0===t?0:t)},e.prototype.sg=function(t){var e=void 0===t?0:t,n=void 0===t?0:t;return this.reduce(function(t,i){e+=i,n+=1},void 0),e/n},e.prototype.concat=function(){for(var t=this.ng(this),e=0;e<arguments.length;e++)t.addEach(arguments[e]);return t},e.prototype.ag=function(){var t=this;return this.reduce(function(e,n){return n.forEach(function(t){this.push(t)},e,t),e},[])},e.prototype.cg=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);for(var e=[],n=1/0,i=0;i<t.length;i++){var r=t[i];t[i]=r.toArray(),r.length<n&&(n=r.length)}for(i=0;i<t.length;i++)for(var r=t[i],o=0;o<r.length;o++)o<n&&o in r&&(e[o]=e[o]||[],e[o][i]=r[o]);return e},e.prototype.hg=function(t,e,n){return t=t||this.$f||Object.Yf,t.pg?(e=t.pg,t=t.Yf||this.$f||Object.Yf):e=e||Function.identity,void 0===n&&(n=1),this.map(function(t){return{pg:e(t),value:t}}).sort(function(e,i){return t(e.pg,i.pg)*n}).map(function(t){return t.value})},e.prototype.reversed=function(){return this.ng(this).reverse()},e.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var n=this.ng();return this.forEach(function(i,r){n.add(Object.clone(i,t-1,e),r)},this),n},e.prototype.only=function(){if(0===this.length)throw Error("Can't get only value in empty collection.");if(1<this.length)throw Error("Can't get only value in collection with multiple values.");return this.ug()},x.eg&&(x=x.eg);var _={};_.eg=n,n.prototype.lg=function(t){var e=this.ng(this);return e.addEach(t),e},n.prototype.dg=function(t){return this.ng(this.filter(function(e){return t.has(e)}))},n.prototype.fg=function(t){var e=this.ng(this);return e.ig(t),e},n.prototype.gg=function(t){var e=this.lg(t),t=this.dg(t);return e.fg(t)},n.prototype.ol=function(t,e){var n=this;return Object.vg(t,"reduce")&&this.length===t.length&&t.reduce(function(t,i){return t&&n.has(i,e)},!0)},_.eg&&(_=_.eg);var j=x,D=Object.prototype.toString;Array.isArray||(Array.isArray=function(t){return"[object Array]"==D.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=j.forEach),Array.prototype.map||(Array.prototype.map=j.map),Array.prototype.filter||(Array.prototype.filter=j.filter),Array.prototype.every||(Array.prototype.every=j.every),Array.prototype.some||(Array.prototype.some=j.some),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=toObject(this),n=e.length>>>0;if("[object Function]"!=D.call(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,r=0;if(2<=arguments.length)i=arguments[1];else for(;;){if(r in e){i=e[r++];break}if(++r>=n)throw new TypeError("reduce of empty array with no initial value")}for(;r<n;r++)r in e&&(i=t.call(void 0,i,e[r],r,e));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=toObject(this),n=e.length>>>0;if("[object Function]"!=D.call(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,n=n-1;if(2<=arguments.length)i=arguments[1];else for(;;){if(n in e){i=e[n--];break}if(0>--n)throw new TypeError("reduceRight of empty array with no initial value")}do{n in this&&(i=t.call(void 0,i,e[n],n,e))}while(n--);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=toObject(this),n=e.length>>>0;if(!n)return-1;var i=0;for(1<arguments.length&&(i=toInteger(arguments[1])),i=0<=i?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var e=toObject(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(1<arguments.length&&(i=Math.min(i,toInteger(arguments[1]))),i=0<=i?i:n-Math.abs(i);0<=i;i--)if(i in e&&t===e[i])return i;return-1});var M={};M.eg=Function,Function.jf=function(){},Function.identity=function(t){return t},Function.pg=function(t,e){var e=e||Object.Yf,t=t||Function.identity,n=function(n,i){return e(t(n),t(i))};return n.Yf=e,n.pg=t,n},M.eg&&(M=M.eg);var L={};L.eg=i,i.yg={dg:"+",mg:"-",wg:"+",Tg:"+",Sg:".",bg:"'",Eg:"+",Ig:"|"},i.Rg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"╭",bg:"╰",Eg:"┣",Ig:"┃"},i.kg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"┏",bg:"┗",Eg:"┣",Ig:"┃"},L.eg&&(L=L.eg);var H,U={},F=U;if("undefined"!=typeof WeakMap)H=WeakMap;else{var B=function(t){return t.prototype=null,Object.freeze(t)},V=Object.getOwnPropertyNames,Q=Object.defineProperty,J={};V(Object).forEach(function(t){J[t]=Object[t]});var K="ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var q=new ArrayBuffer(25),q=new Uint8Array(q);crypto.getRandomValues(q),K="rand:"+Array.prototype.map.call(q,function(t){return(t%36).toString(36)}).join("")+"___"}Q(Object,"getOwnPropertyNames",{value:function(t){return V(t).filter(function(t){return t!==K})}}),"getPropertyNames"in Object&&Q(Object,"getPropertyNames",{value:function(t){return J.getPropertyNames(t).filter(function(t){return t!==K})}});var $=function(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[K];return e&&e.key===t?e:J.isExtensible(t)?(e={key:t,Cg:[],Og:[]},Q(t,K,{value:e,Pg:!1,Ag:!1,Ng:!1}),e):void 0},Y=Object.freeze;Q(Object,"freeze",{value:function(t){return $(t),Y(t)}});var W=Object.seal;Q(Object,"seal",{value:function(t){return $(t),W(t)}});var z=Object.preventExtensions;Q(Object,"preventExtensions",{value:function(t){return $(t),z(t)}});var G=function(){function t(i,r){var o,s=$(i);return s?(o=s.Cg.indexOf(t),s=s.Og):(o=e.indexOf(i),s=n),0<=o?s[o]:r}var e=[],n=[];return Object.create(G.prototype,{xg:{value:B(t)},Bg:{value:B(function(n){var i=$(n);return 0<=(i?i.Cg.indexOf(t):e.indexOf(n))})},Fg:{value:B(function(i,r){var o,s=$(i);s?(o=s.Cg.indexOf(t),0<=o?s.Og[o]=r:(s.Cg.push(t),s.Og.push(r))):(o=e.indexOf(i),0<=o?n[o]=r:(e.push(i),n.push(r)))})},_g:{value:B(function(i){var r=$(i);return r?0<=(i=r.Cg.indexOf(t))&&(r.Cg.splice(i,1),r.Og.splice(i,1)):0<=(i=e.indexOf(i))&&(e.splice(i,1),n.splice(i,1)),!0})}})};G.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.xg(t,e)},Pg:!0,Ng:!0},has:{value:function(t){return this.Bg(t)},Pg:!0,Ng:!0},set:{value:function(t,e){this.Fg(t,e)},Pg:!0,Ng:!0},delete:{value:function(t){return this._g(t)},Pg:!0,Ng:!0}}),H=G}F.eg=H,U.eg&&(U=U.eg);var X={},Z=U,tt=Object.prototype.hasOwnProperty,et=new Z,nt=new Z;X.eg=r,r.prototype.Dg=function(t){et.has(this)||et.set(this,{});var e=et.get(this);return tt.call(e,t)||(e[t]={Hg:[],Lg:[]}),e[t]},r.prototype.Mg=function(t){if(!et.has(this))return!1;if(!t)return!0;var e=et.get(this);return!!tt.call(e,t)},r.prototype.jg=function(t,e,n){this.makeObservable&&!this.isObservable&&this.makeObservable();var i=r.Dg(this,t),n=n?i.Hg:i.Lg;r.Ug(this,t),n.push(e)},r.prototype.Vg=function(t,e){return r.jg(this,t,e,!0)},r.prototype.Qg=function(t,e,n){var i=r.Dg(this,t),n=n?i.Hg:i.Lg,e=n.lastIndexOf(e);if(-1===e)throw Error("Can't remove listener: does not exist.");n.splice(e,1),0===i.Lg.length+i.Hg.length&&r.qg(this,t)},r.prototype.Jg=function(t,e){return r.Qg(this,t,e,!0)},r.prototype.Kg=function(t,e,n){var i=r.Dg(this,t),i=n?i.Hg:i.Lg,n=(n?"Will":"")+"Change",o="handleProperty"+n,s=String(t),s=s&&s[0].toUpperCase()+s.slice(1),a="handle"+s+n;i.forEach(function(n){var i=n,n=n[a]||n[o]||n;n.call&&n.call(i,e,t,this)},this)},r.prototype.Gg=function(t,e){return r.Kg(this,t,e,!0)},r.prototype.Ug=function(t){if(!Array.isArray(this)){nt.has(this)||(e={},nt.set(this,e));var e=nt.get(this);if(!tt.call(e,t)){var n,i=this;Object.getOwnPropertyDescriptor(i,t);do{if(n=Object.getOwnPropertyDescriptor(i,t))break;i=Object.getPrototypeOf(i)}while(i);if(n=n||{value:void 0,Ag:!0,Pg:!0,Ng:!0},!n.Ng)throw Error("Can't observe non-configurable properties");e[t]=n,(n.Pg||n.set)&&Object.defineProperty(this,t,"value"in n?{get:function(){return n.value},set:function(e){return e===n.value?e:(r.Gg(this,t,n.value),n.value=e,r.Kg(this,t,e),e)},Ag:n.Ag,Ng:!0}:{get:function(){if(n.get)return n.get.apply(this,arguments)},set:function(e){var i;return n.get&&(i=n.get.apply(this,arguments)),e===i?e:(r.Gg(this,t,i),n.set&&n.set.apply(this,arguments),n.get&&(e=n.get.apply(this,arguments)),r.Kg(this,t,e),e)},Ag:n.Ag,Ng:!0})}}},r.prototype.qg=function(t){if(!Array.isArray(this)){if(!nt.has(this))throw Error("Can't uninstall observer on property");var e=nt.get(this);if(!e[t])throw Error("Can't uninstall observer on property");var n=e[t];delete e[t],Object.defineProperty(this,t,n)}},r.Dg=function(t,e){return t.Dg?t.Dg(e):r.prototype.Dg.call(t,e)},r.Mg=function(t,e){return t.Mg?t.Mg(e):r.prototype.Mg.call(t,e)},r.jg=function(t,e,n,i){return t.jg?t.jg(e,n,i):r.prototype.jg.call(t,e,n,i)},r.Qg=function(t,e,n,i){return t.Qg?t.Qg(e,n,i):r.prototype.Qg.call(t,e,n,i)},r.Kg=function(t,e,n,i){return t.Kg?t.Kg(e,n,i):r.prototype.Kg.call(t,e,n,i)},r.Vg=function(t,e,n){return r.jg(t,e,n,!0)},r.Jg=function(t,e,n){return r.Qg(t,e,n,!0)},r.Gg=function(t,e,n){return r.Kg(t,e,n,!0)},r.Ug=function(t,e){return t.Ug?t.Ug(e):r.prototype.Ug.call(t,e)},r.qg=function(t,e){return t.qg?t.qg(e):r.prototype.qg.call(t,e)},X.eg&&(X=X.eg);var it={},rt=new U;it.eg=o,o.prototype.zg=function(){return rt.has(this)||rt.set(this,{st:!1,Lg:[],Hg:[]}),rt.get(this)},o.prototype.Wg=function(t,e){!this.isObservable&&this.makeObservable&&this.makeObservable();var n=this.zg();(e?n.Hg:n.Lg).push(t),this.$g=!!(n.Hg.length+n.Lg.length)},o.prototype.Yg=function(t,e){var n,i=this.zg();n=e?i.Hg:i.Lg;var r=n.lastIndexOf(t);if(-1===r)throw Error("Can't remove listener: does not exist.");n.splice(r,1),this.$g=!!(i.Hg.length+i.Lg.length)},o.prototype.Xg=function(t,e,n,i){var r=this.zg();if(!r.st){r.st=!0;var o;o=i?r.Hg:r.Lg;try{o.forEach(function(r){r.yd?r.yd({Zg:i?"before":"after",currentTarget:this,target:this,tv:t,ev:e,index:n}):(r=i?r.handleRangeWillChange||r:r.handleRangeChange||r,r.call&&r.call(this,t,e,n,i))},this)}finally{r.st=!1}}},o.prototype.iv=function(t){return this.Wg(t,!0)},o.prototype.rv=function(t){return this.Yg(t,!0)},o.prototype.nv=function(t,e,n){return this.Xg(t,e,n,!0)},it.eg&&(it=it.eg);var ot={},st=U;ot.eg=Object,Object.empty=Object.freeze(Object.create(null)),Object.ov=function(t){return Object(t)===t},Object.sv=function(t){return Object.vg(t,"valueOf")&&(t=t.valueOf()),t};var at=new st;Object.hash=function(t){return Object.vg(t,"hash")?""+t.hash():Object(t)===t?(at.has(t)||at.set(t,Math.random().toString(36).slice(2)),at.get(t)):""+t};var ut=Object.prototype.hasOwnProperty;Object.av=function(t,e){return ut.call(t,e)},Object.vg=function(t,e){return null!=t&&"function"==typeof t[e]&&!ut.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw Error("Object.has can't accept non-object: "+typeof t);if(Object.vg(t,"has"))return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,n){if("object"!=typeof t)throw Error("Object.get can't accept non-object: "+typeof t);return Object.vg(t,"get")?t.get(e,n):Object.has(t,e)?t[e]:n},Object.set=function(t,e,n){Object.vg(t,"set")?t.set(e,n):t[e]=n},Object.addEach=function(t,e){Object.vg(e,"forEach")?"function"==typeof e.keys?e.forEach(function(e,n){t[n]=e}):e.forEach(function(e){t[e[0]]=e[1]}):Object.keys(e).forEach(function(n){t[n]=e[n]})},Object.forEach=function(t,e,n){Object.keys(t).forEach(function(i){e.call(n,t[i],i,t)})},Object.map=function(t,e,n){return Object.keys(t).map(function(i){return e.call(n,t[i],i,t)})},Object.values=function(t){return Object.map(t,Function.identity)},Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e},Object.ol=function(t,e,n){if(n=n||Object.ol,t=Object.sv(t),e=Object.sv(e),t===e)return 0!==t||1/t==1/e;if(Object.vg(t,"equals"))return t.ol(e,n);if(Object.vg(e,"equals"))return e.ol(t,n);if("object"==typeof t&&"object"==typeof e){var i=Object.getPrototypeOf(t);if(i===Object.getPrototypeOf(e)&&(i===Object.prototype||null===i)){for(var r in t)if(!n(t[r],e[r]))return!1;for(r in e)if(!n(t[r],e[r]))return!1;return!0}}return t!==t&&e!==e},Object.Yf=function(t,e){var t=Object.sv(t),e=Object.sv(e),n=typeof t;return t===e||n!==typeof e?0:"number"===n?t-e:"string"===n?t<e?-1:1:Object.vg(t,"compare")?t.Yf(e):Object.vg(e,"compare")?-e.Yf(t):0},Object.clone=function(t,e,n){if(t=Object.sv(t),n=n||new st,void 0===e)e=1/0;else if(0===e)return t;if(Object.ov(t)){if(!n.has(t))if(Object.vg(t,"clone"))n.set(t,t.clone(e,n));else{var i=Object.getPrototypeOf(t);if(null!==i&&i!==Object.prototype)throw Error("Can't clone "+t);i=Object.create(i),n.set(t,i);for(var r in t)i[r]=Object.clone(t[r],e-1,n)}return n.get(t)}return t},Object.clear=function(t){if(Object.vg(t,"clear"))t.clear();else for(var e=Object.keys(t),n=e.length;n;)n--,delete t[e[n]];return t},ot.eg&&(ot=ot.eg);var ct={},ht=ot;ct.eg=s,s.prototype.ol=function(t,e){return e=e||this.Mf||ht.ol,this===t||!!t&&this.length===t.length&&this.cg(t).every(function(t){return e(t[0],t[1])})},s.prototype.Yf=function(t,e){if(e=e||this.$f||ht.Yf,this===t)return 0;if(!t)return 1;var n=Math.min(this.length,t.length),i=this.cg(t).reduce(function(t,i,r){return 0===t?r>=n?t:e(i[0],i[1]):t},0);return 0===i?this.length-t.length:i},ct.eg&&(ct=ct.eg);var pt={};pt.eg=a;var lt=ot;if(lt.addEach(a.prototype,x.prototype),a.prototype.ng=function(t){var e=[];return Reducible.addEach.call(e,t),e},a.prototype.cv=function(t,e){var n=a(this),i=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new n.constructor(function(){return t.call(e,n.next(),i++,n)})},a.prototype.hv=function(t,e){var n=a(this),i=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new n.constructor(function(){for(var r;;)if(r=n.next(),t.call(e,r,i++,n))return r})},a.prototype.reduce=function(t){var e,n=a(this),i=arguments[1],r=arguments[2],o=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;try{e=n.next(),i=1<arguments.length?t.call(r,i,e,o,n):e,o++}catch(t){if(isStopIteration(t)){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw t}try{for(;;)e=n.next(),i=t.call(r,i,e,o,n),o++}catch(t){if(isStopIteration(t))return i;throw t}},a.prototype.every=function(t){var e=a(this),n=!0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(!t)throw n=!1,StopIteration}),n},a.prototype.some=function(t){var e=a(this),n=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(t)throw n=!0,StopIteration}),n},a.prototype.concat=function(){return a.concat(Array.prototype.concat.apply(this,arguments))},a.prototype.pv=function(t,e){var n,i=a(this),r=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return i.forEach(function(o,s){if(!t.call(e,o,s,i))throw r=!0,n=o,StopIteration}),r?i.constructor([n]).concat(i):i.constructor([])},a.prototype.uv=function(t,e){var n=a(this);if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return n.cv(function(i,r){if(!t.call(e,i,r,n))throw StopIteration;return i})},a.prototype.hv=function(t,e){var n=a(this),i=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new n.constructor(function(){for(var r;;)if(r=n.next(),t.call(e,r,i++,n))return r})},a.prototype.cg=function(){return a.lv(Array.prototype.concat.apply(this,arguments))},a.prototype.enumerate=function(t){return a.count(t).cg(this)},a.Df=function(t){var e;return e=0,new a(function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length)throw StopIteration;e+=1}else if(e>=t.length)throw StopIteration;var n=t[e];return e+=1,n})},a.dv=function(t,e){2>arguments.length&&(e=1/0);var n=function(){throw StopIteration};return new a(function(){var i;try{return n()}catch(r){if(isStopIteration(r)){if(0>=e)throw r;return e--,i=a.Df(t),(n=i.next.bind(i))()}throw r}})},a.concat=function(t){var t=a(t),e=function(){throw StopIteration};return new a(function(){var n;try{return e()}catch(i){if(isStopIteration(i))return n=a(t.next()),(e=n.next.bind(n))();throw i}})},a.lv=function(t){return t=a(t).map(a),new a(1>t.length?[]:function(){var e,n=t.map(function(t){try{return t.next()}catch(t){if(!isStopIteration(t))throw t;e=!0}});if(e)throw StopIteration;return n})},a.cg=function(){return a.lv(Array.prototype.slice.call(arguments))},a.chain=function(){return a.concat(Array.prototype.slice.call(arguments))},a.range=function(t,e,n){return 3>arguments.length&&(n=1),2>arguments.length&&(e=t,t=0),t=t||0,new a(function(){if(t>=e)throw StopIteration;if(isNaN(t))throw"";var i=t;return t+=n,i})},a.count=function(t,e){return a.range(t,1/0,e||1)},a.repeat=function(t,e){return 2>arguments.length&&(e=1/0),new a.range(+e).cv(function(){return t})},"undefined"==typeof isStopIteration&&(t.fv=function(t){return"[object StopIteration]"===lt.prototype.toString.call(t)}),"undefined"==typeof StopIteration){t.StopIteration={};var ft=lt.prototype.toString;lt.prototype.toString=function(){return this===t.StopIteration||this instanceof t.gv?"[object StopIteration]":ft.call(this,arguments)}}"undefined"==typeof ReturnValue&&(t.gv=function(e){return this instanceof t.gv?void(this.value=e):new t.gv(e)}),pt.eg&&(pt=pt.eg);var dt={},vt=x,gt=ct,yt=U;dt.eg=Array,Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(t){var e=[];return e.addEach(t),e},Array.prototype.addEach=vt.prototype.addEach,Array.prototype.ig=vt.prototype.ig,Array.prototype.toArray=vt.prototype.toArray,Array.prototype.rg=vt.prototype.rg,Array.prototype.all=vt.prototype.all,Array.prototype.ie=vt.prototype.ie,Array.prototype.min=vt.prototype.min,Array.prototype.max=vt.prototype.max,Array.prototype.og=vt.prototype.og,Array.prototype.sg=vt.prototype.sg,Array.prototype.only=vt.prototype.only,Array.prototype.ag=vt.prototype.ag,Array.prototype.cg=vt.prototype.cg,Array.prototype.hg=vt.prototype.hg,Array.prototype.reversed=vt.prototype.reversed,Array.prototype.ng=function(t){var e=new this.constructor;return e.addEach(t),e},Array.prototype.has=function(t,e){return-1!==this.find(t,e)},Array.prototype.get=function(t){return this[t]},Array.prototype.set=function(t,e){return this.splice(t,1,e),!0},Array.prototype.add=function(t){return this.push(t),!0},Array.prototype.delete=function(t,e){var n=this.find(t,e);return-1!==n&&(this.splice(n,1),!0)},Array.prototype.find=function(t,e){for(var e=e||this.Mf||Object.ol,n=0;n<this.length;n++)if(n in this&&e(this[n],t))return n;return-1},Array.prototype.vv=function(t,e){var e=e||this.Mf||Object.ol,n=this.length;do{if(--n in this&&e(this[n],t))return n}while(0<n);return-1},Array.prototype.yv=function(t,e,n){var i=Array.prototype.slice.call(arguments,0,2);return n&&i.push.apply(i,n),this.splice.apply(this,i)},Array.prototype.ug=function(){if(0===this.length)throw Error("Can't get one element from empty array.");for(var t in this)if(Object.av(this,t))return this[t]},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.Yf=function(t,e){var n,i,r,o,e=e||Object.Yf;if(this===t)return 0;if(!t||!Array.isArray(t))return gt.prototype.Yf.call(this,t,e);for(i=Math.min(this.length,t.length),n=0;n<i;n++)if(n in this){if(!(n in t))return-1;if(r=this[n],o=t[n],r=e(r,o))return r}else if(n in t)return 1;return this.length-t.length},Array.prototype.ol=function(t){var e,n,i=i||Object.ol,r=0,o=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return gt.prototype.ol.call(this,t);if(o!==t.length)return!1;for(;r<o;++r)if(r in this){if(e=this[r],n=t[r],e!==n&&e&&n&&!i(e,n))return!1}else if(r in t)return!1;return!0},Array.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var n,e=e||new yt,i=[];for(n in this)Object.av(this,n)&&(i[n]=Object.clone(this[n],t-1,e));return i},Array.prototype.Df=function(t,e){return new u(this,t,e)},Array.prototype.Iterator=u,u.prototype.next=function(){if(this.start===(null==this.end?this.Hf.length:this.end))throw StopIteration;return this.Hf[this.start++]},dt.eg&&(dt=dt.eg);var mt={};mt.eg=c;var bt=ct,wt=X;Object.addEach(c.prototype,x.prototype),Object.addEach(c.prototype,bt.prototype),Object.addEach(c.prototype,wt.prototype),c.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.content)},c.prototype.find=function(t,e){for(var e=e||this.Mf,n=this.head,i=n.next;i!==n;){if(e(i.value,t))return i;i=i.next}},c.prototype.vv=function(t,e){for(var e=e||this.Mf,n=this.head,i=n.Lf;i!==n;){if(e(i.value,t))return i;i=i.Lf}},c.prototype.has=function(t,e){return!!this.find(t,e)},c.prototype.get=function(t,e){var n=this.find(t,e);return n?n.value:this.content()},c.prototype.delete=function(t,e){var n=this.vv(t,e);return!!n&&(n.delete(),this.length--,!0)},c.prototype.clear=function(){this.head.next=this.head.Lf=this.head,this.length=0},c.prototype.add=function(t){return this.head.mv(new this.Node(t)),this.length++,!0},c.prototype.push=function(){for(var t=this.head,e=0;e<arguments.length;e++){var n=new this.Node(arguments[e]);t.mv(n),this.length++}},c.prototype.unshift=function(){for(var t=this.head,e=0;e<arguments.length;e++){var n=new this.Node(arguments[e]);t.wv(n),this.length++,t=n}},c.prototype.pop=function(){var t,e=this.head;return e.Lf!==e&&(t=e.Lf.value,e.Lf.delete(),this.length--),t},c.prototype.shift=function(){var t,e=this.head;return e.Lf!==e&&(t=e.next.value,e.next.delete(),this.length--),t},c.prototype.Tv=function(t,e){var n=this.head;if("number"==typeof t){var i=t;if(0<=i)for(t=n.next;i&&(i--,!((t=t.next)==n)););else for(t=n;0>i&&(i++,!((t=t.Lf)==n)););return t}return t||e},c.prototype.slice=function(t,e){for(var n=[],i=this.head,t=this.Tv(t,i.next),e=this.Tv(e,i);t!==e&&t!==i;)n.push(t.value),t=t.next;return n},c.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},c.prototype.yv=function(t,e,n){var i=[],r=t,t=this.Tv(t,this.head);for(void 0===e&&(e=1/0);e--&&0<=e&&t!==this.head;)i.push(t.value),t.delete(),t=t.next,this.length--;if(n){for(null===r&&t===this.head&&(t=this.head.next),e=0;e<n.length;e++)r=new this.Node(n[e]),t.mv(r);this.length+=n.length}return i},c.prototype.reverse=function(){var t=this.head;do{var e=t.next;t.next=t.Lf,t.Lf=e,t=t.next}while(t!==this.head);return this},c.prototype.reduce=function(t,e,n){for(var i=this.head,r=i.next;r!==i;)e=t.call(n,e,r.value,r,this),r=r.next;return e},c.prototype.reduceRight=function(t,e,n){for(var i=this.head,r=i.Lf;r!==i;)e=t.call(n,e,r.value,r,this),r=r.Lf;return e},c.prototype.ug=function(){if(this.head===this.head.next)throw Error("Can't get one value from empty list");return this.head.next.value},c.prototype.Df=function(){return new h(this.head)},h.prototype.next=function(){if(this.Uf===this.head)throw StopIteration;var t=this.Uf.value;return this.Uf=this.Uf.next,t},c.prototype.Node=p,p.prototype.delete=function(){this.Lf.next=this.next,this.next.Lf=this.Lf},p.prototype.mv=function(t){var e=this.Lf;this.Lf=t,t.Lf=e,e.next=t,t.next=this},p.prototype.wv=function(t){var e=this.next;this.next=t,t.next=e,e.Lf=t,t.Lf=this},mt.eg&&(mt=mt.eg);var Et={},Ot=mt;Et.eg=l,l.prototype.Sv=function(){return this.bv||(this.bv={Hg:new Ot,Lg:new Ot}),this.bv},l.prototype.Ev=function(t,e){this.makeObservable&&!this.dispatchMapChanges&&this.makeObservable();var n=this.Sv();(e?n.Hg:n.Lg).push(t),this.Iv=!0},l.prototype.Rv=function(t,e){var n=this.Sv(),n=(e?n.Hg:n.Lg).vv(t);if(!n)throw Error("Can't remove listener: does not exist.");n.delete()},l.prototype.kv=function(t,e,n){var i=this.Sv(),r="handleMap"+(n?"Will":"")+"Change";(n?i.Hg:i.Lg).forEach(function(n){var i=n,n=n[r]||n;n.call&&n.call(i,e,t,this)},this)},l.prototype.Cv=function(t){return this.Ev(t,!0)},l.prototype.Ov=function(t){return this.Rv(t,!0)},l.prototype.Pv=function(t,e){return this.kv(t,e,!0)},Et.eg&&(Et=Et.eg);var St={},Tt=ot,kt=Et,Ct=X;St.eg=f,Tt.addEach(f.prototype,kt.prototype),Tt.addEach(f.prototype,Ct.prototype),f.prototype.addEach=function(t){t&&Tt(t)===t&&("function"==typeof t.forEach?"function"==typeof t.keys?t.forEach(function(t,e){this.set(e,t)},this):t.forEach(function(t){this.set(t[0],t[1])},this):Tt.keys(t).forEach(function(e){this.set(e,t[e])},this))},f.prototype.get=function(t,e){var n=this.Vf.get(new this.Av(t));return n?n.value:1<arguments.length?e:this.content(t)},f.prototype.set=function(t,e){var n=new this.Av(t,e),i=this.Vf.get(n),r=!1;return i?(this.Iv&&this.Pv(t,i.value),i.value=e):(this.Iv&&this.Pv(t,void 0),this.Vf.add(n)&&(this.length++,r=!0)),this.Iv&&this.kv(t,e),r},f.prototype.add=function(t,e){return this.set(e,t)},f.prototype.has=function(t){return this.Vf.has(new this.Av(t))},f.prototype.delete=function(t){var e=new this.Av(t);if(this.Vf.has(e)){var n=this.Vf.get(e).value;return this.Iv&&this.Pv(t,n),this.Vf.delete(e),this.length--,this.Iv&&this.kv(t,void 0),!0}return!1},f.prototype.clear=function(){this.Vf.clear(),this.length=0},f.prototype.reduce=function(t,e,n){return this.Vf.reduce(function(e,i){return t.call(n,e,i.value,i.key,this)},e,this)},f.prototype.reduceRight=function(t,e,n){return this.Vf.reduceRight(function(e,i){return t.call(n,e,i.value,i.key,this)},e,this)},f.prototype.keys=function(){return this.map(function(t,e){return e})},f.prototype.values=function(){return this.map(Function.identity)},f.prototype.Nv=function(){return this.map(function(t,e){return[e,t]})},f.prototype.ol=function(t,e){return e=e||Tt.ol,this===t||(Tt.vg(t,"every")?t.length===this.length&&t.every(function(t,n){return e(this.get(n),t)},this):Tt.keys(t).length===this.length&&Tt.keys(t).every(function(n){return e(this.get(n),t[n])},this))},f.prototype.Av=function(t,e){this.key=t,this.value=e},St.eg&&(St=St.eg);var Rt={},It=x,Pt=St,At=X;Rt.eg=d,Object.addEach(d.prototype,It.prototype),Object.addEach(d.prototype,Pt.prototype),Object.addEach(d.prototype,At.prototype),d.prototype.ng=function(t){return new this.constructor(t,this.mangle,this.content)},d.prototype.xv=function(t){if("string"!=typeof t)throw new TypeError("key must be a string.")},d.prototype.get=function(t,e){this.xv(t);var n="~"+t;return n in this.Vf?this.Vf[n]:1<arguments.length?e:this.content()},d.prototype.set=function(t,e){this.xv(t);var n="~"+t;return n in this.Vf?(this.Vf[n]=e,!1):(this.length++,this.Vf[n]=e,!0)},d.prototype.has=function(t){return this.xv(t),"~"+t in this.Vf},d.prototype.delete=function(t){return this.xv(t),"~"+t in this.Vf&&(delete this.Vf["~"+t],this.length--,!0)},d.prototype.clear=function(){for(var t in this.Vf)delete this.Vf[t];this.length=0},d.prototype.reduce=function(t,e,n){for(var i in this.Vf)e=t.call(n,e,this.Vf[i],i.slice(1),this);return e},d.prototype.ug=function(){for(var t in this.Vf)return this.Vf[t];throw Error("Can't get one value from empty dictionary.")},Rt.eg&&(Rt=Rt.eg);var Nt={},xt=Rt,_t=mt,jt=x,Dt=_,Mt=L,Lt=X;Nt.eg=v,Object.addEach(v.prototype,jt.prototype),Object.addEach(v.prototype,Dt.prototype),Object.addEach(v.prototype,Lt.prototype),v.prototype.Jf=xt,v.prototype.Kf=_t,v.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},v.prototype.has=function(t){var e=this.Qf(t);return this.qf.get(e).has(t)},v.prototype.get=function(t){var e=this.Qf(t),n=this.qf;return n.has(e)?n.get(e).get(t):this.content(t)},v.prototype.delete=function(t){var e=this.Qf(t),n=this.qf;if(n.has(e)){var i=n.get(e);if(i.delete(t))return this.length--,0===i.length&&n.delete(e),!0}return!1},v.prototype.clear=function(){this.qf.clear(),this.length=0},v.prototype.add=function(t){var e=this.Qf(t),n=this.qf;return n.has(e)||n.set(e,new this.Kf(null,this.Mf)),!n.get(e).has(t)&&(n.get(e).add(t),this.length++,!0)},v.prototype.reduce=function(t,e,n){return this.qf.reduce(function(e,i){return i.reduce(function(e,i){return t.call(n,e,i,i,this)},e,this)},e,this)},v.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.qf.ug().ug()},v.prototype.Df=function(){return this.qf.values().ag().Df()},v.prototype.log=function(t,e,n,i){t=t||Mt.kg,e=e||this.Bv,n||(n=console.log,i=console);var n=n.bind(i),r=this.qf,o=r.keys();o.forEach(function(s,a){var u,c;a===o.length-1?(u=t.bg,c=" "):(u=0===a?t.Tg:t.Eg,c=t.Ig);var h=r.get(s);n.call(i,u+t.mg+t.Tg+" "+s),h.forEach(function(r,o){var s,a;o===h.head.Lf?(s=t.bg,a=" "):(s=t.Eg,a=t.Ig);var u;e(o,function(e){u?n.call(i,c+" "+a+"  "+e):(n.call(i,c+" "+s+t.mg+t.mg+e),u=!0)},function(e){n.call(i,c+" "+t.Ig+"  "+e)})})})},v.prototype.Bv=function(t,e){var n=t.value;Object(n)===n?JSON.stringify(n,null,4).split("\n").forEach(function(t){e(" "+t)}):e(" "+n)},Nt.eg&&(Nt=Nt.eg);var Ht={},Ut=Nt,Ft=x,Bt=St,Vt=X;Ht.eg=g,Object.addEach(g.prototype,Ft.prototype),Object.addEach(g.prototype,Bt.prototype),Object.addEach(g.prototype,Vt.prototype),g.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},g.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},g.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},Ht.eg&&(Ht=Ht.eg);var Qt={},Jt=mt,Kt=Nt,qt=x,$t=_,Yt=X,Wt=it;Qt.eg=y,Object.addEach(y.prototype,qt.prototype),Object.addEach(y.prototype,$t.prototype),Object.addEach(y.prototype,Yt.prototype),Object.addEach(y.prototype,Wt.prototype),y.prototype.Gf=Jt,y.prototype.zf=Kt,y.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},y.prototype.has=function(t){return t=new this.order.Node(t),this.Vf.has(t)},y.prototype.get=function(t){var e=new this.order.Node(t);return(e=this.Vf.get(e))?e.value:this.content(t)},y.prototype.add=function(t){var e=new this.order.Node(t);return!this.Vf.has(e)&&(this.$g&&this.nv([t],[],0),this.order.add(t),e=this.order.head.Lf,this.Vf.add(e),this.length++,this.$g&&this.Xg([t],[],0),!0)},y.prototype.delete=function(t){var e=new this.order.Node(t);return!!this.Vf.has(e)&&(this.$g&&this.nv([],[t],0),e=this.Vf.get(e),this.Vf.delete(e),e.delete(),this.length--,this.$g&&this.Xg([],[t],0),!0)},y.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.Vf.ug().value},y.prototype.clear=function(){this.Vf.clear(),this.order.clear(),this.length=0},y.prototype.reduce=function(t,e,n){return this.order.reduce(function(e,i){return t.call(n,e,i,i,this)},e,this)},y.prototype.reduceRight=function(t,e,n){return this.order.reduceRight(function(e,i){return t.call(n,e,i,i,this)},e,this)},y.prototype.Df=function(){return this.order.Df()},y.prototype.log=function(){var t=this.Vf;return t.log.apply(t,arguments)},Qt.eg&&(Qt=Qt.eg);var zt={},Gt=Qt,Xt=x,Zt=_,te=X;zt.eg=m,Object.addEach(m.prototype,Xt.prototype),Object.addEach(m.prototype,Zt.prototype),Object.addEach(m.prototype,te.prototype),m.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},m.prototype.has=function(t){return this.Vf.has(t)},m.prototype.get=function(t){return t=this.Vf.get(t),void 0!==t?(this.Vf.delete(t),this.Vf.add(t)):t=this.content(),t},m.prototype.add=function(t){return this.Vf.has(t)&&(this.Vf.delete(t),this.length--),this.Vf.add(t),this.length++,!(this.Vf.length>this.maxLength&&(this.Vf.delete(this.Vf.order.head.next.value),this.length--,1))},m.prototype.delete=function(t){return!!this.Vf.delete(t)&&(this.length--,!0)},m.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty collection.");return this.Vf.ug()},m.prototype.clear=function(){this.Vf.clear(),this.length=0},m.prototype.reduce=function(t,e,n){return this.Vf.reduce(function(e,i){return t.call(n,e,i,i,this)},e,this)},m.prototype.reduceRight=function(t,e,n){return this.Vf.reduceRight(function(t,e){return callback.call(n,t,e,e,this)},basis,this)},m.prototype.Df=function(){return this.Vf.Df()},zt.eg&&(zt=zt.eg);var ee={},ne=zt,ie=x,re=St,oe=X;ee.eg=b,Object.addEach(b.prototype,ie.prototype),Object.addEach(b.prototype,re.prototype),Object.addEach(b.prototype,oe.prototype),b.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},b.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},b.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},ee.eg&&(ee=ee.eg);var se={},ae=Qt,ue=x,ce=St,he=X;se.eg=w,Object.addEach(w.prototype,ue.prototype),Object.addEach(w.prototype,ce.prototype),Object.addEach(w.prototype,he.prototype),w.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},w.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},w.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},se.eg&&(se=se.eg);var pe={},le=se;pe.eg=E,E.prototype=Object.create(le.prototype),E.prototype.constructor=E,E.prototype.ng=function(t){return new this.constructor(t,this.Wf,this.Mf,this.Qf)},E.prototype.set=function(t,e){var n=this.get(t);n.yv(0,n.length,e)},E.prototype.Wf=function(){return[]},pe.eg&&(pe=pe.eg);var fe={};fe.eg=O;var de=X,ve=it;Object.addEach(O.prototype,x.prototype),Object.addEach(O.prototype,de.prototype),Object.addEach(O.prototype,ve.prototype),O.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},O.prototype.has=function(t){var e=S(this.Hf,t,this.$f);return 0<=e&&this.Mf(this.Hf[e],t)},O.prototype.get=function(t){var e=T(this.Hf,t,this.$f,this.Mf);return-1!==e?this.Hf[e]:this.content(t)},O.prototype.add=function(t){var e;e=this.Hf;var n=this.$f,i=S(e,t,n);if(0>i)e=-i-1;else{for(var r=e.length-1;i<r&&0===n(t,e[i+1]);)i++;e=i}return this.$g&&this.nv([t],[],e),this.Hf.splice(e,0,t),this.length++,this.$g&&this.Xg([t],[],e),!0},O.prototype.delete=function(t){var e=T(this.Hf,t,this.$f,this.Mf);return-1!==e&&(this.$g&&this.nv([],[t],e),this.Hf.splice(e,1),this.length--,this.$g&&this.Xg([],[t],e),!0)},O.prototype.indexOf=function(t){return T(this.Hf,t,this.$f,this.Mf)},O.prototype.lastIndexOf=function(t){return k(this.Hf,t,this.$f,this.Mf)},O.prototype.find=function(t){return T(this.Hf,t,this.$f,this.Mf)},O.prototype.vv=function(t){return k(this.Hf,t,this.$f,this.Mf)},O.prototype.push=function(){this.addEach(arguments)},O.prototype.unshift=function(){this.addEach(arguments)},O.prototype.pop=function(){return this.Hf.pop()},O.prototype.shift=function(){return this.Hf.shift()},O.prototype.slice=function(){return this.Hf.slice.apply(this.Hf,arguments)},O.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},O.prototype.yv=function(t,e,n){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var i=this.slice(t,t+e);return this.$g&&this.nv(n,i,t),this.Hf.splice(t,e),this.addEach(n),this.$g&&this.Xg(n,i,t),i},O.prototype.reduce=function(t,e,n){return this.Hf.reduce(function(e,i,r){return t.call(n,e,i,r,this)},e,this)},O.prototype.reduceRight=function(t,e,n){return this.Hf.reduceRight(function(t,e,i){return callback.call(n,t,e,i,this)},basis,this)},O.prototype.min=function(){if(this.length)return this.Hf[0]},O.prototype.max=function(){if(this.length)return this.Hf[this.length-1]},O.prototype.ug=function(){return this.Hf.ug()},O.prototype.clear=function(){var t;this.$g&&(t=this.Hf.slice(),this.nv([],t,0)),this.length=0,this.Hf.clear(),this.$g&&this.Xg([],t,0)},O.prototype.ol=function(t,e){return this.Hf.ol(t,e)},O.prototype.Yf=function(t,e){return this.Hf.Yf(t,e)},O.prototype.Df=function(t,e){return new this.Iterator(this.Hf,t,e)},O.prototype.Iterator=Array.prototype.Iterator,fe.eg&&(fe=fe.eg);var ge={};ge.eg=C;var ye=fe,me=_,be=X;C.prototype=Object.create(ye.prototype),C.prototype.constructor=C,Object.addEach(C.prototype,me.prototype),Object.addEach(C.prototype,be.prototype),C.prototype.add=function(t){return!this.has(t)&&(ye.prototype.add.call(this,t),!0)},C.prototype.reduce=function(t,e,n){var i=this;return this.Hf.reduce(function(e,r,o){return t.call(n,e,r,r,i,o)},e)},C.prototype.reduceRight=function(t,e,n){var i=this;return this.Hf.reduceRight(function(e,r,o){return t.call(n,e,r,r,i,o)},e)},ge.eg&&(ge=ge.eg);var we={},Ee=ge,Oe=x,Se=St,Te=X;we.eg=R,Object.addEach(R.prototype,Oe.prototype),Object.addEach(R.prototype,Se.prototype),Object.addEach(R.prototype,Te.prototype),R.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},we.eg&&(we=we.eg);var ke={};ke.eg=I;var Ce=_,Re=X,Ie=it,Pe=L;Object.addEach(I.prototype,x.prototype),Object.addEach(I.prototype,Ce.prototype),Object.addEach(I.prototype,Re.prototype),Object.addEach(I.prototype,Ie.prototype),I.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},I.prototype.has=function(t){return!!this.root&&(this.Zf(t),this.Mf(t,this.root.value))},I.prototype.get=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.value:this.content(t)},I.prototype.add=function(t){var e=new this.Node(t);return this.root?(this.Zf(t),!this.Mf(t,this.root.value)&&(this.$g&&this.nv([t],[],this.root.index),0>this.$f(t,this.root.value)?(e.right=this.root,e.left=this.root.left,this.root.left=null):(e.left=this.root,e.right=this.root.right,this.root.right=null),this.root.Fv(),e.Fv(),this.root=e,this.length++,this.$g&&this.Xg([t],[],this.root.index),!0)):(this.$g&&this.nv([t],[],0),this.root=e,this.length++,this.$g&&this.Xg([t],[],0),!0)},I.prototype.delete=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value))){var e=this.root.index;if(this.$g&&this.nv([],[t],e),this.root.left){var n=this.root.right;this.root=this.root.left,this.Zf(t),this.root.right=n}else this.root=this.root.right;return this.length--,this.root&&this.root.Fv(),this.$g&&this.Xg([],[t],e),!0}return!1},I.prototype.indexOf=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.index:-1},I.prototype.find=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value)))return this.root},I.prototype._v=function(t){if(this.root){for(t=t||this.root;t.right;)t=t.right;return t}},I.prototype.Dv=function(t){if(this.root){for(t=t||this.root;t.left;)t=t.left;return t}},I.prototype.Hv=function(t){if(this.root)return this.Zf(t),this.root},I.prototype.Lv=function(t){if(this.root)return this.Zf(t),this.root.tg()},I.prototype.Xf=function(t){if(this.root)return this.Zf(t),0===this.$f(t,this.root.value)?this.root:this.root.Mv()},I.prototype.jv=function(t){if(this.root)return this.Zf(t),this.$f(t,this.root.value),this.root.Mv()},I.prototype.pop=function(){if(this.root){var t=this._v();return this.delete(t.value),t.value}},I.prototype.shift=function(){if(this.root){var t=this.Dv();return this.delete(t.value),t.value}},I.prototype.push=function(){this.addEach(arguments)},I.prototype.unshift=function(){this.addEach(arguments)},I.prototype.slice=function(t,e){t=t||0,e=e||this.length,0>t&&(t+=this.length),0>e&&(e+=this.length);var n=[];if(this.root)for(this.Uv(t);this.root.index<e&&(n.push(this.root.value),this.root.right);)this.Zf(this.root.Mv().value);return n},I.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},I.prototype.yv=function(t,e,n){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var i=[];if(this.root)for(this.Uv(t),t=0;t<e;t++){i.push(this.root.value);var r=this.root.Mv();if(this.delete(this.root.value),!r)break;this.Zf(r.value)}return this.addEach(n),i},I.prototype.Zf=function(t){var e,n,i,r,o,s;if(this.root){for(e=n=i=new this.Node,s=new this.Node,o=this.root;;)if(0>(r=this.$f(t,o.value))){if(!o.left)break;if(0>this.$f(t,o.left.value)&&(r=o.left,o.left=r.right,o.Fv(),r.right=o,r.Fv(),o=r,!o.left))break;r=new P,r.right=o,r.left=s.left,s.left=r,i.left=o,i.Fv(),i=o,o=o.left}else{if(!(0<r))break;if(!o.right)break;if(0<this.$f(t,o.right.value)&&(r=o.right,o.right=r.left,o.Fv(),r.left=o,r.Fv(),o=r,!o.right))break;r=new P,r.left=o,r.right=s.right,s.right=r,n.right=o,n.Fv(),n=o,o=o.right}for(n.right=o.left,n.Fv(),i.left=o.right,i.Fv(),o.left=e.right,o.right=e.left;s.left;)s.left.right.Fv(),s.left=s.left.left;for(;s.right;)s.right.left.Fv(),s.right=s.right.right;o.Fv(),this.root=o}},I.prototype.Uv=function(t){if(this.root){for(var e=this.root,n=this.root.index;n!==t;)if(n>t&&e.left)e=e.left,n-=1+(e.right?e.right.length:0);else{if(!(n<t&&e.right))break;e=e.right,n+=1+(e.left?e.left.length:0)}return this.Zf(e.value),this.root.index===t}return!1},I.prototype.reduce=function(t,e,n){return this.root&&(e=this.root.reduce(t,e,n,this)),e},I.prototype.reduceRight=function(t,e,n){return this.root&&(e=this.root.reduceRight(t,e,n,this)),e},I.prototype.min=function(t){if(t=this.Dv(t))return t.value},I.prototype.max=function(t){if(t=this._v(t))return t.value},I.prototype.ug=function(){if(!this.root)throw Error("Can't get one value from empty set");return this.root.value},I.prototype.clear=function(){var t;this.$g&&(t=this.toArray(),this.nv([],t,0)),this.root=null,this.length=0,this.$g&&this.Xg([],t,0)},I.prototype.Df=function(t,e){return new this.Iterator(this,t,e)},I.prototype.Iterator=A,I.prototype.summary=function(){return this.root?this.root.summary():"()"},I.prototype.log=function(t,e,n,i){t=t||Pe.Rg,e=e||this.Bv,n||(n=console.log,i=console),n=n.bind(i),this.root&&this.root.log(t,e,n,n)},I.prototype.Bv=function(t,e){e(" "+t.value)},I.Vv=Pe,I.prototype.Node=P,P.prototype.reduce=function(t,e,n,i,r){return r=r||0,this.left&&(e=this.left.reduce(t,e,n,i,r+1)),e=t.call(n,e,this.value,this.value,i,this,r),this.right&&(e=this.right.reduce(t,e,n,i,r+1)),e},P.prototype.reduceRight=function(t,e,n,i,r){return r=r||0,this.right&&(e=this.right.reduce(t,e,n,i,r+1)),e=t.call(n,e,this.value,this.value,i,this,r),this.left&&(e=this.left.reduce(t,e,n,i,r+1)),e},P.prototype.Fv=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},P.prototype.Qv=function(){var t;if(t=1+(this.left?this.left.Qv():0),t+=this.right?this.right.Qv():0,this.length!==t)throw Error("Integrity check failed: "+this.summary());return t},P.prototype.Mv=function(){var t=this;if(t.right){for(t=t.right;t.left;)t=t.left;return t}},P.prototype.tg=function(){var t=this;if(t.left){for(t=t.left;t.right;)t=t.right;return t}},P.prototype.summary=function(){var t=this.value||"-",t=t+" <"+this.length;return this.left||this.right?"("+t+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+t+")"},P.prototype.log=function(t,e,n,i){var r,o=this;r=this.left&&this.right?t.dg:this.left?t.wg:this.right?t.Tg:t.mg;var s;this.left&&this.left.log(t,e,function(e){s?i(t.Ig+" "+e):(s=!0,i(t.Sg+t.mg+e))},function(t){i("  "+t)});var a;e(this,function(e){a?n((o.right?t.Ig:" ")+e):(a=!0,n(r+e))},function(e){i((o.left?t.Ig:" ")+e)});var u;this.right&&this.right.log(t,e,function(e){u?n("  "+e):(u=!0,n(t.bg+t.mg+e))},function(e){n(t.Ig+" "+e)})},A.prototype.next=function(){var t;if(!(t=this.Lf?this.set.jv(this.Lf.value):this.set.Dv()))throw StopIteration;if(void 0!==this.end&&0<=this.set.$f(t.value,this.end))throw StopIteration;return this.Lf=t,t.value},ke.eg&&(ke=ke.eg);var Ae={},Ne=ke,xe=x,_e=St,je=X;Ae.eg=N,Object.addEach(N.prototype,xe.prototype),Object.addEach(N.prototype,_e.prototype),Object.addEach(N.prototype,je.prototype),N.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},N.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},N.prototype.qv=function(t,e,n,i){i=i||this.stringify,this.Vf.qv(t,e,n,i)},N.prototype.stringify=function(t,e,n,i){t.call(e,i+" "+n.value.key+": "+n.value.value)},Ae.eg&&(Ae=Ae.eg),t.Jv=mt,t.Set=Qt,t.Map=se,t.Kv=pe,t.WeakMap=U,t.Gv=ke,t.ni=Ae,t.zv=zt,t.Wv=ee,t.$v=fe,t.oi=ge,t.Yv=we,t.Xv=Nt,t.Zv=Ht,t.ty=Rt,t.Iterator=pt}(this)},function(t,e){t.t=function(){return new Function}},function(t,e){function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.ey(t,256):this.ey(t,e))}function i(){return new n(null)}function r(t,e,n,i,r,o){for(;--o>=0;){var s=e*this[t++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function o(t,e,n,i,r,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,h=a*u+c*s;u=s*u+((32767&h)<<15)+n[i]+(1073741823&r),r=(u>>>30)+(h>>>15)+a*c+(r>>>30),n[i++]=1073741823&u}return r}function s(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,h=a*u+c*s;u=s*u+((16383&h)<<14)+n[i]+r,r=(u>>28)+(h>>14)+a*c,n[i++]=268435455&u}return r}function a(t){return Ct.charAt(t)}function u(t,e){var n=Rt[t.charCodeAt(e)];return null==n?-1:n}function c(t){for(var e=this.iy-1;e>=0;--e)t[e]=this[e];t.iy=this.iy,t.ny=this.ny}function h(t){this.iy=1,this.ny=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.oy:this.iy=0}function p(t){var e=i();return e.sy(t),e}function l(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2}this.iy=0,this.ny=0;for(var r=t.length,o=!1,s=0;--r>=0;){var a=8==i?255&t[r]:u(t,r);a<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==s?this[this.iy++]=a:s+i>this.ay?(this[this.iy-1]|=(a&(1<<this.ay-s)-1)<<s,this[this.iy++]=a>>this.ay-s):this[this.iy-1]|=a<<s,(s+=i)>=this.ay&&(s-=this.ay))}8==i&&0!=(128&t[0])&&(this.ny=-1,s>0&&(this[this.iy-1]|=(1<<this.ay-s)-1<<s)),this.hy(),o&&n.ZERO.py(this,this)}function f(){for(var t=this.ny&this.uy;this.iy>0&&this[this.iy-1]==t;)--this.iy}function d(t){if(this.ny<0)return"-"+this.ly().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.iy,u=this.ay-s*this.ay%e;if(s-- >0)for(u<this.ay&&(n=this[s]>>u)>0&&(r=!0,o=a(n));s>=0;)u<e?(n=(this[s]&(1<<u)-1)<<e-u,n|=this[--s]>>(u+=this.ay-e)):(n=this[s]>>(u-=e)&i,u<=0&&(u+=this.ay,--s)),n>0&&(r=!0),r&&(o+=a(n));return r?o:"0"}function v(){var t=i();return n.ZERO.py(this,t),t}function g(){return this.ny<0?this.ly():this}function y(t){var e=this.ny-t.ny;if(0!=e)return e;var n=this.iy;if(0!=(e=n-t.iy))return this.ny<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.iy<=0?0:this.ay*(this.iy-1)+m(this[this.iy-1]^this.ny&this.uy)}function w(t,e){var n;for(n=this.iy-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.iy=this.iy+t,e.ny=this.ny}function E(t,e){for(var n=t;n<this.iy;++n)e[n-t]=this[n];e.iy=Math.max(this.iy-t,0),e.ny=this.ny}function O(t,e){var n,i=t%this.ay,r=this.ay-i,o=(1<<r)-1,s=Math.floor(t/this.ay),a=this.ny<<i&this.uy;for(n=this.iy-1;n>=0;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.iy=this.iy+s+1,e.ny=this.ny,e.hy()}function S(t,e){e.ny=this.ny;var n=Math.floor(t/this.ay);if(n>=this.iy)return void(e.iy=0);var i=t%this.ay,r=this.ay-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.iy;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;i>0&&(e[this.iy-n-1]|=(this.ny&o)<<r),e.iy=this.iy-n,e.hy()}function T(t,e){for(var n=0,i=0,r=Math.min(t.iy,this.iy);n<r;)i+=this[n]-t[n],e[n++]=i&this.uy,i>>=this.ay;if(t.iy<this.iy){for(i-=t.ny;n<this.iy;)i+=this[n],e[n++]=i&this.uy,i>>=this.ay;i+=this.ny}else{for(i+=this.ny;n<t.iy;)i-=t[n],e[n++]=i&this.uy,i>>=this.ay;i-=t.ny}e.ny=i<0?-1:0,i<-1?e[n++]=this.oy+i:i>0&&(e[n++]=i),e.iy=n,e.hy()}function k(t,e){var i=this.abs(),r=t.abs(),o=i.iy;for(e.iy=o+r.iy;--o>=0;)e[o]=0;for(o=0;o<r.iy;++o)e[o+i.iy]=i.gy(0,r[o],e,o,0,i.iy);e.ny=0,e.hy(),this.ny!=t.ny&&n.ZERO.py(e,e)}function C(t){for(var e=this.abs(),n=t.iy=2*e.iy;--n>=0;)t[n]=0;for(n=0;n<e.iy-1;++n){var i=e.gy(n,e[n],t,2*n,0,1);(t[n+e.iy]+=e.gy(n+1,2*e[n],t,2*n+1,i,e.iy-n-1))>=e.oy&&(t[n+e.iy]-=e.oy,t[n+e.iy+1]=1)}t.iy>0&&(t[t.iy-1]+=e.gy(n,e[n],t,2*n,0,1)),t.ny=0,t.hy()}function R(t,e,r){var o=t.abs();if(!(o.iy<=0)){var s=this.abs();if(s.iy<o.iy)return null!=e&&e.sy(0),void(null!=r&&this.vy(r));null==r&&(r=i());var a=i(),u=this.ny,c=t.ny,h=this.ay-m(o[o.iy-1]);h>0?(o.yy(h,a),s.yy(h,r)):(o.vy(a),s.vy(r));var p=a.iy,l=a[p-1];if(0!=l){var f=l*(1<<this.my)+(p>1?a[p-2]>>this.wy:0),d=this.Ty/f,v=(1<<this.my)/f,g=1<<this.wy,y=r.iy,b=y-p,w=null==e?i():e;for(a.Sy(b,w),r.by(w)>=0&&(r[r.iy++]=1,r.py(w,r)),n.ONE.Sy(p,w),w.py(a,a);a.iy<p;)a[a.iy++]=0;for(;--b>=0;){var E=r[--y]==l?this.uy:Math.floor(r[y]*d+(r[y-1]+g)*v);if((r[y]+=a.gy(0,E,r,b,0,p))<E)for(a.Sy(b,w),r.py(w,r);r[y]<--E;)r.py(w,r)}null!=e&&(r.Ey(p,e),u!=c&&n.ZERO.py(e,e)),r.iy=p,r.hy(),h>0&&r.Iy(h,r),u<0&&n.ZERO.py(r,r)}}}function I(t){var e=i();return this.abs().Ry(t,null,e),this.ny<0&&e.by(n.ZERO)>0&&t.py(e,e),e}function P(t){this.i=t}function A(t){return t.ny<0||t.by(this.i)>=0?t.ky(this.i):t}function N(t){return t}function x(t){t.Ry(this.i,null,t)}function _(t,e,n){t.Cy(e,n),this.reduce(n)}function j(t,e){t.Oy(e),this.reduce(e)}function D(){if(this.iy<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.oy)%this.oy,e>0?this.oy-e:-e}function M(t){this.i=t,this.Py=t.Ay(),this.Ny=32767&this.Py,this.xy=this.Py>>15,this.By=(1<<t.ay-15)-1,this.Fy=2*t.iy}function L(t){var e=i();return t.abs().Sy(this.i.iy,e),e.Ry(this.i,null,e),t.ny<0&&e.by(n.ZERO)>0&&this.i.py(e,e),e}function H(t){var e=i();return t.vy(e),this.reduce(e),e}function U(t){for(;t.iy<=this.Fy;)t[t.iy++]=0;for(var e=0;e<this.i.iy;++e){var n=32767&t[e],i=n*this.Ny+((n*this.xy+(t[e]>>15)*this.Ny&this.By)<<15)&t.uy;for(n=e+this.i.iy,t[n]+=this.i.gy(0,i,t,e,0,this.i.iy);t[n]>=t.oy;)t[n]-=t.oy,t[++n]++}t.hy(),t.Ey(this.i.iy,t),t.by(this.i)>=0&&t.py(this.i,t)}function F(t,e){t.Oy(e),this.reduce(e)}function B(t,e,n){t.Cy(e,n),this.reduce(n)}function V(){return 0==(this.iy>0?1&this[0]:this.ny)}function Q(t,e){if(t>4294967295||t<1)return n.ONE;var r=i(),o=i(),s=e._y(this),a=m(t)-1;for(s.vy(r);--a>=0;)if(e.Dy(r,o),(t&1<<a)>0)e.Hy(o,s,r);else{var u=r;r=o,o=u}return e.Ly(r)}function J(t,e){var n;return n=t<256||e.My()?new P(e):new M(e),this.exp(t,n)}function K(t){var e,n,i,r="",o=0;for(e=0;e<t.length&&t.charAt(e)!=Pt;++e)(i=It.indexOf(t.charAt(e)))<0||(0==o?(r+=a(i>>2),n=3&i,o=1):1==o?(r+=a(n<<2|i>>4),n=15&i,o=2):2==o?(r+=a(n),r+=a(i>>2),n=3&i,o=3):(r+=a(n<<2|i>>4),r+=a(15&i),o=0));return 1==o&&(r+=a(n<<2)),r}function q(t){var e,n=K(t),i=new Array;for(e=0;2*e<n.length;++e)i[e]=parseInt(n.substring(2*e,2*e+2),16);return i}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function $(t,e){return new n(t,e)}function Y(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,r=t.length-1;r>=0&&e>0;){var o=t.charCodeAt(r--);o<128?i[--e]=o:o>127&&o<2048?(i[--e]=63&o|128,i[--e]=o>>6|192):(i[--e]=63&o|128,i[--e]=o>>6&63|128,i[--e]=o>>12|224)}i[--e]=0;for(var s=new SecureRandom,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);i[--e]=a[0]}return i[--e]=2,i[--e]=0,new n(i)}function W(t,e,n){for(var i="",r=0;i.length<e;)i+=n(String.fromCharCode.apply(String,t.concat([(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r]))),r+=1;return i}function z(t,e,i){if(t.length+2*At+2>e)throw"Message too long for RSA";var r,o="";for(r=0;r<e-t.length-2*At-2;r+=1)o+="\0";var s=rstr_sha1("")+o+""+t,a=new Array(At);(new SecureRandom).nextBytes(a);var u=W(a,s.length,i||rstr_sha1),c=[];for(r=0;r<s.length;r+=1)c[r]=s.charCodeAt(r)^u.charCodeAt(r);var h=W(c,a.length,rstr_sha1),p=[0];for(r=0;r<a.length;r+=1)p[r+1]=a[r]^h.charCodeAt(r);return new n(p.concat(c))}function G(){this.n=null,this.e=0,this.d=null,this.o=null,this.jy=null,this.Uy=null,this.Vy=null,this.Qy=null}function X(t,e){this.qy=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=$(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function Z(t){return t.Jy(this.e,this.n)}function tt(t){var e=Y(t,this.n.Ky()+7>>3);if(null==e)return null;var n=this.Gy(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function et(t,e){var n=z(t,this.n.Ky()+7>>3,e);if(null==n)return null;var i=this.Gy(n);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r}function nt(t,e){for(var n="",i=e/4-t.length,r=0;r<i;r++)n+="0";return n+t}function it(t,e){var n=function(t){return KJUR.crypto.Wy.zy(t,e)}(t);return this.$y(n,e)}function rt(t,e){var n=KJUR.crypto.Wy.Yy(t,e,this.n.Ky()),i=$(n,16);return nt(this.doPrivate(i).toString(16),this.n.Ky())}function ot(t){return it.call(this,t,"sha1")}function st(t){return it.call(this,t,"sha256")}function at(t,e,n){for(var i="",r=0;i.length<e;)i+=hextorstr(n(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r])))),r+=1;return i}function ut(t,e,n){var i=function(t){return KJUR.crypto.Wy.Xy(t,e)}(rstrtohex(t));return void 0===n&&(n=-1),this.Zy(i,e,n)}function ct(t,e,i){var r,o=hextorstr(t),s=o.length,a=this.n.Ky()-1,u=Math.ceil(a/8),c=function(t){return KJUR.crypto.Wy.Xy(t,e)};if(-1===i||void 0===i)i=s;else if(-2===i)i=u-s-2;else if(i<-2)throw"invalid salt length";if(u<s+i+2)throw"data too long";var h="";i>0&&(h=new Array(i),(new SecureRandom).nextBytes(h),h=String.fromCharCode.apply(String,h));var p=hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+o+h))),l=[];for(r=0;r<u-i-s-2;r+=1)l[r]=0;var f=String.fromCharCode.apply(String,l)+""+h,d=at(p,f.length,c),v=[];for(r=0;r<f.length;r+=1)v[r]=f.charCodeAt(r)^d.charCodeAt(r);var g=65280>>8*u-a&255;for(v[0]&=~g,r=0;r<s;r++)v.push(p.charCodeAt(r));return v.push(188),nt(this.doPrivate(new n(v)).toString(16),this.n.Ky())}function ht(t,e,n){var i=new G;return i.qh(e,n),i.Gy(t)}function pt(t,e,n){return ht(t,e,n).toString(16).replace(/^1f+00/,"")}function lt(t){for(var e in KJUR.crypto.Wy.tm){var n=KJUR.crypto.Wy.tm[e],i=n.length;if(t.substring(0,i)==n){return[e,t.substring(i)]}}return[]}function ft(t,e,n,i){var r=pt(e,n,i),o=lt(r);if(0==o.length)return!1;var s=o[0],a=o[1];return a==function(t){return KJUR.crypto.Wy.zy(t,s)}(t)}function dt(t,e){return ft(e,$(t,16),this.n.toString(16),this.e.toString(16))}function vt(t,e){e=e.replace(Nt,""),e=e.replace(/[ \n]+/g,"");var n=$(e,16);if(n.Ky()>this.n.Ky())return 0;var i=this.Gy(n),r=i.toString(16).replace(/^1f+00/,""),o=lt(r);if(0==o.length)return!1;var s=o[0],a=o[1];return a==function(t){return KJUR.crypto.Wy.zy(t,s)}(t)}function gt(t,e){e=e.replace(Nt,""),e=e.replace(/[ \n]+/g,"");var n=$(e,16);if(n.Ky()>this.n.Ky())return 0;var i=this.Gy(n),r=i.toString(16).replace(/^1f+00/,""),o=lt(r);return 0!=o.length&&(o[0],o[1]==t)}function yt(t,e,n,i){var r=function(t){return KJUR.crypto.Wy.Xy(t,n)}(rstrtohex(t));return void 0===i&&(i=-1),this.em(r,e,n,i)}function mt(t,e,i,r){var o=new n(e,16);if(o.Ky()>this.n.Ky())return!1;var s,a=function(t){return KJUR.crypto.Wy.Xy(t,i)},u=hextorstr(t),c=u.length,h=this.n.Ky()-1,p=Math.ceil(h/8);if(-1===r||void 0===r)r=c;else if(-2===r)r=p-c-2;else if(r<-2)throw"invalid salt length";if(p<c+r+2)throw"data too long";var l=this.Gy(o).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<p;)l.unshift(0);if(188!==l[p-1])throw"encoded message does not end in 0xbc";l=String.fromCharCode.apply(String,l);var f=l.substr(0,p-c-1),d=l.substr(f.length,c),v=65280>>8*p-h&255;if(0!=(f.charCodeAt(0)&v))throw"bits beyond keysize not zero";var g=at(d,f.length,a),y=[];for(s=0;s<f.length;s+=1)y[s]=f.charCodeAt(s)^g.charCodeAt(s);y[0]&=~v;var m=p-c-r-2;for(s=0;s<m;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return d===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+u+String.fromCharCode.apply(String,y.slice(-r)))))}var bt={};bt.userAgent=!1;var wt={};if(void 0===Et||!Et)var Et={};Et.im=function(){var t,e,n,i=arguments,r=null;for(t=0;t<i.length;t+=1)for(n=(""+i[t]).split("."),r=Et,e="YAHOO"==n[0]?1:0;e<n.length;e+=1)r[n[e]]=r[n[e]]||{},r=r[n[e]];return r},Et.log=function(t,e,n){var i=Et.widget.Logger;return!(!i||!i.log)&&i.log(t,e,n)},Et.register=function(t,e,n){var i,r,o,s,a,u=Et.Ot.rm;for(u[t]||(u[t]={nm:[],om:[]}),i=u[t],r=n.version,o=n.pp,s=Et.Ot.zi,i.name=t,i.version=r,i.pp=o,i.nm.push(r),i.om.push(o),i.sm=e,a=0;a<s.length;a+=1)s[a](i);e?(e.VERSION=r,e.am=o):Et.log("mainClass is undefined for module "+t,"warn")},Et.Ot=Et.Ot||{rm:[],zi:[]},Et.Ot.getVersion=function(t){return Et.Ot.rm[t]||null},Et.Ot.cm=function(t){var e,n=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},i=bt,r={hm:0,opera:0,pm:0,um:0,chrome:0,lm:null,dm:0,fm:0,gm:0,vm:0,ym:null,mm:0,wm:0,Tm:i&&i.cajaVersion,Sm:!1,os:null},o=t||bt&&bt.userAgent,s=wt&&wt.location,a=s&&s.href;return r.Sm=a&&0===a.toLowerCase().indexOf("https"),o&&(/windows|win32/i.test(o)?r.os="windows":/macintosh/i.test(o)?r.os="macintosh":/rhino/i.test(o)&&(r.os="rhino"),/KHTML/.test(o)&&(r.um=1),e=o.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(r.um=n(e[1]),/ Mobile\//.test(o)?(r.lm="Apple",e=o.match(/OS ([^\s]*)/),e&&e[1]&&(e=n(e[1].replace("_","."))),r.ym=e,r.fm=r.vm=r.gm=0,(e=o.match(/iPad|iPod|iPhone/))&&e[0]&&(r[e[0].toLowerCase()]=r.ym)):(e=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(r.lm=e[0]),/webOS/.test(o)&&(r.lm="WebOS",(e=o.match(/webOS\/([^\s]*);/))&&e[1]&&(r.wm=n(e[1]))),/ Android/.test(o)&&(r.lm="Android",(e=o.match(/Android ([^\s]*);/))&&e[1]&&(r.mm=n(e[1])))),e=o.match(/Chrome\/([^\s]*)/),e&&e[1]?r.chrome=n(e[1]):(e=o.match(/AdobeAIR\/([^\s]*)/))&&(r.dm=e[0])),r.um||(e=o.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(r.opera=n(e[1]),e=o.match(/Version\/([^\s]*)/),e&&e[1]&&(r.opera=n(e[1])),(e=o.match(/Opera Mini[^;]*/))&&(r.lm=e[0])):(e=o.match(/MSIE\s([^;]*)/),e&&e[1]?r.hm=n(e[1]):(e=o.match(/Gecko\/([^\s]*)/))&&(r.pm=1,(e=o.match(/rv:([^\s\)]*)/))&&e[1]&&(r.pm=n(e[1])))))),r},Et.Ot.tf=Et.Ot.cm(),function(){if(Et.im("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,n=Et.Ot.zi,i=!0;if(e){for(t=0;t<n.length;t++)if(n[t]==e){i=!1;break}i&&n.push(e)}}}(),Et.lang=Et.lang||{},function(){var t=Et.lang,e=Object.prototype,n=[],i={bm:"&amp;",Em:"&lt;",Im:"&gt;",Rm:"&quot;",km:"&#x27;",Jp:"&#x2F;",Cm:"&#x60;"},r=["toString","valueOf"],o={isArray:function(t){return"[object Array]"===e.toString.apply(t)},Om:function(t){return"boolean"==typeof t},Pm:function(t){return"function"==typeof t||"[object Function]"===e.toString.apply(t)},Am:function(t){return null===t},Nm:function(t){return"number"==typeof t&&isFinite(t)},ov:function(e){return e&&("object"==typeof e||t.Pm(e))||!1},xm:function(t){return"string"==typeof t},Bm:function(t){return void 0===t},Fm:Et.Ot.tf.hm?function(n,i){var o,s,a;for(o=0;o<r.length;o+=1)s=r[o],a=i[s],t.Pm(a)&&a!=e[s]&&(n[s]=a)}:function(){},_m:function(t){return t.replace(/[&<>"'\/`]/g,function(t){return i[t]})},extend:function(n,i,r){if(!i||!n)throw new Error("extend failed, please check that all dependencies are included.");var o,s=function(){};if(s.prototype=i.prototype,n.prototype=new s,n.prototype.constructor=n,n.Dm=i.prototype,i.prototype.constructor==e.constructor&&(i.prototype.constructor=i),r){for(o in r)t.hasOwnProperty(r,o)&&(n.prototype[o]=r[o]);t.Fm(n.prototype,r)}},Hm:function(e,n){if(!n||!e)throw new Error("Absorb failed, verify dependencies.");var i,r,o=arguments,s=o[2];if(s&&!0!==s)for(i=2;i<o.length;i+=1)e[o[i]]=n[o[i]];else{for(r in n)!s&&r in e||(e[r]=n[r]);t.Fm(e,n)}return e},Lm:function(e,n){if(!n||!e)throw new Error("Augment failed, verify dependencies.");var i,r=[e.prototype,n.prototype];for(i=2;i<arguments.length;i+=1)r.push(arguments[i]);return t.Hm.apply(this,r),e},dump:function(e,n){var i,r,o=[],s="{...}";if(!t.ov(e))return e+"";if(e instanceof Date||"nodeType"in e&&"tagName"in e)return e;if(t.Pm(e))return"f(){...}";if(n=t.Nm(n)?n:3,t.isArray(e)){for(o.push("["),i=0,r=e.length;i<r;i+=1)t.ov(e[i])?o.push(n>0?t.dump(e[i],n-1):s):o.push(e[i]),o.push(", ");o.length>1&&o.pop(),o.push("]")}else{o.push("{");for(i in e)t.hasOwnProperty(e,i)&&(o.push(i+" => "),t.ov(e[i])?o.push(n>0?t.dump(e[i],n-1):s):o.push(e[i]),o.push(", "));o.length>1&&o.pop(),o.push("}")}return o.join("")},Mm:function(e,n,i,r){for(var o,s,a,u,c,h,p,l,f,d=[],v=e.length;!((o=e.lastIndexOf("{",v))<0||(s=e.indexOf("}",o),o+1>s));)p=e.substring(o+1,s),u=p,h=null,a=u.indexOf(" "),a>-1&&(h=u.substring(a+1),u=u.substring(0,a)),c=n[u],i&&(c=i(u,c,h)),t.ov(c)?t.isArray(c)?c=t.dump(c,parseInt(h,10)):(h=h||"",l=h.indexOf("dump"),l>-1&&(h=h.substring(4)),f=c.toString(),c="[object Object]"===f||l>-1?t.dump(c,parseInt(h,10)):f):t.xm(c)||t.Nm(c)||(c="~-"+d.length+"-~",d[d.length]=p),e=e.substring(0,o)+c+e.substring(s+1),!1===r&&(v=o-1);for(o=d.length-1;o>=0;o-=1)e=e.replace(new RegExp("~-"+o+"-~"),"{"+d[o]+"}","g");return e},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},jm:function(){var e,n={},i=arguments,r=i.length;for(e=0;e<r;e+=1)t.Hm(n,i[e],!0);return n},Um:function(e,i,r,o,s){e=e||0,i=i||{};var a,u,c=r,h=o;if(t.xm(r)&&(c=i[r]),!c)throw new TypeError("method undefined");return t.Bm(o)||t.isArray(h)||(h=[o]),a=function(){c.apply(i,h||n)},u=s?setInterval(a,e):setTimeout(a,e),{interval:s,cancel:function(){this.interval?clearInterval(u):clearTimeout(u)}}},Vm:function(e){return t.ov(e)||t.xm(e)||t.Nm(e)||t.Om(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(e,n){return!t.Bm(e[n])&&e.constructor.prototype[n]!==e[n]},o.Hm(t,o,!0),Et.util.Lang=t,t.Qm=t.Lm,Et.Qm=t.Lm,Et.extend=t.extend}(),Et.register("yahoo",Et,{version:"2.9.0",pp:"2800"});/*! CryptoJS v3.1.2 core-fix.js
   * code.google.com/p/crypto-js
   * (c) 2009-2013 by Jeff Mott. All rights reserved.
   * code.google.com/p/crypto-js/wiki/License
   * THIS IS FIX of 'core.js' to fix Hmac issue.
   * https://code.google.com/p/crypto-js/issues/detail?id=84
   * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
   */
var Ot=Ot||function(t,e){var n={},i=n.qm={},r=i.Jm=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.Km(e),n.hasOwnProperty("init")||(n.init=function(){n.Gm.init.apply(this,arguments)}),n.init.prototype=n,n.Gm=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},Km:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.zm=r.extend({init:function(t,e){t=this.Wm=t||[],this.$m=void 0!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.Wm,n=t.Wm,i=this.$m,r=t.$m;if(this.hy(),i%4)for(var o=0;o<r;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var o=0;o<r;o+=4)e[i+o>>>2]=n[o>>>2];return this.$m+=r,this},hy:function(){var e=this.Wm,n=this.$m;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.Wm=this.Wm.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new o.init(n,e)}}),s=n.Ym={},a=s.Xm={stringify:function(t){for(var e=t.Wm,n=t.$m,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(n,e/2)}},u=s.Zm={stringify:function(t){for(var e=t.Wm,n=t.$m,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(n,e)}},c=s.tw={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=i.ew=r.extend({reset:function(){this.iw=new o.init,this.rw=0},nw:function(t){"string"==typeof t&&(t=c.parse(t)),this.iw.concat(t),this.rw+=t.$m},ow:function(e){var n=this.iw,i=n.Wm,r=n.$m,s=this.sw,a=4*s,u=r/a;u=e?t.ceil(u):t.max((0|u)-this.aw,0);var c=u*s,h=t.min(4*c,r);if(c){for(var p=0;p<c;p+=s)this.cw(i,p);var l=i.splice(0,c);n.$m-=h}return new o.init(l,h)},clone:function(){var t=r.clone.call(this);return t.iw=this.iw.clone(),t},aw:0}),p=(i.hw=h.extend({pw:r.extend(),init:function(t){this.pw=this.pw.extend(t),this.reset()},reset:function(){h.reset.call(this),this.uw()},update:function(t){return this.nw(t),this.ow(),this},lw:function(t){return t&&this.nw(t),this.dw()},sw:16,fw:function(t){return function(e,n){return new t.init(n).lw(e)}},gw:function(t){return function(e,n){return new p.HMAC.init(t,n).lw(e)}}}),n.vw={});return n}(Math);!function(t){function e(t,e,n,i,r,o,s){return((t=t+(e&n|~e&i)+r+s)<<o|t>>>32-o)+e}function n(t,e,n,i,r,o,s){return((t=t+(e&i|n&~i)+r+s)<<o|t>>>32-o)+e}function i(t,e,n,i,r,o,s){return((t=t+(e^n^i)+r+s)<<o|t>>>32-o)+e}function r(t,e,n,i,r,o,s){return((t=t+(n^(e|~i))+r+s)<<o|t>>>32-o)+e}for(var o=Ot,s=o.qm,a=s.zm,u=s.hw,s=o.vw,c=[],h=0;64>h;h++)c[h]=4294967296*t.abs(t.sin(h+1))|0;s=s.yw=u.extend({uw:function(){this.mw=new a.init([1732584193,4023233417,2562383102,271733878])},cw:function(t,o){for(var s=0;16>s;s++){var a=o+s,u=t[a];t[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var s=this.mw.Wm,a=t[o+0],u=t[o+1],h=t[o+2],p=t[o+3],l=t[o+4],f=t[o+5],d=t[o+6],v=t[o+7],g=t[o+8],y=t[o+9],m=t[o+10],b=t[o+11],w=t[o+12],E=t[o+13],O=t[o+14],S=t[o+15],T=s[0],k=s[1],C=s[2],R=s[3],T=e(T,k,C,R,a,7,c[0]),R=e(R,T,k,C,u,12,c[1]),C=e(C,R,T,k,h,17,c[2]),k=e(k,C,R,T,p,22,c[3]),T=e(T,k,C,R,l,7,c[4]),R=e(R,T,k,C,f,12,c[5]),C=e(C,R,T,k,d,17,c[6]),k=e(k,C,R,T,v,22,c[7]),T=e(T,k,C,R,g,7,c[8]),R=e(R,T,k,C,y,12,c[9]),C=e(C,R,T,k,m,17,c[10]),k=e(k,C,R,T,b,22,c[11]),T=e(T,k,C,R,w,7,c[12]),R=e(R,T,k,C,E,12,c[13]),C=e(C,R,T,k,O,17,c[14]),k=e(k,C,R,T,S,22,c[15]),T=n(T,k,C,R,u,5,c[16]),R=n(R,T,k,C,d,9,c[17]),C=n(C,R,T,k,b,14,c[18]),k=n(k,C,R,T,a,20,c[19]),T=n(T,k,C,R,f,5,c[20]),R=n(R,T,k,C,m,9,c[21]),C=n(C,R,T,k,S,14,c[22]),k=n(k,C,R,T,l,20,c[23]),T=n(T,k,C,R,y,5,c[24]),R=n(R,T,k,C,O,9,c[25]),C=n(C,R,T,k,p,14,c[26]),k=n(k,C,R,T,g,20,c[27]),T=n(T,k,C,R,E,5,c[28]),R=n(R,T,k,C,h,9,c[29]),C=n(C,R,T,k,v,14,c[30]),k=n(k,C,R,T,w,20,c[31]),T=i(T,k,C,R,f,4,c[32]),R=i(R,T,k,C,g,11,c[33]),C=i(C,R,T,k,b,16,c[34]),k=i(k,C,R,T,O,23,c[35]),T=i(T,k,C,R,u,4,c[36]),R=i(R,T,k,C,l,11,c[37]),C=i(C,R,T,k,v,16,c[38]),k=i(k,C,R,T,m,23,c[39]),T=i(T,k,C,R,E,4,c[40]),R=i(R,T,k,C,a,11,c[41]),C=i(C,R,T,k,p,16,c[42]),k=i(k,C,R,T,d,23,c[43]),T=i(T,k,C,R,y,4,c[44]),R=i(R,T,k,C,w,11,c[45]),C=i(C,R,T,k,S,16,c[46]),k=i(k,C,R,T,h,23,c[47]),T=r(T,k,C,R,a,6,c[48]),R=r(R,T,k,C,v,10,c[49]),C=r(C,R,T,k,O,15,c[50]),k=r(k,C,R,T,f,21,c[51]),T=r(T,k,C,R,w,6,c[52]),R=r(R,T,k,C,p,10,c[53]),C=r(C,R,T,k,m,15,c[54]),k=r(k,C,R,T,u,21,c[55]),T=r(T,k,C,R,g,6,c[56]),R=r(R,T,k,C,S,10,c[57]),C=r(C,R,T,k,d,15,c[58]),k=r(k,C,R,T,E,21,c[59]),T=r(T,k,C,R,l,6,c[60]),R=r(R,T,k,C,b,10,c[61]),C=r(C,R,T,k,h,15,c[62]),k=r(k,C,R,T,y,21,c[63]);s[0]=s[0]+T|0,s[1]=s[1]+k|0,s[2]=s[2]+C|0,s[3]=s[3]+R|0},dw:function(){var e=this.iw,n=e.Wm,i=8*this.rw,r=8*e.$m;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.$m=4*(n.length+1),this.ow(),e=this.mw,n=e.Wm,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var t=u.clone.call(this);return t.mw=this.mw.clone(),t}}),o.yw=u.fw(s),o.ww=u.gw(s)}(Math),function(){var t=Ot,e=t.qm,n=e.zm,i=e.hw,r=[],e=t.vw.Tw=i.extend({uw:function(){this.mw=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},cw:function(t,e){for(var n=this.mw.Wm,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],c=0;80>c;c++){if(16>c)r[c]=0|t[e+c];else{var h=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=h<<1|h>>>31}h=(i<<5|i>>>27)+u+r[c],h=20>c?h+(1518500249+(o&s|~o&a)):40>c?h+(1859775393+(o^s^a)):60>c?h+((o&s|o&a|s&a)-1894007588):h+((o^s^a)-899497514),u=a,a=s,s=o<<30|o>>>2,o=i,i=h}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},dw:function(){var t=this.iw,e=t.Wm,n=8*this.rw,i=8*t.$m;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.$m=4*e.length,this.ow(),this.mw},clone:function(){var t=i.clone.call(this);return t.mw=this.mw.clone(),t}});t.Tw=i.fw(e),t.Sw=i.gw(e)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var St;"Microsoft Internet Explorer"==bt.appName?(n.prototype.gy=o,St=30):"Netscape"!=bt.appName?(n.prototype.gy=r,St=26):(n.prototype.gy=s,St=28),n.prototype.ay=St,n.prototype.uy=(1<<St)-1,n.prototype.oy=1<<St;n.prototype.Ty=Math.pow(2,52),n.prototype.my=52-St,n.prototype.wy=2*St-52;var Tt,kt,Ct="0123456789abcdefghijklmnopqrstuvwxyz",Rt=new Array;for(Tt="0".charCodeAt(0),kt=0;kt<=9;++kt)Rt[Tt++]=kt;for(Tt="a".charCodeAt(0),kt=10;kt<36;++kt)Rt[Tt++]=kt;for(Tt="A".charCodeAt(0),kt=10;kt<36;++kt)Rt[Tt++]=kt;P.prototype._y=A,P.prototype.Ly=N,P.prototype.reduce=x,P.prototype.Hy=_,P.prototype.Dy=j,M.prototype._y=L,M.prototype.Ly=H,M.prototype.reduce=U,M.prototype.Hy=B,M.prototype.Dy=F,n.prototype.vy=c,n.prototype.sy=h,n.prototype.ey=l,n.prototype.hy=f,n.prototype.Sy=w,n.prototype.Ey=E,n.prototype.yy=O,n.prototype.Iy=S,n.prototype.py=T,n.prototype.Cy=k,n.prototype.Oy=C,n.prototype.Ry=R,n.prototype.Ay=D,n.prototype.My=V,n.prototype.exp=Q,n.prototype.toString=d,n.prototype.ly=v,n.prototype.abs=g,n.prototype.by=y,n.prototype.Ky=b,n.prototype.ky=I,n.prototype.Jy=J,n.ZERO=p(0),n.ONE=p(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.bw&&KJUR.bw||(KJUR.bw={}),KJUR.bw.Ew=new function(){this.Iw=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.Rw=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var i=e.substr(1),r=i.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var o="",s=0;s<r;s++)o+="f";e=new n(o,16).xor(t).add(n.ONE).toString(16).replace(/^-/,"")}return e},this.kw=function(t,e){var n=(KJUR.bw,Ot.Ym.Xm.parse(t)),i=Ot.Ym.Base64.stringify(n),r=i.replace(/(.{64})/g,"$1\r\n");return r=r.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+r+"\r\n-----END "+e+"-----\r\n"},this.Cw=function(t){var e=KJUR.bw,n=Object.keys(t);if(1!=n.length)throw"key of param shall be only one.";var i=n[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+i+":"))throw"undefined key: "+i;if("bool"==i)return new e.Ow(t[i]);if("int"==i)return new e.Pw(t[i]);if("bitstr"==i)return new e.Aw(t[i]);if("octstr"==i)return new e.Nw(t[i]);if("null"==i)return new e.xw(t[i]);if("oid"==i)return new e.Bw(t[i]);if("enum"==i)return new e.Fw(t[i]);if("utf8str"==i)return new e._w(t[i]);if("numstr"==i)return new e.Dw(t[i]);if("prnstr"==i)return new e.Hw(t[i]);if("telstr"==i)return new e.Lw(t[i]);if("ia5str"==i)return new e.Mw(t[i]);if("utctime"==i)return new e.jw(t[i]);if("gentime"==i)return new e.Uw(t[i]);if("seq"==i){for(var r=t[i],o=[],s=0;s<r.length;s++){var a=e.Ew.Cw(r[s]);o.push(a)}return new e.Vw({Hf:o})}if("set"==i){for(var r=t[i],o=[],s=0;s<r.length;s++){var a=e.Ew.Cw(r[s]);o.push(a)}return new e.Qw({Hf:o})}if("tag"==i){var u=t[i];if("[object Array]"===Object.prototype.toString.call(u)&&3==u.length){var c=e.Ew.Cw(u[2]);return new e.qw({tag:u[0],Jw:u[1],Kw:c})}var h={};if(void 0!==u.Jw&&(h.Jw=u.Jw),void 0!==u.tag&&(h.tag=u.tag),void 0===u.Kw)throw"obj shall be specified for 'tag'.";return h.Kw=e.Ew.Cw(u.Kw),new e.qw(h)}},this.Gw=function(t){return this.Cw(t).zw()}},KJUR.bw.Ew.Ww=function(t){for(var e="",i=parseInt(t.substr(0,2),16),r=Math.floor(i/40),o=i%40,e=r+"."+o,s="",a=2;a<t.length;a+=2){var u=parseInt(t.substr(a,2),16),c=("00000000"+u.toString(2)).slice(-8);if(s+=c.substr(1,7),"0"==c.substr(0,1)){e=e+"."+new n(s,2).toString(10),s=""}}return e},KJUR.bw.Ew.$w=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),o=40*parseInt(r[0])+parseInt(r[1]);i+=e(o),r.splice(0,2);for(var s=0;s<r.length;s++)i+=function(t){var i="",r=new n(t,10),o=r.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",u=0;u<s;u++)a+="0";o=a+o;for(var u=0;u<o.length-1;u+=7){var c=o.substr(u,7);u!=o.length-7&&(c="1"+c),i+=e(parseInt(c,2))}return i}(r[s]);return i},KJUR.bw.Yw=function(){this.Xw=function(){if(void 0===this.Zw||null==this.Zw)throw"this.hV is null or undefined.";if(this.Zw.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.Zw;var t=this.Zw.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.zw=function(){return(null==this.tT||this.eT)&&(this.Zw=this.iT(),this.rT=this.Xw(),this.tT=this.nT+this.rT+this.Zw,this.eT=!1),this.tT},this.oT=function(){return this.zw(),this.Zw},this.iT=function(){return""}},KJUR.bw.sT=function(t){KJUR.bw.sT.Dm.constructor.call(this),this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(this.ny)},this.hT=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.iT=function(){return this.Zw},void 0!==t&&("string"==typeof t?this.cT(t):void 0!==t.ac?this.cT(t.ac):void 0!==t.pT&&this.hT(t.pT))},Et.lang.extend(KJUR.bw.sT,KJUR.bw.Yw),KJUR.bw.uT=function(t){KJUR.bw.uT.Dm.constructor.call(this),this.lT=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.dT=function(t,e,n){var i=this.fT,r=this.lT(t),o=String(r.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=i(String(r.getMonth()+1),2),a=i(String(r.getDate()),2),u=i(String(r.getHours()),2),c=i(String(r.getMinutes()),2),h=i(String(r.getSeconds()),2),p=o+s+a+u+c+h;if(!0===n){var l=r.getMilliseconds();if(0!=l){var f=i(String(l),3);f=f.replace(/[0]+$/,""),p=p+"."+f}}return p+"Z"},this.fT=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(t)},this.gT=function(t,e,n,i,r,o){var s=new Date(Date.UTC(t,e-1,n,i,r,o,0));this.vT(s)},this.iT=function(){return this.Zw}},Et.lang.extend(KJUR.bw.uT,KJUR.bw.Yw),KJUR.bw.yT=function(t){KJUR.bw.sT.Dm.constructor.call(this),this.mT=function(t){this.tT=null,this.eT=!0,this.wT=t},this.TT=function(t){this.tT=null,this.eT=!0,this.wT.push(t)},this.wT=new Array,void 0!==t&&void 0!==t.Hf&&(this.wT=t.Hf)},Et.lang.extend(KJUR.bw.yT,KJUR.bw.Yw),KJUR.bw.Ow=function(){KJUR.bw.Ow.Dm.constructor.call(this),this.nT="01",this.tT="0101ff"},Et.lang.extend(KJUR.bw.Ow,KJUR.bw.Yw),KJUR.bw.Pw=function(t){KJUR.bw.Pw.Dm.constructor.call(this),this.nT="02",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new n(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},void 0!==t&&(void 0!==t.bigint?this.ST(t.bigint):void 0!==t.int?this.bT(t.int):"number"==typeof t?this.bT(t):void 0!==t.pT&&this.ET(t.pT))},Et.lang.extend(KJUR.bw.Pw,KJUR.bw.Yw),KJUR.bw.Aw=function(t){KJUR.bw.Aw.Dm.constructor.call(this),this.nT="03",this.IT=function(t){this.tT=null,this.eT=!0,this.Zw=t},this.RT=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.tT=null,this.eT=!0,this.Zw=n+e},this.kT=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";for(var i="",n=0;n<t.length-1;n+=8){var r=t.substr(n,8),o=parseInt(r,2).toString(16);1==o.length&&(o="0"+o),i+=o}this.tT=null,this.eT=!0,this.Zw="0"+e+i},this.CT=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.kT(e)},this.OT=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.iT=function(){return this.Zw},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.IT(t):void 0!==t.pT?this.IT(t.pT):void 0!==t.bin?this.kT(t.bin):void 0!==t.Hf&&this.CT(t.Hf))},Et.lang.extend(KJUR.bw.Aw,KJUR.bw.Yw),KJUR.bw.Nw=function(t){KJUR.bw.Nw.Dm.constructor.call(this,t),this.nT="04"},Et.lang.extend(KJUR.bw.Nw,KJUR.bw.sT),KJUR.bw.xw=function(){KJUR.bw.xw.Dm.constructor.call(this),this.nT="05",this.tT="0500"},Et.lang.extend(KJUR.bw.xw,KJUR.bw.Yw),KJUR.bw.Bw=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},i=function(t){var i="",r=new n(t,10),o=r.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",u=0;u<s;u++)a+="0";o=a+o;for(var u=0;u<o.length-1;u+=7){var c=o.substr(u,7);u!=o.length-7&&(c="1"+c),i+=e(parseInt(c,2))}return i};KJUR.bw.Bw.Dm.constructor.call(this),this.nT="06",this.ET=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.PT=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",r=t.split("."),o=40*parseInt(r[0])+parseInt(r[1]);n+=e(o),r.splice(0,2);for(var s=0;s<r.length;s++)n+=i(r[s]);this.tT=null,this.eT=!0,this.ny=null,this.Zw=n},this.AT=function(t){if(void 0===KJUR.bw.x509.NT.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.bw.x509.NT.name2oidList[t];this.PT(e)},this.iT=function(){return this.Zw},void 0!==t&&("string"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.PT(t):void 0!==KJUR.bw.x509.NT.name2oidList[t]?this.PT(KJUR.bw.x509.NT.name2oidList[t]):void 0!==t.oid?this.PT(t.oid):void 0!==t.pT?this.ET(t.pT):void 0!==t.name&&this.AT(t.name))},Et.lang.extend(KJUR.bw.Bw,KJUR.bw.Yw),KJUR.bw.Fw=function(t){KJUR.bw.Fw.Dm.constructor.call(this),this.nT="0a",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new n(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},void 0!==t&&(void 0!==t.int?this.bT(t.int):"number"==typeof t?this.bT(t):void 0!==t.pT&&this.ET(t.pT))},Et.lang.extend(KJUR.bw.Fw,KJUR.bw.Yw),KJUR.bw._w=function(t){KJUR.bw._w.Dm.constructor.call(this,t),this.nT="0c"},Et.lang.extend(KJUR.bw._w,KJUR.bw.sT),KJUR.bw.Dw=function(t){KJUR.bw.Dw.Dm.constructor.call(this,t),this.nT="12"},Et.lang.extend(KJUR.bw.Dw,KJUR.bw.sT),KJUR.bw.Hw=function(t){KJUR.bw.Hw.Dm.constructor.call(this,t),this.nT="13"},Et.lang.extend(KJUR.bw.Hw,KJUR.bw.sT),KJUR.bw.Lw=function(t){KJUR.bw.Lw.Dm.constructor.call(this,t),this.nT="14"},Et.lang.extend(KJUR.bw.Lw,KJUR.bw.sT),KJUR.bw.Mw=function(t){KJUR.bw.Mw.Dm.constructor.call(this,t),this.nT="16"},Et.lang.extend(KJUR.bw.Mw,KJUR.bw.sT),KJUR.bw.jw=function(t){KJUR.bw.jw.Dm.constructor.call(this,t),this.nT="17",this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)},this.iT=function(){return void 0===this.xT&&void 0===this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT))},Et.lang.extend(KJUR.bw.jw,KJUR.bw.uT),KJUR.bw.Uw=function(t){KJUR.bw.Uw.Dm.constructor.call(this,t),this.nT="18",this.BT=!1,this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)},this.iT=function(){return void 0===this.xT&&void 0===this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT),!0===t.millis&&(this.BT=!0))},Et.lang.extend(KJUR.bw.Uw,KJUR.bw.uT),KJUR.bw.Vw=function(t){KJUR.bw.Vw.Dm.constructor.call(this,t),this.nT="30",this.iT=function(){for(var t="",e=0;e<this.wT.length;e++){t+=this.wT[e].zw()}return this.Zw=t,this.Zw}},Et.lang.extend(KJUR.bw.Vw,KJUR.bw.yT),KJUR.bw.Qw=function(t){KJUR.bw.Qw.Dm.constructor.call(this,t),this.nT="31",this.FT=!0,this.iT=function(){for(var t=new Array,e=0;e<this.wT.length;e++){var n=this.wT[e];t.push(n.zw())}return 1==this.FT&&t.sort(),this.Zw=t.join(""),this.Zw},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.FT=!1)},Et.lang.extend(KJUR.bw.Qw,KJUR.bw.yT),KJUR.bw.qw=function(t){KJUR.bw.qw.Dm.constructor.call(this),this.nT="a0",this.Zw="",this._T=!0,this.DT=null,this.HT=function(t,e,n){this.nT=e,this._T=t,this.DT=n,this._T?(this.Zw=this.DT.zw(),this.tT=null,this.eT=!0):(this.Zw=null,this.tT=n.zw(),this.tT=this.tT.replace(/^../,e),this.eT=!1)},this.iT=function(){return this.Zw},void 0!==t&&(void 0!==t.tag&&(this.nT=t.tag),void 0!==t.Jw&&(this._T=t.Jw),void 0!==t.Kw&&(this.DT=t.Kw,this.HT(this._T,this.nT,this.DT)))},Et.lang.extend(KJUR.bw.qw,KJUR.bw.Yw);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pt="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.Wy=new function(){this.tm={sha1:"3021300906052b0e03021a05000414",LT:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",MT:"3041300d060960864801650304020205000430",jT:"3051300d060960864801650304020305000440",UT:"3020300c06082a864886f70d020205000410",VT:"3020300c06082a864886f70d020505000410",QT:"3021300906052b2403020105000414"},this.qT={VT:"cryptojs",sha1:"cryptojs",LT:"cryptojs",sha256:"cryptojs",MT:"cryptojs",jT:"cryptojs",QT:"cryptojs",JT:"cryptojs",KT:"cryptojs",GT:"cryptojs",zT:"cryptojs",WT:"cryptojs",$T:"cryptojs",YT:"cryptojs",XT:"cryptojs/jsrsa",ZT:"cryptojs/jsrsa",tS:"cryptojs/jsrsa",eS:"cryptojs/jsrsa",iS:"cryptojs/jsrsa",rS:"cryptojs/jsrsa",nS:"cryptojs/jsrsa",oS:"cryptojs/jsrsa",sS:"cryptojs/jsrsa",aS:"cryptojs/jsrsa",cS:"cryptojs/jsrsa",hS:"cryptojs/jsrsa",pS:"cryptojs/jsrsa",uS:"cryptojs/jsrsa",lS:"cryptojs/jsrsa",dS:"cryptojs/jsrsa",fS:"cryptojs/jsrsa",gS:"cryptojs/jsrsa",vS:"cryptojs/jsrsa",yS:"cryptojs/jsrsa",mS:"cryptojs/jsrsa",wS:"cryptojs/jsrsa",TS:"cryptojs/jsrsa",SS:"cryptojs/jsrsa"},this.bS={VT:Ot.vw.yw,sha1:Ot.vw.Tw,LT:Ot.vw.SHA224,sha256:Ot.vw.SHA256,MT:Ot.vw.SHA384,jT:Ot.vw.SHA512,QT:Ot.vw.RIPEMD160},this.ES=function(t,e){if(void 0===this.tm[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.tm[e]+t},this.Yy=function(t,e,n){var i=this.ES(t,e),r=n/4;if(i.length+22>r)throw"key is too short for SigAlg: keylen="+n+","+e;for(var o="0001",s="00"+i,a="",u=r-o.length-s.length,c=0;c<u;c+=2)a+="ff";return o+a+s},this.zy=function(t,e){return new KJUR.crypto.IS({RS:e}).kS(t)},this.Xy=function(t,e){return new KJUR.crypto.IS({RS:e}).CS(t)},this.sha1=function(t){return new KJUR.crypto.IS({RS:"sha1",OS:"cryptojs"}).kS(t)},this.sha256=function(t){return new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"}).kS(t)},this.PS=function(t){return new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"}).CS(t)},this.jT=function(t){return new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"}).kS(t)},this.NS=function(t){return new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"}).CS(t)},this.VT=function(t){return new KJUR.crypto.IS({RS:"md5",OS:"cryptojs"}).kS(t)},this.QT=function(t){return new KJUR.crypto.IS({RS:"ripemd160",OS:"cryptojs"}).kS(t)},this.xS=function(t){}},KJUR.crypto.IS=function(t){this.BS=function(t,e){if(null!=t&&void 0===e&&(e=KJUR.crypto.Wy.qT[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.FS=KJUR.crypto.Wy.bS[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=Ot.Ym.Xm.parse(t);this.FS.update(e)},this.digest=function(){return this.FS.lw().toString(Ot.Ym.Xm)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.FS=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=sjcl.codec.pT.toBits(t);this.FS.update(e)},this.digest=function(){var t=this.FS.lw();return sjcl.codec.pT.fromBits(t)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.HS+"/"+this.LS},this.kS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.CS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},void 0!==t&&void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS))},KJUR.crypto.MS=function(t){this.BS=function(t,e){if(t=t.toLowerCase(),null==t&&(t="hmacsha1"),t=t.toLowerCase(),"hmac"!=t.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=KJUR.crypto.Wy.qT[t]),this.jS=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{var i=KJUR.crypto.Wy.bS[n];this.mac=Ot.vw.HMAC.create(i,this.US)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this._S=function(t){this.mac.update(t)},this.DS=function(t){var e=Ot.Ym.Xm.parse(t);this.mac.update(e)},this.VS=function(){return this.mac.lw().toString(Ot.Ym.Xm)},this.QS=function(t){return this._S(t),this.VS()},this.qS=function(t){return this.DS(t),this.VS()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.jS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.jS},this.VS=function(){throw"digest() not supported for this alg/prov: "+this.jS},this.QS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.jS},this.qS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.jS},this.JS=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=rstrtohex(t)),void(this.US=Ot.Ym.Xm.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;var e=null;if(void 0!==t.pT){if(t.pT.length%2!=0||!t.pT.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.pT;e=t.pT}if(void 0!==t.utf8&&(e=utf8tohex(t.utf8)),void 0!==t.rstr&&(e=rstrtohex(t.rstr)),void 0!==t.b64&&(e=K(t.b64)),void 0!==t.b64u&&(e=b64utohex(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.US=Ot.Ym.Xm.parse(e)},void 0!==t&&(void 0!==t.US&&this.JS(t.US),void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS)))},KJUR.crypto.Signature=function(t){var e=null;if(this.KS=function(){this.HS.match(/^(.+)with(.+)$/)&&(this.GS=RegExp.$1.toLowerCase(),this.zS=RegExp.$2.toLowerCase())},this.WS=function(t,e){for(var n="",i=e/4-t.length,r=0;r<i;r++)n+="0";return n+t},this.BS=function(t,e){if(this.KS(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.GS)){try{this.FS=new KJUR.crypto.IS({RS:this.GS})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.GS+"/"+t}this.init=function(t,e){var n=null;try{n=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.$S=n,this.state="SIGN";else{if(!0!==n.qy)throw"init failed.:"+n;this.YS=n,this.state="VERIFY"}},this.XS=function(t){"string"==typeof t.ZS&&"string"==typeof t.tb?(this.ZS=t.ZS,this.tb=t.tb):this.$S=t,this.state="SIGN"},this.eb=function(t){"string"==typeof t.ib&&"string"==typeof t.tb?(this.ib=t.ib,this.tb=t.tb):t instanceof KJUR.crypto.ECDSA?this.YS=t:t instanceof G&&(this.YS=t),this.state="VERIFY"},this.rb=function(t){var e=new X509;e.readCertPEM(t),this.YS=e.nb,this.state="VERIFY"},this._S=function(t){this.FS._S(t)},this.DS=function(t){this.FS.DS(t)},this.sign=function(){if(this.ob=this.FS.digest(),void 0!==this.ZS&&void 0!==this.tb){var t=new KJUR.crypto.ECDSA({curve:this.tb});this.sb=t.ab(this.ob,this.ZS)}else if(this.$S instanceof G&&"rsaandmgf1"==this.zS)this.sb=this.$S.Zy(this.ob,this.GS,this.cb);else if(this.$S instanceof G&&"rsa"==this.zS)this.sb=this.$S.$y(this.ob,this.GS);else if(this.$S instanceof KJUR.crypto.ECDSA)this.sb=this.$S.$y(this.ob);else{if(!(this.$S instanceof KJUR.crypto.DSA))throw"Signature: unsupported public key alg: "+this.zS;this.sb=this.$S.$y(this.ob)}return this.sb},this.hb=function(t){return this._S(t),this.sign()},this.ab=function(t){return this.DS(t),this.sign()},this.verify=function(t){if(this.ob=this.FS.digest(),void 0!==this.ib&&void 0!==this.tb){return new KJUR.crypto.ECDSA({curve:this.tb}).verifyHex(this.ob,t,this.ib)}if(this.YS instanceof G&&"rsaandmgf1"==this.zS)return this.YS.em(this.ob,t,this.GS,this.cb);if(this.YS instanceof G&&"rsa"==this.zS)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.ECDSA)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.DSA)return this.YS.pb(this.ob,t);throw"Signature: unsupported public key alg: "+this.zS}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.ub},this.eb=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.ub},this.rb=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.ub},this.XS=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.ub},this._S=function(t){throw"updateString(str) not supported for this alg:prov="+this.ub},this.DS=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.ub},this.sign=function(){throw"sign() not supported for this alg:prov="+this.ub},this.hb=function(t){throw"digestString(str) not supported for this alg:prov="+this.ub},this.ab=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.ub},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.ub},this.lb=t,void 0!==t&&(void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS?this.LS=KJUR.crypto.Wy.qT[this.HS]:this.LS=t.OS,this.ub=this.HS+":"+this.LS,this.BS(this.HS,this.LS),this.KS()),void 0!==t.fb&&(this.cb=t.fb),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{var e=new G;e.readPrivateKeyFromPEMString(t.prvkeypem),this.XS(e)}catch(t){throw"fatal error to load pem private key: "+t}}},KJUR.crypto.NT=new function(){this.gb={vb:"rsaEncryption",yb:"ecPublicKey",mb:"dsa",wb:"secp256r1",Tb:"secp192k1",Sb:"secp224r1",bb:"secp256k1",Eb:"secp521r1",Ib:"secp384r1",Rb:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var At=20;G.prototype.Gy=Z,G.prototype.qh=X,G.prototype.encrypt=tt,G.prototype.kb=et,G.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
var Nt=new RegExp("");Nt.compile("[^0-9a-f]","gi"),G.prototype.$y=rt,G.prototype.hb=it,G.prototype.Cb=ot,G.prototype.Ob=st,G.prototype.sign=it,G.prototype.Pb=ot,G.prototype.Ab=st,G.prototype.Zy=ct,G.prototype.Nb=ut,G.prototype.xb=ut,G.Bb=-1,G.Fb=-2,G.prototype.pb=gt,G.prototype.Jh=vt,G.prototype._b=dt,G.prototype.verify=vt,G.prototype.Db=dt,G.prototype.em=mt,G.prototype.Hb=yt,G.prototype.Lb=yt,G.Mb=-2,e.jb=n,e.Mh=G,e.Signature=KJUR.crypto.Signature,e.IS=KJUR.crypto.IS,e.Ub=Ot,e.jh=K,e.Vb=q},function(t,e){"use strict";var n={};n.Qb=function(){return Math.random().toString(36).substr(2,10)},n.qb=n.Qb(),n.Jb=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},n.Kb=function(t){return t.split("\nm=").map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},n.Gb=function(t,e){return n.Jb(t).filter(function(t){return 0===t.indexOf(e)})},n.zb=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={Wb:e[0],$b:e[1],protocol:e[2].toLowerCase(),Yb:parseInt(e[3],10),Xb:e[4],port:parseInt(e[5],10),type:e[7]},i=8;i<e.length;i+=2)switch(e[i]){case"raddr":n.Zb=e[i+1];break;case"rport":n.tE=parseInt(e[i+1],10);break;case"tcptype":n.eE=e[i+1];break;default:n[e[i]]=e[i+1]}return n},n.iE=function(t){var e=[];e.push(t.Wb),e.push(t.$b),e.push(t.protocol.toUpperCase()),e.push(t.Yb),e.push(t.Xb),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.Zb&&t.tE&&(e.push("raddr"),e.push(t.Zb),e.push("rport"),e.push(t.tE)),t.eE&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.eE)),"candidate:"+e.join(" ")},n.rE=function(t){return t.substr(14).split(" ")},n.nE=function(t){var e=t.substr(9).split(" "),n={oE:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.sE=parseInt(e[1],10),n.aE=3===e.length?parseInt(e[2],10):1,n},n.cE=function(t){var e=t.oE;return void 0!==t.hE&&(e=t.hE),"a=rtpmap:"+e+" "+t.name+"/"+t.sE+(1!==t.aE?"/"+t.aE:"")+"\r\n"},n.pE=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},n.uE=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},n.lE=function(t){for(var e,n={},i=t.substr(t.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)e=i[r].trim().split("="),n[e[0].trim()]=e[1];return n},n.dE=function(t){var e="",n=t.oE;if(void 0!==t.hE&&(n=t.hE),t.parameters&&Object.keys(t.parameters).length){var i=[];Object.keys(t.parameters).forEach(function(e){i.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return e},n.fE=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),gE:e.join(" ")}},n.vE=function(t){var e="",n=t.oE;return void 0!==t.hE&&(n=t.hE),t.yE&&t.yE.length&&t.yE.forEach(function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.gE&&t.gE.length?" "+t.gE:"")+"\r\n"}),e},n.mE=function(t){var e=t.indexOf(" "),n={wE:parseInt(t.substr(7,e-7),10)},i=t.indexOf(":",e);return i>-1?(n.TE=t.substr(e+1,i-e-1),n.value=t.substr(i+1)):n.TE=t.substr(e+1),n},n.SE=function(t){var e=n.Gb(t,"a=mid:")[0];if(e)return e.substr(6)},n.bE=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},n.EE=function(t,e){return{IE:"auto",RE:n.Gb(t+e,"a=fingerprint:").map(n.bE)}},n.kE=function(t,e){var n="a=setup:"+e+"\r\n";return t.RE.forEach(function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},n.CE=function(t,e){var i=n.Jb(t);return i=i.concat(n.Jb(e)),{OE:i.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:i.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)}},n.PE=function(t){return"a=ice-ufrag:"+t.OE+"\r\na=ice-pwd:"+t.password+"\r\n"},n.AE=function(t){for(var e={NE:[],xE:[],BE:[],FE:[]},i=n.Jb(t),r=i[0].split(" "),o=3;o<r.length;o++){var s=r[o],a=n.Gb(t,"a=rtpmap:"+s+" ")[0];if(a){var u=n.nE(a),c=n.Gb(t,"a=fmtp:"+s+" ");switch(u.parameters=c.length?n.lE(c[0]):{},u.yE=n.Gb(t,"a=rtcp-fb:"+s+" ").map(n.fE),e.NE.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":e.BE.push(u.name.toUpperCase())}}}return n.Gb(t,"a=extmap:").forEach(function(t){e.xE.push(n.pE(t))}),e},n._E=function(t,e){var i="";i+="m="+t+" ",i+=e.NE.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=e.NE.map(function(t){return void 0!==t.hE?t.hE:t.oE}).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.NE.forEach(function(t){i+=n.cE(t),i+=n.dE(t),i+=n.vE(t)});var r=0;return e.NE.forEach(function(t){t.DE>r&&(r=t.DE)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),i+="a=rtcp-mux\r\n",e.xE.forEach(function(t){i+=n.uE(t)}),i},n.HE=function(t){var e,i=[],r=n.AE(t),o=-1!==r.BE.indexOf("RED"),s=-1!==r.BE.indexOf("ULPFEC"),a=n.Gb(t,"a=ssrc:").map(function(t){return n.mE(t)}).filter(function(t){return"cname"===t.TE}),u=a.length>0&&a[0].wE,c=n.Gb(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});c.length>0&&c[0].length>1&&c[0][0]===u&&(e=c[0][1]),r.NE.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var n={wE:u,LE:parseInt(t.parameters.apt,10),ME:{wE:e}};i.push(n),o&&(n=JSON.parse(JSON.stringify(n)),n.jE={wE:e,UE:s?"red+ulpfec":"red"},i.push(n))}}),0===i.length&&u&&i.push({wE:u});var h=n.Gb(t,"b=");return h.length&&(0===h[0].indexOf("b=TIAS:")?h=parseInt(h[0].substr(7),10):0===h[0].indexOf("b=AS:")&&(h=parseInt(h[0].substr(5),10)),i.forEach(function(t){t.VE=h})),i},n.QE=function(t){var e={},i=n.Gb(t,"a=ssrc:").map(function(t){return n.mE(t)}).filter(function(t){return"cname"===t.TE})[0];i&&(e.qE=i.value,e.wE=i.wE);var r=n.Gb(t,"a=rtcp-rsize");e.JE=r.length>0,e.KE=0===r.length;var o=n.Gb(t,"a=rtcp-mux");return e.GE=o.length>0,e},n.zE=function(t){var e,i=n.Gb(t,"a=msid:");if(1===i.length)return e=i[0].substr(7).split(" "),{stream:e[0],track:e[1]};var r=n.Gb(t,"a=ssrc:").map(function(t){return n.mE(t)}).filter(function(t){return"msid"===t.TE});return r.length>0?(e=r[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},n.WE=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.$E=function(t,e,i,r){var o=n._E(t.kind,e);if(o+=n.PE(t.YE.getLocalParameters()),o+=n.kE(t.XE.getLocalParameters(),"offer"===i?"actpass":"active"),o+="a=mid:"+t.ZE+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.tI&&t.eI?"a=sendrecv\r\n":t.tI?"a=sendonly\r\n":t.eI?"a=recvonly\r\n":"a=inactive\r\n",t.tI){var s="msid:"+r.id+" "+t.tI.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+t.iI[0].wE+" "+s,t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" "+s,o+="a=ssrc-group:FID "+t.iI[0].wE+" "+t.iI[0].ME.wE+"\r\n")}return o+="a=ssrc:"+t.iI[0].wE+" cname:"+n.qb+"\r\n",t.tI&&t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" cname:"+n.qb+"\r\n"),o},n.rI=function(t,e){for(var i=n.Jb(t),r=0;r<i.length;r++)switch(i[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[r].substr(2)}return e?n.rI(e):"sendrecv"},n.nI=function(t){return n.Jb(t)[0].split(" ")[0].substr(2)},n.Ut=function(t){return"0"===t.split(" ",2)[1]},t.t=n},function(t,e,n){"use strict";var i=n(1),r=n(10),o=function(){function t(t,e){this.msg=t,this.oI=Date.now()+e,this.sI=i.defer()}return t.prototype.aI=function(){return Date.now()>=this.oI},t}(),s=function(){function t(t,e,n,i,r,o,s){void 0===e&&(e=3e4),void 0===n&&(n=100),void 0===i&&(i=3e4),void 0===r&&(r=15e3),void 0===o&&(o=Date),void 0===s&&(s=!1),this.cI=1,this.hI=-1,this.pI=-1,this.uI={},this.lI=[],this.dI=[],this.fI=!1,this.gI=!0,this.vI=t,this.yI=Array(),this.Ao=e,this.No=n,this.xo=i,this.mI=r,this.wI=o,this.fI=s||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return t.prototype.Et=function(t){var e=t.service+"_"+t.msgId,n=this.uI[e];null!=n?n(t):r.m().error(r.u+"Could not find a dispatcher for ",t,e,this.uI)},t.prototype.on=function(t,e,n){this.uI[t+"_"+e]=n},t.prototype.onerror=function(t){this.lI.push(t)},t.prototype.TI=function(t){this.dI.push(t)},t.prototype.SI=function(){var t=this;if(!window.WebSocket)return void this.lI.forEach(function(t){return t("WebSocket not defined")});var e=new WebSocket(this.vI);return e.binaryType="arraybuffer",e.onopen=function(e){t.bI(),r.m().debug(r.u+"HiveServicesConnection established to "+t.vI),t.pI=(new t.wI).getTime(),t.EI(),t.dI.forEach(function(e){return e(t)}),t.II(),t.RI()},e.onclose=function(e){t.close(t.gI),t.connect()},e.onmessage=function(e){t.Et(r.Zn.wo(e.data))},e.onerror=function(e){t.close(!0),t.lI.forEach(function(t){return t(e.toString())})},e},t.prototype.isOpen=function(){return null!=this.Op&&this.Op.readyState==this.Op.OPEN},t.prototype.connect=function(t){var e=this;t&&(this.gI=!0),this.gI&&1!=this.isOpen()&&(this.hI>0||(this.pI>-1&&(new this.wI).getTime()-this.pI>this.Ao?(this.cI=r.ke.yo,this.pI=-1):this.cI=Math.min(2*this.cI,this.Ao),this.hI=window.setTimeout(function(){e.hI=-1,r.m().debug(r.u+"Connection attempt to "+e.vI+" [t:"+e.cI+" hb:"+e.fI+"]"),e.Op=e.SI(),e.cI=Math.max(e.cI,r.ke.yo)},this.cI)))},t.prototype.bI=function(){this.hI>-1&&(clearTimeout(this.hI),this.hI=-1)},t.prototype.close=function(t){this.gI=void 0!=t&&t,r.m().debug(r.u+"Closing connection [reconnect:"+this.gI+"]"),this.bI(),null!=this.Op&&(this.Op.close(),this.Op=null)},t.prototype.EI=function(){for(;this.yI.length>0;){var t=this.yI.pop();try{t.aI()?t.sI.reject(new Error("Message expired")):(this.II(),this.Op.send(t.msg.mo()))}catch(e){if(e.code===DOMException.INVALID_STATE_ERR){this.yI.push(t);break}r.m().error(r.u+"Failed to send the message, dropped: ",e.code,e.name),t.sI.reject(e)}}this.RI()},t.prototype.II=function(){this.kI&&(clearTimeout(this.kI),this.kI=null)},t.prototype.RI=function(){var t=this;this.fI&&!this.kI&&(this.kI=window.setInterval(function(){t.send(new r.Zn(Services.Cf,0,""))},this.mI))},t.prototype.send=function(t,e){if(void 0===e&&(e=this.xo),this.yI.length>=this.No)throw new Error("HiveServices connection cannot queue more messages");var n=new o(t,e);return this.yI.push(n),this.Op&&this.EI(),n.sI.vt},t.prototype.CI=function(t){this.fI=t,this.fI&&this.RI()},t.prototype.OI=function(){return null!=this.Op},t}();e.AI=s},function(t,e,n){"use strict";var i=n(15),r=n(38),o=n(24),s=n(2),a=function(){function t(){}return t.prototype.apply=function(t){t.bind(new i.ns(s.Framework.Fe.me,r.NI,i.ss.ls)),t.bind(new i.ns(s.Framework.Fe.we,o.El.bl))},t}();e.Td=a},function(t,e){"use strict";var n=function(){function t(){"undefined"!=typeof global?this.xI=global:this.xI=window}return t.prototype.Ct=function(){return!1},t.prototype.BI=function(t,e,n){},t.prototype.be=function(){},t.prototype.time=function(){return+new Date},t.prototype.setTimeout=function(t,e){return this.xI.setTimeout(function(){t()},e)},t.prototype.clearTimeout=function(t){return this.xI.clearTimeout(t),!0},t.prototype.setInterval=function(t,e){return this.xI.setInterval(function(){t()},e)},t.prototype.clearInterval=function(t){return this.xI.clearInterval(t),!0},t}();e.NI=n},function(t,e){"use strict";var n=function(){function t(t,e){this.Uo=t,this.Vo=e}return t.prototype.Wo=function(){return this.Uo},t.prototype.$o=function(){return this.Vo?this.Vo:this.Uo},t}();e.FI=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(8),o=r.pt.Ir.Ir,s=r.pt.Ir.kr;!function(t){!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.authTokenEnabled=!0,e.dashRemoveBitrateSize=!1,e.dashFilterBitrates=null,e.logJsonSnapshots=void 0,e}return i(e,t),e}(o);t.Fl=e;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hiveAuthTokenEnabled="authTokenEnabled",e.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",e.hiveDashFilterBitrates="dashFilterBitrates",e.hiveLogJsonSnapshots="logJsonSnapshots",e}return i(e,t),e}(s);t.Dl=n}(t.Ir||(t.Ir={}))}(e.pt||(e.pt={}));var a=function(){function t(){}return t.Hl=function(t){"dashRemoveBitrateSize"in t&&t.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=t.dashRemoveBitrateSize),"dashFilterBitrates"in t&&t.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=t.dashFilterBitrates),"logJsonSnapshots"in t&&t.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.gl=1)},t}();e.Ll=a},function(t,e){"use strict";var n=function(){function t(){var e=this;if(this._I=new Array,this.callbacks=new Array,t.Gi)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var n={};document.addEventListener("keydown",function(t){n[t.keyCode]=!0,e.DI(n)},!0),document.addEventListener("keyup",function(t){n={}},!0)}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Dh=function(t,e){this._I.push(t),this.callbacks.push(e)},t.prototype.DI=function(t){for(var e=this,n=0;n<this._I.length;n++)!function(n){var i=!0;e._I[n].forEach(function(e){void 0!=t[e]&&t[e]||(i=!1)}),i&&e.callbacks[n]()}(n)},t}();e.Hh=n},function(t,e,n){"use strict";var i=n(12),r=n(18),o=n(7),s=function(){function t(t){this.HI=r.ke.yr?9989:9988,this.LI=-1,this.MI=t,this.jI()}return t.prototype.jI=function(){var t=this;this.MI.options().silent&&void 0===this.UI&&(this.url="//"+i.wr.To+":"+this.HI+"/feedback",this.MI.m().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.UI=setInterval(function(){t.VI()},r.ke.Nh))},t.prototype.VI=function(){var t=this,e=this.MI.getCurrentTime();e>this.LI?(this.MI.m().info("sending hive tester ping ["+e+" > "+this.LI+"]"),o.Zi(this.url).then(function(t){},function(e){t.MI.m().error("error sending hive tester ping",e),clearInterval(t.UI)})):this.MI.m().warn("not sending hive tester ping ["+e+" <= "+this.LI+"]"),this.LI=e},t}();e.Ul=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(7),s=n(8),a=n(44),u=n(17),c=n(12),h=n(14),p=n(9),l=n(20),f=n(19),d=a.pt.Ir,v=s.pt.Ir.kr,g=u.pt.HiveTechError,y=u.pt.bh,m=n(28);e.QI=navigator;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Bi),w=function(){function t(t,e){this.qI=0,this.MI=t,this.options_=new d.JI,this.KI(e),o.or(window.location.href,new v,this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return this.version},t.prototype.Wl=function(){return!1},t.prototype.GI=function(){var t=this;if(null==this.zI||Date.now()-this.qI>1e4){var e=new m;e.In(navigator.userAgent);var n=e.$d();if("IE"===n.name&&n.version&&parseInt(n.version)<10)return r.reject(new g(y.yh,"Internet Explorer < v.10 not supported"));this.WI=Date.now(),this.$I=0;var i="//"+c.wr.To+":"+this.MI.options().monitorPort+"/version.json";this.m().debug(this.id()+"verifying Hive Client version"),this.zI=o.Zi(i).then(function(e){var n=JSON.parse(e);return t.state=n.state,t.version=n.version,"ready"===t.state?"developer"===t.version||t.version>=t.options_.minVersion?(t.$I=Date.now(),t.m().debug(t.id()+"Hive Client ready - version "+t.version+" ["+(t.$I-t.WI)+"]"),"ready"):(f.ErrorMonitor.Wi()._h(t.id()+"Client version requirement not satisfied: "+t.version+" < "+t.options_.minVersion),t.MI.ed(new p.F.uo(null,p.F.Gr.Qr)),r.reject(new g(y.Th,"version "+t.version))):(f.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new p.F.uo(null,p.F.Gr.Vr)),r.reject(new g(y.yh,"state "+t.state)))},function(e){var n="Client not reachable";return void 0!=e&&void 0!=e.status&&-1!=e.status&&(n="Client check returned "+e.status),f.ErrorMonitor.Wi()._h(t.id()+n),t.MI.ed(new p.F.uo(null,p.F.Gr.Ur)),r.reject(new g(y.yh,n))}).catch(function(e){if(e instanceof g)return r.reject(e);var n="Error fetching Hive Client version: "+e;return f.ErrorMonitor.Wi()._h(t.id()+n),r.reject(new g(y.yh,n))}),this.qI=Date.now()}return this.zI},t.prototype.initSession=function(t,e){var n=this;return this.options_.minVersion!=c.wr.Io?this.GI().then(function(){return n.YI(t).catch(function(t){return r.reject(t)})}):this.YI(t).catch(function(t){return r.reject(t)})},t.prototype.Yl=function(){return this.options_.initTimeout},t.prototype.st=function(t,e){return t.indexOf(e.XI)>-1},t.prototype.Pi=function(t,n){var i=this;this.m().debug(this.id()+"Stopping session "+t.id+" [complete close:"+n+"]");var r="//"+c.wr.To+":"+this.MI.options().playerPort+"/session?action=stop";r+="&currentSession="+t.id,n&&(r+="&completeStop=true"),n&&e.QI.sendBeacon?(e.QI.sendBeacon(r),this.m().debug(this.id()+"session stopped ["+t.id+"][beacon]")):o.Zi(r,null,!n).then(function(){i.m().debug(i.id()+"session stopped ["+t.id+"]"+(n?"[sync]":""))},function(e){i.m().warn(i.id()+"session close error ["+t.id+"]"+(n?"[sync]":""),e)})},t.prototype.Ci=function(t,e){this.ZI=e?h.Fo.IDLE:h.Fo.Bo,this.m().notice("[HiveComm] client state: "+h.Fo[this.ZI])},t.prototype.fd=function(t,e){if(this.ZI==h.Fo.IDLE)return r.resolve(!0);var n="playing-point="+e.lr;n+="&buffer-length="+e.dr,n+="&total-buffering="+e.gr,n+="&width="+e.width,n+="&height="+e.height,n+="&fullscreen="+e.dd;var i=t.XI+"stats?"+n;return this.m().trace(i),o.Zi(i)},t.prototype.yd=function(t,e,n){var i=this;if(!(e!==p.F.B.jr&&e!==p.F.B.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return r.resolve(!0);var s=t.XI+"player-event?type="+p.F.B[e];if(void 0!=n)for(var a in n)s+="&"+a+"="+n[a];return this.m().debug(this.id()+"event "+p.F.B[e],void 0!=n?n:""),o.Zi(s).fail(function(t){return i.m().warn(i.id()+"error sending feedback event to Hive Client",t),r.reject(t)})},t.prototype.wn=function(t,e){return r.resolve(!0)},t.prototype.hn=function(t){var e=this;if(this.tR())return this.m().warn("Player info not supported in this Java client version"),r.resolve(!0);var n="comm-version="+this.MI.ct();n+="&plugin-name="+this.MI.T(),n+="&plugin-version="+this.MI.I(),n+="&player-tech="+this.MI.ht(),n+="&player-version="+this.MI.q(),this.MI.td()&&(n+="&telemetry-id="+this.MI.td());var i=t.XI+"player-info?"+n;return o.Zi(i).fail(function(t){return e.m().debug(e.id()+"error sending player Info to Hive Client",t),r.reject(t)})},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options_.onError)try{e=this.options_.onError(t)}catch(t){f.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onError callback: "+t)}return e},t.prototype.Zl=function(t,e,n){var i={isReadyIn:this.WI,isReadyOut:this.$I,leaseIn:this.eR,leaseOut:this.iR,resolveIn:this.rR,resolveOut:this.nR};void 0!==e&&null!=e&&(i.sessionId=e.id),void 0!==n&&(i.total=n);var r=JSON.parse(JSON.stringify(i));f.ErrorMonitor.Wi()._h(t.message,r),this.MI.ed(new p.F.uo(null,p.F.Gr.Kr,i)),this.oR()},t.prototype.onActiveSession=function(t){if(this.hn(t),o.ar.setItem("hiveActiveSessionId",t.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.g())}catch(t){f.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onActiveSession callback: "+t)}},t.prototype.ql=function(t){this.MI=t},t.prototype.id=function(){return"["+t.Jl+"] "},t.prototype.KI=function(e){void 0!=e[t.Jl]&&o.nr(e[t.Jl],this.options_)},t.prototype.YI=function(t){var e=this,n=(new Date).getTime();return this.sR(t).then(function(i){return i?e.aR(t,i,n):e.p(t).then(function(i){return e.aR(t,i,n)})})},t.prototype.sR=function(e){var n=this;if(this.eR=Date.now(),this.MI.options().useSessionCheck){var i="//"+c.wr.To+":"+this.MI.options().playerPort+"/session?&action=check";i+="&hivePluginId="+this.MI.S(),i+="&callback="+e;var s=o.ar.getItem("hiveActiveSessionId");return o.ar.removeItem("hiveActiveSessionId"),s&&(i+="&currentSession="+s),this.cR(),o.Zi(i).then(function(t){return n.iR=Date.now(),t?n.hR(t,i,e,n.eR):(n.m().debug(n.id()+"session allowed ["+(n.iR-n.eR)+"]"),!1)},function(e){if(400==e.status)return n.pR("bad request","error resolving ticket",e);if(401==e.status)return n.pR("unauthorized","error verifying the ticket",e);if(403==e.status){var i=t.uR(e,void 0,"session"),o=i?{lR:i}:void 0;return f.ErrorMonitor.Wi()._h(n.id()+"reports another active session",o),n.MI.ed(new p.F.uo(null,p.F.Gr.qr,o)),r.reject(new g(y.wh,"another active session"+(o?" ["+o.lR+"]":"")))}return 404==e.status?(n.m().debug(n.id()+"installed version does not support active session check"),n.iR=Date.now(),!1):-1==e.status?(clearTimeout(n.dR),n.fR()):(f.ErrorMonitor.Wi()._h(n.id()+" unhandled error from Java",{error:e.status}),n.MI.ed(new p.F.uo(null,p.F.Gr.Jr)),r.reject(new g(y.mh,e)))}).catch(function(t){return t instanceof g?r.reject(t):(f.ErrorMonitor.Wi()._h(n.id()+" unhandled error on requestLeaseDirect",{error:t}),n.MI.ed(new p.F.uo(null,p.F.Gr.Jr)),r.reject(new g(y.mh,t)))}).finally(function(){clearTimeout(n.dR)})}return this.m().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),r.resolve(!1)},t.prototype.pR=function(e,n,i){var o=t.uR(i,e);return f.ErrorMonitor.Wi()._h(""+this.id()+n),this.nR=Date.now(),r.reject(new g(y.ph,o))},t.uR=function(t,e,n){void 0===n&&(n="status");var i=e;if(t.body)try{i=JSON.parse(t.body)[n]}catch(t){}return i},t.prototype.p=function(t){var e=this;this.rR=Date.now(),this.m().debug(this.id()+"resolving ticket: "+t);var n=this.gR(t);return o.Zi(n,"application/json").then(function(i){return e.hR(i,n,t,e.rR)},function(n){return n&&-1==n.status?e.fR():(f.ErrorMonitor.Wi()._h(e.id()+"error resolving ticket",{ticket:t}),r.reject(new g(y.ph,n)))}).catch(function(t){return f.ErrorMonitor.Wi()._h(e.id()+"error parsing ticket response: "+t),r.reject(new g(y.mh,t))})},t.prototype.hR=function(t,e,n,i){var r=JSON.parse(t),s=o.ir(e,r.location);return r.version&&!this.version&&(this.version=r.version),this.nR=Date.now(),this.m().debug(this.id()+"resolved ticket "+n+" -> "+s+" ["+(this.nR-i)+"]"),s},t.prototype.aR=function(t,e,n){var i=this.vR(t,e);if(null!=i){var r=(new Date).getTime(),s=r-n;return s>=this.options_.warnSlowRespTimeout&&this.Zl(new g(y.Sh,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),i,s),o.HiveRequestFactory.bi(i.id,this.Ai()),i}throw new g(y.ph,"error generating session")},t.prototype.vR=function(t,e){var n=new l.ap;n.Kh(t);var i=new b(t,n,e,null);i.yR=!0;var r=c.wr.Eo,o=r.exec(i.manifest);return null!=o?(i.XI=o[1],i.id=o[5],i):null},t.prototype.gR=function(t){var e=-1==t.indexOf("?")?"?":"&";return this.tR()?o.rr(c.wr.bo,c.wr.To,this.MI.options().playerPort,t):o.rr(c.wr.So,c.wr.To,this.MI.options().playerPort,t,e,this.MI.S())},t.prototype.cR=function(){var t=this;this.dR&&clearTimeout(this.dR),this.dR=setTimeout(function(){f.ErrorMonitor.Wi()._h(t.id()+" The Lease Request is taking more than "+t.options_.warnSlowRespTimeout+" secs")},this.options_.warnSlowRespTimeout)},t.prototype.oR=function(){this.eR=0,this.iR=0,this.rR=0,this.nR=0},t.prototype.m=function(){return this.MI.m()},t.prototype.zl=function(){this.oR()},t.prototype.fR=function(){var t=this,e="//"+c.wr.To+":"+this.MI.options().monitorPort+"/version.json";return this.m().debug(this.id()+"checking if the monitor port is reachable"),o.Zi(e).then(function(e){var n=JSON.parse(e);throw t.state=n.state,f.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new p.F.uo(null,p.F.Gr.Vr)),new g(y.yh,"state "+t.state)}).fail(function(e){if(e instanceof g)return r.reject(e);if(e&&-1==e.status){var n="client not reachable";return t.MI.ed(new p.F.uo(null,p.F.Gr.Ur)),t.m().warn(t.id()+n),r.reject(new g(y.yh,n))}var n="VerifyClientState error";return f.ErrorMonitor.Wi()._h(t.id()+n,{error:e}),t.MI.ed(new p.F.uo(null,p.F.Gr.Vr)),r.reject(new g(y.mh,n))})},t.prototype.tR=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},t}();w.Jl="HiveJava",e.HiveJava=w},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(8),o=n(12);!function(t){!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minVersion=o.wr.Io,e.initTimeout=6e4,e.warnSlowRespTimeout=5e3,e.supportLegacyClient=!1,e}return i(e,t),e}(r.pt.Ir.Rr);t.JI=e}(t.Ir||(t.Ir={}))}(e.pt||(e.pt={}))},function(t,e){"use strict";var n=function(){function t(){}return t}();n.To="127.0.0.1",n.Od=11983,n.So="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",n.mR="//{0}:{1}/proxy/{2}/session?manifest={3}",n.kd="//{0}:{1}/proxy/{2}/player?req={3}",n.wR="//{0}:{1}/proxy/{2}/info?{3}",e.Cd=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(26),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.bi=function(t,n){e.TR[n]=t},e.SR=function(t,n){e.bR[n]=t},e.prototype.send=function(){if(!this.sessionId){var t=Object.keys(e.bR);t.length>0&&(this.sessionId=e.bR[t[0]])}var n=e.TR[this.sessionId],i=e.bR[this.sessionId];i.m().debug("Intercepted Manifest Request "+this.url),n.setManifestRequest(this),i.R(this.url)},e.prototype.ER=function(){var t=this,e=new XMLHttpRequest;e.open("GET",this.url),e.onreadystatechange=function(){4===e.readyState&&(t.response=e.responseText,t.responseText=e.responseText,t.readyState=4,t.status=e.status,t.onreadystatechange(),t.onload(),console.debug("Returned Manifest Request "+t.url))},e.send()},e.prototype.IR=function(){t.prototype.send.call(this)},e}(r.Ti);o.bR={},o.TR={},e.Si=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(8);!function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.pt.Ir.Rr);t.RR=e}(t.Ir||(t.Ir={}))}(e.pt||(e.pt={}))},function(t,e,n){"use strict";var i=n(1),r=n(7),o=n(47),s=o.pt.Ir.RR,a=n(14),u=n(59),c=n(19),h=function(){function t(e,n){this.MI=e,this.options_=new s,void 0!==n[t.Jl]&&r.nr(n[t.Jl],this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return null},t.prototype.Wl=function(){return!0},t.prototype.GI=function(){return i.resolve(!0)},t.prototype.initSession=function(t,e){var n=this.vR(t,e.ticket,e.ticket.tp(),e);return r.HiveRequestFactory.bi(n.id,this.Ai()),i.resolve(n)},t.prototype.Yl=function(){return this.options().initTimeout},t.prototype.st=function(t,e){var n=e.manifest.toLowerCase().indexOf("/manifest");if(n>-1){var i=e.manifest.substring(0,n);if(t.indexOf(i)>-1)return!0}else if(t==e.manifest)return!0;return!1},t.prototype.Pi=function(t){t.Ri&&(this.MI.m().debug("[StatsJS] stopping session ["+t.id+"]"),t.Ri.Ho.reset())},t.prototype.Ci=function(t,e){var n=e?a.Fo.IDLE:a.Fo.Bo;this.MI.m().notice("[HiveComm] client state: "+a.Fo[n]),t.Ri&&t.Ri.Ci(n)},t.prototype.fd=function(t,e){var n=this,r=0;return this.kR<e.gr&&(r=e.gr-this.kR,this.kR=e.gr),t.Ni().then(function(){t.Ri.Do.CR(r,e.dr),t.Ri.Qn.vn(e.lr,e.dr,e.gr),n.OR()}).done(),i.resolve(!0)},t.prototype.yd=function(t,e,n){return t.Ni().then(function(){t.Ri.Qn.mn(t.ticket.sessionId,e,n)}).done(),i.resolve(!0)},t.prototype.wn=function(t,e){return t.Ni().then(function(){t.Ri.Qn.Tn([e])}).done(),i.resolve(!0)},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options().onError)try{e=this.options().onError(t)}catch(t){c.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onError callback: "+t)}return e},t.prototype.onActiveSession=function(t){var e=this;this.PR(),t.Ni().then(function(n){e.AR=n;var i=new u.NR(e.MI.isLive(),e.MI.$(),t.ticket.tp());e.AR.xR=i,e.AR.Do.xR=i,e.MI.hn(e.AR),e.AR.Ho.init(e.AR.Do,null),e.AR.Qn.wi(t.ticket.sessionId,e.MI.it(),200);var r=e.MI.rd();if(r&&r.length>0&&e.AR.Qn.Tn(r),void 0!=e.options_.onActiveSession)try{e.options_.onActiveSession(t.g())}catch(t){c.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onActiveSession callback: "+t)}}).done()},t.prototype.Zl=function(){},t.prototype.zl=function(){},t.prototype.ql=function(t){this.MI=t},t.prototype.options=function(){return this.options_},t.prototype.PR=function(){this.kR=0},t.prototype.vR=function(t,e,n,i){var o=new r.Bi(t,e,n,i);return o.yR=!1,o.id=e.sessionId,o},t.prototype.OR=function(){try{var t=this.MI.at();void 0!=t&&(this.AR.Do.BR.metrics.bitrateUpN+=t.Ji(),this.AR.Do.BR.metrics.bitrateDwnN+=t.Ki(),null!=t.Vi()&&(this.AR.Do.BR.metrics.srcThroughput=t.Vi()),null!=t.Qi()&&this.FR(!0,t.Qi()),null!=t.qi()&&this.FR(!1,t.qi()))}catch(t){c.ErrorMonitor.Wi()._h(t)}},t.prototype.FR=function(t,e){var n=this,i=0,r=0,o=0,s=0;e.forEach(function(e,a){var u=e.success+e._i;if(i+=u,s+=e.Di,r+=e.success,o+=e._i,t){var c=n.AR.Do._R(Number(a));n.DR(c,u,e.success,e._i,e.Di)}});var a=this.AR.Do.HR();this.DR(a,i,r,o,s)},t.prototype.DR=function(t,e,n,i,r){t.srcReqN+=e,t.srcRespN+=n,t.srcRespErrN+=i,t.srcRespQt+=r,t.respFallbackN+=n,t.respFallbackErrN+=i},t}();h.Jl="StatsJS",e.StatsJS=h},function(t,e){"use strict";!function(t){!function(t){t[t.HiveJS=0]="HiveJS",t[t.HiveJava=1]="HiveJava",t[t.StatsJS=2]="StatsJS",t[t.HiveJsProxy=3]="HiveJsProxy"}(t.Il||(t.Il={}))}(e.pt||(e.pt={}))},function(t,e,n){"use strict";var i=n(15),r=n(2),o=n(24),s=n(14),a=n(5),u=n(9),c=n(56),h=n(55),p=n(60),l=n(52),f=n(51);if(void 0===d)var d=!1;if(d)var v=n(53).LR;else var g=n(57).MR;var y=function(){function t(){}return t.prototype.apply=function(t){t.bind(new i.ns(a.gi.ui,s.rs,i.ss.ls)),t.bind(new i.ns(a.gi.Be,h.jR,i.ss.ls)),t.bind(new i.ns(a.gi.ai,p.UR,i.ss.ls)),t.bind(new i.ns(a.gi.Ce,l.VR,i.ss.ls)),t.bind(new i.ns(r.Framework.Fe.we,o.El.bl,i.ss.ls)),d?t.bind(new i.ns(a.gi.ci,v,i.ss.ls)):t.bind(new i.ns(a.gi.ci,g,i.ss.ls)),t.bind(new i.ns(a.gi.hi,f.QR,i.ss.ls)),t.bind(new i.ns(a.gi.li,c.Stats.zf,i.ss.Ts)),t.bind(new i.ns(a.gi.si,c.Stats.eo,i.ss.Ts)),t.bind(new i.ns(a.gi.di,u.F.Un,i.ss.Ts)),t.bind(new i.ns(a.gi.fi,u.F.eo,i.ss.Ts))},t}();e.Sd=y},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.qR=function(t){this.hostname=t},t.prototype.Fn=function(){return this.hostname},t.prototype.JR=function(t){this.KR=t},t.prototype.Nn=function(){return this.KR},t}();e.QR=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(22),s=n(2),a=n(13),u=n(39),c=function(){function t(){this.GR="IdentityStore",this.zR="IdentityDB",this.sn=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,s.Framework&&s.Framework.resolve(s.Framework.Fe.we)?this.m=s.Framework.resolve(s.Framework.Fe.we).log():this.m=console}return t.prototype.WR=function(){var t=this,e=r.defer(),n=indexedDB.open(this.zR);return n.onupgradeneeded=function(){n.result.createObjectStore(t.GR,{keyPath:"id"})},n.onsuccess=function(){var t=n.result;e.resolve(t)},n.onerror=function(t){e.reject(t)},e.vt},t.prototype.Ko=function(){var t=this;if(this.$R)return this.$R;var e=r.defer();if(this.sn)e.resolve(new u.FI(this.sn));else if(a.Kn.Ro&&this.indexedDB){var n=setTimeout(function(){t.m.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn),e.resolve(new u.FI(t.sn))},4e3);try{var i=this.WR();i.then(function(i){var r=i.transaction(t.GR,"readwrite"),o=r.objectStore(t.GR),s=o.get("MYID");s.onsuccess=function(){if(clearTimeout(n),t.sn)e.resolve(new u.FI(t.sn));else if(null!=s.result&&a.Kn.Ro){var r=s.result.value;t.m.debug("[HiveComm] Retrieved persistent UUID: "+r),t.sn=r,i.close(),e.resolve(new u.FI(t.sn))}else{var o=t.YR();t.XR(i,o),e.resolve(new u.FI(t.sn))}},s.onerror=function(i){clearTimeout(n),t.sn||(t.m.warn("[HiveComm] error retrieving persistent UUID: "+i),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new u.FI(t.sn))}}).fail(function(i){clearTimeout(n),t.sn||(t.m.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+i),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new u.FI(t.sn))})}catch(t){this.sn=this.YR(),this.m.debug("[HiveComm] Persistence error - Generate UUID: "+this.sn,t),e.resolve(new u.FI(this.sn))}}else this.sn=this.YR(),this.m.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.sn),e.resolve(new u.FI(this.sn));return this.$R=e.vt,this.$R},t.prototype.XR=function(t,e){var n=this,i=t.transaction(this.GR,"readwrite");i.objectStore(this.GR).put({id:"MYID",value:e}),i.oncomplete=function(){n.m.debug("[HiveComm] completed UUID persistence"),t.close()},this.m.debug("[HiveComm] Generated UUID: "+e),this.sn=e},t.prototype.YR=function(){return o.Zh()},t}();e.ZR=c;var h=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.Ko=function(){var e=this;if(this.tk)return this.tk;var n=r.defer();return t.prototype.Ko.call(this).then(function(t){var i=e.YR(),r=t.$o(),o=new u.FI(i,r);n.resolve(o)}).fail(function(t){var i=e.YR(),r=new u.FI(i);n.resolve(r)}),this.tk=n.vt,this.tk},e}(c);e.VR=h},function(t,e,n){"use strict";var i=n(1),r=n(2),o=function(){function t(){this.u="[PreloadConnectivityInfoProvider] ",this.connInfo=window.ek,this.m=r.Framework.resolve(r.Framework.Fe.we).log(),this.connInfo||this.m.error(this.u+" helper undefined")}return t.prototype.Pn=function(){var t=this;if(!this.connInfo)return i.reject("ConnInfo helper undefined");var e=setTimeout(function(){return t.m.warn(t.u+"Get connectivity info expired"),t.ik?i.resolve(t.ik):i.reject("expired")},2e3);try{return this.connInfo.Pn().then(function(n){return clearTimeout(e),t.ik=n,n}).fail(function(e){return t.m.debug(t.u+" get connectivity info failed with error 1: ",e),t.ik?t.ik:i.reject(e)})}catch(t){return this.m.debug(this.u+" get connectivity info failed with error 2:",t),i.reject(t)}},t.prototype.rk=function(t,e,n){},t}();e.LR=o},function(t,e,n){"use strict";var i=n(63),r=n(1),o=n(2),s=function(){function t(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.m=o.Framework.resolve(o.Framework.Fe.we).log()}return t.prototype.WR=function(){var t=r.defer(),e=this.indexedDB.open("PrivateIPDB");return e.onupgradeneeded=function(){e.result.createObjectStore("PrivateIPStore",{keyPath:"id"})},e.onsuccess=function(){var n=e.result;t.resolve(n)},e.onerror=function(e){t.reject(e)},t.vt},t.prototype.nk=function(){var t=this;if(this.sk)return this.sk;var e=setTimeout(function(){t.m.warn("Private list retrieval timeout"),n.reject("Private list timeout")},4e3),n=r.defer();return this.WR().then(function(r){var o=r.transaction("PrivateIPStore","readwrite"),s=o.objectStore("PrivateIPStore"),a=s.get("iplist");a.onsuccess=function(){clearTimeout(e);var t=[];i.ak(a.result)||i.ak(a.result.value)||(t=a.result.value.split("|")),n.resolve(t),r.close()},a.onerror=function(i){clearTimeout(e),t.m.warn("I got an error on indexed db "+i.message),n.reject("Error on indexedDB "+i.message)}}).fail(function(i){clearTimeout(e),t.m.warn("DB is not open with error"+i.message),n.reject("DB is not open with error "+i.message)}),this.sk=n.vt,this.sk},t.prototype.ck=function(t){var e=this,n=t.join("|");this.WR().then(function(i){var r=i.transaction("PrivateIPStore","readwrite");r.objectStore("PrivateIPStore").put({id:"iplist",value:n}),r.oncomplete=function(){e.m.debug("Storing site matched ips ["+t.join(",")+"]"),i.close()}}).fail(function(t){e.m.warn("DB is not open with error "+t.message)})},t}();e.hk=s},function(t,e,n){"use strict";var i=n(1),r=n(21),o=n(36),s=n(2),a=n(13),u=n(10),c=function(){function t(){this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.m.debug("INIT SERVICE CLIENT")}return t.prototype.init=function(t,e){var n=this;if(this.pk)this.pk.then(function(){var t={partnerId:e.bn(),customerId:e.En(),contentId:e.es(),secret:e.Wh()},i=new u.Zn(Services.kf,1,JSON.stringify(t));n.connection.send(i)});else{var s=i.defer(),c=a.Kn.Jn.ko;e.zh&&(this.m.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),s.reject(new Error("test ticket in production")));var h=new r(c),p=h.Eu({"connection-id":t,partner_id:e.bn(),customer_id:e.En(),content_id:e.es(),ticket:e.Wh()}).toString();this.connection=new o.AI(p,a.Kn.Jn.Ao,a.Kn.Jn.No,a.Kn.Jn.xo),this.connection.TI(function(){n.m.debug("HIVE SERVICES CONNECTED"),s.resolve(n.connection)}),this.connection.onerror(function(){n.m.warn("Hive Services Connection failed"),s.reject(n.connection)}),this.pk=s.vt}return{Yo:this.connection,vt:this.pk}},t.prototype.connect=function(){this.connection&&this.connection.connect(!0)},t.prototype.sd=function(t){},t.prototype.Xn=function(){return this.connection},t.prototype.close=function(){this.connection&&this.connection.close()},t}();e.jR=c},function(t,e,n){"use strict";var i=n(4),r=i.ve,o=n(16);n(31),n(30);var s=n(2),a=n(5),u=n(13),c=n(10),h=n(14),p=n(23);!function(t){var e="[SNAP]",n=function(){function t(){this.metrics=new hive.snapshots.Metrics,this.uk=new hive.snapshots.Traffic,this.lk=new r,this.dk=new r,this.fk=new r,this.player=new hive.snapshots.Player}return t}();t.gk=n;var i=function(){function n(){this.ticket=null,this.vk=0,this.yk=0,this.mk()}return n.prototype.init=function(t,n,i,r){this.m=s.Framework.resolve(s.Framework.Fe.we).log(r),this.tn=s.Framework.resolve(a.gi.ci),this.m.debug(e+" INIT STATS STORE - ID: "+t),this.sn=t,this.ticket=n,this.an(i)},n.prototype.wk=function(t){this.Tk=t},n.prototype.an=function(t){this.app=t},n.prototype.mk=function(){this.Sk=new t.gk,this.sn=null,this.ticket=null,this.reset()},n.prototype.reset=function(){this.BR=new t.gk,this.bk(this.BR.uk),this.Ek(this.BR)},n.prototype.bk=function(t){t.respFallbackN=0,t.respFallbackErrN=0,t.srcReqN=0,t.srcRespErrN=0,t.srcRespQt=0,t.srcOtherRespN=0,t.srcRespN=0,t.srcOverQt=0,t.p2pDirectQt=0,t.p2pNatQt=0,t.p2pUdpbQt=0,t.p2pRelayQt=0,t.p2pOutSiteLowPrio=0,t.respP2pN=0,t.p2pSubReqN=0,t.p2pSubRespErrN=0,t.p2pSubRespQt=0,t.p2pSubRespPartN=0},n.prototype.Ek=function(t){t.metrics.videoBufN=0,t.metrics.videoBufQt=0,t.metrics.clientBufferMs=0,t.player.bufferingN=0,t.player.bufferingMs=0},n.prototype.Ik=function(){var t=this,n=new hive.snapshots.MetricSnapshot;n.timestamp=s.Framework.time(),n.guid=this.sn,n.sessionId=this.ticket.sessionId,n.eventId=new EventId,n.eventId.partnerId=this.ticket.bn(),n.eventId.customerId=this.ticket.En(),n.eventId.contentId=this.ticket.es();try{var i=new hive.snapshots.ClientInfo;i.clientType=this.Rk();var r=this.app.version.split(".");i.majorVersion=parseInt(r[0]),i.minorVersion=parseInt(r[1]),i.patchVersion=parseInt(r[2]),n.client=i}catch(t){this.m.warn(e+" error setting Snapshot ClientInfo",t)}n.streamInfo=this.xR.kk(),n.traffic=[];var o=new hive.snapshots.TrafficKey;if(n.traffic.push({key:o,value:this.BR.uk}),this.BR.lk.forEach(function(t,e){var i=new hive.snapshots.TrafficKey;i.bitrate=e,n.traffic.push({key:i,value:t})}),n.metrics=this.BR.metrics,this.Tk&&(n.metrics.clientBufferMs=this.Tk.min()),n.player=this.BR.player,this.Ck){var a=this.Ck.getPartnerSnapshots();a.forEach(function(e,i){t.Ok(i,e,n)}),this.BR.fk.filter(function(t,e){return!a.has(e)}).forEach(function(e,i){t.Ok(i,e,n)})}return n.connInfo=new hive.snapshots.ConnectivityInfo,this.tn.Pn().then(function(e){return n.connInfo.privateIp=e.Nn().Bn(),t.Pk(n)}).fail(function(e){return t.Pk(n)})},n.prototype.Pk=function(t){return t.connInfo.internalAs=this.vk,t.connInfo.externalAs=this.yk,t.connInfo.publicIp=this.Ak,t},n.prototype.Rk=function(){var t;switch(this.app.app){case"JS":t=ClientType.Ff;break;case"PROXY":t=ClientType._f;break;default:t=ClientType.Bf}return t},n.prototype.Ok=function(t,e,n){var i=this.BR.dk.get(t);e.traffic=i,n.partners||(n.partners=[]);var r=new hive.snapshots.PartnerKey;r.partnerGuid=t,n.partners.push({key:r,value:e})},n.prototype.CR=function(t,e){t>0&&(this.BR.metrics.videoBufN++,this.BR.metrics.videoBufQt+=t,this.BR.player.bufferingN++,this.BR.player.bufferingMs+=t),this.BR.player.playerBufferMs=e},n.prototype.HR=function(){return this.BR.uk},n.prototype.Nk=function(){return this.Sk.uk},n.prototype.xk=function(t){return this.Sk.lk.has(t)||this.Sk.lk.set(t,new hive.snapshots.Traffic),this.Sk.lk.get(t)},n.prototype._R=function(t){if(!this.BR.lk.has(t)){var e=new hive.snapshots.Traffic;this.bk(e),this.BR.lk.set(t,e)}return this.BR.lk.get(t)},n.prototype.Bk=function(t,e){return e.dk.has(t)||e.dk.set(t,new hive.snapshots.PartnerTraffic),e.dk.get(t)},n.prototype.Fk=function(t){return this.Bk(t,this.BR)},n.prototype._k=function(t){return this.Bk(t,this.Sk)},n.prototype.Dk=function(t){this.tn=t},n.prototype.Hk=function(t){this.Ck=t},n.prototype.jn=function(t){},n}();t.zf=i;var l=function(){function t(){this.Lk=isNaN(p.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:p.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=h.Fo.Bo,this.client=s.Framework.resolve(a.gi.Be),this.Xa=new o.Ea,this.protocol=new o.$a(this.Xa)}return t.prototype.init=function(t,n){this.m=s.Framework.resolve(s.Framework.Fe.we).log(n),this.m.debug(e+" INIT CLIENT STATS"),this.Vf=t,this.Mk()},t.prototype.Mk=function(){var t=this;this.jk>-1&&s.Framework.clearInterval(this.jk),this.jk=s.Framework.setInterval(function(){t.Uk()},u.Kn.Jn.Po)},t.prototype.Ci=function(t){this.state=t},t.prototype.reset=function(){s.Framework.clearInterval(this.jk),this.Vf&&this.Vf.mk()},t.prototype.Uk=function(){var t=this;this.m.debug("[SNAP] TAKING SNAPSHOT"),this.Vf.Ik().then(function(e){return t.forward(e)}).fail(function(e){t.m.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)}).finally(function(){t.Vf.reset()})},t.prototype.forward=function(t){var n=this;if(this.state===h.Fo.IDLE)return void this.m.debug(e+" not send - state idle");if(this.client&&this.client.Xn()){switch(this.Lk){case 0:default:this.m.debug(e+" SENDING SNAPSHOT");break;case 1:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t));break;case 2:this.m.debug(e+" SENDING SNAPSHOT",t);break;case 3:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t),t)}this.protocol.pc("SNAPSHOT",o.Ls.Vs,0),t.write(this.protocol),this.protocol.dc();var i=this.Xa.Ha(),r=this.Vk(i,",",4),s=i.slice(r+1,i.length-1),a=new c.Zn(Services.to,1,s);this.client.Xn().send(a).fail(function(t){n.m.warn(e+" PROBLEM: ",t)})}},t.prototype.Vk=function(t,e,n){return t.split(e,n).join(e).length},t}();t.eo=l}(e.Stats||(e.Stats={}))},function(t,e,n){"use strict";var i=n(1),r=n(4),o=n(2),s=n(5),a=n(58),u=n(54),c=n(65),h=function(){function t(){this.Qk=null,this.qk=null,this.Jk=null,this.Kk=null,this.Gk=new r.ve,this.publicIp=null,this.zk=[],this._i=!1,this.Wk=null,this.m=o.Framework.resolve(o.Framework.Fe.we).log(),this.ik=o.Framework.resolve(s.gi.hi),this.$k=new u.hk,this.Yk=[],this.Xk()}return t.prototype.Xk=function(){var t=this;o.Framework.setInterval(function(){t.zk=[],t.Yk=[],t.Gk=new r.ve,t.publicIp=null,t.Zk=null},12e4)},t.prototype.Pn=function(){return this.Zk||(this.Zk=this.tC()),this.Zk},t.prototype.tC=function(){var t=this,e=i.defer();if(this.Wk=o.Framework.setTimeout(function(){e.reject({eC:!0,message:"expired"})},4e3),this.iC())try{this.Qk=new RTCPeerConnection(null),this.Jk=this.Qk.createDataChannel("sendChannel",{reliable:!1}),this.qk=new RTCPeerConnection(null),this.qk.ondatachannel=function(n){t.Kk=n.channel,t.Kk.onopen=function(n){"open"===t.Kk.readyState&&(t.m.debug("Collected ips ["+t.Gk.keys().join(", ")+"]"),t.qk.close(),t.$k.nk().then(function(e){t.Yk=e,t.m.debug("Already known matching ips ["+t.Yk.join(",")+"]");var n=t.Gk.keys();t.Yk.forEach(function(e){n.indexOf(e)>0&&(t.zk.push(e),t.Gk.delete(e))}),t.Gk.keys().forEach(function(e){t.zk.push(e)})}).fail(function(e){t.m.warn("Get Previous working ips failed with error "+e.message),t.Gk.keys().forEach(function(e){t.zk.push(e)})}).finally(function(){t.m.debug("Final private ip list ["+t.zk.join(",")+"]"),e.resolve(t.rC())}))}},this.Qk.onicecandidate=function(n){n.candidate&&t.zb(n.candidate.candidate),!n.candidate||t.qk.addIceCandidate(n.candidate).catch(function(n){e.reject({eC:!0,message:n.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.qk.onicecandidate=function(n){n.candidate&&t.zb(n.candidate.candidate),!n.candidate||t.Qk.addIceCandidate(n.candidate).catch(function(n){e.reject({eC:!0,message:n.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.Qk.createOffer().then(function(e){return t.Qk.setLocalDescription(e)}).then(function(){return t.qk.setRemoteDescription(t.Qk.localDescription)}).then(function(){return t.qk.createAnswer()}).then(function(e){return t.qk.setLocalDescription(e)}).then(function(){return t.Qk.setRemoteDescription(t.qk.localDescription)}).catch(function(n){e.reject({eC:!0,message:n.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure creating offer")})}catch(t){e.reject({eC:!0,message:t.message})}else o.Framework.clearTimeout(this.Wk),e.reject({eC:!1,message:"webrtc datachannel not supported"});return e.vt},t.prototype.iC=function(){try{return null!=c.Xe&&null!=c.nC&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(t){return!1}},t.prototype.zb=function(t){var e=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,n=e.exec(t);if(n){var i=n[0];this.Gk.set(i,!0)}},t.prototype.rC=function(){var t=new a.oC;return this.zk.length>0&&t.sC(this.zk[0]),this.publicIp&&t.aC(this.publicIp),this.ik.JR(t),this.ik},t.prototype.rk=function(t,e,n){if(this.publicIp=t,this.cC(),0===n&&this.zk.length>1)this.zk.shift();else if(0!==n&&-1==this.Yk.indexOf(this.zk[0]))this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2));else if(0!==n&&this.Yk.indexOf(this.zk[0])>0){var i=this.Yk.indexOf(this.zk[0]);this.Yk=this.Yk.splice(i,1),this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2))}this.rC()},t.prototype.cC=function(){var t=this.zk.indexOf(this.publicIp);t>-1&&this.zk.splice(t,1)},t}();e.MR=h},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.aC=function(t){this.publicIp=t},t.prototype.xn=function(){return this.publicIp},t.prototype.hC=function(t){this.pC=t},t.prototype.Ln=function(){return this.pC},t.prototype.uC=function(t){this.nic=t},t.prototype.Dn=function(){return this.nic},t.prototype.lC=function(t){this.nicName=t},t.prototype.Hn=function(){return this.nicName},t.prototype.sC=function(t){this.privateIp=t},t.prototype.Bn=function(){return this.privateIp},t.prototype.dC=function(t){this.netmask=t},t.prototype.fC=function(){return this.netmask},t.prototype.gC=function(t){this.vC=t},t.prototype._n=function(){return null},t}();e.oC=n},function(t,e){"use strict";var n=function(){function t(t,e,n){this.isLive=t,this.protocol=e,this.yC=n}return t.prototype.kk=function(){var t=new hive.snapshots.StreamInfo;return t.streamType=this.isLive?StreamType.LIVE:StreamType.Pf,t.streamProtocol=this.protocol,t.url=this.yC,t},t}();e.NR=n},function(t,e,n){"use strict";n(29);var i=n(1),r=n(4),o=r.ve,s=n(2),a=n(20),u=function(){function t(t){this.io=(new Date).getTime(),this.mC=t}return t}(),c=function(){function t(){this.wC=new o,this.m=(s.Framework.resolve(s.Framework.Fe.we)||console).log(),this.m.debug("INIT TICKET RESOLVER")}return t.prototype.resolve=function(t,e,n){var r=this,o=i.defer();return t&&(t.on(Services.kf,0,function(t){r.TC(t)}),t.on(Services.kf,2,function(t){r.TC(t)}),this.wC.set(e,new u(o))),o.vt},t.prototype.TC=function(t){var e=this,n=(new Date).getTime(),i=JSON.parse(t.msg),r=!1;this.wC.forEach(function(t,o){if(e.SC(o,i)){r=!0;var s=e.$l(o,i);s?(s.io=t.io,s.ro=n,t.mC.resolve(s)):t.mC.reject("Ticket verification failed"),e.wC.delete(s)}}),r||this.m.warn("no pending ticket matching: "+t.msg)},t.prototype.Go=function(t){if(new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?").test(t)){var e=this.bC();return e.Kh(t),e}return null},t.prototype.bC=function(){return new a.ap},t.prototype.SC=function(t,e){return t.bn()===e[a.ap.op]&&t.En()===e[a.ap.np]&&t.es()===e[a.ap.sp]},t.prototype.$l=function(t,e){return t.Uh(e),t.Qh()?t:null},t}();e.UR=c},function(t,e){"function"==typeof Object.create?t.t=function(t,e){t.EC=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,Ag:!1,Pg:!0,Ng:!0}})}:t.t=function(t,e){t.EC=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.t=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){function i(t,n){var i={IC:[],RC:o};return arguments.length>=3&&(i.kC=arguments[2]),arguments.length>=4&&(i.CC=arguments[3]),d(n)?i.OC=n:n&&e.PC(i,n),w(i.OC)&&(i.OC=!1),w(i.kC)&&(i.kC=2),w(i.CC)&&(i.CC=!1),w(i.AC)&&(i.AC=!0),i.CC&&(i.RC=r),a(i,t,i.kC)}function r(t,e){var n=i.NC[e];return n?"["+i.CC[n][0]+"m"+t+"["+i.CC[n][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,n,i){if(t.AC&&n&&k(n.gt)&&n.gt!==e.gt&&(!n.constructor||n.constructor.prototype!==n)){var r=n.gt(i,t);return m(r)||(r=a(t,r,i)),r}var o=u(t,n);if(o)return o;var d=Object.keys(n),v=s(d);if(t.OC&&(d=Object.getOwnPropertyNames(n)),T(n)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return c(n);if(0===d.length){if(k(n)){var g=n.name?": "+n.name:"";return t.RC("[Function"+g+"]","special")}if(E(n))return t.RC(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.RC(Date.prototype.toString.call(n),"date");if(T(n))return c(n)}var y="",b=!1,w=["{","}"];if(f(n)&&(b=!0,w=["[","]"]),k(n)){y=" [Function"+(n.name?": "+n.name:"")+"]"}if(E(n)&&(y=" "+RegExp.prototype.toString.call(n)),S(n)&&(y=" "+Date.prototype.toUTCString.call(n)),T(n)&&(y=" "+c(n)),0===d.length&&(!b||0==n.length))return w[0]+y+w[1];if(i<0)return E(n)?t.RC(RegExp.prototype.toString.call(n),"regexp"):t.RC("[Object]","special");t.IC.push(n);var O;return O=b?h(t,n,i,v,d):d.map(function(e){return p(t,n,i,v,e,b)}),t.IC.pop(),l(O,y,w)}function u(t,e){if(w(e))return t.RC("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.RC(n,"string")}return y(e)?t.RC(""+e,"number"):d(e)?t.RC(""+e,"boolean"):v(e)?t.RC("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(p(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(p(t,e,n,i,r,!0))}),o}function p(t,e,n,i,r,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},c.get?u=c.set?t.RC("[Getter/Setter]","special"):t.RC("[Getter]","special"):c.set&&(u=t.RC("[Setter]","special")),A(i,r)||(s="["+r+"]"),u||(t.IC.indexOf(c.value)<0?(u=v(n)?a(t,c.value,null):a(t,c.value,n-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.RC("[Circular]","special")),w(s)){if(o&&r.match(/^\d+$/))return u;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.RC(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.RC(s,"string"))}return s+": "+u}function l(t,e,n){var i=0;return t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function E(t){return O(t)&&"[object RegExp]"===R(t)}function O(t){return"object"==typeof t&&null!==t}function S(t){return O(t)&&"[object Date]"===R(t)}function T(t){return O(t)&&("[object Error]"===R(t)||t instanceof Error)}function k(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function R(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),j[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(N,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])s+=v(a)||!O(a)?" "+a:" "+i(a);return s},e.xC=function(t,n){function i(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}if(w(global.process))return function(){return e.xC(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var r=!1;return i};var x,_={};e.BC=function(t){if(w(x)&&(x=process.Ot.NODE_DEBUG||""),t=t.toUpperCase(),!_[t])if(new RegExp("\\b"+t+"\\b","i").test(x)){var n=process.pid;_[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else _[t]=function(){};return _[t]},e.gt=i,i.CC={bold:[1,22],FC:[3,23],_C:[4,24],inverse:[7,27],DC:[37,39],HC:[90,39],LC:[30,39],blue:[34,39],MC:[36,39],green:[32,39],jC:[35,39],red:[31,39],UC:[33,39]},i.NC={VC:"cyan",number:"yellow",QC:"yellow",undefined:"grey",qC:"bold",JC:"green",xT:"magenta",KC:"red"},e.isArray=f,e.Om=d,e.Am=v,e.ak=g,e.Nm=y,e.xm=m,e.GC=b,e.Bm=w,e.zC=E,e.ov=O,e.WC=S,e.$C=T,e.Pm=k,e.YC=C,e.isBuffer=n(62);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.qs=n(61),e.PC=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},function(t,e){(function(e){t.t=e}).call(e,{})},function(t,e,n){"use strict";!function(){var e=n(3),i=e.log,r=e.ri;t.t.ri=r,t.t.Xe=e.Xe,t.t.Ye=e.Ye;var o=n(66)||null,s=n(68)||null,a=n(70)||null,u=n(72)||null;switch(r.ti){case"chrome":if(!o||!o.XC)return void i("Chrome shim is not included in this adapter release.");i("adapter.js shimming chrome."),t.t.nC=o,o.ZC(),o.tO(),e.ei(),o.eO(),o.XC(),o.iO(),o.rO();break;case"firefox":if(!a||!a.XC)return void i("Firefox shim is not included in this adapter release.");i("adapter.js shimming firefox."),t.t.nC=a,a.ZC(),e.ei(),a.eO(),a.XC(),a.iO();break;case"edge":if(!s||!s.XC)return void i("MS edge shim is not included in this adapter release.");i("adapter.js shimming edge."),t.t.nC=s,s.ZC(),e.ei(),s.XC();break;case"safari":if(!u)return void i("Safari shim is not included in this adapter release.");i("adapter.js shimming safari."),t.t.nC=u,u.ZC();break;default:i("Unsupported browser!")}}()},function(t,e,n){"use strict";var i=n(3).log,r=n(3).ri,o={tO:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){var e=this;this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.addEventListener("addtrack",function(n){var i=new Event("track");i.track=n.track,i.receiver={track:n.track},i.sO=[t.stream],e.dispatchEvent(i)}),t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.sO=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},rO:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.aO};var t=RTCPeerConnection.prototype.addStream,e=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(e){var n=this;n.aO=n.aO||[],t.apply(n,[e]),e.getTracks().forEach(function(t){n.aO.push({track:t,get cO(){return void 0===this.hO&&("audio"===t.kind?this.hO=n.createDTMFSender(t):this.hO=null),this.hO}})})},RTCPeerConnection.prototype.removeStream=function(t){var n=this;n.aO=n.aO||[],e.apply(n,[t]),t.getTracks().forEach(function(t){var e=n.aO.find(function(e){return e.track===t});e&&n.aO.splice(n.aO.indexOf(e),1)})}}},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.pO},set:function(t){var e=this;return this.pO=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},XC:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){return i("PeerConnection"),t&&t.uO&&(t.lO=t.uO),new webkitRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,i){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var s=function(t){var e={};return t.result().forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:{dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),e[n.id]=n}),e},a=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(arguments.length>=2){var u=function(t){o[1](a(s(t)))};return t.apply(this,[u,arguments[0]])}return new Promise(function(e,n){t.apply(r,[function(t){e(a(s(t)))},n])}).then(n,i)},r.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=arguments,n=this,i=new Promise(function(i,r){e.apply(n,[t[0],i,r])});return t.length<2?i:i.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}}),r.version<52&&["createOffer","createAnswer"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,r){e.apply(t,[i,r,n])})}return e.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.t={tO:o.tO,iO:o.iO,rO:o.rO,eO:o.eO,XC:o.XC,ZC:n(67)}},function(t,e,n){"use strict";var i=n(3).log,r=n(3).ri;t.t=function(){var t=function(t){if("object"!=typeof t||t.gO||t.optional)return t;var e={};return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"==typeof t[n]?t[n]:{vO:t[n]};void 0!==i.yO&&"number"==typeof i.yO&&(i.min=i.max=i.yO);var r=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==i.vO){e.optional=e.optional||[];var o={};"number"==typeof i.vO?(o[r("min",n)]=i.vO,e.optional.push(o),o={},o[r("max",n)]=i.vO,e.optional.push(o)):(o[r("",n)]=i.vO,e.optional.push(o))}void 0!==i.yO&&"number"!=typeof i.yO?(e.gO=e.gO||{},e.gO[r("",n)]=i.yO):["min","max"].forEach(function(t){void 0!==i[t]&&(e.gO=e.gO||{},e.gO[r(t,n)]=i[t])})}}),t.mO&&(e.optional=(e.optional||[]).concat(t.mO)),e},e=function(e,n){if(e=JSON.parse(JSON.stringify(e)),e&&e.Mp&&(e.Mp=t(e.Mp)),e&&"object"==typeof e.video){var o=e.video.wO;o=o&&("object"==typeof o?o:{vO:o});var s=r.version<59;if(o&&("user"===o.yO||"environment"===o.yO||"user"===o.vO||"environment"===o.vO)&&(!navigator.mediaDevices.TO||!navigator.mediaDevices.TO().wO||s)&&(delete e.video.wO,"environment"===o.yO||"environment"===o.vO))return navigator.mediaDevices.SO().then(function(r){r=r.filter(function(t){return"videoinput"===t.kind});var s=r.find(function(t){return-1!==t.label.toLowerCase().indexOf("back")})||r.length&&r[r.length-1];return s&&(e.video.bO=o.yO?{yO:s.bO}:{vO:s.bO}),e.video=t(e.video),i("chrome: "+JSON.stringify(e)),n(e)});e.video=t(e.video)}return i("chrome: "+JSON.stringify(e)),n(e)},n=function(t){return{name:{EO:"NotAllowedError",IO:"OverconstrainedError"}[t.name]||t.name,message:t.message,RO:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(t,i,r){e(t,function(t){navigator.webkitGetUserMedia(t,i,function(t){r(n(t))})})};navigator.getUserMedia=o;var s=function(t){return new Promise(function(e,n){navigator.getUserMedia(t,e,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:s,SO:function(){return new Promise(function(t){var e={Mp:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){t(n.map(function(t){return{label:t.label,kind:e[t.kind],bO:t.id,kO:""}}))})})},TO:function(){return{bO:!0,CO:!0,wO:!0,OO:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t).then(function(e){if(t.Mp&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(n(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return s(t)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,n){"use strict";function i(t){var e=t.filter(function(t){return"audio"===t.kind}),n=t.filter(function(t){return"video"===t.kind});for(t=[];e.length||n.length;)e.length&&t.push(e.shift()),n.length&&t.push(n.shift());return t}function r(t){var e=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.PO||t.url)){var n=t.PO||t.url,i="string"==typeof n;return i&&(n=[n]),n=n.filter(function(t){return 0!==t.indexOf("turn:")||-1===t.indexOf("transport=udp")||-1!==t.indexOf("turn:[")||e?0===t.indexOf("stun:")&&s.version>=14393:(e=!0,!0)}),delete t.url,t.PO=i?n[0]:n,!!n.length}return!1})}var o=n(35),s=n(3).ri,a={XC:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t}),s.version<15025)){var t=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(e){t.set.call(this,e);var n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(t){var e=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]=n[t].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.AO=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.NO=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.xO=[],this.BO=[],this.getLocalStreams=function(){return e.xO},this.getRemoteStreams=function(){return e.BO},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.FO={_O:"all",iceServers:[]},t&&t.uO)switch(t.uO){case"all":case"relay":this.FO._O=t.uO}this.DO=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers&&(this.FO.iceServers=r(t.iceServers)),this.HO=t,this.LO=[],this.MO=[]},window.RTCPeerConnection.prototype.jO=function(){var t=new Event("icegatheringstatechange");this.dispatchEvent(t),null!==this.NO&&this.NO(t)},window.RTCPeerConnection.prototype.UO=function(){var t=this,e=o.Kb(t.localDescription.sdp);this.MO.forEach(function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)e[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n";else for(var i=1;i<e.length;i++)-1===e[i].indexOf("\r\na=end-of-candidates\r\n")&&(e[i]+="a=end-of-candidates\r\n");if(t.localDescription.sdp=e.join(""),t.dispatchEvent(n),null!==t.onicecandidate&&t.onicecandidate(n),!n.candidate&&"complete"!==t.iceGatheringState){t.LO.every(function(t){return t.YE&&"completed"===t.YE.state})&&"complete"!==t.iceGatheringStateChange&&(t.iceGatheringState="complete",t.jO())}}),this.MO=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.HO},window.RTCPeerConnection.prototype.addStream=function(t){if(s.version>=15025)this.xO.push(t);else{var e=t.clone();t.getTracks().forEach(function(t,n){var i=e.getTracks()[n];t.addEventListener("enabled",function(t){i.enabled=t.enabled})}),this.xO.push(e)}this.VO()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.xO.indexOf(t);e>-1&&(this.xO.splice(e,1),this.VO())},window.RTCPeerConnection.prototype.getSenders=function(){return this.LO.filter(function(t){return!!t.tI}).map(function(t){return t.tI})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.LO.filter(function(t){return!!t.eI}).map(function(t){return t.eI})},window.RTCPeerConnection.prototype.QO=function(t,e){var n={NE:[],xE:[],BE:[]},i=function(t,e){t=parseInt(t,10);for(var n=0;n<e.length;n++)if(e[n].oE===t||e[n].hE===t)return e[n]},r=function(t,e,n,r){var o=i(t.parameters.apt,n),s=i(e.parameters.apt,r);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return t.NE.forEach(function(i){for(var o=0;o<e.NE.length;o++){var s=e.NE[o];if(i.name.toLowerCase()===s.name.toLowerCase()&&i.sE===s.sE){if("rtx"===i.name.toLowerCase()&&i.parameters&&s.parameters.apt&&!r(i,s,t.NE,e.NE))continue;s=JSON.parse(JSON.stringify(s)),s.aE=Math.min(i.aE,s.aE),n.NE.push(s),s.yE=s.yE.filter(function(t){for(var e=0;e<i.yE.length;e++)if(i.yE[e].type===t.type&&i.yE[e].gE===t.gE)return!0;return!1});break}}}),t.xE.forEach(function(t){for(var i=0;i<e.xE.length;i++){var r=e.xE[i];if(t.uri===r.uri){n.xE.push(r);break}}}),n},window.RTCPeerConnection.prototype.qO=function(t,e){var n=this,i=new RTCIceGatherer(n.FO),r=new RTCIceTransport(i);i.JO=function(s){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:e};var u=s.candidate,c=!u||0===Object.keys(u).length;c?void 0===i.state&&(i.state="completed"):(u.$b="RTCP"===r.$b?2:1,a.candidate.candidate=o.iE(u));var h=o.Kb(n.localDescription.sdp);h[a.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",n.localDescription.sdp=h.join("");var p=n.KO?n.KO:n.LO,l=p.every(function(t){return t.YE&&"completed"===t.YE.state});switch(n.iceGatheringState){case"new":c||n.MO.push(a),c&&l&&n.MO.push(new Event("icecandidate"));break;case"gathering":n.UO(),c||(n.dispatchEvent(a),null!==n.onicecandidate&&n.onicecandidate(a)),l&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete",n.jO())}},r.GO=function(){n.zO()};var s=new RTCDtlsTransport(r);return s.WO=function(){n.zO()},s.onerror=function(){s.state="failed",n.zO()},{YE:i,$O:r,XE:s}},window.RTCPeerConnection.prototype.YO=function(t,e,n){var i=this.QO(t.XO,t.ZO);e&&t.tI&&(i.tP=t.iI,i.FE={qE:o.qb},t.eP.length&&(i.FE.wE=t.eP[0].wE),t.tI.send(i)),n&&t.eI&&("video"===t.kind&&t.eP&&s.version<15019&&t.eP.forEach(function(t){delete t.ME}),i.tP=t.eP,i.FE={qE:t.qE},t.iI.length&&(i.FE.wE=t.iI[0].wE),t.eI.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,n,i=this;if("offer"===t.type)this.KO&&(e=o.Kb(t.sdp),n=e.shift(),e.forEach(function(t,e){var n=o.AE(t);i.KO[e].XO=n}),this.LO=this.KO,delete this.KO);else if("answer"===t.type){e=o.Kb(i.remoteDescription.sdp),n=e.shift();var r=o.Gb(n,"a=ice-lite").length>0;e.forEach(function(t,e){var s=i.LO[e],a=s.YE,u=s.$O,c=s.XE,h=s.XO,p=s.ZO;if("0"!==t.split("\n",1)[0].split(" ",2)[1]&&!s.iP){var l=o.CE(t,n),f=o.EE(t,n);r&&(f.IE="server"),i.DO&&0!==e||(u.start(a,l,r?"controlling":"controlled"),c.start(f));var d=i.QO(h,p);i.YO(s,d.NE.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-local-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var s=arguments.length>1&&"function"==typeof arguments[1];if(s){var a=arguments[1];window.setTimeout(function(){a(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.jO()),i.UO()},0)}var u=Promise.resolve();return u.then(function(){s||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.jO()),window.setTimeout(i.UO.bind(i),500))}),u},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,n=new MediaStream,i=[],r=o.Kb(t.sdp),a=r.shift(),u=o.Gb(a,"a=ice-lite").length>0;switch(this.DO=o.Gb(a,"a=group:BUNDLE ").length>0,r.forEach(function(r,c){var h=o.Jb(r),p=h[0].substr(2).split(" "),l=p[0],f="0"===p[1],d=o.rI(r,a),v=o.Gb(r,"a=mid:");if(v=v.length?v[0].substr(6):o.Qb(),"application"===l&&"DTLS/SCTP"===p[2])return void(e.LO[c]={ZE:v,iP:!0});var g,y,m,b,w,E,O,S,T,k,C,R,I=o.AE(r);f||(C=o.CE(r,a),R=o.EE(r,a),R.IE="client"),S=o.HE(r);var P,A=o.Gb(r,"a=ssrc:").map(function(t){return o.mE(t)}).filter(function(t){return"cname"===t.TE})[0];A&&(P=A.value);var N=o.Gb(r,"a=end-of-candidates",a).length>0,x=o.Gb(r,"a=candidate:").map(function(t){return o.zb(t)}).filter(function(t){return"1"===t.$b});if("offer"!==t.type||f)"answer"!==t.type||f||(g=e.LO[c],y=g.YE,m=g.$O,b=g.XE,w=g.tI,E=g.eI,O=g.iI,T=g.XO,e.LO[c].eP=S,e.LO[c].ZO=I,e.LO[c].qE=P,(u||N)&&x.length&&m.setRemoteCandidates(x),e.DO&&0!==c||(m.start(y,C,"controlling"),b.start(R)),e.YO(g,"sendrecv"===d||"recvonly"===d,"sendrecv"===d||"sendonly"===d),!E||"sendrecv"!==d&&"sendonly"!==d?delete g.eI:(k=E.track,i.push([k,E]),n.addTrack(k)));else{var _=e.DO&&c>0?{YE:e.LO[0].YE,$O:e.LO[0].$O,XE:e.LO[0].XE}:e.qO(v,c);if(!N||e.DO&&0!==c||_.$O.setRemoteCandidates(x),T=RTCRtpReceiver.getCapabilities(l),s.version<15019&&(T.NE=T.NE.filter(function(t){return"rtx"!==t.name})),O=[{wE:1001*(2*c+2)}],"sendrecv"!==d&&"sendonly"!==d||(E=new RTCRtpReceiver(_.XE,l),k=E.track,i.push([k,E]),n.addTrack(k)),e.xO.length>0&&e.xO[0].getTracks().length>=c){var j;"audio"===l?j=e.xO[0].getAudioTracks()[0]:"video"===l&&(j=e.xO[0].getVideoTracks()[0]),j&&(s.version>=15019&&"video"===l&&(O[0].ME={wE:1001*(2*c+2)+1}),w=new RTCRtpSender(j,_.XE))}e.LO[c]={YE:_.YE,$O:_.$O,XE:_.XE,XO:T,ZO:I,tI:w,eI:E,kind:l,ZE:v,qE:P,iI:O,eP:S},e.YO(e.LO[c],!1,"sendrecv"===d||"sendonly"===d)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-remote-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return n.getTracks().length&&(e.BO.push(n),window.setTimeout(function(){var t=new Event("addstream");t.stream=n,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),i.forEach(function(t){var i=t[0],r=t[1],o=new Event("track");o.track=i,o.receiver=r,o.sO=[n],e.dispatchEvent(o),null!==e.AO&&window.setTimeout(function(){e.AO(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.LO.forEach(function(t){t.$O&&t.$O.stop(),t.XE&&t.XE.stop(),t.tI&&t.tI.stop(),t.eI&&t.eI.stop()}),this.rP("closed")},window.RTCPeerConnection.prototype.rP=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype.VO=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype.zO=function(){var t,e=this,n={nP:0,closed:0,oP:0,sP:0,connected:0,aP:0,_i:0};if(this.LO.forEach(function(t){n[t.$O.state]++,n[t.XE.state]++}),n.connected+=n.aP,t="new",n._i>0?t="failed":n.oP>0||n.sP>0?t="connecting":n.disconnected>0?t="disconnected":n.nP>0?t="new":(n.connected>0||n.aP>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var i=new Event("iceconnectionstatechange");this.dispatchEvent(i),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(i)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this.KO)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],r=0,a=0;if(this.xO.length&&(r=this.xO[0].getAudioTracks().length,a=this.xO[0].getVideoTracks().length),e){if(e.gO||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.cP&&(r=e.cP),void 0!==e.hP&&(a=e.hP)}for(this.xO.length&&this.xO[0].getTracks().forEach(function(t){n.push({kind:t.kind,track:t,pP:"audio"===t.kind?r>0:a>0}),"audio"===t.kind?r--:"video"===t.kind&&a--});r>0||a>0;)r>0&&(n.push({kind:"audio",pP:!0}),r--),a>0&&(n.push({kind:"video",pP:!0}),a--);n=i(n);var u=o.WE(),c=[];n.forEach(function(e,n){var i=e.track,r=e.kind,a=o.Qb(),u=t.DO&&n>0?{YE:c[0].YE,$O:c[0].$O,XE:c[0].XE}:t.qO(a,n),h=RTCRtpSender.getCapabilities(r);s.version<15019&&(h.NE=h.NE.filter(function(t){return"rtx"!==t.name})),h.NE.forEach(function(t){"H264"===t.name&&void 0===t.parameters.uP&&(t.parameters.uP="1")});var p,l,f=[{wE:1001*(2*n+1)}];i&&(s.version>=15019&&"video"===r&&(f[0].ME={wE:1001*(2*n+1)+1}),p=new RTCRtpSender(i,u.XE)),e.pP&&(l=new RTCRtpReceiver(u.XE,r)),c[n]={YE:u.YE,$O:u.$O,XE:u.XE,XO:h,ZO:null,tI:p,eI:l,kind:r,ZE:a,iI:f,eP:null}}),this.DO&&(u+="a=group:BUNDLE "+c.map(function(t){return t.ZE}).join(" ")+"\r\n"),n.forEach(function(e,n){var i=c[n];u+=o.$E(i,i.XO,"offer",t.xO[0])}),this.KO=c;var h=new RTCSessionDescription({type:"offer",sdp:u});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,h),Promise.resolve(h)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=o.WE();this.DO&&(e+="a=group:BUNDLE "+this.LO.map(function(t){return t.ZE}).join(" ")+"\r\n"),this.LO.forEach(function(n){if(n.iP)return void(e+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.ZE+"\r\n");var i=t.QO(n.XO,n.ZO);e+=o.$E(n,i,"answer",t.xO[0])});var n=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(t){var e=t.sdpMLineIndex;if(t.sdpMid)for(var n=0;n<this.LO.length;n++)if(this.LO[n].ZE===t.sdpMid){e=n;break}var i=this.LO[e];if(i){var r=Object.keys(t.candidate).length>0?o.zb(t.candidate):{};if("tcp"===r.protocol&&(0===r.port||9===r.port))return Promise.resolve();if("1"!==r.$b)return Promise.resolve();i.$O.addRemoteCandidate(r);var s=o.Kb(this.remoteDescription.sdp);s[e+1]+=(r.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var a=0;a<this.LO.length;a++)if(this.LO[a].$O.addRemoteCandidate({}),this.DO)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.LO.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){e[n]&&t.push(e[n].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],n=function(t){return{lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};return new Promise(function(i){var r=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){t[e].type=n(t[e]),r.set(e,t[e])})}),e&&window.setTimeout(e,0,r),i(r)})})}}};t.t={XC:a.XC,ZC:n(69)}},function(t,e){"use strict";t.t=function(){var t=function(t){return{name:{EO:"NotAllowedError"}[t.name]||t.name,message:t.message,RO:t.RO,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return e(n).catch(function(e){return Promise.reject(t(e))})}}},function(t,e,n){"use strict";var i=n(3).ri,r={iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.sO=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},XC:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(i.version<38&&t&&t.iceServers){for(var n=[],r=0;r<t.iceServers.length;r++){var o=t.iceServers[r];if(o.hasOwnProperty("urls"))for(var s=0;s<o.PO.length;s++){var a={url:o.PO[s]};0===o.PO[s].indexOf("turn")&&(a.username=o.username,a.gP=o.gP),n.push(a)}else n.push(t.iceServers[r])}t.iceServers=n}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n]),e[n]=t[n]}),e},n={lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"},r=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,o,s){return r.apply(this,[t||null]).then(function(t){if(i.version<48&&(t=e(t)),i.version<53&&!o)try{t.forEach(function(t){t.type=n[t.type]||t.type})}catch(e){if("TypeError"!==e.name)throw e;t.forEach(function(e,i){t.set(i,Object.assign({},e,{type:n[e.type]||e.type}))})}return t}).then(o,s)}}}};t.t={iO:r.iO,eO:r.eO,XC:r.XC,ZC:n(71)}},function(t,e,n){"use strict";var i=n(3).log,r=n(3).ri;t.t=function(){var t=function(t){return{name:{vP:"NotAllowedError",EO:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,RO:t.RO,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,n,o){var s=function(t){if("object"!=typeof t||t.yP)return t;var e=[];return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i=t[n]="object"==typeof t[n]?t[n]:{vO:t[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.yO||e.push(n),void 0!==i.yO&&("number"==typeof i.yO?i.min=i.max=i.yO:t[n]=i.yO,delete i.yO),void 0!==i.vO){t.mO=t.mO||[];var r={};"number"==typeof i.vO?r[n]={min:i.vO,max:i.vO}:r[n]=i.vO,t.mO.push(r),delete i.vO,Object.keys(i).length||delete t[n]}}}),e.length&&(t.yP=e),t};return e=JSON.parse(JSON.stringify(e)),r.version<38&&(i("spec: "+JSON.stringify(e)),e.Mp&&(e.Mp=s(e.Mp)),e.video&&(e.video=s(e.video)),i("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,n,function(e){o(t(e))})},n=function(t){return new Promise(function(n,i){e(t,n,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.SO=navigator.mediaDevices.SO||function(){return new Promise(function(t){t([{kind:"audioinput",bO:"default",label:"",kO:""},{kind:"videoinput",bO:"default",label:"",kO:""}])})},r.version<41){var o=navigator.mediaDevices.SO.bind(navigator.mediaDevices);navigator.mediaDevices.SO=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(r.version<49){var s=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return s(e).then(function(t){if(e.Mp&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(t){t.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,n,i){return r.version<44?e(t,n,i):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(n,i))}}},function(t,e){"use strict";var n={ZC:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(t,e,n){navigator.mediaDevices.getUserMedia(t).then(e,n)}.bind(navigator)))}};t.t={ZC:n.ZC}}])}]);